var vU=Object.defineProperty,mU=Object.defineProperties;var gU=Object.getOwnPropertyDescriptors;var Ig=Object.getOwnPropertySymbols;var L4=Object.prototype.hasOwnProperty,F4=Object.prototype.propertyIsEnumerable;var Sb=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),gn=Math.pow,wb=(e,t,r)=>t in e?vU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fi=(e,t)=>{for(var r in t||(t={}))L4.call(t,r)&&wb(e,r,t[r]);if(Ig)for(var r of Ig(t))F4.call(t,r)&&wb(e,r,t[r]);return e},Fr=(e,t)=>mU(e,gU(t));var D4=(e,t)=>{var r={};for(var n in e)L4.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ig)for(var n of Ig(e))t.indexOf(n)<0&&F4.call(e,n)&&(r[n]=e[n]);return r};var yU=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ei=(e,t,r)=>(wb(e,typeof t!="symbol"?t+"":t,r),r);var ci=(e,t,r)=>new Promise((n,d)=>{var S=i=>{try{g(r.next(i))}catch(o){d(o)}},s=i=>{try{g(r.throw(i))}catch(o){d(o)}},g=i=>i.done?n(i.value):Promise.resolve(i.value).then(S,s);g((r=r.apply(e,t)).next())}),xU=function(e,t){this[0]=e,this[1]=t};var Tb=e=>{var t=e[Sb("asyncIterator")],r=!1,n,d={};return t==null?(t=e[Sb("iterator")](),n=S=>d[S]=s=>t[S](s)):(t=t.call(e),n=S=>d[S]=s=>{if(r){if(r=!1,S==="throw")throw s;return s}return r=!0,{done:!1,value:new xU(new Promise(g=>{var i=t[S](s);if(!(i instanceof Object))throw TypeError("Object expected");g(i)}),1)}}),d[Sb("iterator")]=()=>d,n("next"),"throw"in t?n("throw"):d.throw=S=>{throw S},"return"in t&&n("return"),d};var EYt=yU((An,T1)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))n(d);new MutationObserver(d=>{for(const S of d)if(S.type==="childList")for(const s of S.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(d){const S={};return d.integrity&&(S.integrity=d.integrity),d.referrerPolicy&&(S.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?S.credentials="include":d.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function n(d){if(d.ep)return;d.ep=!0;const S=r(d);fetch(d.href,S)}})();var Bm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};function ks(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var d=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,d.get?d:{enumerable:!0,get:function(){return e[n]}})}),r}var vR={exports:{}},Om={},mR={exports:{}},cn={};var _4=Object.getOwnPropertySymbols,bU=Object.prototype.hasOwnProperty,SU=Object.prototype.propertyIsEnumerable;function wU(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function TU(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(S){return t[S]});if(n.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(S){d[S]=S}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch(S){return!1}}var Ny=TU()?Object.assign:function(e,t){for(var r,n=wU(e),d,S=1;S<arguments.length;S++){r=Object(arguments[S]);for(var s in r)bU.call(r,s)&&(n[s]=r[s]);if(_4){d=_4(r);for(var g=0;g<d.length;g++)SU.call(r,d[g])&&(n[d[g]]=r[d[g]])}}return n};const CU=ks(Ny);var HC=Ny,Gl=typeof Symbol=="function"&&Symbol.for,Nm=Gl?Symbol.for("react.element"):60103,EU=Gl?Symbol.for("react.portal"):60106,kU=Gl?Symbol.for("react.fragment"):60107,PU=Gl?Symbol.for("react.strict_mode"):60108,AU=Gl?Symbol.for("react.profiler"):60114,RU=Gl?Symbol.for("react.provider"):60109,IU=Gl?Symbol.for("react.context"):60110,MU=Gl?Symbol.for("react.forward_ref"):60112,BU=Gl?Symbol.for("react.suspense"):60113,OU=Gl?Symbol.for("react.memo"):60115,NU=Gl?Symbol.for("react.lazy"):60116,j4=typeof Symbol=="function"&&Symbol.iterator;function Lm(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yR={};function qf(e,t,r){this.props=e,this.context=t,this.refs=yR,this.updater=r||gR}qf.prototype.isReactComponent={};qf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Lm(85));this.updater.enqueueSetState(this,e,t,"setState")};qf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xR(){}xR.prototype=qf.prototype;function $C(e,t,r){this.props=e,this.context=t,this.refs=yR,this.updater=r||gR}var WC=$C.prototype=new xR;WC.constructor=$C;HC(WC,qf.prototype);WC.isPureReactComponent=!0;var VC={current:null},bR=Object.prototype.hasOwnProperty,SR={key:!0,ref:!0,__self:!0,__source:!0};function wR(e,t,r){var n,d={},S=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(S=""+t.key),t)bR.call(t,n)&&!SR.hasOwnProperty(n)&&(d[n]=t[n]);var g=arguments.length-2;if(g===1)d.children=r;else if(1<g){for(var i=Array(g),o=0;o<g;o++)i[o]=arguments[o+2];d.children=i}if(e&&e.defaultProps)for(n in g=e.defaultProps,g)d[n]===void 0&&(d[n]=g[n]);return{$$typeof:Nm,type:e,key:S,ref:s,props:d,_owner:VC.current}}function LU(e,t){return{$$typeof:Nm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function YC(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nm}function FU(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(r){return t[r]})}var TR=/\/+/g,C1=[];function CR(e,t,r,n){if(C1.length){var d=C1.pop();return d.result=e,d.keyPrefix=t,d.func=r,d.context=n,d.count=0,d}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function ER(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C1.length&&C1.push(e)}function bT(e,t,r,n){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var S=!1;if(e===null)S=!0;else switch(d){case"string":case"number":S=!0;break;case"object":switch(e.$$typeof){case Nm:case EU:S=!0}}if(S)return r(n,e,t===""?"."+Cb(e,0):t),1;if(S=0,t=t===""?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){d=e[s];var g=t+Cb(d,s);S+=bT(d,g,r,n)}else if(e===null||typeof e!="object"?g=null:(g=j4&&e[j4]||e["@@iterator"],g=typeof g=="function"?g:null),typeof g=="function")for(e=g.call(e),s=0;!(d=e.next()).done;)d=d.value,g=t+Cb(d,s++),S+=bT(d,g,r,n);else if(d==="object")throw r=""+e,Error(Lm(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return S}function ST(e,t,r){return e==null?0:bT(e,"",t,r)}function Cb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?FU(e.key):t.toString(36)}function DU(e,t){e.func.call(e.context,t,e.count++)}function _U(e,t,r){var n=e.result,d=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?wT(e,n,r,function(S){return S}):e!=null&&(YC(e)&&(e=LU(e,d+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(TR,"$&/")+"/")+r)),n.push(e))}function wT(e,t,r,n,d){var S="";r!=null&&(S=(""+r).replace(TR,"$&/")+"/"),t=CR(t,S,n,d),ST(e,_U,t),ER(t)}var kR={current:null};function ph(){var e=kR.current;if(e===null)throw Error(Lm(321));return e}var jU={ReactCurrentDispatcher:kR,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:VC,IsSomeRendererActing:{current:!1},assign:HC};cn.Children={map:function(e,t,r){if(e==null)return e;var n=[];return wT(e,n,null,t,r),n},forEach:function(e,t,r){if(e==null)return e;t=CR(null,null,t,r),ST(e,DU,t),ER(t)},count:function(e){return ST(e,function(){return null},null)},toArray:function(e){var t=[];return wT(e,t,null,function(r){return r}),t},only:function(e){if(!YC(e))throw Error(Lm(143));return e}};cn.Component=qf;cn.Fragment=kU;cn.Profiler=AU;cn.PureComponent=$C;cn.StrictMode=PU;cn.Suspense=BU;cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jU;cn.cloneElement=function(e,t,r){if(e==null)throw Error(Lm(267,e));var n=HC({},e.props),d=e.key,S=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(S=t.ref,s=VC.current),t.key!==void 0&&(d=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(i in t)bR.call(t,i)&&!SR.hasOwnProperty(i)&&(n[i]=t[i]===void 0&&g!==void 0?g[i]:t[i])}var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){g=Array(i);for(var o=0;o<i;o++)g[o]=arguments[o+2];n.children=g}return{$$typeof:Nm,type:e.type,key:d,ref:S,props:n,_owner:s}};cn.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:IU,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:RU,_context:e},e.Consumer=e};cn.createElement=wR;cn.createFactory=function(e){var t=wR.bind(null,e);return t.type=e,t};cn.createRef=function(){return{current:null}};cn.forwardRef=function(e){return{$$typeof:MU,render:e}};cn.isValidElement=YC;cn.lazy=function(e){return{$$typeof:NU,_ctor:e,_status:-1,_result:null}};cn.memo=function(e,t){return{$$typeof:OU,type:e,compare:t===void 0?null:t}};cn.useCallback=function(e,t){return ph().useCallback(e,t)};cn.useContext=function(e,t){return ph().useContext(e,t)};cn.useDebugValue=function(){};cn.useEffect=function(e,t){return ph().useEffect(e,t)};cn.useImperativeHandle=function(e,t,r){return ph().useImperativeHandle(e,t,r)};cn.useLayoutEffect=function(e,t){return ph().useLayoutEffect(e,t)};cn.useMemo=function(e,t){return ph().useMemo(e,t)};cn.useReducer=function(e,t,r){return ph().useReducer(e,t,r)};cn.useRef=function(e){return ph().useRef(e)};cn.useState=function(e){return ph().useState(e)};cn.version="16.14.0";mR.exports=cn;var _i=mR.exports;const ti=ks(_i);var zU=_i,PR=60103;Om.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var z4=Symbol.for;PR=z4("react.element"),Om.Fragment=z4("react.fragment")}var UU=zU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GU=Object.prototype.hasOwnProperty,HU={key:!0,ref:!0,__self:!0,__source:!0};function AR(e,t,r){var n,d={},S=null,s=null;r!==void 0&&(S=""+r),t.key!==void 0&&(S=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)GU.call(t,n)&&!HU.hasOwnProperty(n)&&(d[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)d[n]===void 0&&(d[n]=t[n]);return{$$typeof:PR,type:e,key:S,ref:s,props:d,_owner:UU.current}}Om.jsx=AR;Om.jsxs=AR;vR.exports=Om;var R=vR.exports,RR={exports:{}},el={},IR={exports:{}},MR={};(function(e){var t,r,n,d,S;if(typeof window=="undefined"||typeof MessageChannel!="function"){var s=null,g=null,i=function(){if(s!==null)try{var F=e.unstable_now();s(!0,F),s=null}catch(N){throw setTimeout(i,0),N}},o=Date.now();e.unstable_now=function(){return Date.now()-o},t=function(F){s!==null?setTimeout(t,0,F):(s=F,setTimeout(i,0))},r=function(F,N){g=setTimeout(F,N)},n=function(){clearTimeout(g)},d=function(){return!1},S=e.unstable_forceFrameRate=function(){}}else{var m=window.performance,c=window.Date,l=window.setTimeout,h=window.clearTimeout;if(typeof console!="undefined"){var a=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof a!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof m=="object"&&typeof m.now=="function")e.unstable_now=function(){return m.now()};else{var f=c.now();e.unstable_now=function(){return c.now()-f}}var p=!1,u=null,v=-1,y=5,x=0;d=function(){return e.unstable_now()>=x},S=function(){},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):y=0<F?Math.floor(1e3/F):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(u!==null){var F=e.unstable_now();x=F+y;try{u(!0,F)?w.postMessage(null):(p=!1,u=null)}catch(N){throw w.postMessage(null),N}}else p=!1},t=function(F){u=F,p||(p=!0,w.postMessage(null))},r=function(F,N){v=l(function(){F(e.unstable_now())},N)},n=function(){h(v),v=-1}}function C(F,N){var j=F.length;F.push(N);t:for(;;){var U=j-1>>>1,V=F[U];if(V!==void 0&&0<k(V,N))F[U]=N,F[j]=V,j=U;else break t}}function E(F){return F=F[0],F===void 0?null:F}function T(F){var N=F[0];if(N!==void 0){var j=F.pop();if(j!==N){F[0]=j;t:for(var U=0,V=F.length;U<V;){var q=2*(U+1)-1,ot=F[q],Q=q+1,rt=F[Q];if(ot!==void 0&&0>k(ot,j))rt!==void 0&&0>k(rt,ot)?(F[U]=rt,F[Q]=j,U=Q):(F[U]=ot,F[q]=j,U=q);else if(rt!==void 0&&0>k(rt,j))F[U]=rt,F[Q]=j,U=Q;else break t}}return N}return null}function k(F,N){var j=F.sortIndex-N.sortIndex;return j!==0?j:F.id-N.id}var A=[],I=[],B=1,M=null,O=3,P=!1,L=!1,_=!1;function G(F){for(var N=E(I);N!==null;){if(N.callback===null)T(I);else if(N.startTime<=F)T(I),N.sortIndex=N.expirationTime,C(A,N);else break;N=E(I)}}function $(F){if(_=!1,G(F),!L)if(E(A)!==null)L=!0,t(W);else{var N=E(I);N!==null&&r($,N.startTime-F)}}function W(F,N){L=!1,_&&(_=!1,n()),P=!0;var j=O;try{for(G(N),M=E(A);M!==null&&(!(M.expirationTime>N)||F&&!d());){var U=M.callback;if(U!==null){M.callback=null,O=M.priorityLevel;var V=U(M.expirationTime<=N);N=e.unstable_now(),typeof V=="function"?M.callback=V:M===E(A)&&T(A),G(N)}else T(A);M=E(A)}if(M!==null)var q=!0;else{var ot=E(I);ot!==null&&r($,ot.startTime-N),q=!1}return q}finally{M=null,O=j,P=!1}}function Y(F){switch(F){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=S;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){L||P||(L=!0,t(W))},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return E(A)},e.unstable_next=function(F){switch(O){case 1:case 2:case 3:var N=3;break;default:N=O}var j=O;O=N;try{return F()}finally{O=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=z,e.unstable_runWithPriority=function(F,N){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var j=O;O=F;try{return N()}finally{O=j}},e.unstable_scheduleCallback=function(F,N,j){var U=e.unstable_now();if(typeof j=="object"&&j!==null){var V=j.delay;V=typeof V=="number"&&0<V?U+V:U,j=typeof j.timeout=="number"?j.timeout:Y(F)}else j=Y(F),V=U;return j=V+j,F={id:B++,callback:N,priorityLevel:F,startTime:V,expirationTime:j,sortIndex:-1},V>U?(F.sortIndex=V,C(I,F),E(A)===null&&F===E(I)&&(_?n():_=!0,r($,V-U))):(F.sortIndex=j,C(A,F),L||P||(L=!0,t(W))),F},e.unstable_shouldYield=function(){var F=e.unstable_now();G(F);var N=E(A);return N!==M&&M!==null&&N!==null&&N.callback!==null&&N.startTime<=F&&N.expirationTime<M.expirationTime||d()},e.unstable_wrapCallback=function(F){var N=O;return function(){var j=O;O=N;try{return F.apply(this,arguments)}finally{O=j}}}})(MR);IR.exports=MR;var $U=IR.exports;var Ly=_i,La=Ny,na=$U;function gi(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Ly)throw Error(gi(227));function WU(e,t,r,n,d,S,s,g,i){var o=Array.prototype.slice.call(arguments,3);try{t.apply(r,o)}catch(m){this.onError(m)}}var Ev=!1,E1=null,k1=!1,TT=null,VU={onError:function(e){Ev=!0,E1=e}};function YU(e,t,r,n,d,S,s,g,i){Ev=!1,E1=null,WU.apply(VU,arguments)}function XU(e,t,r,n,d,S,s,g,i){if(YU.apply(this,arguments),Ev){if(Ev){var o=E1;Ev=!1,E1=null}else throw Error(gi(198));k1||(k1=!0,TT=o)}}var XC=null,BR=null,OR=null;function U4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=OR(r),XU(n,t,void 0,e),e.currentTarget=null}var P1=null,uf={};function NR(){if(P1)for(var e in uf){var t=uf[e],r=P1.indexOf(e);if(!(-1<r))throw Error(gi(96,e));if(!A1[r]){if(!t.extractEvents)throw Error(gi(97,e));A1[r]=t,r=t.eventTypes;for(var n in r){var d=void 0,S=r[n],s=t,g=n;if(CT.hasOwnProperty(g))throw Error(gi(99,g));CT[g]=S;var i=S.phasedRegistrationNames;if(i){for(d in i)i.hasOwnProperty(d)&&G4(i[d],s,g);d=!0}else S.registrationName?(G4(S.registrationName,s,g),d=!0):d=!1;if(!d)throw Error(gi(98,n,e))}}}}function G4(e,t,r){if(Bf[e])throw Error(gi(100,e));Bf[e]=t,QC[e]=t.eventTypes[r].dependencies}var A1=[],CT={},Bf={},QC={};function LR(e){var t=!1,r;for(r in e)if(e.hasOwnProperty(r)){var n=e[r];if(!uf.hasOwnProperty(r)||uf[r]!==n){if(uf[r])throw Error(gi(102,r));uf[r]=n,t=!0}}t&&NR()}var bc=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ET=null,gf=null,yf=null;function H4(e){if(e=BR(e)){if(typeof ET!="function")throw Error(gi(280));var t=e.stateNode;t&&(t=XC(t),ET(e.stateNode,e.type,t))}}function FR(e){gf?yf?yf.push(e):yf=[e]:gf=e}function DR(){if(gf){var e=gf,t=yf;if(yf=gf=null,H4(e),t)for(e=0;e<t.length;e++)H4(t[e])}}function KC(e,t){return e(t)}function _R(e,t,r,n,d){return e(t,r,n,d)}function JC(){}var jR=KC,qc=!1,Eb=!1;function ZC(){(gf!==null||yf!==null)&&(JC(),DR())}function zR(e,t,r){if(Eb)return e(t,r);Eb=!0;try{return jR(e,t,r)}finally{Eb=!1,ZC()}}var QU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$4=Object.prototype.hasOwnProperty,W4={},V4={};function KU(e){return $4.call(V4,e)?!0:$4.call(W4,e)?!1:QU.test(e)?V4[e]=!0:(W4[e]=!0,!1)}function JU(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZU(e,t,r,n){if(t===null||typeof t=="undefined"||JU(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Da(e,t,r,n,d,S){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=d,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=S}var sa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sa[e]=new Da(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sa[t]=new Da(t,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sa[e]=new Da(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sa[e]=new Da(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sa[e]=new Da(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){sa[e]=new Da(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){sa[e]=new Da(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){sa[e]=new Da(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){sa[e]=new Da(e,5,!1,e.toLowerCase(),null,!1)});var qC=/[\-:]([a-z])/g;function t3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qC,t3);sa[t]=new Da(t,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qC,t3);sa[t]=new Da(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qC,t3);sa[t]=new Da(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){sa[e]=new Da(e,1,!1,e.toLowerCase(),null,!1)});sa.xlinkHref=new Da("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){sa[e]=new Da(e,1,!1,e.toLowerCase(),null,!0)});var Fl=Ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Fl.hasOwnProperty("ReactCurrentDispatcher")||(Fl.ReactCurrentDispatcher={current:null});Fl.hasOwnProperty("ReactCurrentBatchConfig")||(Fl.ReactCurrentBatchConfig={suspense:null});function e3(e,t,r,n){var d=sa.hasOwnProperty(t)?sa[t]:null,S=d!==null?d.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");S||(ZU(t,r,d,n)&&(r=null),n||d===null?KU(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):d.mustUseProperty?e[d.propertyName]=r===null?d.type===3?!1:"":r:(t=d.attributeName,n=d.attributeNamespace,r===null?e.removeAttribute(t):(d=d.type,r=d===3||d===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var qU=/^(.*)[\\\/]/,ho=typeof Symbol=="function"&&Symbol.for,Mg=ho?Symbol.for("react.element"):60103,hf=ho?Symbol.for("react.portal"):60106,Yc=ho?Symbol.for("react.fragment"):60107,UR=ho?Symbol.for("react.strict_mode"):60108,M0=ho?Symbol.for("react.profiler"):60114,GR=ho?Symbol.for("react.provider"):60109,HR=ho?Symbol.for("react.context"):60110,tG=ho?Symbol.for("react.concurrent_mode"):60111,i3=ho?Symbol.for("react.forward_ref"):60112,B0=ho?Symbol.for("react.suspense"):60113,kT=ho?Symbol.for("react.suspense_list"):60120,r3=ho?Symbol.for("react.memo"):60115,$R=ho?Symbol.for("react.lazy"):60116,WR=ho?Symbol.for("react.block"):60121,Y4=typeof Symbol=="function"&&Symbol.iterator;function Np(e){return e===null||typeof e!="object"?null:(e=Y4&&e[Y4]||e["@@iterator"],typeof e=="function"?e:null)}function eG(e){if(e._status===-1){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}}function oh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yc:return"Fragment";case hf:return"Portal";case M0:return"Profiler";case UR:return"StrictMode";case B0:return"Suspense";case kT:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HR:return"Context.Consumer";case GR:return"Context.Provider";case i3:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case r3:return oh(e.type);case WR:return oh(e.render);case $R:if(e=e._status===1?e._result:null)return oh(e)}return null}function n3(e){var t="";do{t:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break t;default:var n=e._debugOwner,d=e._debugSource,S=oh(e.type);r=null,n&&(r=oh(n.type)),n=S,S="",d?S=" (at "+d.fileName.replace(qU,"")+":"+d.lineNumber+")":r&&(S=" (created by "+r+")"),r=`
    in `+(n||"Unknown")+S}t+=r,e=e.return}while(e);return t}function lc(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function VR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iG(e){var t=VR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,S=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(s){n=""+s,S.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bg(e){e._valueTracker||(e._valueTracker=iG(e))}function YR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=VR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function PT(e,t){var r=t.checked;return La({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function X4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=lc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function XR(e,t){t=t.checked,t!=null&&e3(e,"checked",t,!1)}function AT(e,t){XR(e,t);var r=lc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?RT(e,t.type,r):t.hasOwnProperty("defaultValue")&&RT(e,t.type,lc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Q4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function RT(e,t,r){(t!=="number"||e.ownerDocument.activeElement!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function rG(e){var t="";return Ly.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function IT(e,t){return e=La({children:void 0},t),(t=rG(t.children))&&(e.children=t),e}function xf(e,t,r,n){if(e=e.options,t){t={};for(var d=0;d<r.length;d++)t["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=t.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lc(r),t=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,n&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function MT(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(gi(91));return La({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function K4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(gi(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(gi(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:lc(r)}}function QR(e,t){var r=lc(t.value),n=lc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function J4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var KR={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function JR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function BT(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?JR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Og,ZR=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,d){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,d)})}:e}(function(e,t){if(e.namespaceURI!==KR.svg||"innerHTML"in e)e.innerHTML=t;else{for(Og=Og||document.createElement("div"),Og.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Og.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}function Ng(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var cf={animationend:Ng("Animation","AnimationEnd"),animationiteration:Ng("Animation","AnimationIteration"),animationstart:Ng("Animation","AnimationStart"),transitionend:Ng("Transition","TransitionEnd")},kb={},qR={};bc&&(qR=document.createElement("div").style,"AnimationEvent"in window||(delete cf.animationend.animation,delete cf.animationiteration.animation,delete cf.animationstart.animation),"TransitionEvent"in window||delete cf.transitionend.transition);function Fy(e){if(kb[e])return kb[e];if(!cf[e])return e;var t=cf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in qR)return kb[e]=t[r];return e}var tI=Fy("animationend"),eI=Fy("animationiteration"),iI=Fy("animationstart"),rI=Fy("transitionend"),vv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z4=new(typeof WeakMap=="function"?WeakMap:Map);function s3(e){var t=Z4.get(e);return t===void 0&&(t=new Map,Z4.set(e,t)),t}function kd(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.effectTag&1026&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function nI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function q4(e){if(kd(e)!==e)throw Error(gi(188))}function nG(e){var t=e.alternate;if(!t){if(t=kd(e),t===null)throw Error(gi(188));return t!==e?null:e}for(var r=e,n=t;;){var d=r.return;if(d===null)break;var S=d.alternate;if(S===null){if(n=d.return,n!==null){r=n;continue}break}if(d.child===S.child){for(S=d.child;S;){if(S===r)return q4(d),e;if(S===n)return q4(d),t;S=S.sibling}throw Error(gi(188))}if(r.return!==n.return)r=d,n=S;else{for(var s=!1,g=d.child;g;){if(g===r){s=!0,r=d,n=S;break}if(g===n){s=!0,n=d,r=S;break}g=g.sibling}if(!s){for(g=S.child;g;){if(g===r){s=!0,r=S,n=d;break}if(g===n){s=!0,n=S,r=d;break}g=g.sibling}if(!s)throw Error(gi(189))}}if(r.alternate!==n)throw Error(gi(190))}if(r.tag!==3)throw Error(gi(188));return r.stateNode.current===r?e:t}function sI(e){if(e=nG(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Of(e,t){if(t==null)throw Error(gi(30));return e==null?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function a3(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var Lp=null;function sG(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)U4(e,t[n],r[n]);else t&&U4(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function Dy(e){if(e!==null&&(Lp=Of(Lp,e)),e=Lp,Lp=null,e){if(a3(e,sG),Lp)throw Error(gi(95));if(k1)throw e=TT,k1=!1,TT=null,e}}function o3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}function aI(e){if(!bc)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t=typeof t[e]=="function"),t}var R1=[];function oI(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>R1.length&&R1.push(e)}function lI(e,t,r,n){if(R1.length){var d=R1.pop();return d.topLevelType=e,d.eventSystemFlags=n,d.nativeEvent=t,d.targetInst=r,d}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function uI(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(n.tag===3)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=n.tag!==3?null:n.stateNode.containerInfo}if(!n)break;t=r.tag,t!==5&&t!==6||e.ancestors.push(r),r=Dm(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var d=o3(e.nativeEvent);n=e.topLevelType;var S=e.nativeEvent,s=e.eventSystemFlags;r===0&&(s|=64);for(var g=null,i=0;i<A1.length;i++){var o=A1[i];o&&(o=o.extractEvents(n,t,S,d,s))&&(g=Of(g,o))}Dy(g)}}function OT(e,t,r){if(!r.has(e)){switch(e){case"scroll":mv(t,"scroll",!0);break;case"focus":case"blur":mv(t,"focus",!0),mv(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":aI(e)&&mv(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:vv.indexOf(e)===-1&&ts(e,t)}r.set(e,null)}}var hI,l3,cI,NT=!1,vu=[],Zh=null,qh=null,tc=null,em=new Map,im=new Map,Fp=[],LT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),aG="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function oG(e,t){var r=s3(t);LT.forEach(function(n){OT(n,t,r)}),aG.forEach(function(n){OT(n,t,r)})}function FT(e,t,r,n,d){return{blockedOn:e,topLevelType:t,eventSystemFlags:r|32,nativeEvent:d,container:n}}function tk(e,t){switch(e){case"focus":case"blur":Zh=null;break;case"dragenter":case"dragleave":qh=null;break;case"mouseover":case"mouseout":tc=null;break;case"pointerover":case"pointerout":em.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":im.delete(t.pointerId)}}function Dp(e,t,r,n,d,S){return e===null||e.nativeEvent!==S?(e=FT(t,r,n,d,S),t!==null&&(t=_m(t),t!==null&&l3(t)),e):(e.eventSystemFlags|=n,e)}function lG(e,t,r,n,d){switch(t){case"focus":return Zh=Dp(Zh,e,t,r,n,d),!0;case"dragenter":return qh=Dp(qh,e,t,r,n,d),!0;case"mouseover":return tc=Dp(tc,e,t,r,n,d),!0;case"pointerover":var S=d.pointerId;return em.set(S,Dp(em.get(S)||null,e,t,r,n,d)),!0;case"gotpointercapture":return S=d.pointerId,im.set(S,Dp(im.get(S)||null,e,t,r,n,d)),!0}return!1}function uG(e){var t=Dm(e.target);if(t!==null){var r=kd(t);if(r!==null){if(t=r.tag,t===13){if(t=nI(r),t!==null){e.blockedOn=t,na.unstable_runWithPriority(e.priority,function(){cI(r)});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function O0(e){if(e.blockedOn!==null)return!1;var t=c3(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(t!==null){var r=_m(t);return r!==null&&l3(r),e.blockedOn=t,!1}return!0}function ek(e,t,r){O0(e)&&r.delete(t)}function hG(){for(NT=!1;0<vu.length;){var e=vu[0];if(e.blockedOn!==null){e=_m(e.blockedOn),e!==null&&hI(e);break}var t=c3(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);t!==null?e.blockedOn=t:vu.shift()}Zh!==null&&O0(Zh)&&(Zh=null),qh!==null&&O0(qh)&&(qh=null),tc!==null&&O0(tc)&&(tc=null),em.forEach(ek),im.forEach(ek)}function _p(e,t){e.blockedOn===t&&(e.blockedOn=null,NT||(NT=!0,na.unstable_scheduleCallback(na.unstable_NormalPriority,hG)))}function dI(e){function t(d){return _p(d,e)}if(0<vu.length){_p(vu[0],e);for(var r=1;r<vu.length;r++){var n=vu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Zh!==null&&_p(Zh,e),qh!==null&&_p(qh,e),tc!==null&&_p(tc,e),em.forEach(t),im.forEach(t),r=0;r<Fp.length;r++)n=Fp[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Fp.length&&(r=Fp[0],r.blockedOn===null);)uG(r),r.blockedOn===null&&Fp.shift()}var fI={},pI=new Map,u3=new Map,cG=["abort","abort",tI,"animationEnd",eI,"animationIteration",iI,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",rI,"transitionEnd","waiting","waiting"];function h3(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],d=e[r+1],S="on"+(d[0].toUpperCase()+d.slice(1));S={phasedRegistrationNames:{bubbled:S,captured:S+"Capture"},dependencies:[n],eventPriority:t},u3.set(n,t),pI.set(n,S),fI[d]=S}}h3("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);h3("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);h3(cG,2);for(var ik="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Pb=0;Pb<ik.length;Pb++)u3.set(ik[Pb],0);var dG=na.unstable_UserBlockingPriority,fG=na.unstable_runWithPriority,N0=!0;function ts(e,t){mv(t,e,!1)}function mv(e,t,r){var n=u3.get(t);switch(n===void 0?2:n){case 0:n=pG.bind(null,t,1,e);break;case 1:n=vG.bind(null,t,1,e);break;default:n=_y.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function pG(e,t,r,n){qc||JC();var d=_y,S=qc;qc=!0;try{_R(d,e,t,r,n)}finally{(qc=S)||ZC()}}function vG(e,t,r,n){fG(dG,_y.bind(null,e,t,r,n))}function _y(e,t,r,n){if(N0)if(0<vu.length&&-1<LT.indexOf(e))e=FT(null,e,t,r,n),vu.push(e);else{var d=c3(e,t,r,n);if(d===null)tk(e,n);else if(-1<LT.indexOf(e))e=FT(d,e,t,r,n),vu.push(e);else if(!lG(d,e,t,r,n)){tk(e,n),e=lI(e,n,null,t);try{zR(uI,e)}finally{oI(e)}}}}function c3(e,t,r,n){if(r=o3(n),r=Dm(r),r!==null){var d=kd(r);if(d===null)r=null;else{var S=d.tag;if(S===13){if(r=nI(d),r!==null)return r;r=null}else if(S===3){if(d.stateNode.hydrate)return d.tag===3?d.stateNode.containerInfo:null;r=null}else d!==r&&(r=null)}}e=lI(e,n,r,t);try{zR(uI,e)}finally{oI(e)}return null}var kv={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mG=["Webkit","ms","Moz","O"];Object.keys(kv).forEach(function(e){mG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kv[t]=kv[e]})});function vI(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||kv.hasOwnProperty(e)&&kv[e]?(""+t).trim():t+"px"}function mI(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,d=vI(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,d):e[r]=d}}var gG=La({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DT(e,t){if(t){if(gG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(gi(137,e,""));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(gi(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(gi(61))}if(t.style!=null&&typeof t.style!="object")throw Error(gi(62,""))}}function _T(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rk=KR.html;function Gu(e,t){e=e.nodeType===9||e.nodeType===11?e:e.ownerDocument;var r=s3(e);t=QC[t];for(var n=0;n<t.length;n++)OT(t[n],e,r)}function I1(){}function jT(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function nk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sk(e,t){var r=nk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=nk(r)}}function gI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ak(){for(var e=window,t=jT();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=jT(e.document)}return t}function zT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yI="$",xI="/$",d3="$?",f3="$!",Ab=null,Rb=null;function bI(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function UT(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ib=typeof setTimeout=="function"?setTimeout:void 0,yG=typeof clearTimeout=="function"?clearTimeout:void 0;function bf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function ok(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r===yI||r===f3||r===d3){if(t===0)return e;t--}else r===xI&&t++}e=e.previousSibling}return null}var p3=Math.random().toString(36).slice(2),Uh="__reactInternalInstance$"+p3,M1="__reactEventHandlers$"+p3,Fm="__reactContainere$"+p3;function Dm(e){var t=e[Uh];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fm]||r[Uh]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ok(e);e!==null;){if(r=e[Uh])return r;e=ok(e)}return t}e=r,r=e.parentNode}return null}function _m(e){return e=e[Uh]||e[Fm],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(gi(33))}function v3(e){return e[M1]||null}function Hu(e){do e=e.return;while(e&&e.tag!==5);return e||null}function SI(e,t){var r=e.stateNode;if(!r)return null;var n=XC(r);if(!n)return null;r=n[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(gi(231,t,typeof r));return r}function lk(e,t,r){(t=SI(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=Of(r._dispatchListeners,t),r._dispatchInstances=Of(r._dispatchInstances,e))}function xG(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Hu(t);for(t=r.length;0<t--;)lk(r[t],"captured",e);for(t=0;t<r.length;t++)lk(r[t],"bubbled",e)}}function GT(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=SI(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=Of(r._dispatchListeners,t),r._dispatchInstances=Of(r._dispatchInstances,e))}function bG(e){e&&e.dispatchConfig.registrationName&&GT(e._targetInst,null,e)}function Nf(e){a3(e,xG)}var Gh=null,m3=null,L0=null;function wI(){if(L0)return L0;var e,t=m3,r=t.length,n,d="value"in Gh?Gh.value:Gh.textContent,S=d.length;for(e=0;e<r&&t[e]===d[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===d[S-n];n++);return L0=d.slice(e,1<n?1-n:void 0)}function F0(){return!0}function B1(){return!1}function Ao(e,t,r,n){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface;for(var d in e)e.hasOwnProperty(d)&&((t=e[d])?this[d]=t(r):d==="target"?this.target=n:this[d]=r[d]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?F0:B1,this.isPropagationStopped=B1,this}La(Ao.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=F0)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=F0)},persist:function(){this.isPersistent=F0},isPersistent:B1,destructor:function(){var e=this.constructor.Interface,t;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=B1,this._dispatchInstances=this._dispatchListeners=null}});Ao.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};Ao.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var d=new t;return La(d,r.prototype),r.prototype=d,r.prototype.constructor=r,r.Interface=La({},n.Interface,e),r.extend=n.extend,TI(r),r};TI(Ao);function SG(e,t,r,n){if(this.eventPool.length){var d=this.eventPool.pop();return this.call(d,e,t,r,n),d}return new this(e,t,r,n)}function wG(e){if(!(e instanceof this))throw Error(gi(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function TI(e){e.eventPool=[],e.getPooled=SG,e.release=wG}var TG=Ao.extend({data:null}),CG=Ao.extend({data:null}),EG=[9,13,27,32],g3=bc&&"CompositionEvent"in window,Pv=null;bc&&"documentMode"in document&&(Pv=document.documentMode);var kG=bc&&"TextEvent"in window&&!Pv,CI=bc&&(!g3||Pv&&8<Pv&&11>=Pv),uk=" ",Lu={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},hk=!1;function EI(e,t){switch(e){case"keyup":return EG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function kI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var df=!1;function PG(e,t){switch(e){case"compositionend":return kI(t);case"keypress":return t.which!==32?null:(hk=!0,uk);case"textInput":return e=t.data,e===uk&&hk?null:e;default:return null}}function AG(e,t){if(df)return e==="compositionend"||!g3&&EI(e,t)?(e=wI(),L0=m3=Gh=null,df=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return CI&&t.locale!=="ko"?null:t.data;default:return null}}var RG={eventTypes:Lu,extractEvents:function(e,t,r,n){var d;if(g3)t:{switch(e){case"compositionstart":var S=Lu.compositionStart;break t;case"compositionend":S=Lu.compositionEnd;break t;case"compositionupdate":S=Lu.compositionUpdate;break t}S=void 0}else df?EI(e,r)&&(S=Lu.compositionEnd):e==="keydown"&&r.keyCode===229&&(S=Lu.compositionStart);return S?(CI&&r.locale!=="ko"&&(df||S!==Lu.compositionStart?S===Lu.compositionEnd&&df&&(d=wI()):(Gh=n,m3="value"in Gh?Gh.value:Gh.textContent,df=!0)),S=TG.getPooled(S,t,r,n),d?S.data=d:(d=kI(r),d!==null&&(S.data=d)),Nf(S),d=S):d=null,(e=kG?PG(e,r):AG(e,r))?(t=CG.getPooled(Lu.beforeInput,t,r,n),t.data=e,Nf(t)):t=null,d===null?t:t===null?d:[d,t]}},IG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!IG[e.type]:t==="textarea"}var AI={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function RI(e,t,r){return e=Ao.getPooled(AI.change,e,t,r),e.type="change",FR(r),Nf(e),e}var Av=null,rm=null;function MG(e){Dy(e)}function jy(e){var t=xd(e);if(YR(t))return e}function BG(e,t){if(e==="change")return t}var HT=!1;bc&&(HT=aI("input")&&(!document.documentMode||9<document.documentMode));function ck(){Av&&(Av.detachEvent("onpropertychange",II),rm=Av=null)}function II(e){if(e.propertyName==="value"&&jy(rm))if(e=RI(rm,e,o3(e)),qc)Dy(e);else{qc=!0;try{KC(MG,e)}finally{qc=!1,ZC()}}}function OG(e,t,r){e==="focus"?(ck(),Av=t,rm=r,Av.attachEvent("onpropertychange",II)):e==="blur"&&ck()}function NG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jy(rm)}function LG(e,t){if(e==="click")return jy(t)}function FG(e,t){if(e==="input"||e==="change")return jy(t)}var DG={eventTypes:AI,_isInputEventSupported:HT,extractEvents:function(e,t,r,n){var d=t?xd(t):window,S=d.nodeName&&d.nodeName.toLowerCase();if(S==="select"||S==="input"&&d.type==="file")var s=BG;else if(PI(d))if(HT)s=FG;else{s=NG;var g=OG}else(S=d.nodeName)&&S.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(s=LG);if(s&&(s=s(e,t)))return RI(s,r,n);g&&g(e,d,t),e==="blur"&&(e=d._wrapperState)&&e.controlled&&d.type==="number"&&RT(d,"number",d.value)}},jm=Ao.extend({view:null,detail:null}),_G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_G[e])?!!t[e]:!1}function y3(){return jG}var dk=0,fk=0,pk=!1,vk=!1,zm=jm.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:y3,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=dk;return dk=e.screenX,pk?e.type==="mousemove"?e.screenX-t:0:(pk=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=fk;return fk=e.screenY,vk?e.type==="mousemove"?e.screenY-t:0:(vk=!0,0)}}),MI=zm.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jp={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},zG={eventTypes:jp,extractEvents:function(e,t,r,n,d){var S=e==="mouseover"||e==="pointerover",s=e==="mouseout"||e==="pointerout";if(S&&!(d&32)&&(r.relatedTarget||r.fromElement)||!s&&!S)return null;if(S=n.window===n?n:(S=n.ownerDocument)?S.defaultView||S.parentWindow:window,s){if(s=t,t=(t=r.relatedTarget||r.toElement)?Dm(t):null,t!==null){var g=kd(t);(t!==g||t.tag!==5&&t.tag!==6)&&(t=null)}}else s=null;if(s===t)return null;if(e==="mouseout"||e==="mouseover")var i=zm,o=jp.mouseLeave,m=jp.mouseEnter,c="mouse";else(e==="pointerout"||e==="pointerover")&&(i=MI,o=jp.pointerLeave,m=jp.pointerEnter,c="pointer");if(e=s==null?S:xd(s),S=t==null?S:xd(t),o=i.getPooled(o,s,r,n),o.type=c+"leave",o.target=e,o.relatedTarget=S,r=i.getPooled(m,t,r,n),r.type=c+"enter",r.target=S,r.relatedTarget=e,n=s,c=t,n&&c)t:{for(i=n,m=c,s=0,e=i;e;e=Hu(e))s++;for(e=0,t=m;t;t=Hu(t))e++;for(;0<s-e;)i=Hu(i),s--;for(;0<e-s;)m=Hu(m),e--;for(;s--;){if(i===m||i===m.alternate)break t;i=Hu(i),m=Hu(m)}i=null}else i=null;for(m=i,i=[];n&&n!==m&&(s=n.alternate,!(s!==null&&s===m));)i.push(n),n=Hu(n);for(n=[];c&&c!==m&&(s=c.alternate,!(s!==null&&s===m));)n.push(c),c=Hu(c);for(c=0;c<i.length;c++)GT(i[c],"bubbled",o);for(c=n.length;0<c--;)GT(n[c],"captured",r);return d&64?[o,r]:[o]}};function UG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bd=typeof Object.is=="function"?Object.is:UG,GG=Object.prototype.hasOwnProperty;function nm(e,t){if(bd(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!GG.call(t,r[n])||!bd(e[r[n]],t[r[n]]))return!1;return!0}var HG=bc&&"documentMode"in document&&11>=document.documentMode,BI={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ff=null,$T=null,Rv=null,WT=!1;function mk(e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;return WT||ff==null||ff!==jT(r)?null:(r=ff,"selectionStart"in r&&zT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rv&&nm(Rv,r)?null:(Rv=r,e=Ao.getPooled(BI.select,$T,e,t),e.type="select",e.target=ff,Nf(e),e))}var $G={eventTypes:BI,extractEvents:function(e,t,r,n,d,S){if(d=S||(n.window===n?n.document:n.nodeType===9?n:n.ownerDocument),!(S=!d)){t:{d=s3(d),S=QC.onSelect;for(var s=0;s<S.length;s++)if(!d.has(S[s])){d=!1;break t}d=!0}S=!d}if(S)return null;switch(d=t?xd(t):window,e){case"focus":(PI(d)||d.contentEditable==="true")&&(ff=d,$T=t,Rv=null);break;case"blur":Rv=$T=ff=null;break;case"mousedown":WT=!0;break;case"contextmenu":case"mouseup":case"dragend":return WT=!1,mk(r,n);case"selectionchange":if(HG)break;case"keydown":case"keyup":return mk(r,n)}return null}},WG=Ao.extend({animationName:null,elapsedTime:null,pseudoElement:null}),VG=Ao.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YG=jm.extend({relatedTarget:null});function D0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}var XG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KG=jm.extend({key:function(e){if(e.key){var t=XG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=D0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QG[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:y3,charCode:function(e){return e.type==="keypress"?D0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?D0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),JG=zm.extend({dataTransfer:null}),ZG=jm.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:y3}),qG=Ao.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),tH=zm.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),eH={eventTypes:fI,extractEvents:function(e,t,r,n){var d=pI.get(e);if(!d)return null;switch(e){case"keypress":if(D0(r)===0)return null;case"keydown":case"keyup":e=KG;break;case"blur":case"focus":e=YG;break;case"click":if(r.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=JG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ZG;break;case tI:case eI:case iI:e=WG;break;case rI:e=qG;break;case"scroll":e=jm;break;case"wheel":e=tH;break;case"copy":case"cut":case"paste":e=VG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=MI;break;default:e=Ao}return t=e.getPooled(d,t,r,n),Nf(t),t}};if(P1)throw Error(gi(101));P1=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));NR();var iH=_m;XC=v3;BR=iH;OR=xd;LR({SimpleEventPlugin:eH,EnterLeaveEventPlugin:zG,ChangeEventPlugin:DG,SelectEventPlugin:$G,BeforeInputEventPlugin:RG});var VT=[],pf=-1;function Xn(e){0>pf||(e.current=VT[pf],VT[pf]=null,pf--)}function xs(e,t){pf++,VT[pf]=e.current,e.current=t}var uc={},Ca={current:uc},ro={current:!1},Sd=uc;function Lf(e,t){var r=e.type.contextTypes;if(!r)return uc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var d={},S;for(S in r)d[S]=t[S];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function no(e){return e=e.childContextTypes,e!=null}function O1(){Xn(ro),Xn(Ca)}function gk(e,t,r){if(Ca.current!==uc)throw Error(gi(168));xs(Ca,t),xs(ro,r)}function OI(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var d in n)if(!(d in e))throw Error(gi(108,oh(t)||"Unknown",d));return La({},r,{},n)}function _0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||uc,Sd=Ca.current,xs(Ca,e),xs(ro,ro.current),!0}function yk(e,t,r){var n=e.stateNode;if(!n)throw Error(gi(169));r?(e=OI(e,t,Sd),n.__reactInternalMemoizedMergedChildContext=e,Xn(ro),Xn(Ca),xs(Ca,e)):Xn(ro),xs(ro,r)}var rH=na.unstable_runWithPriority,x3=na.unstable_scheduleCallback,NI=na.unstable_cancelCallback,xk=na.unstable_requestPaint,YT=na.unstable_now,nH=na.unstable_getCurrentPriorityLevel,zy=na.unstable_ImmediatePriority,LI=na.unstable_UserBlockingPriority,FI=na.unstable_NormalPriority,DI=na.unstable_LowPriority,_I=na.unstable_IdlePriority,jI={},sH=na.unstable_shouldYield,aH=xk!==void 0?xk:function(){},Yu=null,j0=null,Mb=!1,bk=YT(),Wo=1e4>bk?YT:function(){return YT()-bk};function Uy(){switch(nH()){case zy:return 99;case LI:return 98;case FI:return 97;case DI:return 96;case _I:return 95;default:throw Error(gi(332))}}function zI(e){switch(e){case 99:return zy;case 98:return LI;case 97:return FI;case 96:return DI;case 95:return _I;default:throw Error(gi(332))}}function hc(e,t){return e=zI(e),rH(e,t)}function UI(e,t,r){return e=zI(e),x3(e,t,r)}function Sk(e){return Yu===null?(Yu=[e],j0=x3(zy,GI)):Yu.push(e),jI}function ku(){if(j0!==null){var e=j0;j0=null,NI(e)}GI()}function GI(){if(!Mb&&Yu!==null){Mb=!0;var e=0;try{var t=Yu;hc(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),Yu=null}catch(r){throw Yu!==null&&(Yu=Yu.slice(e+1)),x3(zy,ku),r}finally{Mb=!1}}}function z0(e,t,r){return r/=10,1073741821-(((1073741821-e+t/10)/r|0)+1)*r}function dl(e,t){if(e&&e.defaultProps){t=La({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r])}return t}var N1={current:null},L1=null,vf=null,F1=null;function b3(){F1=vf=L1=null}function S3(e){var t=N1.current;Xn(N1),e.type._context._currentValue=t}function HI(e,t){for(;e!==null;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,r!==null&&r.childExpirationTime<t&&(r.childExpirationTime=t);else if(r!==null&&r.childExpirationTime<t)r.childExpirationTime=t;else break;e=e.return}}function Sf(e,t){L1=e,F1=vf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.expirationTime>=t&&(mu=!0),e.firstContext=null)}function Qo(e,t){if(F1!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(F1=e,t=1073741823),t={context:e,observedBits:t,next:null},vf===null){if(L1===null)throw Error(gi(308));vf=t,L1.dependencies={expirationTime:0,firstContext:t,responders:null}}else vf=vf.next=t;return e._currentValue}var jh=!1;function w3(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function T3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function ec(e,t){return e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null},e.next=e}function ic(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function wk(e,t){var r=e.alternate;r!==null&&T3(r,e),e=e.updateQueue,r=e.baseQueue,r===null?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function sm(e,t,r,n){var d=e.updateQueue;jh=!1;var S=d.baseQueue,s=d.shared.pending;if(s!==null){if(S!==null){var g=S.next;S.next=s.next,s.next=g}S=s,d.shared.pending=null,g=e.alternate,g!==null&&(g=g.updateQueue,g!==null&&(g.baseQueue=s))}if(S!==null){g=S.next;var i=d.baseState,o=0,m=null,c=null,l=null;if(g!==null){var h=g;do{if(s=h.expirationTime,s<n){var a={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};l===null?(c=l=a,m=i):l=l.next=a,s>o&&(o=s)}else{l!==null&&(l=l.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),xM(s,h.suspenseConfig);t:{var f=e,p=h;switch(s=t,a=r,p.tag){case 1:if(f=p.payload,typeof f=="function"){i=f.call(a,i,s);break t}i=f;break t;case 3:f.effectTag=f.effectTag&-4097|64;case 0:if(f=p.payload,s=typeof f=="function"?f.call(a,i,s):f,s==null)break t;i=La({},i,s);break t;case 2:jh=!0}}h.callback!==null&&(e.effectTag|=32,s=d.effects,s===null?d.effects=[h]:s.push(h))}if(h=h.next,h===null||h===g){if(s=d.shared.pending,s===null)break;h=S.next=s.next,s.next=g,d.baseQueue=S=s,d.shared.pending=null}}while(!0)}l===null?m=i:l.next=c,d.baseState=m,d.baseQueue=l,Vy(o),e.expirationTime=o,e.memoizedState=i}}function Tk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],d=n.callback;if(d!==null){if(n.callback=null,n=d,d=r,typeof n!="function")throw Error(gi(191,n));n.call(d)}}}var Iv=Fl.ReactCurrentBatchConfig,$I=new Ly.Component().refs;function D1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:La({},t,r),e.memoizedState=r,e.expirationTime===0&&(e.updateQueue.baseState=r)}var Gy={isMounted:function(e){return(e=e._reactInternalFiber)?kd(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=Su(),d=Iv.suspense;n=hd(n,e,d),d=ec(n,d),d.payload=t,r!=null&&(d.callback=r),ic(e,d),nc(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=Su(),d=Iv.suspense;n=hd(n,e,d),d=ec(n,d),d.tag=1,d.payload=t,r!=null&&(d.callback=r),ic(e,d),nc(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=Su(),n=Iv.suspense;r=hd(r,e,n),n=ec(r,n),n.tag=2,t!=null&&(n.callback=t),ic(e,n),nc(e,r)}};function Ck(e,t,r,n,d,S,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,S,s):t.prototype&&t.prototype.isPureReactComponent?!nm(r,n)||!nm(d,S):!0}function WI(e,t,r){var n=!1,d=uc,S=t.contextType;return typeof S=="object"&&S!==null?S=Qo(S):(d=no(t)?Sd:Ca.current,n=t.contextTypes,S=(n=n!=null)?Lf(e,d):uc),t=new t(r,S),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gy,e.stateNode=t,t._reactInternalFiber=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=S),t}function Ek(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gy.enqueueReplaceState(t,t.state,null)}function XT(e,t,r,n){var d=e.stateNode;d.props=r,d.state=e.memoizedState,d.refs=$I,w3(e);var S=t.contextType;typeof S=="object"&&S!==null?d.context=Qo(S):(S=no(t)?Sd:Ca.current,d.context=Lf(e,S)),sm(e,r,d,n),d.state=e.memoizedState,S=t.getDerivedStateFromProps,typeof S=="function"&&(D1(e,t,S,r),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Gy.enqueueReplaceState(d,d.state,null),sm(e,r,d,n),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.effectTag|=4)}var Lg=Array.isArray;function zp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(gi(309));var n=r.stateNode}if(!n)throw Error(gi(147,e));var d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(S){var s=n.refs;s===$I&&(s=n.refs={}),S===null?delete s[d]:s[d]=S},t._stringRef=d,t)}if(typeof e!="string")throw Error(gi(284));if(!r._owner)throw Error(gi(290,e))}return e}function Fg(e,t){if(e.type!=="textarea")throw Error(gi(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function VI(e){function t(p,u){if(e){var v=p.lastEffect;v!==null?(v.nextEffect=u,p.lastEffect=u):p.firstEffect=p.lastEffect=u,u.nextEffect=null,u.effectTag=8}}function r(p,u){if(!e)return null;for(;u!==null;)t(p,u),u=u.sibling;return null}function n(p,u){for(p=new Map;u!==null;)u.key!==null?p.set(u.key,u):p.set(u.index,u),u=u.sibling;return p}function d(p,u){return p=wd(p,u),p.index=0,p.sibling=null,p}function S(p,u,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<u?(p.effectTag=2,u):v):(p.effectTag=2,u)):u}function s(p){return e&&p.alternate===null&&(p.effectTag=2),p}function g(p,u,v,y){return u===null||u.tag!==6?(u=Db(v,p.mode,y),u.return=p,u):(u=d(u,v),u.return=p,u)}function i(p,u,v,y){return u!==null&&u.elementType===v.type?(y=d(u,v.props),y.ref=zp(p,u,v),y.return=p,y):(y=$0(v.type,v.key,v.props,null,p.mode,y),y.ref=zp(p,u,v),y.return=p,y)}function o(p,u,v,y){return u===null||u.tag!==4||u.stateNode.containerInfo!==v.containerInfo||u.stateNode.implementation!==v.implementation?(u=_b(v,p.mode,y),u.return=p,u):(u=d(u,v.children||[]),u.return=p,u)}function m(p,u,v,y,x){return u===null||u.tag!==7?(u=Wh(v,p.mode,y,x),u.return=p,u):(u=d(u,v),u.return=p,u)}function c(p,u,v){if(typeof u=="string"||typeof u=="number")return u=Db(""+u,p.mode,v),u.return=p,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Mg:return v=$0(u.type,u.key,u.props,null,p.mode,v),v.ref=zp(p,null,u),v.return=p,v;case hf:return u=_b(u,p.mode,v),u.return=p,u}if(Lg(u)||Np(u))return u=Wh(u,p.mode,v,null),u.return=p,u;Fg(p,u)}return null}function l(p,u,v,y){var x=u!==null?u.key:null;if(typeof v=="string"||typeof v=="number")return x!==null?null:g(p,u,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Mg:return v.key===x?v.type===Yc?m(p,u,v.props.children,y,x):i(p,u,v,y):null;case hf:return v.key===x?o(p,u,v,y):null}if(Lg(v)||Np(v))return x!==null?null:m(p,u,v,y,null);Fg(p,v)}return null}function h(p,u,v,y,x){if(typeof y=="string"||typeof y=="number")return p=p.get(v)||null,g(u,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mg:return p=p.get(y.key===null?v:y.key)||null,y.type===Yc?m(u,p,y.props.children,x,y.key):i(u,p,y,x);case hf:return p=p.get(y.key===null?v:y.key)||null,o(u,p,y,x)}if(Lg(y)||Np(y))return p=p.get(v)||null,m(u,p,y,x,null);Fg(u,y)}return null}function a(p,u,v,y){for(var x=null,b=null,w=u,C=u=0,E=null;w!==null&&C<v.length;C++){w.index>C?(E=w,w=null):E=w.sibling;var T=l(p,w,v[C],y);if(T===null){w===null&&(w=E);break}e&&w&&T.alternate===null&&t(p,w),u=S(T,u,C),b===null?x=T:b.sibling=T,b=T,w=E}if(C===v.length)return r(p,w),x;if(w===null){for(;C<v.length;C++)w=c(p,v[C],y),w!==null&&(u=S(w,u,C),b===null?x=w:b.sibling=w,b=w);return x}for(w=n(p,w);C<v.length;C++)E=h(w,p,C,v[C],y),E!==null&&(e&&E.alternate!==null&&w.delete(E.key===null?C:E.key),u=S(E,u,C),b===null?x=E:b.sibling=E,b=E);return e&&w.forEach(function(k){return t(p,k)}),x}function f(p,u,v,y){var x=Np(v);if(typeof x!="function")throw Error(gi(150));if(v=x.call(v),v==null)throw Error(gi(151));for(var b=x=null,w=u,C=u=0,E=null,T=v.next();w!==null&&!T.done;C++,T=v.next()){w.index>C?(E=w,w=null):E=w.sibling;var k=l(p,w,T.value,y);if(k===null){w===null&&(w=E);break}e&&w&&k.alternate===null&&t(p,w),u=S(k,u,C),b===null?x=k:b.sibling=k,b=k,w=E}if(T.done)return r(p,w),x;if(w===null){for(;!T.done;C++,T=v.next())T=c(p,T.value,y),T!==null&&(u=S(T,u,C),b===null?x=T:b.sibling=T,b=T);return x}for(w=n(p,w);!T.done;C++,T=v.next())T=h(w,p,C,T.value,y),T!==null&&(e&&T.alternate!==null&&w.delete(T.key===null?C:T.key),u=S(T,u,C),b===null?x=T:b.sibling=T,b=T);return e&&w.forEach(function(A){return t(p,A)}),x}return function(p,u,v,y){var x=typeof v=="object"&&v!==null&&v.type===Yc&&v.key===null;x&&(v=v.props.children);var b=typeof v=="object"&&v!==null;if(b)switch(v.$$typeof){case Mg:t:{for(b=v.key,x=u;x!==null;){if(x.key===b){switch(x.tag){case 7:if(v.type===Yc){r(p,x.sibling),u=d(x,v.props.children),u.return=p,p=u;break t}break;default:if(x.elementType===v.type){r(p,x.sibling),u=d(x,v.props),u.ref=zp(p,x,v),u.return=p,p=u;break t}}r(p,x);break}else t(p,x);x=x.sibling}v.type===Yc?(u=Wh(v.props.children,p.mode,y,v.key),u.return=p,p=u):(y=$0(v.type,v.key,v.props,null,p.mode,y),y.ref=zp(p,u,v),y.return=p,p=y)}return s(p);case hf:t:{for(x=v.key;u!==null;){if(u.key===x)if(u.tag===4&&u.stateNode.containerInfo===v.containerInfo&&u.stateNode.implementation===v.implementation){r(p,u.sibling),u=d(u,v.children||[]),u.return=p,p=u;break t}else{r(p,u);break}else t(p,u);u=u.sibling}u=_b(v,p.mode,y),u.return=p,p=u}return s(p)}if(typeof v=="string"||typeof v=="number")return v=""+v,u!==null&&u.tag===6?(r(p,u.sibling),u=d(u,v),u.return=p,p=u):(r(p,u),u=Db(v,p.mode,y),u.return=p,p=u),s(p);if(Lg(v))return a(p,u,v,y);if(Np(v))return f(p,u,v,y);if(b&&Fg(p,v),typeof v=="undefined"&&!x)switch(p.tag){case 1:case 0:throw p=p.type,Error(gi(152,p.displayName||p.name||"Component"))}return r(p,u)}}var Ff=VI(!0),C3=VI(!1),Um={},bu={current:Um},am={current:Um},om={current:Um};function td(e){if(e===Um)throw Error(gi(174));return e}function QT(e,t){switch(xs(om,t),xs(am,e),xs(bu,Um),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:BT(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=BT(t,e)}Xn(bu),xs(bu,t)}function Df(){Xn(bu),Xn(am),Xn(om)}function kk(e){td(om.current);var t=td(bu.current),r=BT(t,e.type);t!==r&&(xs(am,e),xs(bu,r))}function E3(e){am.current===e&&(Xn(bu),Xn(am))}var as={current:0};function _1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data===d3||r.data===f3))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.effectTag&64)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function k3(e,t){return{responder:e,props:t}}var U0=Fl.ReactCurrentDispatcher,Xo=Fl.ReactCurrentBatchConfig,Hh=0,Os=null,ma=null,ga=null,j1=!1;function mo(){throw Error(gi(321))}function P3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!bd(e[r],t[r]))return!1;return!0}function A3(e,t,r,n,d,S){if(Hh=S,Os=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,U0.current=e===null||e.memoizedState===null?oH:lH,e=r(n,d),t.expirationTime===Hh){S=0;do{if(t.expirationTime=0,!(25>S))throw Error(gi(301));S+=1,ga=ma=null,t.updateQueue=null,U0.current=uH,e=r(n,d)}while(t.expirationTime===Hh)}if(U0.current=G1,t=ma!==null&&ma.next!==null,Hh=0,ga=ma=Os=null,j1=!1,t)throw Error(gi(300));return e}function wf(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ga===null?Os.memoizedState=ga=e:ga=ga.next=e,ga}function tp(){if(ma===null){var e=Os.alternate;e=e!==null?e.memoizedState:null}else e=ma.next;var t=ga===null?Os.memoizedState:ga.next;if(t!==null)ga=t,ma=e;else{if(e===null)throw Error(gi(310));ma=e,e={memoizedState:ma.memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},ga===null?Os.memoizedState=ga=e:ga=ga.next=e}return ga}function od(e,t){return typeof t=="function"?t(e):t}function Dg(e){var t=tp(),r=t.queue;if(r===null)throw Error(gi(311));r.lastRenderedReducer=e;var n=ma,d=n.baseQueue,S=r.pending;if(S!==null){if(d!==null){var s=d.next;d.next=S.next,S.next=s}n.baseQueue=d=S,r.pending=null}if(d!==null){d=d.next,n=n.baseState;var g=s=S=null,i=d;do{var o=i.expirationTime;if(o<Hh){var m={expirationTime:i.expirationTime,suspenseConfig:i.suspenseConfig,action:i.action,eagerReducer:i.eagerReducer,eagerState:i.eagerState,next:null};g===null?(s=g=m,S=n):g=g.next=m,o>Os.expirationTime&&(Os.expirationTime=o,Vy(o))}else g!==null&&(g=g.next={expirationTime:1073741823,suspenseConfig:i.suspenseConfig,action:i.action,eagerReducer:i.eagerReducer,eagerState:i.eagerState,next:null}),xM(o,i.suspenseConfig),n=i.eagerReducer===e?i.eagerState:e(n,i.action);i=i.next}while(i!==null&&i!==d);g===null?S=n:g.next=s,bd(n,t.memoizedState)||(mu=!0),t.memoizedState=n,t.baseState=S,t.baseQueue=g,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function _g(e){var t=tp(),r=t.queue;if(r===null)throw Error(gi(311));r.lastRenderedReducer=e;var n=r.dispatch,d=r.pending,S=t.memoizedState;if(d!==null){r.pending=null;var s=d=d.next;do S=e(S,s.action),s=s.next;while(s!==d);bd(S,t.memoizedState)||(mu=!0),t.memoizedState=S,t.baseQueue===null&&(t.baseState=S),r.lastRenderedState=S}return[S,n]}function Bb(e){var t=wf();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:od,lastRenderedState:e},e=e.dispatch=ZI.bind(null,Os,e),[t.memoizedState,e]}function KT(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Os.updateQueue,t===null?(t={lastEffect:null},Os.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function YI(){return tp().memoizedState}function JT(e,t,r,n){var d=wf();Os.effectTag|=e,d.memoizedState=KT(1|t,r,void 0,n===void 0?null:n)}function R3(e,t,r,n){var d=tp();n=n===void 0?null:n;var S=void 0;if(ma!==null){var s=ma.memoizedState;if(S=s.destroy,n!==null&&P3(n,s.deps)){KT(t,r,S,n);return}}Os.effectTag|=e,d.memoizedState=KT(1|t,r,S,n)}function Pk(e,t){return JT(516,4,e,t)}function z1(e,t){return R3(516,4,e,t)}function XI(e,t){return R3(4,2,e,t)}function QI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KI(e,t,r){return r=r!=null?r.concat([e]):null,R3(4,2,QI.bind(null,t,e),r)}function I3(){}function Ak(e,t){return wf().memoizedState=[e,t===void 0?null:t],e}function U1(e,t){var r=tp();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&P3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function JI(e,t){var r=tp();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&P3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function M3(e,t,r){var n=Uy();hc(98>n?98:n,function(){e(!0)}),hc(97<n?97:n,function(){var d=Xo.suspense;Xo.suspense=t===void 0?null:t;try{e(!1),r()}finally{Xo.suspense=d}})}function ZI(e,t,r){var n=Su(),d=Iv.suspense;n=hd(n,e,d),d={expirationTime:n,suspenseConfig:d,action:r,eagerReducer:null,eagerState:null,next:null};var S=t.pending;if(S===null?d.next=d:(d.next=S.next,S.next=d),t.pending=d,S=e.alternate,e===Os||S!==null&&S===Os)j1=!0,d.expirationTime=Hh,Os.expirationTime=Hh;else{if(e.expirationTime===0&&(S===null||S.expirationTime===0)&&(S=t.lastRenderedReducer,S!==null))try{var s=t.lastRenderedState,g=S(s,r);if(d.eagerReducer=S,d.eagerState=g,bd(g,s))return}catch(i){}finally{}nc(e,n)}}var G1={readContext:Qo,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useResponder:mo,useDeferredValue:mo,useTransition:mo},oH={readContext:Qo,useCallback:Ak,useContext:Qo,useEffect:Pk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,JT(4,2,QI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return JT(4,2,e,t)},useMemo:function(e,t){var r=wf();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=wf();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=ZI.bind(null,Os,e),[n.memoizedState,e]},useRef:function(e){var t=wf();return e={current:e},t.memoizedState=e},useState:Bb,useDebugValue:I3,useResponder:k3,useDeferredValue:function(e,t){var r=Bb(e),n=r[0],d=r[1];return Pk(function(){var S=Xo.suspense;Xo.suspense=t===void 0?null:t;try{d(e)}finally{Xo.suspense=S}},[e,t]),n},useTransition:function(e){var t=Bb(!1),r=t[0];return t=t[1],[Ak(M3.bind(null,t,e),[t,e]),r]}},lH={readContext:Qo,useCallback:U1,useContext:Qo,useEffect:z1,useImperativeHandle:KI,useLayoutEffect:XI,useMemo:JI,useReducer:Dg,useRef:YI,useState:function(){return Dg(od)},useDebugValue:I3,useResponder:k3,useDeferredValue:function(e,t){var r=Dg(od),n=r[0],d=r[1];return z1(function(){var S=Xo.suspense;Xo.suspense=t===void 0?null:t;try{d(e)}finally{Xo.suspense=S}},[e,t]),n},useTransition:function(e){var t=Dg(od),r=t[0];return t=t[1],[U1(M3.bind(null,t,e),[t,e]),r]}},uH={readContext:Qo,useCallback:U1,useContext:Qo,useEffect:z1,useImperativeHandle:KI,useLayoutEffect:XI,useMemo:JI,useReducer:_g,useRef:YI,useState:function(){return _g(od)},useDebugValue:I3,useResponder:k3,useDeferredValue:function(e,t){var r=_g(od),n=r[0],d=r[1];return z1(function(){var S=Xo.suspense;Xo.suspense=t===void 0?null:t;try{d(e)}finally{Xo.suspense=S}},[e,t]),n},useTransition:function(e){var t=_g(od),r=t[0];return t=t[1],[U1(M3.bind(null,t,e),[t,e]),r]}},ih=null,$h=null,ld=!1;function qI(e,t){var r=gu(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Rk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function ZT(e){if(ld){var t=$h;if(t){var r=t;if(!Rk(e,t)){if(t=bf(r.nextSibling),!t||!Rk(e,t)){e.effectTag=e.effectTag&-1025|2,ld=!1,ih=e;return}qI(ih,r)}ih=e,$h=bf(t.firstChild)}else e.effectTag=e.effectTag&-1025|2,ld=!1,ih=e}}function Ik(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ih=e}function jg(e){if(e!==ih)return!1;if(!ld)return Ik(e),ld=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!UT(t,e.memoizedProps))for(t=$h;t;)qI(e,t),t=bf(t.nextSibling);if(Ik(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(gi(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r===xI){if(t===0){$h=bf(e.nextSibling);break t}t--}else r!==yI&&r!==f3&&r!==d3||t++}e=e.nextSibling}$h=null}}else $h=ih?bf(e.stateNode.nextSibling):null;return!0}function Ob(){$h=ih=null,ld=!1}var hH=Fl.ReactCurrentOwner,mu=!1;function xo(e,t,r,n){t.child=e===null?C3(t,null,r,n):Ff(t,e.child,r,n)}function Mk(e,t,r,n,d){r=r.render;var S=t.ref;return Sf(t,d),n=A3(e,t,r,n,S,d),e!==null&&!mu?(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=d&&(e.expirationTime=0),rh(e,t,d)):(t.effectTag|=1,xo(e,t,n,d),t.child)}function Bk(e,t,r,n,d,S){if(e===null){var s=r.type;return typeof s=="function"&&!F3(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,tM(e,t,s,n,d,S)):(e=$0(r.type,null,n,null,t.mode,S),e.ref=t.ref,e.return=t,t.child=e)}return s=e.child,d<S&&(d=s.memoizedProps,r=r.compare,r=r!==null?r:nm,r(d,n)&&e.ref===t.ref)?rh(e,t,S):(t.effectTag|=1,e=wd(s,n),e.ref=t.ref,e.return=t,t.child=e)}function tM(e,t,r,n,d,S){return e!==null&&nm(e.memoizedProps,n)&&e.ref===t.ref&&(mu=!1,d<S)?(t.expirationTime=e.expirationTime,rh(e,t,S)):qT(e,t,r,n,S)}function eM(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.effectTag|=128)}function qT(e,t,r,n,d){var S=no(r)?Sd:Ca.current;return S=Lf(t,S),Sf(t,d),r=A3(e,t,r,n,S,d),e!==null&&!mu?(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=d&&(e.expirationTime=0),rh(e,t,d)):(t.effectTag|=1,xo(e,t,r,d),t.child)}function Ok(e,t,r,n,d){if(no(r)){var S=!0;_0(t)}else S=!1;if(Sf(t,d),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),WI(t,r,n),XT(t,r,n,d),n=!0;else if(e===null){var s=t.stateNode,g=t.memoizedProps;s.props=g;var i=s.context,o=r.contextType;typeof o=="object"&&o!==null?o=Qo(o):(o=no(r)?Sd:Ca.current,o=Lf(t,o));var m=r.getDerivedStateFromProps,c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(g!==n||i!==o)&&Ek(t,s,n,o),jh=!1;var l=t.memoizedState;s.state=l,sm(t,n,s,d),i=t.memoizedState,g!==n||l!==i||ro.current||jh?(typeof m=="function"&&(D1(t,r,m,n),i=t.memoizedState),(g=jh||Ck(t,r,g,n,l,i,o))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.effectTag|=4)):(typeof s.componentDidMount=="function"&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=i),s.props=n,s.state=i,s.context=o,n=g):(typeof s.componentDidMount=="function"&&(t.effectTag|=4),n=!1)}else s=t.stateNode,T3(e,t),g=t.memoizedProps,s.props=t.type===t.elementType?g:dl(t.type,g),i=s.context,o=r.contextType,typeof o=="object"&&o!==null?o=Qo(o):(o=no(r)?Sd:Ca.current,o=Lf(t,o)),m=r.getDerivedStateFromProps,(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(g!==n||i!==o)&&Ek(t,s,n,o),jh=!1,i=t.memoizedState,s.state=i,sm(t,n,s,d),l=t.memoizedState,g!==n||i!==l||ro.current||jh?(typeof m=="function"&&(D1(t,r,m,n),l=t.memoizedState),(m=jh||Ck(t,r,g,n,i,l,o))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,l,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,l,o)),typeof s.componentDidUpdate=="function"&&(t.effectTag|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.effectTag|=256)):(typeof s.componentDidUpdate!="function"||g===e.memoizedProps&&i===e.memoizedState||(t.effectTag|=4),typeof s.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&i===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=o,n=m):(typeof s.componentDidUpdate!="function"||g===e.memoizedProps&&i===e.memoizedState||(t.effectTag|=4),typeof s.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&i===e.memoizedState||(t.effectTag|=256),n=!1);return t2(e,t,r,n,S,d)}function t2(e,t,r,n,d,S){eM(e,t);var s=(t.effectTag&64)!==0;if(!n&&!s)return d&&yk(t,r,!1),rh(e,t,S);n=t.stateNode,hH.current=t;var g=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.effectTag|=1,e!==null&&s?(t.child=Ff(t,e.child,null,S),t.child=Ff(t,null,g,S)):xo(e,t,g,S),t.memoizedState=n.state,d&&yk(t,r,!0),t.child}function Nk(e){var t=e.stateNode;t.pendingContext?gk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gk(e,t.context,!1),QT(e,t.containerInfo)}var Nb={dehydrated:null,retryTime:0};function Lk(e,t,r){var n=t.mode,d=t.pendingProps,S=as.current,s=!1,g;if((g=(t.effectTag&64)!==0)||(g=(S&2)!==0&&(e===null||e.memoizedState!==null)),g?(s=!0,t.effectTag&=-65):e!==null&&e.memoizedState===null||d.fallback===void 0||d.unstable_avoidThisFallback===!0||(S|=1),xs(as,S&1),e===null){if(d.fallback!==void 0&&ZT(t),s){if(s=d.fallback,d=Wh(null,n,0,null),d.return=t,!(t.mode&2))for(e=t.memoizedState!==null?t.child.child:t.child,d.child=e;e!==null;)e.return=d,e=e.sibling;return r=Wh(s,n,r,null),r.return=t,d.sibling=r,t.memoizedState=Nb,t.child=d,r}return n=d.children,t.memoizedState=null,t.child=C3(t,null,n,r)}if(e.memoizedState!==null){if(e=e.child,n=e.sibling,s){if(d=d.fallback,r=wd(e,e.pendingProps),r.return=t,!(t.mode&2)&&(s=t.memoizedState!==null?t.child.child:t.child,s!==e.child))for(r.child=s;s!==null;)s.return=r,s=s.sibling;return n=wd(n,d),n.return=t,r.sibling=n,r.childExpirationTime=0,t.memoizedState=Nb,t.child=r,n}return r=Ff(t,e.child,d.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=d.fallback,d=Wh(null,n,0,null),d.return=t,d.child=e,e!==null&&(e.return=d),!(t.mode&2))for(e=t.memoizedState!==null?t.child.child:t.child,d.child=e;e!==null;)e.return=d,e=e.sibling;return r=Wh(s,n,r,null),r.return=t,d.sibling=r,r.effectTag|=2,d.childExpirationTime=0,t.memoizedState=Nb,t.child=d,r}return t.memoizedState=null,t.child=Ff(t,e,d.children,r)}function Fk(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;r!==null&&r.expirationTime<t&&(r.expirationTime=t),HI(e.return,t)}function Lb(e,t,r,n,d,S){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:d,lastEffect:S}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailExpiration=0,s.tailMode=d,s.lastEffect=S)}function Dk(e,t,r){var n=t.pendingProps,d=n.revealOrder,S=n.tail;if(xo(e,t,n.children,r),n=as.current,n&2)n=n&1|2,t.effectTag|=64;else{if(e!==null&&e.effectTag&64)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fk(e,r);else if(e.tag===19)Fk(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xs(as,n),!(t.mode&2))t.memoizedState=null;else switch(d){case"forwards":for(r=t.child,d=null;r!==null;)e=r.alternate,e!==null&&_1(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=t.child,t.child=null):(d=r.sibling,r.sibling=null),Lb(t,!1,d,r,S,t.lastEffect);break;case"backwards":for(r=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&_1(e)===null){t.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}Lb(t,!0,r,null,S,t.lastEffect);break;case"together":Lb(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function rh(e,t,r){e!==null&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(n!==0&&Vy(n),t.childExpirationTime<r)return null;if(e!==null&&t.child!==e.child)throw Error(gi(153));if(t.child!==null){for(e=t.child,r=wd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}var iM,e2,rM,nM;iM=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};e2=function(){};rM=function(e,t,r,n,d){var S=e.memoizedProps;if(S!==n){var s=t.stateNode;switch(td(bu.current),e=null,r){case"input":S=PT(s,S),n=PT(s,n),e=[];break;case"option":S=IT(s,S),n=IT(s,n),e=[];break;case"select":S=La({},S,{value:void 0}),n=La({},n,{value:void 0}),e=[];break;case"textarea":S=MT(s,S),n=MT(s,n),e=[];break;default:typeof S.onClick!="function"&&typeof n.onClick=="function"&&(s.onclick=I1)}DT(r,n);var g,i;r=null;for(g in S)if(!n.hasOwnProperty(g)&&S.hasOwnProperty(g)&&S[g]!=null)if(g==="style")for(i in s=S[g],s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="");else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Bf.hasOwnProperty(g)?e||(e=[]):(e=e||[]).push(g,null));for(g in n){var o=n[g];if(s=S!=null?S[g]:void 0,n.hasOwnProperty(g)&&o!==s&&(o!=null||s!=null))if(g==="style")if(s){for(i in s)!s.hasOwnProperty(i)||o&&o.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in o)o.hasOwnProperty(i)&&s[i]!==o[i]&&(r||(r={}),r[i]=o[i])}else r||(e||(e=[]),e.push(g,r)),r=o;else g==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,s=s?s.__html:void 0,o!=null&&s!==o&&(e=e||[]).push(g,o)):g==="children"?s===o||typeof o!="string"&&typeof o!="number"||(e=e||[]).push(g,""+o):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Bf.hasOwnProperty(g)?(o!=null&&Gu(d,g),e||s===o||(e=[])):(e=e||[]).push(g,o))}r&&(e=e||[]).push("style",r),d=e,(t.updateQueue=d)&&(t.effectTag|=4)}};nM=function(e,t,r,n){r!==n&&(t.effectTag|=4)};function zg(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function cH(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return no(t.type)&&O1(),null;case 3:return Df(),Xn(ro),Xn(Ca),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),e!==null&&e.child!==null||!jg(t)||(t.effectTag|=4),e2(t),null;case 5:E3(t),r=td(om.current);var d=t.type;if(e!==null&&t.stateNode!=null)rM(e,t,d,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(t.stateNode===null)throw Error(gi(166));return null}if(e=td(bu.current),jg(t)){n=t.stateNode,d=t.type;var S=t.memoizedProps;switch(n[Uh]=t,n[M1]=S,d){case"iframe":case"object":case"embed":ts("load",n);break;case"video":case"audio":for(e=0;e<vv.length;e++)ts(vv[e],n);break;case"source":ts("error",n);break;case"img":case"image":case"link":ts("error",n),ts("load",n);break;case"form":ts("reset",n),ts("submit",n);break;case"details":ts("toggle",n);break;case"input":X4(n,S),ts("invalid",n),Gu(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!S.multiple},ts("invalid",n),Gu(r,"onChange");break;case"textarea":K4(n,S),ts("invalid",n),Gu(r,"onChange")}DT(d,S),e=null;for(var s in S)if(S.hasOwnProperty(s)){var g=S[s];s==="children"?typeof g=="string"?n.textContent!==g&&(e=["children",g]):typeof g=="number"&&n.textContent!==""+g&&(e=["children",""+g]):Bf.hasOwnProperty(s)&&g!=null&&Gu(r,s)}switch(d){case"input":Bg(n),Q4(n,S,!0);break;case"textarea":Bg(n),J4(n);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(n.onclick=I1)}r=e,t.updateQueue=r,r!==null&&(t.effectTag|=4)}else{switch(s=r.nodeType===9?r:r.ownerDocument,e===rk&&(e=JR(d)),e===rk?d==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(d,{is:n.is}):(e=s.createElement(d),d==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,d),e[Uh]=t,e[M1]=n,iM(e,t,!1,!1),t.stateNode=e,s=_T(d,n),d){case"iframe":case"object":case"embed":ts("load",e),g=n;break;case"video":case"audio":for(g=0;g<vv.length;g++)ts(vv[g],e);g=n;break;case"source":ts("error",e),g=n;break;case"img":case"image":case"link":ts("error",e),ts("load",e),g=n;break;case"form":ts("reset",e),ts("submit",e),g=n;break;case"details":ts("toggle",e),g=n;break;case"input":X4(e,n),g=PT(e,n),ts("invalid",e),Gu(r,"onChange");break;case"option":g=IT(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},g=La({},n,{value:void 0}),ts("invalid",e),Gu(r,"onChange");break;case"textarea":K4(e,n),g=MT(e,n),ts("invalid",e),Gu(r,"onChange");break;default:g=n}DT(d,g);var i=g;for(S in i)if(i.hasOwnProperty(S)){var o=i[S];S==="style"?mI(e,o):S==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&ZR(e,o)):S==="children"?typeof o=="string"?(d!=="textarea"||o!=="")&&tm(e,o):typeof o=="number"&&tm(e,""+o):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(Bf.hasOwnProperty(S)?o!=null&&Gu(r,S):o!=null&&e3(e,S,o,s))}switch(d){case"input":Bg(e),Q4(e,n,!1);break;case"textarea":Bg(e),J4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+lc(n.value));break;case"select":e.multiple=!!n.multiple,r=n.value,r!=null?xf(e,!!n.multiple,r,!1):n.defaultValue!=null&&xf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof g.onClick=="function"&&(e.onclick=I1)}bI(d,n)&&(t.effectTag|=4)}t.ref!==null&&(t.effectTag|=128)}return null;case 6:if(e&&t.stateNode!=null)nM(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(gi(166));r=td(om.current),td(bu.current),jg(t)?(r=t.stateNode,n=t.memoizedProps,r[Uh]=t,r.nodeValue!==n&&(t.effectTag|=4)):(r=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),r[Uh]=t,t.stateNode=r)}return null;case 13:return Xn(as),n=t.memoizedState,t.effectTag&64?(t.expirationTime=r,t):(r=n!==null,n=!1,e===null?t.memoizedProps.fallback!==void 0&&jg(t):(d=e.memoizedState,n=d!==null,r||d===null||(d=e.child.sibling,d!==null&&(S=t.firstEffect,S!==null?(t.firstEffect=d,d.nextEffect=S):(t.firstEffect=t.lastEffect=d,d.nextEffect=null),d.effectTag=8))),r&&!n&&t.mode&2&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||as.current&1?Ws===ud&&(Ws=W1):((Ws===ud||Ws===W1)&&(Ws=Hy),um!==0&&Eo!==null&&(rd(Eo,so),CM(Eo,um)))),(r||n)&&(t.effectTag|=4),null);case 4:return Df(),e2(t),null;case 10:return S3(t),null;case 17:return no(t.type)&&O1(),null;case 19:if(Xn(as),n=t.memoizedState,n===null)return null;if(d=(t.effectTag&64)!==0,S=n.rendering,S===null){if(d)zg(n,!1);else if(Ws!==ud||e!==null&&e.effectTag&64)for(S=t.child;S!==null;){if(e=_1(S),e!==null){for(t.effectTag|=64,zg(n,!1),d=e.updateQueue,d!==null&&(t.updateQueue=d,t.effectTag|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;n!==null;)d=n,S=r,d.effectTag&=2,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null,e=d.alternate,e===null?(d.childExpirationTime=0,d.expirationTime=S,d.child=null,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null):(d.childExpirationTime=e.childExpirationTime,d.expirationTime=e.expirationTime,d.child=e.child,d.memoizedProps=e.memoizedProps,d.memoizedState=e.memoizedState,d.updateQueue=e.updateQueue,S=e.dependencies,d.dependencies=S===null?null:{expirationTime:S.expirationTime,firstContext:S.firstContext,responders:S.responders}),n=n.sibling;return xs(as,as.current&1|2),t.child}S=S.sibling}}else{if(!d)if(e=_1(S),e!==null){if(t.effectTag|=64,d=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.effectTag|=4),zg(n,!0),n.tail===null&&n.tailMode==="hidden"&&!S.alternate)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Wo()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,d=!0,zg(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(S.sibling=t.child,t.child=S):(r=n.last,r!==null?r.sibling=S:t.child=S,n.last=S)}return n.tail!==null?(n.tailExpiration===0&&(n.tailExpiration=Wo()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Wo(),r.sibling=null,t=as.current,xs(as,d?t&1|2:t&1),r):null}throw Error(gi(156,t.tag))}function dH(e){switch(e.tag){case 1:no(e.type)&&O1();var t=e.effectTag;return t&4096?(e.effectTag=t&-4097|64,e):null;case 3:if(Df(),Xn(ro),Xn(Ca),t=e.effectTag,t&64)throw Error(gi(285));return e.effectTag=t&-4097|64,e;case 5:return E3(e),null;case 13:return Xn(as),t=e.effectTag,t&4096?(e.effectTag=t&-4097|64,e):null;case 19:return Xn(as),null;case 4:return Df(),null;case 10:return S3(e),null;default:return null}}function B3(e,t){return{value:e,source:t,stack:n3(t)}}var fH=typeof WeakSet=="function"?WeakSet:Set;function i2(e,t){var r=t.source,n=t.stack;n===null&&r!==null&&(n=n3(r)),r!==null&&oh(r.type),t=t.value,e!==null&&e.tag===1&&oh(e.type);try{console.error(t)}catch(d){setTimeout(function(){throw d})}}function pH(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(r){cd(e,r)}}function _k(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){cd(e,r)}else t.current=null}function vH(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.effectTag&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:dl(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(gi(163))}function sM(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,n!==void 0&&n()}r=r.next}while(r!==t)}}function aM(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mH(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:aM(3,r);return;case 1:if(e=r.stateNode,r.effectTag&4)if(t===null)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:dl(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}t=r.updateQueue,t!==null&&Tk(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}Tk(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.effectTag&4&&bI(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&dI(r))));return;case 19:case 17:case 20:case 21:return}throw Error(gi(163))}function jk(e,t,r){switch(typeof h2=="function"&&h2(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var n=e.next;hc(97<r?97:r,function(){var d=n;do{var S=d.destroy;if(S!==void 0){var s=t;try{S()}catch(g){cd(s,g)}}d=d.next}while(d!==n)})}break;case 1:_k(t),r=t.stateNode,typeof r.componentWillUnmount=="function"&&pH(t,r);break;case 5:_k(t);break;case 4:lM(e,t,r)}}function oM(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,t!==null&&oM(t)}function zk(e){return e.tag===5||e.tag===3||e.tag===4}function Uk(e){t:{for(var t=e.return;t!==null;){if(zk(t)){var r=t;break t}t=t.return}throw Error(gi(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(gi(161))}r.effectTag&16&&(tm(t,""),r.effectTag&=-17);t:e:for(r=e;;){for(;r.sibling===null;){if(r.return===null||zk(r.return)){r=null;break t}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.effectTag&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.effectTag&2)){r=r.stateNode;break t}}n?r2(e,r,t):n2(e,r,t)}function r2(e,t,r){var n=e.tag,d=n===5||n===6;if(d)e=d?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=I1));else if(n!==4&&(e=e.child,e!==null))for(r2(e,t,r),e=e.sibling;e!==null;)r2(e,t,r),e=e.sibling}function n2(e,t,r){var n=e.tag,d=n===5||n===6;if(d)e=d?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(n2(e,t,r),e=e.sibling;e!==null;)n2(e,t,r),e=e.sibling}function lM(e,t,r){for(var n=t,d=!1,S,s;;){if(!d){d=n.return;t:for(;;){if(d===null)throw Error(gi(160));switch(S=d.stateNode,d.tag){case 5:s=!1;break t;case 3:S=S.containerInfo,s=!0;break t;case 4:S=S.containerInfo,s=!0;break t}d=d.return}d=!0}if(n.tag===5||n.tag===6){t:for(var g=e,i=n,o=r,m=i;;)if(jk(g,m,o),m.child!==null&&m.tag!==4)m.child.return=m,m=m.child;else{if(m===i)break t;for(;m.sibling===null;){if(m.return===null||m.return===i)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}s?(g=S,i=n.stateNode,g.nodeType===8?g.parentNode.removeChild(i):g.removeChild(i)):S.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){S=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(jk(e,n,r),n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return,n.tag===4&&(d=!1)}n.sibling.return=n.return,n=n.sibling}}function Fb(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:sM(3,t);return;case 1:return;case 5:var r=t.stateNode;if(r!=null){var n=t.memoizedProps,d=e!==null?e.memoizedProps:n;e=t.type;var S=t.updateQueue;if(t.updateQueue=null,S!==null){for(r[M1]=n,e==="input"&&n.type==="radio"&&n.name!=null&&XR(r,n),_T(e,d),t=_T(e,n),d=0;d<S.length;d+=2){var s=S[d],g=S[d+1];s==="style"?mI(r,g):s==="dangerouslySetInnerHTML"?ZR(r,g):s==="children"?tm(r,g):e3(r,s,g,t)}switch(e){case"input":AT(r,n);break;case"textarea":QR(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,e=n.value,e!=null?xf(r,!!n.multiple,e,!1):t!==!!n.multiple&&(n.defaultValue!=null?xf(r,!!n.multiple,n.defaultValue,!0):xf(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(gi(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:t=t.stateNode,t.hydrate&&(t.hydrate=!1,dI(t.containerInfo));return;case 12:return;case 13:if(r=t,t.memoizedState===null?n=!1:(n=!0,r=t.child,L3=Wo()),r!==null)t:for(e=r;;){if(e.tag===5)S=e.stateNode,n?(S=S.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(S=e.stateNode,d=e.memoizedProps.style,d=d!=null&&d.hasOwnProperty("display")?d.display:null,S.style.display=vI("display",d));else if(e.tag===6)e.stateNode.nodeValue=n?"":e.memoizedProps;else if(e.tag===13&&e.memoizedState!==null&&e.memoizedState.dehydrated===null){S=e.child.sibling,S.return=e,e=S;continue}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}Gk(t);return;case 19:Gk(t);return;case 17:return}throw Error(gi(163))}function Gk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fH),t.forEach(function(n){var d=kH.bind(null,e,n);r.has(n)||(r.add(n),n.then(d,d))})}}var gH=typeof WeakMap=="function"?WeakMap:Map;function uM(e,t,r){r=ec(r,null),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){X1||(X1=!0,s2=n),i2(e,t)},r}function hM(e,t,r){r=ec(r,null),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var d=t.value;r.payload=function(){return i2(e,t),n(d)}}var S=e.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(rc===null?rc=new Set([this]):rc.add(this),i2(e,t));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}var yH=Math.ceil,H1=Fl.ReactCurrentDispatcher,cM=Fl.ReactCurrentOwner,Vs=0,O3=8,Dl=16,Tu=32,ud=0,$1=1,dM=2,W1=3,Hy=4,N3=5,vr=Vs,Eo=null,Er=null,so=0,Ws=ud,$y=null,Ju=1073741823,lm=1073741823,V1=null,um=0,Y1=!1,L3=0,fM=500,Ji=null,X1=!1,s2=null,rc=null,Q1=!1,Mv=null,gv=90,ed=null,Bv=0,a2=null,G0=0;function Su(){return(vr&(Dl|Tu))!==Vs?1073741821-(Wo()/10|0):G0!==0?G0:G0=1073741821-(Wo()/10|0)}function hd(e,t,r){if(t=t.mode,!(t&2))return 1073741823;var n=Uy();if(!(t&4))return n===99?1073741823:1073741822;if((vr&Dl)!==Vs)return so;if(r!==null)e=z0(e,r.timeoutMs|0||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=z0(e,150,100);break;case 97:case 96:e=z0(e,5e3,250);break;case 95:e=2;break;default:throw Error(gi(326))}return Eo!==null&&e===so&&--e,e}function nc(e,t){if(50<Bv)throw Bv=0,a2=null,Error(gi(185));if(e=Wy(e,t),e!==null){var r=Uy();t===1073741823?(vr&O3)!==Vs&&(vr&(Dl|Tu))===Vs?o2(e):(ko(e),vr===Vs&&ku()):ko(e),(vr&4)===Vs||r!==98&&r!==99||(ed===null?ed=new Map([[e,t]]):(r=ed.get(e),(r===void 0||r>t)&&ed.set(e,t)))}}function Wy(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;r!==null&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,d=null;if(n===null&&e.tag===3)d=e.stateNode;else for(;n!==null;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),r!==null&&r.childExpirationTime<t&&(r.childExpirationTime=t),n.return===null&&n.tag===3){d=n.stateNode;break}n=n.return}return d!==null&&(Eo===d&&(Vy(t),Ws===Hy&&rd(d,so)),CM(d,t)),d}function H0(e){var t=e.lastExpiredTime;if(t!==0||(t=e.firstPendingTime,!TM(e,t)))return t;var r=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=r>e?r:e,2>=e&&t!==e?0:e}function ko(e){if(e.lastExpiredTime!==0)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Sk(o2.bind(null,e));else{var t=H0(e),r=e.callbackNode;if(t===0)r!==null&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=Su();if(t===1073741823?n=99:t===1||t===2?n=95:(n=10*(1073741821-t)-10*(1073741821-n),n=0>=n?99:250>=n?98:5250>=n?97:95),r!==null){var d=e.callbackPriority;if(e.callbackExpirationTime===t&&d>=n)return;r!==jI&&NI(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=t===1073741823?Sk(o2.bind(null,e)):UI(n,pM.bind(null,e),{timeout:10*(1073741821-t)-Wo()}),e.callbackNode=t}}}function pM(e,t){if(G0=0,t)return t=Su(),c2(e,t),ko(e),null;var r=H0(e);if(r!==0){if(t=e.callbackNode,(vr&(Dl|Tu))!==Vs)throw Error(gi(327));if(ep(),e===Eo&&r===so||id(e,r),Er!==null){var n=vr;vr|=Dl;var d=yM();do try{SH();break}catch(g){gM(e,g)}while(!0);if(b3(),vr=n,H1.current=d,Ws===$1)throw t=$y,id(e,r),rd(e,r),ko(e),t;if(Er===null)switch(d=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Ws,Eo=null,n){case ud:case $1:throw Error(gi(345));case dM:c2(e,2<r?2:r);break;case W1:if(rd(e,r),n=e.lastSuspendedTime,r===n&&(e.nextKnownPendingLevel=l2(d)),Ju===1073741823&&(d=L3+fM-Wo(),10<d)){if(Y1){var S=e.lastPingedTime;if(S===0||S>=r){e.lastPingedTime=r,id(e,r);break}}if(S=H0(e),S!==0&&S!==r)break;if(n!==0&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=Ib($c.bind(null,e),d);break}$c(e);break;case Hy:if(rd(e,r),n=e.lastSuspendedTime,r===n&&(e.nextKnownPendingLevel=l2(d)),Y1&&(d=e.lastPingedTime,d===0||d>=r)){e.lastPingedTime=r,id(e,r);break}if(d=H0(e),d!==0&&d!==r)break;if(n!==0&&n!==r){e.lastPingedTime=n;break}if(lm!==1073741823?n=10*(1073741821-lm)-Wo():Ju===1073741823?n=0:(n=10*(1073741821-Ju)-5e3,d=Wo(),r=10*(1073741821-r)-d,n=d-n,0>n&&(n=0),n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yH(n/1960))-n,r<n&&(n=r)),10<n){e.timeoutHandle=Ib($c.bind(null,e),n);break}$c(e);break;case N3:if(Ju!==1073741823&&V1!==null){S=Ju;var s=V1;if(n=s.busyMinDurationMs|0,0>=n?n=0:(d=s.busyDelayMs|0,S=Wo()-(10*(1073741821-S)-(s.timeoutMs|0||5e3)),n=S<=d?0:d+n-S),10<n){rd(e,r),e.timeoutHandle=Ib($c.bind(null,e),n);break}}$c(e);break;default:throw Error(gi(329))}if(ko(e),e.callbackNode===t)return pM.bind(null,e)}}return null}function o2(e){var t=e.lastExpiredTime;if(t=t!==0?t:1073741823,(vr&(Dl|Tu))!==Vs)throw Error(gi(327));if(ep(),e===Eo&&t===so||id(e,t),Er!==null){var r=vr;vr|=Dl;var n=yM();do try{bH();break}catch(d){gM(e,d)}while(!0);if(b3(),vr=r,H1.current=n,Ws===$1)throw r=$y,id(e,t),rd(e,t),ko(e),r;if(Er!==null)throw Error(gi(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Eo=null,$c(e),ko(e)}return null}function xH(){if(ed!==null){var e=ed;ed=null,e.forEach(function(t,r){c2(r,t),ko(r)}),ku()}}function vM(e,t){var r=vr;vr|=1;try{return e(t)}finally{vr=r,vr===Vs&&ku()}}function mM(e,t){var r=vr;vr&=-2,vr|=O3;try{return e(t)}finally{vr=r,vr===Vs&&ku()}}function id(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yG(r)),Er!==null)for(r=Er.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&O1();break;case 3:Df(),Xn(ro),Xn(Ca);break;case 5:E3(n);break;case 4:Df();break;case 13:Xn(as);break;case 19:Xn(as);break;case 10:S3(n)}r=r.return}Eo=e,Er=wd(e.current,null),so=t,Ws=ud,$y=null,lm=Ju=1073741823,V1=null,um=0,Y1=!1}function gM(e,t){do{try{if(b3(),U0.current=G1,j1)for(var r=Os.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}if(Hh=0,ga=ma=Os=null,j1=!1,Er===null||Er.return===null)return Ws=$1,$y=t,Er=null;t:{var d=e,S=Er.return,s=Er,g=t;if(t=so,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,g!==null&&typeof g=="object"&&typeof g.then=="function"){var i=g;if(!(s.mode&2)){var o=s.alternate;o?(s.updateQueue=o.updateQueue,s.memoizedState=o.memoizedState,s.expirationTime=o.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var m=(as.current&1)!==0,c=S;do{var l;if(l=c.tag===13){var h=c.memoizedState;if(h!==null)l=h.dehydrated!==null;else{var a=c.memoizedProps;l=a.fallback===void 0?!1:a.unstable_avoidThisFallback!==!0?!0:!m}}if(l){var f=c.updateQueue;if(f===null){var p=new Set;p.add(i),c.updateQueue=p}else f.add(i);if(!(c.mode&2)){if(c.effectTag|=64,s.effectTag&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var u=ec(1073741823,null);u.tag=2,ic(s,u)}s.expirationTime=1073741823;break t}g=void 0,s=t;var v=d.pingCache;if(v===null?(v=d.pingCache=new gH,g=new Set,v.set(i,g)):(g=v.get(i),g===void 0&&(g=new Set,v.set(i,g))),!g.has(s)){g.add(s);var y=EH.bind(null,d,i,s);i.then(y,y)}c.effectTag|=4096,c.expirationTime=t;break t}c=c.return}while(c!==null);g=Error((oh(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+n3(s))}Ws!==N3&&(Ws=dM),g=B3(g,s),c=S;do{switch(c.tag){case 3:i=g,c.effectTag|=4096,c.expirationTime=t;var x=uM(c,i,t);wk(c,x);break t;case 1:i=g;var b=c.type,w=c.stateNode;if(!(c.effectTag&64)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(rc===null||!rc.has(w)))){c.effectTag|=4096,c.expirationTime=t;var C=hM(c,i,t);wk(c,C);break t}}c=c.return}while(c!==null)}Er=SM(Er)}catch(E){t=E;continue}break}while(!0)}function yM(){var e=H1.current;return H1.current=G1,e===null?G1:e}function xM(e,t){e<Ju&&2<e&&(Ju=e),t!==null&&e<lm&&2<e&&(lm=e,V1=t)}function Vy(e){e>um&&(um=e)}function bH(){for(;Er!==null;)Er=bM(Er)}function SH(){for(;Er!==null&&!sH();)Er=bM(Er)}function bM(e){var t=wM(e.alternate,e,so);return e.memoizedProps=e.pendingProps,t===null&&(t=SM(e)),cM.current=null,t}function SM(e){Er=e;do{var t=Er.alternate;if(e=Er.return,Er.effectTag&2048){if(t=dH(Er),t!==null)return t.effectTag&=2047,t;e!==null&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}else{if(t=cH(t,Er,so),so===1||Er.childExpirationTime!==1){for(var r=0,n=Er.child;n!==null;){var d=n.expirationTime,S=n.childExpirationTime;d>r&&(r=d),S>r&&(r=S),n=n.sibling}Er.childExpirationTime=r}if(t!==null)return t;e!==null&&!(e.effectTag&2048)&&(e.firstEffect===null&&(e.firstEffect=Er.firstEffect),Er.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=Er.firstEffect),e.lastEffect=Er.lastEffect),1<Er.effectTag&&(e.lastEffect!==null?e.lastEffect.nextEffect=Er:e.firstEffect=Er,e.lastEffect=Er))}if(t=Er.sibling,t!==null)return t;Er=e}while(Er!==null);return Ws===ud&&(Ws=N3),null}function l2(e){var t=e.expirationTime;return e=e.childExpirationTime,t>e?t:e}function $c(e){var t=Uy();return hc(99,wH.bind(null,e,t)),null}function wH(e,t){do ep();while(Mv!==null);if((vr&(Dl|Tu))!==Vs)throw Error(gi(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(r===null)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(gi(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var d=l2(r);if(e.firstPendingTime=d,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Eo&&(Er=Eo=null,so=0),1<r.effectTag?r.lastEffect!==null?(r.lastEffect.nextEffect=r,d=r.firstEffect):d=r:d=r.firstEffect,d!==null){var S=vr;vr|=Tu,cM.current=null,Ab=N0;var s=ak();if(zT(s)){if("selectionStart"in s)var g={start:s.selectionStart,end:s.selectionEnd};else t:{g=(g=s.ownerDocument)&&g.defaultView||window;var i=g.getSelection&&g.getSelection();if(i&&i.rangeCount!==0){g=i.anchorNode;var o=i.anchorOffset,m=i.focusNode;i=i.focusOffset;try{g.nodeType,m.nodeType}catch(T){g=null;break t}var c=0,l=-1,h=-1,a=0,f=0,p=s,u=null;e:for(;;){for(var v;p!==g||o!==0&&p.nodeType!==3||(l=c+o),p!==m||i!==0&&p.nodeType!==3||(h=c+i),p.nodeType===3&&(c+=p.nodeValue.length),(v=p.firstChild)!==null;)u=p,p=v;for(;;){if(p===s)break e;if(u===g&&++a===o&&(l=c),u===m&&++f===i&&(h=c),(v=p.nextSibling)!==null)break;p=u,u=p.parentNode}p=v}g=l===-1||h===-1?null:{start:l,end:h}}else g=null}g=g||{start:0,end:0}}else g=null;Rb={activeElementDetached:null,focusedElem:s,selectionRange:g},N0=!1,Ji=d;do try{TH()}catch(T){if(Ji===null)throw Error(gi(330));cd(Ji,T),Ji=Ji.nextEffect}while(Ji!==null);Ji=d;do try{for(s=e,g=t;Ji!==null;){var y=Ji.effectTag;if(y&16&&tm(Ji.stateNode,""),y&128){var x=Ji.alternate;if(x!==null){var b=x.ref;b!==null&&(typeof b=="function"?b(null):b.current=null)}}switch(y&1038){case 2:Uk(Ji),Ji.effectTag&=-3;break;case 6:Uk(Ji),Ji.effectTag&=-3,Fb(Ji.alternate,Ji);break;case 1024:Ji.effectTag&=-1025;break;case 1028:Ji.effectTag&=-1025,Fb(Ji.alternate,Ji);break;case 4:Fb(Ji.alternate,Ji);break;case 8:o=Ji,lM(s,o,g),oM(o)}Ji=Ji.nextEffect}}catch(T){if(Ji===null)throw Error(gi(330));cd(Ji,T),Ji=Ji.nextEffect}while(Ji!==null);if(b=Rb,x=ak(),y=b.focusedElem,g=b.selectionRange,x!==y&&y&&y.ownerDocument&&gI(y.ownerDocument.documentElement,y)){for(g!==null&&zT(y)&&(x=g.start,b=g.end,b===void 0&&(b=x),"selectionStart"in y?(y.selectionStart=x,y.selectionEnd=Math.min(b,y.value.length)):(b=(x=y.ownerDocument||document)&&x.defaultView||window,b.getSelection&&(b=b.getSelection(),o=y.textContent.length,s=Math.min(g.start,o),g=g.end===void 0?s:Math.min(g.end,o),!b.extend&&s>g&&(o=g,g=s,s=o),o=sk(y,s),m=sk(y,g),o&&m&&(b.rangeCount!==1||b.anchorNode!==o.node||b.anchorOffset!==o.offset||b.focusNode!==m.node||b.focusOffset!==m.offset)&&(x=x.createRange(),x.setStart(o.node,o.offset),b.removeAllRanges(),s>g?(b.addRange(x),b.extend(m.node,m.offset)):(x.setEnd(m.node,m.offset),b.addRange(x)))))),x=[],b=y;b=b.parentNode;)b.nodeType===1&&x.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<x.length;y++)b=x[y],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}N0=!!Ab,Rb=Ab=null,e.current=r,Ji=d;do try{for(y=e;Ji!==null;){var w=Ji.effectTag;if(w&36&&mH(y,Ji.alternate,Ji),w&128){x=void 0;var C=Ji.ref;if(C!==null){var E=Ji.stateNode;switch(Ji.tag){case 5:x=E;break;default:x=E}typeof C=="function"?C(x):C.current=x}}Ji=Ji.nextEffect}}catch(T){if(Ji===null)throw Error(gi(330));cd(Ji,T),Ji=Ji.nextEffect}while(Ji!==null);Ji=null,aH(),vr=S}else e.current=r;if(Q1)Q1=!1,Mv=e,gv=t;else for(Ji=d;Ji!==null;)t=Ji.nextEffect,Ji.nextEffect=null,Ji=t;if(t=e.firstPendingTime,t===0&&(rc=null),t===1073741823?e===a2?Bv++:(Bv=0,a2=e):Bv=0,typeof u2=="function"&&u2(r.stateNode,n),ko(e),X1)throw X1=!1,e=s2,s2=null,e;return(vr&O3)!==Vs||ku(),null}function TH(){for(;Ji!==null;){var e=Ji.effectTag;e&256&&vH(Ji.alternate,Ji),!(e&512)||Q1||(Q1=!0,UI(97,function(){return ep(),null})),Ji=Ji.nextEffect}}function ep(){if(gv!==90){var e=97<gv?97:gv;return gv=90,hc(e,CH)}}function CH(){if(Mv===null)return!1;var e=Mv;if(Mv=null,(vr&(Dl|Tu))!==Vs)throw Error(gi(331));var t=vr;for(vr|=Tu,e=e.current.firstEffect;e!==null;){try{var r=e;if(r.effectTag&512)switch(r.tag){case 0:case 11:case 15:case 22:sM(5,r),aM(5,r)}}catch(n){if(e===null)throw Error(gi(330));cd(e,n)}r=e.nextEffect,e.nextEffect=null,e=r}return vr=t,ku(),!0}function Hk(e,t,r){t=B3(r,t),t=uM(e,t,1073741823),ic(e,t),e=Wy(e,1073741823),e!==null&&ko(e)}function cd(e,t){if(e.tag===3)Hk(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){Hk(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rc===null||!rc.has(n))){e=B3(t,e),e=hM(r,e,1073741823),ic(r,e),r=Wy(r,1073741823),r!==null&&ko(r);break}}r=r.return}}function EH(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),Eo===e&&so===r?Ws===Hy||Ws===W1&&Ju===1073741823&&Wo()-L3<fM?id(e,so):Y1=!0:TM(e,r)&&(t=e.lastPingedTime,t!==0&&t<r||(e.lastPingedTime=r,ko(e)))}function kH(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=Su(),t=hd(t,e,null)),e=Wy(e,t),e!==null&&ko(e)}var wM;wM=function(e,t,r){var n=t.expirationTime;if(e!==null){var d=t.pendingProps;if(e.memoizedProps!==d||ro.current)mu=!0;else{if(n<r){switch(mu=!1,t.tag){case 3:Nk(t),Ob();break;case 5:if(kk(t),t.mode&4&&r!==1&&d.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:no(t.type)&&_0(t);break;case 4:QT(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,d=t.type._context,xs(N1,d._currentValue),d._currentValue=n;break;case 13:if(t.memoizedState!==null)return n=t.child.childExpirationTime,n!==0&&n>=r?Lk(e,t,r):(xs(as,as.current&1),t=rh(e,t,r),t!==null?t.sibling:null);xs(as,as.current&1);break;case 19:if(n=t.childExpirationTime>=r,e.effectTag&64){if(n)return Dk(e,t,r);t.effectTag|=64}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null),xs(as,as.current),!n)return null}return rh(e,t,r)}mu=!1}}else mu=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,d=Lf(t,Ca.current),Sf(t,r),d=A3(null,t,n,e,d,r),t.effectTag|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,no(n)){var S=!0;_0(t)}else S=!1;t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,w3(t);var s=n.getDerivedStateFromProps;typeof s=="function"&&D1(t,n,s,e),d.updater=Gy,t.stateNode=d,d._reactInternalFiber=t,XT(t,n,e,r),t=t2(null,t,n,!0,S,r)}else t.tag=0,xo(null,t,d,r),t=t.child;return t;case 16:t:{if(d=t.elementType,e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,eG(d),d._status!==1)throw d._result;switch(d=d._result,t.type=d,S=t.tag=RH(d),e=dl(d,e),S){case 0:t=qT(null,t,d,e,r);break t;case 1:t=Ok(null,t,d,e,r);break t;case 11:t=Mk(null,t,d,e,r);break t;case 14:t=Bk(null,t,d,dl(d.type,e),n,r);break t}throw Error(gi(306,d,""))}return t;case 0:return n=t.type,d=t.pendingProps,d=t.elementType===n?d:dl(n,d),qT(e,t,n,d,r);case 1:return n=t.type,d=t.pendingProps,d=t.elementType===n?d:dl(n,d),Ok(e,t,n,d,r);case 3:if(Nk(t),n=t.updateQueue,e===null||n===null)throw Error(gi(282));if(n=t.pendingProps,d=t.memoizedState,d=d!==null?d.element:null,T3(e,t),sm(t,n,null,r),n=t.memoizedState.element,n===d)Ob(),t=rh(e,t,r);else{if((d=t.stateNode.hydrate)&&($h=bf(t.stateNode.containerInfo.firstChild),ih=t,d=ld=!0),d)for(r=C3(t,null,n,r),t.child=r;r;)r.effectTag=r.effectTag&-3|1024,r=r.sibling;else xo(e,t,n,r),Ob();t=t.child}return t;case 5:return kk(t),e===null&&ZT(t),n=t.type,d=t.pendingProps,S=e!==null?e.memoizedProps:null,s=d.children,UT(n,d)?s=null:S!==null&&UT(n,S)&&(t.effectTag|=16),eM(e,t),t.mode&4&&r!==1&&d.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(xo(e,t,s,r),t=t.child),t;case 6:return e===null&&ZT(t),null;case 13:return Lk(e,t,r);case 4:return QT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ff(t,null,n,r):xo(e,t,n,r),t.child;case 11:return n=t.type,d=t.pendingProps,d=t.elementType===n?d:dl(n,d),Mk(e,t,n,d,r);case 7:return xo(e,t,t.pendingProps,r),t.child;case 8:return xo(e,t,t.pendingProps.children,r),t.child;case 12:return xo(e,t,t.pendingProps.children,r),t.child;case 10:t:{n=t.type._context,d=t.pendingProps,s=t.memoizedProps,S=d.value;var g=t.type._context;if(xs(N1,g._currentValue),g._currentValue=S,s!==null)if(g=s.value,S=bd(g,S)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(g,S):1073741823)|0,S===0){if(s.children===d.children&&!ro.current){t=rh(e,t,r);break t}}else for(g=t.child,g!==null&&(g.return=t);g!==null;){var i=g.dependencies;if(i!==null){s=g.child;for(var o=i.firstContext;o!==null;){if(o.context===n&&o.observedBits&S){g.tag===1&&(o=ec(r,null),o.tag=2,ic(g,o)),g.expirationTime<r&&(g.expirationTime=r),o=g.alternate,o!==null&&o.expirationTime<r&&(o.expirationTime=r),HI(g.return,r),i.expirationTime<r&&(i.expirationTime=r);break}o=o.next}}else s=g.tag===10&&g.type===t.type?null:g.child;if(s!==null)s.return=g;else for(s=g;s!==null;){if(s===t){s=null;break}if(g=s.sibling,g!==null){g.return=s.return,s=g;break}s=s.return}g=s}xo(e,t,d.children,r),t=t.child}return t;case 9:return d=t.type,S=t.pendingProps,n=S.children,Sf(t,r),d=Qo(d,S.unstable_observedBits),n=n(d),t.effectTag|=1,xo(e,t,n,r),t.child;case 14:return d=t.type,S=dl(d,t.pendingProps),S=dl(d.type,S),Bk(e,t,d,S,n,r);case 15:return tM(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,d=t.pendingProps,d=t.elementType===n?d:dl(n,d),e!==null&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,no(n)?(e=!0,_0(t)):e=!1,Sf(t,r),WI(t,n,d),XT(t,n,d,r),t2(null,t,n,!0,e,r);case 19:return Dk(e,t,r)}throw Error(gi(156,t.tag))};var u2=null,h2=null;function PH(e){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);u2=function(n){try{t.onCommitFiberRoot(r,n,void 0,(n.current.effectTag&64)===64)}catch(d){}},h2=function(n){try{t.onCommitFiberUnmount(r,n)}catch(d){}}}catch(n){}return!0}function AH(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function gu(e,t,r,n){return new AH(e,t,r,n)}function F3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RH(e){if(typeof e=="function")return F3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===i3)return 11;if(e===r3)return 14}return 2}function wd(e,t){var r=e.alternate;return r===null?(r=gu(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $0(e,t,r,n,d,S){var s=2;if(n=e,typeof e=="function")F3(e)&&(s=1);else if(typeof e=="string")s=5;else t:switch(e){case Yc:return Wh(r.children,d,S,t);case tG:s=8,d|=7;break;case UR:s=8,d|=1;break;case M0:return e=gu(12,r,t,d|8),e.elementType=M0,e.type=M0,e.expirationTime=S,e;case B0:return e=gu(13,r,t,d),e.type=B0,e.elementType=B0,e.expirationTime=S,e;case kT:return e=gu(19,r,t,d),e.elementType=kT,e.expirationTime=S,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GR:s=10;break t;case HR:s=9;break t;case i3:s=11;break t;case r3:s=14;break t;case $R:s=16,n=null;break t;case WR:s=22;break t}throw Error(gi(130,e==null?e:typeof e,""))}return t=gu(s,r,t,d),t.elementType=e,t.type=n,t.expirationTime=S,t}function Wh(e,t,r,n){return e=gu(7,e,n,t),e.expirationTime=r,e}function Db(e,t,r){return e=gu(6,e,null,t),e.expirationTime=r,e}function _b(e,t,r){return t=gu(4,e.children!==null?e.children:[],e.key,t),t.expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IH(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function TM(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,r!==0&&r>=t&&e<=t}function rd(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||r===0)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function CM(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;r!==0&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function c2(e,t){var r=e.lastExpiredTime;(r===0||r>t)&&(e.lastExpiredTime=t)}function K1(e,t,r,n){var d=t.current,S=Su(),s=Iv.suspense;S=hd(S,d,s);t:if(r){r=r._reactInternalFiber;e:{if(kd(r)!==r||r.tag!==1)throw Error(gi(170));var g=r;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(no(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(gi(171))}if(r.tag===1){var i=r.type;if(no(i)){r=OI(r,i,g);break t}}r=g}else r=uc;return t.context===null?t.context=r:t.pendingContext=r,t=ec(S,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),ic(d,t),nc(d,S),S}function jb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $k(e,t){e=e.memoizedState,e!==null&&e.dehydrated!==null&&e.retryTime<t&&(e.retryTime=t)}function D3(e,t){$k(e,t),(e=e.alternate)&&$k(e,t)}function _3(e,t,r){r=r!=null&&r.hydrate===!0;var n=new IH(e,t,r),d=gu(3,null,null,t===2?7:t===1?3:0);n.current=d,d.stateNode=n,w3(d),e[Fm]=n.current,r&&t!==0&&oG(e,e.nodeType===9?e:e.ownerDocument),this._internalRoot=n}_3.prototype.render=function(e){K1(e,this._internalRoot,null,null)};_3.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;K1(null,e,null,function(){t[Fm]=null})};function Gm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function MH(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new _3(e,0,t?{hydrate:!0}:void 0)}function Yy(e,t,r,n,d){var S=r._reactRootContainer;if(S){var s=S._internalRoot;if(typeof d=="function"){var g=d;d=function(){var o=jb(s);g.call(o)}}K1(t,s,e,d)}else{if(S=r._reactRootContainer=MH(r,n),s=S._internalRoot,typeof d=="function"){var i=d;d=function(){var o=jb(s);i.call(o)}}mM(function(){K1(t,s,e,d)})}return jb(s)}function BH(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}hI=function(e){if(e.tag===13){var t=z0(Su(),150,100);nc(e,t),D3(e,t)}};l3=function(e){e.tag===13&&(nc(e,3),D3(e,3))};cI=function(e){if(e.tag===13){var t=Su();t=hd(t,e,null),nc(e,t),D3(e,t)}};ET=function(e,t,r){switch(t){case"input":if(AT(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var d=v3(n);if(!d)throw Error(gi(90));YR(n),AT(n,d)}}}break;case"textarea":QR(e,r);break;case"select":t=r.value,t!=null&&xf(e,!!r.multiple,t,!1)}};KC=vM;_R=function(e,t,r,n,d){var S=vr;vr|=4;try{return hc(98,e.bind(null,t,r,n,d))}finally{vr=S,vr===Vs&&ku()}};JC=function(){(vr&(1|Dl|Tu))===Vs&&(xH(),ep())};jR=function(e,t){var r=vr;vr|=2;try{return e(t)}finally{vr=r,vr===Vs&&ku()}};function EM(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gm(t))throw Error(gi(200));return BH(e,t,null,r)}var OH={Events:[_m,xd,v3,LR,CT,Nf,function(e){a3(e,bG)},FR,DR,_y,Dy,ep,{current:!1}]};(function(e){var t=e.findFiberByHostInstance;return PH(La({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fl.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=sI(r),r===null?null:r.stateNode},findFiberByHostInstance:function(r){return t?t(r):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Dm,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});el.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OH;el.createPortal=EM;el.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternalFiber;if(t===void 0)throw typeof e.render=="function"?Error(gi(188)):Error(gi(268,Object.keys(e)));return e=sI(t),e=e===null?null:e.stateNode,e};el.flushSync=function(e,t){if((vr&(Dl|Tu))!==Vs)throw Error(gi(187));var r=vr;vr|=1;try{return hc(99,e.bind(null,t))}finally{vr=r,ku()}};el.hydrate=function(e,t,r){if(!Gm(t))throw Error(gi(200));return Yy(null,e,t,!0,r)};el.render=function(e,t,r){if(!Gm(t))throw Error(gi(200));return Yy(null,e,t,!1,r)};el.unmountComponentAtNode=function(e){if(!Gm(e))throw Error(gi(40));return e._reactRootContainer?(mM(function(){Yy(null,null,e,!1,function(){e._reactRootContainer=null,e[Fm]=null})}),!0):!1};el.unstable_batchedUpdates=vM;el.unstable_createPortal=function(e,t){return EM(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};el.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gm(r))throw Error(gi(200));if(e==null||e._reactInternalFiber===void 0)throw Error(gi(38));return Yy(e,t,r,!1,n)};el.version="16.14.0";function kM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kM)}catch(e){console.error(e)}}kM(),RR.exports=el;var PM=RR.exports;const NH=ks(PM);function d2(e,t){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,d){return n.__proto__=d,n},d2(e,t)}function Ko(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,d2(e,t)}var AM={exports:{}},LH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FH=LH,DH=FH;function RM(){}function IM(){}IM.resetWarningCache=RM;var _H=function(){function e(n,d,S,s,g,i){if(i!==DH){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:IM,resetWarningCache:RM};return r.PropTypes=r,r};AM.exports=_H();var ip=AM.exports;const Xt=ks(ip);var MM=ti.createContext(null),BM=function(e){Ko(t,e);function t(n){var d;d=e.call(this,n)||this;var S=n.store;return d.state={storeState:S.getState(),store:S},d}var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0,this.subscribe()},r.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},r.componentDidUpdate=function(d){this.props.store!==d.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},r.subscribe=function(){var d=this,S=this.props.store;this.unsubscribe=S.subscribe(function(){var g=S.getState();d._isMounted&&d.setState(function(i){return i.storeState===g?null:{storeState:g}})});var s=S.getState();s!==this.state.storeState&&this.setState({storeState:s})},r.render=function(){var d=this.props.context||MM;return ti.createElement(d.Provider,{value:this.state},this.props.children)},t}(_i.Component);BM.propTypes={store:Xt.shape({subscribe:Xt.func.isRequired,dispatch:Xt.func.isRequired,getState:Xt.func.isRequired}),context:Xt.object,children:Xt.any};function jH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kn.apply(this,arguments)}function vh(e,t){if(e==null)return{};var r={},n=Object.keys(e),d,S;for(S=0;S<n.length;S++)d=n[S],!(t.indexOf(d)>=0)&&(r[d]=e[d]);return r}var OM={exports:{}},dn={};var Xs=typeof Symbol=="function"&&Symbol.for,j3=Xs?Symbol.for("react.element"):60103,z3=Xs?Symbol.for("react.portal"):60106,Xy=Xs?Symbol.for("react.fragment"):60107,Qy=Xs?Symbol.for("react.strict_mode"):60108,Ky=Xs?Symbol.for("react.profiler"):60114,Jy=Xs?Symbol.for("react.provider"):60109,Zy=Xs?Symbol.for("react.context"):60110,U3=Xs?Symbol.for("react.async_mode"):60111,qy=Xs?Symbol.for("react.concurrent_mode"):60111,tx=Xs?Symbol.for("react.forward_ref"):60112,ex=Xs?Symbol.for("react.suspense"):60113,zH=Xs?Symbol.for("react.suspense_list"):60120,ix=Xs?Symbol.for("react.memo"):60115,rx=Xs?Symbol.for("react.lazy"):60116,UH=Xs?Symbol.for("react.block"):60121,GH=Xs?Symbol.for("react.fundamental"):60117,HH=Xs?Symbol.for("react.responder"):60118,$H=Xs?Symbol.for("react.scope"):60119;function Ro(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case j3:switch(e=e.type,e){case U3:case qy:case Xy:case Ky:case Qy:case ex:return e;default:switch(e=e&&e.$$typeof,e){case Zy:case tx:case rx:case ix:case Jy:return e;default:return t}}case z3:return t}}}function NM(e){return Ro(e)===qy}dn.AsyncMode=U3;dn.ConcurrentMode=qy;dn.ContextConsumer=Zy;dn.ContextProvider=Jy;dn.Element=j3;dn.ForwardRef=tx;dn.Fragment=Xy;dn.Lazy=rx;dn.Memo=ix;dn.Portal=z3;dn.Profiler=Ky;dn.StrictMode=Qy;dn.Suspense=ex;dn.isAsyncMode=function(e){return NM(e)||Ro(e)===U3};dn.isConcurrentMode=NM;dn.isContextConsumer=function(e){return Ro(e)===Zy};dn.isContextProvider=function(e){return Ro(e)===Jy};dn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===j3};dn.isForwardRef=function(e){return Ro(e)===tx};dn.isFragment=function(e){return Ro(e)===Xy};dn.isLazy=function(e){return Ro(e)===rx};dn.isMemo=function(e){return Ro(e)===ix};dn.isPortal=function(e){return Ro(e)===z3};dn.isProfiler=function(e){return Ro(e)===Ky};dn.isStrictMode=function(e){return Ro(e)===Qy};dn.isSuspense=function(e){return Ro(e)===ex};dn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xy||e===qy||e===Ky||e===Qy||e===ex||e===zH||typeof e=="object"&&e!==null&&(e.$$typeof===rx||e.$$typeof===ix||e.$$typeof===Jy||e.$$typeof===Zy||e.$$typeof===tx||e.$$typeof===GH||e.$$typeof===HH||e.$$typeof===$H||e.$$typeof===UH)};dn.typeOf=Ro;OM.exports=dn;var LM=OM.exports,G3=LM,WH={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},VH={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},YH={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},FM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},H3={};H3[G3.ForwardRef]=YH;H3[G3.Memo]=FM;function Wk(e){return G3.isMemo(e)?FM:H3[e.$$typeof]||WH}var XH=Object.defineProperty,QH=Object.getOwnPropertyNames,Vk=Object.getOwnPropertySymbols,KH=Object.getOwnPropertyDescriptor,JH=Object.getPrototypeOf,Yk=Object.prototype;function DM(e,t,r){if(typeof t!="string"){if(Yk){var n=JH(t);n&&n!==Yk&&DM(e,n,r)}var d=QH(t);Vk&&(d=d.concat(Vk(t)));for(var S=Wk(e),s=Wk(t),g=0;g<d.length;++g){var i=d[g];if(!VH[i]&&!(r&&r[i])&&!(s&&s[i])&&!(S&&S[i])){var o=KH(t,i);try{XH(e,i,o)}catch(m){}}}}return e}var ZH=DM;const f2=ks(ZH);var qH=function(e,t,r,n,d,S,s,g){if(!e){var i;if(t===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=[r,n,d,S,s,g],m=0;i=new Error(t.replace(/%s/g,function(){return o[m++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}},_M=qH;const Up=ks(_M);function t$(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,d=n===void 0?function(w){return"ConnectAdvanced("+w+")"}:n,S=r.methodName,s=S===void 0?"connectAdvanced":S,g=r.renderCountProp,i=g===void 0?void 0:g,o=r.shouldHandleStateChanges,m=o===void 0?!0:o,c=r.storeKey,l=c===void 0?"store":c,h=r.withRef,a=h===void 0?!1:h,f=r.forwardRef,p=f===void 0?!1:f,u=r.context,v=u===void 0?MM:u,y=vh(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);Up(i===void 0,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),Up(!a,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var x="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";Up(l==="store","storeKey has been removed and does not do anything. "+x);var b=v;return function(C){var E=C.displayName||C.name||"Component",T=d(E),k=Kn({},y,{getDisplayName:d,methodName:s,renderCountProp:i,shouldHandleStateChanges:m,storeKey:l,displayName:T,wrappedComponentName:E,WrappedComponent:C}),A=y.pure,I=_i.Component;A&&(I=_i.PureComponent);function B(){var L,_,G,$,W,Y;return function(F,N,j,U){if(A&&L===N&&_===F)return G;(j!==$||W!==U)&&($=j,W=U,Y=e(j.dispatch,U)),L=N,_=F;var V=Y(F,N);return G=V,G}}function M(){var L,_,G,$;return function(Y,z,F){return(z!==L||F!==_||$!==Y)&&(L=z,_=F,$=Y,G=ti.createElement(Y,Kn({},z,{ref:F}))),G}}var O=function(L){Ko(_,L);function _($){var W;return W=L.call(this,$)||this,Up(p?!$.wrapperProps[l]:!$[l],"Passing redux store in props has been removed and does not do anything. "+x),W.selectDerivedProps=B(),W.selectChildElement=M(),W.indirectRenderWrappedComponent=W.indirectRenderWrappedComponent.bind(jH(W)),W}var G=_.prototype;return G.indirectRenderWrappedComponent=function(W){return this.renderWrappedComponent(W)},G.renderWrappedComponent=function(W){Up(W,'Could not find "store" in the context of '+('"'+T+'". Either wrap the root component in a <Provider>, ')+"or pass a custom React context provider to <Provider> and the corresponding "+("React context consumer to "+T+" in connect options."));var Y=W.storeState,z=W.store,F=this.props,N;p&&(F=this.props.wrapperProps,N=this.props.forwardedRef);var j=this.selectDerivedProps(Y,F,z,k);return this.selectChildElement(C,j,N)},G.render=function(){var W=this.props.context&&this.props.context.Consumer&&LM.isContextConsumer(ti.createElement(this.props.context.Consumer,null))?this.props.context:b;return ti.createElement(W.Consumer,null,this.indirectRenderWrappedComponent)},_}(I);if(O.WrappedComponent=C,O.displayName=T,p){var P=ti.forwardRef(function(_,G){return ti.createElement(O,{wrapperProps:_,forwardedRef:G})});return P.displayName=T,P.WrappedComponent=C,f2(P,C)}return f2(O,C)}}var e$=Object.prototype.hasOwnProperty;function Xk(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function zb(e,t){if(Xk(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var d=0;d<r.length;d++)if(!e$.call(t,r[d])||!Xk(e[r[d]],t[r[d]]))return!1;return!0}function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function i$(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function r$(e){var t=i$(e,"string");return hm(t)=="symbol"?t:t+""}function n$(e,t,r){return t=r$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),r.push.apply(r,n)}return r}function Kk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){n$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qs(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Jk=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ub=function(){return Math.random().toString(36).substring(7).split("").join(".")},J1={INIT:"@@redux/INIT"+Ub(),REPLACE:"@@redux/REPLACE"+Ub(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ub()}};function s$(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function jM(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(qs(0));if(typeof t=="function"&&typeof r=="undefined"&&(r=t,t=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(qs(1));return r(jM)(e,t)}if(typeof e!="function")throw new Error(qs(2));var d=e,S=t,s=[],g=s,i=!1;function o(){g===s&&(g=s.slice())}function m(){if(i)throw new Error(qs(3));return S}function c(f){if(typeof f!="function")throw new Error(qs(4));if(i)throw new Error(qs(5));var p=!0;return o(),g.push(f),function(){if(p){if(i)throw new Error(qs(6));p=!1,o();var v=g.indexOf(f);g.splice(v,1),s=null}}}function l(f){if(!s$(f))throw new Error(qs(7));if(typeof f.type=="undefined")throw new Error(qs(8));if(i)throw new Error(qs(9));try{i=!0,S=d(S,f)}finally{i=!1}for(var p=s=g,u=0;u<p.length;u++){var v=p[u];v()}return f}function h(f){if(typeof f!="function")throw new Error(qs(10));d=f,l({type:J1.REPLACE})}function a(){var f,p=c;return f={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(qs(11));function y(){v.next&&v.next(m())}y();var x=p(y);return{unsubscribe:x}}},f[Jk]=function(){return this},f}return l({type:J1.INIT}),n={dispatch:l,subscribe:c,getState:m,replaceReducer:h},n[Jk]=a,n}function a$(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:J1.INIT});if(typeof n=="undefined")throw new Error(qs(12));if(typeof r(void 0,{type:J1.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(qs(13))})}function o$(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var d=t[n];typeof e[d]=="function"&&(r[d]=e[d])}var S=Object.keys(r),s;try{a$(r)}catch(g){s=g}return function(i,o){if(i===void 0&&(i={}),s)throw s;for(var m=!1,c={},l=0;l<S.length;l++){var h=S[l],a=r[h],f=i[h],p=a(f,o);if(typeof p=="undefined")throw o&&o.type,new Error(qs(14));c[h]=p,m=m||p!==f}return m=m||S.length!==Object.keys(i).length,m?c:i}}function Zk(e,t){return function(){return t(e.apply(this,arguments))}}function Ns(e,t){if(typeof e=="function")return Zk(e,t);if(typeof e!="object"||e===null)throw new Error(qs(16));var r={};for(var n in e){var d=e[n];typeof d=="function"&&(r[n]=Zk(d,t))}return r}function zM(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,d){return function(){return n(d.apply(void 0,arguments))}})}function l$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var d=n.apply(void 0,arguments),S=function(){throw new Error(qs(15))},s={getState:d.getState,dispatch:function(){return S.apply(void 0,arguments)}},g=t.map(function(i){return i(s)});return S=zM.apply(void 0,g)(d.dispatch),Kk(Kk({},d),{},{dispatch:S})}}}function $3(e){return function(r,n){var d=e(r,n);function S(){return d}return S.dependsOnOwnProps=!1,S}}function qk(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function UM(e,t){return function(n,d){d.displayName;var S=function(g,i){return S.dependsOnOwnProps?S.mapToProps(g,i):S.mapToProps(g)};return S.dependsOnOwnProps=!0,S.mapToProps=function(g,i){S.mapToProps=e,S.dependsOnOwnProps=qk(e);var o=S(g,i);return typeof o=="function"&&(S.mapToProps=o,S.dependsOnOwnProps=qk(o),o=S(g,i)),o},S}}function u$(e){return typeof e=="function"?UM(e):void 0}function h$(e){return e?void 0:$3(function(t){return{dispatch:t}})}function c$(e){return e&&typeof e=="object"?$3(function(t){return Ns(e,t)}):void 0}const d$=[u$,h$,c$];function f$(e){return typeof e=="function"?UM(e):void 0}function p$(e){return e?void 0:$3(function(){return{}})}const v$=[f$,p$];function m$(e,t,r){return Kn({},r,e,t)}function g$(e){return function(r,n){n.displayName;var d=n.pure,S=n.areMergedPropsEqual,s=!1,g;return function(o,m,c){var l=e(o,m,c);return s?(!d||!S(l,g))&&(g=l):(s=!0,g=l),g}}}function y$(e){return typeof e=="function"?g$(e):void 0}function x$(e){return e?void 0:function(){return m$}}const b$=[y$,x$];function S$(e,t,r,n){return function(S,s){return r(e(S,s),t(n,s),s)}}function w$(e,t,r,n,d){var S=d.areStatesEqual,s=d.areOwnPropsEqual,g=d.areStatePropsEqual,i=!1,o,m,c,l,h;function a(y,x){return o=y,m=x,c=e(o,m),l=t(n,m),h=r(c,l,m),i=!0,h}function f(){return c=e(o,m),t.dependsOnOwnProps&&(l=t(n,m)),h=r(c,l,m),h}function p(){return e.dependsOnOwnProps&&(c=e(o,m)),t.dependsOnOwnProps&&(l=t(n,m)),h=r(c,l,m),h}function u(){var y=e(o,m),x=!g(y,c);return c=y,x&&(h=r(c,l,m)),h}function v(y,x){var b=!s(x,m),w=!S(y,o);return o=y,m=x,b&&w?f():b?p():w?u():h}return function(x,b){return i?v(x,b):a(x,b)}}function T$(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,d=t.initMergeProps,S=vh(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=r(e,S),g=n(e,S),i=d(e,S),o=S.pure?w$:S$;return o(s,g,i,e,S)}function Gb(e,t,r){for(var n=t.length-1;n>=0;n--){var d=t[n](e);if(d)return d}return function(S,s){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+s.wrappedComponentName+".")}}function C$(e,t){return e===t}function E$(e){var t={},r=t.connectHOC,n=r===void 0?t$:r,d=t.mapStateToPropsFactories,S=d===void 0?v$:d,s=t.mapDispatchToPropsFactories,g=s===void 0?d$:s,i=t.mergePropsFactories,o=i===void 0?b$:i,m=t.selectorFactory,c=m===void 0?T$:m;return function(h,a,f,p){p===void 0&&(p={});var u=p,v=u.pure,y=v===void 0?!0:v,x=u.areStatesEqual,b=x===void 0?C$:x,w=u.areOwnPropsEqual,C=w===void 0?zb:w,E=u.areStatePropsEqual,T=E===void 0?zb:E,k=u.areMergedPropsEqual,A=k===void 0?zb:k,I=vh(u,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),B=Gb(h,S,"mapStateToProps"),M=Gb(a,g,"mapDispatchToProps"),O=Gb(f,o,"mergeProps");return n(c,Kn({methodName:"connect",getDisplayName:function(L){return"Connect("+L+")"},shouldHandleStateChanges:!!h,initMapStateToProps:B,initMapDispatchToProps:M,initMergeProps:O,pure:y,areStatesEqual:b,areOwnPropsEqual:C,areStatePropsEqual:T,areMergedPropsEqual:A},I))}}const Qs=E$();function Ug(e){return e.charAt(0)==="/"}function Hb(e,t){for(var r=t,n=r+1,d=e.length;n<d;r+=1,n+=1)e[r]=e[n];e.pop()}function k$(e,t){t===void 0&&(t="");var r=e&&e.split("/")||[],n=t&&t.split("/")||[],d=e&&Ug(e),S=t&&Ug(t),s=d||S;if(e&&Ug(e)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var g;if(n.length){var i=n[n.length-1];g=i==="."||i===".."||i===""}else g=!1;for(var o=0,m=n.length;m>=0;m--){var c=n[m];c==="."?Hb(n,m):c===".."?(Hb(n,m),o++):o&&(Hb(n,m),o--)}if(!s)for(;o--;o)n.unshift("..");s&&n[0]!==""&&(!n[0]||!Ug(n[0]))&&n.unshift("");var l=n.join("/");return g&&l.substr(-1)!=="/"&&(l+="/"),l}function t6(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function W0(e,t){if(e===t)return!0;if(e==null||t==null)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(d,S){return W0(d,t[S])});if(typeof e=="object"||typeof t=="object"){var r=t6(e),n=t6(t);return r!==e||n!==t?W0(r,n):Object.keys(Object.assign({},e,t)).every(function(d){return W0(e[d],t[d])})}return!1}var P$="Invariant failed";function mh(e,t){throw new Error(P$)}function Ov(e){return e.charAt(0)==="/"?e:"/"+e}function e6(e){return e.charAt(0)==="/"?e.substr(1):e}function A$(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function GM(e,t){return A$(e,t)?e.substr(t.length):e}function HM(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function R$(e){var t=e||"/",r="",n="",d=t.indexOf("#");d!==-1&&(n=t.substr(d),t=t.substr(0,d));var S=t.indexOf("?");return S!==-1&&(r=t.substr(S),t=t.substr(0,S)),{pathname:t,search:r==="?"?"":r,hash:n==="#"?"":n}}function to(e){var t=e.pathname,r=e.search,n=e.hash,d=t||"/";return r&&r!=="?"&&(d+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(d+=n.charAt(0)==="#"?n:"#"+n),d}function Ba(e,t,r,n){var d;typeof e=="string"?(d=R$(e),d.state=t):(d=Kn({},e),d.pathname===void 0&&(d.pathname=""),d.search?d.search.charAt(0)!=="?"&&(d.search="?"+d.search):d.search="",d.hash?d.hash.charAt(0)!=="#"&&(d.hash="#"+d.hash):d.hash="",t!==void 0&&d.state===void 0&&(d.state=t));try{d.pathname=decodeURI(d.pathname)}catch(S){throw S instanceof URIError?new URIError('Pathname "'+d.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):S}return r&&(d.key=r),n?d.pathname?d.pathname.charAt(0)!=="/"&&(d.pathname=k$(d.pathname,n.pathname)):d.pathname=n.pathname:d.pathname||(d.pathname="/"),d}function I$(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&W0(e.state,t.state)}function W3(){var e=null;function t(s){return e=s,function(){e===s&&(e=null)}}function r(s,g,i,o){if(e!=null){var m=typeof e=="function"?e(s,g):e;typeof m=="string"?typeof i=="function"?i(m,o):o(!0):o(m!==!1)}else o(!0)}var n=[];function d(s){var g=!0;function i(){g&&s.apply(void 0,arguments)}return n.push(i),function(){g=!1,n=n.filter(function(o){return o!==i})}}function S(){for(var s=arguments.length,g=new Array(s),i=0;i<s;i++)g[i]=arguments[i];n.forEach(function(o){return o.apply(void 0,g)})}return{setPrompt:t,confirmTransitionTo:r,appendListener:d,notifyListeners:S}}var $M=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function WM(e,t){t(window.confirm(e))}function M$(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function B$(){return window.navigator.userAgent.indexOf("Trident")===-1}function O$(){return window.navigator.userAgent.indexOf("Firefox")===-1}function N$(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var i6="popstate",r6="hashchange";function n6(){try{return window.history.state||{}}catch(e){return{}}}function L$(e){e===void 0&&(e={}),$M||mh();var t=window.history,r=M$(),n=!B$(),d=e,S=d.forceRefresh,s=S===void 0?!1:S,g=d.getUserConfirmation,i=g===void 0?WM:g,o=d.keyLength,m=o===void 0?6:o,c=e.basename?HM(Ov(e.basename)):"";function l(G){var $=G||{},W=$.key,Y=$.state,z=window.location,F=z.pathname,N=z.search,j=z.hash,U=F+N+j;return c&&(U=GM(U,c)),Ba(U,Y,W)}function h(){return Math.random().toString(36).substr(2,m)}var a=W3();function f(G){Kn(_,G),_.length=t.length,a.notifyListeners(_.location,_.action)}function p(G){N$(G)||y(l(G.state))}function u(){y(l(n6()))}var v=!1;function y(G){if(v)v=!1,f();else{var $="POP";a.confirmTransitionTo(G,$,i,function(W){W?f({action:$,location:G}):x(G)})}}function x(G){var $=_.location,W=w.indexOf($.key);W===-1&&(W=0);var Y=w.indexOf(G.key);Y===-1&&(Y=0);var z=W-Y;z&&(v=!0,k(z))}var b=l(n6()),w=[b.key];function C(G){return c+to(G)}function E(G,$){var W="PUSH",Y=Ba(G,$,h(),_.location);a.confirmTransitionTo(Y,W,i,function(z){if(z){var F=C(Y),N=Y.key,j=Y.state;if(r)if(t.pushState({key:N,state:j},null,F),s)window.location.href=F;else{var U=w.indexOf(_.location.key),V=w.slice(0,U+1);V.push(Y.key),w=V,f({action:W,location:Y})}else window.location.href=F}})}function T(G,$){var W="REPLACE",Y=Ba(G,$,h(),_.location);a.confirmTransitionTo(Y,W,i,function(z){if(z){var F=C(Y),N=Y.key,j=Y.state;if(r)if(t.replaceState({key:N,state:j},null,F),s)window.location.replace(F);else{var U=w.indexOf(_.location.key);U!==-1&&(w[U]=Y.key),f({action:W,location:Y})}else window.location.replace(F)}})}function k(G){t.go(G)}function A(){k(-1)}function I(){k(1)}var B=0;function M(G){B+=G,B===1&&G===1?(window.addEventListener(i6,p),n&&window.addEventListener(r6,u)):B===0&&(window.removeEventListener(i6,p),n&&window.removeEventListener(r6,u))}var O=!1;function P(G){G===void 0&&(G=!1);var $=a.setPrompt(G);return O||(M(1),O=!0),function(){return O&&(O=!1,M(-1)),$()}}function L(G){var $=a.appendListener(G);return M(1),function(){M(-1),$()}}var _={length:t.length,action:"POP",location:b,createHref:C,push:E,replace:T,go:k,goBack:A,goForward:I,block:P,listen:L};return _}var s6="hashchange",F$={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+e6(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:e6,decodePath:Ov},slash:{encodePath:Ov,decodePath:Ov}};function VM(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Gp(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function D$(e){window.location.hash=e}function $b(e){window.location.replace(VM(window.location.href)+"#"+e)}function _$(e){e===void 0&&(e={}),$M||mh();var t=window.history;O$();var r=e,n=r.getUserConfirmation,d=n===void 0?WM:n,S=r.hashType,s=S===void 0?"slash":S,g=e.basename?HM(Ov(e.basename)):"",i=F$[s],o=i.encodePath,m=i.decodePath;function c(){var $=m(Gp());return g&&($=GM($,g)),Ba($)}var l=W3();function h($){Kn(G,$),G.length=t.length,l.notifyListeners(G.location,G.action)}var a=!1,f=null;function p($,W){return $.pathname===W.pathname&&$.search===W.search&&$.hash===W.hash}function u(){var $=Gp(),W=o($);if($!==W)$b(W);else{var Y=c(),z=G.location;if(!a&&p(z,Y)||f===to(Y))return;f=null,v(Y)}}function v($){if(a)a=!1,h();else{var W="POP";l.confirmTransitionTo($,W,d,function(Y){Y?h({action:W,location:$}):y($)})}}function y($){var W=G.location,Y=C.lastIndexOf(to(W));Y===-1&&(Y=0);var z=C.lastIndexOf(to($));z===-1&&(z=0);var F=Y-z;F&&(a=!0,A(F))}var x=Gp(),b=o(x);x!==b&&$b(b);var w=c(),C=[to(w)];function E($){var W=document.querySelector("base"),Y="";return W&&W.getAttribute("href")&&(Y=VM(window.location.href)),Y+"#"+o(g+to($))}function T($,W){var Y="PUSH",z=Ba($,void 0,void 0,G.location);l.confirmTransitionTo(z,Y,d,function(F){if(F){var N=to(z),j=o(g+N),U=Gp()!==j;if(U){f=N,D$(j);var V=C.lastIndexOf(to(G.location)),q=C.slice(0,V+1);q.push(N),C=q,h({action:Y,location:z})}else h()}})}function k($,W){var Y="REPLACE",z=Ba($,void 0,void 0,G.location);l.confirmTransitionTo(z,Y,d,function(F){if(F){var N=to(z),j=o(g+N),U=Gp()!==j;U&&(f=N,$b(j));var V=C.indexOf(to(G.location));V!==-1&&(C[V]=N),h({action:Y,location:z})}})}function A($){t.go($)}function I(){A(-1)}function B(){A(1)}var M=0;function O($){M+=$,M===1&&$===1?window.addEventListener(s6,u):M===0&&window.removeEventListener(s6,u)}var P=!1;function L($){$===void 0&&($=!1);var W=l.setPrompt($);return P||(O(1),P=!0),function(){return P&&(P=!1,O(-1)),W()}}function _($){var W=l.appendListener($);return O(1),function(){O(-1),W()}}var G={length:t.length,action:"POP",location:w,createHref:E,push:T,replace:k,go:A,goBack:I,goForward:B,block:L,listen:_};return G}function a6(e,t,r){return Math.min(Math.max(e,t),r)}function j$(e){e===void 0&&(e={});var t=e,r=t.getUserConfirmation,n=t.initialEntries,d=n===void 0?["/"]:n,S=t.initialIndex,s=S===void 0?0:S,g=t.keyLength,i=g===void 0?6:g,o=W3();function m(E){Kn(C,E),C.length=C.entries.length,o.notifyListeners(C.location,C.action)}function c(){return Math.random().toString(36).substr(2,i)}var l=a6(s,0,d.length-1),h=d.map(function(E){return typeof E=="string"?Ba(E,void 0,c()):Ba(E,void 0,E.key||c())}),a=to;function f(E,T){var k="PUSH",A=Ba(E,T,c(),C.location);o.confirmTransitionTo(A,k,r,function(I){if(I){var B=C.index,M=B+1,O=C.entries.slice(0);O.length>M?O.splice(M,O.length-M,A):O.push(A),m({action:k,location:A,index:M,entries:O})}})}function p(E,T){var k="REPLACE",A=Ba(E,T,c(),C.location);o.confirmTransitionTo(A,k,r,function(I){I&&(C.entries[C.index]=A,m({action:k,location:A}))})}function u(E){var T=a6(C.index+E,0,C.entries.length-1),k="POP",A=C.entries[T];o.confirmTransitionTo(A,k,r,function(I){I?m({action:k,location:A,index:T}):m()})}function v(){u(-1)}function y(){u(1)}function x(E){var T=C.index+E;return T>=0&&T<C.entries.length}function b(E){return E===void 0&&(E=!1),o.setPrompt(E)}function w(E){return o.appendListener(E)}var C={length:h.length,action:"POP",location:h[l],index:l,entries:h,createHref:a,push:f,replace:p,go:u,goBack:v,goForward:y,canGo:x,block:b,listen:w};return C}var rp={exports:{}},z$=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},Z1=z$;rp.exports=QM;rp.exports.parse=V3;rp.exports.compile=G$;rp.exports.tokensToFunction=YM;rp.exports.tokensToRegExp=XM;var U$=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function V3(e,t){for(var r=[],n=0,d=0,S="",s=t&&t.delimiter||"/",g;(g=U$.exec(e))!=null;){var i=g[0],o=g[1],m=g.index;if(S+=e.slice(d,m),d=m+i.length,o){S+=o[1];continue}var c=e[d],l=g[2],h=g[3],a=g[4],f=g[5],p=g[6],u=g[7];S&&(r.push(S),S="");var v=l!=null&&c!=null&&c!==l,y=p==="+"||p==="*",x=p==="?"||p==="*",b=g[2]||s,w=a||f;r.push({name:h||n++,prefix:l||"",delimiter:b,optional:x,repeat:y,partial:v,asterisk:!!u,pattern:w?W$(w):u?".*":"[^"+V0(b)+"]+?"})}return d<e.length&&(S+=e.substr(d)),S&&r.push(S),r}function G$(e,t){return YM(V3(e,t),t)}function H$(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function $$(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function YM(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)typeof e[n]=="object"&&(r[n]=new RegExp("^(?:"+e[n].pattern+")$",X3(t)));return function(d,S){for(var s="",g=d||{},i=S||{},o=i.pretty?H$:encodeURIComponent,m=0;m<e.length;m++){var c=e[m];if(typeof c=="string"){s+=c;continue}var l=g[c.name],h;if(l==null)if(c.optional){c.partial&&(s+=c.prefix);continue}else throw new TypeError('Expected "'+c.name+'" to be defined');if(Z1(l)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(l.length===0){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var a=0;a<l.length;a++){if(h=o(l[a]),!r[m].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");s+=(a===0?c.prefix:c.delimiter)+h}continue}if(h=c.asterisk?$$(l):o(l),!r[m].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');s+=c.prefix+h}return s}}function V0(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function W$(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function Y3(e,t){return e.keys=t,e}function X3(e){return e&&e.sensitive?"":"i"}function V$(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Y3(e,t)}function Y$(e,t,r){for(var n=[],d=0;d<e.length;d++)n.push(QM(e[d],t,r).source);var S=new RegExp("(?:"+n.join("|")+")",X3(r));return Y3(S,t)}function X$(e,t,r){return XM(V3(e,r),t,r)}function XM(e,t,r){Z1(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,d=r.end!==!1,S="",s=0;s<e.length;s++){var g=e[s];if(typeof g=="string")S+=V0(g);else{var i=V0(g.prefix),o="(?:"+g.pattern+")";t.push(g),g.repeat&&(o+="(?:"+i+o+")*"),g.optional?g.partial?o=i+"("+o+")?":o="(?:"+i+"("+o+"))?":o=i+"("+o+")",S+=o}}var m=V0(r.delimiter||"/"),c=S.slice(-m.length)===m;return n||(S=(c?S.slice(0,-m.length):S)+"(?:"+m+"(?=$))?"),d?S+="$":S+=n&&c?"":"(?="+m+"|$)",Y3(new RegExp("^"+S,X3(r)),t)}function QM(e,t,r){return Z1(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?V$(e,t):Z1(e)?Y$(e,t,r):X$(e,t,r)}var Q$=rp.exports;const KM=ks(Q$);var Wb=1073741823,o6=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:{};function K$(){var e="__global_unique_id__";return o6[e]=(o6[e]||0)+1}function J$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Z$(e){var t=[];return{on:function(n){t.push(n)},off:function(n){t=t.filter(function(d){return d!==n})},get:function(){return e},set:function(n,d){e=n,t.forEach(function(S){return S(e,d)})}}}function q$(e){return Array.isArray(e)?e[0]:e}function tW(e,t){var r,n,d="__create-react-context-"+K$()+"__",S=function(g){Ko(i,g);function i(){for(var m,c=arguments.length,l=new Array(c),h=0;h<c;h++)l[h]=arguments[h];return m=g.call.apply(g,[this].concat(l))||this,m.emitter=Z$(m.props.value),m}var o=i.prototype;return o.getChildContext=function(){var c;return c={},c[d]=this.emitter,c},o.componentWillReceiveProps=function(c){if(this.props.value!==c.value){var l=this.props.value,h=c.value,a;J$(l,h)?a=0:(a=typeof t=="function"?t(l,h):Wb,a|=0,a!==0&&this.emitter.set(c.value,a))}},o.render=function(){return this.props.children},i}(ti.Component);S.childContextTypes=(r={},r[d]=Xt.object.isRequired,r);var s=function(g){Ko(i,g);function i(){for(var m,c=arguments.length,l=new Array(c),h=0;h<c;h++)l[h]=arguments[h];return m=g.call.apply(g,[this].concat(l))||this,m.observedBits=void 0,m.state={value:m.getValue()},m.onUpdate=function(a,f){var p=m.observedBits|0;p&f&&m.setState({value:m.getValue()})},m}var o=i.prototype;return o.componentWillReceiveProps=function(c){var l=c.observedBits;this.observedBits=l==null?Wb:l},o.componentDidMount=function(){this.context[d]&&this.context[d].on(this.onUpdate);var c=this.props.observedBits;this.observedBits=c==null?Wb:c},o.componentWillUnmount=function(){this.context[d]&&this.context[d].off(this.onUpdate)},o.getValue=function(){return this.context[d]?this.context[d].get():e},o.render=function(){return q$(this.props.children)(this.state.value)},i}(ti.Component);return s.contextTypes=(n={},n[d]=Xt.object,n),{Provider:S,Consumer:s}}var eW=ti.createContext||tW,JM=function(t){var r=eW();return r.displayName=t,r},ZM=JM("Router-History"),cc=JM("Router"),nx=function(e){Ko(t,e),t.computeRootMatch=function(d){return{path:"/",url:"/",params:{},isExact:d==="/"}};function t(n){var d;return d=e.call(this,n)||this,d.state={location:n.history.location},d._isMounted=!1,d._pendingLocation=null,n.staticContext||(d.unlisten=n.history.listen(function(S){d._pendingLocation=S})),d}var r=t.prototype;return r.componentDidMount=function(){var d=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(S){d._isMounted&&d.setState({location:S})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return ti.createElement(cc.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},ti.createElement(ZM.Provider,{children:this.props.children||null,value:this.props.history}))},t}(ti.Component);ti.Component;var iW=function(e){Ko(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(d){this.props.onUpdate&&this.props.onUpdate.call(this,this,d)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},t}(ti.Component),Vb={},rW=1e4,l6=0;function nW(e){if(Vb[e])return Vb[e];var t=KM.compile(e);return l6<rW&&(Vb[e]=t,l6++),t}function u6(e,t){return e===void 0&&(e="/"),t===void 0&&(t={}),e==="/"?e:nW(e)(t,{pretty:!0})}function Td(e){var t=e.computedMatch,r=e.to,n=e.push,d=n===void 0?!1:n;return ti.createElement(cc.Consumer,null,function(S){S||mh();var s=S.history,g=S.staticContext,i=d?s.push:s.replace,o=Ba(t?typeof r=="string"?u6(r,t.params):Kn({},r,{pathname:u6(r.pathname,t.params)}):r);return g?(i(o),null):ti.createElement(iW,{onMount:function(){i(o)},onUpdate:function(c,l){var h=Ba(l.to);I$(h,Kn({},o,{key:h.key}))||i(o)},to:r})})}var h6={},sW=1e4,c6=0;function aW(e,t){var r=""+t.end+t.strict+t.sensitive,n=h6[r]||(h6[r]={});if(n[e])return n[e];var d=[],S=KM(e,d,t),s={regexp:S,keys:d};return c6<sW&&(n[e]=s,c6++),s}function Q3(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,d=r.exact,S=d===void 0?!1:d,s=r.strict,g=s===void 0?!1:s,i=r.sensitive,o=i===void 0?!1:i,m=[].concat(n);return m.reduce(function(c,l){if(!l&&l!=="")return null;if(c)return c;var h=aW(l,{end:S,strict:g,sensitive:o}),a=h.regexp,f=h.keys,p=a.exec(e);if(!p)return null;var u=p[0],v=p.slice(1),y=e===u;return S&&!y?null:{path:l,url:l==="/"&&u===""?"/":u,isExact:y,params:f.reduce(function(x,b,w){return x[b.name]=v[w],x},{})}},null)}function oW(e){return ti.Children.count(e)===0}var yn=function(e){Ko(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var d=this;return ti.createElement(cc.Consumer,null,function(S){S||mh();var s=d.props.location||S.location,g=d.props.computedMatch?d.props.computedMatch:d.props.path?Q3(s.pathname,d.props):S.match,i=Kn({},S,{location:s,match:g}),o=d.props,m=o.children,c=o.component,l=o.render;return Array.isArray(m)&&oW(m)&&(m=null),ti.createElement(cc.Provider,{value:i},i.match?m?typeof m=="function"?m(i):m:c?ti.createElement(c,i):l?l(i):null:typeof m=="function"?m(i):null)})},t}(ti.Component);function K3(e){return e.charAt(0)==="/"?e:"/"+e}function lW(e,t){return e?Kn({},t,{pathname:K3(e)+t.pathname}):t}function uW(e,t){if(!e)return t;var r=K3(e);return t.pathname.indexOf(r)!==0?t:Kn({},t,{pathname:t.pathname.substr(r.length)})}function d6(e){return typeof e=="string"?e:to(e)}function Yb(e){return function(){mh()}}function f6(){}ti.Component;var hW=function(e){Ko(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var d=this;return ti.createElement(cc.Consumer,null,function(S){S||mh();var s=d.props.location||S.location,g,i;return ti.Children.forEach(d.props.children,function(o){if(i==null&&ti.isValidElement(o)){g=o;var m=o.props.path||o.props.from;i=m?Q3(s.pathname,Kn({},o.props,{path:m})):S.match}}),i?ti.cloneElement(g,{location:s,computedMatch:i}):null})},t}(ti.Component);function Ls(e){var t="withRouter("+(e.displayName||e.name)+")",r=function(d){var S=d.wrappedComponentRef,s=vh(d,["wrappedComponentRef"]);return ti.createElement(cc.Consumer,null,function(g){return g||mh(),ti.createElement(e,Kn({},s,g,{ref:S}))})};return r.displayName=t,r.WrappedComponent=e,f2(r,e)}var cW=ti.useContext;function dW(){return cW(ZM)}var fW=function(e){Ko(t,e);function t(){for(var n,d=arguments.length,S=new Array(d),s=0;s<d;s++)S[s]=arguments[s];return n=e.call.apply(e,[this].concat(S))||this,n.history=L$(n.props),n}var r=t.prototype;return r.render=function(){return ti.createElement(nx,{history:this.history,children:this.props.children})},t}(ti.Component);ti.Component;var p2=function(t,r){return typeof t=="function"?t(r):t},v2=function(t,r){return typeof t=="string"?Ba(t,null,null,r):t},J3=function(t){return t},_f=ti.forwardRef;typeof _f=="undefined"&&(_f=J3);function pW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var vW=_f(function(e,t){var r=e.innerRef,n=e.navigate,d=e.onClick,S=vh(e,["innerRef","navigate","onClick"]),s=S.target,g=Kn({},S,{onClick:function(o){try{d&&d(o)}catch(m){throw o.preventDefault(),m}!o.defaultPrevented&&o.button===0&&(!s||s==="_self")&&!pW(o)&&(o.preventDefault(),n())}});return J3!==_f?g.ref=t||r:g.ref=r,ti.createElement("a",g)}),xa=_f(function(e,t){var r=e.component,n=r===void 0?vW:r,d=e.replace,S=e.to,s=e.innerRef,g=vh(e,["component","replace","to","innerRef"]);return ti.createElement(cc.Consumer,null,function(i){i||mh();var o=i.history,m=v2(p2(S,i.location),i.location),c=m?o.createHref(m):"",l=Kn({},g,{href:c,navigate:function(){var a=p2(S,i.location),f=to(i.location)===to(v2(a)),p=d||f?o.replace:o.push;p(a)}});return J3!==_f?l.ref=t||s:l.innerRef=s,ti.createElement(n,l)})}),qM=function(t){return t},q1=ti.forwardRef;typeof q1=="undefined"&&(q1=qM);function mW(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(n){return n}).join(" ")}q1(function(e,t){var r=e["aria-current"],n=r===void 0?"page":r,d=e.activeClassName,S=d===void 0?"active":d,s=e.activeStyle,g=e.className,i=e.exact,o=e.isActive,m=e.location,c=e.sensitive,l=e.strict,h=e.style,a=e.to,f=e.innerRef,p=vh(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return ti.createElement(cc.Consumer,null,function(u){u||mh();var v=m||u.location,y=v2(p2(a,v),v),x=y.pathname,b=x&&x.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?Q3(v.pathname,{path:b,exact:i,sensitive:c,strict:l}):null,C=!!(o?o(w,v):w),E=typeof g=="function"?g(C):g,T=typeof h=="function"?h(C):h;C&&(E=mW(E,S),T=Kn({},T,s));var k=Kn({"aria-current":C&&n||null,className:E,style:T,to:y},p);return qM!==q1?k.ref=t||f:k.innerRef=f,ti.createElement(xa,k)})});function gW(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tB={exports:{}},Ss=tB.exports={},ru,nu;function m2(){throw new Error("setTimeout has not been defined")}function g2(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ru=setTimeout:ru=m2}catch(e){ru=m2}try{typeof clearTimeout=="function"?nu=clearTimeout:nu=g2}catch(e){nu=g2}})();function eB(e){if(ru===setTimeout)return setTimeout(e,0);if((ru===m2||!ru)&&setTimeout)return ru=setTimeout,setTimeout(e,0);try{return ru(e,0)}catch(t){try{return ru.call(null,e,0)}catch(r){return ru.call(this,e,0)}}}function yW(e){if(nu===clearTimeout)return clearTimeout(e);if((nu===g2||!nu)&&clearTimeout)return nu=clearTimeout,clearTimeout(e);try{return nu(e)}catch(t){try{return nu.call(null,e)}catch(r){return nu.call(this,e)}}}var nh=[],Tf=!1,nd,Y0=-1;function xW(){!Tf||!nd||(Tf=!1,nd.length?nh=nd.concat(nh):Y0=-1,nh.length&&iB())}function iB(){if(!Tf){var e=eB(xW);Tf=!0;for(var t=nh.length;t;){for(nd=nh,nh=[];++Y0<t;)nd&&nd[Y0].run();Y0=-1,t=nh.length}nd=null,Tf=!1,yW(e)}}Ss.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];nh.push(new rB(e,t)),nh.length===1&&!Tf&&eB(iB)};function rB(e,t){this.fun=e,this.array=t}rB.prototype.run=function(){this.fun.apply(null,this.array)};Ss.title="browser";Ss.browser=!0;Ss.env={};Ss.argv=[];Ss.version="";Ss.versions={};function gh(){}Ss.on=gh;Ss.addListener=gh;Ss.once=gh;Ss.off=gh;Ss.removeListener=gh;Ss.removeAllListeners=gh;Ss.emit=gh;Ss.prependListener=gh;Ss.prependOnceListener=gh;Ss.listeners=function(e){return[]};Ss.binding=function(e){throw new Error("process.binding is not supported")};Ss.cwd=function(){return"/"};Ss.chdir=function(e){throw new Error("process.chdir is not supported")};Ss.umask=function(){return 0};var bW=tB.exports;const hr=gW(bW),SW=Object.freeze(Object.defineProperty({__proto__:null,default:hr,process:hr},Symbol.toStringTag,{value:"Module"}));function os(e,t){if(!e)throw new Error(t)}const wW=34028234663852886e22,TW=-34028234663852886e22,CW=4294967295,EW=2147483647,kW=-2147483648;function X0(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>EW||e<kW)throw new Error("invalid int 32: "+e)}function y2(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>CW||e<0)throw new Error("invalid uint 32: "+e)}function nB(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>wW||e<TW))throw new Error("invalid float 32: "+e)}const sB=Symbol("@bufbuild/protobuf/enum-type");function PW(e){const t=e[sB];return os(t,"missing enum type on enum object"),t}function aB(e,t,r,n){e[sB]=oB(t,r.map(d=>({no:d.no,name:d.name,localName:e[d.no]})))}function oB(e,t,r){const n=Object.create(null),d=Object.create(null),S=[];for(const s of t){const g=lB(s);S.push(g),n[s.name]=g,d[s.no]=g}return{typeName:e,values:S,findName(s){return n[s]},findNumber(s){return d[s]}}}function AW(e,t,r){const n={};for(const d of t){const S=lB(d);n[S.localName]=S.no,n[S.no]=S.localName}return aB(n,e,t),n}function lB(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}let Z3=class{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,r){const n=this.getType(),d=n.runtime.bin,S=d.makeReadOptions(r);return d.readMessage(this,S.readerFactory(t),t.byteLength,S),this}fromJson(t,r){const n=this.getType(),d=n.runtime.json,S=d.makeReadOptions(r);return d.readMessage(n,t,S,this),this}fromJsonString(t,r){let n;try{n=JSON.parse(t)}catch(d){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${d instanceof Error?d.message:String(d)}`)}return this.fromJson(n,r)}toBinary(t){const r=this.getType(),n=r.runtime.bin,d=n.makeWriteOptions(t),S=d.writerFactory();return n.writeMessage(this,S,d),S.finish()}toJson(t){const r=this.getType(),n=r.runtime.json,d=n.makeWriteOptions(t);return n.writeMessage(this,d)}toJsonString(t){var r;const n=this.toJson(t);return JSON.stringify(n,null,(r=t==null?void 0:t.prettySpaces)!==null&&r!==void 0?r:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};function RW(e,t,r,n){var d;const S=(d=n==null?void 0:n.localName)!==null&&d!==void 0?d:t.substring(t.lastIndexOf(".")+1),s={[S]:function(g){e.util.initFields(this),e.util.initPartial(g,this)}}[S];return Object.setPrototypeOf(s.prototype,new Z3),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(r),fromBinary(g,i){return new s().fromBinary(g,i)},fromJson(g,i){return new s().fromJson(g,i)},fromJsonString(g,i){return new s().fromJsonString(g,i)},equals(g,i){return e.util.equals(s,g,i)}}),s}function IW(){let e=0,t=0;for(let n=0;n<28;n+=7){let d=this.buf[this.pos++];if(e|=(d&127)<<n,!(d&128))return this.assertBounds(),[e,t]}let r=this.buf[this.pos++];if(e|=(r&15)<<28,t=(r&112)>>4,!(r&128))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let d=this.buf[this.pos++];if(t|=(d&127)<<n,!(d&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Xb(e,t,r){for(let S=0;S<28;S=S+7){const s=e>>>S,g=!(!(s>>>7)&&t==0),i=(g?s|128:s)&255;if(r.push(i),!g)return}const n=e>>>28&15|(t&7)<<4,d=!!(t>>3);if(r.push((d?n|128:n)&255),!!d){for(let S=3;S<31;S=S+7){const s=t>>>S,g=!!(s>>>7),i=(g?s|128:s)&255;if(r.push(i),!g)return}r.push(t>>>31&1)}}const Q0=4294967296;function p6(e){const t=e[0]==="-";t&&(e=e.slice(1));const r=1e6;let n=0,d=0;function S(s,g){const i=Number(e.slice(s,g));d*=r,n=n*r+i,n>=Q0&&(d=d+(n/Q0|0),n=n%Q0)}return S(-24,-18),S(-18,-12),S(-12,-6),S(-6),t?hB(n,d):q3(n,d)}function MW(e,t){let r=q3(e,t);const n=r.hi&2147483648;n&&(r=hB(r.lo,r.hi));const d=uB(r.lo,r.hi);return n?"-"+d:d}function uB(e,t){if({lo:e,hi:t}=BW(e,t),t<=2097151)return String(Q0*t+e);const r=e&16777215,n=(e>>>24|t<<8)&16777215,d=t>>16&65535;let S=r+n*6777216+d*6710656,s=n+d*8147497,g=d*2;const i=1e7;return S>=i&&(s+=Math.floor(S/i),S%=i),s>=i&&(g+=Math.floor(s/i),s%=i),g.toString()+v6(s)+v6(S)}function BW(e,t){return{lo:e>>>0,hi:t>>>0}}function q3(e,t){return{lo:e|0,hi:t|0}}function hB(e,t){return t=~t,e?e=~e+1:t+=1,q3(e,t)}const v6=e=>{const t=String(e);return"0000000".slice(t.length)+t};function m6(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let r=0;r<9;r++)t.push(e&127|128),e=e>>7;t.push(1)}}function OW(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let r=5;e&128&&r<10;r++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}var g6={};function NW(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof hr!="object"||typeof g6!="object"||g6.BUF_BIGINT_DISABLE!=="1")){const d=BigInt("-9223372036854775808"),S=BigInt("9223372036854775807"),s=BigInt("0"),g=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(i){const o=typeof i=="bigint"?i:BigInt(i);if(o>S||o<d)throw new Error(`int64 invalid: ${i}`);return o},uParse(i){const o=typeof i=="bigint"?i:BigInt(i);if(o>g||o<s)throw new Error(`uint64 invalid: ${i}`);return o},enc(i){return e.setBigInt64(0,this.parse(i),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(i){return e.setBigInt64(0,this.uParse(i),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(i,o){return e.setInt32(0,i,!0),e.setInt32(4,o,!0),e.getBigInt64(0,!0)},uDec(i,o){return e.setInt32(0,i,!0),e.setInt32(4,o,!0),e.getBigUint64(0,!0)}}}const r=d=>os(/^-?[0-9]+$/.test(d),`int64 invalid: ${d}`),n=d=>os(/^[0-9]+$/.test(d),`uint64 invalid: ${d}`);return{zero:"0",supported:!1,parse(d){return typeof d!="string"&&(d=d.toString()),r(d),d},uParse(d){return typeof d!="string"&&(d=d.toString()),n(d),d},enc(d){return typeof d!="string"&&(d=d.toString()),r(d),p6(d)},uEnc(d){return typeof d!="string"&&(d=d.toString()),n(d),p6(d)},dec(d,S){return MW(d,S)},uDec(d,S){return uB(d,S)}}}const ba=NW();var si;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(si||(si={}));var dc;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(dc||(dc={}));function Rh(e,t,r){if(t===r)return!0;if(e==si.BYTES){if(!(t instanceof Uint8Array)||!(r instanceof Uint8Array)||t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}switch(e){case si.UINT64:case si.FIXED64:case si.INT64:case si.SFIXED64:case si.SINT64:return t==r}return!1}function jf(e,t){switch(e){case si.BOOL:return!1;case si.UINT64:case si.FIXED64:case si.INT64:case si.SFIXED64:case si.SINT64:return t==0?ba.zero:"0";case si.DOUBLE:case si.FLOAT:return 0;case si.BYTES:return new Uint8Array(0);case si.STRING:return"";default:return 0}}function cB(e,t){switch(e){case si.BOOL:return t===!1;case si.STRING:return t==="";case si.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var gs;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(gs||(gs={}));let LW=class{constructor(t){this.stack=[],this.textEncoder=t!=null?t:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let d=0;d<this.chunks.length;d++)t+=this.chunks[d].length;let r=new Uint8Array(t),n=0;for(let d=0;d<this.chunks.length;d++)r.set(this.chunks[d],n),n+=this.chunks[d].length;return this.chunks=[],r}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),r=this.stack.pop();if(!r)throw new Error("invalid state, fork stack empty");return this.chunks=r.chunks,this.buf=r.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,r){return this.uint32((t<<3|r)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(y2(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return X0(t),m6(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let r=this.textEncoder.encode(t);return this.uint32(r.byteLength),this.raw(r)}float(t){nB(t);let r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,t,!0),this.raw(r)}double(t){let r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,t,!0),this.raw(r)}fixed32(t){y2(t);let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t,!0),this.raw(r)}sfixed32(t){X0(t);let r=new Uint8Array(4);return new DataView(r.buffer).setInt32(0,t,!0),this.raw(r)}sint32(t){return X0(t),t=(t<<1^t>>31)>>>0,m6(t,this.buf),this}sfixed64(t){let r=new Uint8Array(8),n=new DataView(r.buffer),d=ba.enc(t);return n.setInt32(0,d.lo,!0),n.setInt32(4,d.hi,!0),this.raw(r)}fixed64(t){let r=new Uint8Array(8),n=new DataView(r.buffer),d=ba.uEnc(t);return n.setInt32(0,d.lo,!0),n.setInt32(4,d.hi,!0),this.raw(r)}int64(t){let r=ba.enc(t);return Xb(r.lo,r.hi,this.buf),this}sint64(t){let r=ba.enc(t),n=r.hi>>31,d=r.lo<<1^n,S=(r.hi<<1|r.lo>>>31)^n;return Xb(d,S,this.buf),this}uint64(t){let r=ba.uEnc(t);return Xb(r.lo,r.hi,this.buf),this}},FW=class{constructor(t,r){this.varint64=IW,this.uint32=OW,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=r!=null?r:new TextDecoder}tag(){let t=this.uint32(),r=t>>>3,n=t&7;if(r<=0||n<0||n>5)throw new Error("illegal tag: field no "+r+" wire type "+n);return[r,n]}skip(t){let r=this.pos;switch(t){case gs.Varint:for(;this.buf[this.pos++]&128;);break;case gs.Bit64:this.pos+=4;case gs.Bit32:this.pos+=4;break;case gs.LengthDelimited:let n=this.uint32();this.pos+=n;break;case gs.StartGroup:let d;for(;(d=this.tag()[1])!==gs.EndGroup;)this.skip(d);break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return ba.dec(...this.varint64())}uint64(){return ba.uDec(...this.varint64())}sint64(){let[t,r]=this.varint64(),n=-(t&1);return t=(t>>>1|(r&1)<<31)^n,r=r>>>1^n,ba.dec(t,r)}bool(){let[t,r]=this.varint64();return t!==0||r!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return ba.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return ba.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),r=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(r,r+t)}string(){return this.textDecoder.decode(this.bytes())}};function DW(e,t,r,n){let d;return{typeName:t,extendee:r,get field(){if(!d){const S=typeof n=="function"?n():n;S.name=t.split(".").pop(),S.jsonName=`[${t}]`,d=e.util.newFieldList([S]).list()[0]}return d},runtime:e}}function dB(e){const t=e.field.localName,r=Object.create(null);return r[t]=_W(e),[r,()=>r[t]]}function _W(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return jf(t.T,t.L);case"message":const r=t.T,n=new r;return r.fieldWrapper?r.fieldWrapper.unwrapField(n):n;case"map":throw"map fields are not allowed to be extensions"}}function jW(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let r=e.length-1;r>=0;--r)if(e[r].no==t.no)return[e[r]];return[]}return e.filter(r=>r.no===t.no)}let Zu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),sx=[];for(let e=0;e<Zu.length;e++)sx[Zu[e].charCodeAt(0)]=e;sx[45]=Zu.indexOf("+");sx[95]=Zu.indexOf("/");const ax={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let r=new Uint8Array(t),n=0,d=0,S,s=0;for(let g=0;g<e.length;g++){if(S=sx[e.charCodeAt(g)],S===void 0)switch(e[g]){case"=":d=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(d){case 0:s=S,d=1;break;case 1:r[n++]=s<<2|(S&48)>>4,s=S,d=2;break;case 2:r[n++]=(s&15)<<4|(S&60)>>2,s=S,d=3;break;case 3:r[n++]=(s&3)<<6|S,d=0;break}}if(d==1)throw Error("invalid base64 string.");return r.subarray(0,n)},enc(e){let t="",r=0,n,d=0;for(let S=0;S<e.length;S++)switch(n=e[S],r){case 0:t+=Zu[n>>2],d=(n&3)<<4,r=1;break;case 1:t+=Zu[d|n>>4],d=(n&15)<<2,r=2;break;case 2:t+=Zu[d|n>>6],t+=Zu[n&63],r=0;break}return r&&(t+=Zu[d],t+="=",r==1&&(t+="=")),t}};function zW(e,t,r){pB(t,e);const n=t.runtime.bin.makeReadOptions(r),d=jW(e.getType().runtime.bin.listUnknownFields(e),t.field),[S,s]=dB(t);for(const g of d)t.runtime.bin.readField(S,n.readerFactory(g.data),t.field,g.wireType,n);return s()}function UW(e,t,r,n){pB(t,e);const d=t.runtime.bin.makeReadOptions(n),S=t.runtime.bin.makeWriteOptions(n);if(fB(e,t)){const o=e.getType().runtime.bin.listUnknownFields(e).filter(m=>m.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const m of o)e.getType().runtime.bin.onUnknownField(e,m.no,m.wireType,m.data)}const s=S.writerFactory();let g=t.field;!g.opt&&!g.repeated&&(g.kind=="enum"||g.kind=="scalar")&&(g=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(g,r,s,S);const i=d.readerFactory(s.finish());for(;i.pos<i.len;){const[o,m]=i.tag(),c=i.skip(m);e.getType().runtime.bin.onUnknownField(e,o,m,c)}}function fB(e,t){const r=e.getType();return t.extendee.typeName===r.typeName&&!!r.runtime.bin.listUnknownFields(e).find(n=>n.no==t.field.no)}function pB(e,t){os(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function vB(e,t){const r=e.localName;if(e.repeated)return t[r].length>0;if(e.oneof)return t[e.oneof.localName].case===r;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[r]!==void 0:e.kind=="enum"?t[r]!==e.T.values[0].no:!cB(e.T,t[r]);case"message":return t[r]!==void 0;case"map":return Object.keys(t[r]).length>0}}function y6(e,t){const r=e.localName,n=!e.opt&&!e.req;if(e.repeated)t[r]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[r]={};break;case"enum":t[r]=n?e.T.values[0].no:void 0;break;case"scalar":t[r]=n?jf(e.T,e.L):void 0;break;case"message":t[r]=void 0;break}}function dd(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(Z3.prototype).every(n=>n in e&&typeof e[n]=="function"))return!1;const r=e.getType();return r===null||typeof r!="function"||!("typeName"in r)||typeof r.typeName!="string"?!1:t===void 0?!0:r.typeName==t.typeName}function mB(e,t){return dd(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}si.DOUBLE,si.FLOAT,si.INT64,si.UINT64,si.INT32,si.UINT32,si.BOOL,si.STRING,si.BYTES;const x6={ignoreUnknownFields:!1},b6={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function GW(e){return e?Object.assign(Object.assign({},x6),e):x6}function HW(e){return e?Object.assign(Object.assign({},b6),e):b6}const ty=Symbol(),K0=Symbol();function $W(){return{makeReadOptions:GW,makeWriteOptions:HW,readMessage(e,t,r,n){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.typeName} from JSON: ${su(t)}`);n=n!=null?n:new e;const d=new Map,S=r.typeRegistry;for(const[s,g]of Object.entries(t)){const i=e.fields.findJsonName(s);if(i){if(i.oneof){if(g===null&&i.kind=="scalar")continue;const o=d.get(i.oneof);if(o!==void 0)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${i.oneof.name}" present: "${o}", "${s}"`);d.set(i.oneof,s)}S6(n,g,i,r,e)}else{let o=!1;if(S!=null&&S.findExtension&&s.startsWith("[")&&s.endsWith("]")){const m=S.findExtension(s.substring(1,s.length-1));if(m&&m.extendee.typeName==e.typeName){o=!0;const[c,l]=dB(m);S6(c,g,m.field,r,m),UW(n,m,l(),r)}}if(!o&&!r.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return n},writeMessage(e,t){const r=e.getType(),n={};let d;try{for(d of r.fields.byNumber()){if(!vB(d,e)){if(d.req)throw"required field not set";if(!t.emitDefaultValues||!VW(d))continue}const s=d.oneof?e[d.oneof.localName].value:e[d.localName],g=w6(d,s,t);g!==void 0&&(n[t.useProtoFieldName?d.name:d.jsonName]=g)}const S=t.typeRegistry;if(S!=null&&S.findExtensionFor)for(const s of r.runtime.bin.listUnknownFields(e)){const g=S.findExtensionFor(r.typeName,s.no);if(g&&fB(e,g)){const i=zW(e,g,t),o=w6(g.field,i,t);o!==void 0&&(n[g.field.jsonName]=o)}}}catch(S){const s=d?`cannot encode field ${r.typeName}.${d.name} to JSON`:`cannot encode message ${r.typeName} to JSON`,g=S instanceof Error?S.message:String(S);throw new Error(s+(g.length>0?`: ${g}`:""))}return n},readScalar(e,t,r){return Nv(e,t,r!=null?r:dc.BIGINT,!0)},writeScalar(e,t,r){if(t!==void 0&&(r||cB(e,t)))return J0(e,t)},debug:su}}function su(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function S6(e,t,r,n,d){let S=r.localName;if(r.repeated){if(os(r.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${d.typeName}.${r.name} from JSON: ${su(t)}`);const s=e[S];for(const g of t){if(g===null)throw new Error(`cannot decode field ${d.typeName}.${r.name} from JSON: ${su(g)}`);switch(r.kind){case"message":s.push(r.T.fromJson(g,n));break;case"enum":const i=Qb(r.T,g,n.ignoreUnknownFields,!0);i!==K0&&s.push(i);break;case"scalar":try{s.push(Nv(r.T,g,r.L,!0))}catch(o){let m=`cannot decode field ${d.typeName}.${r.name} from JSON: ${su(g)}`;throw o instanceof Error&&o.message.length>0&&(m+=`: ${o.message}`),new Error(m)}break}}}else if(r.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${d.typeName}.${r.name} from JSON: ${su(t)}`);const s=e[S];for(const[g,i]of Object.entries(t)){if(i===null)throw new Error(`cannot decode field ${d.typeName}.${r.name} from JSON: map value null`);let o;try{o=WW(r.K,g)}catch(m){let c=`cannot decode map key for field ${d.typeName}.${r.name} from JSON: ${su(t)}`;throw m instanceof Error&&m.message.length>0&&(c+=`: ${m.message}`),new Error(c)}switch(r.V.kind){case"message":s[o]=r.V.T.fromJson(i,n);break;case"enum":const m=Qb(r.V.T,i,n.ignoreUnknownFields,!0);m!==K0&&(s[o]=m);break;case"scalar":try{s[o]=Nv(r.V.T,i,dc.BIGINT,!0)}catch(c){let l=`cannot decode map value for field ${d.typeName}.${r.name} from JSON: ${su(t)}`;throw c instanceof Error&&c.message.length>0&&(l+=`: ${c.message}`),new Error(l)}break}}}else switch(r.oneof&&(e=e[r.oneof.localName]={case:S},S="value"),r.kind){case"message":const s=r.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let g=e[S];dd(g)?g.fromJson(t,n):(e[S]=g=s.fromJson(t,n),s.fieldWrapper&&!r.oneof&&(e[S]=s.fieldWrapper.unwrapField(g)));break;case"enum":const i=Qb(r.T,t,n.ignoreUnknownFields,!1);switch(i){case ty:y6(r,e);break;case K0:break;default:e[S]=i;break}break;case"scalar":try{const o=Nv(r.T,t,r.L,!1);switch(o){case ty:y6(r,e);break;default:e[S]=o;break}}catch(o){let m=`cannot decode field ${d.typeName}.${r.name} from JSON: ${su(t)}`;throw o instanceof Error&&o.message.length>0&&(m+=`: ${o.message}`),new Error(m)}break}}function WW(e,t){if(e===si.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return Nv(e,t,dc.BIGINT,!0).toString()}function Nv(e,t,r,n){if(t===null)return n?jf(e,r):ty;switch(e){case si.DOUBLE:case si.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const d=Number(t);if(Number.isNaN(d)||!Number.isFinite(d))break;return e==si.FLOAT&&nB(d),d;case si.INT32:case si.FIXED32:case si.SFIXED32:case si.SINT32:case si.UINT32:let S;if(typeof t=="number"?S=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(S=Number(t)),S===void 0)break;return e==si.UINT32||e==si.FIXED32?y2(S):X0(S),S;case si.INT64:case si.SFIXED64:case si.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=ba.parse(t);return r?s.toString():s;case si.FIXED64:case si.UINT64:if(typeof t!="number"&&typeof t!="string")break;const g=ba.uParse(t);return r?g.toString():g;case si.BOOL:if(typeof t!="boolean")break;return t;case si.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch(i){throw new Error("invalid UTF8")}return t;case si.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return ax.dec(t)}throw new Error}function Qb(e,t,r,n){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:n?e.values[0].no:ty;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const d=e.findName(t);if(d!==void 0)return d.no;if(r)return K0;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${su(t)}`)}function VW(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function w6(e,t,r){if(e.kind=="map"){os(typeof t=="object"&&t!=null);const n={},d=Object.entries(t);switch(e.V.kind){case"scalar":for(const[s,g]of d)n[s.toString()]=J0(e.V.T,g);break;case"message":for(const[s,g]of d)n[s.toString()]=g.toJson(r);break;case"enum":const S=e.V.T;for(const[s,g]of d)n[s.toString()]=Kb(S,g,r.enumAsInteger);break}return r.emitDefaultValues||d.length>0?n:void 0}if(e.repeated){os(Array.isArray(t));const n=[];switch(e.kind){case"scalar":for(let d=0;d<t.length;d++)n.push(J0(e.T,t[d]));break;case"enum":for(let d=0;d<t.length;d++)n.push(Kb(e.T,t[d],r.enumAsInteger));break;case"message":for(let d=0;d<t.length;d++)n.push(t[d].toJson(r));break}return r.emitDefaultValues||n.length>0?n:void 0}switch(e.kind){case"scalar":return J0(e.T,t);case"enum":return Kb(e.T,t,r.enumAsInteger);case"message":return mB(e.T,t).toJson(r)}}function Kb(e,t,r){var n;if(os(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(r)return t;const d=e.findNumber(t);return(n=d==null?void 0:d.name)!==null&&n!==void 0?n:t}function J0(e,t){switch(e){case si.INT32:case si.SFIXED32:case si.SINT32:case si.FIXED32:case si.UINT32:return os(typeof t=="number"),t;case si.FLOAT:case si.DOUBLE:return os(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case si.STRING:return os(typeof t=="string"),t;case si.BOOL:return os(typeof t=="boolean"),t;case si.UINT64:case si.FIXED64:case si.INT64:case si.SFIXED64:case si.SINT64:return os(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case si.BYTES:return os(t instanceof Uint8Array),ax.enc(t)}}const Gd=Symbol("@bufbuild/protobuf/unknown-fields"),T6={readUnknownFields:!0,readerFactory:e=>new FW(e)},C6={writeUnknownFields:!0,writerFactory:()=>new LW};function YW(e){return e?Object.assign(Object.assign({},T6),e):T6}function XW(e){return e?Object.assign(Object.assign({},C6),e):C6}function QW(){return{makeReadOptions:YW,makeWriteOptions:XW,listUnknownFields(e){var t;return(t=e[Gd])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[Gd]},writeUnknownFields(e,t){const n=e[Gd];if(n)for(const d of n)t.tag(d.no,d.wireType).raw(d.data)},onUnknownField(e,t,r,n){const d=e;Array.isArray(d[Gd])||(d[Gd]=[]),d[Gd].push({no:t,wireType:r,data:n})},readMessage(e,t,r,n,d){const S=e.getType(),s=d?t.len:t.pos+r;let g,i;for(;t.pos<s&&([g,i]=t.tag(),i!=gs.EndGroup);){const o=S.fields.find(g);if(!o){const m=t.skip(i);n.readUnknownFields&&this.onUnknownField(e,g,i,m);continue}E6(e,t,o,i,n)}if(d&&(i!=gs.EndGroup||g!==r))throw new Error("invalid end group tag")},readField:E6,writeMessage(e,t,r){const n=e.getType();for(const d of n.fields.byNumber()){if(!vB(d,e)){if(d.req)throw new Error(`cannot encode field ${n.typeName}.${d.name} to binary: required field not set`);continue}const S=d.oneof?e[d.oneof.localName].value:e[d.localName];k6(d,S,t,r)}return r.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,r,n){t!==void 0&&k6(e,t,r,n)}}}function E6(e,t,r,n,d){let{repeated:S,localName:s}=r;switch(r.oneof&&(e=e[r.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),r.kind){case"scalar":case"enum":const g=r.kind=="enum"?si.INT32:r.T;let i=ey;if(r.kind=="scalar"&&r.L>0&&(i=JW),S){let l=e[s];if(n==gs.LengthDelimited&&g!=si.STRING&&g!=si.BYTES){let a=t.uint32()+t.pos;for(;t.pos<a;)l.push(i(t,g))}else l.push(i(t,g))}else e[s]=i(t,g);break;case"message":const o=r.T;S?e[s].push(Z0(t,new o,d,r)):dd(e[s])?Z0(t,e[s],d,r):(e[s]=Z0(t,new o,d,r),o.fieldWrapper&&!r.oneof&&!r.repeated&&(e[s]=o.fieldWrapper.unwrapField(e[s])));break;case"map":let[m,c]=KW(r,t,d);e[s][m]=c;break}}function Z0(e,t,r,n){const d=t.getType().runtime.bin,S=n==null?void 0:n.delimited;return d.readMessage(t,e,S?n.no:e.uint32(),r,S),t}function KW(e,t,r){const n=t.uint32(),d=t.pos+n;let S,s;for(;t.pos<d;){const[g]=t.tag();switch(g){case 1:S=ey(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=ey(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=Z0(t,new e.V.T,r,void 0);break}break}}if(S===void 0&&(S=jf(e.K,dc.BIGINT)),typeof S!="string"&&typeof S!="number"&&(S=S.toString()),s===void 0)switch(e.V.kind){case"scalar":s=jf(e.V.T,dc.BIGINT);break;case"enum":s=e.V.T.values[0].no;break;case"message":s=new e.V.T;break}return[S,s]}function JW(e,t){const r=ey(e,t);return typeof r=="bigint"?r.toString():r}function ey(e,t){switch(t){case si.STRING:return e.string();case si.BOOL:return e.bool();case si.DOUBLE:return e.double();case si.FLOAT:return e.float();case si.INT32:return e.int32();case si.INT64:return e.int64();case si.UINT64:return e.uint64();case si.FIXED64:return e.fixed64();case si.BYTES:return e.bytes();case si.FIXED32:return e.fixed32();case si.SFIXED32:return e.sfixed32();case si.SFIXED64:return e.sfixed64();case si.SINT64:return e.sint64();case si.UINT32:return e.uint32();case si.SINT32:return e.sint32()}}function k6(e,t,r,n){os(t!==void 0);const d=e.repeated;switch(e.kind){case"scalar":case"enum":let S=e.kind=="enum"?si.INT32:e.T;if(d)if(os(Array.isArray(t)),e.packed)qW(r,S,e.no,t);else for(const s of t)Lv(r,S,e.no,s);else Lv(r,S,e.no,t);break;case"message":if(d){os(Array.isArray(t));for(const s of t)P6(r,n,e,s)}else P6(r,n,e,t);break;case"map":os(typeof t=="object"&&t!=null);for(const[s,g]of Object.entries(t))ZW(r,n,e,s,g);break}}function ZW(e,t,r,n,d){e.tag(r.no,gs.LengthDelimited),e.fork();let S=n;switch(r.K){case si.INT32:case si.FIXED32:case si.UINT32:case si.SFIXED32:case si.SINT32:S=Number.parseInt(n);break;case si.BOOL:os(n=="true"||n=="false"),S=n=="true";break}switch(Lv(e,r.K,1,S),r.V.kind){case"scalar":Lv(e,r.V.T,2,d);break;case"enum":Lv(e,si.INT32,2,d);break;case"message":os(d!==void 0),e.tag(2,gs.LengthDelimited).bytes(d.toBinary(t));break}e.join()}function P6(e,t,r,n){const d=mB(r.T,n);r.delimited?e.tag(r.no,gs.StartGroup).raw(d.toBinary(t)).tag(r.no,gs.EndGroup):e.tag(r.no,gs.LengthDelimited).bytes(d.toBinary(t))}function Lv(e,t,r,n){os(n!==void 0);let[d,S]=gB(t);e.tag(r,d)[S](n)}function qW(e,t,r,n){if(!n.length)return;e.tag(r,gs.LengthDelimited).fork();let[,d]=gB(t);for(let S=0;S<n.length;S++)e[d](n[S]);e.join()}function gB(e){let t=gs.Varint;switch(e){case si.BYTES:case si.STRING:t=gs.LengthDelimited;break;case si.DOUBLE:case si.FIXED64:case si.SFIXED64:t=gs.Bit64;break;case si.FIXED32:case si.SFIXED32:case si.FLOAT:t=gs.Bit32;break}const r=si[e].toLowerCase();return[t,r]}function tV(){return{setEnumType:aB,initPartial(e,t){if(e===void 0)return;const r=t.getType();for(const n of r.fields.byMember()){const d=n.localName,S=t,s=e;if(s[d]!==void 0)switch(n.kind){case"oneof":const g=s[d].case;if(g===void 0)continue;const i=n.findField(g);let o=s[d].value;i&&i.kind=="message"&&!dd(o,i.T)?o=new i.T(o):i&&i.kind==="scalar"&&i.T===si.BYTES&&(o=Hp(o)),S[d]={case:g,value:o};break;case"scalar":case"enum":let m=s[d];n.T===si.BYTES&&(m=n.repeated?m.map(Hp):Hp(m)),S[d]=m;break;case"map":switch(n.V.kind){case"scalar":case"enum":if(n.V.T===si.BYTES)for(const[h,a]of Object.entries(s[d]))S[d][h]=Hp(a);else Object.assign(S[d],s[d]);break;case"message":const l=n.V.T;for(const h of Object.keys(s[d])){let a=s[d][h];l.fieldWrapper||(a=new l(a)),S[d][h]=a}break}break;case"message":const c=n.T;if(n.repeated)S[d]=s[d].map(l=>dd(l,c)?l:new c(l));else{const l=s[d];c.fieldWrapper?c.typeName==="google.protobuf.BytesValue"?S[d]=Hp(l):S[d]=l:S[d]=dd(l,c)?l:new c(l)}break}}},equals(e,t,r){return t===r?!0:!t||!r?!1:e.fields.byMember().every(n=>{const d=t[n.localName],S=r[n.localName];if(n.repeated){if(d.length!==S.length)return!1;switch(n.kind){case"message":return d.every((s,g)=>n.T.equals(s,S[g]));case"scalar":return d.every((s,g)=>Rh(n.T,s,S[g]));case"enum":return d.every((s,g)=>Rh(si.INT32,s,S[g]))}throw new Error(`repeated cannot contain ${n.kind}`)}switch(n.kind){case"message":return n.T.equals(d,S);case"enum":return Rh(si.INT32,d,S);case"scalar":return Rh(n.T,d,S);case"oneof":if(d.case!==S.case)return!1;const s=n.findField(d.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(d.value,S.value);case"enum":return Rh(si.INT32,d.value,S.value);case"scalar":return Rh(s.T,d.value,S.value)}throw new Error(`oneof cannot contain ${s.kind}`);case"map":const g=Object.keys(d).concat(Object.keys(S));switch(n.V.kind){case"message":const i=n.V.T;return g.every(m=>i.equals(d[m],S[m]));case"enum":return g.every(m=>Rh(si.INT32,d[m],S[m]));case"scalar":const o=n.V.T;return g.every(m=>Rh(o,d[m],S[m]))}break}})},clone(e){const t=e.getType(),r=new t,n=r;for(const d of t.fields.byMember()){const S=e[d.localName];let s;if(d.repeated)s=S.map(Gg);else if(d.kind=="map"){s=n[d.localName];for(const[g,i]of Object.entries(S))s[g]=Gg(i)}else d.kind=="oneof"?s=d.findField(S.case)?{case:S.case,value:Gg(S.value)}:{case:void 0}:s=Gg(S);n[d.localName]=s}for(const d of t.runtime.bin.listUnknownFields(e))t.runtime.bin.onUnknownField(n,d.no,d.wireType,d.data);return r}}}function Gg(e){if(e===void 0)return e;if(dd(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Hp(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function eV(e,t,r){return{syntax:e,json:$W(),bin:QW(),util:Object.assign(Object.assign({},tV()),{newFieldList:t,initFields:r}),makeMessageType(n,d,S){return RW(this,n,d,S)},makeEnum:AW,makeEnumType:oB,getEnumType:PW,makeExtension(n,d,S){return DW(this,n,d,S)}}}let iV=class{constructor(t,r){this._fields=t,this._normalizer=r}findJsonName(t){if(!this.jsonNames){const r={};for(const n of this.list())r[n.jsonName]=r[n.name]=n;this.jsonNames=r}return this.jsonNames[t]}find(t){if(!this.numbers){const r={};for(const n of this.list())r[n.no]=n;this.numbers=r}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,r)=>t.no-r.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const t=this.members;let r;for(const n of this.list())n.oneof?n.oneof!==r&&(r=n.oneof,t.push(r)):t.push(n)}return this.members}};function yB(e,t){const r=xB(e);return t?r:lV(oV(r))}function rV(e){return yB(e,!1)}const nV=xB;function xB(e){let t=!1;const r=[];for(let n=0;n<e.length;n++){let d=e.charAt(n);switch(d){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r.push(d),t=!1;break;default:t&&(t=!1,d=d.toUpperCase()),r.push(d);break}}return r.join("")}const sV=new Set(["constructor","toString","toJSON","valueOf"]),aV=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),bB=e=>`${e}$`,oV=e=>aV.has(e)?bB(e):e,lV=e=>sV.has(e)?bB(e):e;let uV=class{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=rV(t)}addField(t){os(t.oneof===this,`field ${t.name} not one of ${this.name}`),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let r=0;r<this.fields.length;r++)this._lookup[this.fields[r].localName]=this.fields[r]}return this._lookup[t]}};function hV(e,t){var r,n,d,S,s,g;const i=[];let o;for(const m of typeof e=="function"?e():e){const c=m;if(c.localName=yB(m.name,m.oneof!==void 0),c.jsonName=(r=m.jsonName)!==null&&r!==void 0?r:nV(m.name),c.repeated=(n=m.repeated)!==null&&n!==void 0?n:!1,m.kind=="scalar"&&(c.L=(d=m.L)!==null&&d!==void 0?d:dc.BIGINT),c.delimited=(S=m.delimited)!==null&&S!==void 0?S:!1,c.req=(s=m.req)!==null&&s!==void 0?s:!1,c.opt=(g=m.opt)!==null&&g!==void 0?g:!1,m.packed===void 0&&(c.packed=m.kind=="enum"||m.kind=="scalar"&&m.T!=si.BYTES&&m.T!=si.STRING),m.oneof!==void 0){const l=typeof m.oneof=="string"?m.oneof:m.oneof.name;(!o||o.name!=l)&&(o=new uV(l)),c.oneof=o,o.addField(c)}i.push(c)}return i}const Wi=eV("proto3",e=>new iV(e,t=>hV(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const r=t.localName,n=e;if(t.repeated){n[r]=[];continue}switch(t.kind){case"oneof":n[r]={case:void 0};break;case"enum":n[r]=0;break;case"map":n[r]={};break;case"scalar":n[r]=jf(t.T,t.L);break}}});var sn;(function(e){e[e.Unary=0]="Unary",e[e.ServerStreaming=1]="ServerStreaming",e[e.ClientStreaming=2]="ClientStreaming",e[e.BiDiStreaming=3]="BiDiStreaming"})(sn||(sn={}));var x2;(function(e){e[e.NoSideEffects=1]="NoSideEffects",e[e.Idempotent=2]="Idempotent"})(x2||(x2={}));class Go extends Z3{constructor(t){super(),this.seconds=ba.zero,this.nanos=0,Wi.util.initPartial(t,this)}fromJson(t,r){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${Wi.json.debug(t)}`);const n=t.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const d=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(d))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(d<Date.parse("0001-01-01T00:00:00Z")||d>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=ba.parse(d/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}toJson(t){const r=Number(this.seconds)*1e3;if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let n="Z";if(this.nanos>0){const d=(this.nanos+1e9).toString().substring(1);d.substring(3)==="000000"?n="."+d.substring(0,3)+"Z":d.substring(6)==="000"?n="."+d.substring(0,6)+"Z":n="."+d+"Z"}return new Date(r).toISOString().replace(".000Z",n)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return Go.fromDate(new Date)}static fromDate(t){const r=t.getTime();return new Go({seconds:ba.parse(Math.floor(r/1e3)),nanos:r%1e3*1e6})}static fromBinary(t,r){return new Go().fromBinary(t,r)}static fromJson(t,r){return new Go().fromJson(t,r)}static fromJsonString(t,r){return new Go().fromJsonString(t,r)}static equals(t,r){return Wi.util.equals(Go,t,r)}}Go.runtime=Wi;Go.typeName="google.protobuf.Timestamp";Go.fields=Wi.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var qr;(function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"})(qr||(qr={}));function b2(e){const t=qr[e];return typeof t!="string"?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,r=>"_"+r.toLowerCase())}let Hg;function cV(e){if(!Hg){Hg={};for(const t of Object.values(qr))typeof t!="string"&&(Hg[b2(t)]=t)}return Hg[e]}class Ms extends Error{constructor(t,r=qr.Unknown,n,d,S){super(dV(t,r)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=t,this.code=r,this.metadata=new Headers(n!=null?n:{}),this.details=d!=null?d:[],this.cause=S}static from(t,r=qr.Unknown){return t instanceof Ms?t:t instanceof Error?t.name=="AbortError"?new Ms(t.message,qr.Canceled):new Ms(t.message,r,void 0,void 0,t):new Ms(String(t),r,void 0,void 0,t)}static[Symbol.hasInstance](t){return t instanceof Error?Object.getPrototypeOf(t)===Ms.prototype?!0:t.name==="ConnectError"&&"code"in t&&typeof t.code=="number"&&"metadata"in t&&"details"in t&&Array.isArray(t.details)&&"rawMessage"in t&&typeof t.rawMessage=="string"&&"cause"in t:!1}findDetails(t){const r="typeName"in t?{findMessage:d=>d===t.typeName?t:void 0}:t,n=[];for(const d of this.details){if("getType"in d){r.findMessage(d.getType().typeName)&&n.push(d);continue}const S=r.findMessage(d.type);if(S)try{n.push(S.fromBinary(d.value))}catch(s){}}return n}}function dV(e,t){return e.length?`[${b2(t)}] ${e}`:`[${b2(t)}]`}function fV(...e){const t=new Headers;for(const r of e)r.forEach((n,d)=>{t.append(d,n)});return t}function pV(e,t){const r={};for(const[n,d]of Object.entries(e.methods)){const S=t(Object.assign(Object.assign({},d),{localName:n,service:e}));S!=null&&(r[n]=S)}return r}function vV(e){let t,r=new Uint8Array(0);function n(S){const s=new Uint8Array(r.length+S.length);s.set(r),s.set(S,r.length),r=s}return new ReadableStream({start(){t=e.getReader()},pull(S){return ci(this,null,function*(){let s;for(;;){if(s===void 0&&r.byteLength>=5){let o=0;for(let m=1;m<5;m++)o=(o<<8)+r[m];s={flags:r[0],length:o}}if(s!==void 0&&r.byteLength>=s.length+5)break;const i=yield t.read();if(i.done)break;n(i.value)}if(s===void 0){if(r.byteLength==0){S.close();return}S.error(new Ms("premature end of stream",qr.DataLoss));return}const g=r.subarray(5,5+s.length);r=r.subarray(5+s.length),S.enqueue({flags:s.flags,data:g})})}})}function mV(e,t){const r=new Uint8Array(t.length+5);r.set(t,5);const n=new DataView(r.buffer,r.byteOffset,r.byteLength);return n.setUint8(0,e),n.setUint32(1,t.length),r}var gV=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(S){r[S]=e[S]&&function(s){return new Promise(function(g,i){s=e[S](s),d(g,i,s.done,s.value)})}}function d(S,s,g,i){Promise.resolve(i).then(function(o){S({value:o,done:g})},s)}},cm=function(e){return this instanceof cm?(this.v=e,this):new cm(e)},yV=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),d,S=[];return d={},g("next"),g("throw"),g("return",s),d[Symbol.asyncIterator]=function(){return this},d;function s(h){return function(a){return Promise.resolve(a).then(h,c)}}function g(h,a){n[h]&&(d[h]=function(f){return new Promise(function(p,u){S.push([h,f,p,u])>1||i(h,f)})},a&&(d[h]=a(d[h])))}function i(h,a){try{o(n[h](a))}catch(f){l(S[0][3],f)}}function o(h){h.value instanceof cm?Promise.resolve(h.value.v).then(m,c):l(S[0][2],h)}function m(h){i("next",h)}function c(h){i("throw",h)}function l(h,a){h(a),S.shift(),S.length&&i(S[0][0],S[0][1])}},xV=function(e){var t,r;return t={},n("next"),n("throw",function(d){throw d}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(d,S){t[d]=e[d]?function(s){return(r=!r)?{value:cm(e[d](s)),done:!1}:S?S(s):s}:S}};function bV(e){return yV(this,arguments,function*(){yield cm(yield*Tb(xV(gV(e))))})}var SB=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(S){r[S]=e[S]&&function(s){return new Promise(function(g,i){s=e[S](s),d(g,i,s.done,s.value)})}}function d(S,s,g,i){Promise.resolve(i).then(function(o){S({value:o,done:g})},s)}},zf=function(e){return this instanceof zf?(this.v=e,this):new zf(e)},SV=function(e){var t,r;return t={},n("next"),n("throw",function(d){throw d}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(d,S){t[d]=e[d]?function(s){return(r=!r)?{value:zf(e[d](s)),done:!1}:S?S(s):s}:S}},wV=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),d,S=[];return d={},g("next"),g("throw"),g("return",s),d[Symbol.asyncIterator]=function(){return this},d;function s(h){return function(a){return Promise.resolve(a).then(h,c)}}function g(h,a){n[h]&&(d[h]=function(f){return new Promise(function(p,u){S.push([h,f,p,u])>1||i(h,f)})},a&&(d[h]=a(d[h])))}function i(h,a){try{o(n[h](a))}catch(f){l(S[0][3],f)}}function o(h){h.value instanceof zf?Promise.resolve(h.value.v).then(m,c):l(S[0][2],h)}function m(h){i("next",h)}function c(h){i("throw",h)}function l(h,a){h(a),S.shift(),S.length&&i(S[0][0],S[0][1])}};function TV(e,t){return pV(e,r=>{switch(r.kind){case sn.Unary:return CV(t,e,r);case sn.ServerStreaming:return EV(t,e,r);case sn.ClientStreaming:return kV(t,e,r);case sn.BiDiStreaming:return PV(t,e,r);default:return null}})}function CV(e,t,r){return function(n,d){return ci(this,null,function*(){var S,s;const g=yield e.unary(t,r,d==null?void 0:d.signal,d==null?void 0:d.timeoutMs,d==null?void 0:d.headers,n,d==null?void 0:d.contextValues);return(S=d==null?void 0:d.onHeader)===null||S===void 0||S.call(d,g.header),(s=d==null?void 0:d.onTrailer)===null||s===void 0||s.call(d,g.trailer),g.message})}}function EV(e,t,r){return function(n,d){return wB(e.stream(t,r,d==null?void 0:d.signal,d==null?void 0:d.timeoutMs,d==null?void 0:d.headers,bV([n]),d==null?void 0:d.contextValues),d)}}function kV(e,t,r){return function(n,d){return ci(this,null,function*(){var S,s,g,i,o,m;const c=yield e.stream(t,r,d==null?void 0:d.signal,d==null?void 0:d.timeoutMs,d==null?void 0:d.headers,n,d==null?void 0:d.contextValues);(o=d==null?void 0:d.onHeader)===null||o===void 0||o.call(d,c.header);let l;try{for(var h=!0,a=SB(c.message),f;f=yield a.next(),S=f.done,!S;h=!0)i=f.value,h=!1,l=i}catch(p){s={error:p}}finally{try{!h&&!S&&(g=a.return)&&(yield g.call(a))}finally{if(s)throw s.error}}if(!l)throw new Ms("protocol error: missing response message",qr.Internal);return(m=d==null?void 0:d.onTrailer)===null||m===void 0||m.call(d,c.trailer),l})}}function PV(e,t,r){return function(n,d){return wB(e.stream(t,r,d==null?void 0:d.signal,d==null?void 0:d.timeoutMs,d==null?void 0:d.headers,n,d==null?void 0:d.contextValues),d)}}function wB(e,t){const r=function(){var n,d;return wV(this,arguments,function*(){const S=yield zf(e);(n=t==null?void 0:t.onHeader)===null||n===void 0||n.call(t,S.header),yield zf(yield*Tb(SV(SB(S.message)))),(d=t==null?void 0:t.onTrailer)===null||d===void 0||d.call(t,S.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>r.next()})}}function AV(...e){const t=new AbortController,r=e.filter(d=>d!==void 0).concat(t.signal);for(const d of r){if(d.aborted){n.apply(d);break}d.addEventListener("abort",n)}function n(){t.signal.aborted||t.abort(TB(this));for(const d of r)d.removeEventListener("abort",n)}return t}function RV(e){const t=new AbortController,r=()=>{t.abort(new Ms("the operation timed out",qr.DeadlineExceeded))};let n;return e!==void 0&&(e<=0?r():n=setTimeout(r,e)),{signal:t.signal,cleanup:()=>clearTimeout(n)}}function TB(e){if(!e.aborted)return;if(e.reason!==void 0)return e.reason;const t=new Error("This operation was aborted");return t.name="AbortError",t}function A6(){return{get(e){return e.id in this?this[e.id]:e.defaultValue},set(e,t){return this[e.id]=t,this},delete(e){return delete this[e.id],this}}}function R6(e,t,r){const n=typeof t=="string"?t:t.typeName,d=typeof r=="string"?r:r.name;return e.toString().replace(/\/?$/,`/${n}/${d}`)}function CB(e,t){return t instanceof e?t:new e(t)}function IV(e,t){function r(n){return n.done===!0?n:{done:n.done,value:CB(e,n.value)}}return{[Symbol.asyncIterator](){const n=t[Symbol.asyncIterator](),d={next:()=>n.next().then(r)};return n.throw!==void 0&&(d.throw=S=>n.throw(S).then(r)),n.return!==void 0&&(d.return=S=>n.return(S).then(r)),d}}}function EB(e,t){var r;return(r=t==null?void 0:t.concat().reverse().reduce((n,d)=>d(n),e))!==null&&r!==void 0?r:e}function kB(e){var t;const r=Object.assign({},e);return(t=r.ignoreUnknownFields)!==null&&t!==void 0||(r.ignoreUnknownFields=!0),r}function I6(e,t,r,n){const d=t?M6(e.I,n):B6(e.I,r);return{parse:(t?M6(e.O,n):B6(e.O,r)).parse,serialize:d.serialize}}function M6(e,t){return{parse(r){try{return e.fromBinary(r,t)}catch(n){const d=n instanceof Error?n.message:String(n);throw new Ms(`parse binary: ${d}`,qr.InvalidArgument)}},serialize(r){try{return r.toBinary(t)}catch(n){const d=n instanceof Error?n.message:String(n);throw new Ms(`serialize binary: ${d}`,qr.Internal)}}}}function B6(e,t){var r,n;const d=(r=t==null?void 0:t.textEncoder)!==null&&r!==void 0?r:new TextEncoder,S=(n=t==null?void 0:t.textDecoder)!==null&&n!==void 0?n:new TextDecoder,s=kB(t);return{parse(g){try{const i=S.decode(g);return e.fromJsonString(i,s)}catch(i){throw Ms.from(i,qr.InvalidArgument)}},serialize(g){try{const i=g.toJsonString(s);return d.encode(i)}catch(i){throw Ms.from(i,qr.Internal)}}}}const MV=/^application\/(connect\+)?(?:(json)(?:; ?charset=utf-?8)?|(proto))$/i,BV="application/proto",OV="application/json",NV="application/connect+proto",LV="application/connect+json";function FV(e){const t=e==null?void 0:e.match(MV);if(!t)return;const r=!!t[1],n=!!t[3];return{stream:r,binary:n}}function PB(e,t,r){if(t&&new Headers(t).forEach((s,g)=>r.metadata.append(g,s)),typeof e!="object"||e==null||Array.isArray(e)||!("code"in e)||typeof e.code!="string")throw r;const n=cV(e.code);if(n===void 0)throw r;const d=e.message;if(d!=null&&typeof d!="string")throw r;const S=new Ms(d!=null?d:"",n,t);if("details"in e&&Array.isArray(e.details))for(const s of e.details){if(s===null||typeof s!="object"||Array.isArray(s)||typeof s.type!="string"||typeof s.value!="string"||"debug"in s&&typeof s.debug!="object")throw r;try{S.details.push({type:s.type,value:ax.dec(s.value),debug:s.debug})}catch(g){throw r}}return S}const O6=2;function DV(e){const t=new Ms("invalid end stream",qr.InvalidArgument);let r;try{r=JSON.parse(typeof e=="string"?e:new TextDecoder().decode(e))}catch(S){throw t}if(typeof r!="object"||r==null||Array.isArray(r))throw t;const n=new Headers;if("metadata"in r){if(typeof r.metadata!="object"||r.metadata==null||Array.isArray(r.metadata))throw t;for(const[S,s]of Object.entries(r.metadata)){if(!Array.isArray(s)||s.some(g=>typeof g!="string"))throw t;for(const g of s)n.append(S,g)}}const d="error"in r?PB(r.error,n,t):void 0;return{metadata:n,error:d}}const S2="Content-Type",_V="Content-Length",N6="Content-Encoding",jV="Accept-Encoding",zV="Connect-Timeout-Ms",AB="Connect-Protocol-Version";function UV(e){switch(e){case 400:return qr.InvalidArgument;case 401:return qr.Unauthenticated;case 403:return qr.PermissionDenied;case 404:return qr.Unimplemented;case 408:return qr.DeadlineExceeded;case 409:return qr.Aborted;case 412:return qr.FailedPrecondition;case 413:return qr.ResourceExhausted;case 415:return qr.Internal;case 429:return qr.Unavailable;case 431:return qr.ResourceExhausted;case 502:return qr.Unavailable;case 503:return qr.Unavailable;case 504:return qr.Unavailable;default:return qr.Unknown}}function L6(e){const t=new Headers,r=new Headers;return e.forEach((n,d)=>{d.toLowerCase().startsWith("trailer-")?r.set(d.substring(8),n):t.set(d,n)}),[t,r]}const RB="1";function F6(e,t,r,n,d){const S=new Headers(n!=null?n:{});return r!==void 0&&S.set(zV,`${r}`),S.set(S2,e==sn.Unary?t?BV:OV:t?NV:LV),S.set(AB,RB),S}function D6(e,t,r){const n=r.get("Content-Type"),d=FV(n);if(t!==200){const S=new Ms(`HTTP ${t}`,UV(t),r);if(e==sn.Unary&&d&&!d.binary)return{isUnaryError:!0,unaryError:S};throw S}return{isUnaryError:!1}}const _6="application/";function GV(e,t){return t?ax.enc(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):encodeURIComponent(new TextDecoder().decode(e))}function HV(e,t,r){let n=`?connect=v${RB}`;const d=e.header.get(S2);(d==null?void 0:d.indexOf(_6))===0&&(n+="&encoding="+encodeURIComponent(d.slice(_6.length)));const S=e.header.get(N6);S!==null&&S!=="identity"&&(n+="&compression="+encodeURIComponent(S),r=!0),r&&(n+="&base64=1"),n+="&message="+GV(t,r);const s=e.url+n,g=new Headers(e.header);return[AB,S2,_V,N6,jV].forEach(i=>g.delete(i)),Object.assign(Object.assign({},e),{init:Object.assign(Object.assign({},e.init),{method:"GET"}),url:s,header:g})}function $V(e){const t=EB(e.next,e.interceptors),[r,n,d]=IB(e),S=Object.assign(Object.assign({},e.req),{message:CB(e.req.method.I,e.req.message),signal:r});return t(S).then(s=>(d(),s),n)}function WV(e){const t=EB(e.next,e.interceptors),[r,n,d]=IB(e),S=Object.assign(Object.assign({},e.req),{message:IV(e.req.method.I,e.req.message),signal:r});let s=!1;return r.addEventListener("abort",function(){var g,i;const o=e.req.message[Symbol.asyncIterator]();s||(g=o.throw)===null||g===void 0||g.call(o,this.reason).catch(()=>{}),(i=o.return)===null||i===void 0||i.call(o).catch(()=>{})}),t(S).then(g=>Object.assign(Object.assign({},g),{message:{[Symbol.asyncIterator](){const i=g.message[Symbol.asyncIterator]();return{next(){return i.next().then(o=>(o.done==!0&&(s=!0,d()),o),n)}}}}}),n)}function IB(e){const{signal:t,cleanup:r}=RV(e.timeoutMs),n=AV(e.signal,t);return[n.signal,function(S){const s=Ms.from(t.aborted?TB(t):S);return n.abort(s),r(),Promise.reject(s)},function(){r(),n.abort()}]}function VV(){try{new Headers}catch(e){throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}var dm=function(e){return this instanceof dm?(this.v=e,this):new dm(e)},YV=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),d,S=[];return d={},g("next"),g("throw"),g("return",s),d[Symbol.asyncIterator]=function(){return this},d;function s(h){return function(a){return Promise.resolve(a).then(h,c)}}function g(h,a){n[h]&&(d[h]=function(f){return new Promise(function(p,u){S.push([h,f,p,u])>1||i(h,f)})},a&&(d[h]=a(d[h])))}function i(h,a){try{o(n[h](a))}catch(f){l(S[0][3],f)}}function o(h){h.value instanceof dm?Promise.resolve(h.value.v).then(m,c):l(S[0][2],h)}function m(h){i("next",h)}function c(h){i("throw",h)}function l(h,a){h(a),S.shift(),S.length&&i(S[0][0],S[0][1])}};function XV(e){var t;VV();const r=(t=e.useBinaryFormat)!==null&&t!==void 0?t:!1;return{unary(d,S,s,g,i,o,m){return ci(this,null,function*(){var c;const{serialize:l,parse:h}=I6(S,r,e.jsonOptions,e.binaryOptions);return g=g===void 0?e.defaultTimeoutMs:g<=0?void 0:g,yield $V({interceptors:e.interceptors,signal:s,timeoutMs:g,req:{stream:!1,service:d,method:S,url:R6(e.baseUrl,d,S),init:{method:"POST",credentials:(c=e.credentials)!==null&&c!==void 0?c:"same-origin",redirect:"error",mode:"cors"},header:F6(S.kind,r,g,i),contextValues:m!=null?m:A6(),message:o},next:a=>ci(this,null,function*(){var f;const p=e.useHttpGet===!0&&S.idempotency===x2.NoSideEffects;let u=null;p?a=HV(a,l(a.message),r):u=l(a.message);const y=yield((f=e.fetch)!==null&&f!==void 0?f:globalThis.fetch)(a.url,Object.assign(Object.assign({},a.init),{headers:a.header,signal:a.signal,body:u})),{isUnaryError:x,unaryError:b}=D6(S.kind,y.status,y.headers);if(x)throw PB(yield y.json(),fV(...L6(y.headers)),b);const[w,C]=L6(y.headers);return{stream:!1,service:d,method:S,header:w,message:r?h(new Uint8Array(yield y.arrayBuffer())):S.O.fromJson(yield y.json(),kB(e.jsonOptions)),trailer:C}})})})},stream(d,S,s,g,i,o,m){return ci(this,null,function*(){var c;const{serialize:l,parse:h}=I6(S,r,e.jsonOptions,e.binaryOptions);function a(p,u,v){return YV(this,arguments,function*(){const x=vV(p).getReader();let b=!1;for(;;){const w=yield dm(x.read());if(w.done)break;const{flags:C,data:E}=w.value;if((C&O6)===O6){b=!0;const T=DV(E);if(T.error){const k=T.error;throw v.forEach((A,I)=>{k.metadata.append(I,A)}),k}T.metadata.forEach((k,A)=>u.set(A,k));continue}yield yield dm(h(E))}if(!b)throw"missing EndStreamResponse"})}function f(p){return ci(this,null,function*(){if(S.kind!=sn.ServerStreaming)throw"The fetch API does not support streaming request bodies";const u=yield p[Symbol.asyncIterator]().next();if(u.done==!0)throw"missing request message";return mV(0,l(u.value))})}return g=g===void 0?e.defaultTimeoutMs:g<=0?void 0:g,yield WV({interceptors:e.interceptors,timeoutMs:g,signal:s,req:{stream:!0,service:d,method:S,url:R6(e.baseUrl,d,S),init:{method:"POST",credentials:(c=e.credentials)!==null&&c!==void 0?c:"same-origin",redirect:"error",mode:"cors"},header:F6(S.kind,r,g,i),contextValues:m!=null?m:A6(),message:o},next:p=>ci(this,null,function*(){var u;const y=yield((u=e.fetch)!==null&&u!==void 0?u:globalThis.fetch)(p.url,Object.assign(Object.assign({},p.init),{headers:p.header,signal:p.signal,body:yield f(p.message)}));if(D6(S.kind,y.status,y.headers),y.body===null)throw"missing response body";const x=new Headers;return Object.assign(Object.assign({},p),{header:y.headers,trailer:x,message:a(y.body,x,y.headers)})})})})}}}let QV=class w2{constructor(t){this.compare=t,this.heapArray=[],this._limit=0}static getChildrenIndexOf(t){return[2*t+1,2*t+2]}static getParentIndexOf(t){if(t<=0)return-1;const r=t%2?1:2;return Math.floor((t-r)/2)}push(t){return this._sortNodeUp(this.heapArray.push(t)-1),!0}length(){return this.heapArray.length}peek(){return this.heapArray[0]}pop(){const t=this.heapArray.pop();return this.length()>0&&t!==void 0?this.replace(t):t}replace(t){const r=this.heapArray[0];return this.heapArray[0]=t,this._sortNodeDown(0),r}size(){return this.length()}_moveNode(t,r){[this.heapArray[t],this.heapArray[r]]=[this.heapArray[r],this.heapArray[t]]}_sortNodeDown(t){let r=t<this.heapArray.length-1;const n=this.heapArray[t],d=(S,s)=>(this.heapArray.length>s&&this.compare(this.heapArray[s],this.heapArray[S])<0&&(S=s),S);for(;r;){const S=w2.getChildrenIndexOf(t),s=S.reduce(d,S[0]),g=this.heapArray[s];g!==void 0&&this.compare(n,g)>0?(this._moveNode(t,s),t=s):r=!1}}_sortNodeUp(t){let r=t>0;for(;r;){const n=w2.getParentIndexOf(t);n>=0&&this.compare(this.heapArray[n],this.heapArray[t])>0?(this._moveNode(t,n),t=n):r=!1}}};function KV(e,t){return e.prio-t.prio||e.counter-t.counter}let JV=class{constructor(t,r){this.maxConcurrent=t||1,this.minCycle=r||0,this.queueRunning=new Map,this.queueWaiting=new QV(KV),this.lastRun=0,this.nextTimer=null,this.counter=0}tryRun(){for(;this.queueWaiting.size()>0&&this.queueRunning.size<this.maxConcurrent;){if(Date.now()-this.lastRun<this.minCycle)return void(this.nextTimer===null&&(this.nextTimer=new Promise(r=>setTimeout(()=>{this.nextTimer=null,this.tryRun(),r()},this.minCycle-Date.now()+this.lastRun))));const t=this.queueWaiting.pop();if(t!==void 0){let r;const n={wait:new Promise(S=>{r=S}),signal:r},d={hash:t.hash,prio:t.prio,finish:n};if(this.queueRunning.has(t.hash))throw new Error("async-await-queue: duplicate hash "+t.hash);this.queueRunning.set(t.hash,d),this.lastRun=Date.now(),t.start.signal()}}}end(t){const r=this.queueRunning.get(t);if(r===void 0)throw new Error("async-await-queue: queue desync for "+t);this.queueRunning.delete(t),r.finish.signal(),this.tryRun()}wait(t,r){return ci(this,null,function*(){const n=r!=null?r:0;let d;const S=new Promise(g=>{d=g}),s={hash:t,prio:n,start:{signal:d,wait:S},counter:this.counter++};this.queueWaiting.push(s),this.tryRun(),yield S,this.lastRun=Date.now()})}run(t,r){const n=r!=null?r:0,d=Symbol();return this.wait(d,n).then(t).finally(()=>{this.end(d)})}stat(){return{running:this.queueRunning.size,waiting:this.queueWaiting.size(),last:this.lastRun}}flush(t){return ci(this,null,function*(){for(;this.queueRunning.size>0||this.queueWaiting.size()>0;){const r=this.queueWaiting.peek();if(r&&(yield r.start.wait),t!==void 0&&this.queueWaiting.size()<t)return;this.queueRunning.size>0&&(yield this.queueRunning.values().next().value.finish.wait)}})}};var j6={},ZV=Object.defineProperty,qV=(e,t)=>{for(var r in t)ZV(e,r,{get:t[r],enumerable:!0})},Ve={};qV(Ve,{ErrorBoundary:()=>nY,logError:()=>MB,markPageDeprecated:()=>tY,markPageNotFound:()=>eY,setSecurityBaseURL:()=>iY});var MB=(e,t)=>ci(An,null,function*(){let r=null;if(!globalThis._blsbu||globalThis._blsbu==="")console.error(e,t),r=new Date().getTime();else try{const n=JSON.parse(JSON.stringify(e,Object.getOwnPropertyNames(e))),d=`${globalThis._blsbu}/be`,S={error:n,details:t,url:window.location.href},s={method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)},i=yield(yield fetch(d,s)).json();i&&i.id&&i.id.length>0&&(r=i.id)}catch(n){console.error(e,t),console.error(n)}return r}),tY=()=>ci(An,null,function*(){if(!globalThis._blsbu||globalThis._blsbu===""){console.warn(`DEPRECATED: ${window.location.href} should not longer be accessed`);return}try{const e=`${globalThis._blsbu}/dep`,t={href:window.location.href},r={method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};yield fetch(e,r)}catch(e){console.error(e)}}),eY=()=>ci(An,null,function*(){if(!globalThis._blsbu||globalThis._blsbu===""){console.warn(`NOT FOUND: ${window.location.href} should not longer be accessed`);return}try{const e=`${globalThis._blsbu}/nf`,t={href:window.location.href},r={method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};yield fetch(e,r)}catch(e){console.error(e)}}),iY=e=>{globalThis._blsbu=e},rY=class extends _i.Component{constructor(){super(...arguments);Ei(this,"state",{hasError:!1,errorID:null})}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){return ci(this,null,function*(){const d=yield MB(r,n);this.state.errorID=d})}render(){return this.state.hasError?_i.createElement("div",null,_i.createElement("h1",null,"Something went wrong."),this.state.errorID&&_i.createElement("div",null,this.state.errorID)):this.props.children}},nY=rY,sY=()=>(console.log("%cWARNING!","color: red; font-size: 200%;"),console.log("The browser console is a developer tool not intended for use by Blooket users.  DO NOT copy and paste any code in this window.  Any code execution in this window is a violation of the Blooket Terms of Use and may result in the suspension of your account. https://www.blooket.com/terms"),"");function ls(e,t){if(!e)throw new Error(t)}var aY=34028234663852886e22,oY=-34028234663852886e22,lY=4294967295,uY=2147483647,hY=-2147483648;function q0(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>uY||e<hY)throw new Error("invalid int 32: "+e)}function T2(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>lY||e<0)throw new Error("invalid uint 32: "+e)}function BB(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>aY||e<oY))throw new Error("invalid float 32: "+e)}var OB=Symbol("@bufbuild/protobuf/enum-type");function cY(e){const t=e[OB];return ls(t,"missing enum type on enum object"),t}function NB(e,t,r,n){e[OB]=LB(t,r.map(d=>({no:d.no,name:d.name,localName:e[d.no]})))}function LB(e,t,r){const n=Object.create(null),d=Object.create(null),S=[];for(const s of t){const g=FB(s);S.push(g),n[s.name]=g,d[s.no]=g}return{typeName:e,values:S,findName(s){return n[s]},findNumber(s){return d[s]}}}function dY(e,t,r){const n={};for(const d of t){const S=FB(d);n[S.localName]=S.no,n[S.no]=S.localName}return NB(n,e,t),n}function FB(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}var oa=class{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,t){const r=this.getType(),n=r.runtime.bin,d=n.makeReadOptions(t);return n.readMessage(this,d.readerFactory(e),e.byteLength,d),this}fromJson(e,t){const r=this.getType(),n=r.runtime.json,d=n.makeReadOptions(t);return n.readMessage(r,e,d,this),this}fromJsonString(e,t){let r;try{r=JSON.parse(e)}catch(n){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${n instanceof Error?n.message:String(n)}`)}return this.fromJson(r,t)}toBinary(e){const t=this.getType(),r=t.runtime.bin,n=r.makeWriteOptions(e),d=n.writerFactory();return r.writeMessage(this,d,n),d.finish()}toJson(e){const t=this.getType(),r=t.runtime.json,n=r.makeWriteOptions(e);return r.writeMessage(this,n)}toJsonString(e){var t;const r=this.toJson(e);return JSON.stringify(r,null,(t=e==null?void 0:e.prettySpaces)!==null&&t!==void 0?t:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};function fY(e,t,r,n){var d;const S=(d=n==null?void 0:n.localName)!==null&&d!==void 0?d:t.substring(t.lastIndexOf(".")+1),s={[S]:function(g){e.util.initFields(this),e.util.initPartial(g,this)}}[S];return Object.setPrototypeOf(s.prototype,new oa),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(r),fromBinary(g,i){return new s().fromBinary(g,i)},fromJson(g,i){return new s().fromJson(g,i)},fromJsonString(g,i){return new s().fromJsonString(g,i)},equals(g,i){return e.util.equals(s,g,i)}}),s}function pY(){let e=0,t=0;for(let n=0;n<28;n+=7){let d=this.buf[this.pos++];if(e|=(d&127)<<n,!(d&128))return this.assertBounds(),[e,t]}let r=this.buf[this.pos++];if(e|=(r&15)<<28,t=(r&112)>>4,!(r&128))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let d=this.buf[this.pos++];if(t|=(d&127)<<n,!(d&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Jb(e,t,r){for(let S=0;S<28;S=S+7){const s=e>>>S,g=!(!(s>>>7)&&t==0),i=(g?s|128:s)&255;if(r.push(i),!g)return}const n=e>>>28&15|(t&7)<<4,d=!!(t>>3);if(r.push((d?n|128:n)&255),!!d){for(let S=3;S<31;S=S+7){const s=t>>>S,g=!!(s>>>7),i=(g?s|128:s)&255;if(r.push(i),!g)return}r.push(t>>>31&1)}}var t1=4294967296;function z6(e){const t=e[0]==="-";t&&(e=e.slice(1));const r=1e6;let n=0,d=0;function S(s,g){const i=Number(e.slice(s,g));d*=r,n=n*r+i,n>=t1&&(d=d+(n/t1|0),n=n%t1)}return S(-24,-18),S(-18,-12),S(-12,-6),S(-6),t?_B(n,d):tE(n,d)}function vY(e,t){let r=tE(e,t);const n=r.hi&2147483648;n&&(r=_B(r.lo,r.hi));const d=DB(r.lo,r.hi);return n?"-"+d:d}function DB(e,t){if({lo:e,hi:t}=mY(e,t),t<=2097151)return String(t1*t+e);const r=e&16777215,n=(e>>>24|t<<8)&16777215,d=t>>16&65535;let S=r+n*6777216+d*6710656,s=n+d*8147497,g=d*2;const i=1e7;return S>=i&&(s+=Math.floor(S/i),S%=i),s>=i&&(g+=Math.floor(s/i),s%=i),g.toString()+U6(s)+U6(S)}function mY(e,t){return{lo:e>>>0,hi:t>>>0}}function tE(e,t){return{lo:e|0,hi:t|0}}function _B(e,t){return t=~t,e?e=~e+1:t+=1,tE(e,t)}var U6=e=>{const t=String(e);return"0000000".slice(t.length)+t};function G6(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let r=0;r<9;r++)t.push(e&127|128),e=e>>7;t.push(1)}}function gY(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let r=5;e&128&&r<10;r++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function yY(){const e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof hr!="object"||typeof j6!="object"||j6.BUF_BIGINT_DISABLE!=="1")){const d=BigInt("-9223372036854775808"),S=BigInt("9223372036854775807"),s=BigInt("0"),g=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(i){const o=typeof i=="bigint"?i:BigInt(i);if(o>S||o<d)throw new Error(`int64 invalid: ${i}`);return o},uParse(i){const o=typeof i=="bigint"?i:BigInt(i);if(o>g||o<s)throw new Error(`uint64 invalid: ${i}`);return o},enc(i){return e.setBigInt64(0,this.parse(i),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(i){return e.setBigInt64(0,this.uParse(i),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(i,o){return e.setInt32(0,i,!0),e.setInt32(4,o,!0),e.getBigInt64(0,!0)},uDec(i,o){return e.setInt32(0,i,!0),e.setInt32(4,o,!0),e.getBigUint64(0,!0)}}}const r=d=>ls(/^-?[0-9]+$/.test(d),`int64 invalid: ${d}`),n=d=>ls(/^[0-9]+$/.test(d),`uint64 invalid: ${d}`);return{zero:"0",supported:!1,parse(d){return typeof d!="string"&&(d=d.toString()),r(d),d},uParse(d){return typeof d!="string"&&(d=d.toString()),n(d),d},enc(d){return typeof d!="string"&&(d=d.toString()),r(d),z6(d)},uEnc(d){return typeof d!="string"&&(d=d.toString()),n(d),z6(d)},dec(d,S){return vY(d,S)},uDec(d,S){return DB(d,S)}}}var Ma=yY(),oi;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(oi||(oi={}));var fc;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(fc||(fc={}));function Ih(e,t,r){if(t===r)return!0;if(e==oi.BYTES){if(!(t instanceof Uint8Array)||!(r instanceof Uint8Array)||t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}switch(e){case oi.UINT64:case oi.FIXED64:case oi.INT64:case oi.SFIXED64:case oi.SINT64:return t==r}return!1}function Uf(e,t){switch(e){case oi.BOOL:return!1;case oi.UINT64:case oi.FIXED64:case oi.INT64:case oi.SFIXED64:case oi.SINT64:return t==0?Ma.zero:"0";case oi.DOUBLE:case oi.FLOAT:return 0;case oi.BYTES:return new Uint8Array(0);case oi.STRING:return"";default:return 0}}function jB(e,t){switch(e){case oi.BOOL:return t===!1;case oi.STRING:return t==="";case oi.BYTES:return t instanceof Uint8Array&&!t.byteLength;default:return t==0}}var ys;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(ys||(ys={}));var xY=class{constructor(e){this.stack=[],this.textEncoder=e!=null?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let n=0;n<this.chunks.length;n++)e+=this.chunks[n].length;let t=new Uint8Array(e),r=0;for(let n=0;n<this.chunks.length;n++)t.set(this.chunks[n],r),r+=this.chunks[n].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(T2(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return q0(e),G6(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){BB(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){T2(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){q0(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return q0(e),e=(e<<1^e>>31)>>>0,G6(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),r=new DataView(t.buffer),n=Ma.enc(e);return r.setInt32(0,n.lo,!0),r.setInt32(4,n.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),r=new DataView(t.buffer),n=Ma.uEnc(e);return r.setInt32(0,n.lo,!0),r.setInt32(4,n.hi,!0),this.raw(t)}int64(e){let t=Ma.enc(e);return Jb(t.lo,t.hi,this.buf),this}sint64(e){let t=Ma.enc(e),r=t.hi>>31,n=t.lo<<1^r,d=(t.hi<<1|t.lo>>>31)^r;return Jb(n,d,this.buf),this}uint64(e){let t=Ma.uEnc(e);return Jb(t.lo,t.hi,this.buf),this}},bY=class{constructor(e,t){this.varint64=pY,this.uint32=gY,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=t!=null?t:new TextDecoder}tag(){let e=this.uint32(),t=e>>>3,r=e&7;if(t<=0||r<0||r>5)throw new Error("illegal tag: field no "+t+" wire type "+r);return[t,r]}skip(e){let t=this.pos;switch(e){case ys.Varint:for(;this.buf[this.pos++]&128;);break;case ys.Bit64:this.pos+=4;case ys.Bit32:this.pos+=4;break;case ys.LengthDelimited:let r=this.uint32();this.pos+=r;break;case ys.StartGroup:let n;for(;(n=this.tag()[1])!==ys.EndGroup;)this.skip(n);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Ma.dec(...this.varint64())}uint64(){return Ma.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),r=-(e&1);return e=(e>>>1|(t&1)<<31)^r,t=t>>>1^r,Ma.dec(e,t)}bool(){let[e,t]=this.varint64();return e!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Ma.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Ma.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}};function SY(e,t,r,n){let d;return{typeName:t,extendee:r,get field(){if(!d){const S=typeof n=="function"?n():n;S.name=t.split(".").pop(),S.jsonName=`[${t}]`,d=e.util.newFieldList([S]).list()[0]}return d},runtime:e}}function zB(e){const t=e.field.localName,r=Object.create(null);return r[t]=wY(e),[r,()=>r[t]]}function wY(e){const t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return Uf(t.T,t.L);case"message":const r=t.T,n=new r;return r.fieldWrapper?r.fieldWrapper.unwrapField(n):n;case"map":throw"map fields are not allowed to be extensions"}}function TY(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let r=e.length-1;r>=0;--r)if(e[r].no==t.no)return[e[r]];return[]}return e.filter(r=>r.no===t.no)}var qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ox=[];for(let e=0;e<qu.length;e++)ox[qu[e].charCodeAt(0)]=e;ox[45]=qu.indexOf("+");ox[95]=qu.indexOf("/");var UB={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let r=new Uint8Array(t),n=0,d=0,S,s=0;for(let g=0;g<e.length;g++){if(S=ox[e.charCodeAt(g)],S===void 0)switch(e[g]){case"=":d=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(d){case 0:s=S,d=1;break;case 1:r[n++]=s<<2|(S&48)>>4,s=S,d=2;break;case 2:r[n++]=(s&15)<<4|(S&60)>>2,s=S,d=3;break;case 3:r[n++]=(s&3)<<6|S,d=0;break}}if(d==1)throw Error("invalid base64 string.");return r.subarray(0,n)},enc(e){let t="",r=0,n,d=0;for(let S=0;S<e.length;S++)switch(n=e[S],r){case 0:t+=qu[n>>2],d=(n&3)<<4,r=1;break;case 1:t+=qu[d|n>>4],d=(n&15)<<2,r=2;break;case 2:t+=qu[d|n>>6],t+=qu[n&63],r=0;break}return r&&(t+=qu[d],t+="=",r==1&&(t+="=")),t}};function CY(e,t,r){HB(t,e);const n=t.runtime.bin.makeReadOptions(r),d=TY(e.getType().runtime.bin.listUnknownFields(e),t.field),[S,s]=zB(t);for(const g of d)t.runtime.bin.readField(S,n.readerFactory(g.data),t.field,g.wireType,n);return s()}function EY(e,t,r,n){HB(t,e);const d=t.runtime.bin.makeReadOptions(n),S=t.runtime.bin.makeWriteOptions(n);if(GB(e,t)){const o=e.getType().runtime.bin.listUnknownFields(e).filter(m=>m.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(const m of o)e.getType().runtime.bin.onUnknownField(e,m.no,m.wireType,m.data)}const s=S.writerFactory();let g=t.field;!g.opt&&!g.repeated&&(g.kind=="enum"||g.kind=="scalar")&&(g=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(g,r,s,S);const i=d.readerFactory(s.finish());for(;i.pos<i.len;){const[o,m]=i.tag(),c=i.skip(m);e.getType().runtime.bin.onUnknownField(e,o,m,c)}}function GB(e,t){const r=e.getType();return t.extendee.typeName===r.typeName&&!!r.runtime.bin.listUnknownFields(e).find(n=>n.no==t.field.no)}function HB(e,t){ls(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}function $B(e,t){const r=e.localName;if(e.repeated)return t[r].length>0;if(e.oneof)return t[e.oneof.localName].case===r;switch(e.kind){case"enum":case"scalar":return e.opt||e.req?t[r]!==void 0:e.kind=="enum"?t[r]!==e.T.values[0].no:!jB(e.T,t[r]);case"message":return t[r]!==void 0;case"map":return Object.keys(t[r]).length>0}}function H6(e,t){const r=e.localName,n=!e.opt&&!e.req;if(e.repeated)t[r]=[];else if(e.oneof)t[e.oneof.localName]={case:void 0};else switch(e.kind){case"map":t[r]={};break;case"enum":t[r]=n?e.T.values[0].no:void 0;break;case"scalar":t[r]=n?Uf(e.T,e.L):void 0;break;case"message":t[r]=void 0;break}}function fd(e,t){if(e===null||typeof e!="object"||!Object.getOwnPropertyNames(oa.prototype).every(n=>n in e&&typeof e[n]=="function"))return!1;const r=e.getType();return r===null||typeof r!="function"||!("typeName"in r)||typeof r.typeName!="string"?!1:t===void 0?!0:r.typeName==t.typeName}function WB(e,t){return fd(t)||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}oi.DOUBLE,oi.FLOAT,oi.INT64,oi.UINT64,oi.INT32,oi.UINT32,oi.BOOL,oi.STRING,oi.BYTES;var $6={ignoreUnknownFields:!1},W6={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function kY(e){return e?Object.assign(Object.assign({},$6),e):$6}function PY(e){return e?Object.assign(Object.assign({},W6),e):W6}var iy=Symbol(),e1=Symbol();function AY(){return{makeReadOptions:kY,makeWriteOptions:PY,readMessage(e,t,r,n){if(t==null||Array.isArray(t)||typeof t!="object")throw new Error(`cannot decode message ${e.typeName} from JSON: ${au(t)}`);n=n!=null?n:new e;const d=new Map,S=r.typeRegistry;for(const[s,g]of Object.entries(t)){const i=e.fields.findJsonName(s);if(i){if(i.oneof){if(g===null&&i.kind=="scalar")continue;const o=d.get(i.oneof);if(o!==void 0)throw new Error(`cannot decode message ${e.typeName} from JSON: multiple keys for oneof "${i.oneof.name}" present: "${o}", "${s}"`);d.set(i.oneof,s)}V6(n,g,i,r,e)}else{let o=!1;if(S!=null&&S.findExtension&&s.startsWith("[")&&s.endsWith("]")){const m=S.findExtension(s.substring(1,s.length-1));if(m&&m.extendee.typeName==e.typeName){o=!0;const[c,l]=zB(m);V6(c,g,m.field,r,m),EY(n,m,l(),r)}}if(!o&&!r.ignoreUnknownFields)throw new Error(`cannot decode message ${e.typeName} from JSON: key "${s}" is unknown`)}}return n},writeMessage(e,t){const r=e.getType(),n={};let d;try{for(d of r.fields.byNumber()){if(!$B(d,e)){if(d.req)throw"required field not set";if(!t.emitDefaultValues||!IY(d))continue}const s=d.oneof?e[d.oneof.localName].value:e[d.localName],g=Y6(d,s,t);g!==void 0&&(n[t.useProtoFieldName?d.name:d.jsonName]=g)}const S=t.typeRegistry;if(S!=null&&S.findExtensionFor)for(const s of r.runtime.bin.listUnknownFields(e)){const g=S.findExtensionFor(r.typeName,s.no);if(g&&GB(e,g)){const i=CY(e,g,t),o=Y6(g.field,i,t);o!==void 0&&(n[g.field.jsonName]=o)}}}catch(S){const s=d?`cannot encode field ${r.typeName}.${d.name} to JSON`:`cannot encode message ${r.typeName} to JSON`,g=S instanceof Error?S.message:String(S);throw new Error(s+(g.length>0?`: ${g}`:""))}return n},readScalar(e,t,r){return Fv(e,t,r!=null?r:fc.BIGINT,!0)},writeScalar(e,t,r){if(t!==void 0&&(r||jB(e,t)))return i1(e,t)},debug:au}}function au(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function V6(e,t,r,n,d){let S=r.localName;if(r.repeated){if(ls(r.kind!="map"),t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${d.typeName}.${r.name} from JSON: ${au(t)}`);const s=e[S];for(const g of t){if(g===null)throw new Error(`cannot decode field ${d.typeName}.${r.name} from JSON: ${au(g)}`);switch(r.kind){case"message":s.push(r.T.fromJson(g,n));break;case"enum":const i=Zb(r.T,g,n.ignoreUnknownFields,!0);i!==e1&&s.push(i);break;case"scalar":try{s.push(Fv(r.T,g,r.L,!0))}catch(o){let m=`cannot decode field ${d.typeName}.${r.name} from JSON: ${au(g)}`;throw o instanceof Error&&o.message.length>0&&(m+=`: ${o.message}`),new Error(m)}break}}}else if(r.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${d.typeName}.${r.name} from JSON: ${au(t)}`);const s=e[S];for(const[g,i]of Object.entries(t)){if(i===null)throw new Error(`cannot decode field ${d.typeName}.${r.name} from JSON: map value null`);let o;try{o=RY(r.K,g)}catch(m){let c=`cannot decode map key for field ${d.typeName}.${r.name} from JSON: ${au(t)}`;throw m instanceof Error&&m.message.length>0&&(c+=`: ${m.message}`),new Error(c)}switch(r.V.kind){case"message":s[o]=r.V.T.fromJson(i,n);break;case"enum":const m=Zb(r.V.T,i,n.ignoreUnknownFields,!0);m!==e1&&(s[o]=m);break;case"scalar":try{s[o]=Fv(r.V.T,i,fc.BIGINT,!0)}catch(c){let l=`cannot decode map value for field ${d.typeName}.${r.name} from JSON: ${au(t)}`;throw c instanceof Error&&c.message.length>0&&(l+=`: ${c.message}`),new Error(l)}break}}}else switch(r.oneof&&(e=e[r.oneof.localName]={case:S},S="value"),r.kind){case"message":const s=r.T;if(t===null&&s.typeName!="google.protobuf.Value")return;let g=e[S];fd(g)?g.fromJson(t,n):(e[S]=g=s.fromJson(t,n),s.fieldWrapper&&!r.oneof&&(e[S]=s.fieldWrapper.unwrapField(g)));break;case"enum":const i=Zb(r.T,t,n.ignoreUnknownFields,!1);switch(i){case iy:H6(r,e);break;case e1:break;default:e[S]=i;break}break;case"scalar":try{const o=Fv(r.T,t,r.L,!1);switch(o){case iy:H6(r,e);break;default:e[S]=o;break}}catch(o){let m=`cannot decode field ${d.typeName}.${r.name} from JSON: ${au(t)}`;throw o instanceof Error&&o.message.length>0&&(m+=`: ${o.message}`),new Error(m)}break}}function RY(e,t){if(e===oi.BOOL)switch(t){case"true":t=!0;break;case"false":t=!1;break}return Fv(e,t,fc.BIGINT,!0).toString()}function Fv(e,t,r,n){if(t===null)return n?Uf(e,r):iy;switch(e){case oi.DOUBLE:case oi.FLOAT:if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;const d=Number(t);if(Number.isNaN(d)||!Number.isFinite(d))break;return e==oi.FLOAT&&BB(d),d;case oi.INT32:case oi.FIXED32:case oi.SFIXED32:case oi.SINT32:case oi.UINT32:let S;if(typeof t=="number"?S=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(S=Number(t)),S===void 0)break;return e==oi.UINT32?T2(S):q0(S),S;case oi.INT64:case oi.SFIXED64:case oi.SINT64:if(typeof t!="number"&&typeof t!="string")break;const s=Ma.parse(t);return r?s.toString():s;case oi.FIXED64:case oi.UINT64:if(typeof t!="number"&&typeof t!="string")break;const g=Ma.uParse(t);return r?g.toString():g;case oi.BOOL:if(typeof t!="boolean")break;return t;case oi.STRING:if(typeof t!="string")break;try{encodeURIComponent(t)}catch(i){throw new Error("invalid UTF8")}return t;case oi.BYTES:if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return UB.dec(t)}throw new Error}function Zb(e,t,r,n){if(t===null)return e.typeName=="google.protobuf.NullValue"?0:n?e.values[0].no:iy;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":const d=e.findName(t);if(d!==void 0)return d.no;if(r)return e1;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${au(t)}`)}function IY(e){return e.repeated||e.kind=="map"?!0:!(e.oneof||e.kind=="message"||e.opt||e.req)}function Y6(e,t,r){if(e.kind=="map"){ls(typeof t=="object"&&t!=null);const n={},d=Object.entries(t);switch(e.V.kind){case"scalar":for(const[s,g]of d)n[s.toString()]=i1(e.V.T,g);break;case"message":for(const[s,g]of d)n[s.toString()]=g.toJson(r);break;case"enum":const S=e.V.T;for(const[s,g]of d)n[s.toString()]=qb(S,g,r.enumAsInteger);break}return r.emitDefaultValues||d.length>0?n:void 0}if(e.repeated){ls(Array.isArray(t));const n=[];switch(e.kind){case"scalar":for(let d=0;d<t.length;d++)n.push(i1(e.T,t[d]));break;case"enum":for(let d=0;d<t.length;d++)n.push(qb(e.T,t[d],r.enumAsInteger));break;case"message":for(let d=0;d<t.length;d++)n.push(t[d].toJson(r));break}return r.emitDefaultValues||n.length>0?n:void 0}switch(e.kind){case"scalar":return i1(e.T,t);case"enum":return qb(e.T,t,r.enumAsInteger);case"message":return WB(e.T,t).toJson(r)}}function qb(e,t,r){var n;if(ls(typeof t=="number"),e.typeName=="google.protobuf.NullValue")return null;if(r)return t;const d=e.findNumber(t);return(n=d==null?void 0:d.name)!==null&&n!==void 0?n:t}function i1(e,t){switch(e){case oi.INT32:case oi.SFIXED32:case oi.SINT32:case oi.FIXED32:case oi.UINT32:return ls(typeof t=="number"),t;case oi.FLOAT:case oi.DOUBLE:return ls(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t;case oi.STRING:return ls(typeof t=="string"),t;case oi.BOOL:return ls(typeof t=="boolean"),t;case oi.UINT64:case oi.FIXED64:case oi.INT64:case oi.SFIXED64:case oi.SINT64:return ls(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),t.toString();case oi.BYTES:return ls(t instanceof Uint8Array),UB.enc(t)}}var Hd=Symbol("@bufbuild/protobuf/unknown-fields"),X6={readUnknownFields:!0,readerFactory:e=>new bY(e)},Q6={writeUnknownFields:!0,writerFactory:()=>new xY};function MY(e){return e?Object.assign(Object.assign({},X6),e):X6}function BY(e){return e?Object.assign(Object.assign({},Q6),e):Q6}function OY(){return{makeReadOptions:MY,makeWriteOptions:BY,listUnknownFields(e){var t;return(t=e[Hd])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[Hd]},writeUnknownFields(e,t){const n=e[Hd];if(n)for(const d of n)t.tag(d.no,d.wireType).raw(d.data)},onUnknownField(e,t,r,n){const d=e;Array.isArray(d[Hd])||(d[Hd]=[]),d[Hd].push({no:t,wireType:r,data:n})},readMessage(e,t,r,n,d){const S=e.getType(),s=d?t.len:t.pos+r;let g,i;for(;t.pos<s&&([g,i]=t.tag(),i!=ys.EndGroup);){const o=S.fields.find(g);if(!o){const m=t.skip(i);n.readUnknownFields&&this.onUnknownField(e,g,i,m);continue}K6(e,t,o,i,n)}if(d&&(i!=ys.EndGroup||g!==r))throw new Error("invalid end group tag")},readField:K6,writeMessage(e,t,r){const n=e.getType();for(const d of n.fields.byNumber()){if(!$B(d,e)){if(d.req)throw new Error(`cannot encode field ${n.typeName}.${d.name} to binary: required field not set`);continue}const S=d.oneof?e[d.oneof.localName].value:e[d.localName];J6(d,S,t,r)}return r.writeUnknownFields&&this.writeUnknownFields(e,t),t},writeField(e,t,r,n){t!==void 0&&J6(e,t,r,n)}}}function K6(e,t,r,n,d){let{repeated:S,localName:s}=r;switch(r.oneof&&(e=e[r.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),r.kind){case"scalar":case"enum":const g=r.kind=="enum"?oi.INT32:r.T;let i=ry;if(r.kind=="scalar"&&r.L>0&&(i=LY),S){let l=e[s];if(n==ys.LengthDelimited&&g!=oi.STRING&&g!=oi.BYTES){let a=t.uint32()+t.pos;for(;t.pos<a;)l.push(i(t,g))}else l.push(i(t,g))}else e[s]=i(t,g);break;case"message":const o=r.T;S?e[s].push(r1(t,new o,d,r)):fd(e[s])?r1(t,e[s],d,r):(e[s]=r1(t,new o,d,r),o.fieldWrapper&&!r.oneof&&!r.repeated&&(e[s]=o.fieldWrapper.unwrapField(e[s])));break;case"map":let[m,c]=NY(r,t,d);e[s][m]=c;break}}function r1(e,t,r,n){const d=t.getType().runtime.bin,S=n==null?void 0:n.delimited;return d.readMessage(t,e,S?n.no:e.uint32(),r,S),t}function NY(e,t,r){const n=t.uint32(),d=t.pos+n;let S,s;for(;t.pos<d;){const[g]=t.tag();switch(g){case 1:S=ry(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=ry(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=r1(t,new e.V.T,r,void 0);break}break}}if(S===void 0&&(S=Uf(e.K,fc.BIGINT)),typeof S!="string"&&typeof S!="number"&&(S=S.toString()),s===void 0)switch(e.V.kind){case"scalar":s=Uf(e.V.T,fc.BIGINT);break;case"enum":s=e.V.T.values[0].no;break;case"message":s=new e.V.T;break}return[S,s]}function LY(e,t){const r=ry(e,t);return typeof r=="bigint"?r.toString():r}function ry(e,t){switch(t){case oi.STRING:return e.string();case oi.BOOL:return e.bool();case oi.DOUBLE:return e.double();case oi.FLOAT:return e.float();case oi.INT32:return e.int32();case oi.INT64:return e.int64();case oi.UINT64:return e.uint64();case oi.FIXED64:return e.fixed64();case oi.BYTES:return e.bytes();case oi.FIXED32:return e.fixed32();case oi.SFIXED32:return e.sfixed32();case oi.SFIXED64:return e.sfixed64();case oi.SINT64:return e.sint64();case oi.UINT32:return e.uint32();case oi.SINT32:return e.sint32()}}function J6(e,t,r,n){ls(t!==void 0);const d=e.repeated;switch(e.kind){case"scalar":case"enum":let S=e.kind=="enum"?oi.INT32:e.T;if(d)if(ls(Array.isArray(t)),e.packed)DY(r,S,e.no,t);else for(const s of t)Dv(r,S,e.no,s);else Dv(r,S,e.no,t);break;case"message":if(d){ls(Array.isArray(t));for(const s of t)Z6(r,n,e,s)}else Z6(r,n,e,t);break;case"map":ls(typeof t=="object"&&t!=null);for(const[s,g]of Object.entries(t))FY(r,n,e,s,g);break}}function FY(e,t,r,n,d){e.tag(r.no,ys.LengthDelimited),e.fork();let S=n;switch(r.K){case oi.INT32:case oi.FIXED32:case oi.UINT32:case oi.SFIXED32:case oi.SINT32:S=Number.parseInt(n);break;case oi.BOOL:ls(n=="true"||n=="false"),S=n=="true";break}switch(Dv(e,r.K,1,S),r.V.kind){case"scalar":Dv(e,r.V.T,2,d);break;case"enum":Dv(e,oi.INT32,2,d);break;case"message":ls(d!==void 0),e.tag(2,ys.LengthDelimited).bytes(d.toBinary(t));break}e.join()}function Z6(e,t,r,n){const d=WB(r.T,n);r.delimited?e.tag(r.no,ys.StartGroup).raw(d.toBinary(t)).tag(r.no,ys.EndGroup):e.tag(r.no,ys.LengthDelimited).bytes(d.toBinary(t))}function Dv(e,t,r,n){ls(n!==void 0);let[d,S]=VB(t);e.tag(r,d)[S](n)}function DY(e,t,r,n){if(!n.length)return;e.tag(r,ys.LengthDelimited).fork();let[,d]=VB(t);for(let S=0;S<n.length;S++)e[d](n[S]);e.join()}function VB(e){let t=ys.Varint;switch(e){case oi.BYTES:case oi.STRING:t=ys.LengthDelimited;break;case oi.DOUBLE:case oi.FIXED64:case oi.SFIXED64:t=ys.Bit64;break;case oi.FIXED32:case oi.SFIXED32:case oi.FLOAT:t=ys.Bit32;break}const r=oi[e].toLowerCase();return[t,r]}function _Y(){return{setEnumType:NB,initPartial(e,t){if(e===void 0)return;const r=t.getType();for(const n of r.fields.byMember()){const d=n.localName,S=t,s=e;if(s[d]!==void 0)switch(n.kind){case"oneof":const g=s[d].case;if(g===void 0)continue;const i=n.findField(g);let o=s[d].value;i&&i.kind=="message"&&!fd(o,i.T)?o=new i.T(o):i&&i.kind==="scalar"&&i.T===oi.BYTES&&(o=$p(o)),S[d]={case:g,value:o};break;case"scalar":case"enum":let m=s[d];n.T===oi.BYTES&&(m=n.repeated?m.map($p):$p(m)),S[d]=m;break;case"map":switch(n.V.kind){case"scalar":case"enum":if(n.V.T===oi.BYTES)for(const[h,a]of Object.entries(s[d]))S[d][h]=$p(a);else Object.assign(S[d],s[d]);break;case"message":const l=n.V.T;for(const h of Object.keys(s[d])){let a=s[d][h];l.fieldWrapper||(a=new l(a)),S[d][h]=a}break}break;case"message":const c=n.T;if(n.repeated)S[d]=s[d].map(l=>fd(l,c)?l:new c(l));else{const l=s[d];c.fieldWrapper?c.typeName==="google.protobuf.BytesValue"?S[d]=$p(l):S[d]=l:S[d]=fd(l,c)?l:new c(l)}break}}},equals(e,t,r){return t===r?!0:!t||!r?!1:e.fields.byMember().every(n=>{const d=t[n.localName],S=r[n.localName];if(n.repeated){if(d.length!==S.length)return!1;switch(n.kind){case"message":return d.every((s,g)=>n.T.equals(s,S[g]));case"scalar":return d.every((s,g)=>Ih(n.T,s,S[g]));case"enum":return d.every((s,g)=>Ih(oi.INT32,s,S[g]))}throw new Error(`repeated cannot contain ${n.kind}`)}switch(n.kind){case"message":return n.T.equals(d,S);case"enum":return Ih(oi.INT32,d,S);case"scalar":return Ih(n.T,d,S);case"oneof":if(d.case!==S.case)return!1;const s=n.findField(d.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(d.value,S.value);case"enum":return Ih(oi.INT32,d.value,S.value);case"scalar":return Ih(s.T,d.value,S.value)}throw new Error(`oneof cannot contain ${s.kind}`);case"map":const g=Object.keys(d).concat(Object.keys(S));switch(n.V.kind){case"message":const i=n.V.T;return g.every(m=>i.equals(d[m],S[m]));case"enum":return g.every(m=>Ih(oi.INT32,d[m],S[m]));case"scalar":const o=n.V.T;return g.every(m=>Ih(o,d[m],S[m]))}break}})},clone(e){const t=e.getType(),r=new t,n=r;for(const d of t.fields.byMember()){const S=e[d.localName];let s;if(d.repeated)s=S.map($g);else if(d.kind=="map"){s=n[d.localName];for(const[g,i]of Object.entries(S))s[g]=$g(i)}else d.kind=="oneof"?s=d.findField(S.case)?{case:S.case,value:$g(S.value)}:{case:void 0}:s=$g(S);n[d.localName]=s}return r}}}function $g(e){if(e===void 0)return e;if(fd(e))return e.clone();if(e instanceof Uint8Array){const t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function $p(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function jY(e,t,r){return{syntax:e,json:AY(),bin:OY(),util:Object.assign(Object.assign({},_Y()),{newFieldList:t,initFields:r}),makeMessageType(n,d,S){return fY(this,n,d,S)},makeEnum:dY,makeEnumType:LB,getEnumType:cY,makeExtension(n,d,S){return SY(this,n,d,S)}}}var zY=class{constructor(e,t){this._fields=e,this._normalizer=t}findJsonName(e){if(!this.jsonNames){const t={};for(const r of this.list())t[r.jsonName]=t[r.name]=r;this.jsonNames=t}return this.jsonNames[e]}find(e){if(!this.numbers){const t={};for(const r of this.list())t[r.no]=r;this.numbers=t}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,t)=>e.no-t.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let t;for(const r of this.list())r.oneof?r.oneof!==t&&(t=r.oneof,e.push(t)):e.push(r)}return this.members}};function YB(e,t){const r=XB(e);return t?r:VY(WY(r))}function UY(e){return YB(e,!1)}var GY=XB;function XB(e){let t=!1;const r=[];for(let n=0;n<e.length;n++){let d=e.charAt(n);switch(d){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r.push(d),t=!1;break;default:t&&(t=!1,d=d.toUpperCase()),r.push(d);break}}return r.join("")}var HY=new Set(["constructor","toString","toJSON","valueOf"]),$Y=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),QB=e=>`${e}$`,WY=e=>$Y.has(e)?QB(e):e,VY=e=>HY.has(e)?QB(e):e,YY=class{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=UY(e)}addField(e){ls(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let t=0;t<this.fields.length;t++)this._lookup[this.fields[t].localName]=this.fields[t]}return this._lookup[e]}};function XY(e,t){var r,n,d,S,s,g;const i=[];let o;for(const m of typeof e=="function"?e():e){const c=m;if(c.localName=YB(m.name,m.oneof!==void 0),c.jsonName=(r=m.jsonName)!==null&&r!==void 0?r:GY(m.name),c.repeated=(n=m.repeated)!==null&&n!==void 0?n:!1,m.kind=="scalar"&&(c.L=(d=m.L)!==null&&d!==void 0?d:fc.BIGINT),c.delimited=(S=m.delimited)!==null&&S!==void 0?S:!1,c.req=(s=m.req)!==null&&s!==void 0?s:!1,c.opt=(g=m.opt)!==null&&g!==void 0?g:!1,m.packed===void 0&&(c.packed=m.kind=="enum"||m.kind=="scalar"&&m.T!=oi.BYTES&&m.T!=oi.STRING),m.oneof!==void 0){const l=typeof m.oneof=="string"?m.oneof:m.oneof.name;(!o||o.name!=l)&&(o=new YY(l)),c.oneof=o,o.addField(c)}i.push(c)}return i}var Hi=jY("proto3",e=>new zY(e,t=>XY(t)),e=>{for(const t of e.getType().fields.byMember()){if(t.opt)continue;const r=t.localName,n=e;if(t.repeated){n[r]=[];continue}switch(t.kind){case"oneof":n[r]={case:void 0};break;case"enum":n[r]=0;break;case"map":n[r]={};break;case"scalar":n[r]=Uf(t.T,t.L);break}}}),lx=class yv extends oa{constructor(t){super(),this.seconds=Ma.zero,this.nanos=0,Hi.util.initPartial(t,this)}fromJson(t,r){if(typeof t!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Hi.json.debug(t)}`);const n=t.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(n===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Hi.json.debug(t)}`);const d=Number(n[1]);if(d>315576e6||d<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Hi.json.debug(t)}`);if(this.seconds=Ma.parse(d),typeof n[2]=="string"){const S=n[2]+"0".repeat(9-n[2].length);this.nanos=parseInt(S),(d<0||Object.is(d,-0))&&(this.nanos=-this.nanos)}return this}toJson(t){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let r=this.seconds.toString();if(this.nanos!==0){let n=Math.abs(this.nanos).toString();n="0".repeat(9-n.length)+n,n.substring(3)==="000000"?n=n.substring(0,3):n.substring(6)==="000"&&(n=n.substring(0,6)),r+="."+n,this.nanos<0&&Number(this.seconds)==0&&(r="-"+r)}return r+"s"}static fromBinary(t,r){return new yv().fromBinary(t,r)}static fromJson(t,r){return new yv().fromJson(t,r)}static fromJsonString(t,r){return new yv().fromJsonString(t,r)}static equals(t,r){return Hi.util.equals(yv,t,r)}};lx.runtime=Hi;lx.typeName="google.protobuf.Duration";lx.fields=Hi.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var yl;yl=class extends oa{constructor(r){super();Ei(this,"reason","");Ei(this,"domain","");Ei(this,"metadata",{});Hi.util.initPartial(r,this)}static fromBinary(r,n){return new yl().fromBinary(r,n)}static fromJson(r,n){return new yl().fromJson(r,n)}static fromJsonString(r,n){return new yl().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(yl,r,n)}},Ei(yl,"runtime",Hi),Ei(yl,"typeName","google.rpc.ErrorInfo"),Ei(yl,"fields",Hi.util.newFieldList(()=>[{no:1,name:"reason",kind:"scalar",T:9},{no:2,name:"domain",kind:"scalar",T:9},{no:3,name:"metadata",kind:"map",K:9,V:{kind:"scalar",T:9}}]));var xl;xl=class extends oa{constructor(r){super();Ei(this,"retryDelay");Hi.util.initPartial(r,this)}static fromBinary(r,n){return new xl().fromBinary(r,n)}static fromJson(r,n){return new xl().fromJson(r,n)}static fromJsonString(r,n){return new xl().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(xl,r,n)}},Ei(xl,"runtime",Hi),Ei(xl,"typeName","google.rpc.RetryInfo"),Ei(xl,"fields",Hi.util.newFieldList(()=>[{no:1,name:"retry_delay",kind:"message",T:lx}]));var bl;bl=class extends oa{constructor(r){super();Ei(this,"stackEntries",[]);Ei(this,"detail","");Hi.util.initPartial(r,this)}static fromBinary(r,n){return new bl().fromBinary(r,n)}static fromJson(r,n){return new bl().fromJson(r,n)}static fromJsonString(r,n){return new bl().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(bl,r,n)}},Ei(bl,"runtime",Hi),Ei(bl,"typeName","google.rpc.DebugInfo"),Ei(bl,"fields",Hi.util.newFieldList(()=>[{no:1,name:"stack_entries",kind:"scalar",T:9,repeated:!0},{no:2,name:"detail",kind:"scalar",T:9}]));var Sl;Sl=class extends oa{constructor(r){super();Ei(this,"violations",[]);Hi.util.initPartial(r,this)}static fromBinary(r,n){return new Sl().fromBinary(r,n)}static fromJson(r,n){return new Sl().fromJson(r,n)}static fromJsonString(r,n){return new Sl().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(Sl,r,n)}},Ei(Sl,"runtime",Hi),Ei(Sl,"typeName","google.rpc.QuotaFailure"),Ei(Sl,"fields",Hi.util.newFieldList(()=>[{no:1,name:"violations",kind:"message",T:QY,repeated:!0}]));var wl,QY=(wl=class extends oa{constructor(r){super();Ei(this,"subject","");Ei(this,"description","");Hi.util.initPartial(r,this)}static fromBinary(r,n){return new wl().fromBinary(r,n)}static fromJson(r,n){return new wl().fromJson(r,n)}static fromJsonString(r,n){return new wl().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(wl,r,n)}},Ei(wl,"runtime",Hi),Ei(wl,"typeName","google.rpc.QuotaFailure.Violation"),Ei(wl,"fields",Hi.util.newFieldList(()=>[{no:1,name:"subject",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}])),wl),Tl;Tl=class extends oa{constructor(r){super();Ei(this,"violations",[]);Hi.util.initPartial(r,this)}static fromBinary(r,n){return new Tl().fromBinary(r,n)}static fromJson(r,n){return new Tl().fromJson(r,n)}static fromJsonString(r,n){return new Tl().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(Tl,r,n)}},Ei(Tl,"runtime",Hi),Ei(Tl,"typeName","google.rpc.PreconditionFailure"),Ei(Tl,"fields",Hi.util.newFieldList(()=>[{no:1,name:"violations",kind:"message",T:KY,repeated:!0}]));var Cl,KY=(Cl=class extends oa{constructor(r){super();Ei(this,"type","");Ei(this,"subject","");Ei(this,"description","");Hi.util.initPartial(r,this)}static fromBinary(r,n){return new Cl().fromBinary(r,n)}static fromJson(r,n){return new Cl().fromJson(r,n)}static fromJsonString(r,n){return new Cl().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(Cl,r,n)}},Ei(Cl,"runtime",Hi),Ei(Cl,"typeName","google.rpc.PreconditionFailure.Violation"),Ei(Cl,"fields",Hi.util.newFieldList(()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"subject",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9}])),Cl),El;El=class extends oa{constructor(r){super();Ei(this,"fieldViolations",[]);Hi.util.initPartial(r,this)}static fromBinary(r,n){return new El().fromBinary(r,n)}static fromJson(r,n){return new El().fromJson(r,n)}static fromJsonString(r,n){return new El().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(El,r,n)}},Ei(El,"runtime",Hi),Ei(El,"typeName","google.rpc.BadRequest"),Ei(El,"fields",Hi.util.newFieldList(()=>[{no:1,name:"field_violations",kind:"message",T:JY,repeated:!0}]));var kl,JY=(kl=class extends oa{constructor(r){super();Ei(this,"field","");Ei(this,"description","");Hi.util.initPartial(r,this)}static fromBinary(r,n){return new kl().fromBinary(r,n)}static fromJson(r,n){return new kl().fromJson(r,n)}static fromJsonString(r,n){return new kl().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(kl,r,n)}},Ei(kl,"runtime",Hi),Ei(kl,"typeName","google.rpc.BadRequest.FieldViolation"),Ei(kl,"fields",Hi.util.newFieldList(()=>[{no:1,name:"field",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9}])),kl),Pl;Pl=class extends oa{constructor(r){super();Ei(this,"requestId","");Ei(this,"servingData","");Hi.util.initPartial(r,this)}static fromBinary(r,n){return new Pl().fromBinary(r,n)}static fromJson(r,n){return new Pl().fromJson(r,n)}static fromJsonString(r,n){return new Pl().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(Pl,r,n)}},Ei(Pl,"runtime",Hi),Ei(Pl,"typeName","google.rpc.RequestInfo"),Ei(Pl,"fields",Hi.util.newFieldList(()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"serving_data",kind:"scalar",T:9}]));var Al;Al=class extends oa{constructor(r){super();Ei(this,"resourceType","");Ei(this,"resourceName","");Ei(this,"owner","");Ei(this,"description","");Hi.util.initPartial(r,this)}static fromBinary(r,n){return new Al().fromBinary(r,n)}static fromJson(r,n){return new Al().fromJson(r,n)}static fromJsonString(r,n){return new Al().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(Al,r,n)}},Ei(Al,"runtime",Hi),Ei(Al,"typeName","google.rpc.ResourceInfo"),Ei(Al,"fields",Hi.util.newFieldList(()=>[{no:1,name:"resource_type",kind:"scalar",T:9},{no:2,name:"resource_name",kind:"scalar",T:9},{no:3,name:"owner",kind:"scalar",T:9},{no:4,name:"description",kind:"scalar",T:9}]));var Rl;Rl=class extends oa{constructor(r){super();Ei(this,"links",[]);Hi.util.initPartial(r,this)}static fromBinary(r,n){return new Rl().fromBinary(r,n)}static fromJson(r,n){return new Rl().fromJson(r,n)}static fromJsonString(r,n){return new Rl().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(Rl,r,n)}},Ei(Rl,"runtime",Hi),Ei(Rl,"typeName","google.rpc.Help"),Ei(Rl,"fields",Hi.util.newFieldList(()=>[{no:1,name:"links",kind:"message",T:ZY,repeated:!0}]));var Il,ZY=(Il=class extends oa{constructor(r){super();Ei(this,"description","");Ei(this,"url","");Hi.util.initPartial(r,this)}static fromBinary(r,n){return new Il().fromBinary(r,n)}static fromJson(r,n){return new Il().fromJson(r,n)}static fromJsonString(r,n){return new Il().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(Il,r,n)}},Ei(Il,"runtime",Hi),Ei(Il,"typeName","google.rpc.Help.Link"),Ei(Il,"fields",Hi.util.newFieldList(()=>[{no:1,name:"description",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9}])),Il),Ml;Ml=class extends oa{constructor(r){super();Ei(this,"locale","");Ei(this,"message","");Hi.util.initPartial(r,this)}static fromBinary(r,n){return new Ml().fromBinary(r,n)}static fromJson(r,n){return new Ml().fromJson(r,n)}static fromJsonString(r,n){return new Ml().fromJsonString(r,n)}static equals(r,n){return Hi.util.equals(Ml,r,n)}},Ei(Ml,"runtime",Hi),Ei(Ml,"typeName","google.rpc.LocalizedMessage"),Ei(Ml,"fields",Hi.util.newFieldList(()=>[{no:1,name:"locale",kind:"scalar",T:9},{no:2,name:"message",kind:"scalar",T:9}]));var qY=e=>r=>n=>ci(An,null,function*(){return n.header.append("X-BLOOKET-BUILD",e),yield r(n)}),KB=()=>({querySelectorAll:document.querySelectorAll,querySelector:document.querySelector,includes:String.prototype.includes,fetch:window.fetch,btoa:window.btoa,getLocalStorageItem:window.localStorage.getItem}),tX=(e,t)=>{for(const r of t)if(e.querySelectorAll.call(document,r).length>0)return!0;return!1},eX=(e,t)=>{for(const r of t)for(const n of e.querySelectorAll.call(document,r[0]))if(e.includes.call(n.innerText,r[1]))return!0;return!1},iX=(e,t)=>{for(const r of t)if(e.getLocalStorageItem.call(window.localStorage,r))return!0;return!1},rX=(e,t)=>ci(An,null,function*(){const r={};t&&(r.ev=`${t[0]}-${t[1]}`);const n={method:"POST",cache:"no-cache",credentials:"include",body:JSON.stringify(r)};yield e.fetch.call(window,"https://s.blooket.com/rc",n)}),JB=(e,t,r)=>ci(An,null,function*(){switch(t){case 0:break;case 1:rX(e,r);break;default:throw new Error(`unknown exploit penalty ${t}`)}}),nX={penalty:1,isActive:e=>{const t=["#JODGUI","#JODMOBILE","#currPageEl","#YTRkNmM2MWEtOTg3Zi00YmE1LWI1NzUtNTgyOTUzMWI4ZDYx","#ODJkMThlMDEtYmEwNi00MzE4LTg4ZGMtM2Y2ZDI0MzY4ZjU2",".cheatList",".cheatName",`${e.btoa.call(window,"lmfao")}`,...oX(e)];return!!(tX(e,t)||eX(e,[["span","Cheats"],["summary","Global"],["div","Global Cheats"],["div","Discord - oneminesraft2"],["div","Auto Answer (Toggle)"],["div","Auto Answer (Toggle)"],["div","Auto Sell Dupes On Open"],["div","Spam Buy Blooks"],["div","Food Game"],["div","Change Blook Ingame"],["div","Get Daily Rewards"],["div","Remove Name Limit"],["div","Simulate Unlock"],["div","Cheat ESP"],["div","Gold Quest Cheats"],["div","Cafe Cheats"],["div","Crypto Hack Cheats"],["div","Deceptive Dinos Cheats"],["div","Tower Defense Cheats"],["div","Tower Defense2 Cheats"],["div","Factory Cheats"],["div","Fishing Frenzy Cheats"],["div","Flappy Blook Cheats"],["div","Tower of Doom Cheats"],["div","Crazy Kingdom Cheats"],["div","Racing Cheats"],["div","Battle Royale Cheats"],["div","Blook Rush Cheats"],["div","Monster Brawl Cheats"],["div","Santa's Workshop Cheats"]]))},exploitAndVectorId:["64c1bddb082ad2224b6371da","64c3d548082ad2224b637230"]},sX={penalty:0,isActive:e=>{const t=["JODGUISettings",...aX(e)];return iX(e,t)},exploitAndVectorId:["64c1bddb082ad2224b6371da","64c3d548082ad2224b637230"]},aX=e=>ZB(e).map(t=>e.btoa.call(window,t.name)),oX=e=>ZB(e).map(n=>"#"+e.btoa.call(window,n._id).replaceAll(/(=|\/|\.)/g,"")).filter(n=>n!="#"),ZB=e=>{const t=[];for(const r of uX)t.push(r);for(const r of lX){const n=e.querySelector.call(document,r);if(!n)continue;const d=Object.values(n);if(!d||d.length<2)continue;const S=d[1];if(!S||!S.children||!S.children.length||S.children.length===0)continue;const i=S.children[0]._owner.stateNode.props.user.data;i&&t.push(i)}return t},lX=["body div[id] > div > div"],uX=[{name:"ben could you not",_id:"it's cat and mouse at this point"}],hX=[nX,sX],cX=()=>ci(An,null,function*(){const e=new Set,t=KB(),n=setInterval(()=>ci(An,null,function*(){try{const S=yield qB(t);for(const s of S)e.has(s)||(yield JB(t,s.penalty,s.exploitAndVectorId),e.add(s))}catch(S){}}),3e3),d=window.clearInterval;window.clearInterval=S=>{S!==n&&d.call(window,S)}}),qB=e=>ci(An,null,function*(){const t=[];for(const r of hX)r.isActive(e)&&t.push(r);return t}),dX=()=>{const t=new Date,r=new Set;let n=!1,d=new Date,S=0;setInterval(()=>{S++,d=new Date},1e3);const s=Date.prototype.getTime,g=Math.abs,i=Date.now,o=window.fetch,m=KB(),c=()=>{const h=i(),a=h-s.call(d),p=(h-s.call(t))/1e3,u=g(p-S);return{sinceLastHeartbeat:a,expectedHeartbeats:p,totalHeartbeats:S,unexpectedGap:u}};return h=>a=>ci(An,null,function*(){let f=null;const p=c();return p.sinceLastHeartbeat>3*1e3&&(f="tslhb"),f&&ci(An,null,function*(){const v=yield qB(m);for(const y of v)r.has(y)||(yield JB(m,y.penalty,y.exploitAndVectorId),r.add(y));n||(n=!0,o.call(window,"https://s.blooket.com/hbf",{method:"POST",cache:"no-cache",credentials:"include",body:JSON.stringify({p:a.url,h:window.location.href,r:f,ua:window.navigator.userAgent,hbv:{slh:p.sinceLastHeartbeat,eh:p.expectedHeartbeats,th:p.totalHeartbeats,ug:p.unexpectedGap}})}))}),yield h(a)})},fX=()=>{let e=null;const t=new JV(1,300),r=-1;return ci(An,null,function*(){const d=Symbol("csrfinitializer");yield t.wait(d,r);try{const s=(yield fetch("/apipbinit")).headers.get("X-CSRF-Token");if(!s)throw Error("no CSRF token found when initializing");e=s}finally{t.end(d)}}),d=>S=>ci(An,null,function*(){const s=Symbol("csrfinterceptor");if(yield t.wait(s,r),!e)throw Error("could not make request without csrf token");S.header.set("X-CSRF-Token",e),e=null;const g=d(S);return new Promise((i,o)=>{g.then(m=>{const c=m.header.get("X-CSRF-Token");if(!c)throw Error("token not found in response");e=c,i(m)}).catch(m=>{if(m instanceof Ms){const c=m.metadata.get("X-CSRF-Token");if(!c)throw Error("token not found in response");e=c}o(m)}).finally(()=>{t.end(s)})})})},pX=e=>{const t=window.location.assign,r="https://id.blooket.com/logout";return d=>S=>ci(An,null,function*(){const s=d(S);return new Promise((g,i)=>{s.then(o=>{g(o)}).catch(o=>{Ms.from(o).code==qr.PermissionDenied&&(Ve.logError(o,{inForbiddenInterceptor:!0,withCustomHandler:!0}),t.call(window.location,r)),i(o)})})})};function vX(e,t,r,n,d){const S=[dX(),fX()];S.push(qY(r)),d&&S.push(...d);const s=XV({baseUrl:e,useBinaryFormat:!0,credentials:"same-origin",interceptors:S,useHttpGet:!1});return TV(t,s)}var pd=e=>e==="Dink"?"Ding":e,tO={},C2={exports:{}};(function(e,t){t=e.exports=r,t.getSerialize=n;function r(d,S,s,g){return JSON.stringify(d,n(S,g),s)}function n(d,S){var s=[],g=[];return S==null&&(S=function(i,o){return s[0]===o?"[Circular ~]":"[Circular ~."+g.slice(0,s.indexOf(o)).join(".")+"]"}),function(i,o){if(s.length>0){var m=s.indexOf(this);~m?s.splice(m+1):s.push(this),~m?g.splice(m,1/0,i):g.push(i),~s.indexOf(o)&&(o=S.call(this,i,o))}else s.push(o);return d==null?o:d.call(this,i,o)}}})(C2,C2.exports);var mX=C2.exports,eE={};Object.defineProperty(eE,"__esModule",{value:!0});var gX=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};eE.default=yX;function yX(e){return(typeof e=="undefined"?"undefined":gX(e))!=="object"||e===null||typeof e=="undefined"}var iE={};Object.defineProperty(iE,"__esModule",{value:!0});iE.default=xX;function xX(e,t,r){var n=eO(e,t,r);return{detectMutations:function(){return iO(e,t,n,r)}}}function eO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments[2],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],d={value:r};if(!e(r)){d.children={};for(var S in r){var s=n.concat(S);t.length&&t.indexOf(s.join("."))!==-1||(d.children[S]=eO(e,t,r[S],s))}}return d}function iO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments[2],n=arguments[3],d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],s=r?r.value:void 0,g=s===n;if(d&&!g&&!Number.isNaN(n))return{wasMutated:!0,path:S};if(e(s)||e(n))return{wasMutated:!1};var i={};Object.keys(r.children).forEach(function(a){i[a]=!0}),Object.keys(n).forEach(function(a){i[a]=!0});for(var o=Object.keys(i),m=0;m<o.length;m++){var c=o[m],l=S.concat(c);if(!(t.length&&t.indexOf(l.join("."))!==-1)){var h=iO(e,t,r.children[c],n[c],g,l);if(h.wasMutated)return h}}return{wasMutated:!1}}Object.defineProperty(tO,"__esModule",{value:!0});var bX=tO.default=IX,SX=_M,q6=ux(SX),wX=mX,TX=ux(wX),CX=eE,EX=ux(CX),kX=iE,PX=ux(kX);function ux(e){return e&&e.__esModule?e:{default:e}}var AX=["A state mutation was detected between dispatches, in the path `%s`.","This may cause incorrect behavior.","(http://redux.js.org/docs/Troubleshooting.html#never-mutate-reducer-arguments)"].join(" "),RX=["A state mutation was detected inside a dispatch, in the path: `%s`.","Take a look at the reducer(s) handling the action %s.","(http://redux.js.org/docs/Troubleshooting.html#never-mutate-reducer-arguments)"].join(" ");function IX(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.isImmutable,r=t===void 0?EX.default:t,n=e.ignore,d=PX.default.bind(null,r,n);return function(S){var s=S.getState,g=s(),i=d(g),o=void 0;return function(m){return function(c){g=s(),o=i.detectMutations(),i=d(g),(0,q6.default)(!o.wasMutated,AX,(o.path||[]).join("."));var l=m(c);return g=s(),o=i.detectMutations(),i=d(g),o.wasMutated&&(0,q6.default)(!o.wasMutated,RX,(o.path||[]).join("."),(0,TX.default)(c)),l}}}}var Hl=function(t){return"@@redux-saga/"+t},MX=Hl("CANCEL_PROMISE"),rO=Hl("CHANNEL_END"),nO=Hl("IO"),t9=Hl("MATCH"),BX=Hl("MULTICAST"),sO=Hl("SAGA_ACTION"),OX=Hl("SELF_CANCELLATION"),NX=Hl("TASK"),Cf=Hl("TASK_CANCEL"),aO=Hl("TERMINATE"),LX=Hl("LOCATION"),FX=function(t){return t==null},DX=function(t){return t!=null},pc=function(t){return typeof t=="function"},_X=function(t){return typeof t=="string"},np=Array.isArray,hx=function(t){return t&&pc(t.then)},rE=function(t){return t&&pc(t.next)&&pc(t.throw)},jX=function(t){return pc(t)&&t.hasOwnProperty("toString")},zX=function(t){return!!t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype},UX=function(t){return function(){return t}},GX=UX(!0),Ia=function(){},HX=function(t){return t},nE=function(t,r){Kn(t,r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(function(n){t[n]=r[n]})},$X=function(t,r){var n;return(n=[]).concat.apply(n,r.map(t))};function cx(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}function WX(e){var t=!1;return function(){t||(t=!0,e())}}var VX=function(t){throw t},YX=function(t){return{value:t,done:!0}};function e9(e,t,r){t=VX,r="iterator";var n={meta:{name:r},next:e,throw:t,return:YX,isSagaIterator:!0};return typeof Symbol!="undefined"&&(n[Symbol.iterator]=function(){return n}),n}function XX(e,t){var r=t.sagaStack;console.error(e),console.error(r)}var oO=function(t){return Array.apply(null,new Array(t))},QX=function(t){return function(r){return t(Object.defineProperty(r,sO,{value:!0}))}},lO=function(t){return t===aO},uO=function(t){return t===Cf},hO=function(t){return lO(t)||uO(t)};function cO(e,t){var r=Object.keys(e),n=r.length,d=0,S,s=np(e)?oO(n):{},g={};function i(){d===n&&(S=!0,t(s))}return r.forEach(function(o){var m=function(l,h){S||(h||hO(l)?(t.cancel(),t(l,h)):(s[o]=l,d++,i()))};m.cancel=Ia,g[o]=m}),t.cancel=function(){S||(S=!0,r.forEach(function(o){return g[o].cancel()}))},g}function sE(e){return{name:e.name||"anonymous",location:dO(e)}}function dO(e){return e[LX]}function KX(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,d){return function(){return n(d.apply(void 0,arguments))}})}var JX="Channel's Buffer overflow!",ZX=1,qX=3,fO=4;function tQ(e,t){e===void 0&&(e=10);var r=new Array(e),n=0,d=0,S=0,s=function(m){r[d]=m,d=(d+1)%e,n++},g=function(){if(n!=0){var m=r[S];return r[S]=null,n--,S=(S+1)%e,m}},i=function(){for(var m=[];n;)m.push(g());return m};return{isEmpty:function(){return n==0},put:function(m){if(n<e)s(m);else{var c;switch(t){case ZX:throw new Error(JX);case qX:r[d]=m,d=(d+1)%e,S=d;break;case fO:c=2*e,r=i(),n=r.length,d=r.length,S=0,r.length=c,e=c,s(m);break}}},take:g,flush:i}}var eQ=function(t){return tQ(t,fO)},iQ="TAKE",rQ="PUT",pO="ALL",nQ="RACE",sQ="CALL",aQ="CPS",oQ="FORK",lQ="JOIN",uQ="CANCEL",hQ="SELECT",cQ="ACTION_CHANNEL",dQ="CANCELLED",fQ="FLUSH",pQ="GET_CONTEXT",vQ="SET_CONTEXT",mQ=function(t,r){var n;return n={},n[nO]=!0,n.combinator=!1,n.type=t,n.payload=r,n};function gQ(e){var t=mQ(pO,e);return t.combinator=!0,t}function yQ(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}var vO=[],dx=0;function xQ(e){try{aE(),e()}finally{yO()}}function mO(e){vO.push(e),dx||(aE(),xO())}function gO(e){try{return aE(),e()}finally{xO()}}function aE(){dx++}function yO(){dx--}function xO(){yO();for(var e;!dx&&(e=vO.shift())!==void 0;)xQ(e)}var bQ=function(t){return function(r){return t.some(function(n){return oE(n)(r)})}},SQ=function(t){return function(r){return t(r)}},i9=function(t){return function(r){return r.type===String(t)}},wQ=function(t){return function(r){return r.type===t}},bO=function(){return GX};function oE(e){var t=e==="*"?bO:_X(e)?i9:np(e)?bQ:jX(e)?i9:pc(e)?SQ:zX(e)?wQ:null;if(t===null)throw new Error("invalid pattern: "+e);return t(e)}var _v={type:rO},lE=function(t){return t&&t.type===rO};function TQ(e){e===void 0&&(e=eQ());var t=!1,r=[];function n(g){if(!t){if(r.length===0)return e.put(g);var i=r.shift();i(g)}}function d(g){t&&e.isEmpty()?g(_v):e.isEmpty()?(r.push(g),g.cancel=function(){cx(r,g)}):g(e.take())}function S(g){if(t&&e.isEmpty()){g(_v);return}g(e.flush())}function s(){if(!t){t=!0;var g=r;r=[];for(var i=0,o=g.length;i<o;i++){var m=g[i];m(_v)}}}return{take:d,put:n,flush:S,close:s}}function CQ(){var e,t=!1,r=[],n=r,d=function(){n===r&&(n=r.slice())},S=function(){t=!0;var g=r=n;n=[],g.forEach(function(i){i(_v)})};return e={},e[BX]=!0,e.put=function(g){if(!t){if(lE(g)){S();return}for(var i=r=n,o=0,m=i.length;o<m;o++){var c=i[o];c[t9](g)&&(c.cancel(),c(g))}}},e.take=function(g,i){if(i===void 0&&(i=bO),t){g(_v);return}g[t9]=i,d(),n.push(g),g.cancel=WX(function(){d(),cx(n,g)})},e.close=S,e}function SO(){var e=CQ(),t=e.put;return e.put=function(r){if(r[sO]){t(r);return}mO(function(){t(r)})},e}var Xc=0,th=1,n1=2,wO=3;function uE(e,t){var r=e[MX];pc(r)&&(t.cancel=r),e.then(t,function(n){t(n,!0)})}var Hm=0,TO=function(){return++Hm},Js;function kQ(e,t){return e.isSagaIterator?{name:e.meta.name}:sE(t)}function PQ(e){var t=e.context,r=e.fn,n=e.args;try{var d=r.apply(t,n);if(rE(d))return d;var S=!1,s=function(i){return S?{value:i,done:!0}:(S=!0,{value:d,done:!hx(d)})};return e9(s)}catch(g){return e9(function(){throw g})}}function AQ(e,t,r){var n=t.channel,d=t.action,S=t.resolve;mO(function(){var s;try{s=(n?n.put:e.dispatch)(d)}catch(g){r(g,!0);return}S&&hx(s)?uE(s,r):r(s)})}function RQ(e,t,r){var n=t.channel,d=n===void 0?e.channel:n,S=t.pattern,s=t.maybe,g=function(o){if(o instanceof Error){r(o,!0);return}if(lE(o)&&!s){r(aO);return}r(o)};try{d.take(g,DX(S)?oE(S):null)}catch(i){r(i,!0);return}r.cancel=g.cancel}function IQ(e,t,r,n){var d=t.context,S=t.fn,s=t.args,g=n.task;try{var i=S.apply(d,s);if(hx(i)){uE(i,r);return}if(rE(i)){fx(e,i,g.context,Hm,sE(S),!1,r);return}r(i)}catch(o){r(o,!0)}}function MQ(e,t,r){var n=t.context,d=t.fn,S=t.args;try{var s=function(i,o){FX(i)?r(o):r(i,!0)};d.apply(n,S.concat(s)),s.cancel&&(r.cancel=s.cancel)}catch(g){r(g,!0)}}function BQ(e,t,r,n){var d=t.context,S=t.fn,s=t.args,g=t.detached,i=n.task,o=PQ({context:d,fn:S,args:s}),m=kQ(o,S);gO(function(){var c=fx(e,o,i.context,Hm,m,g,void 0);g?r(c):c.isRunning()?(i.queue.addTask(c),r(c)):c.isAborted()?i.queue.abort(c.error()):r(c)})}function OQ(e,t,r,n){var d=n.task,S=function(i,o){if(i.isRunning()){var m={task:d,cb:o};o.cancel=function(){i.isRunning()&&cx(i.joiners,m)},i.joiners.push(m)}else i.isAborted()?o(i.error(),!0):o(i.result())};if(np(t)){if(t.length===0){r([]);return}var s=cO(t,r);t.forEach(function(g,i){S(g,s[i])})}else S(t,r)}function tS(e){e.isRunning()&&e.cancel()}function NQ(e,t,r,n){var d=n.task;t===OX?tS(d):np(t)?t.forEach(tS):tS(t),r()}function LQ(e,t,r,n){var d=n.digestEffect,S=Hm,s=Object.keys(t);if(s.length===0){r(np(t)?[]:{});return}var g=cO(t,r);s.forEach(function(i){d(t[i],S,g[i],i)})}function FQ(e,t,r,n){var d=n.digestEffect,S=Hm,s=Object.keys(t),g=np(t)?oO(s.length):{},i={},o=!1;s.forEach(function(m){var c=function(h,a){o||(a||hO(h)?(r.cancel(),r(h,a)):(r.cancel(),o=!0,g[m]=h,r(g)))};c.cancel=Ia,i[m]=c}),r.cancel=function(){o||(o=!0,s.forEach(function(m){return i[m].cancel()}))},s.forEach(function(m){o||d(t[m],S,i[m],m)})}function DQ(e,t,r){var n=t.selector,d=t.args;try{var S=n.apply(void 0,[e.getState()].concat(d));r(S)}catch(s){r(s,!0)}}function _Q(e,t,r){var n=t.pattern,d=t.buffer,S=TQ(d),s=oE(n),g=function o(m){lE(m)||e.channel.take(o,s),S.put(m)},i=S.close;S.close=function(){g.cancel(),i()},e.channel.take(g,s),r(S)}function jQ(e,t,r,n){var d=n.task;r(d.isCancelled())}function zQ(e,t,r){t.flush(r)}function UQ(e,t,r,n){var d=n.task;r(d.context[t])}function GQ(e,t,r,n){var d=n.task;nE(d.context,t),r()}var HQ=(Js={},Js[iQ]=RQ,Js[rQ]=AQ,Js[pO]=LQ,Js[nQ]=FQ,Js[sQ]=IQ,Js[aQ]=MQ,Js[oQ]=BQ,Js[lQ]=OQ,Js[uQ]=NQ,Js[hQ]=DQ,Js[cQ]=_Q,Js[dQ]=jQ,Js[fQ]=zQ,Js[pQ]=UQ,Js[vQ]=GQ,Js);function $Q(e,t,r){var n=[],d,S=!1;i(e);var s=function(){return n};function g(m){t(),o(),r(m,!0)}function i(m){n.push(m),m.cont=function(c,l){S||(cx(n,m),m.cont=Ia,l?g(c):(m===e&&(d=c),n.length||(S=!0,r(d))))}}function o(){S||(S=!0,n.forEach(function(m){m.cont=Ia,m.cancel()}),n=[])}return{addTask:i,cancelAll:o,abort:g,getTasks:s}}function CO(e,t){return e+"?"+t}function WQ(e){var t=dO(e);if(t){var r=t.code,n=t.fileName,d=t.lineNumber,S=r+"  "+CO(n,d);return S}return""}function r9(e){var t=e.name,r=e.location;return r?t+"  "+CO(r.fileName,r.lineNumber):t}function VQ(e){var t=$X(function(r){return r.cancelledTasks},e);return t.length?["Tasks cancelled due to error:"].concat(t).join(`
`):""}var hE=null,jv=[],YQ=function(t){t.crashedEffect=hE,jv.push(t)},EO=function(){hE=null,jv.length=0},XQ=function(t){hE=t},QQ=function(){var t=jv[0],r=jv.slice(1),n=t.crashedEffect?WQ(t.crashedEffect):null,d="The above error occurred in task "+r9(t.meta)+(n?` 
 when executing effect `+n:"");return[d].concat(r.map(function(S){return"    created by "+r9(S.meta)}),[VQ(jv)]).join(`
`)};function KQ(e,t,r,n,d,S,s){var g;s===void 0&&(s=Ia);var i=Xc,o,m,c=null,l=[],h=Object.create(r),a=$Q(t,function(){l.push.apply(l,a.getTasks().map(function(b){return b.meta.name}))},p);function f(){i===Xc&&(i=th,a.cancelAll(),p(Cf,!1))}function p(x,b){if(!b)x===Cf?i=th:i!==th&&(i=wO),o=x,c&&c.resolve(x);else{if(i=n1,YQ({meta:d,cancelledTasks:l}),y.isRoot){var w=QQ();EO(),e.onError(x,{sagaStack:w})}m=x,c&&c.reject(x)}y.cont(x,b),y.joiners.forEach(function(C){C.cb(x,b)}),y.joiners=null}function u(x){nE(h,x)}function v(){return c||(c=yQ(),i===n1?c.reject(m):i!==Xc&&c.resolve(o)),c.promise}var y=(g={},g[NX]=!0,g.id=n,g.meta=d,g.isRoot=S,g.context=h,g.joiners=[],g.queue=a,g.cancel=f,g.cont=s,g.end=p,g.setContext=u,g.toPromise=v,g.isRunning=function(){return i===Xc},g.isCancelled=function(){return i===th||i===Xc&&t.status===th},g.isAborted=function(){return i===n1},g.result=function(){return o},g.error=function(){return m},g);return y}function fx(e,t,r,n,d,S,s){var g=e.finalizeRunEffect(h);l.cancel=Ia;var i={meta:d,cancel:c,status:Xc},o=KQ(e,i,r,n,d,S,s),m={task:o,digestEffect:a};function c(){i.status===Xc&&(i.status=th,l(Cf))}return s&&(s.cancel=o.cancel),l(),o;function l(f,p){try{var u;p?(u=t.throw(f),EO()):uO(f)?(i.status=th,l.cancel(),u=pc(t.return)?t.return(Cf):{done:!0,value:Cf}):lO(f)?u=pc(t.return)?t.return():{done:!0}:u=t.next(f),u.done?(i.status!==th&&(i.status=wO),i.cont(u.value)):a(u.value,n,l)}catch(v){if(i.status===th)throw v;i.status=n1,i.cont(v,!0)}}function h(f,p,u){if(hx(f))uE(f,u);else if(rE(f))fx(e,f,o.context,p,d,!1,u);else if(f&&f[nO]){var v=HQ[f.type];v(e,f.payload,u,m)}else u(f)}function a(f,p,u,v){v===void 0&&(v="");var y=TO();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:y,parentEffectId:p,label:v,effect:f});var x;function b(w,C){x||(x=!0,u.cancel=Ia,e.sagaMonitor&&(C?e.sagaMonitor.effectRejected(y,w):e.sagaMonitor.effectResolved(y,w)),C&&XQ(f),u(w,C))}b.cancel=Ia,u.cancel=function(){x||(x=!0,b.cancel(),b.cancel=Ia,e.sagaMonitor&&e.sagaMonitor.effectCancelled(y))},g(f,y,b)}}function JQ(e,t){for(var r=e.channel,n=r===void 0?SO():r,d=e.dispatch,S=e.getState,s=e.context,g=s===void 0?{}:s,i=e.sagaMonitor,o=e.effectMiddlewares,m=e.onError,c=m===void 0?XX:m,l=arguments.length,h=new Array(l>2?l-2:0),a=2;a<l;a++)h[a-2]=arguments[a];var f=t.apply(void 0,h),p=TO();i&&(i.rootSagaStarted=i.rootSagaStarted||Ia,i.effectTriggered=i.effectTriggered||Ia,i.effectResolved=i.effectResolved||Ia,i.effectRejected=i.effectRejected||Ia,i.effectCancelled=i.effectCancelled||Ia,i.actionDispatched=i.actionDispatched||Ia,i.rootSagaStarted({effectId:p,saga:t,args:h}));var u;if(o){var v=KX.apply(void 0,o);u=function(b){return function(w,C,E){var T=function(A){return b(A,C,E)};return v(T)(w)}}}else u=HX;var y={channel:n,dispatch:QX(d),getState:S,sagaMonitor:i,onError:c,finalizeRunEffect:u};return gO(function(){var x=fx(y,f,g,p,sE(t),!0,void 0);return i&&i.effectResolved(p,x),x})}function ZQ(e){var t={},r=t.context,n=r===void 0?{}:r,d=t.channel,S=d===void 0?SO():d,s=t.sagaMonitor,g=vh(t,["context","channel","sagaMonitor"]),i;function o(m){var c=m.getState,l=m.dispatch;return i=JQ.bind(null,Kn({},g,{context:n,channel:S,dispatch:l,getState:c,sagaMonitor:s})),function(h){return function(a){s&&s.actionDispatched&&s.actionDispatched(a);var f=h(a);return S.put(a),f}}}return o.run=function(){return i.apply(void 0,arguments)},o.setContext=function(m){nE(n,m)},o}var $m="delete",Nn=5,Vo=1<<Nn,Oa=Vo-1,Dr={};function E2(){return{value:!1}}function Yo(e){e&&(e.value=!0)}function cE(){}function Gf(e){return e.size===void 0&&(e.size=e.__iterate(kO)),e.size}function vc(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?Gf(e)+t:t}function kO(){return!0}function px(e,t,r){return(e===0&&!AO(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function Wm(e,t){return PO(e,t,0)}function vx(e,t){return PO(e,t,t)}function PO(e,t,r){return e===void 0?r:AO(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function AO(e){return e<0||e===0&&1/e===-1/0}var RO="@@__IMMUTABLE_ITERABLE__@@";function ao(e){return!!(e&&e[RO])}var IO="@@__IMMUTABLE_KEYED__@@";function Ln(e){return!!(e&&e[IO])}var MO="@@__IMMUTABLE_INDEXED__@@";function Na(e){return!!(e&&e[MO])}function mx(e){return Ln(e)||Na(e)}var bs=function(t){return ao(t)?t:lo(t)},il=function(e){function t(r){return Ln(r)?r:Sc(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(bs),Pd=function(e){function t(r){return Na(r)?r:Wl(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(bs),sp=function(e){function t(r){return ao(r)&&!mx(r)?r:up(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(bs);bs.Keyed=il;bs.Indexed=Pd;bs.Set=sp;var BO="@@__IMMUTABLE_SEQ__@@";function dE(e){return!!(e&&e[BO])}var OO="@@__IMMUTABLE_RECORD__@@";function ap(e){return!!(e&&e[OO])}function $l(e){return ao(e)||ap(e)}var op="@@__IMMUTABLE_ORDERED__@@";function Ll(e){return!!(e&&e[op])}var Vm=0,_l=1,Jo=2,k2=typeof Symbol=="function"&&Symbol.iterator,NO="@@iterator",gx=k2||NO,tn=function(t){this.next=t};tn.prototype.toString=function(){return"[Iterator]"};tn.KEYS=Vm;tn.VALUES=_l;tn.ENTRIES=Jo;tn.prototype.inspect=tn.prototype.toSource=function(){return this.toString()};tn.prototype[gx]=function(){return this};function Qn(e,t,r,n){var d=e===0?t:e===1?r:[t,r];return n?n.value=d:n={value:d,done:!1},n}function oo(){return{value:void 0,done:!0}}function fE(e){return Array.isArray(e)?!0:!!yx(e)}function n9(e){return e&&typeof e.next=="function"}function P2(e){var t=yx(e);return t&&t.call(e)}function yx(e){var t=e&&(k2&&e[k2]||e[NO]);if(typeof t=="function")return t}function qQ(e){var t=yx(e);return t&&t===e.entries}function tK(e){var t=yx(e);return t&&t===e.keys}var lp=Object.prototype.hasOwnProperty;function pE(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var lo=function(e){function t(r){return r==null?mE():$l(r)?r.toSeq():iK(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,d){var S=this._cache;if(S){for(var s=S.length,g=0;g!==s;){var i=S[d?s-++g:g++];if(n(i[1],i[0],this)===!1)break}return g}return this.__iterateUncached(n,d)},t.prototype.__iterator=function(n,d){var S=this._cache;if(S){var s=S.length,g=0;return new tn(function(){if(g===s)return oo();var i=S[d?s-++g:g++];return Qn(n,i[0],i[1])})}return this.__iteratorUncached(n,d)},t}(bs),Sc=function(e){function t(r){return r==null?mE().toKeyedSeq():ao(r)?Ln(r)?r.toSeq():r.fromEntrySeq():ap(r)?r.toSeq():gE(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(lo),Wl=function(e){function t(r){return r==null?mE():ao(r)?Ln(r)?r.entrySeq():r.toIndexedSeq():ap(r)?r.toSeq().entrySeq():LO(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(lo),up=function(e){function t(r){return(ao(r)&&!mx(r)?r:Wl(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(lo);lo.isSeq=dE;lo.Keyed=Sc;lo.Set=up;lo.Indexed=Wl;lo.prototype[BO]=!0;var Cd=function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,d){return this.has(n)?this._array[vc(this,n)]:d},t.prototype.__iterate=function(n,d){for(var S=this._array,s=S.length,g=0;g!==s;){var i=d?s-++g:g++;if(n(S[i],i,this)===!1)break}return g},t.prototype.__iterator=function(n,d){var S=this._array,s=S.length,g=0;return new tn(function(){if(g===s)return oo();var i=d?s-++g:g++;return Qn(n,i,S[i])})},t}(Wl),vE=function(e){function t(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,d){return d!==void 0&&!this.has(n)?d:this._object[n]},t.prototype.has=function(n){return lp.call(this._object,n)},t.prototype.__iterate=function(n,d){for(var S=this._object,s=this._keys,g=s.length,i=0;i!==g;){var o=s[d?g-++i:i++];if(n(S[o],o,this)===!1)break}return i},t.prototype.__iterator=function(n,d){var S=this._object,s=this._keys,g=s.length,i=0;return new tn(function(){if(i===g)return oo();var o=s[d?g-++i:i++];return Qn(n,o,S[o])})},t}(Sc);vE.prototype[op]=!0;var eK=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,d){if(d)return this.cacheResult().__iterate(n,d);var S=this._collection,s=P2(S),g=0;if(n9(s))for(var i;!(i=s.next()).done&&n(i.value,g++,this)!==!1;);return g},t.prototype.__iteratorUncached=function(n,d){if(d)return this.cacheResult().__iterator(n,d);var S=this._collection,s=P2(S);if(!n9(s))return new tn(oo);var g=0;return new tn(function(){var i=s.next();return i.done?i:Qn(n,g++,i.value)})},t}(Wl),s9;function mE(){return s9||(s9=new Cd([]))}function gE(e){var t=yE(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new vE(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function LO(e){var t=yE(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function iK(e){var t=yE(e);if(t)return qQ(e)?t.fromEntrySeq():tK(e)?t.toSetSeq():t;if(typeof e=="object")return new vE(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function yE(e){return pE(e)?new Cd(e):fE(e)?new eK(e):void 0}var FO="@@__IMMUTABLE_MAP__@@";function xE(e){return!!(e&&e[FO])}function DO(e){return xE(e)&&Ll(e)}function a9(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function To(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(a9(e)&&a9(t)&&e.equals(t))}var Wp=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var n=t&65535,d=r&65535;return n*d+((t>>>16)*d+n*(r>>>16)<<16>>>0)|0};function xx(e){return e>>>1&1073741824|e&3221225471}var rK=Object.prototype.valueOf;function bo(e){if(e==null)return o9(e);if(typeof e.hashCode=="function")return xx(e.hashCode(e));var t=uK(e);if(t==null)return o9(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return nK(t);case"string":return t.length>hK?sK(t):A2(t);case"object":case"function":return oK(t);case"symbol":return aK(t);default:if(typeof t.toString=="function")return A2(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function o9(e){return e===null?1108378658:1108378659}function nK(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return xx(t)}function sK(e){var t=rS[e];return t===void 0&&(t=A2(e),iS===cK&&(iS=0,rS={}),iS++,rS[e]=t),t}function A2(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return xx(t)}function aK(e){var t=h9[e];return t!==void 0||(t=_O(),h9[e]=t),t}function oK(e){var t;if(R2&&(t=I2.get(e),t!==void 0)||(t=e[Qc],t!==void 0)||!u9&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Qc],t!==void 0||(t=lK(e),t!==void 0)))return t;if(t=_O(),R2)I2.set(e,t);else{if(l9!==void 0&&l9(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(u9)Object.defineProperty(e,Qc,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Qc]=t;else if(e.nodeType!==void 0)e[Qc]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var l9=Object.isExtensible,u9=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function lK(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function uK(e){return e.valueOf!==rK&&typeof e.valueOf=="function"?e.valueOf(e):e}function _O(){var e=++eS;return eS&1073741824&&(eS=0),e}var R2=typeof WeakMap=="function",I2;R2&&(I2=new WeakMap);var h9=Object.create(null),eS=0,Qc="__immutablehash__";typeof Symbol=="function"&&(Qc=Symbol(Qc));var hK=16,cK=255,iS=0,rS={},bx=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(n,d){return this._iter.get(n,d)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,d=bE(this,!0);return this._useKeys||(d.valueSeq=function(){return n._iter.toSeq().reverse()}),d},t.prototype.map=function(n,d){var S=this,s=HO(this,n,d);return this._useKeys||(s.valueSeq=function(){return S._iter.toSeq().map(n,d)}),s},t.prototype.__iterate=function(n,d){var S=this;return this._iter.__iterate(function(s,g){return n(s,g,S)},d)},t.prototype.__iterator=function(n,d){return this._iter.__iterator(n,d)},t}(Sc);bx.prototype[op]=!0;var jO=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,d){var S=this,s=0;return d&&Gf(this),this._iter.__iterate(function(g){return n(g,d?S.size-++s:s++,S)},d)},t.prototype.__iterator=function(n,d){var S=this,s=this._iter.__iterator(_l,d),g=0;return d&&Gf(this),new tn(function(){var i=s.next();return i.done?i:Qn(n,d?S.size-++g:g++,i.value,i)})},t}(Wl),zO=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,d){var S=this;return this._iter.__iterate(function(s){return n(s,s,S)},d)},t.prototype.__iterator=function(n,d){var S=this._iter.__iterator(_l,d);return new tn(function(){var s=S.next();return s.done?s:Qn(n,s.value,s.value,s)})},t}(up),UO=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,d){var S=this;return this._iter.__iterate(function(s){if(s){d9(s);var g=ao(s);return n(g?s.get(1):s[1],g?s.get(0):s[0],S)}},d)},t.prototype.__iterator=function(n,d){var S=this._iter.__iterator(_l,d);return new tn(function(){for(;;){var s=S.next();if(s.done)return s;var g=s.value;if(g){d9(g);var i=ao(g);return Qn(n,i?g.get(0):g[0],i?g.get(1):g[1],s)}}})},t}(Sc);jO.prototype.cacheResult=bx.prototype.cacheResult=zO.prototype.cacheResult=UO.prototype.cacheResult=TE;function GO(e){var t=Pu(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=TE,t.__iterateUncached=function(r,n){var d=this;return e.__iterate(function(S,s){return r(s,S,d)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===Jo){var d=e.__iterator(r,n);return new tn(function(){var S=d.next();if(!S.done){var s=S.value[0];S.value[0]=S.value[1],S.value[1]=s}return S})}return e.__iterator(r===_l?Vm:_l,n)},t}function HO(e,t,r){var n=Pu(e);return n.size=e.size,n.has=function(d){return e.has(d)},n.get=function(d,S){var s=e.get(d,Dr);return s===Dr?S:t.call(r,s,d,e)},n.__iterateUncached=function(d,S){var s=this;return e.__iterate(function(g,i,o){return d(t.call(r,g,i,o),i,s)!==!1},S)},n.__iteratorUncached=function(d,S){var s=e.__iterator(Jo,S);return new tn(function(){var g=s.next();if(g.done)return g;var i=g.value,o=i[0];return Qn(d,o,t.call(r,i[1],o,e),g)})},n}function bE(e,t){var r=this,n=Pu(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var d=GO(e);return d.reverse=function(){return e.flip()},d}),n.get=function(d,S){return e.get(t?d:-1-d,S)},n.has=function(d){return e.has(t?d:-1-d)},n.includes=function(d){return e.includes(d)},n.cacheResult=TE,n.__iterate=function(d,S){var s=this,g=0;return S&&Gf(e),e.__iterate(function(i,o){return d(i,t?o:S?s.size-++g:g++,s)},!S)},n.__iterator=function(d,S){var s=0;S&&Gf(e);var g=e.__iterator(Jo,!S);return new tn(function(){var i=g.next();if(i.done)return i;var o=i.value;return Qn(d,t?o[0]:S?r.size-++s:s++,o[1],i)})},n}function $O(e,t,r,n){var d=Pu(e);return n&&(d.has=function(S){var s=e.get(S,Dr);return s!==Dr&&!!t.call(r,s,S,e)},d.get=function(S,s){var g=e.get(S,Dr);return g!==Dr&&t.call(r,g,S,e)?g:s}),d.__iterateUncached=function(S,s){var g=this,i=0;return e.__iterate(function(o,m,c){if(t.call(r,o,m,c))return i++,S(o,n?m:i-1,g)},s),i},d.__iteratorUncached=function(S,s){var g=e.__iterator(Jo,s),i=0;return new tn(function(){for(;;){var o=g.next();if(o.done)return o;var m=o.value,c=m[0],l=m[1];if(t.call(r,l,c,e))return Qn(S,n?c:i++,l,o)}})},d}function dK(e,t,r){var n=cp().asMutable();return e.__iterate(function(d,S){n.update(t.call(r,d,S,e),0,function(s){return s+1})}),n.asImmutable()}function fK(e,t,r){var n=Ln(e),d=(Ll(e)?ch():cp()).asMutable();e.__iterate(function(s,g){d.update(t.call(r,s,g,e),function(i){return i=i||[],i.push(n?[g,s]:s),i})});var S=wE(e);return d.map(function(s){return xn(e,S(s))}).asImmutable()}function pK(e,t,r){var n=Ln(e),d=[[],[]];e.__iterate(function(s,g){d[t.call(r,s,g,e)?1:0].push(n?[g,s]:s)});var S=wE(e);return d.map(function(s){return xn(e,S(s))})}function SE(e,t,r,n){var d=e.size;if(px(t,r,d))return e;var S=Wm(t,d),s=vx(r,d);if(S!==S||s!==s)return SE(e.toSeq().cacheResult(),t,r,n);var g=s-S,i;g===g&&(i=g<0?0:g);var o=Pu(e);return o.size=i===0?i:e.size&&i||void 0,!n&&dE(e)&&i>=0&&(o.get=function(m,c){return m=vc(this,m),m>=0&&m<i?e.get(m+S,c):c}),o.__iterateUncached=function(m,c){var l=this;if(i===0)return 0;if(c)return this.cacheResult().__iterate(m,c);var h=0,a=!0,f=0;return e.__iterate(function(p,u){if(!(a&&(a=h++<S)))return f++,m(p,n?u:f-1,l)!==!1&&f!==i}),f},o.__iteratorUncached=function(m,c){if(i!==0&&c)return this.cacheResult().__iterator(m,c);if(i===0)return new tn(oo);var l=e.__iterator(m,c),h=0,a=0;return new tn(function(){for(;h++<S;)l.next();if(++a>i)return oo();var f=l.next();return n||m===_l||f.done?f:m===Vm?Qn(m,a-1,void 0,f):Qn(m,a-1,f.value[1],f)})},o}function vK(e,t,r){var n=Pu(e);return n.__iterateUncached=function(d,S){var s=this;if(S)return this.cacheResult().__iterate(d,S);var g=0;return e.__iterate(function(i,o,m){return t.call(r,i,o,m)&&++g&&d(i,o,s)}),g},n.__iteratorUncached=function(d,S){var s=this;if(S)return this.cacheResult().__iterator(d,S);var g=e.__iterator(Jo,S),i=!0;return new tn(function(){if(!i)return oo();var o=g.next();if(o.done)return o;var m=o.value,c=m[0],l=m[1];return t.call(r,l,c,s)?d===Jo?o:Qn(d,c,l,o):(i=!1,oo())})},n}function WO(e,t,r,n){var d=Pu(e);return d.__iterateUncached=function(S,s){var g=this;if(s)return this.cacheResult().__iterate(S,s);var i=!0,o=0;return e.__iterate(function(m,c,l){if(!(i&&(i=t.call(r,m,c,l))))return o++,S(m,n?c:o-1,g)}),o},d.__iteratorUncached=function(S,s){var g=this;if(s)return this.cacheResult().__iterator(S,s);var i=e.__iterator(Jo,s),o=!0,m=0;return new tn(function(){var c,l,h;do{if(c=i.next(),c.done)return n||S===_l?c:S===Vm?Qn(S,m++,void 0,c):Qn(S,m++,c.value[1],c);var a=c.value;l=a[0],h=a[1],o&&(o=t.call(r,h,l,g))}while(o);return S===Jo?c:Qn(S,l,h,c)})},d}function mK(e,t){var r=Ln(e),n=[e].concat(t).map(function(s){return ao(s)?r&&(s=il(s)):s=r?gE(s):LO(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(n.length===0)return e;if(n.length===1){var d=n[0];if(d===e||r&&Ln(d)||Na(e)&&Na(d))return d}var S=new Cd(n);return r?S=S.toKeyedSeq():Na(e)||(S=S.toSetSeq()),S=S.flatten(!0),S.size=n.reduce(function(s,g){if(s!==void 0){var i=g.size;if(i!==void 0)return s+i}},0),S}function VO(e,t,r){var n=Pu(e);return n.__iterateUncached=function(d,S){if(S)return this.cacheResult().__iterate(d,S);var s=0,g=!1;function i(o,m){o.__iterate(function(c,l){return(!t||m<t)&&ao(c)?i(c,m+1):(s++,d(c,r?l:s-1,n)===!1&&(g=!0)),!g},S)}return i(e,0),s},n.__iteratorUncached=function(d,S){if(S)return this.cacheResult().__iterator(d,S);var s=e.__iterator(d,S),g=[],i=0;return new tn(function(){for(;s;){var o=s.next();if(o.done!==!1){s=g.pop();continue}var m=o.value;if(d===Jo&&(m=m[1]),(!t||g.length<t)&&ao(m))g.push(s),s=m.__iterator(d,S);else return r?o:Qn(d,i++,m,o)}return oo()})},n}function gK(e,t,r){var n=wE(e);return e.toSeq().map(function(d,S){return n(t.call(r,d,S,e))}).flatten(!0)}function yK(e,t){var r=Pu(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,d){var S=this,s=0;return e.__iterate(function(g){return(!s||n(t,s++,S)!==!1)&&n(g,s++,S)!==!1},d),s},r.__iteratorUncached=function(n,d){var S=e.__iterator(_l,d),s=0,g;return new tn(function(){return(!g||s%2)&&(g=S.next(),g.done)?g:s%2?Qn(n,s++,t):Qn(n,s++,g.value,g)})},r}function Hf(e,t,r){t||(t=YO);var n=Ln(e),d=0,S=e.toSeq().map(function(s,g){return[g,s,d++,r?r(s,g,e):s]}).valueSeq().toArray();return S.sort(function(s,g){return t(s[3],g[3])||s[2]-g[2]}).forEach(n?function(s,g){S[g].length=2}:function(s,g){S[g]=s[1]}),n?Sc(S):Na(e)?Wl(S):up(S)}function Wg(e,t,r){if(t||(t=YO),r){var n=e.toSeq().map(function(d,S){return[d,r(d,S,e)]}).reduce(function(d,S){return c9(t,d[1],S[1])?S:d});return n&&n[0]}return e.reduce(function(d,S){return c9(t,d,S)?S:d})}function c9(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function Vg(e,t,r,n){var d=Pu(e),S=new Cd(r).map(function(s){return s.size});return d.size=n?S.max():S.min(),d.__iterate=function(s,g){for(var i=this.__iterator(_l,g),o,m=0;!(o=i.next()).done&&s(o.value,m++,this)!==!1;);return m},d.__iteratorUncached=function(s,g){var i=r.map(function(c){return c=bs(c),P2(g?c.reverse():c)}),o=0,m=!1;return new tn(function(){var c;return m||(c=i.map(function(l){return l.next()}),m=n?c.every(function(l){return l.done}):c.some(function(l){return l.done})),m?oo():Qn(s,o++,t.apply(null,c.map(function(l){return l.value})))})},d}function xn(e,t){return e===t?e:dE(e)?t:e.constructor(t)}function d9(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function wE(e){return Ln(e)?il:Na(e)?Pd:sp}function Pu(e){return Object.create((Ln(e)?Sc:Na(e)?Wl:up).prototype)}function TE(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):lo.prototype.cacheResult.call(this)}function YO(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function lu(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),d=0;d<r;d++)n[d]=e[d+t];return n}function CE(e,t){if(!e)throw new Error(t)}function wo(e){CE(e!==1/0,"Cannot perform this action with an infinite size.")}function XO(e){if(pE(e)&&typeof e!="string")return e;if(Ll(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var xK=Object.prototype.toString;function QO(e){if(!e||typeof e!="object"||xK.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,n=Object.getPrototypeOf(t);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===t}function mc(e){return typeof e=="object"&&($l(e)||Array.isArray(e)||QO(e))}function fm(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function bK(e,t){return $l(e)?e.has(t):mc(e)&&lp.call(e,t)}function KO(e,t,r){return $l(e)?e.get(t,r):bK(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function ny(e){if(Array.isArray(e))return lu(e);var t={};for(var r in e)lp.call(e,r)&&(t[r]=e[r]);return t}function SK(e,t){if(!mc(e))throw new TypeError("Cannot update non-data-structure value: "+e);if($l(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!lp.call(e,t))return e;var r=ny(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function wK(e,t,r){if(!mc(e))throw new TypeError("Cannot update non-data-structure value: "+e);if($l(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(lp.call(e,t)&&r===e[t])return e;var n=ny(e);return n[t]=r,n}function hp(e,t,r,n){n||(n=r,r=void 0);var d=JO($l(e),e,XO(t),0,r,n);return d===Dr?r:d}function JO(e,t,r,n,d,S){var s=t===Dr;if(n===r.length){var g=s?d:t,i=S(g);return i===g?t:i}if(!s&&!mc(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(fm)+"]: "+t);var o=r[n],m=s?Dr:KO(t,o,Dr),c=JO(m===Dr?e:$l(m),m,r,n+1,d,S);return c===m?t:c===Dr?SK(t,o):wK(s?e?ml():{}:t,o,c)}function TK(e,t,r){return hp(e,t,Dr,function(){return r})}function EE(e,t){return TK(this,e,t)}function CK(e,t){return hp(e,t,function(){return Dr})}function kE(e){return CK(this,e)}function ZO(e,t,r,n){return hp(e,[t],r,n)}function PE(e,t,r){return arguments.length===1?e(this):ZO(this,e,t,r)}function AE(e,t,r){return hp(this,e,t,r)}function qO(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return eN(this,e)}function tN(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return eN(this,t,e)}function eN(e,t,r){for(var n=[],d=0;d<t.length;d++){var S=il(t[d]);S.size!==0&&n.push(S)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(s){for(var g=r?function(o,m){ZO(s,m,Dr,function(c){return c===Dr?o:r(c,o,m)})}:function(o,m){s.set(m,o)},i=0;i<n.length;i++)n[i].forEach(g)})}function RE(e,t,r){return IE(e,t,EK(r))}function IE(e,t,r){if(!mc(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if($l(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),d=e,S=n?Pd:il,s=n?function(i){d===e&&(d=ny(d)),d.push(i)}:function(i,o){var m=lp.call(d,o),c=m&&r?r(d[o],i,o):i;(!m||c!==d[o])&&(d===e&&(d=ny(d)),d[o]=c)},g=0;g<t.length;g++)S(t[g]).forEach(s);return d}function EK(e){function t(r,n,d){return mc(r)&&mc(n)&&kK(r,n)?IE(r,[n],t):e?e(r,n,d):n}return t}function kK(e,t){var r=lo(e),n=lo(t);return Na(r)===Na(n)&&Ln(r)===Ln(n)}function iN(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return RE(this,e)}function rN(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return RE(this,t,e)}function ME(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return hp(this,e,ml(),function(n){return IE(n,t)})}function BE(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return hp(this,e,ml(),function(n){return RE(n,t)})}function Ym(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Xm(){return this.__ownerID?this:this.__ensureOwner(new cE)}function Qm(){return this.__ensureOwner()}function OE(){return this.__altered}var cp=function(e){function t(r){return r==null?ml():xE(r)&&!Ll(r)?r:ml().withMutations(function(n){var d=e(r);wo(d.size),d.forEach(function(S,s){return n.set(s,S)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],d=arguments.length;d--;)n[d]=arguments[d];return ml().withMutations(function(S){for(var s=0;s<n.length;s+=2){if(s+1>=n.length)throw new Error("Missing value for key: "+n[s]);S.set(n[s],n[s+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,d){return this._root?this._root.get(0,void 0,n,d):d},t.prototype.set=function(n,d){return v9(this,n,d)},t.prototype.remove=function(n){return v9(this,n,Dr)},t.prototype.deleteAll=function(n){var d=bs(n);return d.size===0?this:this.withMutations(function(S){d.forEach(function(s){return S.remove(s)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ml()},t.prototype.sort=function(n){return ch(Hf(this,n))},t.prototype.sortBy=function(n,d){return ch(Hf(this,d,n))},t.prototype.map=function(n,d){var S=this;return this.withMutations(function(s){s.forEach(function(g,i){s.set(i,n.call(d,g,i,S))})})},t.prototype.__iterator=function(n,d){return new PK(this,n,d)},t.prototype.__iterate=function(n,d){var S=this,s=0;return this._root&&this._root.iterate(function(g){return s++,n(g[1],g[0],S)},d),s},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?NE(this.size,this._root,n,this.__hash):this.size===0?ml():(this.__ownerID=n,this.__altered=!1,this)},t}(il);cp.isMap=xE;var Dn=cp.prototype;Dn[FO]=!0;Dn[$m]=Dn.remove;Dn.removeAll=Dn.deleteAll;Dn.setIn=EE;Dn.removeIn=Dn.deleteIn=kE;Dn.update=PE;Dn.updateIn=AE;Dn.merge=Dn.concat=qO;Dn.mergeWith=tN;Dn.mergeDeep=iN;Dn.mergeDeepWith=rN;Dn.mergeIn=ME;Dn.mergeDeepIn=BE;Dn.withMutations=Ym;Dn.wasAltered=OE;Dn.asImmutable=Qm;Dn["@@transducer/init"]=Dn.asMutable=Xm;Dn["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};Dn["@@transducer/result"]=function(e){return e.asImmutable()};var pm=function(t,r){this.ownerID=t,this.entries=r};pm.prototype.get=function(t,r,n,d){for(var S=this.entries,s=0,g=S.length;s<g;s++)if(To(n,S[s][0]))return S[s][1];return d};pm.prototype.update=function(t,r,n,d,S,s,g){for(var i=S===Dr,o=this.entries,m=0,c=o.length;m<c&&!To(d,o[m][0]);m++);var l=m<c;if(l?o[m][1]===S:i)return this;if(Yo(g),(i||!l)&&Yo(s),!(i&&o.length===1)){if(!l&&!i&&o.length>=OK)return AK(t,o,d,S);var h=t&&t===this.ownerID,a=h?o:lu(o);return l?i?m===c-1?a.pop():a[m]=a.pop():a[m]=[d,S]:a.push([d,S]),h?(this.entries=a,this):new pm(t,a)}};var $f=function(t,r,n){this.ownerID=t,this.bitmap=r,this.nodes=n};$f.prototype.get=function(t,r,n,d){r===void 0&&(r=bo(n));var S=1<<((t===0?r:r>>>t)&Oa),s=this.bitmap;return s&S?this.nodes[nN(s&S-1)].get(t+Nn,r,n,d):d};$f.prototype.update=function(t,r,n,d,S,s,g){n===void 0&&(n=bo(d));var i=(r===0?n:n>>>r)&Oa,o=1<<i,m=this.bitmap,c=(m&o)!==0;if(!c&&S===Dr)return this;var l=nN(m&o-1),h=this.nodes,a=c?h[l]:void 0,f=LE(a,t,r+Nn,n,d,S,s,g);if(f===a)return this;if(!c&&f&&h.length>=NK)return IK(t,h,m,i,f);if(c&&!f&&h.length===2&&m9(h[l^1]))return h[l^1];if(c&&f&&h.length===1&&m9(f))return f;var p=t&&t===this.ownerID,u=c?f?m:m^o:m|o,v=c?f?sN(h,l,f,p):BK(h,l,p):MK(h,l,f,p);return p?(this.bitmap=u,this.nodes=v,this):new $f(t,u,v)};var vm=function(t,r,n){this.ownerID=t,this.count=r,this.nodes=n};vm.prototype.get=function(t,r,n,d){r===void 0&&(r=bo(n));var S=(t===0?r:r>>>t)&Oa,s=this.nodes[S];return s?s.get(t+Nn,r,n,d):d};vm.prototype.update=function(t,r,n,d,S,s,g){n===void 0&&(n=bo(d));var i=(r===0?n:n>>>r)&Oa,o=S===Dr,m=this.nodes,c=m[i];if(o&&!c)return this;var l=LE(c,t,r+Nn,n,d,S,s,g);if(l===c)return this;var h=this.count;if(!c)h++;else if(!l&&(h--,h<LK))return RK(t,m,h,i);var a=t&&t===this.ownerID,f=sN(m,i,l,a);return a?(this.count=h,this.nodes=f,this):new vm(t,h,f)};var Wf=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entries=n};Wf.prototype.get=function(t,r,n,d){for(var S=this.entries,s=0,g=S.length;s<g;s++)if(To(n,S[s][0]))return S[s][1];return d};Wf.prototype.update=function(t,r,n,d,S,s,g){n===void 0&&(n=bo(d));var i=S===Dr;if(n!==this.keyHash)return i?this:(Yo(g),Yo(s),FE(this,t,r,n,[d,S]));for(var o=this.entries,m=0,c=o.length;m<c&&!To(d,o[m][0]);m++);var l=m<c;if(l?o[m][1]===S:i)return this;if(Yo(g),(i||!l)&&Yo(s),i&&c===2)return new hh(t,this.keyHash,o[m^1]);var h=t&&t===this.ownerID,a=h?o:lu(o);return l?i?m===c-1?a.pop():a[m]=a.pop():a[m]=[d,S]:a.push([d,S]),h?(this.entries=a,this):new Wf(t,this.keyHash,a)};var hh=function(t,r,n){this.ownerID=t,this.keyHash=r,this.entry=n};hh.prototype.get=function(t,r,n,d){return To(n,this.entry[0])?this.entry[1]:d};hh.prototype.update=function(t,r,n,d,S,s,g){var i=S===Dr,o=To(d,this.entry[0]);if(o?S===this.entry[1]:i)return this;if(Yo(g),i){Yo(s);return}return o?t&&t===this.ownerID?(this.entry[1]=S,this):new hh(t,this.keyHash,[d,S]):(Yo(s),FE(this,t,r,bo(d),[d,S]))};pm.prototype.iterate=Wf.prototype.iterate=function(e,t){for(var r=this.entries,n=0,d=r.length-1;n<=d;n++)if(e(r[t?d-n:n])===!1)return!1};$f.prototype.iterate=vm.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,d=r.length-1;n<=d;n++){var S=r[t?d-n:n];if(S&&S.iterate(e,t)===!1)return!1}};hh.prototype.iterate=function(e,t){return e(this.entry)};var PK=function(e){function t(r,n,d){this._type=n,this._reverse=d,this._stack=r._root&&f9(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,d=this._stack;d;){var S=d.node,s=d.index++,g=void 0;if(S.entry){if(s===0)return nS(n,S.entry)}else if(S.entries){if(g=S.entries.length-1,s<=g)return nS(n,S.entries[this._reverse?g-s:s])}else if(g=S.nodes.length-1,s<=g){var i=S.nodes[this._reverse?g-s:s];if(i){if(i.entry)return nS(n,i.entry);d=this._stack=f9(i,d)}continue}d=this._stack=this._stack.__prev}return oo()},t}(tn);function nS(e,t){return Qn(e,t[0],t[1])}function f9(e,t){return{node:e,index:0,__prev:t}}function NE(e,t,r,n){var d=Object.create(Dn);return d.size=e,d._root=t,d.__ownerID=r,d.__hash=n,d.__altered=!1,d}var p9;function ml(){return p9||(p9=NE(0))}function v9(e,t,r){var n,d;if(e._root){var S=E2(),s=E2();if(n=LE(e._root,e.__ownerID,0,void 0,t,r,S,s),!s.value)return e;d=e.size+(S.value?r===Dr?-1:1:0)}else{if(r===Dr)return e;d=1,n=new pm(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=d,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?NE(d,n):ml()}function LE(e,t,r,n,d,S,s,g){return e?e.update(t,r,n,d,S,s,g):S===Dr?e:(Yo(g),Yo(s),new hh(t,n,[d,S]))}function m9(e){return e.constructor===hh||e.constructor===Wf}function FE(e,t,r,n,d){if(e.keyHash===n)return new Wf(t,n,[e.entry,d]);var S=(r===0?e.keyHash:e.keyHash>>>r)&Oa,s=(r===0?n:n>>>r)&Oa,g,i=S===s?[FE(e,t,r+Nn,n,d)]:(g=new hh(t,n,d),S<s?[e,g]:[g,e]);return new $f(t,1<<S|1<<s,i)}function AK(e,t,r,n){e||(e=new cE);for(var d=new hh(e,bo(r),[r,n]),S=0;S<t.length;S++){var s=t[S];d=d.update(e,0,void 0,s[0],s[1])}return d}function RK(e,t,r,n){for(var d=0,S=0,s=new Array(r),g=0,i=1,o=t.length;g<o;g++,i<<=1){var m=t[g];m!==void 0&&g!==n&&(d|=i,s[S++]=m)}return new $f(e,d,s)}function IK(e,t,r,n,d){for(var S=0,s=new Array(Vo),g=0;r!==0;g++,r>>>=1)s[g]=r&1?t[S++]:void 0;return s[n]=d,new vm(e,S+1,s)}function nN(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function sN(e,t,r,n){var d=n?e:lu(e);return d[t]=r,d}function MK(e,t,r,n){var d=e.length+1;if(n&&t+1===d)return e[t]=r,e;for(var S=new Array(d),s=0,g=0;g<d;g++)g===t?(S[g]=r,s=-1):S[g]=e[g+s];return S}function BK(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var d=new Array(n),S=0,s=0;s<n;s++)s===t&&(S=1),d[s]=e[s+S];return d}var OK=Vo/4,NK=Vo/2,LK=Vo/4,aN="@@__IMMUTABLE_LIST__@@";function oN(e){return!!(e&&e[aN])}var Sx=function(e){function t(r){var n=s1();if(r==null)return n;if(oN(r))return r;var d=e(r),S=d.size;return S===0?n:(wo(S),S>0&&S<Vo?mm(0,S,Nn,null,new sc(d.toArray())):n.withMutations(function(s){s.setSize(S),d.forEach(function(g,i){return s.set(i,g)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,d){if(n=vc(this,n),n>=0&&n<this.size){n+=this._origin;var S=lN(this,n);return S&&S.array[n&Oa]}return d},t.prototype.set=function(n,d){return FK(this,n,d)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,d){return this.splice(n,0,d)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Nn,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):s1()},t.prototype.push=function(){var n=arguments,d=this.size;return this.withMutations(function(S){zh(S,0,d+n.length);for(var s=0;s<n.length;s++)S.set(d+s,n[s])})},t.prototype.pop=function(){return zh(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(d){zh(d,-n.length);for(var S=0;S<n.length;S++)d.set(S,n[S])})},t.prototype.shift=function(){return zh(this,1)},t.prototype.concat=function(){for(var n=arguments,d=[],S=0;S<arguments.length;S++){var s=n[S],g=e(typeof s!="string"&&fE(s)?s:[s]);g.size!==0&&d.push(g)}return d.length===0?this:this.size===0&&!this.__ownerID&&d.length===1?this.constructor(d[0]):this.withMutations(function(i){d.forEach(function(o){return o.forEach(function(m){return i.push(m)})})})},t.prototype.setSize=function(n){return zh(this,0,n)},t.prototype.map=function(n,d){var S=this;return this.withMutations(function(s){for(var g=0;g<S.size;g++)s.set(g,n.call(d,s.get(g),g,S))})},t.prototype.slice=function(n,d){var S=this.size;return px(n,d,S)?this:zh(this,Wm(n,S),vx(d,S))},t.prototype.__iterator=function(n,d){var S=d?this.size:0,s=g9(this,d);return new tn(function(){var g=s();return g===zv?oo():Qn(n,d?--S:S++,g)})},t.prototype.__iterate=function(n,d){for(var S=d?this.size:0,s=g9(this,d),g;(g=s())!==zv&&n(g,d?--S:S++,this)!==!1;);return S},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?mm(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?s1():(this.__ownerID=n,this.__altered=!1,this)},t}(Pd);Sx.isList=oN;var Es=Sx.prototype;Es[aN]=!0;Es[$m]=Es.remove;Es.merge=Es.concat;Es.setIn=EE;Es.deleteIn=Es.removeIn=kE;Es.update=PE;Es.updateIn=AE;Es.mergeIn=ME;Es.mergeDeepIn=BE;Es.withMutations=Ym;Es.wasAltered=OE;Es.asImmutable=Qm;Es["@@transducer/init"]=Es.asMutable=Xm;Es["@@transducer/step"]=function(e,t){return e.push(t)};Es["@@transducer/result"]=function(e){return e.asImmutable()};var sc=function(t,r){this.array=t,this.ownerID=r};sc.prototype.removeBefore=function(t,r,n){if(n===r?1<<r:this.array.length===0)return this;var d=n>>>r&Oa;if(d>=this.array.length)return new sc([],t);var S=d===0,s;if(r>0){var g=this.array[d];if(s=g&&g.removeBefore(t,r-Nn,n),s===g&&S)return this}if(S&&!s)return this;var i=Vf(this,t);if(!S)for(var o=0;o<d;o++)i.array[o]=void 0;return s&&(i.array[d]=s),i};sc.prototype.removeAfter=function(t,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var d=n-1>>>r&Oa;if(d>=this.array.length)return this;var S;if(r>0){var s=this.array[d];if(S=s&&s.removeAfter(t,r-Nn,n),S===s&&d===this.array.length-1)return this}var g=Vf(this,t);return g.array.splice(d+1),S&&(g.array[d]=S),g};var zv={};function g9(e,t){var r=e._origin,n=e._capacity,d=gm(n),S=e._tail;return s(e._root,e._level,0);function s(o,m,c){return m===0?g(o,c):i(o,m,c)}function g(o,m){var c=m===d?S&&S.array:o&&o.array,l=m>r?0:r-m,h=n-m;return h>Vo&&(h=Vo),function(){if(l===h)return zv;var a=t?--h:l++;return c&&c[a]}}function i(o,m,c){var l,h=o&&o.array,a=c>r?0:r-c>>m,f=(n-c>>m)+1;return f>Vo&&(f=Vo),function(){for(;;){if(l){var p=l();if(p!==zv)return p;l=null}if(a===f)return zv;var u=t?--f:a++;l=s(h&&h[u],m-Nn,c+(u<<m))}}}}function mm(e,t,r,n,d,S,s){var g=Object.create(Es);return g.size=t-e,g._origin=e,g._capacity=t,g._level=r,g._root=n,g._tail=d,g.__ownerID=S,g.__hash=s,g.__altered=!1,g}var y9;function s1(){return y9||(y9=mm(0,0,Nn))}function FK(e,t,r){if(t=vc(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(s){t<0?zh(s,t).set(0,r):zh(s,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,d=e._root,S=E2();return t>=gm(e._capacity)?n=M2(n,e.__ownerID,0,t,r,S):d=M2(d,e.__ownerID,e._level,t,r,S),S.value?e.__ownerID?(e._root=d,e._tail=n,e.__hash=void 0,e.__altered=!0,e):mm(e._origin,e._capacity,e._level,d,n):e}function M2(e,t,r,n,d,S){var s=n>>>r&Oa,g=e&&s<e.array.length;if(!g&&d===void 0)return e;var i;if(r>0){var o=e&&e.array[s],m=M2(o,t,r-Nn,n,d,S);return m===o?e:(i=Vf(e,t),i.array[s]=m,i)}return g&&e.array[s]===d?e:(S&&Yo(S),i=Vf(e,t),d===void 0&&s===i.array.length-1?i.array.pop():i.array[s]=d,i)}function Vf(e,t){return t&&e&&t===e.ownerID?e:new sc(e?e.array.slice():[],t)}function lN(e,t){if(t>=gm(e._capacity))return e._tail;if(t<1<<e._level+Nn){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Oa],n-=Nn;return r}}function zh(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new cE,d=e._origin,S=e._capacity,s=d+t,g=r===void 0?S:r<0?S+r:d+r;if(s===d&&g===S)return e;if(s>=g)return e.clear();for(var i=e._level,o=e._root,m=0;s+m<0;)o=new sc(o&&o.array.length?[void 0,o]:[],n),i+=Nn,m+=1<<i;m&&(s+=m,d+=m,g+=m,S+=m);for(var c=gm(S),l=gm(g);l>=1<<i+Nn;)o=new sc(o&&o.array.length?[o]:[],n),i+=Nn;var h=e._tail,a=l<c?lN(e,g-1):l>c?new sc([],n):h;if(h&&l>c&&s<S&&h.array.length){o=Vf(o,n);for(var f=o,p=i;p>Nn;p-=Nn){var u=c>>>p&Oa;f=f.array[u]=Vf(f.array[u],n)}f.array[c>>>Nn&Oa]=h}if(g<S&&(a=a&&a.removeAfter(n,0,g)),s>=l)s-=l,g-=l,i=Nn,o=null,a=a&&a.removeBefore(n,0,s);else if(s>d||l<c){for(m=0;o;){var v=s>>>i&Oa;if(v!==l>>>i&Oa)break;v&&(m+=(1<<i)*v),i-=Nn,o=o.array[v]}o&&s>d&&(o=o.removeBefore(n,i,s-m)),o&&l<c&&(o=o.removeAfter(n,i,l-m)),m&&(s-=m,g-=m)}return e.__ownerID?(e.size=g-s,e._origin=s,e._capacity=g,e._level=i,e._root=o,e._tail=a,e.__hash=void 0,e.__altered=!0,e):mm(s,g,i,o,a)}function gm(e){return e<Vo?0:e-1>>>Nn<<Nn}var ch=function(e){function t(r){return r==null?xv():DO(r)?r:xv().withMutations(function(n){var d=il(r);wo(d.size),d.forEach(function(S,s){return n.set(s,S)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,d){var S=this._map.get(n);return S!==void 0?this._list.get(S)[1]:d},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):xv()},t.prototype.set=function(n,d){return b9(this,n,d)},t.prototype.remove=function(n){return b9(this,n,Dr)},t.prototype.__iterate=function(n,d){var S=this;return this._list.__iterate(function(s){return s&&n(s[1],s[0],S)},d)},t.prototype.__iterator=function(n,d){return this._list.fromEntrySeq().__iterator(n,d)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var d=this._map.__ensureOwner(n),S=this._list.__ensureOwner(n);return n?DE(d,S,n,this.__hash):this.size===0?xv():(this.__ownerID=n,this.__altered=!1,this._map=d,this._list=S,this)},t}(cp);ch.isOrderedMap=DO;ch.prototype[op]=!0;ch.prototype[$m]=ch.prototype.remove;function DE(e,t,r,n){var d=Object.create(ch.prototype);return d.size=e?e.size:0,d._map=e,d._list=t,d.__ownerID=r,d.__hash=n,d.__altered=!1,d}var x9;function xv(){return x9||(x9=DE(ml(),s1()))}function b9(e,t,r){var n=e._map,d=e._list,S=n.get(t),s=S!==void 0,g,i;if(r===Dr){if(!s)return e;d.size>=Vo&&d.size>=n.size*2?(i=d.filter(function(o,m){return o!==void 0&&S!==m}),g=i.toKeyedSeq().map(function(o){return o[0]}).flip().toMap(),e.__ownerID&&(g.__ownerID=i.__ownerID=e.__ownerID)):(g=n.remove(t),i=S===d.size-1?d.pop():d.set(S,void 0))}else if(s){if(r===d.get(S)[1])return e;g=n,i=d.set(S,[t,r])}else g=n.set(t,d.size),i=d.set(d.size,[t,r]);return e.__ownerID?(e.size=g.size,e._map=g,e._list=i,e.__hash=void 0,e.__altered=!0,e):DE(g,i)}var uN="@@__IMMUTABLE_STACK__@@";function B2(e){return!!(e&&e[uN])}var _E=function(e){function t(r){return r==null?Yg():B2(r)?r:Yg().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,d){var S=this._head;for(n=vc(this,n);S&&n--;)S=S.next;return S?S.value:d},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var d=this.size+arguments.length,S=this._head,s=arguments.length-1;s>=0;s--)S={value:n[s],next:S};return this.__ownerID?(this.size=d,this._head=S,this.__hash=void 0,this.__altered=!0,this):bv(d,S)},t.prototype.pushAll=function(n){if(n=e(n),n.size===0)return this;if(this.size===0&&B2(n))return n;wo(n.size);var d=this.size,S=this._head;return n.__iterate(function(s){d++,S={value:s,next:S}},!0),this.__ownerID?(this.size=d,this._head=S,this.__hash=void 0,this.__altered=!0,this):bv(d,S)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yg()},t.prototype.slice=function(n,d){if(px(n,d,this.size))return this;var S=Wm(n,this.size),s=vx(d,this.size);if(s!==this.size)return e.prototype.slice.call(this,n,d);for(var g=this.size-S,i=this._head;S--;)i=i.next;return this.__ownerID?(this.size=g,this._head=i,this.__hash=void 0,this.__altered=!0,this):bv(g,i)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?bv(this.size,this._head,n,this.__hash):this.size===0?Yg():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,d){var S=this;if(d)return new Cd(this.toArray()).__iterate(function(i,o){return n(i,o,S)},d);for(var s=0,g=this._head;g&&n(g.value,s++,this)!==!1;)g=g.next;return s},t.prototype.__iterator=function(n,d){if(d)return new Cd(this.toArray()).__iterator(n,d);var S=0,s=this._head;return new tn(function(){if(s){var g=s.value;return s=s.next,Qn(n,S++,g)}return oo()})},t}(Pd);_E.isStack=B2;var Fa=_E.prototype;Fa[uN]=!0;Fa.shift=Fa.pop;Fa.unshift=Fa.push;Fa.unshiftAll=Fa.pushAll;Fa.withMutations=Ym;Fa.wasAltered=OE;Fa.asImmutable=Qm;Fa["@@transducer/init"]=Fa.asMutable=Xm;Fa["@@transducer/step"]=function(e,t){return e.unshift(t)};Fa["@@transducer/result"]=function(e){return e.asImmutable()};function bv(e,t,r,n){var d=Object.create(Fa);return d.size=e,d._head=t,d.__ownerID=r,d.__hash=n,d.__altered=!1,d}var S9;function Yg(){return S9||(S9=bv(0))}var hN="@@__IMMUTABLE_SET__@@";function jE(e){return!!(e&&e[hN])}function cN(e){return jE(e)&&Ll(e)}function dN(e,t){if(e===t)return!0;if(!ao(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||Ln(e)!==Ln(t)||Na(e)!==Na(t)||Ll(e)!==Ll(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!mx(e);if(Ll(e)){var n=e.entries();return t.every(function(i,o){var m=n.next().value;return m&&To(m[1],i)&&(r||To(m[0],o))})&&n.next().done}var d=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{d=!0;var S=e;e=t,t=S}var s=!0,g=t.__iterate(function(i,o){if(r?!e.has(i):d?!To(i,e.get(o,Dr)):!To(e.get(o,Dr),i))return s=!1,!1});return s&&e.size===g}function Ad(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function sy(e){if(!e||typeof e!="object")return e;if(!ao(e)){if(!mc(e))return e;e=lo(e)}if(Ln(e)){var t={};return e.__iterate(function(n,d){t[d]=sy(n)}),t}var r=[];return e.__iterate(function(n){r.push(sy(n))}),r}var wx=function(e){function t(r){return r==null?Sv():jE(r)&&!Ll(r)?r:Sv().withMutations(function(n){var d=e(r);wo(d.size),d.forEach(function(S){return n.add(S)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(il(n).keySeq())},t.intersect=function(n){return n=bs(n).toArray(),n.length?ia.intersect.apply(t(n.pop()),n):Sv()},t.union=function(n){return n=bs(n).toArray(),n.length?ia.union.apply(t(n.pop()),n):Sv()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return Xg(this,this._map.set(n,n))},t.prototype.remove=function(n){return Xg(this,this._map.remove(n))},t.prototype.clear=function(){return Xg(this,this._map.clear())},t.prototype.map=function(n,d){var S=this,s=!1,g=Xg(this,this._map.mapEntries(function(i){var o=i[1],m=n.call(d,o,o,S);return m!==o&&(s=!0),[m,m]},d));return s?g:this},t.prototype.union=function(){for(var n=[],d=arguments.length;d--;)n[d]=arguments[d];return n=n.filter(function(S){return S.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(S){for(var s=0;s<n.length;s++)typeof n[s]=="string"?S.add(n[s]):e(n[s]).forEach(function(g){return S.add(g)})})},t.prototype.intersect=function(){for(var n=[],d=arguments.length;d--;)n[d]=arguments[d];if(n.length===0)return this;n=n.map(function(s){return e(s)});var S=[];return this.forEach(function(s){n.every(function(g){return g.includes(s)})||S.push(s)}),this.withMutations(function(s){S.forEach(function(g){s.remove(g)})})},t.prototype.subtract=function(){for(var n=[],d=arguments.length;d--;)n[d]=arguments[d];if(n.length===0)return this;n=n.map(function(s){return e(s)});var S=[];return this.forEach(function(s){n.some(function(g){return g.includes(s)})&&S.push(s)}),this.withMutations(function(s){S.forEach(function(g){s.remove(g)})})},t.prototype.sort=function(n){return ym(Hf(this,n))},t.prototype.sortBy=function(n,d){return ym(Hf(this,d,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,d){var S=this;return this._map.__iterate(function(s){return n(s,s,S)},d)},t.prototype.__iterator=function(n,d){return this._map.__iterator(n,d)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var d=this._map.__ensureOwner(n);return n?this.__make(d,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=d,this)},t}(sp);wx.isSet=jE;var ia=wx.prototype;ia[hN]=!0;ia[$m]=ia.remove;ia.merge=ia.concat=ia.union;ia.withMutations=Ym;ia.asImmutable=Qm;ia["@@transducer/init"]=ia.asMutable=Xm;ia["@@transducer/step"]=function(e,t){return e.add(t)};ia["@@transducer/result"]=function(e){return e.asImmutable()};ia.__empty=Sv;ia.__make=fN;function Xg(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function fN(e,t){var r=Object.create(ia);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var w9;function Sv(){return w9||(w9=fN(ml()))}var DK=function(e){function t(r,n,d){if(!(this instanceof t))return new t(r,n,d);if(CE(d!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),d=d===void 0?1:Math.abs(d),n<r&&(d=-d),this._start=r,this._end=n,this._step=d,this.size=Math.max(0,Math.ceil((n-r)/d-1)+1),this.size===0){if(sS)return sS;sS=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,d){return this.has(n)?this._start+vc(this,n)*this._step:d},t.prototype.includes=function(n){var d=(n-this._start)/this._step;return d>=0&&d<this.size&&d===Math.floor(d)},t.prototype.slice=function(n,d){return px(n,d,this.size)?this:(n=Wm(n,this.size),d=vx(d,this.size),d<=n?new t(0,0):new t(this.get(n,this._end),this.get(d,this._end),this._step))},t.prototype.indexOf=function(n){var d=n-this._start;if(d%this._step===0){var S=d/this._step;if(S>=0&&S<this.size)return S}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,d){for(var S=this.size,s=this._step,g=d?this._start+(S-1)*s:this._start,i=0;i!==S&&n(g,d?S-++i:i++,this)!==!1;)g+=d?-s:s;return i},t.prototype.__iterator=function(n,d){var S=this.size,s=this._step,g=d?this._start+(S-1)*s:this._start,i=0;return new tn(function(){if(i===S)return oo();var o=g;return g+=d?-s:s,Qn(n,d?S-++i:i++,o)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:dN(this,n)},t}(Wl),sS;function pN(e,t,r){for(var n=XO(t),d=0;d!==n.length;)if(e=KO(e,n[d++],Dr),e===Dr)return r;return e}function vN(e,t){return pN(this,e,t)}function _K(e,t){return pN(e,t,Dr)!==Dr}function jK(e){return _K(this,e)}function mN(){wo(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}bs.isIterable=ao;bs.isKeyed=Ln;bs.isIndexed=Na;bs.isAssociative=mx;bs.isOrdered=Ll;bs.Iterator=tn;Ad(bs,{toArray:function(){wo(this.size);var t=new Array(this.size||0),r=Ln(this),n=0;return this.__iterate(function(d,S){t[n++]=r?[S,d]:d}),t},toIndexedSeq:function(){return new jO(this)},toJS:function(){return sy(this)},toKeyedSeq:function(){return new bx(this,!0)},toMap:function(){return cp(this.toKeyedSeq())},toObject:mN,toOrderedMap:function(){return ch(this.toKeyedSeq())},toOrderedSet:function(){return ym(Ln(this)?this.valueSeq():this)},toSet:function(){return wx(Ln(this)?this.valueSeq():this)},toSetSeq:function(){return new zO(this)},toSeq:function(){return Na(this)?this.toIndexedSeq():Ln(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return _E(Ln(this)?this.valueSeq():this)},toList:function(){return Sx(Ln(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return xn(this,mK(this,t))},includes:function(t){return this.some(function(r){return To(r,t)})},entries:function(){return this.__iterator(Jo)},every:function(t,r){wo(this.size);var n=!0;return this.__iterate(function(d,S,s){if(!t.call(r,d,S,s))return n=!1,!1}),n},filter:function(t,r){return xn(this,$O(this,t,r,!0))},partition:function(t,r){return pK(this,t,r)},find:function(t,r,n){var d=this.findEntry(t,r);return d?d[1]:n},forEach:function(t,r){return wo(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){wo(this.size),t=t!==void 0?""+t:",";var r="",n=!0;return this.__iterate(function(d){n?n=!1:r+=t,r+=d!=null?d.toString():""}),r},keys:function(){return this.__iterator(Vm)},map:function(t,r){return xn(this,HO(this,t,r))},reduce:function(t,r,n){return T9(this,t,r,n,arguments.length<2,!1)},reduceRight:function(t,r,n){return T9(this,t,r,n,arguments.length<2,!0)},reverse:function(){return xn(this,bE(this,!0))},slice:function(t,r){return xn(this,SE(this,t,r,!0))},some:function(t,r){wo(this.size);var n=!1;return this.__iterate(function(d,S,s){if(t.call(r,d,S,s))return n=!0,!1}),n},sort:function(t){return xn(this,Hf(this,t))},values:function(){return this.__iterator(_l)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return Gf(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return dK(this,t,r)},equals:function(t){return dN(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Cd(t._cache);var r=t.toSeq().map(UK).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(aS(t),r)},findEntry:function(t,r,n){var d=n;return this.__iterate(function(S,s,g){if(t.call(r,S,s,g))return d=[s,S],!1}),d},findKey:function(t,r){var n=this.findEntry(t,r);return n&&n[0]},findLast:function(t,r,n){return this.toKeyedSeq().reverse().find(t,r,n)},findLastEntry:function(t,r,n){return this.toKeyedSeq().reverse().findEntry(t,r,n)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(kO,null,t)},flatMap:function(t,r){return xn(this,gK(this,t,r))},flatten:function(t){return xn(this,VO(this,t,!0))},fromEntrySeq:function(){return new UO(this)},get:function(t,r){return this.find(function(n,d){return To(d,t)},void 0,r)},getIn:vN,groupBy:function(t,r){return fK(this,t,r)},has:function(t){return this.get(t,Dr)!==Dr},hasIn:jK,isSubset:function(t){return t=typeof t.includes=="function"?t:bs(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:bs(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return To(r,t)})},keySeq:function(){return this.toSeq().map(zK).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Wg(this,t)},maxBy:function(t,r){return Wg(this,r,t)},min:function(t){return Wg(this,t?C9(t):k9)},minBy:function(t,r){return Wg(this,r?C9(r):k9,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return xn(this,WO(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(aS(t),r)},sortBy:function(t,r){return xn(this,Hf(this,r,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return xn(this,vK(this,t,r))},takeUntil:function(t,r){return this.takeWhile(aS(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=GK(this))}});var Ea=bs.prototype;Ea[RO]=!0;Ea[gx]=Ea.values;Ea.toJSON=Ea.toArray;Ea.__toStringMapper=fm;Ea.inspect=Ea.toSource=function(){return this.toString()};Ea.chain=Ea.flatMap;Ea.contains=Ea.includes;Ad(il,{flip:function(){return xn(this,GO(this))},mapEntries:function(t,r){var n=this,d=0;return xn(this,this.toSeq().map(function(S,s){return t.call(r,[s,S],d++,n)}).fromEntrySeq())},mapKeys:function(t,r){var n=this;return xn(this,this.toSeq().flip().map(function(d,S){return t.call(r,d,S,n)}).flip())}});var Km=il.prototype;Km[IO]=!0;Km[gx]=Ea.entries;Km.toJSON=mN;Km.__toStringMapper=function(e,t){return fm(t)+": "+fm(e)};Ad(Pd,{toKeyedSeq:function(){return new bx(this,!1)},filter:function(t,r){return xn(this,$O(this,t,r,!1))},findIndex:function(t,r){var n=this.findEntry(t,r);return n?n[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return xn(this,bE(this,!1))},slice:function(t,r){return xn(this,SE(this,t,r,!1))},splice:function(t,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;t=Wm(t,t<0?this.count():this.size);var d=this.slice(0,t);return xn(this,n===1?d:d.concat(lu(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var n=this.findLastEntry(t,r);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return xn(this,VO(this,t,!1))},get:function(t,r){return t=vc(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(n,d){return d===t},void 0,r)},has:function(t){return t=vc(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return xn(this,yK(this,t))},interleave:function(){var t=[this].concat(lu(arguments)),r=Vg(this.toSeq(),Wl.of,t),n=r.flatten(!0);return r.size&&(n.size=r.size*t.length),xn(this,n)},keySeq:function(){return DK(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return xn(this,WO(this,t,r,!1))},zip:function(){var t=[this].concat(lu(arguments));return xn(this,Vg(this,E9,t))},zipAll:function(){var t=[this].concat(lu(arguments));return xn(this,Vg(this,E9,t,!0))},zipWith:function(t){var r=lu(arguments);return r[0]=this,xn(this,Vg(this,t,r))}});var dp=Pd.prototype;dp[MO]=!0;dp[op]=!0;Ad(sp,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Yf=sp.prototype;Yf.has=Ea.includes;Yf.contains=Yf.includes;Yf.keys=Yf.values;Ad(Sc,Km);Ad(Wl,dp);Ad(up,Yf);function T9(e,t,r,n,d,S){return wo(e.size),e.__iterate(function(s,g,i){d?(d=!1,r=s):r=t.call(n,r,s,g,i)},S),r}function zK(e,t){return t}function UK(e,t){return[t,e]}function aS(e){return function(){return!e.apply(this,arguments)}}function C9(e){return function(){return-e.apply(this,arguments)}}function E9(){return lu(arguments)}function k9(e,t){return e<t?1:e>t?-1:0}function GK(e){if(e.size===1/0)return 0;var t=Ll(e),r=Ln(e),n=t?1:0,d=e.__iterate(r?t?function(S,s){n=31*n+P9(bo(S),bo(s))|0}:function(S,s){n=n+P9(bo(S),bo(s))|0}:t?function(S){n=31*n+bo(S)|0}:function(S){n=n+bo(S)|0});return HK(d,n)}function HK(e,t){return t=Wp(t,3432918353),t=Wp(t<<15|t>>>-15,461845907),t=Wp(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Wp(t^t>>>16,2246822507),t=Wp(t^t>>>13,3266489909),t=xx(t^t>>>16),t}function P9(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var ym=function(e){function t(r){return r==null?O2():cN(r)?r:O2().withMutations(function(n){var d=sp(r);wo(d.size),d.forEach(function(S){return n.add(S)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(il(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(wx);ym.isOrderedSet=cN;var Rd=ym.prototype;Rd[op]=!0;Rd.zip=dp.zip;Rd.zipWith=dp.zipWith;Rd.zipAll=dp.zipAll;Rd.__empty=O2;Rd.__make=gN;function gN(e,t){var r=Object.create(Rd);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var A9;function O2(){return A9||(A9=gN(xv()))}function $K(e){if(ap(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if($l(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Ks=function(t,r){var n;$K(t);var d=function(g){var i=this;if(g instanceof d)return g;if(!(this instanceof d))return new d(g);if(!n){n=!0;var o=Object.keys(t),m=S._indices={};S._name=r,S._keys=o,S._defaultValues=t;for(var c=0;c<o.length;c++){var l=o[c];m[l]=c,S[l]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+UE(this)+' with property "'+l+'" since that property name is part of the Record API.'):WK(S,l)}}return this.__ownerID=void 0,this._values=Sx().withMutations(function(h){h.setSize(i._keys.length),il(g).forEach(function(a,f){h.set(i._indices[f],a===i._defaultValues[f]?void 0:a)})}),this},S=d.prototype=Object.create(Rn);return S.constructor=d,r&&(d.displayName=r),d};Ks.prototype.toString=function(){for(var t=UE(this)+" { ",r=this._keys,n,d=0,S=r.length;d!==S;d++)n=r[d],t+=(d?", ":"")+n+": "+fm(this.get(n));return t+" }"};Ks.prototype.equals=function(t){return this===t||ap(t)&&Xf(this).equals(Xf(t))};Ks.prototype.hashCode=function(){return Xf(this).hashCode()};Ks.prototype.has=function(t){return this._indices.hasOwnProperty(t)};Ks.prototype.get=function(t,r){if(!this.has(t))return r;var n=this._indices[t],d=this._values.get(n);return d===void 0?this._defaultValues[t]:d};Ks.prototype.set=function(t,r){if(this.has(t)){var n=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(n!==this._values&&!this.__ownerID)return zE(this,n)}return this};Ks.prototype.remove=function(t){return this.set(t)};Ks.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:zE(this,t)};Ks.prototype.wasAltered=function(){return this._values.wasAltered()};Ks.prototype.toSeq=function(){return Xf(this)};Ks.prototype.toJS=function(){return sy(this)};Ks.prototype.entries=function(){return this.__iterator(Jo)};Ks.prototype.__iterator=function(t,r){return Xf(this).__iterator(t,r)};Ks.prototype.__iterate=function(t,r){return Xf(this).__iterate(t,r)};Ks.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?zE(this,r,t):(this.__ownerID=t,this._values=r,this)};Ks.isRecord=ap;Ks.getDescriptiveName=UE;var Rn=Ks.prototype;Rn[OO]=!0;Rn[$m]=Rn.remove;Rn.deleteIn=Rn.removeIn=kE;Rn.getIn=vN;Rn.hasIn=Ea.hasIn;Rn.merge=qO;Rn.mergeWith=tN;Rn.mergeIn=ME;Rn.mergeDeep=iN;Rn.mergeDeepWith=rN;Rn.mergeDeepIn=BE;Rn.setIn=EE;Rn.update=PE;Rn.updateIn=AE;Rn.withMutations=Ym;Rn.asMutable=Xm;Rn.asImmutable=Qm;Rn[gx]=Rn.entries;Rn.toJSON=Rn.toObject=Ea.toObject;Rn.inspect=Rn.toSource=function(){return this.toString()};function zE(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function UE(e){return e.constructor.displayName||e.constructor.name||"Record"}function Xf(e){return gE(e._keys.map(function(t){return[t,e.get(t)]}))}function WK(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){CE(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch(r){}}function VK(e,t){return yN([],t||YK,e,"",t&&t.length>2?[]:void 0,{"":e})}function yN(e,t,r,n,d,S){if(typeof r!="string"&&!$l(r)&&(pE(r)||fE(r)||QO(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),d&&n!==""&&d.push(n);var s=t.call(S,n,lo(r).map(function(g,i){return yN(e,t,g,i,d,r)}),d&&d.slice());return e.pop(),d&&d.pop(),s}return r}function YK(e,t){return Na(t)?t.toList():Ln(t)?t.toMap():t.toSet()}const XK=VK({});function QK(e=XK,t){switch(t.type){default:return e}}const KK=o$({hosts:QK});function*JK(){yield gQ([])}const R9=ZQ(),ZK=window.__REDUX_DEVTOOLS_EXTENSION__||(()=>e=>e);function qK(e){const t=[R9,bX()],r=[l$(...t),ZK()],n=jM(KK,e,zM(...r));return n.runSaga=R9.run(JK),n}var zi={},N2={exports:{}};(function(e,t){(function(r,n){var d="1.0.37",S="",s="?",g="function",i="undefined",o="object",m="string",c="major",l="model",h="name",a="type",f="vendor",p="version",u="architecture",v="console",y="mobile",x="tablet",b="smarttv",w="wearable",C="embedded",E=500,T="Amazon",k="Apple",A="ASUS",I="BlackBerry",B="Browser",M="Chrome",O="Edge",P="Firefox",L="Google",_="Huawei",G="LG",$="Microsoft",W="Motorola",Y="Opera",z="Samsung",F="Sharp",N="Sony",j="Xiaomi",U="Zebra",V="Facebook",q="Chromium OS",ot="Mac OS",Q=function(ve,Fe){var Ze={};for(var ei in ve)Fe[ei]&&Fe[ei].length%2===0?Ze[ei]=Fe[ei].concat(ve[ei]):Ze[ei]=ve[ei];return Ze},rt=function(ve){for(var Fe={},Ze=0;Ze<ve.length;Ze++)Fe[ve[Ze].toUpperCase()]=ve[Ze];return Fe},Bt=function(ve,Fe){return typeof ve===m?K(Fe).indexOf(K(ve))!==-1:!1},K=function(ve){return ve.toLowerCase()},Mt=function(ve){return typeof ve===m?ve.replace(/[^\d\.]/g,S).split(".")[0]:n},Ft=function(ve,Fe){if(typeof ve===m)return ve=ve.replace(/^\s\s*/,S),typeof Fe===i?ve:ve.substring(0,E)},dt=function(ve,Fe){for(var Ze=0,ei,Ci,xt,et,tt,Nt;Ze<Fe.length&&!tt;){var ie=Fe[Ze],Ce=Fe[Ze+1];for(ei=Ci=0;ei<ie.length&&!tt&&ie[ei];)if(tt=ie[ei++].exec(ve),tt)for(xt=0;xt<Ce.length;xt++)Nt=tt[++Ci],et=Ce[xt],typeof et===o&&et.length>0?et.length===2?typeof et[1]==g?this[et[0]]=et[1].call(this,Nt):this[et[0]]=et[1]:et.length===3?typeof et[1]===g&&!(et[1].exec&&et[1].test)?this[et[0]]=Nt?et[1].call(this,Nt,et[2]):n:this[et[0]]=Nt?Nt.replace(et[1],et[2]):n:et.length===4&&(this[et[0]]=Nt?et[3].call(this,Nt.replace(et[1],et[2])):n):this[et]=Nt||n;Ze+=2}},yt=function(ve,Fe){for(var Ze in Fe)if(typeof Fe[Ze]===o&&Fe[Ze].length>0){for(var ei=0;ei<Fe[Ze].length;ei++)if(Bt(Fe[Ze][ei],ve))return Ze===s?n:Ze}else if(Bt(Fe[Ze],ve))return Ze===s?n:Ze;return ve},At={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ot={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},le={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,p],[/opios[\/ ]+([\w\.]+)/i],[p,[h,Y+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[h,Y]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[h,"UC"+B]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[h,"Smart Lenovo "+B]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+B],p],[/\bfocus\/([\w\.]+)/i],[p,[h,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[h,Y+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[h,Y+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[h,"MIUI "+B]],[/fxios\/([-\w\.]+)/i],[p,[h,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360 "+B]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1 "+B],p],[/samsungbrowser\/([\w\.]+)/i],[p,[h,z+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],p],[/metasr[\/ ]?([\d\.]+)/i],[p,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,p],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,V],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[h,M+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,M+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[h,"Android "+B]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[p,yt,At]],[/(webkit|khtml)\/([\w\.]+)/i],[h,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[h,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[h,p],[/(cobalt)\/([\w\.]+)/i],[h,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[u,"amd64"]],[/(ia32(?=;))/i],[[u,K]],[/((?:i[346]|x)86)[;\)]/i],[[u,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[u,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[u,"armhf"]],[/windows (ce|mobile); ppc;/i],[[u,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[u,/ower/,S,K]],[/(sun4\w)[;\)]/i],[[u,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[u,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[f,z],[a,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[f,z],[a,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[f,k],[a,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[f,k],[a,x]],[/(macintosh);/i],[l,[f,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[f,F],[a,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[f,_],[a,x]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[f,_],[a,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[f,j],[a,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[f,j],[a,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[f,"OPPO"],[a,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[f,"Vivo"],[a,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[l,[f,"Realme"],[a,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[f,W],[a,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[f,W],[a,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[f,G],[a,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[f,G],[a,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[f,"Lenovo"],[a,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[f,"Nokia"],[a,y]],[/(pixel c)\b/i],[l,[f,L],[a,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[f,L],[a,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[f,N],[a,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[f,N],[a,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[f,"OnePlus"],[a,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[f,T],[a,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[f,T],[a,y]],[/(playbook);[-\w\),; ]+(rim)/i],[l,f,[a,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[f,I],[a,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[f,A],[a,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[f,A],[a,y]],[/(nexus 9)/i],[l,[f,"HTC"],[a,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[l,/_/g," "],[a,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[f,"Acer"],[a,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[f,"Meizu"],[a,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[l,[f,"Ulefone"],[a,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,l,[a,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,l,[a,x]],[/(surface duo)/i],[l,[f,$],[a,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[f,"Fairphone"],[a,y]],[/(u304aa)/i],[l,[f,"AT&T"],[a,y]],[/\bsie-(\w*)/i],[l,[f,"Siemens"],[a,y]],[/\b(rct\w+) b/i],[l,[f,"RCA"],[a,x]],[/\b(venue[\d ]{2,7}) b/i],[l,[f,"Dell"],[a,x]],[/\b(q(?:mv|ta)\w+) b/i],[l,[f,"Verizon"],[a,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[f,"Barnes & Noble"],[a,x]],[/\b(tm\d{3}\w+) b/i],[l,[f,"NuVision"],[a,x]],[/\b(k88) b/i],[l,[f,"ZTE"],[a,x]],[/\b(nx\d{3}j) b/i],[l,[f,"ZTE"],[a,y]],[/\b(gen\d{3}) b.+49h/i],[l,[f,"Swiss"],[a,y]],[/\b(zur\d{3}) b/i],[l,[f,"Swiss"],[a,x]],[/\b((zeki)?tb.*\b) b/i],[l,[f,"Zeki"],[a,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],l,[a,x]],[/\b(ns-?\w{0,9}) b/i],[l,[f,"Insignia"],[a,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[f,"NextBook"],[a,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],l,[a,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],l,[a,y]],[/\b(ph-1) /i],[l,[f,"Essential"],[a,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[f,"Envizen"],[a,x]],[/\b(trio[-\w\. ]+) b/i],[l,[f,"MachSpeed"],[a,x]],[/\btu_(1491) b/i],[l,[f,"Rotor"],[a,x]],[/(shield[\w ]+) b/i],[l,[f,"Nvidia"],[a,x]],[/(sprint) (\w+)/i],[f,l,[a,y]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[f,$],[a,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[f,U],[a,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[f,U],[a,y]],[/smart-tv.+(samsung)/i],[f,[a,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[f,z],[a,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,G],[a,b]],[/(apple) ?tv/i],[f,[l,k+" TV"],[a,b]],[/crkey/i],[[l,M+"cast"],[f,L],[a,b]],[/droid.+aft(\w+)( bui|\))/i],[l,[f,T],[a,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[f,F],[a,b]],[/(bravia[\w ]+)( bui|\))/i],[l,[f,N],[a,b]],[/(mitv-\w{5}) bui/i],[l,[f,j],[a,b]],[/Hbbtv.*(technisat) (.*);/i],[f,l,[a,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,Ft],[l,Ft],[a,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[a,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,l,[a,v]],[/droid.+; (shield) bui/i],[l,[f,"Nvidia"],[a,v]],[/(playstation [345portablevi]+)/i],[l,[f,N],[a,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[f,$],[a,v]],[/((pebble))app/i],[f,l,[a,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[f,k],[a,w]],[/droid.+; (glass) \d/i],[l,[f,L],[a,w]],[/droid.+; (wt63?0{2,3})\)/i],[l,[f,U],[a,w]],[/(quest( 2| pro)?)/i],[l,[f,V],[a,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[a,C]],[/(aeobc)\b/i],[l,[f,T],[a,C]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[l,[a,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[a,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[a,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[a,y]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[h,O+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,p],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[p,yt,Ot]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,yt,Ot],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,ot],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,p],[/\(bb(10);/i],[p,[h,I]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[h,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[h,M+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,q],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,p],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,p]]},_t=function(ve,Fe){if(typeof ve===o&&(Fe=ve,ve=n),!(this instanceof _t))return new _t(ve,Fe).getResult();var Ze=typeof r!==i&&r.navigator?r.navigator:n,ei=ve||(Ze&&Ze.userAgent?Ze.userAgent:S),Ci=Ze&&Ze.userAgentData?Ze.userAgentData:n,xt=Fe?Q(le,Fe):le,et=Ze&&Ze.userAgent==ei;return this.getBrowser=function(){var tt={};return tt[h]=n,tt[p]=n,dt.call(tt,ei,xt.browser),tt[c]=Mt(tt[p]),et&&Ze&&Ze.brave&&typeof Ze.brave.isBrave==g&&(tt[h]="Brave"),tt},this.getCPU=function(){var tt={};return tt[u]=n,dt.call(tt,ei,xt.cpu),tt},this.getDevice=function(){var tt={};return tt[f]=n,tt[l]=n,tt[a]=n,dt.call(tt,ei,xt.device),et&&!tt[a]&&Ci&&Ci.mobile&&(tt[a]=y),et&&tt[l]=="Macintosh"&&Ze&&typeof Ze.standalone!==i&&Ze.maxTouchPoints&&Ze.maxTouchPoints>2&&(tt[l]="iPad",tt[a]=x),tt},this.getEngine=function(){var tt={};return tt[h]=n,tt[p]=n,dt.call(tt,ei,xt.engine),tt},this.getOS=function(){var tt={};return tt[h]=n,tt[p]=n,dt.call(tt,ei,xt.os),et&&!tt[h]&&Ci&&Ci.platform!="Unknown"&&(tt[h]=Ci.platform.replace(/chrome os/i,q).replace(/macos/i,ot)),tt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ei},this.setUA=function(tt){return ei=typeof tt===m&&tt.length>E?Ft(tt,E):tt,this},this.setUA(ei),this};_t.VERSION=d,_t.BROWSER=rt([h,p,c]),_t.CPU=rt([u]),_t.DEVICE=rt([l,f,a,v,y,b,x,w,C]),_t.ENGINE=_t.OS=rt([h,p]),e.exports&&(t=e.exports=_t),t.UAParser=_t;var xe=typeof r!==i&&(r.jQuery||r.Zepto);if(xe&&!xe.ua){var ke=new _t;xe.ua=ke.getResult(),xe.ua.get=function(){return ke.getUA()},xe.ua.set=function(ve){ke.setUA(ve);var Fe=ke.getResult();for(var Ze in Fe)xe.ua[Ze]=Fe[Ze]}}})(typeof window=="object"?window:Bm)})(N2,N2.exports);var tJ=N2.exports;Object.defineProperty(zi,"__esModule",{value:!0});function eJ(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var wa=_i,In=eJ(wa),xN=tJ,wc=new xN,ka=wc.getBrowser(),iJ=wc.getCPU(),Io=wc.getDevice(),GE=wc.getEngine(),Tc=wc.getOS(),Jm=wc.getUA(),bN=function(t){return wc.setUA(t)},Zm=function(t){if(!t){console.error("No userAgent string was provided");return}var r=new xN(t);return{UA:r,browser:r.getBrowser(),cpu:r.getCPU(),device:r.getDevice(),engine:r.getEngine(),os:r.getOS(),ua:r.getUA(),setUserAgent:function(d){return r.setUA(d)}}},SN=Object.freeze({ClientUAInstance:wc,browser:ka,cpu:iJ,device:Io,engine:GE,os:Tc,ua:Jm,setUa:bN,parseUserAgent:Zm});function I9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),r.push.apply(r,n)}return r}function rJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I9(Object(r),!0).forEach(function(n){oJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uv(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uv=function(t){return typeof t}:Uv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function nJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aJ(e,t,r){return t&&sJ(e.prototype,t),e}function oJ(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L2(){return L2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L2.apply(this,arguments)}function lJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D2(e,t)}function F2(e){return F2=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},F2(e)}function D2(e,t){return D2=Object.setPrototypeOf||function(n,d){return n.__proto__=d,n},D2(e,t)}function uJ(e,t){if(e==null)return{};var r={},n=Object.keys(e),d,S;for(S=0;S<n.length;S++)d=n[S],!(t.indexOf(d)>=0)&&(r[d]=e[d]);return r}function rl(e,t){if(e==null)return{};var r=uJ(e,t),n,d;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(e);for(d=0;d<S.length;d++)n=S[d],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hJ(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a1(e)}function cJ(e,t){return dJ(e)||fJ(e,t)||pJ(e,t)||vJ()}function dJ(e){if(Array.isArray(e))return e}function fJ(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],d=!0,S=!1,s,g;try{for(r=r.call(e);!(d=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));d=!0);}catch(i){S=!0,g=i}finally{try{!d&&r.return!=null&&r.return()}finally{if(S)throw g}}return n}}function pJ(e,t){if(e){if(typeof e=="string")return M9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M9(e,t)}}function M9(e,t){t>e.length&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ya={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},uo={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},fp={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},mJ={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},gJ=function(t){switch(t){case ya.Mobile:return{isMobile:!0};case ya.Tablet:return{isTablet:!0};case ya.SmartTv:return{isSmartTV:!0};case ya.Console:return{isConsole:!0};case ya.Wearable:return{isWearable:!0};case ya.Browser:return{isBrowser:!0};case ya.Embedded:return{isEmbedded:!0};default:return mJ}},yJ=function(t){return bN(t)},fr=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return t||r},HE=function(){return typeof window!="undefined"&&(window.navigator||navigator)?window.navigator||navigator:!1},$E=function(t){var r=HE();return r&&r.platform&&(r.platform.indexOf(t)!==-1||r.platform==="MacIntel"&&r.maxTouchPoints>1&&!window.MSStream)},xJ=function(t,r,n,d,S){return{isBrowser:t,browserMajorVersion:fr(r.major),browserFullVersion:fr(r.version),browserName:fr(r.name),engineName:fr(n.name),engineVersion:fr(n.version),osName:fr(d.name),osVersion:fr(d.version),userAgent:fr(S)}},B9=function(t,r,n,d){return rJ({},t,{vendor:fr(r.vendor),model:fr(r.model),os:fr(n.name),osVersion:fr(n.version),ua:fr(d)})},bJ=function(t,r,n,d){return{isSmartTV:t,engineName:fr(r.name),engineVersion:fr(r.version),osName:fr(n.name),osVersion:fr(n.version),userAgent:fr(d)}},SJ=function(t,r,n,d){return{isConsole:t,engineName:fr(r.name),engineVersion:fr(r.version),osName:fr(n.name),osVersion:fr(n.version),userAgent:fr(d)}},wJ=function(t,r,n,d){return{isWearable:t,engineName:fr(r.name),engineVersion:fr(r.version),osName:fr(n.name),osVersion:fr(n.version),userAgent:fr(d)}},TJ=function(t,r,n,d,S){return{isEmbedded:t,vendor:fr(r.vendor),model:fr(r.model),engineName:fr(n.name),engineVersion:fr(n.version),osName:fr(d.name),osVersion:fr(d.version),userAgent:fr(S)}};function CJ(e){var t=e?Zm(e):SN,r=t.device,n=t.browser,d=t.engine,S=t.os,s=t.ua,g=gJ(r.type),i=g.isBrowser,o=g.isMobile,m=g.isTablet,c=g.isSmartTV,l=g.isConsole,h=g.isWearable,a=g.isEmbedded;if(i)return xJ(i,n,d,S,s);if(c)return bJ(c,d,S,s);if(l)return SJ(l,d,S,s);if(o||m)return B9(g,r,S,s);if(h)return wJ(h,d,S,s);if(a)return TJ(a,r,d,S,s)}var wN=function(t){var r=t.type;return r===ya.Mobile},TN=function(t){var r=t.type;return r===ya.Tablet},CN=function(t){var r=t.type;return r===ya.Mobile||r===ya.Tablet},EN=function(t){var r=t.type;return r===ya.SmartTv},ay=function(t){var r=t.type;return r===ya.Browser},kN=function(t){var r=t.type;return r===ya.Wearable},PN=function(t){var r=t.type;return r===ya.Console},AN=function(t){var r=t.type;return r===ya.Embedded},RN=function(t){var r=t.vendor;return fr(r)},IN=function(t){var r=t.model;return fr(r)},MN=function(t){var r=t.type;return fr(r,"browser")},BN=function(t){var r=t.name;return r===fp.Android},ON=function(t){var r=t.name;return r===fp.Windows},NN=function(t){var r=t.name;return r===fp.MAC_OS},LN=function(t){var r=t.name;return r===fp.WindowsPhone},FN=function(t){var r=t.name;return r===fp.IOS},DN=function(t){var r=t.version;return fr(r)},_N=function(t){var r=t.name;return fr(r)},jN=function(t){var r=t.name;return r===uo.Chrome},zN=function(t){var r=t.name;return r===uo.Firefox},UN=function(t){var r=t.name;return r===uo.Chromium},oy=function(t){var r=t.name;return r===uo.Edge},GN=function(t){var r=t.name;return r===uo.Yandex},HN=function(t){var r=t.name;return r===uo.Safari||r===uo.MobileSafari},$N=function(t){var r=t.name;return r===uo.MobileSafari},WN=function(t){var r=t.name;return r===uo.Opera},VN=function(t){var r=t.name;return r===uo.InternetExplorer||r===uo.Ie},YN=function(t){var r=t.name;return r===uo.MIUI},XN=function(t){var r=t.name;return r===uo.SamsungBrowser},QN=function(t){var r=t.version;return fr(r)},KN=function(t){var r=t.major;return fr(r)},JN=function(t){var r=t.name;return fr(r)},ZN=function(t){var r=t.name;return fr(r)},qN=function(t){var r=t.version;return fr(r)},tL=function(){var t=HE(),r=t&&t.userAgent&&t.userAgent.toLowerCase();return typeof r=="string"?/electron/.test(r):!1},Ef=function(t){return typeof t=="string"&&t.indexOf("Edg/")!==-1},eL=function(){var t=HE();return t&&(/iPad|iPhone|iPod/.test(t.platform)||t.platform==="MacIntel"&&t.maxTouchPoints>1)&&!window.MSStream},uu=function(){return $E("iPad")},iL=function(){return $E("iPhone")},rL=function(){return $E("iPod")},nL=function(t){return fr(t)};function sL(e){var t=e||SN,r=t.device,n=t.browser,d=t.os,S=t.engine,s=t.ua;return{isSmartTV:EN(r),isConsole:PN(r),isWearable:kN(r),isEmbedded:AN(r),isMobileSafari:$N(n)||uu(),isChromium:UN(n),isMobile:CN(r)||uu(),isMobileOnly:wN(r),isTablet:TN(r)||uu(),isBrowser:ay(r),isDesktop:ay(r),isAndroid:BN(d),isWinPhone:LN(d),isIOS:FN(d)||uu(),isChrome:jN(n),isFirefox:zN(n),isSafari:HN(n),isOpera:WN(n),isIE:VN(n),osVersion:DN(d),osName:_N(d),fullBrowserVersion:QN(n),browserVersion:KN(n),browserName:JN(n),mobileVendor:RN(r),mobileModel:IN(r),engineName:ZN(S),engineVersion:qN(S),getUA:nL(s),isEdge:oy(n)||Ef(s),isYandex:GN(n),deviceType:MN(r),isIOS13:eL(),isIPad13:uu(),isIPhone13:iL(),isIPod13:rL(),isElectron:tL(),isEdgeChromium:Ef(s),isLegacyEdge:oy(n)&&!Ef(s),isWindows:ON(d),isMacOs:NN(d),isMIUI:YN(n),isSamsungBrowser:XN(n)}}var aL=EN(Io),oL=PN(Io),lL=kN(Io),EJ=AN(Io),kJ=$N(ka)||uu(),PJ=UN(ka),Tx=CN(Io)||uu(),uL=wN(Io),hL=TN(Io)||uu(),cL=ay(Io),AJ=ay(Io),dL=BN(Tc),fL=LN(Tc),pL=FN(Tc)||uu(),RJ=jN(ka),IJ=zN(ka),MJ=HN(ka),BJ=WN(ka),vL=VN(ka),OJ=DN(Tc),NJ=_N(Tc),LJ=QN(ka),FJ=KN(ka),DJ=JN(ka),_J=RN(Io),jJ=IN(Io),zJ=ZN(GE),UJ=qN(GE),GJ=nL(Jm),HJ=oy(ka)||Ef(Jm),$J=GN(ka),WJ=MN(Io),VJ=eL(),YJ=uu(),XJ=iL(),QJ=rL(),KJ=tL(),JJ=Ef(Jm),ZJ=oy(ka)&&!Ef(Jm),qJ=ON(Tc),tZ=NN(Tc),eZ=YN(ka),iZ=XN(ka),rZ=function(t){if(!t||typeof t!="string"){console.error("No valid user agent string was provided");return}var r=Zm(t),n=r.device,d=r.browser,S=r.os,s=r.engine,g=r.ua;return sL({device:n,browser:d,os:S,engine:s,ua:g})},nZ=function(t){var r=t.renderWithFragment,n=t.children,d=rl(t,["renderWithFragment","children"]);return dL?r?In.createElement(wa.Fragment,null,n):In.createElement("div",d,n):null},sZ=function(t){var r=t.renderWithFragment,n=t.children,d=rl(t,["renderWithFragment","children"]);return cL?r?In.createElement(wa.Fragment,null,n):In.createElement("div",d,n):null},aZ=function(t){var r=t.renderWithFragment,n=t.children,d=rl(t,["renderWithFragment","children"]);return vL?r?In.createElement(wa.Fragment,null,n):In.createElement("div",d,n):null},oZ=function(t){var r=t.renderWithFragment,n=t.children,d=rl(t,["renderWithFragment","children"]);return pL?r?In.createElement(wa.Fragment,null,n):In.createElement("div",d,n):null},lZ=function(t){var r=t.renderWithFragment,n=t.children,d=rl(t,["renderWithFragment","children"]);return Tx?r?In.createElement(wa.Fragment,null,n):In.createElement("div",d,n):null},uZ=function(t){var r=t.renderWithFragment,n=t.children,d=rl(t,["renderWithFragment","children"]);return hL?r?In.createElement(wa.Fragment,null,n):In.createElement("div",d,n):null},hZ=function(t){var r=t.renderWithFragment,n=t.children,d=rl(t,["renderWithFragment","children"]);return fL?r?In.createElement(wa.Fragment,null,n):In.createElement("div",d,n):null},cZ=function(t){var r=t.renderWithFragment,n=t.children;t.viewClassName,t.style;var d=rl(t,["renderWithFragment","children","viewClassName","style"]);return uL?r?In.createElement(wa.Fragment,null,n):In.createElement("div",d,n):null},dZ=function(t){var r=t.renderWithFragment,n=t.children,d=rl(t,["renderWithFragment","children"]);return aL?r?In.createElement(wa.Fragment,null,n):In.createElement("div",d,n):null},fZ=function(t){var r=t.renderWithFragment,n=t.children,d=rl(t,["renderWithFragment","children"]);return oL?r?In.createElement(wa.Fragment,null,n):In.createElement("div",d,n):null},pZ=function(t){var r=t.renderWithFragment,n=t.children,d=rl(t,["renderWithFragment","children"]);return lL?r?In.createElement(wa.Fragment,null,n):In.createElement("div",d,n):null},vZ=function(t){var r=t.renderWithFragment,n=t.children;t.viewClassName,t.style;var d=t.condition,S=rl(t,["renderWithFragment","children","viewClassName","style","condition"]);return d?r?In.createElement(wa.Fragment,null,n):In.createElement("div",S,n):null};function mZ(e){return function(t){lJ(r,t);function r(n){var d;return nJ(this,r),d=hJ(this,F2(r).call(this,n)),d.isEventListenerAdded=!1,d.handleOrientationChange=d.handleOrientationChange.bind(a1(d)),d.onOrientationChange=d.onOrientationChange.bind(a1(d)),d.onPageLoad=d.onPageLoad.bind(a1(d)),d.state={isLandscape:!1,isPortrait:!1},d}return aJ(r,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var d=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:d===0,isLandscape:d===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window=="undefined"?"undefined":Uv(window))!==void 0&&Tx&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return In.createElement(e,L2({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),r}(In.Component)}function gZ(){var e=wa.useState(function(){var S=window.innerWidth>window.innerHeight?90:0;return{isPortrait:S===0,isLandscape:S===90,orientation:S===0?"portrait":"landscape"}}),t=cJ(e,2),r=t[0],n=t[1],d=wa.useCallback(function(){var S=window.innerWidth>window.innerHeight?90:0,s={isPortrait:S===0,isLandscape:S===90,orientation:S===0?"portrait":"landscape"};r.orientation!==s.orientation&&n(s)},[r.orientation]);return wa.useEffect(function(){return(typeof window=="undefined"?"undefined":Uv(window))!==void 0&&Tx&&(d(),window.addEventListener("load",d,!1),window.addEventListener("resize",d,!1)),function(){window.removeEventListener("resize",d,!1),window.removeEventListener("load",d,!1)}},[d]),r}function mL(e){var t=e||window.navigator.userAgent;return Zm(t)}function yZ(e){var t=e||window.navigator.userAgent,r=mL(t),n=sL(r);return[n,r]}zi.AndroidView=nZ;zi.BrowserTypes=uo;zi.BrowserView=sZ;zi.ConsoleView=fZ;zi.CustomView=vZ;zi.IEView=aZ;zi.IOSView=oZ;zi.MobileOnlyView=cZ;zi.MobileView=lZ;zi.OsTypes=fp;zi.SmartTVView=dZ;zi.TabletView=uZ;zi.WearableView=pZ;zi.WinPhoneView=hZ;zi.browserName=DJ;zi.browserVersion=FJ;zi.deviceDetect=CJ;zi.deviceType=WJ;zi.engineName=zJ;zi.engineVersion=UJ;zi.fullBrowserVersion=LJ;zi.getSelectorsByUserAgent=rZ;zi.getUA=GJ;zi.isAndroid=dL;zi.isBrowser=cL;zi.isChrome=RJ;zi.isChromium=PJ;zi.isConsole=oL;zi.isDesktop=AJ;zi.isEdge=HJ;zi.isEdgeChromium=JJ;zi.isElectron=KJ;zi.isEmbedded=EJ;zi.isFirefox=IJ;zi.isIE=vL;zi.isIOS=pL;zi.isIOS13=VJ;zi.isIPad13=YJ;zi.isIPhone13=XJ;zi.isIPod13=QJ;zi.isLegacyEdge=ZJ;zi.isMIUI=eZ;zi.isMacOs=tZ;var mr=zi.isMobile=Tx;zi.isMobileOnly=uL;zi.isMobileSafari=kJ;zi.isOpera=BJ;zi.isSafari=MJ;zi.isSamsungBrowser=iZ;zi.isSmartTV=aL;zi.isTablet=hL;zi.isWearable=lL;zi.isWinPhone=fL;zi.isWindows=qJ;zi.isYandex=$J;zi.mobileModel=jJ;zi.mobileVendor=_J;zi.osName=NJ;zi.osVersion=OJ;zi.parseUserAgent=Zm;zi.setUserAgent=yJ;zi.useDeviceData=mL;zi.useDeviceSelectors=yZ;zi.useMobileOrientation=gZ;zi.withOrientationChange=mZ;var gL={exports:{}};(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var S="",s=0;s<arguments.length;s++){var g=arguments[s];g&&(S=d(S,n(g)))}return S}function n(S){if(typeof S=="string"||typeof S=="number")return S;if(typeof S!="object")return"";if(Array.isArray(S))return r.apply(null,S);if(S.toString!==Object.prototype.toString&&!S.toString.toString().includes("[native code]"))return S.toString();var s="";for(var g in S)t.call(S,g)&&S[g]&&(s=d(s,g));return s}function d(S,s){return s?S?S+" "+s:S+s:S}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(gL);var xZ=gL.exports;const Ct=ks(xZ);function bZ(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var yL=_i,SZ=bZ(yL);function O9(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var TZ=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function CZ(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r!="undefined"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(d){return d.displayName||d.name||"Component"}return function(S){if(typeof S!="function")throw new Error("Expected WrappedComponent to be a React component.");var s=[],g;function i(){g=e(s.map(function(m){return m.props})),o.canUseDOM?t(g):r&&(g=r(g))}var o=function(m){wZ(c,m);function c(){return m.apply(this,arguments)||this}c.peek=function(){return g},c.rewind=function(){if(c.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var a=g;return g=void 0,s=[],a};var l=c.prototype;return l.UNSAFE_componentWillMount=function(){s.push(this),i()},l.componentDidUpdate=function(){i()},l.componentWillUnmount=function(){var a=s.indexOf(this);s.splice(a,1),i()},l.render=function(){return SZ.createElement(S,this.props)},c}(yL.PureComponent);return O9(o,"displayName","SideEffect("+n(S)+")"),O9(o,"canUseDOM",TZ),o}}var EZ=CZ;const kZ=ks(EZ);var PZ=typeof Element!="undefined",AZ=typeof Map=="function",RZ=typeof Set=="function",IZ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,d;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!o1(e[n],t[n]))return!1;return!0}var S;if(AZ&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(S=e.entries();!(n=S.next()).done;)if(!t.has(n.value[0]))return!1;for(S=e.entries();!(n=S.next()).done;)if(!o1(n.value[1],t.get(n.value[0])))return!1;return!0}if(RZ&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(S=e.entries();!(n=S.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(IZ&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(d=Object.keys(e),r=d.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,d[n]))return!1;if(PZ&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((d[n]==="_owner"||d[n]==="__v"||d[n]==="__o")&&e.$$typeof)&&!o1(e[d[n]],t[d[n]]))return!1;return!0}return e!==e&&t!==t}var MZ=function(t,r){try{return o1(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const BZ=ks(MZ);var vd={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},br={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(br).map(function(e){return br[e]});var Vn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},ly={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},xm={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},OZ=Object.keys(ly).reduce(function(e,t){return e[ly[t]]=t,e},{}),NZ=[br.NOSCRIPT,br.SCRIPT,br.STYLE],Bl="data-react-helmet",LZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FZ=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},DZ=function(){function e(t,r){for(var n=0;n<r.length;n++){var d=r[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_Z=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},N9=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},jZ=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},_2=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},zZ=function(t){var r=kf(t,br.TITLE),n=kf(t,xm.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var d=kf(t,xm.DEFAULT_TITLE);return r||d||void 0},UZ=function(t){return kf(t,xm.ON_CHANGE_CLIENT_STATE)||function(){}},oS=function(t,r){return r.filter(function(n){return typeof n[t]!="undefined"}).map(function(n){return n[t]}).reduce(function(n,d){return Ja({},n,d)},{})},GZ=function(t,r){return r.filter(function(n){return typeof n[br.BASE]!="undefined"}).map(function(n){return n[br.BASE]}).reverse().reduce(function(n,d){if(!n.length)for(var S=Object.keys(d),s=0;s<S.length;s++){var g=S[s],i=g.toLowerCase();if(t.indexOf(i)!==-1&&d[i])return n.concat(d)}return n},[])},Vp=function(t,r,n){var d={};return n.filter(function(S){return Array.isArray(S[t])?!0:(typeof S[t]!="undefined"&&VZ("Helmet: "+t+' should be of type "Array". Instead found type "'+LZ(S[t])+'"'),!1)}).map(function(S){return S[t]}).reverse().reduce(function(S,s){var g={};s.filter(function(l){for(var h=void 0,a=Object.keys(l),f=0;f<a.length;f++){var p=a[f],u=p.toLowerCase();r.indexOf(u)!==-1&&!(h===Vn.REL&&l[h].toLowerCase()==="canonical")&&!(u===Vn.REL&&l[u].toLowerCase()==="stylesheet")&&(h=u),r.indexOf(p)!==-1&&(p===Vn.INNER_HTML||p===Vn.CSS_TEXT||p===Vn.ITEM_PROP)&&(h=p)}if(!h||!l[h])return!1;var v=l[h].toLowerCase();return d[h]||(d[h]={}),g[h]||(g[h]={}),d[h][v]?!1:(g[h][v]=!0,!0)}).reverse().forEach(function(l){return S.push(l)});for(var i=Object.keys(g),o=0;o<i.length;o++){var m=i[o],c=CU({},d[m],g[m]);d[m]=c}return S},[]).reverse()},kf=function(t,r){for(var n=t.length-1;n>=0;n--){var d=t[n];if(d.hasOwnProperty(r))return d[r]}return null},HZ=function(t){return{baseTag:GZ([Vn.HREF,Vn.TARGET],t),bodyAttributes:oS(vd.BODY,t),defer:kf(t,xm.DEFER),encode:kf(t,xm.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:oS(vd.HTML,t),linkTags:Vp(br.LINK,[Vn.REL,Vn.HREF],t),metaTags:Vp(br.META,[Vn.NAME,Vn.CHARSET,Vn.HTTPEQUIV,Vn.PROPERTY,Vn.ITEM_PROP],t),noscriptTags:Vp(br.NOSCRIPT,[Vn.INNER_HTML],t),onChangeClientState:UZ(t),scriptTags:Vp(br.SCRIPT,[Vn.SRC,Vn.INNER_HTML],t),styleTags:Vp(br.STYLE,[Vn.CSS_TEXT],t),title:zZ(t),titleAttributes:oS(vd.TITLE,t)}},j2=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){j2(t)},0)}}(),L9=function(t){return clearTimeout(t)},$Z=typeof window!="undefined"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||j2:globalThis.requestAnimationFrame||j2,WZ=typeof window!="undefined"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||L9:globalThis.cancelAnimationFrame||L9,VZ=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Yp=null,YZ=function(t){Yp&&WZ(Yp),t.defer?Yp=$Z(function(){F9(t,function(){Yp=null})}):(F9(t),Yp=null)},F9=function(t,r){var n=t.baseTag,d=t.bodyAttributes,S=t.htmlAttributes,s=t.linkTags,g=t.metaTags,i=t.noscriptTags,o=t.onChangeClientState,m=t.scriptTags,c=t.styleTags,l=t.title,h=t.titleAttributes;z2(br.BODY,d),z2(br.HTML,S),XZ(l,h);var a={baseTag:$d(br.BASE,n),linkTags:$d(br.LINK,s),metaTags:$d(br.META,g),noscriptTags:$d(br.NOSCRIPT,i),scriptTags:$d(br.SCRIPT,m),styleTags:$d(br.STYLE,c)},f={},p={};Object.keys(a).forEach(function(u){var v=a[u],y=v.newTags,x=v.oldTags;y.length&&(f[u]=y),x.length&&(p[u]=a[u].oldTags)}),r&&r(),o(t,f,p)},xL=function(t){return Array.isArray(t)?t.join(""):t},XZ=function(t,r){typeof t!="undefined"&&document.title!==t&&(document.title=xL(t)),z2(br.TITLE,r)},z2=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var d=n.getAttribute(Bl),S=d?d.split(","):[],s=[].concat(S),g=Object.keys(r),i=0;i<g.length;i++){var o=g[i],m=r[o]||"";n.getAttribute(o)!==m&&n.setAttribute(o,m),S.indexOf(o)===-1&&S.push(o);var c=s.indexOf(o);c!==-1&&s.splice(c,1)}for(var l=s.length-1;l>=0;l--)n.removeAttribute(s[l]);S.length===s.length?n.removeAttribute(Bl):n.getAttribute(Bl)!==g.join(",")&&n.setAttribute(Bl,g.join(","))}},$d=function(t,r){var n=document.head||document.querySelector(br.HEAD),d=n.querySelectorAll(t+"["+Bl+"]"),S=Array.prototype.slice.call(d),s=[],g=void 0;return r&&r.length&&r.forEach(function(i){var o=document.createElement(t);for(var m in i)if(i.hasOwnProperty(m))if(m===Vn.INNER_HTML)o.innerHTML=i.innerHTML;else if(m===Vn.CSS_TEXT)o.styleSheet?o.styleSheet.cssText=i.cssText:o.appendChild(document.createTextNode(i.cssText));else{var c=typeof i[m]=="undefined"?"":i[m];o.setAttribute(m,c)}o.setAttribute(Bl,"true"),S.some(function(l,h){return g=h,o.isEqualNode(l)})?S.splice(g,1):s.push(o)}),S.forEach(function(i){return i.parentNode.removeChild(i)}),s.forEach(function(i){return n.appendChild(i)}),{oldTags:S,newTags:s}},bL=function(t){return Object.keys(t).reduce(function(r,n){var d=typeof t[n]!="undefined"?n+'="'+t[n]+'"':""+n;return r?r+" "+d:d},"")},QZ=function(t,r,n,d){var S=bL(n),s=xL(r);return S?"<"+t+" "+Bl+'="true" '+S+">"+_2(s,d)+"</"+t+">":"<"+t+" "+Bl+'="true">'+_2(s,d)+"</"+t+">"},KZ=function(t,r,n){return r.reduce(function(d,S){var s=Object.keys(S).filter(function(o){return!(o===Vn.INNER_HTML||o===Vn.CSS_TEXT)}).reduce(function(o,m){var c=typeof S[m]=="undefined"?m:m+'="'+_2(S[m],n)+'"';return o?o+" "+c:c},""),g=S.innerHTML||S.cssText||"",i=NZ.indexOf(t)===-1;return d+"<"+t+" "+Bl+'="true" '+s+(i?"/>":">"+g+"</"+t+">")},"")},SL=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,d){return n[ly[d]||d]=t[d],n},r)},JZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,d){return n[OZ[d]||d]=t[d],n},r)},ZZ=function(t,r,n){var d,S=(d={key:r},d[Bl]=!0,d),s=SL(n,S);return[ti.createElement(br.TITLE,s,r)]},qZ=function(t,r){return r.map(function(n,d){var S,s=(S={key:d},S[Bl]=!0,S);return Object.keys(n).forEach(function(g){var i=ly[g]||g;if(i===Vn.INNER_HTML||i===Vn.CSS_TEXT){var o=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:o}}else s[i]=n[g]}),ti.createElement(t,s)})},Fu=function(t,r,n){switch(t){case br.TITLE:return{toComponent:function(){return ZZ(t,r.title,r.titleAttributes)},toString:function(){return QZ(t,r.title,r.titleAttributes,n)}};case vd.BODY:case vd.HTML:return{toComponent:function(){return SL(r)},toString:function(){return bL(r)}};default:return{toComponent:function(){return qZ(t,r)},toString:function(){return KZ(t,r,n)}}}},wL=function(t){var r=t.baseTag,n=t.bodyAttributes,d=t.encode,S=t.htmlAttributes,s=t.linkTags,g=t.metaTags,i=t.noscriptTags,o=t.scriptTags,m=t.styleTags,c=t.title,l=c===void 0?"":c,h=t.titleAttributes;return{base:Fu(br.BASE,r,d),bodyAttributes:Fu(vd.BODY,n,d),htmlAttributes:Fu(vd.HTML,S,d),link:Fu(br.LINK,s,d),meta:Fu(br.META,g,d),noscript:Fu(br.NOSCRIPT,i,d),script:Fu(br.SCRIPT,o,d),style:Fu(br.STYLE,m,d),title:Fu(br.TITLE,{title:l,titleAttributes:h},d)}},tq=function(t){var r,n;return n=r=function(d){_Z(S,d);function S(){return FZ(this,S),jZ(this,d.apply(this,arguments))}return S.prototype.shouldComponentUpdate=function(g){return!BZ(this.props,g)},S.prototype.mapNestedChildrenToProps=function(g,i){if(!i)return null;switch(g.type){case br.SCRIPT:case br.NOSCRIPT:return{innerHTML:i};case br.STYLE:return{cssText:i}}throw new Error("<"+g.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},S.prototype.flattenArrayTypeChildren=function(g){var i,o=g.child,m=g.arrayTypeChildren,c=g.newChildProps,l=g.nestedChildren;return Ja({},m,(i={},i[o.type]=[].concat(m[o.type]||[],[Ja({},c,this.mapNestedChildrenToProps(o,l))]),i))},S.prototype.mapObjectTypeChildren=function(g){var i,o,m=g.child,c=g.newProps,l=g.newChildProps,h=g.nestedChildren;switch(m.type){case br.TITLE:return Ja({},c,(i={},i[m.type]=h,i.titleAttributes=Ja({},l),i));case br.BODY:return Ja({},c,{bodyAttributes:Ja({},l)});case br.HTML:return Ja({},c,{htmlAttributes:Ja({},l)})}return Ja({},c,(o={},o[m.type]=Ja({},l),o))},S.prototype.mapArrayTypeChildrenToProps=function(g,i){var o=Ja({},i);return Object.keys(g).forEach(function(m){var c;o=Ja({},o,(c={},c[m]=g[m],c))}),o},S.prototype.warnOnInvalidChildren=function(g,i){return!0},S.prototype.mapChildrenToProps=function(g,i){var o=this,m={};return ti.Children.forEach(g,function(c){if(!(!c||!c.props)){var l=c.props,h=l.children,a=N9(l,["children"]),f=JZ(a);switch(o.warnOnInvalidChildren(c,h),c.type){case br.LINK:case br.META:case br.NOSCRIPT:case br.SCRIPT:case br.STYLE:m=o.flattenArrayTypeChildren({child:c,arrayTypeChildren:m,newChildProps:f,nestedChildren:h});break;default:i=o.mapObjectTypeChildren({child:c,newProps:i,newChildProps:f,nestedChildren:h});break}}}),i=this.mapArrayTypeChildrenToProps(m,i),i},S.prototype.render=function(){var g=this.props,i=g.children,o=N9(g,["children"]),m=Ja({},o);return i&&(m=this.mapChildrenToProps(i,m)),ti.createElement(t,m)},DZ(S,null,[{key:"canUseDOM",set:function(g){t.canUseDOM=g}}]),S}(ti.Component),r.propTypes={base:Xt.object,bodyAttributes:Xt.object,children:Xt.oneOfType([Xt.arrayOf(Xt.node),Xt.node]),defaultTitle:Xt.string,defer:Xt.bool,encodeSpecialCharacters:Xt.bool,htmlAttributes:Xt.object,link:Xt.arrayOf(Xt.object),meta:Xt.arrayOf(Xt.object),noscript:Xt.arrayOf(Xt.object),onChangeClientState:Xt.func,script:Xt.arrayOf(Xt.object),style:Xt.arrayOf(Xt.object),title:Xt.string,titleAttributes:Xt.object,titleTemplate:Xt.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var d=t.rewind();return d||(d=wL({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),d},n},eq=function(){return null},iq=kZ(HZ,YZ,wL)(eq),U2=tq(iq);U2.renderStatic=U2.rewind;const rq="https://ac.blooket.com/dashclassic/assets/BlookCheckers-BykpA7vd.png",nq="https://ac.blooket.com/dashclassic/assets/Blooket_Spreadsheet_Import_Template-CRBqcEp3.xlsx",sq="https://ac.blooket.com/dashclassic/assets/Blooket-M6jYh_hk.png",aq="https://ac.blooket.com/dashclassic/assets/BlooketSquare16-Cad01EB-.png",oq="https://ac.blooket.com/dashclassic/assets/BlooketSquare32-Dsr-B0eG.png",lq="https://ac.blooket.com/dashclassic/assets/BlooketSquare180-BARZEjNt.png",uq="https://ac.blooket.com/dashclassic/assets/candy-BoREoeX4.svg",hq="https://ac.blooket.com/dashclassic/assets/candyDark-PeQDxmOl.svg",cq="https://ac.blooket.com/dashclassic/assets/castleTile-xVoiTfwd.svg",dq="https://ac.blooket.com/dashclassic/assets/chest1-C_Kgg2Ui.svg",fq="https://ac.blooket.com/dashclassic/assets/chest2-DgTYmzNf.svg",pq="https://ac.blooket.com/dashclassic/assets/chest3-oiu39qh7.svg",vq="https://ac.blooket.com/dashclassic/assets/EventTrophy-NKWgYkMF.svg",mq="https://ac.blooket.com/dashclassic/assets/FinishLine-BLSKIFVK.svg",gq="https://ac.blooket.com/dashclassic/assets/FinishLine2-BiTz515P.svg",yq="https://ac.blooket.com/dashclassic/assets/Gift1-ChLV2N7a.svg",xq="https://ac.blooket.com/dashclassic/assets/Gift2-DW-Q5Jla.svg",bq="https://ac.blooket.com/dashclassic/assets/Gift3-BLbyLNBJ.svg",Sq="https://ac.blooket.com/dashclassic/assets/gold-DFRCSqw9.svg",wq="https://ac.blooket.com/dashclassic/assets/GoogleLogo-9Ga02loa.svg",Tq="https://ac.blooket.com/dashclassic/assets/ImproveTools-K_iTAT49.svg",Cq="https://ac.blooket.com/dashclassic/assets/mountains-DoN8d23B.png",Eq="https://ac.blooket.com/dashclassic/assets/pumpkin1-B3JJEt0A.svg",kq="https://ac.blooket.com/dashclassic/assets/pumpkin2-CoYMcbN7.svg",Pq="https://ac.blooket.com/dashclassic/assets/pumpkin3-KeYcQAX1.svg",Aq="https://ac.blooket.com/dashclassic/assets/santaHat-D4ClqMOj.svg",Rq="https://ac.blooket.com/dashclassic/assets/shield-DEeSqHMF.png",Iq="https://ac.blooket.com/dashclassic/assets/snowTile-8Pweq9fO.png",Mq="https://ac.blooket.com/dashclassic/assets/StuffBox-DXhsUJ2k.svg",Bq="https://ac.blooket.com/dashclassic/assets/sword-BOuPZz8C.png",Oq="https://ac.blooket.com/dashclassic/assets/Token-DmrosBZF.svg",Nq="https://ac.blooket.com/dashclassic/assets/toy-CO4-YS66.svg",Lq="https://ac.blooket.com/dashclassic/assets/Tree-CIB63QU_.svg",Fq="https://ac.blooket.com/dashclassic/assets/UnsplashLogo-AgHLHbC7.svg",Dq="https://ac.blooket.com/dashclassic/assets/xp-CtoOB8eQ.svg",_q="https://ac.blooket.com/dashclassic/assets/QuizletLogo-CioRDHKr.png",jq="https://ac.blooket.com/dashclassic/assets/QuizletFullLogo-DQOjSgU_.svg",zq="https://ac.blooket.com/dashclassic/assets/QuizletImportStep1-BpIj24cT.png",Uq="https://ac.blooket.com/dashclassic/assets/QuizletImportStep2-D4CKtDaO.png",Gq="https://ac.blooket.com/dashclassic/assets/QuizletImportStep3-SoaH8Ynu.png",Hq="https://ac.blooket.com/dashclassic/assets/DamageIcon-DOzOf3R5.svg",$q="https://ac.blooket.com/dashclassic/assets/PackTop-B_oZNFnG.svg",Wq="https://ac.blooket.com/dashclassic/assets/doubloon-dNhmeg4g.svg",Vq="https://ac.blooket.com/dashclassic/assets/khanmigoIcon-DGjc7Tna.svg",Yq="https://ac.blooket.com/dashclassic/assets/khanmigoBanner-BEuTBOmM.png",Xq="https://ac.blooket.com/dashclassic/assets/khanmigoAnim-B6vYw-lF.gif",Qq="https://ac.blooket.com/dashclassic/assets/lovelyBackground-CpXONyFz.svg",Kq={blookCheckers:rq,spreadsheetTemplate:nq,blooket:sq,blooket16:aq,blooket32:oq,blooket180:lq,candy:uq,candyDark:hq,castleTile:cq,chest1:dq,chest2:fq,chest3:pq,eventTrophy:vq,finishLine:mq,finishLine2:gq,gift1:yq,gift2:xq,gift3:bq,gold:Sq,googleLogo:wq,improveTools:Tq,mountains:Cq,pumpkin1:Eq,pumpkin2:kq,pumpkin3:Pq,santaHat:Aq,shield:Rq,snowTile:Iq,stuffBox:Mq,sword:Bq,token:Oq,toy:Nq,tree:Lq,unsplashLogo:Fq,xp:Dq,QuizletLogo:_q,QuizletFullLogo:jq,QuizletImportStep1:zq,QuizletImportStep2:Uq,QuizletImportStep3:Gq,DamageIcon:Hq,PackTop:$q,doubloon:Wq,khanmigoIcon:Vq,khanmigoBanner:Yq,khanmigoAnim:Xq,lovelyBackground:Qq},Jq="https://ac.blooket.com/dashclassic/assets/basicMap-BdvjIwk0.jpg",Zq="https://ac.blooket.com/dashclassic/assets/grassTile-I2Fdiuvy.svg",qq="https://ac.blooket.com/dashclassic/assets/mineMap-B0k79lS_.jpg",ttt="https://ac.blooket.com/dashclassic/assets/sandMap-BTO39y3u.jpg",ett="https://ac.blooket.com/dashclassic/assets/sandTile-D-a4CYes.svg",itt="https://ac.blooket.com/dashclassic/assets/stoneTile-ChEC0mpc.svg",rtt={basicMap:Jq,grassTile:Zq,mineMap:qq,sandMap:ttt,sandTile:ett,stoneTile:itt},ntt="https://ac.blooket.com/dashclassic/assets/magnifyingGlass-B7YiA0vO.svg",stt="https://ac.blooket.com/dashclassic/assets/paperTexture-8PG-GX0u.png",att="https://ac.blooket.com/dashclassic/assets/pickaxe-CCLGuBWb.svg",ott="https://ac.blooket.com/dashclassic/assets/rock1-B6XK3feV.svg",ltt="https://ac.blooket.com/dashclassic/assets/rock2-C57icCXd.svg",utt="https://ac.blooket.com/dashclassic/assets/rock3--9YEEvrN.svg",htt="https://ac.blooket.com/dashclassic/assets/rock4-D8x1WjMP.svg",ctt={magnifyingGlass:ntt,paperTexture:stt,pickaxe:att,rock1:ott,rock2:ltt,rock3:utt,rock4:htt},dtt="https://ac.blooket.com/dashclassic/assets/elaBackground-DGe6wmad.svg",ftt="https://ac.blooket.com/dashclassic/assets/mathBackground-1HwzXV40.svg",ptt="https://ac.blooket.com/dashclassic/assets/scienceBackground-CdrU_qcn.svg",vtt="https://ac.blooket.com/dashclassic/assets/socialStudiesBackground-CXb4wAkB.svg",mtt="https://ac.blooket.com/dashclassic/assets/triviaBackground-BVl-uwXs.svg",gtt="https://ac.blooket.com/dashclassic/assets/worldLanguagesBackground-DJvR_Ppq.svg",ytt="https://ac.blooket.com/dashclassic/assets/aslIcon-Cu3qKzTr.svg",xtt="https://ac.blooket.com/dashclassic/assets/frenchFlag-ueGkVUg8.svg",btt="https://ac.blooket.com/dashclassic/assets/japaneseFlag-NNt8MrZA.svg",Stt="https://ac.blooket.com/dashclassic/assets/spanishFlag-Y3G7VNoD.svg",wtt={elaBackground:dtt,mathBackground:ftt,scienceBackground:ptt,socialStudiesBackground:vtt,triviaBackground:mtt,worldLanguagesBackground:gtt,aslIcon:ytt,frenchFlag:xtt,japaneseFlag:btt,spanishFlag:Stt},Ttt="https://ac.blooket.com/dashclassic/assets/shamrock-BPAnA-K6.svg",Ctt="https://ac.blooket.com/dashclassic/assets/shamrockBlack-Bj3d-qYQ.svg",Ett="https://ac.blooket.com/dashclassic/assets/shamrockWhite-k63aJTU2.svg",ktt={shamrock:Ttt,shamrockBlack:Ctt,shamrockWhite:Ett},Ptt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Aquatic-CDVAa5Z1.svg",Att="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Arctic-DnFet-Es.svg",Rtt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Blizzard-BEOZGRo9.svg",Itt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Bots-CWFp85lE.svg",Mtt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Breakfast-rXV3rN0C.svg",Btt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Dino-qvYP8NHH.svg",Ott="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Farm-Cf8P0mJz.svg",Ntt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Forest-56I9sRnu.svg",Ltt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Generic-BG3_DSfA.svg",Ftt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Ice_Monster-IrnSpiG5.svg",Dtt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Medieval-HAKt-8uS.svg",_tt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Outback-CCDUJgD9.svg",jtt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Pets--9tpvwHe.svg",ztt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Safari-Bov1ICT4.svg",Utt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Space-BVfDeCoN.svg",Gtt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Spooky-BE3Q44ax.svg",Htt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Tropical-DV9rwhsh.svg",$tt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Wonderland-By4voe3_.svg",Wtt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Pirate-CrD0PKuQ.svg",Vtt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Autumn-p3HcOb_2.svg",Ytt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Bug-D5IFT82n.svg",Xtt="https://ac.blooket.com/dashclassic/assets/Highlighted_Background_Lunch-BfOeSTeT.svg",Qtt={Aquatic:Ptt,Arctic:Att,Blizzard:Rtt,Bots:Itt,Breakfast:Mtt,Dino:Btt,Farm:Ott,Forest:Ntt,Generic:Ltt,IceMonster:Ftt,Medieval:Dtt,Outback:_tt,Pets:jtt,Safari:ztt,Space:Utt,Spooky:Gtt,Tropical:Htt,Wonderland:$tt,Pirate:Wtt,Autumn:Vtt,Bug:Ytt,Lunch:Xtt},Ktt="https://ac.blooket.com/dashclassic/assets/Array_Tile_Aquatic-DGwJPWGz.svg",Jtt="https://ac.blooket.com/dashclassic/assets/Array_Tile_Arctic-DDrKhmGU.svg",Ztt="https://ac.blooket.com/dashclassic/assets/Array_Tile_Blizzard-1tBAxntU.svg",qtt="https://ac.blooket.com/dashclassic/assets/Array_Tile_Bots-YTkeidrh.svg",tet="https://ac.blooket.com/dashclassic/assets/Array_Tile_Breakfast-B-1YRZrQ.svg",eet="https://ac.blooket.com/dashclassic/assets/Array_Tile_Dino-BBW2BSz4.svg",iet="https://ac.blooket.com/dashclassic/assets/Array_Tile_Farm-tIM3PSNI.svg",ret="https://ac.blooket.com/dashclassic/assets/Array_Tile_Forest-o55Ym2tr.svg",net="https://ac.blooket.com/dashclassic/assets/Array_Tile_Hidden-CMaRBsLQ.svg",set="https://ac.blooket.com/dashclassic/assets/Array_Tile_Ice_Monster-CR2XHQJ_.svg",aet="https://ac.blooket.com/dashclassic/assets/Array_Tile_Medieval-CA_b442C.svg",oet="https://ac.blooket.com/dashclassic/assets/Array_Tile_Outback-B82RC2JI.svg",uet="https://ac.blooket.com/dashclassic/assets/Array_Tile_Pets-C2ajWRc5.svg",het="https://ac.blooket.com/dashclassic/assets/Array_Tile_Safari-D2a8aM2f.svg",cet="https://ac.blooket.com/dashclassic/assets/Array_Tile_Space-BmB22OdP.svg",det="https://ac.blooket.com/dashclassic/assets/Array_Tile_Spooky-BYEu7oY7.svg",fet="https://ac.blooket.com/dashclassic/assets/Array_Tile_Tropical-H6uvZaOa.svg",pet="https://ac.blooket.com/dashclassic/assets/Array_Tile_Wonderland-D_oloIw6.svg",vet="https://ac.blooket.com/dashclassic/assets/Array_Tile_Pirate-BbgcatPA.svg",met="https://ac.blooket.com/dashclassic/assets/Array_Tile_Autumn-CqwFf-RJ.svg",get="https://ac.blooket.com/dashclassic/assets/Array_Tile_Bug-DNr2rH7q.svg",yet="https://ac.blooket.com/dashclassic/assets/Array_Tile_Lunch-xQ-AE2z7.svg",xet={Aquatic:Ktt,Arctic:Jtt,Blizzard:Ztt,Bots:qtt,Breakfast:tet,Dino:eet,Farm:iet,Forest:ret,Hidden:net,IceMonster:set,Medieval:aet,Outback:oet,Pets:uet,Safari:het,Space:cet,Spooky:det,Tropical:fet,Wonderland:pet,Pirate:vet,Autumn:met,Bug:get,Lunch:yet},bet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Aquatic-D4fC_G1v.svg",wet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Arctic-DzaIX0Uv.svg",Tet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Blizzard-FwlNPZIo.svg",Cet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Bots-D7ASpw7Y.svg",Eet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Breakfast-B4PUbejt.svg",ket="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Dino-LR7kweKQ.svg",Pet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Farm-DLJOEU1H.svg",Aet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Forest-D7iXnxVN.svg",Ret="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Ice_Monster-BPkY957e.svg",Iet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Medieval-CqobdGj3.svg",Met="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Outback-B7eUZyV5.svg",Bet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Pets-BgCBMaDh.svg",Oet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Safari-BCPCVgql.svg",Net="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Space-BLoNMfKq.svg",Let="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Spooky-T-OEBdM8.svg",Fet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Tropical-DFEdkGBU.svg",Det="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Wonderland-B-wcr4i9.svg",_et="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Pirate-ew8qi374.svg",jet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Autumn-NlPLazWs.svg",zet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Bug-BmYON1mh.svg",Uet="https://ac.blooket.com/dashclassic/assets/Nav_Icon_Lunch-DUWKFHx8.svg",Get={Aquatic:bet,Arctic:wet,Blizzard:Tet,Bots:Cet,Breakfast:Eet,Dino:ket,Farm:Pet,Forest:Aet,IceMonster:Ret,Medieval:Iet,Outback:Met,Pets:Bet,Safari:Oet,Space:Net,Spooky:Let,Tropical:Fet,Wonderland:Det,Pirate:_et,Autumn:jet,Bug:zet,Lunch:Uet},Het="https://ac.blooket.com/dashclassic/assets/Aquatic_Pack-jzoFduWG.png",$et="https://ac.blooket.com/dashclassic/assets/Blizzard_Pack-BOoWpsti.png",Wet="https://ac.blooket.com/dashclassic/assets/Bot_Pack-DH_cssp8.png",Vet="https://ac.blooket.com/dashclassic/assets/Breakfast_Pack-Dbk28uOc.png",Yet="https://ac.blooket.com/dashclassic/assets/Dino_Pack-DAApPtRS.png",Xet="https://ac.blooket.com/dashclassic/assets/Ice_Monsters_Pack-BkSPnfqh.png",Qet="https://ac.blooket.com/dashclassic/assets/Medieval_Pack-Cv60cQFL.png",Ket="https://ac.blooket.com/dashclassic/assets/Outback_Pack-Y8OWSe8a.png",Jet="https://ac.blooket.com/dashclassic/assets/Safari_Pack-CH238vQG.png",Zet="https://ac.blooket.com/dashclassic/assets/Space_Pack-Ck3VoVFZ.png",qet="https://ac.blooket.com/dashclassic/assets/Spooky_Pack-B3my0xUo.png",tit="https://ac.blooket.com/dashclassic/assets/Wonderland_Pack-CaB8iqtb.png",eit="https://ac.blooket.com/dashclassic/assets/Pirate_Pack-Uir9GffU.png",iit="https://ac.blooket.com/dashclassic/assets/Autumn_Pack-C5VMbtyO.png",rit="https://ac.blooket.com/dashclassic/assets/Bug_Pack-Cm44315z.png",nit="https://ac.blooket.com/dashclassic/assets/Lunch_Pack-DWYwdJdz.png",sit={Aquatic:Het,Blizzard:$et,Bot:Wet,Breakfast:Vet,Dino:Yet,IceMonsters:Xet,Medieval:Qet,Outback:Ket,Safari:Jet,Space:Zet,Spooky:qet,Wonderland:tit,Pirate:eit,Autumn:iit,Bug:rit,Lunch:nit},ait="https://ac.blooket.com/dashclassic/assets/AquaticPackBottom-Dk36aDOZ.png",oit="https://ac.blooket.com/dashclassic/assets/BlizzardPackBottom-DECOyX4X.png",lit="https://ac.blooket.com/dashclassic/assets/BotPackBottom-iLZlOi2k.png",uit="https://ac.blooket.com/dashclassic/assets/BreakfastPackBottom-BePUCwMd.png",hit="https://ac.blooket.com/dashclassic/assets/DinoPackBottom-DPkVSzb5.png",cit="https://ac.blooket.com/dashclassic/assets/IceMonstersPackBottom-UDSf4--N.png",dit="https://ac.blooket.com/dashclassic/assets/MedievalPackBottom-DYgpSoFQ.png",fit="https://ac.blooket.com/dashclassic/assets/OutbackPackBottom-D1jQ4J55.png",pit="https://ac.blooket.com/dashclassic/assets/SafariPackBottom-C__RkKo-.png",vit="https://ac.blooket.com/dashclassic/assets/SpacePackBottom-D7AfM-Ek.png",mit="https://ac.blooket.com/dashclassic/assets/SpookyPackBottom-Bb7nZ1oD.png",git="https://ac.blooket.com/dashclassic/assets/WonderlandPackBottom-CI9kR2jx.png",yit="https://ac.blooket.com/dashclassic/assets/PiratePackBottom-BZOz9aW_.png",xit="https://ac.blooket.com/dashclassic/assets/AutumnPackBottom-C4jQFT0R.png",bit="https://ac.blooket.com/dashclassic/assets/BugPackBottom-C88wEd96.png",Sit="https://ac.blooket.com/dashclassic/assets/LunchPackBottom-DMHlxGQI.png",wit={Aquatic:ait,Blizzard:oit,Bot:lit,Breakfast:uit,Dino:hit,IceMonsters:cit,Medieval:dit,Outback:fit,Safari:pit,Space:vit,Spooky:mit,Wonderland:git,Pirate:yit,Autumn:xit,Bug:bit,Lunch:Sit},Tit="https://ac.blooket.com/dashclassic/assets/Cashier-BqZ02xhF.svg",Cit="https://ac.blooket.com/dashclassic/assets/CashierEaster-Bh0mFoyC.svg",Eit="https://ac.blooket.com/dashclassic/assets/CashierFall-Cg3ijRVn.svg",kit="https://ac.blooket.com/dashclassic/assets/CashierShamrock-DSHQnSgz.svg",Pit="https://ac.blooket.com/dashclassic/assets/CashierSpooky-CagSNFLd.svg",Ait="https://ac.blooket.com/dashclassic/assets/CashierWinter-BFKbO_d-.svg",Rit="https://ac.blooket.com/dashclassic/assets/Store-Cplf8Qtz.svg",Iit="https://ac.blooket.com/dashclassic/assets/StoreEaster-Ci0NZbMz.png",Mit="https://ac.blooket.com/dashclassic/assets/StoreFall-Cv90vKMQ.svg",Bit="https://ac.blooket.com/dashclassic/assets/StoreShamrock-DluE1k2K.svg",Oit="https://ac.blooket.com/dashclassic/assets/StoreSpooky-jY8ZeAsa.png",Nit="https://ac.blooket.com/dashclassic/assets/StoreWinter-DOhqNDCZ.svg",Lit={Cashier:Tit,CashierEaster:Cit,CashierFall:Eit,CashierShamrock:kit,CashierSpooky:Pit,CashierWinter:Ait,Store:Rit,StoreEaster:Iit,StoreFall:Mit,StoreShamrock:Bit,StoreSpooky:Oit,StoreWinter:Nit},Fit="https://ac.blooket.com/dashclassic/assets/uncommon1-yL2BU84K.svg",Dit="https://ac.blooket.com/dashclassic/assets/uncommon2-CE9UzEHC.svg",_it="https://ac.blooket.com/dashclassic/assets/uncommon3-C10Y2vxU.svg",jit="https://ac.blooket.com/dashclassic/assets/uncommon4-CDCRZ6FE.svg",zit="https://ac.blooket.com/dashclassic/assets/uncommon5-PV3px8P_.svg",Uit="https://ac.blooket.com/dashclassic/assets/uncommon6-CLpojwpY.svg",Git="https://ac.blooket.com/dashclassic/assets/uncommon7-B4jMHcUt.svg",Hit="https://ac.blooket.com/dashclassic/assets/rare1-D2_CdO_B.svg",$it="https://ac.blooket.com/dashclassic/assets/rare2-DneKuLDK.svg",Wit="https://ac.blooket.com/dashclassic/assets/rare3-BUPemjT8.svg",Vit="https://ac.blooket.com/dashclassic/assets/rare4-C7FUAL6k.svg",Yit="https://ac.blooket.com/dashclassic/assets/rare5-BTnMO-9F.svg",Xit="https://ac.blooket.com/dashclassic/assets/rare6-CLfRv1hr.svg",Qit="https://ac.blooket.com/dashclassic/assets/rare7-D6ZDTps5.svg",Kit="https://ac.blooket.com/dashclassic/assets/epic1-Ev0R6hfx.svg",Jit="https://ac.blooket.com/dashclassic/assets/epic2-C0oZnOVL.svg",Zit="https://ac.blooket.com/dashclassic/assets/epic3-wxQfdD_j.svg",qit="https://ac.blooket.com/dashclassic/assets/epic4-CCH54aQq.svg",trt="https://ac.blooket.com/dashclassic/assets/epic5-CLughOmm.svg",ert="https://ac.blooket.com/dashclassic/assets/epic6-DNNZzQcV.svg",irt="https://ac.blooket.com/dashclassic/assets/epic7-D4G2TmEM.svg",rrt="https://ac.blooket.com/dashclassic/assets/legendary1-CfsutOVi.svg",nrt="https://ac.blooket.com/dashclassic/assets/legendary2-B2zyA7-V.svg",srt="https://ac.blooket.com/dashclassic/assets/legendary3-C3aeA_Gg.svg",art="https://ac.blooket.com/dashclassic/assets/legendary4-DPnr2AMJ.svg",ort="https://ac.blooket.com/dashclassic/assets/legendary5-_aZVIvrn.svg",lrt="https://ac.blooket.com/dashclassic/assets/legendary6-B3XHGBJS.svg",urt="https://ac.blooket.com/dashclassic/assets/legendary7-BOecKyRq.svg",hrt="https://ac.blooket.com/dashclassic/assets/chroma1-i9hGthHG.svg",crt="https://ac.blooket.com/dashclassic/assets/chroma2-37oaxJoz.svg",drt="https://ac.blooket.com/dashclassic/assets/chroma3-Dczw7J6I.svg",frt="https://ac.blooket.com/dashclassic/assets/chroma4-DtTnzwAV.svg",prt="https://ac.blooket.com/dashclassic/assets/chroma5-DHZmGJ_x.svg",vrt="https://ac.blooket.com/dashclassic/assets/chroma6-D8XrDU6M.svg",mrt="https://ac.blooket.com/dashclassic/assets/chroma7-BTUtqlTq.svg",grt={uncommon1:Fit,uncommon2:Dit,uncommon3:_it,uncommon4:jit,uncommon5:zit,uncommon6:Uit,uncommon7:Git,rare1:Hit,rare2:$it,rare3:Wit,rare4:Vit,rare5:Yit,rare6:Xit,rare7:Qit,epic1:Kit,epic2:Jit,epic3:Zit,epic4:qit,epic5:trt,epic6:ert,epic7:irt,legendary1:rrt,legendary2:nrt,legendary3:srt,legendary4:art,legendary5:ort,legendary6:lrt,legendary7:urt,chroma1:hrt,chroma2:crt,chroma3:drt,chroma4:frt,chroma5:prt,chroma6:vrt,chroma7:mrt},yrt="https://ac.blooket.com/dashclassic/assets/BlooksUnlocked-C2aoxAs0.svg",xrt="https://ac.blooket.com/dashclassic/assets/CorrectAnswers-BMzYvD5t.svg",brt="https://ac.blooket.com/dashclassic/assets/CryptoIcon-UVd8wGsI.svg",Srt="https://ac.blooket.com/dashclassic/assets/Days-DFrhXKWm.svg",wrt="https://ac.blooket.com/dashclassic/assets/FactoryUpgrades-CqEofR-q.svg",Trt="https://ac.blooket.com/dashclassic/assets/FishWeight-DxmrKsPp.svg",Crt="https://ac.blooket.com/dashclassic/assets/GamesPlayed-ChTFMXFQ.svg",Ert="https://ac.blooket.com/dashclassic/assets/Gold-CrltWEr0.svg",krt="https://ac.blooket.com/dashclassic/assets/LevelStar-tmvShqvY.svg",Prt="https://ac.blooket.com/dashclassic/assets/PlayersDefeated-CO8z_rNu.svg",Art="https://ac.blooket.com/dashclassic/assets/Points-D4uD8X6I.svg",Rrt="https://ac.blooket.com/dashclassic/assets/RacingProgress-CBfHMMYl.svg",Irt="https://ac.blooket.com/dashclassic/assets/ShowdownWins-DoV57TSn.svg",Mrt="https://ac.blooket.com/dashclassic/assets/TimeBeforeReset-CDNOz-Y-.svg",Brt="https://ac.blooket.com/dashclassic/assets/Top5s-DqVmEajZ.svg",Ort="https://ac.blooket.com/dashclassic/assets/TotalCash-0BjvtiRQ.svg",Nrt="https://ac.blooket.com/dashclassic/assets/Wins-DwAC4320.svg",Lrt={BlooksUnlocked:yrt,CorrectAnswers:xrt,CryptoIcon:brt,Days:Srt,FactoryUpgrades:wrt,FishWeight:Trt,GamesPlayed:Crt,Gold:Ert,LevelStar:krt,PlayersDefeated:Prt,Points:Art,RacingProgress:Rrt,ShowdownWins:Irt,TimeBeforeReset:Mrt,Top5s:Brt,TotalCash:Ort,Wins:Nrt},Ee={basic:Kq,defense:rtt,dino:ctt,discoverCategories:wtt,shamrock:ktt,setBackgrounds:Qtt,setTextures:xet,setIcons:Get,fullPacks:sit,packBottoms:wit,market:Lit,rarityParticles:grt,profile:Lrt},pn=({title:e,desc:t})=>R.jsxs(U2,{children:[R.jsx("title",{children:e}),R.jsx("meta",{name:"description",content:t}),R.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"}),R.jsx("link",{rel:"apple-touch-icon",href:Ee.basic.blooket180,sizes:"180x180"}),R.jsx("link",{rel:"icon",type:"image/png",href:Ee.basic.blooket32,sizes:"32x32"}),R.jsx("link",{rel:"icon",type:"image/png",href:Ee.basic.blooket16,sizes:"16x16"})]});pn.propTypes={title:Xt.string,desc:Xt.string};const Frt="_header_1kbyw_1",Drt="_blooketText_1kbyw_18",_rt="_headerRight_1kbyw_31",jrt="_expandIcon_1kbyw_44",zrt="_headerLeft_1kbyw_52",Xp={header:Frt,blooketText:Drt,headerRight:_rt,expandIcon:jrt,headerLeft:zrt};var TL={exports:{}};(function(e,t){(function(r,n){e.exports=n(_i)})(globalThis,r=>(()=>{var n={991:(g,i,o)=>{o.d(i,{Z:()=>b});var m=o(156),c=o.n(m),l=o(697),h=o.n(l),a=o(703);function f(w){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},f(w)}var p=["latex","onChange","config","mathquillDidMount"];function u(){return u=Object.assign?Object.assign.bind():function(w){for(var C=1;C<arguments.length;C++){var E=arguments[C];for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(w[T]=E[T])}return w},u.apply(this,arguments)}function v(w,C){var E=Object.keys(w);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(w);C&&(T=T.filter(function(k){return Object.getOwnPropertyDescriptor(w,k).enumerable})),E.push.apply(E,T)}return E}function y(w){for(var C=1;C<arguments.length;C++){var E=arguments[C]!=null?arguments[C]:{};C%2?v(Object(E),!0).forEach(function(T){var k,A,I,B;k=w,A=T,I=E[T],B=function(M,O){if(f(M)!="object"||!M)return M;var P=M[Symbol.toPrimitive];if(P!==void 0){var L=P.call(M,"string");if(f(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}(A),(A=f(B)=="symbol"?B:String(B))in k?Object.defineProperty(k,A,{value:I,enumerable:!0,configurable:!0,writable:!0}):k[A]=I}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(E)):v(Object(E)).forEach(function(T){Object.defineProperty(w,T,Object.getOwnPropertyDescriptor(E,T))})}return w}var x=function(w){var C=w.latex,E=w.onChange,T=w.config,k=w.mathquillDidMount,A=function(P,L){if(P==null)return{};var _,G,$=function(Y,z){if(Y==null)return{};var F,N,j={},U=Object.keys(Y);for(N=0;N<U.length;N++)F=U[N],z.indexOf(F)>=0||(j[F]=Y[F]);return j}(P,L);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(P);for(G=0;G<W.length;G++)_=W[G],L.indexOf(_)>=0||Object.prototype.propertyIsEnumerable.call(P,_)&&($[_]=P[_])}return $}(w,p),I=(0,m.useRef)(2),B=(0,m.useRef)(null),M=(0,m.useRef)(null),O=(0,m.useRef)(E);return(0,m.useEffect)(function(){O.current=E},[E]),(0,m.useEffect)(function(){if(M.current){var P={restrictMismatchedBrackets:!0,handlers:{}};T&&(P=y(y({},P),T));var L=P.handlers.edit;P.handlers.edit=function(_){L&&L(),I.current>0?I.current-=1:O.current&&O.current(_)},B.current=a.Z.MathField(M.current,P),B.current.latex(C||""),k&&k(B.current)}},[M]),(0,m.useEffect)(function(){B.current&&B.current.latex()!==C&&B.current.latex(C)},[C]),c().createElement("span",u({},A,{ref:M}))};x.propTypes={latex:h().string,onChange:h().func,config:h().object,mathquillDidMount:h().func};const b=x},717:(g,i,o)=>{o.d(i,{Z:()=>v});var m=o(156),c=o.n(m),l=o(697),h=o.n(l),a=o(703),f=["mathquillDidMount","children"];function p(){return p=Object.assign?Object.assign.bind():function(y){for(var x=1;x<arguments.length;x++){var b=arguments[x];for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(y[w]=b[w])}return y},p.apply(this,arguments)}var u=function(y){var x=y.mathquillDidMount,b=y.children,w=function(T,k){if(T==null)return{};var A,I,B=function(O,P){if(O==null)return{};var L,_,G={},$=Object.keys(O);for(_=0;_<$.length;_++)L=$[_],P.indexOf(L)>=0||(G[L]=O[L]);return G}(T,k);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(T);for(I=0;I<M.length;I++)A=M[I],k.indexOf(A)>=0||Object.prototype.propertyIsEnumerable.call(T,A)&&(B[A]=T[A])}return B}(y,f),C=(0,m.useRef)(null),E=(0,m.useRef)(null);return(0,m.useLayoutEffect)(function(){C&&(E.current=a.Z.StaticMath(C.current),x&&x(E.current))},[C,b]),c().createElement("span",p({},w,{ref:C}),b)};u.propTypes={children:h().string,mathquillDidMount:h().func};const v=u},703:(g,i,o)=>{o.d(i,{Z:()=>m});const m=o(338).getInterface(2)},527:(g,i,o)=>{o.d(i,{Z:()=>a});var m=o(81),c=o.n(m),l=o(645),h=o.n(l)()(c());h.push([g.id,`/*
 * MathQuill v0.11.0, by Han, Jeanine, and Mary
 * http://mathquill.com | maintainers@mathquill.com
 *
 * This Source Code Form is subject to the terms of the
 * Mozilla Public License, v. 2.0. If a copy of the MPL
 * was not distributed with this file, You can obtain
 * one at http://mozilla.org/MPL/2.0/.
 */
@font-face {
  /* Heavy fonts have been removed */
  font-family: Symbola;
}
.mq-editable-field {
  display: -moz-inline-box;
  display: inline-block;
}
.mq-editable-field .mq-cursor {
  border-left: 1px solid black;
  margin-left: -1px;
  position: relative;
  z-index: 1;
  padding: 0;
  display: -moz-inline-box;
  display: inline-block;
}
.mq-editable-field .mq-cursor.mq-blink {
  visibility: hidden;
}
.mq-editable-field,
.mq-math-mode .mq-editable-field {
  border: 1px solid gray;
}
.mq-editable-field.mq-focused,
.mq-math-mode .mq-editable-field.mq-focused {
  -webkit-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;
  -moz-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;
  box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;
  border-color: #709AC0;
  border-radius: 1px;
}
.mq-math-mode .mq-editable-field {
  margin: 1px;
}
.mq-editable-field .mq-latex-command-input {
  color: inherit;
  font-family: "Courier New", monospace;
  border: 1px solid gray;
  padding-right: 1px;
  margin-right: 1px;
  margin-left: 2px;
}
.mq-editable-field .mq-latex-command-input.mq-empty {
  background: transparent;
}
.mq-editable-field .mq-latex-command-input.mq-hasCursor {
  border-color: ActiveBorder;
}
.mq-editable-field.mq-empty:after,
.mq-editable-field.mq-text-mode:after,
.mq-math-mode .mq-empty:after {
  visibility: hidden;
  content: 'c';
}
.mq-editable-field .mq-cursor:only-child:after,
.mq-editable-field .mq-textarea + .mq-cursor:last-child:after {
  visibility: hidden;
  content: 'c';
}
.mq-editable-field .mq-text-mode .mq-cursor:only-child:after {
  content: '';
}
.mq-editable-field.mq-text-mode {
  overflow-x: auto;
  overflow-y: hidden;
}
.mq-root-block,
.mq-math-mode .mq-root-block {
  display: -moz-inline-box;
  display: inline-block;
  width: 100%;
  padding: 2px;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  white-space: nowrap;
  overflow: hidden;
  vertical-align: middle;
}
.mq-math-mode {
  font-variant: normal;
  font-weight: normal;
  font-style: normal;
  font-size: 115%;
  line-height: 1;
  display: -moz-inline-box;
  display: inline-block;
}
.mq-math-mode .mq-non-leaf,
.mq-math-mode .mq-scaled {
  display: -moz-inline-box;
  display: inline-block;
}
.mq-math-mode var,
.mq-math-mode .mq-text-mode,
.mq-math-mode .mq-nonSymbola {
  font-family: "Times New Roman", Symbola, serif;
  line-height: 0.9;
}
.mq-math-mode * {
  font-size: inherit;
  line-height: inherit;
  margin: 0;
  padding: 0;
  border-color: black;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  box-sizing: border-box;
}
.mq-math-mode .mq-empty {
  background: #ccc;
}
.mq-math-mode .mq-empty.mq-root-block {
  background: transparent;
}
.mq-math-mode.mq-empty {
  background: transparent;
}
.mq-math-mode .mq-text-mode {
  display: inline-block;
  white-space: pre;
}
.mq-math-mode .mq-text-mode.mq-hasCursor {
  box-shadow: inset darkgray 0 0.1em 0.2em;
  padding: 0 0.1em;
  margin: 0 -0.1em;
  min-width: 1ex;
}
.mq-math-mode .mq-font {
  font: 1em "Times New Roman", Symbola, serif;
}
.mq-math-mode .mq-font * {
  font-family: inherit;
  font-style: inherit;
}
.mq-math-mode b,
.mq-math-mode b.mq-font {
  font-weight: bolder;
}
.mq-math-mode var,
.mq-math-mode i,
.mq-math-mode i.mq-font {
  font-style: italic;
}
.mq-math-mode var.mq-f {
  margin-right: 0.2em;
  margin-left: 0.1em;
}
.mq-math-mode .mq-roman var.mq-f {
  margin: 0;
}
.mq-math-mode big {
  font-size: 200%;
}
.mq-math-mode .mq-int > big {
  display: inline-block;
  -webkit-transform: scaleX(0.7);
  -moz-transform: scaleX(0.7);
  -ms-transform: scaleX(0.7);
  -o-transform: scaleX(0.7);
  transform: scaleX(0.7);
  vertical-align: -0.16em;
}
.mq-math-mode .mq-int > .mq-supsub {
  font-size: 80%;
  vertical-align: -1.1em;
  padding-right: 0.2em;
}
.mq-math-mode .mq-int > .mq-supsub > .mq-sup > .mq-sup-inner {
  vertical-align: 1.3em;
}
.mq-math-mode .mq-int > .mq-supsub > .mq-sub {
  margin-left: -0.35em;
}
.mq-math-mode .mq-roman {
  font-style: normal;
}
.mq-math-mode .mq-sans-serif {
  font-family: sans-serif, Symbola, serif;
}
.mq-math-mode .mq-monospace {
  font-family: monospace, Symbola, serif;
}
.mq-math-mode .mq-overline {
  border-top: 1px solid black;
  margin-top: 1px;
}
.mq-math-mode .mq-underline {
  border-bottom: 1px solid black;
  margin-bottom: 1px;
}
.mq-math-mode .mq-binary-operator {
  padding: 0 0.2em;
  display: -moz-inline-box;
  display: inline-block;
}
.mq-math-mode .mq-supsub {
  text-align: left;
  font-size: 90%;
  vertical-align: -0.5em;
}
.mq-math-mode .mq-supsub.mq-sup-only {
  vertical-align: 0.5em;
}
.mq-math-mode .mq-supsub.mq-sup-only .mq-sup {
  display: inline-block;
  vertical-align: text-bottom;
}
.mq-math-mode .mq-supsub .mq-sup {
  display: block;
}
.mq-math-mode .mq-supsub .mq-sub {
  display: block;
  float: left;
}
.mq-math-mode .mq-supsub .mq-binary-operator {
  padding: 0 0.1em;
}
.mq-math-mode .mq-supsub .mq-fraction {
  font-size: 70%;
}
.mq-math-mode sup.mq-nthroot {
  font-size: 80%;
  vertical-align: 0.8em;
  margin-right: -0.6em;
  margin-left: 0.2em;
  min-width: 0.5em;
}
.mq-math-mode .mq-paren {
  padding: 0 0.1em;
  vertical-align: top;
  -webkit-transform-origin: center 0.06em;
  -moz-transform-origin: center 0.06em;
  -ms-transform-origin: center 0.06em;
  -o-transform-origin: center 0.06em;
  transform-origin: center 0.06em;
}
.mq-math-mode .mq-paren.mq-ghost {
  color: silver;
}
.mq-math-mode .mq-paren + span {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}
.mq-math-mode .mq-array {
  vertical-align: middle;
  text-align: center;
}
.mq-math-mode .mq-array > span {
  display: block;
}
.mq-math-mode .mq-operator-name {
  font-family: Symbola, "Times New Roman", serif;
  line-height: 0.9;
  font-style: normal;
}
.mq-math-mode var.mq-operator-name.mq-first {
  padding-left: 0.2em;
}
.mq-math-mode var.mq-operator-name.mq-last,
.mq-math-mode .mq-supsub.mq-after-operator-name {
  padding-right: 0.2em;
}
.mq-math-mode .mq-fraction {
  font-size: 90%;
  text-align: center;
  vertical-align: -0.4em;
  padding: 0 0.2em;
}
.mq-math-mode .mq-fraction,
.mq-math-mode .mq-large-operator,
.mq-math-mode x:-moz-any-link {
  display: -moz-groupbox;
}
.mq-math-mode .mq-fraction,
.mq-math-mode .mq-large-operator,
.mq-math-mode x:-moz-any-link,
.mq-math-mode x:default {
  display: inline-block;
}
.mq-math-mode .mq-numerator,
.mq-math-mode .mq-denominator,
.mq-math-mode .mq-dot-recurring {
  display: block;
}
.mq-math-mode .mq-numerator {
  padding: 0 0.1em;
}
.mq-math-mode .mq-denominator {
  border-top: 1px solid;
  float: right;
  width: 100%;
  padding: 0.1em;
}
.mq-math-mode .mq-dot-recurring {
  text-align: center;
  height: 0.3em;
}
.mq-math-mode .mq-sqrt-prefix {
  padding-top: 0;
  position: relative;
  top: 0.1em;
  vertical-align: top;
  -webkit-transform-origin: top;
  -moz-transform-origin: top;
  -ms-transform-origin: top;
  -o-transform-origin: top;
  transform-origin: top;
}
.mq-math-mode .mq-sqrt-stem {
  border-top: 1px solid;
  margin-top: 1px;
  padding-left: 0.15em;
  padding-right: 0.2em;
  margin-right: 0.1em;
  padding-top: 1px;
}
.mq-math-mode .mq-diacritic-above {
  display: block;
  text-align: center;
  line-height: 0.4em;
}
.mq-math-mode .mq-diacritic-stem {
  display: block;
  text-align: center;
}
.mq-math-mode .mq-hat-prefix {
  display: block;
  text-align: center;
  line-height: 0.95em;
  margin-bottom: -0.7em;
  transform: scaleX(1.5);
  -moz-transform: scaleX(1.5);
  -o-transform: scaleX(1.5);
  -webkit-transform: scaleX(1.5);
}
.mq-math-mode .mq-hat-stem {
  display: block;
}
.mq-math-mode .mq-large-operator {
  vertical-align: -0.2em;
  padding: 0.2em;
  text-align: center;
}
.mq-math-mode .mq-large-operator .mq-from,
.mq-math-mode .mq-large-operator big,
.mq-math-mode .mq-large-operator .mq-to {
  display: block;
}
.mq-math-mode .mq-large-operator .mq-from,
.mq-math-mode .mq-large-operator .mq-to {
  font-size: 80%;
}
.mq-math-mode .mq-large-operator .mq-from {
  float: right;
  /* take out of normal flow to manipulate baseline */
  width: 100%;
}
.mq-math-mode,
.mq-math-mode .mq-editable-field {
  cursor: text;
  font-family: Symbola, "Times New Roman", serif;
}
.mq-math-mode .mq-overarc {
  border-top: 1px solid black;
  -webkit-border-top-right-radius: 50% 0.3em;
  -moz-border-radius-topright: 50% 0.3em;
  border-top-right-radius: 50% 0.3em;
  -webkit-border-top-left-radius: 50% 0.3em;
  -moz-border-radius-topleft: 50% 0.3em;
  border-top-left-radius: 50% 0.3em;
  margin-top: 1px;
  padding-top: 0.15em;
}
.mq-math-mode .mq-overarrow {
  min-width: 0.5em;
  border-top: 1px solid black;
  margin-top: 1px;
  padding-top: 0.2em;
  text-align: center;
}
.mq-math-mode .mq-overarrow:before {
  display: block;
  position: relative;
  top: -0.34em;
  font-size: 0.5em;
  line-height: 0em;
  content: '\\27A4';
  text-align: right;
}
.mq-math-mode .mq-overarrow.mq-arrow-left:before {
  -moz-transform: scaleX(-1);
  -o-transform: scaleX(-1);
  -webkit-transform: scaleX(-1);
  transform: scaleX(-1);
  filter: FlipH;
  -ms-filter: "FlipH";
}
.mq-math-mode .mq-overarrow.mq-arrow-both {
  vertical-align: text-bottom;
}
.mq-math-mode .mq-overarrow.mq-arrow-both.mq-empty {
  min-height: 1.23em;
}
.mq-math-mode .mq-overarrow.mq-arrow-both.mq-empty:after {
  top: -0.34em;
}
.mq-math-mode .mq-overarrow.mq-arrow-both:before {
  -moz-transform: scaleX(-1);
  -o-transform: scaleX(-1);
  -webkit-transform: scaleX(-1);
  transform: scaleX(-1);
  filter: FlipH;
  -ms-filter: "FlipH";
}
.mq-math-mode .mq-overarrow.mq-arrow-both:after {
  display: block;
  position: relative;
  top: -2.3em;
  font-size: 0.5em;
  line-height: 0em;
  content: '\\27A4';
  visibility: visible;
  text-align: right;
}
.mq-math-mode .mq-selection,
.mq-editable-field .mq-selection,
.mq-math-mode .mq-selection .mq-non-leaf,
.mq-editable-field .mq-selection .mq-non-leaf,
.mq-math-mode .mq-selection .mq-scaled,
.mq-editable-field .mq-selection .mq-scaled {
  background: #B4D5FE !important;
  background: Highlight !important;
  color: HighlightText;
  border-color: HighlightText;
}
.mq-math-mode .mq-selection .mq-matrixed,
.mq-editable-field .mq-selection .mq-matrixed {
  background: #39F !important;
}
.mq-math-mode .mq-selection .mq-matrixed-container,
.mq-editable-field .mq-selection .mq-matrixed-container {
  filter: progid:DXImageTransform.Microsoft.Chroma(color='#3399FF') !important;
}
.mq-math-mode .mq-selection.mq-blur,
.mq-editable-field .mq-selection.mq-blur,
.mq-math-mode .mq-selection.mq-blur .mq-non-leaf,
.mq-editable-field .mq-selection.mq-blur .mq-non-leaf,
.mq-math-mode .mq-selection.mq-blur .mq-scaled,
.mq-editable-field .mq-selection.mq-blur .mq-scaled,
.mq-math-mode .mq-selection.mq-blur .mq-matrixed,
.mq-editable-field .mq-selection.mq-blur .mq-matrixed {
  background: #D4D4D4 !important;
  color: black;
  border-color: black;
}
.mq-math-mode .mq-selection.mq-blur .mq-matrixed-container,
.mq-editable-field .mq-selection.mq-blur .mq-matrixed-container {
  filter: progid:DXImageTransform.Microsoft.Chroma(color='#D4D4D4') !important;
}
.mq-editable-field .mq-textarea,
.mq-math-mode .mq-textarea {
  position: relative;
  -webkit-user-select: text;
  -moz-user-select: text;
  user-select: text;
}
.mq-editable-field .mq-textarea *,
.mq-math-mode .mq-textarea *,
.mq-editable-field .mq-selectable,
.mq-math-mode .mq-selectable {
  -webkit-user-select: text;
  -moz-user-select: text;
  user-select: text;
  position: absolute;
  clip: rect(1em 1em 1em 1em);
  -webkit-transform: scale(0);
  -moz-transform: scale(0);
  -ms-transform: scale(0);
  -o-transform: scale(0);
  transform: scale(0);
  resize: none;
  width: 1px;
  height: 1px;
  box-sizing: content-box;
}
.mq-math-mode .mq-matrixed {
  background: white;
  display: -moz-inline-box;
  display: inline-block;
}
.mq-math-mode .mq-matrixed-container {
  filter: progid:DXImageTransform.Microsoft.Chroma(color='white');
  margin-top: -0.1em;
}
`,""]);const a=h},645:g=>{g.exports=function(i){var o=[];return o.toString=function(){return this.map(function(m){var c="",l=m[5]!==void 0;return m[4]&&(c+="@supports (".concat(m[4],") {")),m[2]&&(c+="@media ".concat(m[2]," {")),l&&(c+="@layer".concat(m[5].length>0?" ".concat(m[5]):""," {")),c+=i(m),l&&(c+="}"),m[2]&&(c+="}"),m[4]&&(c+="}"),c}).join("")},o.i=function(m,c,l,h,a){typeof m=="string"&&(m=[[null,m,void 0]]);var f={};if(l)for(var p=0;p<this.length;p++){var u=this[p][0];u!=null&&(f[u]=!0)}for(var v=0;v<m.length;v++){var y=[].concat(m[v]);l&&f[y[0]]||(a!==void 0&&(y[5]===void 0||(y[1]="@layer".concat(y[5].length>0?" ".concat(y[5]):""," {").concat(y[1],"}")),y[5]=a),c&&(y[2]&&(y[1]="@media ".concat(y[2]," {").concat(y[1],"}")),y[2]=c),h&&(y[4]?(y[1]="@supports (".concat(y[4],") {").concat(y[1],"}"),y[4]=h):y[4]="".concat(h)),o.push(y))}},o}},81:g=>{g.exports=function(i){return i[1]}},338:(g,i,o)=>{var m=o(755);window.jQuery=m,function(){var c,l=window.jQuery,h="mathquill-command-id",a="mathquill-block-id",f=Math.min,p=Math.max;if(!l)throw"MathQuill requires jQuery 1.5.2+ to be loaded first";function u(){}var v=[].slice;function y(ft){var Et=ft.length-1;return function(){var X=v.call(arguments,0,Et),Z=v.call(arguments,Et);return ft.apply(this,X.concat([Z]))}}var x=y(function(ft,Et){return y(function(X,Z){if(ft in X)return X[ft].apply(X,Et.concat(Z))})});function b(ft){return y(function(Et,X){return typeof Et!="function"&&(Et=x(Et)),ft.call(this,function(Z){return Et.apply(Z,[Z].concat(X))})})}function w(ft){var Et=v.call(arguments,1);return function(){return ft.apply(this,Et)}}function C(ft,Et){if(!Et)throw new Error("prayer failed: "+ft)}var E=function(ft,Et,X){function Z(Jt){return typeof Jt=="object"}function ut(Jt){return typeof Jt=="function"}function Rt(){}return function Jt(ce,de){function Ge(){var Pi=new pi;return ut(Pi.init)&&Pi.init.apply(Pi,arguments),Pi}function pi(){}de===void 0&&(de=ce,ce=Object),Ge.Bare=pi;var Ui,Yi=Rt[ft]=ce[ft],cr=pi[ft]=Ge[ft]=Ge.p=new Rt;return cr.constructor=Ge,Ge.extend=function(Pi){return Jt(Ge,Pi)},(Ge.open=function(Pi){if(Ui={},ut(Pi)?Ui=Pi.call(Ge,cr,Yi,Ge,ce):Z(Pi)&&(Ui=Pi),Z(Ui))for(var Or in Ui)Et.call(Ui,Or)&&(cr[Or]=Ui[Or]);return ut(cr.init)||(cr.init=ce),Ge})(de)}}("prototype",{}.hasOwnProperty),T=-1;function k(ft){C("a direction was passed",ft===T||ft===1)}var A=E(l,function(ft){ft.insDirOf=function(Et,X){return Et===T?this.insertBefore(X.first()):this.insertAfter(X.last())},ft.insAtDirEnd=function(Et,X){return Et===T?this.prependTo(X):this.appendTo(X)}}),I=E(function(ft){ft.parent=0,ft[T]=0,ft[1]=0,ft.init=function(Et,X,Z){this.parent=Et,this[T]=X,this[1]=Z},this.copy=function(Et){return I(Et.parent,Et[T],Et[1])}}),B=E(function(ft){ft[T]=0,ft[1]=0,ft.parent=0;var Et=0;this.byId={},ft.init=function(){this.id=Et+=1,B.byId[this.id]=this,this.ends={},this.ends[T]=0,this.ends[1]=0},ft.dispose=function(){delete B.byId[this.id]},ft.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},ft.jQ=A(),ft.jQadd=function(X){return this.jQ=this.jQ.add(X)},ft.jQize=function(X){function Z(Rt){if(Rt.getAttribute){var Jt=Rt.getAttribute("mathquill-command-id"),ce=Rt.getAttribute("mathquill-block-id");Jt&&B.byId[Jt].jQadd(Rt),ce&&B.byId[ce].jQadd(Rt)}for(Rt=Rt.firstChild;Rt;Rt=Rt.nextSibling)Z(Rt)}X=A(X||this.html());for(var ut=0;ut<X.length;ut+=1)Z(X[ut]);return X},ft.createDir=function(X,Z){k(X);var ut=this;return ut.jQize(),ut.jQ.insDirOf(X,Z.jQ),Z[X]=ut.adopt(Z.parent,Z[T],Z[1]),ut},ft.createLeftOf=function(X){return this.createDir(T,X)},ft.selectChildren=function(X,Z){return G(X,Z)},ft.bubble=b(function(X){for(var Z=this;Z&&X(Z)!==!1;Z=Z.parent);return this}),ft.postOrder=b(function(X){return function Z(ut){ut.eachChild(Z),X(ut)}(this),this}),ft.isEmpty=function(){return this.ends[T]===0&&this.ends[1]===0},ft.isStyleBlock=function(){return!1},ft.children=function(){return O(this.ends[T],this.ends[1])},ft.eachChild=function(){var X=this.children();return X.each.apply(X,arguments),this},ft.foldChildren=function(X,Z){return this.children().fold(X,Z)},ft.withDirAdopt=function(X,Z,ut,Rt){return O(this,this).withDirAdopt(X,Z,ut,Rt),this},ft.adopt=function(X,Z,ut){return O(this,this).adopt(X,Z,ut),this},ft.disown=function(){return O(this,this).disown(),this},ft.remove=function(){return this.jQ.remove(),this.postOrder("dispose"),this.disown()}});function M(ft,Et,X){C("a parent is always present",ft),C("leftward is properly set up",Et?Et[1]===X&&Et.parent===ft:ft.ends[T]===X),C("rightward is properly set up",X?X[T]===Et&&X.parent===ft:ft.ends[1]===Et)}var O=E(function(ft){ft.init=function(Et,X,Z){if(Z===c&&(Z=T),k(Z),C("no half-empty fragments",!Et==!X),this.ends={},Et){C("withDir is passed to Fragment",Et instanceof B),C("oppDir is passed to Fragment",X instanceof B),C("withDir and oppDir have the same parent",Et.parent===X.parent),this.ends[Z]=Et,this.ends[-Z]=X;var ut=this.fold([],function(Rt,Jt){return Rt.push.apply(Rt,Jt.jQ.get()),Rt});this.jQ=this.jQ.add(ut)}},ft.jQ=A(),ft.withDirAdopt=function(Et,X,Z,ut){return Et===T?this.adopt(X,Z,ut):this.adopt(X,ut,Z)},ft.adopt=function(Et,X,Z){M(Et,X,Z);var ut=this;ut.disowned=!1;var Rt=ut.ends[T];if(!Rt)return this;var Jt=ut.ends[1];return X||(Et.ends[T]=Rt),Z?Z[T]=Jt:Et.ends[1]=Jt,ut.ends[1][1]=Z,ut.each(function(ce){ce[T]=X,ce.parent=Et,X&&(X[1]=ce),X=ce}),ut},ft.disown=function(){var Et=this,X=Et.ends[T];if(!X||Et.disowned)return Et;Et.disowned=!0;var Z=Et.ends[1],ut=X.parent;return M(ut,X[T],X),M(ut,Z,Z[1]),X[T]?X[T][1]=Z[1]:ut.ends[T]=Z[1],Z[1]?Z[1][T]=X[T]:ut.ends[1]=X[T],Et},ft.remove=function(){return this.jQ.remove(),this.each("postOrder","dispose"),this.disown()},ft.each=b(function(Et){var X=this,Z=X.ends[T];if(!Z)return X;for(;Z!==X.ends[1][1]&&Et(Z)!==!1;Z=Z[1]);return X}),ft.fold=function(Et,X){return this.each(function(Z){Et=X.call(this,Et,Z)}),Et}}),P={},L={},_=E(I,function(ft){ft.init=function(Et,X){this.parent=Et,this.options=X;var Z=this.jQ=this._jQ=A('<span class="mq-cursor">&#8203;</span>');this.blink=function(){Z.toggleClass("mq-blink")},this.upDownCache={}},ft.show=function(){return this.jQ=this._jQ.removeClass("mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[1]?this.selection&&this.selection.ends[T][T]===this[T]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[1].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},ft.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=A(),this},ft.withDirInsertAt=function(Et,X,Z,ut){var Rt=this.parent;this.parent=X,this[Et]=Z,this[-Et]=ut,Rt!==X&&Rt.blur&&Rt.blur(this)},ft.insDirOf=function(Et,X){return k(Et),this.jQ.insDirOf(Et,X.jQ),this.withDirInsertAt(Et,X.parent,X[Et],X),this.parent.jQ.addClass("mq-hasCursor"),this},ft.insLeftOf=function(Et){return this.insDirOf(T,Et)},ft.insRightOf=function(Et){return this.insDirOf(1,Et)},ft.insAtDirEnd=function(Et,X){return k(Et),this.jQ.insAtDirEnd(Et,X.jQ),this.withDirInsertAt(Et,X,0,X.ends[Et]),X.focus(),this},ft.insAtLeftEnd=function(Et){return this.insAtDirEnd(T,Et)},ft.insAtRightEnd=function(Et){return this.insAtDirEnd(1,Et)},ft.jumpUpDown=function(Et,X){var Z=this;Z.upDownCache[Et.id]=I.copy(Z);var ut=Z.upDownCache[X.id];if(ut)ut[1]?Z.insLeftOf(ut[1]):Z.insAtRightEnd(ut.parent);else{var Rt=Z.offset().left;X.seek(Rt,Z)}},ft.offset=function(){var Et=this.jQ.removeClass("mq-cursor").offset();return this.jQ.addClass("mq-cursor"),Et},ft.unwrapGramp=function(){var Et=this.parent.parent,X=Et.parent,Z=Et[1],ut=Et[T];if(Et.disown().eachChild(function(Rt){Rt.isEmpty()||(Rt.children().adopt(X,ut,Z).each(function(Jt){Jt.jQ.insertBefore(Et.jQ.first())}),ut=Rt.ends[1])}),!this[1])if(this[T])this[1]=this[T][1];else for(;!this[1];){if(this.parent=this.parent[1],!this.parent){this[1]=Et[1],this.parent=X;break}this[1]=this.parent.ends[T]}this[1]?this.insLeftOf(this[1]):this.insAtRightEnd(X),Et.jQ.remove(),Et[T].siblingDeleted&&Et[T].siblingDeleted(this.options,1),Et[1].siblingDeleted&&Et[1].siblingDeleted(this.options,T)},ft.startSelection=function(){for(var Et=this.anticursor=I.copy(this),X=Et.ancestors={},Z=Et;Z.parent;Z=Z.parent)X[Z.parent.id]=Z},ft.endSelection=function(){delete this.anticursor},ft.select=function(){var Et=this.anticursor;if(this[T]===Et[T]&&this.parent===Et.parent)return!1;for(var X=this;X.parent;X=X.parent)if(X.parent.id in Et.ancestors){var Z=X.parent;break}C("cursor and anticursor in the same tree",Z);var ut,Rt,Jt=Et.ancestors[Z.id],ce=1;if(X[T]!==Jt){for(var de=X;de;de=de[1])if(de[1]===Jt[1]){ce=T,ut=X,Rt=Jt;break}}return ce===1&&(ut=Jt,Rt=X),ut instanceof I&&(ut=ut[1]),Rt instanceof I&&(Rt=Rt[T]),this.hide().selection=Z.selectChildren(ut,Rt),this.insDirOf(ce,this.selection.ends[ce]),this.selectionChanged(),!0},ft.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},ft.deleteSelection=function(){this.selection&&(this[T]=this.selection.ends[T][T],this[1]=this.selection.ends[1][1],this.selection.remove(),this.selectionChanged(),delete this.selection)},ft.replaceSelection=function(){var Et=this.selection;return Et&&(this[T]=Et.ends[T][T],this[1]=Et.ends[1][1],delete this.selection),Et},ft.depth=function(){for(var Et=this,X=0;Et=Et.parent;)X+=Et instanceof _t?1:0;return X},ft.isTooDeep=function(Et){if(this.options.maxDepth!==c)return this.depth()+(Et||0)>this.options.maxDepth}}),G=E(O,function(ft,Et){ft.init=function(){Et.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="mq-selection"></span>').parent()},ft.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),Et.adopt.apply(this,arguments)},ft.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},ft.join=function(X){return this.fold("",function(Z,ut){return Z+ut[X]()})}}),$=E(function(ft){ft.init=function(X,Z,ut){this.id=X.id,this.data={},this.root=X,this.container=Z,this.options=ut,X.controller=this,this.cursor=X.cursor=_(X,ut)},ft.handle=function(X,Z){var ut=this.options.handlers;if(ut&&ut.fns[X]){var Rt=ut.APIClasses[this.KIND_OF_MQ](this);Z===T||Z===1?ut.fns[X](Z,Rt):ut.fns[X](Rt)}};var Et=[];this.onNotify=function(X){Et.push(X)},ft.notify=function(){for(var X=0;X<Et.length;X+=1)Et[X].apply(this.cursor,arguments);return this}}),W={},Y=E(),z={},F=E(),N={};function j(){window.console&&console.warn(`You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:

    MathQuill = MathQuill.getInterface(1);
    // now MathQuill.MathField() works like it used to

See also the "\`dev\` branch (20142015)  v0.10.0 Migration Guide" at
  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide`)}function U(ft){return j(),Ch(ft)}U.prototype=F.p,U.VERSION="v0.11.0",U.interfaceVersion=function(ft){if(ft!==1)throw"Only interface version 1 supported. You specified: "+ft;return(j=function(){window.console&&console.warn(`You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:

    MathQuill = MathQuill.getInterface(1);
    // now MathQuill.MathField() works like it used to

See also the "\`dev\` branch (20142015)  v0.10.0 Migration Guide" at
  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide`)})(),U},U.getInterface=ot;var V=ot.MIN=1,q=ot.MAX=2;function ot(ft){if(!(V<=ft&&ft<=q))throw"Only interface versions between "+V+" and "+q+" supported. You specified: "+ft;function Et(Jt){if(!Jt||!Jt.nodeType)return null;var ce=A(Jt).children(".mq-root-block").attr(a),de=ce&&B.byId[ce].controller;return de?X[de.KIND_OF_MQ](de):null}var X={};function Z(Jt,ce){for(var de in ce&&ce.handlers&&(ce.handlers={fns:ce.handlers,APIClasses:X}),ce)if(ce.hasOwnProperty(de)){var Ge=ce[de],pi=z[de];Jt[de]=pi?pi(Ge):Ge}}Et.L=T,Et.R=1,Et.saneKeyboardEvents=K,Et.config=function(Jt){return Z(Y.p,Jt),this},Et.registerEmbed=function(Jt,ce){if(!/^[a-z][a-z0-9]*$/i.test(Jt))throw"Embed name must start with letter and be only letters and digits";N[Jt]=ce};var ut=X.AbstractMathQuill=E(F,function(Jt){Jt.init=function(ce){this.__controller=ce,this.__options=ce.options,this.id=ce.id,this.data=ce.data},Jt.__mathquillify=function(ce){var de=this.__controller,Ge=de.root,pi=de.container;de.createTextarea();var Ui=pi.addClass(ce).contents().detach();Ge.jQ=A('<span class="mq-root-block"/>').attr(a,Ge.id).appendTo(pi),this.latex(Ui.text()),this.revert=function(){return pi.empty().unbind(".mathquill").removeClass("mq-editable-field mq-math-mode mq-text-mode").append(Ui)}},Jt.config=function(ce){return Z(this.__options,ce),this},Jt.el=function(){return this.__controller.container[0]},Jt.text=function(){return this.__controller.exportText()},Jt.latex=function(ce){return arguments.length>0?(this.__controller.renderLatexMath(ce),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},Jt.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?mq-cursor( mq-blink)?"?>.?<\/span>/i,"").replace(/ mq-hasCursor|mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},Jt.reflow=function(){return this.__controller.root.postOrder("reflow"),this}});for(var Rt in Et.prototype=ut.prototype,X.EditableField=E(ut,function(Jt,ce){Jt.__mathquillify=function(){return ce.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},Jt.focus=function(){return this.__controller.textarea.focus(),this},Jt.blur=function(){return this.__controller.textarea.blur(),this},Jt.write=function(de){return this.__controller.writeLatex(de),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},Jt.empty=function(){var de=this.__controller.root,Ge=this.__controller.cursor;return de.eachChild("postOrder","dispose"),de.ends[T]=de.ends[1]=0,de.jQ.empty(),delete Ge.selection,Ge.insAtRightEnd(de),this},Jt.cmd=function(de){var Ge=this.__controller.notify(),pi=Ge.cursor;if(/^\\[a-z]+$/i.test(de)&&!pi.isTooDeep()){de=de.slice(1);var Ui=P[de];Ui&&(de=Ui(de),pi.selection&&de.replaces(pi.replaceSelection()),de.createLeftOf(pi.show()),this.__controller.scrollHoriz())}else pi.parent.write(pi,de);return Ge.blurred&&pi.hide().parent.blur(),this},Jt.select=function(){var de=this.__controller;for(de.notify("move").cursor.insAtRightEnd(de.root);de.cursor[T];)de.selectLeft();return this},Jt.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},Jt.moveToDirEnd=function(de){return this.__controller.notify("move").cursor.insAtDirEnd(de,this.__controller.root),this},Jt.moveToLeftEnd=function(){return this.moveToDirEnd(T)},Jt.moveToRightEnd=function(){return this.moveToDirEnd(1)},Jt.keystroke=function(de){de=de.replace(/^\s+|\s+$/g,"").split(/\s+/);for(var Ge=0;Ge<de.length;Ge+=1)this.__controller.keystroke(de[Ge],{preventDefault:u});return this},Jt.typedText=function(de){for(var Ge=0;Ge<de.length;Ge+=1)this.__controller.typedText(de.charAt(Ge));return this},Jt.dropEmbedded=function(de,Ge,pi){var Ui=de-A(window).scrollLeft(),Yi=Ge-A(window).scrollTop(),cr=document.elementFromPoint(Ui,Yi);this.__controller.seek(A(cr),de,Ge),cs().setOptions(pi).createLeftOf(this.__controller.cursor)},Jt.clickAt=function(de,Ge,pi){pi=pi||document.elementFromPoint(de,Ge);var Ui=this.__controller,Yi=Ui.root;return l.contains(Yi.jQ[0],pi)||(pi=Yi.jQ[0]),Ui.seek(A(pi),de+pageXOffset,Ge+pageYOffset),Ui.blurred&&this.focus(),this},Jt.ignoreNextMousedown=function(de){return this.__controller.cursor.options.ignoreNextMousedown=de,this}}),Et.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"},Et.EditableField.prototype=X.EditableField.prototype,W)(function(Jt,ce){var de=X[Jt]=ce(X);Et[Jt]=function(Ge,pi){var Ui=Et(Ge);if(Ui instanceof de||!Ge||!Ge.nodeType)return Ui;var Yi=$(de.RootBlock(),A(Ge),Y());return Yi.KIND_OF_MQ=Jt,de(Yi).__mathquillify(pi,ft)},Et[Jt].prototype=de.prototype})(Rt,W[Rt]);return Et}U.noConflict=function(){return window.MathQuill=Q,U};var Q=window.MathQuill;function rt(ft){for(var Et="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "),X=0;X<Et.length;X+=1)(function(Z){ft[Z]=function(ut){this.controller.handle(Z,ut)}})(Et[X]);ft.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}window.MathQuill=U;var Bt,K=(Bt={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},function(ft,Et){var X,Z=null,ut=null,Rt=l(ft),Jt=l(Et.container||Rt),ce=u;function de(Pi){ce=Pi,clearTimeout(X),X=setTimeout(Pi)}function Ge(Pi){de(function(Or){ce=u,clearTimeout(X),Pi(Or)})}Jt.bind("keydown keypress input keyup focusout paste",function(Pi){ce(Pi)});var pi=!1;function Ui(){Et.keystroke(function(Pi){var Or,_r=Pi.which||Pi.keyCode,an=Bt[_r],Ps=[];return Pi.ctrlKey&&Ps.push("Ctrl"),Pi.originalEvent&&Pi.originalEvent.metaKey&&Ps.push("Meta"),Pi.altKey&&Ps.push("Alt"),Pi.shiftKey&&Ps.push("Shift"),Or=an||String.fromCharCode(_r),Ps.length||an?(Ps.push(Or),Ps.join("-")):Or}(Z),Z)}function Yi(){if(!("selectionStart"in(Pi=Rt[0]))||Pi.selectionStart===Pi.selectionEnd){var Pi,Or=Rt.val();Or.length===1?(Rt.val(""),Et.typedText(Or)):Or&&Rt[0].select&&Rt[0].select()}}function cr(){var Pi=Rt.val();Rt.val(""),Pi&&Et.paste(Pi)}return Jt.bind({keydown:function(Pi){Z=Pi,ut=null,pi&&Ge(function(Or){Or&&Or.type==="focusout"||!Rt[0].select||Rt[0].select()}),Ui()},keypress:function(Pi){Z&&ut&&Ui(),ut=Pi,de(Yi)},keyup:function(Pi){Z&&!ut&&de(Yi)},focusout:function(){Z=ut=null},cut:function(){Ge(function(){Et.cut()})},copy:function(){Ge(function(){Et.copy()})},paste:function(Pi){Rt.focus(),de(cr)}}),{select:function(Pi){ce(),ce=u,clearTimeout(X),Rt.val(Pi),Pi&&Rt[0].select&&Rt[0].select(),pi=!!Pi}}}),Mt=E(function(ft,Et,X){function Z(ce,de){throw"Parse Error: "+de+" at "+(ce?"'"+ce+"'":"EOF")}ft.init=function(ce){this._=ce},ft.parse=function(ce){return this.skip(Jt)._(""+ce,function(de,Ge){return Ge},Z)},ft.or=function(ce){C("or is passed a parser",ce instanceof X);var de=this;return X(function(Ge,pi,Ui){return de._(Ge,pi,function(Yi){return ce._(Ge,pi,Ui)})})},ft.then=function(ce){var de=this;return X(function(Ge,pi,Ui){return de._(Ge,function(Yi,cr){var Pi=ce instanceof X?ce:ce(cr);return C("a parser is returned",Pi instanceof X),Pi._(Yi,pi,Ui)},Ui)})},ft.many=function(){var ce=this;return X(function(de,Ge,pi){for(var Ui=[];ce._(de,Yi,cr););return Ge(de,Ui);function Yi(Pi,Or){return de=Pi,Ui.push(Or),!0}function cr(){return!1}})},ft.times=function(ce,de){arguments.length<2&&(de=ce);var Ge=this;return X(function(pi,Ui,Yi){for(var cr,Pi=[],Or=!0,_r=0;_r<ce;_r+=1)if(!(Or=Ge._(pi,an,Ps)))return Yi(pi,cr);for(;_r<de&&Or;_r+=1)Or=Ge._(pi,an,Mc);return Ui(pi,Pi);function an(ul,zs){return Pi.push(zs),pi=ul,!0}function Ps(ul,zs){return cr=zs,pi=ul,!1}function Mc(ul,zs){return!1}})},ft.result=function(ce){return this.then(Rt(ce))},ft.atMost=function(ce){return this.times(0,ce)},ft.atLeast=function(ce){var de=this;return de.times(ce).then(function(Ge){return de.many().map(function(pi){return Ge.concat(pi)})})},ft.map=function(ce){return this.then(function(de){return Rt(ce(de))})},ft.skip=function(ce){return this.then(function(de){return ce.result(de)})},this.string=function(ce){var de=ce.length,Ge="expected '"+ce+"'";return X(function(pi,Ui,Yi){var cr=pi.slice(0,de);return cr===ce?Ui(pi.slice(de),cr):Yi(pi,Ge)})};var ut=this.regex=function(ce){C("regexp parser is anchored",ce.toString().charAt(1)==="^");var de="expected "+ce;return X(function(Ge,pi,Ui){var Yi=ce.exec(Ge);if(Yi){var cr=Yi[0];return pi(Ge.slice(cr.length),cr)}return Ui(Ge,de)})},Rt=X.succeed=function(ce){return X(function(de,Ge){return Ge(de,ce)})},Jt=(X.fail=function(ce){return X(function(de,Ge,pi){return pi(de,ce)})},X.letter=ut(/^[a-z]/i),X.letters=ut(/^[a-z]*/i),X.digit=ut(/^[0-9]/),X.digits=ut(/^[0-9]*/),X.whitespace=ut(/^\s+/),X.optWhitespace=ut(/^\s*/),X.any=X(function(ce,de,Ge){return ce?de(ce.slice(1),ce.charAt(0)):Ge(ce,"expected any character")}),X.all=X(function(ce,de,Ge){return de("",ce)}),X.eof=X(function(ce,de,Ge){return ce?Ge(ce,"expected EOF"):de(ce,ce)}))});$.open(function(ft){ft.focusBlurEvents=function(){var Et,X=this,Z=X.root,ut=X.cursor;function Rt(){clearTimeout(Et),ut.selection&&ut.selection.jQ.addClass("mq-blur"),Jt()}function Jt(){ut.hide().parent.blur(),X.container.removeClass("mq-focused"),A(window).unbind("blur",Rt)}X.textarea.focus(function(){X.blurred=!1,clearTimeout(Et),X.container.addClass("mq-focused"),ut.parent||ut.insAtRightEnd(Z),ut.selection?(ut.selection.jQ.removeClass("mq-blur"),X.selectionChanged()):ut.show()}).blur(function(){X.blurred=!0,Et=setTimeout(function(){Z.postOrder("intentionalBlur"),ut.clearSelection().endSelection(),Jt()}),A(window).bind("blur",Rt)}),X.blurred=!0,ut.hide().parent.blur()}}),$.open(function(ft,Et){ft.exportText=function(){return this.root.foldChildren("",function(X,Z){return X+Z.text()})}}),$.open(function(ft){Y.p.ignoreNextMousedown=u,ft.delegateMouseEvents=function(){var Et=this.root.jQ;this.container.bind("mousedown.mathquill",function(X){var Z,ut=A(X.target).closest(".mq-root-block"),Rt=B.byId[ut.attr(a)||Et.attr(a)].controller,Jt=Rt.cursor,ce=Jt.blink,de=Rt.textareaSpan,Ge=Rt.textarea;function pi(Yi){Z=A(Yi.target)}function Ui(Yi){Jt.anticursor||Jt.startSelection(),Rt.seek(Z,Yi.pageX,Yi.pageY).cursor.select(),Z=c}X.preventDefault(),X.target.unselectable=!0,Jt.options.ignoreNextMousedown(X)||(Jt.options.ignoreNextMousedown=u,Rt.blurred&&(Rt.editable||ut.prepend(de),Ge.focus()),Jt.blink=u,Rt.seek(A(X.target),X.pageX,X.pageY).cursor.startSelection(),ut.mousemove(pi),A(X.target.ownerDocument).mousemove(Ui).mouseup(function Yi(cr){Jt.blink=ce,Jt.selection||(Rt.editable?Jt.show():de.detach()),ut.unbind("mousemove",pi),A(cr.target.ownerDocument).unbind("mousemove",Ui).unbind("mouseup",Yi)}))})}}),$.open(function(ft){ft.seek=function(Et,X,Z){var ut=this.notify("select").cursor;if(Et){var Rt=Et.attr(a)||Et.attr(h);if(!Rt){var Jt=Et.parent();Rt=Jt.attr(a)||Jt.attr(h)}}var ce=Rt?B.byId[Rt]:this.root;return C("nodeId is the id of some Node that exists",ce),ut.clearSelection().show(),ce.seek(X,ut),this.scrollHoriz(),this}}),$.open(function(ft){ft.keystroke=function(Et,X){this.cursor.parent.keystroke(Et,X,this)}}),B.open(function(ft){ft.keystroke=function(Et,X,Z){var ut=Z.cursor;switch(Et){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":Z.ctrlDeleteDir(T);break;case"Shift-Backspace":case"Backspace":Z.backspace();break;case"Esc":case"Tab":return void Z.escapeDir(1,Et,X);case"Shift-Tab":case"Shift-Esc":return void Z.escapeDir(T,Et,X);case"End":Z.notify("move").cursor.insAtRightEnd(ut.parent);break;case"Ctrl-End":Z.notify("move").cursor.insAtRightEnd(Z.root);break;case"Shift-End":for(;ut[1];)Z.selectRight();break;case"Ctrl-Shift-End":for(;ut[1]||ut.parent!==Z.root;)Z.selectRight();break;case"Home":Z.notify("move").cursor.insAtLeftEnd(ut.parent);break;case"Ctrl-Home":Z.notify("move").cursor.insAtLeftEnd(Z.root);break;case"Shift-Home":for(;ut[T];)Z.selectLeft();break;case"Ctrl-Shift-Home":for(;ut[T]||ut.parent!==Z.root;)Z.selectLeft();break;case"Left":Z.moveLeft();break;case"Shift-Left":Z.selectLeft();break;case"Ctrl-Left":break;case"Right":Z.moveRight();break;case"Shift-Right":Z.selectRight();break;case"Ctrl-Right":break;case"Up":Z.moveUp();break;case"Down":Z.moveDown();break;case"Shift-Up":if(ut[T])for(;ut[T];)Z.selectLeft();else Z.selectLeft();case"Shift-Down":if(ut[1])for(;ut[1];)Z.selectRight();else Z.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":Z.ctrlDeleteDir(1);break;case"Shift-Del":case"Del":Z.deleteForward();break;case"Meta-A":case"Ctrl-A":for(Z.notify("move").cursor.insAtRightEnd(Z.root);ut[T];)Z.selectLeft();break;default:return}X.preventDefault(),Z.scrollHoriz()},ft.moveOutOf=ft.moveTowards=ft.deleteOutOf=ft.deleteTowards=ft.unselectInto=ft.selectOutOf=ft.selectTowards=function(){C("overridden or never called on this node")}}),$.open(function(ft){function Et(X,Z){var ut=X.notify("upDown").cursor,Rt=Z+"Into",Jt=Z+"OutOf";return ut[1][Rt]?ut.insAtLeftEnd(ut[1][Rt]):ut[T][Rt]?ut.insAtRightEnd(ut[T][Rt]):ut.parent.bubble(function(ce){var de=ce[Jt];if(de&&(typeof de=="function"&&(de=ce[Jt](ut)),de instanceof B&&ut.jumpUpDown(ce,de),de!==!0))return!1}),X}this.onNotify(function(X){X!=="move"&&X!=="upDown"||this.show().clearSelection()}),ft.escapeDir=function(X,Z,ut){k(X);var Rt=this.cursor;if(Rt.parent!==this.root&&ut.preventDefault(),Rt.parent!==this.root)return Rt.parent.moveOutOf(X,Rt),this.notify("move")},z.leftRightIntoCmdGoes=function(X){if(X&&X!=="up"&&X!=="down")throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+X+'"';return X},ft.moveDir=function(X){k(X);var Z=this.cursor,ut=Z.options.leftRightIntoCmdGoes;return Z.selection?Z.insDirOf(X,Z.selection.ends[X]):Z[X]?Z[X].moveTowards(X,Z,ut):Z.parent.moveOutOf(X,Z,ut),this.notify("move")},ft.moveLeft=function(){return this.moveDir(T)},ft.moveRight=function(){return this.moveDir(1)},ft.moveUp=function(){return Et(this,"up")},ft.moveDown=function(){return Et(this,"down")},this.onNotify(function(X){X!=="upDown"&&(this.upDownCache={})}),this.onNotify(function(X){X==="edit"&&this.show().deleteSelection()}),ft.deleteDir=function(X){k(X);var Z=this.cursor,ut=Z.selection;return this.notify("edit"),ut||(Z[X]?Z[X].deleteTowards(X,Z):Z.parent.deleteOutOf(X,Z)),Z[T].siblingDeleted&&Z[T].siblingDeleted(Z.options,1),Z[1].siblingDeleted&&Z[1].siblingDeleted(Z.options,T),Z.parent.bubble("reflow"),this},ft.ctrlDeleteDir=function(X){k(X);var Z=this.cursor;return!Z[X]||Z.selection?this.deleteDir(X):(this.notify("edit"),X===T?O(Z.parent.ends[T],Z[T]).remove():O(Z[1],Z.parent.ends[1]).remove(),Z.insAtDirEnd(X,Z.parent),Z[T].siblingDeleted&&Z[T].siblingDeleted(Z.options,1),Z[1].siblingDeleted&&Z[1].siblingDeleted(Z.options,T),Z.parent.bubble("reflow"),this)},ft.backspace=function(){return this.deleteDir(T)},ft.deleteForward=function(){return this.deleteDir(1)},this.onNotify(function(X){X!=="select"&&this.endSelection()}),ft.selectDir=function(X){var Z=this.notify("select").cursor,ut=Z.selection;k(X),Z.anticursor||Z.startSelection();var Rt=Z[X];Rt?ut&&ut.ends[X]===Rt&&Z.anticursor[-X]!==Rt?Rt.unselectInto(X,Z):Rt.selectTowards(X,Z):Z.parent.selectOutOf(X,Z),Z.clearSelection(),Z.select()||Z.show()},ft.selectLeft=function(){return this.selectDir(T)},ft.selectRight=function(){return this.selectDir(1)}}),$.open(function(ft){Y.p.substituteTextarea=function(){return A("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true />")[0]},ft.createTextarea=function(){var Et=this.textareaSpan=A('<span class="mq-textarea"></span>'),X=this.options.substituteTextarea();if(!X.nodeType)throw"substituteTextarea() must return a DOM element, got "+X;X=this.textarea=A(X).appendTo(Et);var Z=this;Z.cursor.selectionChanged=function(){Z.selectionChanged()}},ft.selectionChanged=function(){var Et=this;et(Et.container[0]),Et.textareaSelectionTimeout===c&&(Et.textareaSelectionTimeout=setTimeout(function(){Et.setTextareaSelection()}))},ft.setTextareaSelection=function(){this.textareaSelectionTimeout=c;var Et="";this.cursor.selection&&(Et=this.cursor.selection.join("latex"),this.options.statelessClipboard&&(Et="$"+Et+"$")),this.selectFn(Et)},ft.staticMathTextareaEvents=function(){var Et=this,X=(Et.root,Et.cursor),Z=Et.textarea,ut=Et.textareaSpan;function Rt(){ut.detach(),Et.blurred=!0}this.container.prepend(l('<span class="mq-selectable">').text("$"+Et.exportLatex()+"$")),Et.blurred=!0,Z.bind("cut paste",!1).bind("copy",function(){Et.setTextareaSelection()}).focus(function(){Et.blurred=!1}).blur(function(){X.selection&&X.selection.clear(),setTimeout(Rt)}),Et.selectFn=function(Jt){Z.val(Jt),Jt&&Z.select()}},Y.p.substituteKeyboardEvents=K,ft.editablesTextareaEvents=function(){var Et=this.textarea,X=this.textareaSpan,Z=this.options.substituteKeyboardEvents(Et,this);this.selectFn=function(ut){Z.select(ut)},this.container.prepend(X),this.focusBlurEvents()},ft.typedText=function(Et){if(Et===`
`)return this.handle("enter");var X=this.notify().cursor;X.parent.write(X,Et),this.scrollHoriz()},ft.cut=function(){var Et=this,X=Et.cursor;X.selection&&setTimeout(function(){Et.notify("edit"),X.parent.bubble("reflow")})},ft.copy=function(){this.setTextareaSelection()},ft.paste=function(Et){this.options.statelessClipboard&&(Et=Et.slice(0,1)==="$"&&Et.slice(-1)==="$"?Et.slice(1,-1):"\\text{"+Et+"}"),this.writeLatex(Et).cursor.show()}});var Ft=function(){function ft(_r){for(var an=_r[0]||_t(),Ps=1;Ps<_r.length;Ps+=1)_r[Ps].children().adopt(an,an.ends[1],0);return an}var Et=Mt.string,X=Mt.regex,Z=Mt.letter,ut=Mt.any,Rt=Mt.optWhitespace,Jt=Mt.succeed,ce=Mt.fail,de=Z.map(function(_r){return Ar(_r)}),Ge=X(/^[^${}\\_^]/).map(function(_r){return Ot(_r)}),pi=X(/^[^\\a-eg-zA-Z]/).or(Et("\\").then(X(/^[a-z]+/i).or(X(/^\s+/).result(" ")).or(ut))).then(function(_r){var an=P[_r];return an?an(_r).parser():ce("unknown command: \\"+_r)}).or(de).or(Ge),Ui=Et("{").then(function(){return cr}).skip(Et("}")),Yi=Rt.then(Ui.or(pi.map(function(_r){var an=_t();return _r.adopt(an,0,0),an}))),cr=Yi.many().map(ft).skip(Rt),Pi=Et("[").then(Yi.then(function(_r){return _r.join("latex")!=="]"?Jt(_r):ce()}).many().map(ft).skip(Rt)).skip(Et("]")),Or=cr;return Or.block=Yi,Or.optBlock=Pi,Or}();$.open(function(ft,Et){ft.exportLatex=function(){return this.root.latex().replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},z.maxDepth=function(X){return typeof X=="number"?X:c},ft.writeLatex=function(X){var Z=this.notify("edit").cursor,ut=Mt.all,Rt=Mt.eof,Jt=Ft.skip(Rt).or(ut.result(!1)).parse(X);return Jt&&!Jt.isEmpty()&&Jt.prepareInsertionAt(Z)&&(Jt.children().adopt(Z.parent,Z[T],Z[1]),Jt.jQize().insertBefore(Z.jQ),Z[T]=Jt.ends[1],Jt.finalizeInsert(Z.options,Z),Jt.ends[1][1].siblingCreated&&Jt.ends[1][1].siblingCreated(Z.options,T),Jt.ends[T][T].siblingCreated&&Jt.ends[T][T].siblingCreated(Z.options,1),Z.parent.bubble("reflow")),this},ft.renderLatexMath=function(X){var Z=this.root,ut=this.cursor,Rt=(ut.options,Z.jQ),Jt=Mt.all,ce=Mt.eof,de=Ft.skip(ce).or(Jt.result(!1)).parse(X);if(Z.eachChild("postOrder","dispose"),Z.ends[T]=Z.ends[1]=0,de&&de.prepareInsertionAt(ut)){de.children().adopt(Z,0,0);var Ge=de.join("html");Rt.html(Ge),Z.jQize(Rt.children()),Z.finalizeInsert(ut.options)}else Rt.empty();delete ut.selection,ut.insAtRightEnd(Z)},ft.renderLatexText=function(X){var Z=this.root,ut=this.cursor;Z.jQ.children().slice(1).remove(),Z.eachChild("postOrder","dispose"),Z.ends[T]=Z.ends[1]=0,delete ut.selection,ut.show().insAtRightEnd(Z);var Rt=Mt.regex,Jt=Mt.string,ce=Mt.eof,de=Mt.all,Ge=Jt("$").then(Ft).skip(Jt("$").or(ce)).map(function(cr){var Pi=Ze(ut);Pi.createBlocks();var Or=Pi.ends[T];return cr.children().adopt(Or,0,0),Pi}),pi=Jt("\\$").result("$").or(Rt(/^[^$]/)).map(Ot),Ui=Ge.or(pi).many().skip(ce).or(de.result(!1)).parse(X);if(Ui){for(var Yi=0;Yi<Ui.length;Yi+=1)Ui[Yi].adopt(Z,Z.ends[1],0);Z.jQize().appendTo(Z.jQ),Z.finalizeInsert(ut.options)}}}),$.open(function(ft){ft.scrollHoriz=function(){var Et=this.cursor,X=Et.selection,Z=this.root.jQ[0].getBoundingClientRect();if(X){var ut=X.jQ[0].getBoundingClientRect(),Rt=ut.left-(Z.left+20),Jt=ut.right-(Z.right-20);if(X.ends[T]===Et[1])if(Rt<0)de=Rt;else{if(!(Jt>0))return;de=ut.left-Jt<Z.left+20?Rt:Jt}else if(Jt>0)de=Jt;else{if(!(Rt<0))return;de=ut.right-Rt>Z.right-20?Jt:Rt}}else{var ce=Et.jQ[0].getBoundingClientRect().left;if(ce>Z.right-20)var de=ce-(Z.right-20);else{if(!(ce<Z.left+20))return;de=ce-(Z.left+20)}}this.root.jQ.stop().animate({scrollLeft:"+="+de},100)}});var dt=E(B,function(ft,Et){ft.finalizeInsert=function(X,Z){var ut=this;ut.postOrder("finalizeTree",X),ut.postOrder("contactWeld",Z),ut.postOrder("blur"),ut.postOrder("reflow"),ut[1].siblingCreated&&ut[1].siblingCreated(X,T),ut[T].siblingCreated&&ut[T].siblingCreated(X,1),ut.bubble("reflow")},ft.prepareInsertionAt=function(X){var Z=X.options.maxDepth;if(Z!==c){var ut=X.depth();if(ut>Z)return!1;this.removeNodesDeeperThan(Z-ut)}return!0},ft.removeNodesDeeperThan=function(X){for(var Z,ut=0,Rt=[[this,ut]];Rt.length;)(Z=Rt.shift())[0].children().each(function(Jt){var ce=Jt instanceof _t?1:0;(ut=Z[1]+ce)<=X?Rt.push([Jt,ut]):(ce?Jt.children():Jt).remove()})}}),yt=E(dt,function(ft,Et){ft.init=function(X,Z,ut){var Rt=this;Et.init.call(Rt),Rt.ctrlSeq||(Rt.ctrlSeq=X),Z&&(Rt.htmlTemplate=Z),ut&&(Rt.textTemplate=ut)},ft.replaces=function(X){X.disown(),this.replacedFragment=X},ft.isEmpty=function(){return this.foldChildren(!0,function(X,Z){return X&&Z.isEmpty()})},ft.parser=function(){var X=Ft.block,Z=this;return X.times(Z.numBlocks()).map(function(ut){Z.blocks=ut;for(var Rt=0;Rt<ut.length;Rt+=1)ut[Rt].adopt(Z,Z.ends[1],0);return Z})},ft.createLeftOf=function(X){var Z=this,ut=Z.replacedFragment;Z.createBlocks(),Et.createLeftOf.call(Z,X),ut&&(ut.adopt(Z.ends[T],0,0),ut.jQ.appendTo(Z.ends[T].jQ),Z.placeCursor(X),Z.prepareInsertionAt(X)),Z.finalizeInsert(X.options),Z.placeCursor(X)},ft.createBlocks=function(){for(var X=this,Z=X.numBlocks(),ut=X.blocks=Array(Z),Rt=0;Rt<Z;Rt+=1)(ut[Rt]=_t()).adopt(X,X.ends[1],0)},ft.placeCursor=function(X){X.insAtRightEnd(this.foldChildren(this.ends[T],function(Z,ut){return Z.isEmpty()?Z:ut}))},ft.moveTowards=function(X,Z,ut){var Rt=ut&&this[ut+"Into"];Z.insAtDirEnd(-X,Rt||this.ends[-X])},ft.deleteTowards=function(X,Z){this.isEmpty()?Z[X]=this.remove()[X]:this.moveTowards(X,Z,null)},ft.selectTowards=function(X,Z){Z[-X]=this,Z[X]=this[X]},ft.selectChildren=function(){return G(this,this)},ft.unselectInto=function(X,Z){Z.insAtDirEnd(-X,Z.anticursor.ancestors[this.id])},ft.seek=function(X,Z){function ut(de){var Ge={};return Ge[T]=de.jQ.offset().left,Ge[1]=Ge[T]+de.jQ.outerWidth(),Ge}var Rt=this,Jt=ut(Rt);if(X<Jt[T])return Z.insLeftOf(Rt);if(X>Jt[1])return Z.insRightOf(Rt);var ce=Jt[T];Rt.eachChild(function(de){var Ge=ut(de);return X<Ge[T]?(X-ce<Ge[T]-X?de[T]?Z.insAtRightEnd(de[T]):Z.insLeftOf(Rt):Z.insAtLeftEnd(de),!1):X>Ge[1]?void(de[1]?ce=Ge[1]:Jt[1]-X<X-Ge[1]?Z.insRightOf(Rt):Z.insAtRightEnd(de)):(de.seek(X,Z),!1)})},ft.numBlocks=function(){var X=this.htmlTemplate.match(/&\d+/g);return X?X.length:0},ft.html=function(){var X=this,Z=X.blocks,ut=" mathquill-command-id="+X.id,Rt=X.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);C("no unmatched angle brackets",Rt.join("")===this.htmlTemplate);for(var Jt=0,ce=Rt[0];ce;ce=Rt[Jt+=1])if(ce.slice(-2)==="/>")Rt[Jt]=ce.slice(0,-2)+ut+"/>";else if(ce.charAt(0)==="<"){C("not an unmatched top-level close tag",ce.charAt(1)!=="/"),Rt[Jt]=ce.slice(0,-1)+ut+">";var de=1;do C("no missing close tags",ce=Rt[Jt+=1]),ce.slice(0,2)==="</"?de-=1:ce.charAt(0)==="<"&&ce.slice(-2)!=="/>"&&(de+=1);while(de>0)}return Rt.join("").replace(/>&(\d+)/g,function(Ge,pi){return" mathquill-block-id="+Z[pi].id+">"+Z[pi].join("html")})},ft.latex=function(){return this.foldChildren(this.ctrlSeq,function(X,Z){return X+"{"+(Z.latex()||" ")+"}"})},ft.textTemplate=[""],ft.text=function(){var X=this,Z=0;return X.foldChildren(X.textTemplate[Z],function(ut,Rt){Z+=1;var Jt=Rt.text();return ut&&X.textTemplate[Z]==="("&&Jt[0]==="("&&Jt.slice(-1)===")"?ut+Jt.slice(1,-1)+X.textTemplate[Z]:ut+Jt+(X.textTemplate[Z]||"")})}}),At=E(yt,function(ft,Et){ft.init=function(X,Z,ut){ut||(ut=X&&X.length>1?X.slice(1):X),Et.init.call(this,X,Z,[ut])},ft.parser=function(){return Mt.succeed(this)},ft.numBlocks=function(){return 0},ft.replaces=function(X){X.remove()},ft.createBlocks=u,ft.moveTowards=function(X,Z){Z.jQ.insDirOf(X,this.jQ),Z[-X]=this,Z[X]=this[X]},ft.deleteTowards=function(X,Z){Z[X]=this.remove()[X]},ft.seek=function(X,Z){X-this.jQ.offset().left<this.jQ.outerWidth()/2?Z.insLeftOf(this):Z.insRightOf(this)},ft.latex=function(){return this.ctrlSeq},ft.text=function(){return this.textTemplate},ft.placeCursor=u,ft.isEmpty=function(){return!0}}),Ot=E(At,function(ft,Et){ft.init=function(X,Z){Et.init.call(this,X,"<span>"+(Z||X)+"</span>")}}),le=E(At,function(ft,Et){ft.init=function(X,Z,ut){Et.init.call(this,X,'<span class="mq-binary-operator">'+Z+"</span>",ut)}}),_t=E(dt,function(ft,Et){ft.join=function(X){return this.foldChildren("",function(Z,ut){return Z+ut[X]()})},ft.html=function(){return this.join("html")},ft.latex=function(){return this.join("latex")},ft.text=function(){return this.ends[T]===this.ends[1]&&this.ends[T]!==0?this.ends[T].text():this.join("text")},ft.keystroke=function(X,Z,ut){return!ut.options.spaceBehavesLikeTab||X!=="Spacebar"&&X!=="Shift-Spacebar"?Et.keystroke.apply(this,arguments):(Z.preventDefault(),void ut.escapeDir(X==="Shift-Spacebar"?T:1,X,Z))},ft.moveOutOf=function(X,Z,ut){ut&&this.parent[ut+"Into"]||!this[X]?Z.insDirOf(X,this.parent):Z.insAtDirEnd(-X,this[X])},ft.selectOutOf=function(X,Z){Z.insDirOf(X,this.parent)},ft.deleteOutOf=function(X,Z){Z.unwrapGramp()},ft.seek=function(X,Z){var ut=this.ends[1];if(!ut||ut.jQ.offset().left+ut.jQ.outerWidth()<X)return Z.insAtRightEnd(this);if(X<this.ends[T].jQ.offset().left)return Z.insAtLeftEnd(this);for(;X<ut.jQ.offset().left;)ut=ut[T];return ut.seek(X,Z)},ft.chToCmd=function(X,Z){var ut;return X.match(/^[a-eg-zA-Z]$/)?Ar(X):/^\d$/.test(X)?ll(X):Z&&Z.typingSlashWritesDivisionSymbol&&X==="/"?P[""](X):Z&&Z.typingAsteriskWritesTimesSymbol&&X==="*"?P[""](X):(ut=L[X]||P[X])?ut(X):Ot(X)},ft.write=function(X,Z){var ut=this.chToCmd(Z,X.options);X.selection&&ut.replaces(X.replaceSelection()),X.isTooDeep()||ut.createLeftOf(X.show())},ft.focus=function(){return this.jQ.addClass("mq-hasCursor"),this.jQ.removeClass("mq-empty"),this},ft.blur=function(){return this.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.jQ.addClass("mq-empty"),this}});Y.p.mouseEvents=!0,W.StaticMath=function(ft){return E(ft.AbstractMathQuill,function(Et,X){this.RootBlock=_t,Et.__mathquillify=function(Z,ut){return this.config(Z),X.__mathquillify.call(this,"mq-math-mode"),this.__options.mouseEvents&&(this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents()),this},Et.init=function(){X.init.apply(this,arguments),this.__controller.root.postOrder("registerInnerField",this.innerFields=[],ft.MathField)},Et.latex=function(){var Z=X.latex.apply(this,arguments);return arguments.length>0&&this.__controller.root.postOrder("registerInnerField",this.innerFields=[],ft.MathField),Z}})};var xe=E(_t,rt);W.MathField=function(ft){return E(ft.EditableField,function(Et,X){this.RootBlock=xe,Et.__mathquillify=function(Z,ut){return this.config(Z),ut>1&&(this.__controller.root.reflow=u),X.__mathquillify.call(this,"mq-editable-field mq-math-mode"),delete this.__controller.root.reflow,this}})};var ke=E(B,function(ft,Et){function X(Z){Z.jQ[0].normalize();var ut=Z.jQ[0].firstChild;if(ut){C("only node in TextBlock span is Text node",ut.nodeType===3);var Rt=ve(ut.data);return Rt.jQadd(ut),Z.children().disown(),Rt.adopt(Z,0,0)}}ft.ctrlSeq="\\text",ft.replaces=function(Z){Z instanceof O?this.replacedText=Z.remove().jQ.text():typeof Z=="string"&&(this.replacedText=Z)},ft.jQadd=function(Z){Et.jQadd.call(this,Z),this.ends[T]&&this.ends[T].jQadd(this.jQ[0].firstChild)},ft.createLeftOf=function(Z){var ut=this;if(Et.createLeftOf.call(this,Z),ut[1].siblingCreated&&ut[1].siblingCreated(Z.options,T),ut[T].siblingCreated&&ut[T].siblingCreated(Z.options,1),ut.bubble("reflow"),Z.insAtRightEnd(ut),ut.replacedText)for(var Rt=0;Rt<ut.replacedText.length;Rt+=1)ut.write(Z,ut.replacedText.charAt(Rt))},ft.parser=function(){var Z=this,ut=Mt.string,Rt=Mt.regex;return Mt.optWhitespace.then(ut("{")).then(Rt(/^[^}]*/)).skip(ut("}")).map(function(Jt){return Jt.length===0?O():(ve(Jt).adopt(Z,0,0),Z)})},ft.textContents=function(){return this.foldChildren("",function(Z,ut){return Z+ut.text})},ft.text=function(){return'"'+this.textContents()+'"'},ft.latex=function(){var Z=this.textContents();return Z.length===0?"":"\\text{"+Z.replace(/\\/g,"\\backslash ").replace(/[{}]/g,"\\$&")+"}"},ft.html=function(){return'<span class="mq-text-mode" mathquill-command-id='+this.id+">"+this.textContents()+"</span>"},ft.moveTowards=function(Z,ut){ut.insAtDirEnd(-Z,this)},ft.moveOutOf=function(Z,ut){ut.insDirOf(Z,this)},ft.unselectInto=ft.moveTowards,ft.selectTowards=yt.prototype.selectTowards,ft.deleteTowards=yt.prototype.deleteTowards,ft.selectOutOf=function(Z,ut){ut.insDirOf(Z,this)},ft.deleteOutOf=function(Z,ut){this.isEmpty()&&ut.insRightOf(this)},ft.write=function(Z,ut){if(Z.show().deleteSelection(),ut!=="$")Z[T]?Z[T].appendText(ut):ve(ut).createLeftOf(Z);else if(this.isEmpty())Z.insRightOf(this),Ot("\\$","$").createLeftOf(Z);else if(Z[1])if(Z[T]){var Rt=ke(),Jt=this.ends[T];Jt.disown().jQ.detach(),Jt.adopt(Rt,0,0),Z.insLeftOf(this),Et.createLeftOf.call(Rt,Z)}else Z.insLeftOf(this);else Z.insRightOf(this)},ft.seek=function(Z,ut){ut.hide();var Rt=X(this),Jt=this.jQ.width()/this.text.length,ce=Math.round((Z-this.jQ.offset().left)/Jt);ce<=0?ut.insAtLeftEnd(this):ce>=Rt.text.length?ut.insAtRightEnd(this):ut.insLeftOf(Rt.splitRight(ce));for(var de=Z-ut.show().offset().left,Ge=de&&de<0?T:1,pi=Ge;ut[Ge]&&de*pi>0;)ut[Ge].moveTowards(Ge,ut),pi=de,de=Z-ut.offset().left;if(Ge*de<-Ge*pi&&ut[-Ge].moveTowards(-Ge,ut),ut.anticursor){if(ut.anticursor.parent===this){var Ui=ut[T]&&ut[T].text.length;if(this.anticursorPosition===Ui)ut.anticursor=I.copy(ut);else{if(this.anticursorPosition<Ui){var Yi=ut[T].splitRight(this.anticursorPosition);ut[T]=Yi}else Yi=ut[1].splitRight(this.anticursorPosition-Ui);ut.anticursor=I(this,Yi[T],Yi)}}}else this.anticursorPosition=ut[T]&&ut[T].text.length},ft.blur=function(Z){_t.prototype.blur.call(this),Z&&(this.textContents()===""?(this.remove(),Z[T]===this?Z[T]=this[T]:Z[1]===this&&(Z[1]=this[1])):X(this))},ft.focus=_t.prototype.focus}),ve=E(B,function(ft,Et){function X(Z,ut){return ut.charAt(Z===T?0:-1+ut.length)}ft.init=function(Z){Et.init.call(this),this.text=Z},ft.jQadd=function(Z){this.dom=Z,this.jQ=A(Z)},ft.jQize=function(){return this.jQadd(document.createTextNode(this.text))},ft.appendText=function(Z){this.text+=Z,this.dom.appendData(Z)},ft.prependText=function(Z){this.text=Z+this.text,this.dom.insertData(0,Z)},ft.insTextAtDirEnd=function(Z,ut){k(ut),ut===1?this.appendText(Z):this.prependText(Z)},ft.splitRight=function(Z){var ut=ve(this.text.slice(Z)).adopt(this.parent,this,this[1]);return ut.jQadd(this.dom.splitText(Z)),this.text=this.text.slice(0,Z),ut},ft.moveTowards=function(Z,ut){k(Z);var Rt=X(-Z,this.text),Jt=this[-Z];return Jt?Jt.insTextAtDirEnd(Rt,Z):ve(Rt).createDir(-Z,ut),this.deleteTowards(Z,ut)},ft.latex=function(){return this.text},ft.deleteTowards=function(Z,ut){this.text.length>1?Z===1?(this.dom.deleteData(0,1),this.text=this.text.slice(1)):(this.dom.deleteData(-1+this.text.length,1),this.text=this.text.slice(0,-1)):(this.remove(),this.jQ.remove(),ut[Z]=this[Z])},ft.selectTowards=function(Z,ut){k(Z);var Rt=ut.anticursor,Jt=X(-Z,this.text);if(Rt[Z]===this){var ce=ve(Jt).createDir(Z,ut);Rt[Z]=ce,ut.insDirOf(Z,ce)}else{var de=this[-Z];de?de.insTextAtDirEnd(Jt,Z):(ce=ve(Jt).createDir(-Z,ut)).jQ.insDirOf(-Z,ut.selection.jQ),this.text.length===1&&Rt[-Z]===this&&(Rt[-Z]=this[-Z])}return this.deleteTowards(Z,ut)}});function Fe(ft,Et,X){return E(ke,{ctrlSeq:ft,htmlTemplate:"<"+Et+" "+X+">&0</"+Et+">"})}P.text=P.textnormal=P.textrm=P.textup=P.textmd=ke,P.em=P.italic=P.italics=P.emph=P.textit=P.textsl=Fe("\\textit","i",'class="mq-text-mode"'),P.strong=P.bold=P.textbf=Fe("\\textbf","b",'class="mq-text-mode"'),P.sf=P.textsf=Fe("\\textsf","span",'class="mq-sans-serif mq-text-mode"'),P.tt=P.texttt=Fe("\\texttt","span",'class="mq-monospace mq-text-mode"'),P.textsc=Fe("\\textsc","span",'style="font-variant:small-caps" class="mq-text-mode"'),P.uppercase=Fe("\\uppercase","span",'style="text-transform:uppercase" class="mq-text-mode"'),P.lowercase=Fe("\\lowercase","span",'style="text-transform:lowercase" class="mq-text-mode"');var Ze=E(yt,function(ft,Et){ft.init=function(X){Et.init.call(this,"$"),this.cursor=X},ft.htmlTemplate='<span class="mq-math-mode">&0</span>',ft.createBlocks=function(){Et.createBlocks.call(this),this.ends[T].cursor=this.cursor,this.ends[T].write=function(X,Z){Z!=="$"?_t.prototype.write.call(this,X,Z):this.isEmpty()?(X.insRightOf(this.parent),this.parent.deleteTowards(dir,X),Ot("\\$","$").createLeftOf(X.show())):X[1]?X[T]?_t.prototype.write.call(this,X,Z):X.insLeftOf(this.parent):X.insRightOf(this.parent)}},ft.latex=function(){return"$"+this.ends[T].latex()+"$"}}),ei=E(xe,function(ft,Et){ft.keystroke=function(X){if(X!=="Spacebar"&&X!=="Shift-Spacebar")return Et.keystroke.apply(this,arguments)},ft.write=function(X,Z){var ut;X.show().deleteSelection(),Z==="$"?Ze(X).createLeftOf(X):(Z==="<"?ut="&lt;":Z===">"&&(ut="&gt;"),Ot(Z,ut).createLeftOf(X))}});W.TextField=function(ft){return E(ft.EditableField,function(Et,X){this.RootBlock=ei,Et.__mathquillify=function(){return X.__mathquillify.call(this,"mq-editable-field mq-text-mode")},Et.latex=function(Z){return arguments.length>0?(this.__controller.renderLatexText(Z),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()}})},L["\\"]=E(yt,function(ft,Et){ft.ctrlSeq="\\",ft.replaces=function(X){this._replacedFragment=X.disown(),this.isEmpty=function(){return!1}},ft.htmlTemplate='<span class="mq-latex-command-input mq-non-leaf">\\<span>&0</span></span>',ft.textTemplate=["\\"],ft.createBlocks=function(){Et.createBlocks.call(this),this.ends[T].focus=function(){return this.parent.jQ.addClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.removeClass("mq-empty"),this},this.ends[T].blur=function(){return this.parent.jQ.removeClass("mq-hasCursor"),this.isEmpty()&&this.parent.jQ.addClass("mq-empty"),this},this.ends[T].write=function(X,Z){X.show().deleteSelection(),Z.match(/[a-z]/i)?Ot(Z).createLeftOf(X):(this.parent.renderCommand(X),Z==="\\"&&this.isEmpty()||X.parent.write(X,Z))},this.ends[T].keystroke=function(X,Z,ut){return X==="Tab"||X==="Enter"||X==="Spacebar"?(this.parent.renderCommand(ut.cursor),void Z.preventDefault()):Et.keystroke.apply(this,arguments)}},ft.createLeftOf=function(X){if(Et.createLeftOf.call(this,X),this._replacedFragment){var Z=this.jQ[0];this.jQ=this._replacedFragment.jQ.addClass("mq-blur").bind("mousedown mousemove",function(ut){return A(ut.target=Z).trigger(ut),!1}).insertBefore(this.jQ).add(this.jQ)}},ft.latex=function(){return"\\"+this.ends[T].latex()+" "},ft.renderCommand=function(X){this.jQ=this.jQ.last(),this.remove(),this[1]?X.insLeftOf(this[1]):X.insAtRightEnd(this.parent);var Z=this.ends[T].latex();Z||(Z=" ");var ut=P[Z];ut?(ut=ut(Z),this._replacedFragment&&ut.replaces(this._replacedFragment),ut.createLeftOf(X)):((ut=ke()).replaces(Z),ut.createLeftOf(X),X.insRightOf(ut),this._replacedFragment&&this._replacedFragment.remove())}});var Ci,xt,et=u,tt=document.createElement("div").style;for(var Nt in{transform:1,WebkitTransform:1,MozTransform:1,OTransform:1,msTransform:1})if(Nt in tt){xt=Nt;break}xt?Ci=function(ft,Et,X){ft.css(xt,"scale("+Et+","+X+")")}:"filter"in tt?(et=function(ft){ft.className=ft.className},Ci=function(ft,Et,X){Et/=1+(X-1)/2,ft.css("fontSize",X+"em"),ft.hasClass("mq-matrixed-container")||ft.addClass("mq-matrixed-container").wrapInner('<span class="mq-matrixed"></span>');var Z=ft.children().css("filter","progid:DXImageTransform.Microsoft.Matrix(M11="+Et+",SizingMethod='auto expand')");function ut(){ft.css("marginRight",(Z.width()-1)*(Et-1)/Et+"px")}ut();var Rt=setInterval(ut);A(window).load(function(){clearTimeout(Rt),ut()})}):Ci=function(ft,Et,X){ft.css("fontSize",X+"em")};var ie=E(yt,function(ft,Et){ft.init=function(X,Z,ut){Et.init.call(this,X,"<"+Z+" "+ut+">&0</"+Z+">")}});P.mathrm=w(ie,"\\mathrm","span",'class="mq-roman mq-font"'),P.mathit=w(ie,"\\mathit","i",'class="mq-font"'),P.mathbf=w(ie,"\\mathbf","b",'class="mq-font"'),P.mathsf=w(ie,"\\mathsf","span",'class="mq-sans-serif mq-font"'),P.mathtt=w(ie,"\\mathtt","span",'class="mq-monospace mq-font"'),P.underline=w(ie,"\\underline","span",'class="mq-non-leaf mq-underline"'),P.overline=P.bar=w(ie,"\\overline","span",'class="mq-non-leaf mq-overline"'),P.overrightarrow=w(ie,"\\overrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-right"'),P.overleftarrow=w(ie,"\\overleftarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-left"'),P.overleftrightarrow=w(ie,"\\overleftrightarrow","span",'class="mq-non-leaf mq-overarrow mq-arrow-both"'),P.overarc=w(ie,"\\overarc","span",'class="mq-non-leaf mq-overarc"'),P.dot=E(yt,function(ft,Et){ft.init=function(){Et.init.call(this,"\\dot",'<span class="mq-non-leaf"><span class="mq-dot-recurring-inner"><span class="mq-dot-recurring">&#x2d9;</span><span class="mq-empty-box">&0</span></span></span>')}}),P.textcolor=E(yt,function(ft,Et){ft.setColor=function(X){this.color=X,this.htmlTemplate='<span class="mq-textcolor" style="color:'+X+'">&0</span>'},ft.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},ft.parser=function(){var X=this,Z=Mt.optWhitespace,ut=Mt.string,Rt=Mt.regex;return Z.then(ut("{")).then(Rt(/^[#\w\s.,()%-]*/)).skip(ut("}")).then(function(Jt){return X.setColor(Jt),Et.parser.call(X)})},ft.isStyleBlock=function(){return!0}}),P.class=E(yt,function(ft,Et){ft.parser=function(){var X=this,Z=Mt.string,ut=Mt.regex;return Mt.optWhitespace.then(Z("{")).then(ut(/^[-\w\s\\\xA0-\xFF]*/)).skip(Z("}")).then(function(Rt){return X.cls=Rt||"",X.htmlTemplate='<span class="mq-class '+Rt+'">&0</span>',Et.parser.call(X)})},ft.latex=function(){return"\\class{"+this.cls+"}{"+this.blocks[0].latex()+"}"},ft.isStyleBlock=function(){return!0}});var Ce=E(yt,function(ft,Et){ft.ctrlSeq="_{...}^{...}",ft.createLeftOf=function(X){if(this.replacedFragment||X[T]||!X.options.supSubsRequireOperand)return Et.createLeftOf.apply(this,arguments)},ft.contactWeld=function(X){for(var Z=T;Z;Z=Z===T&&1)if(this[Z]instanceof Ce){for(var ut="sub";ut;ut=ut==="sub"&&"sup"){var Rt=this[ut],Jt=this[Z][ut];if(Rt){if(Jt)if(Rt.isEmpty())de=I(Jt,0,Jt.ends[T]);else{Rt.jQ.children().insAtDirEnd(-Z,Jt.jQ);var ce=Rt.children().disown(),de=I(Jt,ce.ends[1],Jt.ends[T]);Z===T?ce.adopt(Jt,Jt.ends[1],0):ce.adopt(Jt,0,Jt.ends[T])}else this[Z].addBlock(Rt.disown());this.placeCursor=function(Ge,pi){return function(Ui){Ui.insAtDirEnd(-Z,Ge||pi)}}(Jt,Rt)}}this.remove(),X&&X[T]===this&&(Z===1&&de?de[T]?X.insRightOf(de[T]):X.insAtLeftEnd(de.parent):X.insRightOf(this[Z]));break}},Y.p.charsThatBreakOutOfSupSub="",ft.finalizeTree=function(){this.ends[T].write=function(X,Z){if(X.options.autoSubscriptNumerals&&this===this.parent.sub){if(Z==="_")return;var ut=this.chToCmd(Z,X.options);return ut instanceof At?X.deleteSelection():X.clearSelection().insRightOf(this.parent),ut.createLeftOf(X.show())}X[T]&&!X[1]&&!X.selection&&X.options.charsThatBreakOutOfSupSub.indexOf(Z)>-1&&X.insRightOf(this.parent),_t.p.write.apply(this,arguments)}},ft.moveTowards=function(X,Z,ut){Z.options.autoSubscriptNumerals&&!this.sup?Z.insDirOf(X,this):Et.moveTowards.apply(this,arguments)},ft.deleteTowards=function(X,Z){if(Z.options.autoSubscriptNumerals&&this.sub){var ut=this.sub.ends[-X];ut instanceof At?ut.remove():ut&&ut.deleteTowards(X,Z.insAtDirEnd(-X,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(T,Z.insAtLeftEnd(this.sub)),this.sup&&Z.insDirOf(-X,this))}else Et.deleteTowards.apply(this,arguments)},ft.latex=function(){function X(Z,ut){var Rt=ut&&ut.latex();return ut?Z+(Rt.length===1?Rt:"{"+(Rt||" ")+"}"):""}return X("_",this.sub)+X("^",this.sup)},ft.addBlock=function(X){this.supsub==="sub"?(this.sup=this.upInto=this.sub.upOutOf=X,X.adopt(this,this.sub,0).downOutOf=this.sub,X.jQ=A('<span class="mq-sup"/>').append(X.jQ.children()).attr(a,X.id).prependTo(this.jQ)):(this.sub=this.downInto=this.sup.downOutOf=X,X.adopt(this,0,this.sup).upOutOf=this.sup,X.jQ=A('<span class="mq-sub"></span>').append(X.jQ.children()).attr(a,X.id).appendTo(this.jQ.removeClass("mq-sup-only")),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var Z=0;Z<2;Z+=1)(function(ut,Rt,Jt,ce){ut[Rt].deleteOutOf=function(de,Ge){if(Ge.insDirOf(this[de]?-de:de,this.parent),!this.isEmpty()){var pi=this.ends[de];this.children().disown().withDirAdopt(de,Ge.parent,Ge[de],Ge[-de]).jQ.insDirOf(-de,Ge.jQ),Ge[-de]=pi}ut.supsub=Jt,delete ut[Rt],delete ut[ce+"Into"],ut[Jt][ce+"OutOf"]=Le,delete ut[Jt].deleteOutOf,Rt==="sub"&&A(ut.jQ.addClass("mq-sup-only")[0].lastChild).remove(),this.remove()}})(this,"sub sup".split(" ")[Z],"sup sub".split(" ")[Z],"down up".split(" ")[Z])},ft.reflow=function(){var X=this.jQ,Z=X.prev();if(Z.length){var ut=X.children(".mq-sup");if(ut.length){var Rt=parseInt(ut.css("font-size")),Jt=ut.offset().top+ut.height()-Z.offset().top-.7*Rt,ce=parseInt(ut.css("margin-bottom"));ut.css("margin-bottom",ce+Jt)}}}});function Le(ft){var Et=this.parent,X=ft;do{if(X[1])return ft.insLeftOf(Et);X=X.parent.parent}while(X!==Et);ft.insRightOf(Et)}P.subscript=P._=E(Ce,function(ft,Et){ft.supsub="sub",ft.htmlTemplate='<span class="mq-supsub mq-non-leaf"><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',ft.textTemplate=["_"],ft.finalizeTree=function(){this.downInto=this.sub=this.ends[T],this.sub.upOutOf=Le,Et.finalizeTree.call(this)}}),P.superscript=P.supscript=P["^"]=E(Ce,function(ft,Et){ft.supsub="sup",ft.htmlTemplate='<span class="mq-supsub mq-non-leaf mq-sup-only"><span class="mq-sup">&0</span></span>',ft.textTemplate=["^"],ft.finalizeTree=function(){this.upInto=this.sup=this.ends[1],this.sup.downOutOf=Le,Et.finalizeTree.call(this)}});var Gi=E(yt,function(ft,Et){ft.init=function(X,Z){var ut='<span class="mq-large-operator mq-non-leaf"><span class="mq-to"><span>&1</span></span><big>'+Z+'</big><span class="mq-from"><span>&0</span></span></span>';At.prototype.init.call(this,X,ut)},ft.createLeftOf=function(X){Et.createLeftOf.apply(this,arguments),X.options.sumStartsWithNEquals&&(Ar("n").createLeftOf(X),Fd().createLeftOf(X))},ft.latex=function(){function X(Z){return Z.length===1?Z:"{"+(Z||" ")+"}"}return this.ctrlSeq+"_"+X(this.ends[T].latex())+"^"+X(this.ends[1].latex())},ft.parser=function(){for(var X=Mt.string,Z=Mt.optWhitespace,ut=Mt.succeed,Rt=Ft.block,Jt=this,ce=Jt.blocks=[_t(),_t()],de=0;de<ce.length;de+=1)ce[de].adopt(Jt,Jt.ends[1],0);return Z.then(X("_").or(X("^"))).then(function(Ge){var pi=ce[Ge==="_"?0:1];return Rt.then(function(Ui){return Ui.children().adopt(pi,pi.ends[1],0),ut(Jt)})}).many().result(Jt)},ft.finalizeTree=function(){this.downInto=this.ends[T],this.upInto=this.ends[1],this.ends[T].upOutOf=this.ends[1],this.ends[1].downOutOf=this.ends[T]}});P[""]=P.sum=P.summation=w(Gi,"\\sum ","&sum;"),P[""]=P.prod=P.product=w(Gi,"\\prod ","&prod;"),P.coprod=P.coproduct=w(Gi,"\\coprod ","&#8720;"),P[""]=P.int=P.integral=E(Gi,function(ft,Et){ft.init=function(){At.prototype.init.call(this,"\\int ",'<span class="mq-int mq-non-leaf"><big>&int;</big><span class="mq-supsub mq-non-leaf"><span class="mq-sup"><span class="mq-sup-inner">&1</span></span><span class="mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>')},ft.createLeftOf=yt.p.createLeftOf});var Sr=P.frac=P.dfrac=P.cfrac=P.fraction=E(yt,function(ft,Et){ft.ctrlSeq="\\frac",ft.htmlTemplate='<span class="mq-fraction mq-non-leaf"><span class="mq-numerator">&0</span><span class="mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',ft.textTemplate=["(",")/(",")"],ft.finalizeTree=function(){this.upInto=this.ends[1].upOutOf=this.ends[T],this.downInto=this.ends[T].downOutOf=this.ends[1]}}),lr=P.over=L["/"]=E(Sr,function(ft,Et){ft.createLeftOf=function(X){if(!this.replacedFragment){for(var Z=X[T];Z&&!(Z instanceof le||Z instanceof(P.text||u)||Z instanceof Gi||Z.ctrlSeq==="\\ "||/^[,;:]$/.test(Z.ctrlSeq));)Z=Z[T];Z instanceof Gi&&Z[1]instanceof Ce&&(Z=Z[1])[1]instanceof Ce&&Z[1].ctrlSeq!=Z.ctrlSeq&&(Z=Z[1]),Z===X[T]||X.isTooDeep(1)||(this.replaces(O(Z[1]||X.parent.ends[T],X[T])),X[T]=Z)}Et.createLeftOf.call(this,X)}}),gr=P.sqrt=P[""]=E(yt,function(ft,Et){ft.ctrlSeq="\\sqrt",ft.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-sqrt-prefix">&radic;</span><span class="mq-non-leaf mq-sqrt-stem">&0</span></span>',ft.textTemplate=["sqrt(",")"],ft.parser=function(){return Ft.optBlock.then(function(X){return Ft.block.map(function(Z){var ut=Cr();return ut.blocks=[X,Z],X.adopt(ut,0,0),Z.adopt(ut,X,0),ut})}).or(Et.parser.call(this))},ft.reflow=function(){var X=this.ends[1].jQ;Ci(X.prev(),1,X.innerHeight()/+X.css("fontSize").slice(0,-2)-.1)}}),Cr=(P.hat=E(yt,function(ft,Et){ft.ctrlSeq="\\hat",ft.htmlTemplate='<span class="mq-non-leaf"><span class="mq-hat-prefix">^</span><span class="mq-hat-stem">&0</span></span>',ft.textTemplate=["hat(",")"]}),P.nthroot=E(gr,function(ft,Et){ft.htmlTemplate='<sup class="mq-nthroot mq-non-leaf">&0</sup><span class="mq-scaled"><span class="mq-sqrt-prefix mq-scaled">&radic;</span><span class="mq-sqrt-stem mq-non-leaf">&1</span></span>',ft.textTemplate=["sqrt[","](",")"],ft.latex=function(){return"\\sqrt["+this.ends[T].latex()+"]{"+this.ends[1].latex()+"}"}})),Oo=E(yt,function(ft,Et){ft.init=function(X,Z,ut){var Rt='<span class="mq-non-leaf"><span class="mq-diacritic-above">'+Z+'</span><span class="mq-diacritic-stem">&0</span></span>';Et.init.call(this,X,Rt,ut)}});function za(ft,Et){ft.jQadd=function(){Et.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")},ft.reflow=function(){var X=this.contentjQ.outerHeight()/parseFloat(this.contentjQ.css("fontSize"));Ci(this.delimjQs,f(1+.2*(X-1),1.2),1.2*X)}}P.vec=w(Oo,"\\vec","&rarr;",["vec(",")"]),P.tilde=w(Oo,"\\tilde","~",["tilde(",")"]);var ua=E(E(yt,za),function(ft,Et){ft.init=function(X,Z,ut,Rt,Jt){Et.init.call(this,"\\left"+Rt,c,[Z,ut]),this.side=X,this.sides={},this.sides[T]={ch:Z,ctrlSeq:Rt},this.sides[1]={ch:ut,ctrlSeq:Jt}},ft.numBlocks=function(){return 1},ft.html=function(){return this.htmlTemplate='<span class="mq-non-leaf"><span class="mq-scaled mq-paren'+(this.side===1?" mq-ghost":"")+'">'+this.sides[T].ch+'</span><span class="mq-non-leaf">&0</span><span class="mq-scaled mq-paren'+(this.side===T?" mq-ghost":"")+'">'+this.sides[1].ch+"</span></span>",Et.html.call(this)},ft.latex=function(){return"\\left"+this.sides[T].ctrlSeq+this.ends[T].latex()+"\\right"+this.sides[1].ctrlSeq},ft.matchBrack=function(X,Z,ut){return ut instanceof ua&&ut.side&&ut.side!==-Z&&(!X.restrictMismatchedBrackets||Xl[this.sides[this.side].ch]===ut.sides[ut.side].ch||{"(":"]","[":")"}[this.sides[T].ch]===ut.sides[1].ch)&&ut},ft.closeOpposing=function(X){X.side=0,X.sides[this.side]=this.sides[this.side],X.delimjQs.eq(this.side===T?0:1).removeClass("mq-ghost").html(this.sides[this.side].ch)},ft.createLeftOf=function(X){if(!this.replacedFragment){var Z=X.options;if(this.sides[T].ch==="|")var ut=this.matchBrack(Z,1,X[1])||this.matchBrack(Z,T,X[T])||this.matchBrack(Z,0,X.parent.parent);else ut=this.matchBrack(Z,-this.side,X[-this.side])||this.matchBrack(Z,-this.side,X.parent.parent)}if(ut){var Rt=this.side=-ut.side;this.closeOpposing(ut),ut===X.parent.parent&&X[Rt]&&O(X[Rt],X.parent.ends[Rt],-Rt).disown().withDirAdopt(-Rt,ut.parent,ut,ut[Rt]).jQ.insDirOf(Rt,ut.jQ),ut.bubble("reflow")}else Rt=(ut=this).side,ut.replacedFragment?ut.side=0:X[-Rt]&&(ut.replaces(O(X[-Rt],X.parent.ends[-Rt],Rt)),X[-Rt]=0),Et.createLeftOf.call(ut,X);Rt===T?X.insAtLeftEnd(ut.ends[T]):X.insRightOf(ut)},ft.placeCursor=u,ft.unwrap=function(){this.ends[T].children().disown().adopt(this.parent,this,this[1]).jQ.insertAfter(this.jQ),this.remove()},ft.deleteSide=function(X,Z,ut){var Rt=this.parent,Jt=this[X],ce=Rt.ends[X];if(X===this.side)return this.unwrap(),void(Jt?ut.insDirOf(-X,Jt):ut.insAtDirEnd(X,Rt));var de=ut.options,Ge=!this.side;if(this.side=-X,this.matchBrack(de,X,this.ends[T].ends[this.side])){this.closeOpposing(this.ends[T].ends[this.side]);var pi=this.ends[T].ends[X];this.unwrap(),pi.siblingCreated&&pi.siblingCreated(ut.options,X),Jt?ut.insDirOf(-X,Jt):ut.insAtDirEnd(X,Rt)}else{if(this.matchBrack(de,X,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(Z&&Ge)return this.unwrap(),void(Jt?ut.insDirOf(-X,Jt):ut.insAtDirEnd(X,Rt));this.sides[X]={ch:Xl[this.sides[this.side].ch],ctrlSeq:Xl[this.sides[this.side].ctrlSeq]},this.delimjQs.removeClass("mq-ghost").eq(X===T?0:1).addClass("mq-ghost").html(this.sides[X].ch)}Jt?(pi=this.ends[T].ends[X],O(Jt,ce,-X).disown().withDirAdopt(-X,this.ends[T],pi,0).jQ.insAtDirEnd(X,this.ends[T].jQ.removeClass("mq-empty")),pi.siblingCreated&&pi.siblingCreated(ut.options,X),ut.insDirOf(-X,Jt)):Z?ut.insDirOf(X,this):ut.insAtDirEnd(X,this.ends[T])}},ft.deleteTowards=function(X,Z){this.deleteSide(-X,!1,Z)},ft.finalizeTree=function(){this.ends[T].deleteOutOf=function(X,Z){this.parent.deleteSide(X,!0,Z)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===T?1:0).removeClass("mq-ghost"),this.side=0}},ft.siblingCreated=function(X,Z){Z===-this.side&&this.finalizeTree()}}),Xl={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "};function Ds(ft,Et){Et=Et||ft;var X=Xl[ft],Z=Xl[Et];L[ft]=w(ua,T,ft,X,Et,Z),L[X]=w(ua,1,ft,X,Et,Z)}Ds("("),Ds("["),Ds("{","\\{"),P.langle=w(ua,T,"&lang;","&rang;","\\langle ","\\rangle "),P.rangle=w(ua,1,"&lang;","&rang;","\\langle ","\\rangle "),L["|"]=w(ua,T,"|","|","|","|"),P.lVert=w(ua,T,"&#8741;","&#8741;","\\lVert ","\\rVert "),P.rVert=w(ua,1,"&#8741;","&#8741;","\\lVert ","\\rVert "),P.left=E(yt,function(ft){ft.parser=function(){var Et=Mt.regex,X=Mt.string,Z=(Mt.succeed,Mt.optWhitespace);return Z.then(Et(/^(?:[([|]|\\\{|\\langle(?![a-zA-Z])|\\lVert(?![a-zA-Z]))/)).then(function(ut){var Rt=ut.charAt(0)==="\\"?ut.slice(1):ut;return ut=="\\langle"&&(Rt="&lang;",ut+=" "),ut=="\\lVert"&&(Rt="&#8741;",ut+=" "),Ft.then(function(Jt){return X("\\right").skip(Z).then(Et(/^(?:[\])|]|\\\}|\\rangle(?![a-zA-Z])|\\rVert(?![a-zA-Z]))/)).map(function(ce){var de=ce.charAt(0)==="\\"?ce.slice(1):ce;ce=="\\rangle"&&(de="&rang;",ce+=" "),ce=="\\rVert"&&(de="&#8741;",ce+=" ");var Ge=ua(0,Rt,de,ut,ce);return Ge.blocks=[Jt],Jt.adopt(Ge,0,0),Ge})})})}}),P.right=E(yt,function(ft){ft.parser=function(){return Mt.fail("unmatched \\right")}});var ha=P.binom=P.binomial=E(E(yt,za),function(ft,Et){ft.ctrlSeq="\\binom",ft.htmlTemplate='<span class="mq-non-leaf"><span class="mq-paren mq-scaled">(</span><span class="mq-non-leaf"><span class="mq-array mq-non-leaf"><span>&0</span><span>&1</span></span></span><span class="mq-paren mq-scaled">)</span></span>',ft.textTemplate=["choose(",",",")"]});P.choose=E(ha,function(ft){ft.createLeftOf=lr.prototype.createLeftOf}),P.editable=P.MathQuillMathField=E(yt,function(ft,Et){ft.ctrlSeq="\\MathQuillMathField",ft.htmlTemplate='<span class="mq-editable-field"><span class="mq-root-block">&0</span></span>',ft.parser=function(){var X=this,Z=Mt.string,ut=Mt.regex,Rt=Mt.succeed;return Z("[").then(ut(/^[a-z][a-z0-9]*/i)).skip(Z("]")).map(function(Jt){X.name=Jt}).or(Rt()).then(Et.parser.call(X))},ft.finalizeTree=function(X){var Z=$(this.ends[T],this.jQ,X);Z.KIND_OF_MQ="MathField",Z.editable=!0,Z.createTextarea(),Z.editablesTextareaEvents(),Z.cursor.insAtRightEnd(Z.root),rt(Z.root)},ft.registerInnerField=function(X,Z){X.push(X[this.name]=Z(this.ends[T].controller))},ft.latex=function(){return this.ends[T].latex()},ft.text=function(){return this.ends[T].text()}});var cs=P.embed=E(At,function(ft,Et){ft.setOptions=function(X){function Z(){return""}return this.text=X.text||Z,this.htmlTemplate=X.htmlString||"",this.latex=X.latex||Z,this},ft.parser=function(){var X=this,Z=Mt.string,ut=Mt.regex,Rt=Mt.succeed;return Z("{").then(ut(/^[a-z][a-z0-9]*/i)).skip(Z("}")).then(function(Jt){return Z("[").then(ut(/^[-\w\s]*/)).skip(Z("]")).or(Rt()).map(function(ce){return X.setOptions(N[Jt](ce))})})}});P.notin=P.cong=P.equiv=P.oplus=P.otimes=E(le,function(ft,Et){ft.init=function(X){Et.init.call(this,"\\"+X+" ","&"+X+";")}}),P[" "]=P.ne=P.neq=w(le,"\\ne ","&ne;"),P[""]=P.ast=P.star=P.loast=P.lowast=w(le,"\\ast ","&lowast;"),P.therefor=P.therefore=w(le,"\\therefore ","&there4;"),P.cuz=P.because=w(le,"\\because ","&#8757;"),P.prop=P.propto=w(le,"\\propto ","&prop;"),P[""]=P.asymp=P.approx=w(le,"\\approx ","&asymp;"),P.isin=P.in=w(le,"\\in ","&isin;"),P.ni=P.contains=w(le,"\\ni ","&ni;"),P.notni=P.niton=P.notcontains=P.doesnotcontain=w(le,"\\not\\ni ","&#8716;"),P.sub=P.subset=w(le,"\\subset ","&sub;"),P.sup=P.supset=P.superset=w(le,"\\supset ","&sup;"),P.nsub=P.notsub=P.nsubset=P.notsubset=w(le,"\\not\\subset ","&#8836;"),P.nsup=P.notsup=P.nsupset=P.notsupset=P.nsuperset=P.notsuperset=w(le,"\\not\\supset ","&#8837;"),P.sube=P.subeq=P.subsete=P.subseteq=w(le,"\\subseteq ","&sube;"),P.supe=P.supeq=P.supsete=P.supseteq=P.supersete=P.superseteq=w(le,"\\supseteq ","&supe;"),P.nsube=P.nsubeq=P.notsube=P.notsubeq=P.nsubsete=P.nsubseteq=P.notsubsete=P.notsubseteq=w(le,"\\not\\subseteq ","&#8840;"),P.nsupe=P.nsupeq=P.notsupe=P.notsupeq=P.nsupsete=P.nsupseteq=P.notsupsete=P.notsupseteq=P.nsupersete=P.nsuperseteq=P.notsupersete=P.notsuperseteq=w(le,"\\not\\supseteq ","&#8841;"),P.N=P.naturals=P.Naturals=w(Ot,"\\mathbb{N}","&#8469;"),P.P=P.primes=P.Primes=P.projective=P.Projective=P.probability=P.Probability=w(Ot,"\\mathbb{P}","&#8473;"),P.Z=P.integers=P.Integers=w(Ot,"\\mathbb{Z}","&#8484;"),P.Q=P.rationals=P.Rationals=w(Ot,"\\mathbb{Q}","&#8474;"),P.R=P.reals=P.Reals=w(Ot,"\\mathbb{R}","&#8477;"),P.C=P.complex=P.Complex=P.complexes=P.Complexes=P.complexplane=P.Complexplane=P.ComplexPlane=w(Ot,"\\mathbb{C}","&#8450;"),P.H=P.Hamiltonian=P.quaternions=P.Quaternions=w(Ot,"\\mathbb{H}","&#8461;"),P.quad=P.emsp=w(Ot,"\\quad ","    "),P.qquad=w(Ot,"\\qquad ","        "),P.diamond=w(Ot,"\\diamond ","&#9671;"),P.bigtriangleup=w(Ot,"\\bigtriangleup ","&#9651;"),P.ominus=w(Ot,"\\ominus ","&#8854;"),P.uplus=w(Ot,"\\uplus ","&#8846;"),P.bigtriangledown=w(Ot,"\\bigtriangledown ","&#9661;"),P.sqcap=w(Ot,"\\sqcap ","&#8851;"),P.triangleleft=w(Ot,"\\triangleleft ","&#8882;"),P.sqcup=w(Ot,"\\sqcup ","&#8852;"),P.triangleright=w(Ot,"\\triangleright ","&#8883;"),P.odot=P.circledot=w(Ot,"\\odot ","&#8857;"),P.bigcirc=w(Ot,"\\bigcirc ","&#9711;"),P.dagger=w(Ot,"\\dagger ","&#0134;"),P.ddagger=w(Ot,"\\ddagger ","&#135;"),P.wr=w(Ot,"\\wr ","&#8768;"),P.amalg=w(Ot,"\\amalg ","&#8720;"),P.models=w(Ot,"\\models ","&#8872;"),P.prec=w(Ot,"\\prec ","&#8826;"),P.succ=w(Ot,"\\succ ","&#8827;"),P.preceq=w(Ot,"\\preceq ","&#8828;"),P.succeq=w(Ot,"\\succeq ","&#8829;"),P.simeq=w(Ot,"\\simeq ","&#8771;"),P.mid=w(Ot,"\\mid ","&#8739;"),P.ll=w(Ot,"\\ll ","&#8810;"),P.gg=w(Ot,"\\gg ","&#8811;"),P.parallel=w(Ot,"\\parallel ","&#8741;"),P.nparallel=w(Ot,"\\nparallel ","&#8742;"),P.bowtie=w(Ot,"\\bowtie ","&#8904;"),P.sqsubset=w(Ot,"\\sqsubset ","&#8847;"),P.sqsupset=w(Ot,"\\sqsupset ","&#8848;"),P.smile=w(Ot,"\\smile ","&#8995;"),P.sqsubseteq=w(Ot,"\\sqsubseteq ","&#8849;"),P.sqsupseteq=w(Ot,"\\sqsupseteq ","&#8850;"),P.doteq=w(Ot,"\\doteq ","&#8784;"),P.frown=w(Ot,"\\frown ","&#8994;"),P.vdash=w(Ot,"\\vdash ","&#8870;"),P.dashv=w(Ot,"\\dashv ","&#8867;"),P.nless=w(Ot,"\\nless ","&#8814;"),P.ngtr=w(Ot,"\\ngtr ","&#8815;"),P.longleftarrow=w(Ot,"\\longleftarrow ","&#8592;"),P.longrightarrow=w(Ot,"\\longrightarrow ","&#8594;"),P.Longleftarrow=w(Ot,"\\Longleftarrow ","&#8656;"),P.Longrightarrow=w(Ot,"\\Longrightarrow ","&#8658;"),P.longleftrightarrow=w(Ot,"\\longleftrightarrow ","&#8596;"),P.updownarrow=w(Ot,"\\updownarrow ","&#8597;"),P.Longleftrightarrow=w(Ot,"\\Longleftrightarrow ","&#8660;"),P.Updownarrow=w(Ot,"\\Updownarrow ","&#8661;"),P.mapsto=w(Ot,"\\mapsto ","&#8614;"),P.nearrow=w(Ot,"\\nearrow ","&#8599;"),P.hookleftarrow=w(Ot,"\\hookleftarrow ","&#8617;"),P.hookrightarrow=w(Ot,"\\hookrightarrow ","&#8618;"),P.searrow=w(Ot,"\\searrow ","&#8600;"),P.leftharpoonup=w(Ot,"\\leftharpoonup ","&#8636;"),P.rightharpoonup=w(Ot,"\\rightharpoonup ","&#8640;"),P.swarrow=w(Ot,"\\swarrow ","&#8601;"),P.leftharpoondown=w(Ot,"\\leftharpoondown ","&#8637;"),P.rightharpoondown=w(Ot,"\\rightharpoondown ","&#8641;"),P.nwarrow=w(Ot,"\\nwarrow ","&#8598;"),P.ldots=w(Ot,"\\ldots ","&#8230;"),P.cdots=w(Ot,"\\cdots ","&#8943;"),P.vdots=w(Ot,"\\vdots ","&#8942;"),P.ddots=w(Ot,"\\ddots ","&#8945;"),P.surd=w(Ot,"\\surd ","&#8730;"),P.triangle=w(Ot,"\\triangle ","&#9651;"),P.ell=w(Ot,"\\ell ","&#8467;"),P.top=w(Ot,"\\top ","&#8868;"),P.flat=w(Ot,"\\flat ","&#9837;"),P.natural=w(Ot,"\\natural ","&#9838;"),P.sharp=w(Ot,"\\sharp ","&#9839;"),P.wp=w(Ot,"\\wp ","&#8472;"),P.bot=w(Ot,"\\bot ","&#8869;"),P.clubsuit=w(Ot,"\\clubsuit ","&#9827;"),P.diamondsuit=w(Ot,"\\diamondsuit ","&#9826;"),P.heartsuit=w(Ot,"\\heartsuit ","&#9825;"),P.spadesuit=w(Ot,"\\spadesuit ","&#9824;"),P.parallelogram=w(Ot,"\\parallelogram ","&#9649;"),P.square=w(Ot,"\\square ","&#11036;"),P.oint=w(Ot,"\\oint ","&#8750;"),P.bigcap=w(Ot,"\\bigcap ","&#8745;"),P.bigcup=w(Ot,"\\bigcup ","&#8746;"),P.bigsqcup=w(Ot,"\\bigsqcup ","&#8852;"),P.bigvee=w(Ot,"\\bigvee ","&#8744;"),P.bigwedge=w(Ot,"\\bigwedge ","&#8743;"),P.bigodot=w(Ot,"\\bigodot ","&#8857;"),P.bigotimes=w(Ot,"\\bigotimes ","&#8855;"),P.bigoplus=w(Ot,"\\bigoplus ","&#8853;"),P.biguplus=w(Ot,"\\biguplus ","&#8846;"),P.lfloor=w(Ot,"\\lfloor ","&#8970;"),P.rfloor=w(Ot,"\\rfloor ","&#8971;"),P.lceil=w(Ot,"\\lceil ","&#8968;"),P.rceil=w(Ot,"\\rceil ","&#8969;"),P.opencurlybrace=P.lbrace=w(Ot,"\\lbrace ","{"),P.closecurlybrace=P.rbrace=w(Ot,"\\rbrace ","}"),P.lbrack=w(Ot,"["),P.rbrack=w(Ot,"]"),P.slash=w(Ot,"/"),P.vert=w(Ot,"|"),P.perp=P.perpendicular=w(Ot,"\\perp ","&perp;"),P.nabla=P.del=w(Ot,"\\nabla ","&nabla;"),P.hbar=w(Ot,"\\hbar ","&#8463;"),P.AA=P.Angstrom=P.angstrom=w(Ot,"\\text\\AA ","&#8491;"),P.ring=P.circ=P.circle=w(Ot,"\\circ ","&#8728;"),P.bull=P.bullet=w(Ot,"\\bullet ","&bull;"),P.setminus=P.smallsetminus=w(Ot,"\\setminus ","&#8726;"),P.not=P[""]=P.neg=w(Ot,"\\neg ","&not;"),P[""]=P.dots=P.ellip=P.hellip=P.ellipsis=P.hellipsis=w(Ot,"\\dots ","&hellip;"),P.converges=P.darr=P.dnarr=P.dnarrow=P.downarrow=w(Ot,"\\downarrow ","&darr;"),P.dArr=P.dnArr=P.dnArrow=P.Downarrow=w(Ot,"\\Downarrow ","&dArr;"),P.diverges=P.uarr=P.uparrow=w(Ot,"\\uparrow ","&uarr;"),P.uArr=P.Uparrow=w(Ot,"\\Uparrow ","&uArr;"),P.to=w(le,"\\to ","&rarr;"),P.rarr=P.rightarrow=w(Ot,"\\rightarrow ","&rarr;"),P.implies=w(le,"\\Rightarrow ","&rArr;"),P.rArr=P.Rightarrow=w(Ot,"\\Rightarrow ","&rArr;"),P.gets=w(le,"\\gets ","&larr;"),P.larr=P.leftarrow=w(Ot,"\\leftarrow ","&larr;"),P.impliedby=w(le,"\\Leftarrow ","&lArr;"),P.lArr=P.Leftarrow=w(Ot,"\\Leftarrow ","&lArr;"),P.harr=P.lrarr=P.leftrightarrow=w(Ot,"\\leftrightarrow ","&harr;"),P.iff=w(le,"\\Leftrightarrow ","&hArr;"),P.hArr=P.lrArr=P.Leftrightarrow=w(Ot,"\\Leftrightarrow ","&hArr;"),P.Re=P.Real=P.real=w(Ot,"\\Re ","&real;"),P.Im=P.imag=P.image=P.imagin=P.imaginary=P.Imaginary=w(Ot,"\\Im ","&image;"),P.part=P.partial=w(Ot,"\\partial ","&part;"),P.infty=P.infin=P.infinity=w(Ot,"\\infty ","&infin;"),P.pounds=w(Ot,"\\pounds ","&pound;"),P.alef=P.alefsym=P.aleph=P.alephsym=w(Ot,"\\aleph ","&alefsym;"),P.xist=P.xists=P.exist=P.exists=w(Ot,"\\exists ","&exist;"),P.nexists=P.nexist=w(Ot,"\\nexists ","&#8708;"),P.and=P.land=P.wedge=w(le,"\\wedge ","&and;"),P.or=P.lor=P.vee=w(le,"\\vee ","&or;"),P.o=P.O=P.empty=P.emptyset=P.oslash=P.Oslash=P.nothing=P.varnothing=w(le,"\\varnothing ","&empty;"),P.cup=P.union=w(le,"\\cup ","&cup;"),P.cap=P.intersect=P.intersection=w(le,"\\cap ","&cap;"),P.deg=P.degree=w(Ot,"\\degree ","&deg;"),P.ang=P.angle=w(Ot,"\\angle ","&ang;"),P.measuredangle=w(Ot,"\\measuredangle ","&#8737;");var ll=E(Ot,function(ft,Et){ft.createLeftOf=function(X){X.options.autoSubscriptNumerals&&X.parent!==X.parent.parent.sub&&(X[T]instanceof Vr&&X[T].isItalic!==!1||X[T]instanceof Ce&&X[T][T]instanceof Vr&&X[T][T].isItalic!==!1)?(P._().createLeftOf(X),Et.createLeftOf.call(this,X),X.insRightOf(X.parent.parent)):Et.createLeftOf.call(this,X)}}),Vr=E(At,function(ft,Et){ft.init=function(X,Z){Et.init.call(this,X,"<var>"+(Z||X)+"</var>")},ft.text=function(){var X=this.ctrlSeq;return this.isPartOfOperator?X[0]=="\\"?X=X.slice(1,X.length):X[X.length-1]==" "&&(X=X.slice(0,-1)):(!this[T]||this[T]instanceof Vr||this[T]instanceof le||this[T].ctrlSeq==="\\ "||(X="*"+X),!this[1]||this[1]instanceof le||this[1]instanceof Ce||(X+="*")),X}});Y.p.autoCommands={_maxLength:0},z.autoCommands=function(ft){if(!/^[a-z]+(?: [a-z]+)*$/i.test(ft))throw'"'+ft+'" not a space-delimited list of only letters';for(var Et=ft.split(" "),X={},Z=0,ut=0;ut<Et.length;ut+=1){var Rt=Et[ut];if(Rt.length<2)throw'autocommand "'+Rt+'" not minimum length of 2';if(P[Rt]===ds)throw'"'+Rt+'" is a built-in operator name';X[Rt]=1,Z=p(Z,Rt.length)}return X._maxLength=Z,X};var Ar=E(Vr,function(ft,Et){function X(Z){return!Z||Z instanceof le||Z instanceof Gi}ft.init=function(Z){return Et.init.call(this,this.letter=Z)},ft.createLeftOf=function(Z){Et.createLeftOf.apply(this,arguments);var ut=Z.options.autoCommands,Rt=ut._maxLength;if(Rt>0){for(var Jt="",ce=this,de=0;ce instanceof Ar&&ce.ctrlSeq===ce.letter&&de<Rt;)Jt=ce.letter+Jt,ce=ce[T],de+=1;for(;Jt.length;){if(ut.hasOwnProperty(Jt)){for(de=1,ce=this;de<Jt.length;de+=1,ce=ce[T]);return O(ce,this).remove(),Z[T]=ce[T],P[Jt](Jt).createLeftOf(Z)}Jt=Jt.slice(1)}}},ft.italicize=function(Z){return this.isItalic=Z,this.isPartOfOperator=!Z,this.jQ.toggleClass("mq-operator-name",!Z),this},ft.finalizeTree=ft.siblingDeleted=ft.siblingCreated=function(Z,ut){ut!==T&&this[1]instanceof Ar||this.autoUnItalicize(Z)},ft.autoUnItalicize=function(Z){var ut=Z.autoOperatorNames;if(ut._maxLength!==0){for(var Rt=this.letter,Jt=this[T];Jt instanceof Ar;Jt=Jt[T])Rt=Jt.letter+Rt;for(var ce=this[1];ce instanceof Ar;ce=ce[1])Rt+=ce.letter;O(Jt[1]||this.parent.ends[T],ce[T]||this.parent.ends[1]).each(function(an){an.italicize(!0).jQ.removeClass("mq-first mq-last mq-followed-by-supsub"),an.ctrlSeq=an.letter});t:for(var de=0,Ge=Jt[1]||this.parent.ends[T];de<Rt.length;de+=1,Ge=Ge[1])for(var pi=f(ut._maxLength,Rt.length-de);pi>0;pi-=1){var Ui=Rt.slice(de,de+pi);if(ut.hasOwnProperty(Ui)){for(var Yi=0,cr=Ge;Yi<pi;Yi+=1,cr=cr[1]){cr.italicize(!1);var Pi=cr}var Or=Ua.hasOwnProperty(Ui);if(Ge.ctrlSeq=(Or?"\\":"\\operatorname{")+Ge.ctrlSeq,Pi.ctrlSeq+=Or?" ":"}",_s.hasOwnProperty(Ui)&&Pi[T][T][T].jQ.addClass("mq-last"),X(Ge[T])||Ge.jQ.addClass("mq-first"),!X(Pi[1]))if(Pi[1]instanceof Ce){var _r=Pi[1];(_r.siblingCreated=_r.siblingDeleted=function(){_r.jQ.toggleClass("mq-after-operator-name",!(_r[1]instanceof ua))})()}else Pi.jQ.toggleClass("mq-last",!(Pi[1]instanceof ua));de+=pi-1,Ge=Pi;continue t}}}}}),Ua={},Un=Y.p.autoOperatorNames={_maxLength:9},_s={limsup:1,liminf:1,projlim:1,injlim:1};(function(){for(var ft="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),Et=0;Et<ft.length;Et+=1)Ua[ft[Et]]=Un[ft[Et]]=1;var X="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" ");for(Et=0;Et<X.length;Et+=1)Ua[X[Et]]=1;var Z="sin cos tan sec cosec csc cotan cot ctg".split(" ");for(Et=0;Et<Z.length;Et+=1)Un[Z[Et]]=Un["arc"+Z[Et]]=Un[Z[Et]+"h"]=Un["ar"+Z[Et]+"h"]=Un["arc"+Z[Et]+"h"]=1;var ut="gcf hcf lcm proj span".split(" ");for(Et=0;Et<ut.length;Et+=1)Un[ut[Et]]=1})(),z.autoOperatorNames=function(ft){if(!/^[a-z]+(?: [a-z]+)*$/i.test(ft))throw'"'+ft+'" not a space-delimited list of only letters';for(var Et=ft.split(" "),X={},Z=0,ut=0;ut<Et.length;ut+=1){var Rt=Et[ut];if(Rt.length<2)throw'"'+Rt+'" not minimum length of 2';X[Rt]=1,Z=p(Z,Rt.length)}return X._maxLength=Z,X};var ds=E(At,function(ft,Et){ft.init=function(X){this.ctrlSeq=X},ft.createLeftOf=function(X){for(var Z=this.ctrlSeq,ut=0;ut<Z.length;ut+=1)Ar(Z.charAt(ut)).createLeftOf(X)},ft.parser=function(){for(var X=this.ctrlSeq,Z=_t(),ut=0;ut<X.length;ut+=1)Ar(X.charAt(ut)).adopt(Z,Z.ends[1],0);return Mt.succeed(Z.children())}});for(var Rc in Un)Un.hasOwnProperty(Rc)&&(P[Rc]=ds);P.operatorname=E(yt,function(ft){ft.createLeftOf=u,ft.numBlocks=function(){return 1},ft.parser=function(){return Ft.block.map(function(Et){return Et.children()})}}),P.f=E(Ar,function(ft,Et){ft.init=function(){At.p.init.call(this,this.letter="f",'<var class="mq-f">f</var>')},ft.italicize=function(X){return this.jQ.html("f").toggleClass("mq-f",X),Et.italicize.apply(this,arguments)}}),P[" "]=P.space=w(Ot,"\\ ","&nbsp;"),P["'"]=P.prime=w(Ot,"'","&prime;"),P[""]=P.dprime=w(Ot,"","&Prime;"),P.backslash=w(Ot,"\\backslash ","\\"),L["\\"]||(L["\\"]=P.backslash),P.$=w(Ot,"\\$","$");var Kr=E(At,function(ft,Et){ft.init=function(X,Z){Et.init.call(this,X,'<span class="mq-nonSymbola">'+(Z||X)+"</span>")}});P["@"]=Kr,P["&"]=w(Kr,"\\&","&amp;"),P["%"]=w(Kr,"\\%","%"),P.alpha=P.beta=P.gamma=P.delta=P.zeta=P.eta=P.theta=P.iota=P.kappa=P.mu=P.nu=P.xi=P.rho=P.sigma=P.tau=P.chi=P.psi=P.omega=E(Vr,function(ft,Et){ft.init=function(X){Et.init.call(this,"\\"+X+" ","&"+X+";")}}),P.phi=w(Vr,"\\phi ","&#981;"),P.phiv=P.varphi=w(Vr,"\\varphi ","&phi;"),P.epsilon=w(Vr,"\\epsilon ","&#1013;"),P.epsiv=P.varepsilon=w(Vr,"\\varepsilon ","&epsilon;"),P.piv=P.varpi=w(Vr,"\\varpi ","&piv;"),P.sigmaf=P.sigmav=P.varsigma=w(Vr,"\\varsigma ","&sigmaf;"),P.thetav=P.vartheta=P.thetasym=w(Vr,"\\vartheta ","&thetasym;"),P.upsilon=P.upsi=w(Vr,"\\upsilon ","&upsilon;"),P.gammad=P.Gammad=P.digamma=w(Vr,"\\digamma ","&#989;"),P.kappav=P.varkappa=w(Vr,"\\varkappa ","&#1008;"),P.rhov=P.varrho=w(Vr,"\\varrho ","&#1009;"),P.pi=P.=w(Kr,"\\pi ","&pi;"),P.lambda=w(Kr,"\\lambda ","&lambda;"),P.Upsilon=P.Upsi=P.upsih=P.Upsih=w(At,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>'),P.Gamma=P.Delta=P.Theta=P.Lambda=P.Xi=P.Pi=P.Sigma=P.Phi=P.Psi=P.Omega=P.forall=E(Ot,function(ft,Et){ft.init=function(X){Et.init.call(this,"\\"+X+" ","&"+X+";")}});var Mn=E(yt,function(ft){ft.init=function(Et){this.latex=Et},ft.createLeftOf=function(Et){var X=Ft.parse(this.latex);X.children().adopt(Et.parent,Et[T],Et[1]),Et[T]=X.ends[1],X.jQize().insertBefore(Et.jQ),X.finalizeInsert(Et.options,Et),X.ends[1][1].siblingCreated&&X.ends[1][1].siblingCreated(Et.options,T),X.ends[T][T].siblingCreated&&X.ends[T][T].siblingCreated(Et.options,1),Et.parent.bubble("reflow")},ft.parser=function(){var Et=Ft.parse(this.latex).children();return Mt.succeed(Et)}});P[""]=w(Mn,"^1"),P[""]=w(Mn,"^2"),P[""]=w(Mn,"^3"),P[""]=w(Mn,"\\frac14"),P[""]=w(Mn,"\\frac12"),P[""]=w(Mn,"\\frac34");var js=E(le,function(ft){ft.init=Ot.prototype.init,ft.contactWeld=ft.siblingCreated=ft.siblingDeleted=function(Et,X){if(X!==1)return this.jQ[0].className=function Z(ut){return ut[T]?ut[T]instanceof le||/^[,;:\(\[]$/.test(ut[T].ctrlSeq)?"":"mq-binary-operator":ut.parent&&ut.parent.parent&&ut.parent.parent.isStyleBlock()?Z(ut.parent.parent):""}(this),this}});P["+"]=w(js,"+","+"),P[""]=P["-"]=w(js,"-","&minus;"),P[""]=P.pm=P.plusmn=P.plusminus=w(js,"\\pm ","&plusmn;"),P.mp=P.mnplus=P.minusplus=w(js,"\\mp ","&#8723;"),L["*"]=P.sdot=P.cdot=w(le,"\\cdot ","&middot;","*");var Pa=E(le,function(ft,Et){ft.init=function(X,Z){this.data=X,this.strict=Z;var ut=Z?"Strict":"";Et.init.call(this,X["ctrlSeq"+ut],X["html"+ut],X["text"+ut])},ft.swap=function(X){this.strict=X;var Z=X?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+Z],this.jQ.html(this.data["html"+Z]),this.textTemplate=[this.data["text"+Z]]},ft.deleteTowards=function(X,Z){if(X===T&&!this.strict)return this.swap(!0),void this.bubble("reflow");Et.deleteTowards.apply(this,arguments)}}),Th={ctrlSeq:"\\le ",html:"&le;",text:"",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<"},Bu={ctrlSeq:"\\ge ",html:"&ge;",text:"",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">"};P["<"]=P.lt=w(Pa,Th,!0),P[">"]=P.gt=w(Pa,Bu,!0),P[""]=P.le=P.leq=w(Pa,Th,!1),P[""]=P.ge=P.geq=w(Pa,Bu,!1);var Fd=E(le,function(ft,Et){ft.init=function(){Et.init.call(this,"=","=")},ft.createLeftOf=function(X){if(X[T]instanceof Pa&&X[T].strict)return X[T].swap(!1),void X[T].bubble("reflow");Et.createLeftOf.apply(this,arguments)}});P["="]=Fd,P[""]=P.times=w(le,"\\times ","&times;","[x]"),P[""]=P.div=P.divide=P.divides=w(le,"\\div ","&divide;","[/]"),L["~"]=P.sim=w(le,"\\sim ","~","~");var Ch=ot(1);for(var Ic in Ch)(function(ft,Et){typeof Et=="function"?(U[ft]=function(){return j(),Et.apply(this,arguments)},U[ft].prototype=Et.prototype):U[ft]=Et})(Ic,Ch[Ic])}(),g.exports=window.MathQuill},755:function(g,i){var o;(function(m,c){typeof g.exports=="object"?g.exports=m.document?c(m,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return c(l)}:c(m)})(typeof window!="undefined"?window:this,function(m,c){var l=[],h=Object.getPrototypeOf,a=l.slice,f=l.flat?function(D){return l.flat.call(D)}:function(D){return l.concat.apply([],D)},p=l.push,u=l.indexOf,v={},y=v.toString,x=v.hasOwnProperty,b=x.toString,w=b.call(Object),C={},E=function(D){return typeof D=="function"&&typeof D.nodeType!="number"&&typeof D.item!="function"},T=function(D){return D!=null&&D===D.window},k=m.document,A={type:!0,src:!0,nonce:!0,noModule:!0};function I(D,H,it){var st,mt,St=(it=it||k).createElement("script");if(St.text=D,H)for(st in A)(mt=H[st]||H.getAttribute&&H.getAttribute(st))&&St.setAttribute(st,mt);it.head.appendChild(St).parentNode.removeChild(St)}function B(D){return D==null?D+"":typeof D=="object"||typeof D=="function"?v[y.call(D)]||"object":typeof D}var M="3.7.1",O=/HTML$/i,P=function(D,H){return new P.fn.init(D,H)};function L(D){var H=!!D&&"length"in D&&D.length,it=B(D);return!E(D)&&!T(D)&&(it==="array"||H===0||typeof H=="number"&&H>0&&H-1 in D)}function _(D,H){return D.nodeName&&D.nodeName.toLowerCase()===H.toLowerCase()}P.fn=P.prototype={jquery:M,constructor:P,length:0,toArray:function(){return a.call(this)},get:function(D){return D==null?a.call(this):D<0?this[D+this.length]:this[D]},pushStack:function(D){var H=P.merge(this.constructor(),D);return H.prevObject=this,H},each:function(D){return P.each(this,D)},map:function(D){return this.pushStack(P.map(this,function(H,it){return D.call(H,it,H)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(P.grep(this,function(D,H){return(H+1)%2}))},odd:function(){return this.pushStack(P.grep(this,function(D,H){return H%2}))},eq:function(D){var H=this.length,it=+D+(D<0?H:0);return this.pushStack(it>=0&&it<H?[this[it]]:[])},end:function(){return this.prevObject||this.constructor()},push:p,sort:l.sort,splice:l.splice},P.extend=P.fn.extend=function(){var D,H,it,st,mt,St,Lt=arguments[0]||{},ue=1,he=arguments.length,Pe=!1;for(typeof Lt=="boolean"&&(Pe=Lt,Lt=arguments[ue]||{},ue++),typeof Lt=="object"||E(Lt)||(Lt={}),ue===he&&(Lt=this,ue--);ue<he;ue++)if((D=arguments[ue])!=null)for(H in D)st=D[H],H!=="__proto__"&&Lt!==st&&(Pe&&st&&(P.isPlainObject(st)||(mt=Array.isArray(st)))?(it=Lt[H],St=mt&&!Array.isArray(it)?[]:mt||P.isPlainObject(it)?it:{},mt=!1,Lt[H]=P.extend(Pe,St,st)):st!==void 0&&(Lt[H]=st));return Lt},P.extend({expando:"jQuery"+(M+Math.random()).replace(/\D/g,""),isReady:!0,error:function(D){throw new Error(D)},noop:function(){},isPlainObject:function(D){var H,it;return!(!D||y.call(D)!=="[object Object]"||(H=h(D))&&(typeof(it=x.call(H,"constructor")&&H.constructor)!="function"||b.call(it)!==w))},isEmptyObject:function(D){var H;for(H in D)return!1;return!0},globalEval:function(D,H,it){I(D,{nonce:H&&H.nonce},it)},each:function(D,H){var it,st=0;if(L(D))for(it=D.length;st<it&&H.call(D[st],st,D[st])!==!1;st++);else for(st in D)if(H.call(D[st],st,D[st])===!1)break;return D},text:function(D){var H,it="",st=0,mt=D.nodeType;if(!mt)for(;H=D[st++];)it+=P.text(H);return mt===1||mt===11?D.textContent:mt===9?D.documentElement.textContent:mt===3||mt===4?D.nodeValue:it},makeArray:function(D,H){var it=H||[];return D!=null&&(L(Object(D))?P.merge(it,typeof D=="string"?[D]:D):p.call(it,D)),it},inArray:function(D,H,it){return H==null?-1:u.call(H,D,it)},isXMLDoc:function(D){var H=D&&D.namespaceURI,it=D&&(D.ownerDocument||D).documentElement;return!O.test(H||it&&it.nodeName||"HTML")},merge:function(D,H){for(var it=+H.length,st=0,mt=D.length;st<it;st++)D[mt++]=H[st];return D.length=mt,D},grep:function(D,H,it){for(var st=[],mt=0,St=D.length,Lt=!it;mt<St;mt++)!H(D[mt],mt)!==Lt&&st.push(D[mt]);return st},map:function(D,H,it){var st,mt,St=0,Lt=[];if(L(D))for(st=D.length;St<st;St++)(mt=H(D[St],St,it))!=null&&Lt.push(mt);else for(St in D)(mt=H(D[St],St,it))!=null&&Lt.push(mt);return f(Lt)},guid:1,support:C}),typeof Symbol=="function"&&(P.fn[Symbol.iterator]=l[Symbol.iterator]),P.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(D,H){v["[object "+H+"]"]=H.toLowerCase()});var G=l.pop,$=l.sort,W=l.splice,Y="[\\x20\\t\\r\\n\\f]",z=new RegExp("^"+Y+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Y+"+$","g");P.contains=function(D,H){var it=H&&H.parentNode;return D===it||!(!it||it.nodeType!==1||!(D.contains?D.contains(it):D.compareDocumentPosition&&16&D.compareDocumentPosition(it)))};var F=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function N(D,H){return H?D==="\0"?"":D.slice(0,-1)+"\\"+D.charCodeAt(D.length-1).toString(16)+" ":"\\"+D}P.escapeSelector=function(D){return(D+"").replace(F,N)};var j=k,U=p;(function(){var D,H,it,st,mt,St,Lt,ue,he,Pe,Ye=U,Xe=P.expando,Ne=0,qe=0,qi=zt(),wr=zt(),or=zt(),Jn=zt(),ws=function(wt,$t){return wt===$t&&(mt=!0),0},Yt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ge="(?:\\\\[\\da-fA-F]{1,6}"+Y+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",be="\\["+Y+"*("+ge+")(?:"+Y+"*([*^$|!~]?=)"+Y+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ge+"))|)"+Y+"*\\]",Se=":("+ge+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+be+")*)|.*)\\)|)",De=new RegExp(Y+"+","g"),me=new RegExp("^"+Y+"*,"+Y+"*"),_e=new RegExp("^"+Y+"*([>+~]|"+Y+")"+Y+"*"),ui=new RegExp(Y+"|>"),ai=new RegExp(Se),se=new RegExp("^"+ge+"$"),Ue={ID:new RegExp("^#("+ge+")"),CLASS:new RegExp("^\\.("+ge+")"),TAG:new RegExp("^("+ge+"|[*])"),ATTR:new RegExp("^"+be),PSEUDO:new RegExp("^"+Se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Y+"*(even|odd|(([+-]|)(\\d*)n|)"+Y+"*(?:([+-]|)"+Y+"*(\\d+)|))"+Y+"*\\)|)","i"),bool:new RegExp("^(?:"+Yt+")$","i"),needsContext:new RegExp("^"+Y+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Y+"*((?:-\\d)?\\d*)"+Y+"*\\)|)(?=[^-]|$)","i")},Gt=/^(?:input|select|textarea|button)$/i,Wt=/^h\d$/i,Qt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,ae=new RegExp("\\\\[\\da-fA-F]{1,6}"+Y+"?|\\\\([^\\r\\n\\f])","g"),ne=function(wt,$t){var te="0x"+wt.slice(1)-65536;return $t||(te<0?String.fromCharCode(te+65536):String.fromCharCode(te>>10|55296,1023&te|56320))},Zt=function(){kt()},lt=Vt(function(wt){return wt.disabled===!0&&_(wt,"fieldset")},{dir:"parentNode",next:"legend"});try{Ye.apply(l=a.call(j.childNodes),j.childNodes),l[j.childNodes.length].nodeType}catch(wt){Ye={apply:function($t,te){U.apply($t,a.call(te))},call:function($t){U.apply($t,a.call(arguments,1))}}}function Pt(wt,$t,te,re){var fe,Je,ze,Me,hi,rr,ki,Li=$t&&$t.ownerDocument,Xi=$t?$t.nodeType:9;if(te=te||[],typeof wt!="string"||!wt||Xi!==1&&Xi!==9&&Xi!==11)return te;if(!re&&(kt($t),$t=$t||St,ue)){if(Xi!==11&&(hi=Qt.exec(wt)))if(fe=hi[1]){if(Xi===9){if(!(ze=$t.getElementById(fe)))return te;if(ze.id===fe)return Ye.call(te,ze),te}else if(Li&&(ze=Li.getElementById(fe))&&Pt.contains($t,ze)&&ze.id===fe)return Ye.call(te,ze),te}else{if(hi[2])return Ye.apply(te,$t.getElementsByTagName(wt)),te;if((fe=hi[3])&&$t.getElementsByClassName)return Ye.apply(te,$t.getElementsByClassName(fe)),te}if(!(Jn[wt+" "]||he&&he.test(wt))){if(ki=wt,Li=$t,Xi===1&&(ui.test(wt)||_e.test(wt))){for((Li=J.test(wt)&&Tt($t.parentNode)||$t)==$t&&C.scope||((Me=$t.getAttribute("id"))?Me=P.escapeSelector(Me):$t.setAttribute("id",Me=Xe)),Je=(rr=pt(wt)).length;Je--;)rr[Je]=(Me?"#"+Me:":scope")+" "+vt(rr[Je]);ki=rr.join(",")}try{return Ye.apply(te,Li.querySelectorAll(ki)),te}catch(Bi){Jn(wt,!0)}finally{Me===Xe&&$t.removeAttribute("id")}}}return Oe(wt.replace(z,"$1"),$t,te,re)}function zt(){var wt=[];return function $t(te,re){return wt.push(te+" ")>H.cacheLength&&delete $t[wt.shift()],$t[te+" "]=re}}function Ut(wt){return wt[Xe]=!0,wt}function Ht(wt){var $t=St.createElement("fieldset");try{return!!wt($t)}catch(te){return!1}finally{$t.parentNode&&$t.parentNode.removeChild($t),$t=null}}function nt(wt){return function($t){return _($t,"input")&&$t.type===wt}}function It(wt){return function($t){return(_($t,"input")||_($t,"button"))&&$t.type===wt}}function bt(wt){return function($t){return"form"in $t?$t.parentNode&&$t.disabled===!1?"label"in $t?"label"in $t.parentNode?$t.parentNode.disabled===wt:$t.disabled===wt:$t.isDisabled===wt||$t.isDisabled!==!wt&&lt($t)===wt:$t.disabled===wt:"label"in $t&&$t.disabled===wt}}function ct(wt){return Ut(function($t){return $t=+$t,Ut(function(te,re){for(var fe,Je=wt([],te.length,$t),ze=Je.length;ze--;)te[fe=Je[ze]]&&(te[fe]=!(re[fe]=te[fe]))})})}function Tt(wt){return wt&&wt.getElementsByTagName!==void 0&&wt}function kt(wt){var $t,te=wt?wt.ownerDocument||wt:j;return te!=St&&te.nodeType===9&&te.documentElement&&(Lt=(St=te).documentElement,ue=!P.isXMLDoc(St),Pe=Lt.matches||Lt.webkitMatchesSelector||Lt.msMatchesSelector,Lt.msMatchesSelector&&j!=St&&($t=St.defaultView)&&$t.top!==$t&&$t.addEventListener("unload",Zt),C.getById=Ht(function(re){return Lt.appendChild(re).id=P.expando,!St.getElementsByName||!St.getElementsByName(P.expando).length}),C.disconnectedMatch=Ht(function(re){return Pe.call(re,"*")}),C.scope=Ht(function(){return St.querySelectorAll(":scope")}),C.cssHas=Ht(function(){try{return St.querySelector(":has(*,:jqfake)"),!1}catch(re){return!0}}),C.getById?(H.filter.ID=function(re){var fe=re.replace(ae,ne);return function(Je){return Je.getAttribute("id")===fe}},H.find.ID=function(re,fe){if(fe.getElementById!==void 0&&ue){var Je=fe.getElementById(re);return Je?[Je]:[]}}):(H.filter.ID=function(re){var fe=re.replace(ae,ne);return function(Je){var ze=Je.getAttributeNode!==void 0&&Je.getAttributeNode("id");return ze&&ze.value===fe}},H.find.ID=function(re,fe){if(fe.getElementById!==void 0&&ue){var Je,ze,Me,hi=fe.getElementById(re);if(hi){if((Je=hi.getAttributeNode("id"))&&Je.value===re)return[hi];for(Me=fe.getElementsByName(re),ze=0;hi=Me[ze++];)if((Je=hi.getAttributeNode("id"))&&Je.value===re)return[hi]}return[]}}),H.find.TAG=function(re,fe){return fe.getElementsByTagName!==void 0?fe.getElementsByTagName(re):fe.querySelectorAll(re)},H.find.CLASS=function(re,fe){if(fe.getElementsByClassName!==void 0&&ue)return fe.getElementsByClassName(re)},he=[],Ht(function(re){var fe;Lt.appendChild(re).innerHTML="<a id='"+Xe+"' href='' disabled='disabled'></a><select id='"+Xe+"-\r\\' disabled='disabled'><option selected=''></option></select>",re.querySelectorAll("[selected]").length||he.push("\\["+Y+"*(?:value|"+Yt+")"),re.querySelectorAll("[id~="+Xe+"-]").length||he.push("~="),re.querySelectorAll("a#"+Xe+"+*").length||he.push(".#.+[+~]"),re.querySelectorAll(":checked").length||he.push(":checked"),(fe=St.createElement("input")).setAttribute("type","hidden"),re.appendChild(fe).setAttribute("name","D"),Lt.appendChild(re).disabled=!0,re.querySelectorAll(":disabled").length!==2&&he.push(":enabled",":disabled"),(fe=St.createElement("input")).setAttribute("name",""),re.appendChild(fe),re.querySelectorAll("[name='']").length||he.push("\\["+Y+"*name"+Y+"*="+Y+`*(?:''|"")`)}),C.cssHas||he.push(":has"),he=he.length&&new RegExp(he.join("|")),ws=function(re,fe){if(re===fe)return mt=!0,0;var Je=!re.compareDocumentPosition-!fe.compareDocumentPosition;return Je||(1&(Je=(re.ownerDocument||re)==(fe.ownerDocument||fe)?re.compareDocumentPosition(fe):1)||!C.sortDetached&&fe.compareDocumentPosition(re)===Je?re===St||re.ownerDocument==j&&Pt.contains(j,re)?-1:fe===St||fe.ownerDocument==j&&Pt.contains(j,fe)?1:st?u.call(st,re)-u.call(st,fe):0:4&Je?-1:1)}),St}for(D in Pt.matches=function(wt,$t){return Pt(wt,null,null,$t)},Pt.matchesSelector=function(wt,$t){if(kt(wt),ue&&!Jn[$t+" "]&&(!he||!he.test($t)))try{var te=Pe.call(wt,$t);if(te||C.disconnectedMatch||wt.document&&wt.document.nodeType!==11)return te}catch(re){Jn($t,!0)}return Pt($t,St,null,[wt]).length>0},Pt.contains=function(wt,$t){return(wt.ownerDocument||wt)!=St&&kt(wt),P.contains(wt,$t)},Pt.attr=function(wt,$t){(wt.ownerDocument||wt)!=St&&kt(wt);var te=H.attrHandle[$t.toLowerCase()],re=te&&x.call(H.attrHandle,$t.toLowerCase())?te(wt,$t,!ue):void 0;return re!==void 0?re:wt.getAttribute($t)},Pt.error=function(wt){throw new Error("Syntax error, unrecognized expression: "+wt)},P.uniqueSort=function(wt){var $t,te=[],re=0,fe=0;if(mt=!C.sortStable,st=!C.sortStable&&a.call(wt,0),$.call(wt,ws),mt){for(;$t=wt[fe++];)$t===wt[fe]&&(re=te.push(fe));for(;re--;)W.call(wt,te[re],1)}return st=null,wt},P.fn.uniqueSort=function(){return this.pushStack(P.uniqueSort(a.apply(this)))},H=P.expr={cacheLength:50,createPseudo:Ut,match:Ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(wt){return wt[1]=wt[1].replace(ae,ne),wt[3]=(wt[3]||wt[4]||wt[5]||"").replace(ae,ne),wt[2]==="~="&&(wt[3]=" "+wt[3]+" "),wt.slice(0,4)},CHILD:function(wt){return wt[1]=wt[1].toLowerCase(),wt[1].slice(0,3)==="nth"?(wt[3]||Pt.error(wt[0]),wt[4]=+(wt[4]?wt[5]+(wt[6]||1):2*(wt[3]==="even"||wt[3]==="odd")),wt[5]=+(wt[7]+wt[8]||wt[3]==="odd")):wt[3]&&Pt.error(wt[0]),wt},PSEUDO:function(wt){var $t,te=!wt[6]&&wt[2];return Ue.CHILD.test(wt[0])?null:(wt[3]?wt[2]=wt[4]||wt[5]||"":te&&ai.test(te)&&($t=pt(te,!0))&&($t=te.indexOf(")",te.length-$t)-te.length)&&(wt[0]=wt[0].slice(0,$t),wt[2]=te.slice(0,$t)),wt.slice(0,3))}},filter:{TAG:function(wt){var $t=wt.replace(ae,ne).toLowerCase();return wt==="*"?function(){return!0}:function(te){return _(te,$t)}},CLASS:function(wt){var $t=qi[wt+" "];return $t||($t=new RegExp("(^|"+Y+")"+wt+"("+Y+"|$)"))&&qi(wt,function(te){return $t.test(typeof te.className=="string"&&te.className||te.getAttribute!==void 0&&te.getAttribute("class")||"")})},ATTR:function(wt,$t,te){return function(re){var fe=Pt.attr(re,wt);return fe==null?$t==="!=":!$t||(fe+="",$t==="="?fe===te:$t==="!="?fe!==te:$t==="^="?te&&fe.indexOf(te)===0:$t==="*="?te&&fe.indexOf(te)>-1:$t==="$="?te&&fe.slice(-te.length)===te:$t==="~="?(" "+fe.replace(De," ")+" ").indexOf(te)>-1:$t==="|="&&(fe===te||fe.slice(0,te.length+1)===te+"-"))}},CHILD:function(wt,$t,te,re,fe){var Je=wt.slice(0,3)!=="nth",ze=wt.slice(-4)!=="last",Me=$t==="of-type";return re===1&&fe===0?function(hi){return!!hi.parentNode}:function(hi,rr,ki){var Li,Xi,Bi,Ir,mn,Jr=Je!==ze?"nextSibling":"previousSibling",on=hi.parentNode,On=Me&&hi.nodeName.toLowerCase(),As=!ki&&!Me,jr=!1;if(on){if(Je){for(;Jr;){for(Bi=hi;Bi=Bi[Jr];)if(Me?_(Bi,On):Bi.nodeType===1)return!1;mn=Jr=wt==="only"&&!mn&&"nextSibling"}return!0}if(mn=[ze?on.firstChild:on.lastChild],ze&&As){for(jr=(Ir=(Li=(Xi=on[Xe]||(on[Xe]={}))[wt]||[])[0]===Ne&&Li[1])&&Li[2],Bi=Ir&&on.childNodes[Ir];Bi=++Ir&&Bi&&Bi[Jr]||(jr=Ir=0)||mn.pop();)if(Bi.nodeType===1&&++jr&&Bi===hi){Xi[wt]=[Ne,Ir,jr];break}}else if(As&&(jr=Ir=(Li=(Xi=hi[Xe]||(hi[Xe]={}))[wt]||[])[0]===Ne&&Li[1]),jr===!1)for(;(Bi=++Ir&&Bi&&Bi[Jr]||(jr=Ir=0)||mn.pop())&&(!(Me?_(Bi,On):Bi.nodeType===1)||!++jr||(As&&((Xi=Bi[Xe]||(Bi[Xe]={}))[wt]=[Ne,jr]),Bi!==hi)););return(jr-=fe)===re||jr%re==0&&jr/re>=0}}},PSEUDO:function(wt,$t){var te,re=H.pseudos[wt]||H.setFilters[wt.toLowerCase()]||Pt.error("unsupported pseudo: "+wt);return re[Xe]?re($t):re.length>1?(te=[wt,wt,"",$t],H.setFilters.hasOwnProperty(wt.toLowerCase())?Ut(function(fe,Je){for(var ze,Me=re(fe,$t),hi=Me.length;hi--;)fe[ze=u.call(fe,Me[hi])]=!(Je[ze]=Me[hi])}):function(fe){return re(fe,0,te)}):re}},pseudos:{not:Ut(function(wt){var $t=[],te=[],re=gt(wt.replace(z,"$1"));return re[Xe]?Ut(function(fe,Je,ze,Me){for(var hi,rr=re(fe,null,Me,[]),ki=fe.length;ki--;)(hi=rr[ki])&&(fe[ki]=!(Je[ki]=hi))}):function(fe,Je,ze){return $t[0]=fe,re($t,null,ze,te),$t[0]=null,!te.pop()}}),has:Ut(function(wt){return function($t){return Pt(wt,$t).length>0}}),contains:Ut(function(wt){return wt=wt.replace(ae,ne),function($t){return($t.textContent||P.text($t)).indexOf(wt)>-1}}),lang:Ut(function(wt){return se.test(wt||"")||Pt.error("unsupported lang: "+wt),wt=wt.replace(ae,ne).toLowerCase(),function($t){var te;do if(te=ue?$t.lang:$t.getAttribute("xml:lang")||$t.getAttribute("lang"))return(te=te.toLowerCase())===wt||te.indexOf(wt+"-")===0;while(($t=$t.parentNode)&&$t.nodeType===1);return!1}}),target:function(wt){var $t=m.location&&m.location.hash;return $t&&$t.slice(1)===wt.id},root:function(wt){return wt===Lt},focus:function(wt){return wt===function(){try{return St.activeElement}catch($t){}}()&&St.hasFocus()&&!!(wt.type||wt.href||~wt.tabIndex)},enabled:bt(!1),disabled:bt(!0),checked:function(wt){return _(wt,"input")&&!!wt.checked||_(wt,"option")&&!!wt.selected},selected:function(wt){return wt.parentNode&&wt.parentNode.selectedIndex,wt.selected===!0},empty:function(wt){for(wt=wt.firstChild;wt;wt=wt.nextSibling)if(wt.nodeType<6)return!1;return!0},parent:function(wt){return!H.pseudos.empty(wt)},header:function(wt){return Wt.test(wt.nodeName)},input:function(wt){return Gt.test(wt.nodeName)},button:function(wt){return _(wt,"input")&&wt.type==="button"||_(wt,"button")},text:function(wt){var $t;return _(wt,"input")&&wt.type==="text"&&(($t=wt.getAttribute("type"))==null||$t.toLowerCase()==="text")},first:ct(function(){return[0]}),last:ct(function(wt,$t){return[$t-1]}),eq:ct(function(wt,$t,te){return[te<0?te+$t:te]}),even:ct(function(wt,$t){for(var te=0;te<$t;te+=2)wt.push(te);return wt}),odd:ct(function(wt,$t){for(var te=1;te<$t;te+=2)wt.push(te);return wt}),lt:ct(function(wt,$t,te){var re;for(re=te<0?te+$t:te>$t?$t:te;--re>=0;)wt.push(re);return wt}),gt:ct(function(wt,$t,te){for(var re=te<0?te+$t:te;++re<$t;)wt.push(re);return wt})}},H.pseudos.nth=H.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})H.pseudos[D]=nt(D);for(D in{submit:!0,reset:!0})H.pseudos[D]=It(D);function ht(){}function pt(wt,$t){var te,re,fe,Je,ze,Me,hi,rr=wr[wt+" "];if(rr)return $t?0:rr.slice(0);for(ze=wt,Me=[],hi=H.preFilter;ze;){for(Je in te&&!(re=me.exec(ze))||(re&&(ze=ze.slice(re[0].length)||ze),Me.push(fe=[])),te=!1,(re=_e.exec(ze))&&(te=re.shift(),fe.push({value:te,type:re[0].replace(z," ")}),ze=ze.slice(te.length)),H.filter)!(re=Ue[Je].exec(ze))||hi[Je]&&!(re=hi[Je](re))||(te=re.shift(),fe.push({value:te,type:Je,matches:re}),ze=ze.slice(te.length));if(!te)break}return $t?ze.length:ze?Pt.error(wt):wr(wt,Me).slice(0)}function vt(wt){for(var $t=0,te=wt.length,re="";$t<te;$t++)re+=wt[$t].value;return re}function Vt(wt,$t,te){var re=$t.dir,fe=$t.next,Je=fe||re,ze=te&&Je==="parentNode",Me=qe++;return $t.first?function(hi,rr,ki){for(;hi=hi[re];)if(hi.nodeType===1||ze)return wt(hi,rr,ki);return!1}:function(hi,rr,ki){var Li,Xi,Bi=[Ne,Me];if(ki){for(;hi=hi[re];)if((hi.nodeType===1||ze)&&wt(hi,rr,ki))return!0}else for(;hi=hi[re];)if(hi.nodeType===1||ze)if(Xi=hi[Xe]||(hi[Xe]={}),fe&&_(hi,fe))hi=hi[re]||hi;else{if((Li=Xi[Je])&&Li[0]===Ne&&Li[1]===Me)return Bi[2]=Li[2];if(Xi[Je]=Bi,Bi[2]=wt(hi,rr,ki))return!0}return!1}}function Re(wt){return wt.length>1?function($t,te,re){for(var fe=wt.length;fe--;)if(!wt[fe]($t,te,re))return!1;return!0}:wt[0]}function ee(wt,$t,te,re,fe){for(var Je,ze=[],Me=0,hi=wt.length,rr=$t!=null;Me<hi;Me++)(Je=wt[Me])&&(te&&!te(Je,re,fe)||(ze.push(Je),rr&&$t.push(Me)));return ze}function pe(wt,$t,te,re,fe,Je){return re&&!re[Xe]&&(re=pe(re)),fe&&!fe[Xe]&&(fe=pe(fe,Je)),Ut(function(ze,Me,hi,rr){var ki,Li,Xi,Bi,Ir=[],mn=[],Jr=Me.length,on=ze||function(As,jr,fs){for(var Rs=0,$a=jr.length;Rs<$a;Rs++)Pt(As,jr[Rs],fs);return fs}($t||"*",hi.nodeType?[hi]:hi,[]),On=!wt||!ze&&$t?on:ee(on,Ir,wt,hi,rr);if(te?te(On,Bi=fe||(ze?wt:Jr||re)?[]:Me,hi,rr):Bi=On,re)for(ki=ee(Bi,mn),re(ki,[],hi,rr),Li=ki.length;Li--;)(Xi=ki[Li])&&(Bi[mn[Li]]=!(On[mn[Li]]=Xi));if(ze){if(fe||wt){if(fe){for(ki=[],Li=Bi.length;Li--;)(Xi=Bi[Li])&&ki.push(On[Li]=Xi);fe(null,Bi=[],ki,rr)}for(Li=Bi.length;Li--;)(Xi=Bi[Li])&&(ki=fe?u.call(ze,Xi):Ir[Li])>-1&&(ze[ki]=!(Me[ki]=Xi))}}else Bi=ee(Bi===Me?Bi.splice(Jr,Bi.length):Bi),fe?fe(null,Me,Bi,rr):Ye.apply(Me,Bi)})}function at(wt){for(var $t,te,re,fe=wt.length,Je=H.relative[wt[0].type],ze=Je||H.relative[" "],Me=Je?1:0,hi=Vt(function(Li){return Li===$t},ze,!0),rr=Vt(function(Li){return u.call($t,Li)>-1},ze,!0),ki=[function(Li,Xi,Bi){var Ir=!Je&&(Bi||Xi!=it)||(($t=Xi).nodeType?hi(Li,Xi,Bi):rr(Li,Xi,Bi));return $t=null,Ir}];Me<fe;Me++)if(te=H.relative[wt[Me].type])ki=[Vt(Re(ki),te)];else{if((te=H.filter[wt[Me].type].apply(null,wt[Me].matches))[Xe]){for(re=++Me;re<fe&&!H.relative[wt[re].type];re++);return pe(Me>1&&Re(ki),Me>1&&vt(wt.slice(0,Me-1).concat({value:wt[Me-2].type===" "?"*":""})).replace(z,"$1"),te,Me<re&&at(wt.slice(Me,re)),re<fe&&at(wt=wt.slice(re)),re<fe&&vt(wt))}ki.push(te)}return Re(ki)}function gt(wt,$t){var te,re=[],fe=[],Je=or[wt+" "];if(!Je){for($t||($t=pt(wt)),te=$t.length;te--;)(Je=at($t[te]))[Xe]?re.push(Je):fe.push(Je);Je=or(wt,function(ze,Me){var hi=Me.length>0,rr=ze.length>0,ki=function(Li,Xi,Bi,Ir,mn){var Jr,on,On,As=0,jr="0",fs=Li&&[],Rs=[],$a=it,da=Li||rr&&H.find.TAG("*",mn),Nu=Ne+=$a==null?1:Math.random()||.1,Pg=da.length;for(mn&&(it=Xi==St||Xi||mn);jr!==Pg&&(Jr=da[jr])!=null;jr++){if(rr&&Jr){for(on=0,Xi||Jr.ownerDocument==St||(kt(Jr),Bi=!ue);On=ze[on++];)if(On(Jr,Xi||St,Bi)){Ye.call(Ir,Jr);break}mn&&(Ne=Nu)}hi&&((Jr=!On&&Jr)&&As--,Li&&fs.push(Jr))}if(As+=jr,hi&&jr!==As){for(on=0;On=Me[on++];)On(fs,Rs,Xi,Bi);if(Li){if(As>0)for(;jr--;)fs[jr]||Rs[jr]||(Rs[jr]=G.call(Ir));Rs=ee(Rs)}Ye.apply(Ir,Rs),mn&&!Li&&Rs.length>0&&As+Me.length>1&&P.uniqueSort(Ir)}return mn&&(Ne=Nu,it=$a),fs};return hi?Ut(ki):ki}(fe,re)),Je.selector=wt}return Je}function Oe(wt,$t,te,re){var fe,Je,ze,Me,hi,rr=typeof wt=="function"&&wt,ki=!re&&pt(wt=rr.selector||wt);if(te=te||[],ki.length===1){if((Je=ki[0]=ki[0].slice(0)).length>2&&(ze=Je[0]).type==="ID"&&$t.nodeType===9&&ue&&H.relative[Je[1].type]){if(!($t=(H.find.ID(ze.matches[0].replace(ae,ne),$t)||[])[0]))return te;rr&&($t=$t.parentNode),wt=wt.slice(Je.shift().value.length)}for(fe=Ue.needsContext.test(wt)?0:Je.length;fe--&&(ze=Je[fe],!H.relative[Me=ze.type]);)if((hi=H.find[Me])&&(re=hi(ze.matches[0].replace(ae,ne),J.test(Je[0].type)&&Tt($t.parentNode)||$t))){if(Je.splice(fe,1),!(wt=re.length&&vt(Je)))return Ye.apply(te,re),te;break}}return(rr||gt(wt,ki))(re,$t,!ue,te,!$t||J.test(wt)&&Tt($t.parentNode)||$t),te}ht.prototype=H.filters=H.pseudos,H.setFilters=new ht,C.sortStable=Xe.split("").sort(ws).join("")===Xe,kt(),C.sortDetached=Ht(function(wt){return 1&wt.compareDocumentPosition(St.createElement("fieldset"))}),P.find=Pt,P.expr[":"]=P.expr.pseudos,P.unique=P.uniqueSort,Pt.compile=gt,Pt.select=Oe,Pt.setDocument=kt,Pt.tokenize=pt,Pt.escape=P.escapeSelector,Pt.getText=P.text,Pt.isXML=P.isXMLDoc,Pt.selectors=P.expr,Pt.support=P.support,Pt.uniqueSort=P.uniqueSort})();var V=function(D,H,it){for(var st=[],mt=it!==void 0;(D=D[H])&&D.nodeType!==9;)if(D.nodeType===1){if(mt&&P(D).is(it))break;st.push(D)}return st},q=function(D,H){for(var it=[];D;D=D.nextSibling)D.nodeType===1&&D!==H&&it.push(D);return it},ot=P.expr.match.needsContext,Q=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function rt(D,H,it){return E(H)?P.grep(D,function(st,mt){return!!H.call(st,mt,st)!==it}):H.nodeType?P.grep(D,function(st){return st===H!==it}):typeof H!="string"?P.grep(D,function(st){return u.call(H,st)>-1!==it}):P.filter(H,D,it)}P.filter=function(D,H,it){var st=H[0];return it&&(D=":not("+D+")"),H.length===1&&st.nodeType===1?P.find.matchesSelector(st,D)?[st]:[]:P.find.matches(D,P.grep(H,function(mt){return mt.nodeType===1}))},P.fn.extend({find:function(D){var H,it,st=this.length,mt=this;if(typeof D!="string")return this.pushStack(P(D).filter(function(){for(H=0;H<st;H++)if(P.contains(mt[H],this))return!0}));for(it=this.pushStack([]),H=0;H<st;H++)P.find(D,mt[H],it);return st>1?P.uniqueSort(it):it},filter:function(D){return this.pushStack(rt(this,D||[],!1))},not:function(D){return this.pushStack(rt(this,D||[],!0))},is:function(D){return!!rt(this,typeof D=="string"&&ot.test(D)?P(D):D||[],!1).length}});var Bt,K=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(P.fn.init=function(D,H,it){var st,mt;if(!D)return this;if(it=it||Bt,typeof D=="string"){if(!(st=D[0]==="<"&&D[D.length-1]===">"&&D.length>=3?[null,D,null]:K.exec(D))||!st[1]&&H)return!H||H.jquery?(H||it).find(D):this.constructor(H).find(D);if(st[1]){if(H=H instanceof P?H[0]:H,P.merge(this,P.parseHTML(st[1],H&&H.nodeType?H.ownerDocument||H:k,!0)),Q.test(st[1])&&P.isPlainObject(H))for(st in H)E(this[st])?this[st](H[st]):this.attr(st,H[st]);return this}return(mt=k.getElementById(st[2]))&&(this[0]=mt,this.length=1),this}return D.nodeType?(this[0]=D,this.length=1,this):E(D)?it.ready!==void 0?it.ready(D):D(P):P.makeArray(D,this)}).prototype=P.fn,Bt=P(k);var Mt=/^(?:parents|prev(?:Until|All))/,Ft={children:!0,contents:!0,next:!0,prev:!0};function dt(D,H){for(;(D=D[H])&&D.nodeType!==1;);return D}P.fn.extend({has:function(D){var H=P(D,this),it=H.length;return this.filter(function(){for(var st=0;st<it;st++)if(P.contains(this,H[st]))return!0})},closest:function(D,H){var it,st=0,mt=this.length,St=[],Lt=typeof D!="string"&&P(D);if(!ot.test(D)){for(;st<mt;st++)for(it=this[st];it&&it!==H;it=it.parentNode)if(it.nodeType<11&&(Lt?Lt.index(it)>-1:it.nodeType===1&&P.find.matchesSelector(it,D))){St.push(it);break}}return this.pushStack(St.length>1?P.uniqueSort(St):St)},index:function(D){return D?typeof D=="string"?u.call(P(D),this[0]):u.call(this,D.jquery?D[0]:D):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(D,H){return this.pushStack(P.uniqueSort(P.merge(this.get(),P(D,H))))},addBack:function(D){return this.add(D==null?this.prevObject:this.prevObject.filter(D))}}),P.each({parent:function(D){var H=D.parentNode;return H&&H.nodeType!==11?H:null},parents:function(D){return V(D,"parentNode")},parentsUntil:function(D,H,it){return V(D,"parentNode",it)},next:function(D){return dt(D,"nextSibling")},prev:function(D){return dt(D,"previousSibling")},nextAll:function(D){return V(D,"nextSibling")},prevAll:function(D){return V(D,"previousSibling")},nextUntil:function(D,H,it){return V(D,"nextSibling",it)},prevUntil:function(D,H,it){return V(D,"previousSibling",it)},siblings:function(D){return q((D.parentNode||{}).firstChild,D)},children:function(D){return q(D.firstChild)},contents:function(D){return D.contentDocument!=null&&h(D.contentDocument)?D.contentDocument:(_(D,"template")&&(D=D.content||D),P.merge([],D.childNodes))}},function(D,H){P.fn[D]=function(it,st){var mt=P.map(this,H,it);return D.slice(-5)!=="Until"&&(st=it),st&&typeof st=="string"&&(mt=P.filter(st,mt)),this.length>1&&(Ft[D]||P.uniqueSort(mt),Mt.test(D)&&mt.reverse()),this.pushStack(mt)}});var yt=/[^\x20\t\r\n\f]+/g;function At(D){return D}function Ot(D){throw D}function le(D,H,it,st){var mt;try{D&&E(mt=D.promise)?mt.call(D).done(H).fail(it):D&&E(mt=D.then)?mt.call(D,H,it):H.apply(void 0,[D].slice(st))}catch(St){it.apply(void 0,[St])}}P.Callbacks=function(D){D=typeof D=="string"?function(Ye){var Xe={};return P.each(Ye.match(yt)||[],function(Ne,qe){Xe[qe]=!0}),Xe}(D):P.extend({},D);var H,it,st,mt,St=[],Lt=[],ue=-1,he=function(){for(mt=mt||D.once,st=H=!0;Lt.length;ue=-1)for(it=Lt.shift();++ue<St.length;)St[ue].apply(it[0],it[1])===!1&&D.stopOnFalse&&(ue=St.length,it=!1);D.memory||(it=!1),H=!1,mt&&(St=it?[]:"")},Pe={add:function(){return St&&(it&&!H&&(ue=St.length-1,Lt.push(it)),function Ye(Xe){P.each(Xe,function(Ne,qe){E(qe)?D.unique&&Pe.has(qe)||St.push(qe):qe&&qe.length&&B(qe)!=="string"&&Ye(qe)})}(arguments),it&&!H&&he()),this},remove:function(){return P.each(arguments,function(Ye,Xe){for(var Ne;(Ne=P.inArray(Xe,St,Ne))>-1;)St.splice(Ne,1),Ne<=ue&&ue--}),this},has:function(Ye){return Ye?P.inArray(Ye,St)>-1:St.length>0},empty:function(){return St&&(St=[]),this},disable:function(){return mt=Lt=[],St=it="",this},disabled:function(){return!St},lock:function(){return mt=Lt=[],it||H||(St=it=""),this},locked:function(){return!!mt},fireWith:function(Ye,Xe){return mt||(Xe=[Ye,(Xe=Xe||[]).slice?Xe.slice():Xe],Lt.push(Xe),H||he()),this},fire:function(){return Pe.fireWith(this,arguments),this},fired:function(){return!!st}};return Pe},P.extend({Deferred:function(D){var H=[["notify","progress",P.Callbacks("memory"),P.Callbacks("memory"),2],["resolve","done",P.Callbacks("once memory"),P.Callbacks("once memory"),0,"resolved"],["reject","fail",P.Callbacks("once memory"),P.Callbacks("once memory"),1,"rejected"]],it="pending",st={state:function(){return it},always:function(){return mt.done(arguments).fail(arguments),this},catch:function(St){return st.then(null,St)},pipe:function(){var St=arguments;return P.Deferred(function(Lt){P.each(H,function(ue,he){var Pe=E(St[he[4]])&&St[he[4]];mt[he[1]](function(){var Ye=Pe&&Pe.apply(this,arguments);Ye&&E(Ye.promise)?Ye.promise().progress(Lt.notify).done(Lt.resolve).fail(Lt.reject):Lt[he[0]+"With"](this,Pe?[Ye]:arguments)})}),St=null}).promise()},then:function(St,Lt,ue){var he=0;function Pe(Ye,Xe,Ne,qe){return function(){var qi=this,wr=arguments,or=function(){var ws,Yt;if(!(Ye<he)){if((ws=Ne.apply(qi,wr))===Xe.promise())throw new TypeError("Thenable self-resolution");Yt=ws&&(typeof ws=="object"||typeof ws=="function")&&ws.then,E(Yt)?qe?Yt.call(ws,Pe(he,Xe,At,qe),Pe(he,Xe,Ot,qe)):(he++,Yt.call(ws,Pe(he,Xe,At,qe),Pe(he,Xe,Ot,qe),Pe(he,Xe,At,Xe.notifyWith))):(Ne!==At&&(qi=void 0,wr=[ws]),(qe||Xe.resolveWith)(qi,wr))}},Jn=qe?or:function(){try{or()}catch(ws){P.Deferred.exceptionHook&&P.Deferred.exceptionHook(ws,Jn.error),Ye+1>=he&&(Ne!==Ot&&(qi=void 0,wr=[ws]),Xe.rejectWith(qi,wr))}};Ye?Jn():(P.Deferred.getErrorHook?Jn.error=P.Deferred.getErrorHook():P.Deferred.getStackHook&&(Jn.error=P.Deferred.getStackHook()),m.setTimeout(Jn))}}return P.Deferred(function(Ye){H[0][3].add(Pe(0,Ye,E(ue)?ue:At,Ye.notifyWith)),H[1][3].add(Pe(0,Ye,E(St)?St:At)),H[2][3].add(Pe(0,Ye,E(Lt)?Lt:Ot))}).promise()},promise:function(St){return St!=null?P.extend(St,st):st}},mt={};return P.each(H,function(St,Lt){var ue=Lt[2],he=Lt[5];st[Lt[1]]=ue.add,he&&ue.add(function(){it=he},H[3-St][2].disable,H[3-St][3].disable,H[0][2].lock,H[0][3].lock),ue.add(Lt[3].fire),mt[Lt[0]]=function(){return mt[Lt[0]+"With"](this===mt?void 0:this,arguments),this},mt[Lt[0]+"With"]=ue.fireWith}),st.promise(mt),D&&D.call(mt,mt),mt},when:function(D){var H=arguments.length,it=H,st=Array(it),mt=a.call(arguments),St=P.Deferred(),Lt=function(ue){return function(he){st[ue]=this,mt[ue]=arguments.length>1?a.call(arguments):he,--H||St.resolveWith(st,mt)}};if(H<=1&&(le(D,St.done(Lt(it)).resolve,St.reject,!H),St.state()==="pending"||E(mt[it]&&mt[it].then)))return St.then();for(;it--;)le(mt[it],Lt(it),St.reject);return St.promise()}});var _t=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;P.Deferred.exceptionHook=function(D,H){m.console&&m.console.warn&&D&&_t.test(D.name)&&m.console.warn("jQuery.Deferred exception: "+D.message,D.stack,H)},P.readyException=function(D){m.setTimeout(function(){throw D})};var xe=P.Deferred();function ke(){k.removeEventListener("DOMContentLoaded",ke),m.removeEventListener("load",ke),P.ready()}P.fn.ready=function(D){return xe.then(D).catch(function(H){P.readyException(H)}),this},P.extend({isReady:!1,readyWait:1,ready:function(D){(D===!0?--P.readyWait:P.isReady)||(P.isReady=!0,D!==!0&&--P.readyWait>0||xe.resolveWith(k,[P]))}}),P.ready.then=xe.then,k.readyState==="complete"||k.readyState!=="loading"&&!k.documentElement.doScroll?m.setTimeout(P.ready):(k.addEventListener("DOMContentLoaded",ke),m.addEventListener("load",ke));var ve=function(D,H,it,st,mt,St,Lt){var ue=0,he=D.length,Pe=it==null;if(B(it)==="object")for(ue in mt=!0,it)ve(D,H,ue,it[ue],!0,St,Lt);else if(st!==void 0&&(mt=!0,E(st)||(Lt=!0),Pe&&(Lt?(H.call(D,st),H=null):(Pe=H,H=function(Ye,Xe,Ne){return Pe.call(P(Ye),Ne)})),H))for(;ue<he;ue++)H(D[ue],it,Lt?st:st.call(D[ue],ue,H(D[ue],it)));return mt?D:Pe?H.call(D):he?H(D[0],it):St},Fe=/^-ms-/,Ze=/-([a-z])/g;function ei(D,H){return H.toUpperCase()}function Ci(D){return D.replace(Fe,"ms-").replace(Ze,ei)}var xt=function(D){return D.nodeType===1||D.nodeType===9||!+D.nodeType};function et(){this.expando=P.expando+et.uid++}et.uid=1,et.prototype={cache:function(D){var H=D[this.expando];return H||(H={},xt(D)&&(D.nodeType?D[this.expando]=H:Object.defineProperty(D,this.expando,{value:H,configurable:!0}))),H},set:function(D,H,it){var st,mt=this.cache(D);if(typeof H=="string")mt[Ci(H)]=it;else for(st in H)mt[Ci(st)]=H[st];return mt},get:function(D,H){return H===void 0?this.cache(D):D[this.expando]&&D[this.expando][Ci(H)]},access:function(D,H,it){return H===void 0||H&&typeof H=="string"&&it===void 0?this.get(D,H):(this.set(D,H,it),it!==void 0?it:H)},remove:function(D,H){var it,st=D[this.expando];if(st!==void 0){if(H!==void 0)for(it=(H=Array.isArray(H)?H.map(Ci):(H=Ci(H))in st?[H]:H.match(yt)||[]).length;it--;)delete st[H[it]];(H===void 0||P.isEmptyObject(st))&&(D.nodeType?D[this.expando]=void 0:delete D[this.expando])}},hasData:function(D){var H=D[this.expando];return H!==void 0&&!P.isEmptyObject(H)}};var tt=new et,Nt=new et,ie=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ce=/[A-Z]/g;function Le(D,H,it){var st;if(it===void 0&&D.nodeType===1)if(st="data-"+H.replace(Ce,"-$&").toLowerCase(),typeof(it=D.getAttribute(st))=="string"){try{it=function(mt){return mt==="true"||mt!=="false"&&(mt==="null"?null:mt===+mt+""?+mt:ie.test(mt)?JSON.parse(mt):mt)}(it)}catch(mt){}Nt.set(D,H,it)}else it=void 0;return it}P.extend({hasData:function(D){return Nt.hasData(D)||tt.hasData(D)},data:function(D,H,it){return Nt.access(D,H,it)},removeData:function(D,H){Nt.remove(D,H)},_data:function(D,H,it){return tt.access(D,H,it)},_removeData:function(D,H){tt.remove(D,H)}}),P.fn.extend({data:function(D,H){var it,st,mt,St=this[0],Lt=St&&St.attributes;if(D===void 0){if(this.length&&(mt=Nt.get(St),St.nodeType===1&&!tt.get(St,"hasDataAttrs"))){for(it=Lt.length;it--;)Lt[it]&&(st=Lt[it].name).indexOf("data-")===0&&(st=Ci(st.slice(5)),Le(St,st,mt[st]));tt.set(St,"hasDataAttrs",!0)}return mt}return typeof D=="object"?this.each(function(){Nt.set(this,D)}):ve(this,function(ue){var he;if(St&&ue===void 0)return(he=Nt.get(St,D))!==void 0||(he=Le(St,D))!==void 0?he:void 0;this.each(function(){Nt.set(this,D,ue)})},null,H,arguments.length>1,null,!0)},removeData:function(D){return this.each(function(){Nt.remove(this,D)})}}),P.extend({queue:function(D,H,it){var st;if(D)return H=(H||"fx")+"queue",st=tt.get(D,H),it&&(!st||Array.isArray(it)?st=tt.access(D,H,P.makeArray(it)):st.push(it)),st||[]},dequeue:function(D,H){H=H||"fx";var it=P.queue(D,H),st=it.length,mt=it.shift(),St=P._queueHooks(D,H);mt==="inprogress"&&(mt=it.shift(),st--),mt&&(H==="fx"&&it.unshift("inprogress"),delete St.stop,mt.call(D,function(){P.dequeue(D,H)},St)),!st&&St&&St.empty.fire()},_queueHooks:function(D,H){var it=H+"queueHooks";return tt.get(D,it)||tt.access(D,it,{empty:P.Callbacks("once memory").add(function(){tt.remove(D,[H+"queue",it])})})}}),P.fn.extend({queue:function(D,H){var it=2;return typeof D!="string"&&(H=D,D="fx",it--),arguments.length<it?P.queue(this[0],D):H===void 0?this:this.each(function(){var st=P.queue(this,D,H);P._queueHooks(this,D),D==="fx"&&st[0]!=="inprogress"&&P.dequeue(this,D)})},dequeue:function(D){return this.each(function(){P.dequeue(this,D)})},clearQueue:function(D){return this.queue(D||"fx",[])},promise:function(D,H){var it,st=1,mt=P.Deferred(),St=this,Lt=this.length,ue=function(){--st||mt.resolveWith(St,[St])};for(typeof D!="string"&&(H=D,D=void 0),D=D||"fx";Lt--;)(it=tt.get(St[Lt],D+"queueHooks"))&&it.empty&&(st++,it.empty.add(ue));return ue(),mt.promise(H)}});var Gi=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Sr=new RegExp("^(?:([+-])=|)("+Gi+")([a-z%]*)$","i"),lr=["Top","Right","Bottom","Left"],gr=k.documentElement,Cr=function(D){return P.contains(D.ownerDocument,D)},Oo={composed:!0};gr.getRootNode&&(Cr=function(D){return P.contains(D.ownerDocument,D)||D.getRootNode(Oo)===D.ownerDocument});var za=function(D,H){return(D=H||D).style.display==="none"||D.style.display===""&&Cr(D)&&P.css(D,"display")==="none"};function ua(D,H,it,st){var mt,St,Lt=20,ue=st?function(){return st.cur()}:function(){return P.css(D,H,"")},he=ue(),Pe=it&&it[3]||(P.cssNumber[H]?"":"px"),Ye=D.nodeType&&(P.cssNumber[H]||Pe!=="px"&&+he)&&Sr.exec(P.css(D,H));if(Ye&&Ye[3]!==Pe){for(he/=2,Pe=Pe||Ye[3],Ye=+he||1;Lt--;)P.style(D,H,Ye+Pe),(1-St)*(1-(St=ue()/he||.5))<=0&&(Lt=0),Ye/=St;Ye*=2,P.style(D,H,Ye+Pe),it=it||[]}return it&&(Ye=+Ye||+he||0,mt=it[1]?Ye+(it[1]+1)*it[2]:+it[2],st&&(st.unit=Pe,st.start=Ye,st.end=mt)),mt}var Xl={};function Ds(D){var H,it=D.ownerDocument,st=D.nodeName,mt=Xl[st];return mt||(H=it.body.appendChild(it.createElement(st)),mt=P.css(H,"display"),H.parentNode.removeChild(H),mt==="none"&&(mt="block"),Xl[st]=mt,mt)}function ha(D,H){for(var it,st,mt=[],St=0,Lt=D.length;St<Lt;St++)(st=D[St]).style&&(it=st.style.display,H?(it==="none"&&(mt[St]=tt.get(st,"display")||null,mt[St]||(st.style.display="")),st.style.display===""&&za(st)&&(mt[St]=Ds(st))):it!=="none"&&(mt[St]="none",tt.set(st,"display",it)));for(St=0;St<Lt;St++)mt[St]!=null&&(D[St].style.display=mt[St]);return D}P.fn.extend({show:function(){return ha(this,!0)},hide:function(){return ha(this)},toggle:function(D){return typeof D=="boolean"?D?this.show():this.hide():this.each(function(){za(this)?P(this).show():P(this).hide()})}});var cs,ll,Vr=/^(?:checkbox|radio)$/i,Ar=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ua=/^$|^module$|\/(?:java|ecma)script/i;cs=k.createDocumentFragment().appendChild(k.createElement("div")),(ll=k.createElement("input")).setAttribute("type","radio"),ll.setAttribute("checked","checked"),ll.setAttribute("name","t"),cs.appendChild(ll),C.checkClone=cs.cloneNode(!0).cloneNode(!0).lastChild.checked,cs.innerHTML="<textarea>x</textarea>",C.noCloneChecked=!!cs.cloneNode(!0).lastChild.defaultValue,cs.innerHTML="<option></option>",C.option=!!cs.lastChild;var Un={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _s(D,H){var it;return it=D.getElementsByTagName!==void 0?D.getElementsByTagName(H||"*"):D.querySelectorAll!==void 0?D.querySelectorAll(H||"*"):[],H===void 0||H&&_(D,H)?P.merge([D],it):it}function ds(D,H){for(var it=0,st=D.length;it<st;it++)tt.set(D[it],"globalEval",!H||tt.get(H[it],"globalEval"))}Un.tbody=Un.tfoot=Un.colgroup=Un.caption=Un.thead,Un.th=Un.td,C.option||(Un.optgroup=Un.option=[1,"<select multiple='multiple'>","</select>"]);var Rc=/<|&#?\w+;/;function Kr(D,H,it,st,mt){for(var St,Lt,ue,he,Pe,Ye,Xe=H.createDocumentFragment(),Ne=[],qe=0,qi=D.length;qe<qi;qe++)if((St=D[qe])||St===0)if(B(St)==="object")P.merge(Ne,St.nodeType?[St]:St);else if(Rc.test(St)){for(Lt=Lt||Xe.appendChild(H.createElement("div")),ue=(Ar.exec(St)||["",""])[1].toLowerCase(),he=Un[ue]||Un._default,Lt.innerHTML=he[1]+P.htmlPrefilter(St)+he[2],Ye=he[0];Ye--;)Lt=Lt.lastChild;P.merge(Ne,Lt.childNodes),(Lt=Xe.firstChild).textContent=""}else Ne.push(H.createTextNode(St));for(Xe.textContent="",qe=0;St=Ne[qe++];)if(st&&P.inArray(St,st)>-1)mt&&mt.push(St);else if(Pe=Cr(St),Lt=_s(Xe.appendChild(St),"script"),Pe&&ds(Lt),it)for(Ye=0;St=Lt[Ye++];)Ua.test(St.type||"")&&it.push(St);return Xe}var Mn=/^([^.]*)(?:\.(.+)|)/;function js(){return!0}function Pa(){return!1}function Th(D,H,it,st,mt,St){var Lt,ue;if(typeof H=="object"){for(ue in typeof it!="string"&&(st=st||it,it=void 0),H)Th(D,ue,it,st,H[ue],St);return D}if(st==null&&mt==null?(mt=it,st=it=void 0):mt==null&&(typeof it=="string"?(mt=st,st=void 0):(mt=st,st=it,it=void 0)),mt===!1)mt=Pa;else if(!mt)return D;return St===1&&(Lt=mt,mt=function(he){return P().off(he),Lt.apply(this,arguments)},mt.guid=Lt.guid||(Lt.guid=P.guid++)),D.each(function(){P.event.add(this,H,mt,st,it)})}function Bu(D,H,it){it?(tt.set(D,H,!1),P.event.add(D,H,{namespace:!1,handler:function(st){var mt,St=tt.get(this,H);if(1&st.isTrigger&&this[H]){if(St)(P.event.special[H]||{}).delegateType&&st.stopPropagation();else if(St=a.call(arguments),tt.set(this,H,St),this[H](),mt=tt.get(this,H),tt.set(this,H,!1),St!==mt)return st.stopImmediatePropagation(),st.preventDefault(),mt}else St&&(tt.set(this,H,P.event.trigger(St[0],St.slice(1),this)),st.stopPropagation(),st.isImmediatePropagationStopped=js)}})):tt.get(D,H)===void 0&&P.event.add(D,H,js)}P.event={global:{},add:function(D,H,it,st,mt){var St,Lt,ue,he,Pe,Ye,Xe,Ne,qe,qi,wr,or=tt.get(D);if(xt(D))for(it.handler&&(it=(St=it).handler,mt=St.selector),mt&&P.find.matchesSelector(gr,mt),it.guid||(it.guid=P.guid++),(he=or.events)||(he=or.events=Object.create(null)),(Lt=or.handle)||(Lt=or.handle=function(Jn){return P!==void 0&&P.event.triggered!==Jn.type?P.event.dispatch.apply(D,arguments):void 0}),Pe=(H=(H||"").match(yt)||[""]).length;Pe--;)qe=wr=(ue=Mn.exec(H[Pe])||[])[1],qi=(ue[2]||"").split(".").sort(),qe&&(Xe=P.event.special[qe]||{},qe=(mt?Xe.delegateType:Xe.bindType)||qe,Xe=P.event.special[qe]||{},Ye=P.extend({type:qe,origType:wr,data:st,handler:it,guid:it.guid,selector:mt,needsContext:mt&&P.expr.match.needsContext.test(mt),namespace:qi.join(".")},St),(Ne=he[qe])||((Ne=he[qe]=[]).delegateCount=0,Xe.setup&&Xe.setup.call(D,st,qi,Lt)!==!1||D.addEventListener&&D.addEventListener(qe,Lt)),Xe.add&&(Xe.add.call(D,Ye),Ye.handler.guid||(Ye.handler.guid=it.guid)),mt?Ne.splice(Ne.delegateCount++,0,Ye):Ne.push(Ye),P.event.global[qe]=!0)},remove:function(D,H,it,st,mt){var St,Lt,ue,he,Pe,Ye,Xe,Ne,qe,qi,wr,or=tt.hasData(D)&&tt.get(D);if(or&&(he=or.events)){for(Pe=(H=(H||"").match(yt)||[""]).length;Pe--;)if(qe=wr=(ue=Mn.exec(H[Pe])||[])[1],qi=(ue[2]||"").split(".").sort(),qe){for(Xe=P.event.special[qe]||{},Ne=he[qe=(st?Xe.delegateType:Xe.bindType)||qe]||[],ue=ue[2]&&new RegExp("(^|\\.)"+qi.join("\\.(?:.*\\.|)")+"(\\.|$)"),Lt=St=Ne.length;St--;)Ye=Ne[St],!mt&&wr!==Ye.origType||it&&it.guid!==Ye.guid||ue&&!ue.test(Ye.namespace)||st&&st!==Ye.selector&&(st!=="**"||!Ye.selector)||(Ne.splice(St,1),Ye.selector&&Ne.delegateCount--,Xe.remove&&Xe.remove.call(D,Ye));Lt&&!Ne.length&&(Xe.teardown&&Xe.teardown.call(D,qi,or.handle)!==!1||P.removeEvent(D,qe,or.handle),delete he[qe])}else for(qe in he)P.event.remove(D,qe+H[Pe],it,st,!0);P.isEmptyObject(he)&&tt.remove(D,"handle events")}},dispatch:function(D){var H,it,st,mt,St,Lt,ue=new Array(arguments.length),he=P.event.fix(D),Pe=(tt.get(this,"events")||Object.create(null))[he.type]||[],Ye=P.event.special[he.type]||{};for(ue[0]=he,H=1;H<arguments.length;H++)ue[H]=arguments[H];if(he.delegateTarget=this,!Ye.preDispatch||Ye.preDispatch.call(this,he)!==!1){for(Lt=P.event.handlers.call(this,he,Pe),H=0;(mt=Lt[H++])&&!he.isPropagationStopped();)for(he.currentTarget=mt.elem,it=0;(St=mt.handlers[it++])&&!he.isImmediatePropagationStopped();)he.rnamespace&&St.namespace!==!1&&!he.rnamespace.test(St.namespace)||(he.handleObj=St,he.data=St.data,(st=((P.event.special[St.origType]||{}).handle||St.handler).apply(mt.elem,ue))!==void 0&&(he.result=st)===!1&&(he.preventDefault(),he.stopPropagation()));return Ye.postDispatch&&Ye.postDispatch.call(this,he),he.result}},handlers:function(D,H){var it,st,mt,St,Lt,ue=[],he=H.delegateCount,Pe=D.target;if(he&&Pe.nodeType&&!(D.type==="click"&&D.button>=1)){for(;Pe!==this;Pe=Pe.parentNode||this)if(Pe.nodeType===1&&(D.type!=="click"||Pe.disabled!==!0)){for(St=[],Lt={},it=0;it<he;it++)Lt[mt=(st=H[it]).selector+" "]===void 0&&(Lt[mt]=st.needsContext?P(mt,this).index(Pe)>-1:P.find(mt,this,null,[Pe]).length),Lt[mt]&&St.push(st);St.length&&ue.push({elem:Pe,handlers:St})}}return Pe=this,he<H.length&&ue.push({elem:Pe,handlers:H.slice(he)}),ue},addProp:function(D,H){Object.defineProperty(P.Event.prototype,D,{enumerable:!0,configurable:!0,get:E(H)?function(){if(this.originalEvent)return H(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[D]},set:function(it){Object.defineProperty(this,D,{enumerable:!0,configurable:!0,writable:!0,value:it})}})},fix:function(D){return D[P.expando]?D:new P.Event(D)},special:{load:{noBubble:!0},click:{setup:function(D){var H=this||D;return Vr.test(H.type)&&H.click&&_(H,"input")&&Bu(H,"click",!0),!1},trigger:function(D){var H=this||D;return Vr.test(H.type)&&H.click&&_(H,"input")&&Bu(H,"click"),!0},_default:function(D){var H=D.target;return Vr.test(H.type)&&H.click&&_(H,"input")&&tt.get(H,"click")||_(H,"a")}},beforeunload:{postDispatch:function(D){D.result!==void 0&&D.originalEvent&&(D.originalEvent.returnValue=D.result)}}}},P.removeEvent=function(D,H,it){D.removeEventListener&&D.removeEventListener(H,it)},P.Event=function(D,H){if(!(this instanceof P.Event))return new P.Event(D,H);D&&D.type?(this.originalEvent=D,this.type=D.type,this.isDefaultPrevented=D.defaultPrevented||D.defaultPrevented===void 0&&D.returnValue===!1?js:Pa,this.target=D.target&&D.target.nodeType===3?D.target.parentNode:D.target,this.currentTarget=D.currentTarget,this.relatedTarget=D.relatedTarget):this.type=D,H&&P.extend(this,H),this.timeStamp=D&&D.timeStamp||Date.now(),this[P.expando]=!0},P.Event.prototype={constructor:P.Event,isDefaultPrevented:Pa,isPropagationStopped:Pa,isImmediatePropagationStopped:Pa,isSimulated:!1,preventDefault:function(){var D=this.originalEvent;this.isDefaultPrevented=js,D&&!this.isSimulated&&D.preventDefault()},stopPropagation:function(){var D=this.originalEvent;this.isPropagationStopped=js,D&&!this.isSimulated&&D.stopPropagation()},stopImmediatePropagation:function(){var D=this.originalEvent;this.isImmediatePropagationStopped=js,D&&!this.isSimulated&&D.stopImmediatePropagation(),this.stopPropagation()}},P.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},P.event.addProp),P.each({focus:"focusin",blur:"focusout"},function(D,H){function it(st){if(k.documentMode){var mt=tt.get(this,"handle"),St=P.event.fix(st);St.type=st.type==="focusin"?"focus":"blur",St.isSimulated=!0,mt(st),St.target===St.currentTarget&&mt(St)}else P.event.simulate(H,st.target,P.event.fix(st))}P.event.special[D]={setup:function(){var st;if(Bu(this,D,!0),!k.documentMode)return!1;(st=tt.get(this,H))||this.addEventListener(H,it),tt.set(this,H,(st||0)+1)},trigger:function(){return Bu(this,D),!0},teardown:function(){var st;if(!k.documentMode)return!1;(st=tt.get(this,H)-1)?tt.set(this,H,st):(this.removeEventListener(H,it),tt.remove(this,H))},_default:function(st){return tt.get(st.target,D)},delegateType:H},P.event.special[H]={setup:function(){var st=this.ownerDocument||this.document||this,mt=k.documentMode?this:st,St=tt.get(mt,H);St||(k.documentMode?this.addEventListener(H,it):st.addEventListener(D,it,!0)),tt.set(mt,H,(St||0)+1)},teardown:function(){var st=this.ownerDocument||this.document||this,mt=k.documentMode?this:st,St=tt.get(mt,H)-1;St?tt.set(mt,H,St):(k.documentMode?this.removeEventListener(H,it):st.removeEventListener(D,it,!0),tt.remove(mt,H))}}}),P.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(D,H){P.event.special[D]={delegateType:H,bindType:H,handle:function(it){var st,mt=it.relatedTarget,St=it.handleObj;return mt&&(mt===this||P.contains(this,mt))||(it.type=St.origType,st=St.handler.apply(this,arguments),it.type=H),st}}}),P.fn.extend({on:function(D,H,it,st){return Th(this,D,H,it,st)},one:function(D,H,it,st){return Th(this,D,H,it,st,1)},off:function(D,H,it){var st,mt;if(D&&D.preventDefault&&D.handleObj)return st=D.handleObj,P(D.delegateTarget).off(st.namespace?st.origType+"."+st.namespace:st.origType,st.selector,st.handler),this;if(typeof D=="object"){for(mt in D)this.off(mt,H,D[mt]);return this}return H!==!1&&typeof H!="function"||(it=H,H=void 0),it===!1&&(it=Pa),this.each(function(){P.event.remove(this,D,it,H)})}});var Fd=/<script|<style|<link/i,Ch=/checked\s*(?:[^=]|=\s*.checked.)/i,Ic=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ft(D,H){return _(D,"table")&&_(H.nodeType!==11?H:H.firstChild,"tr")&&P(D).children("tbody")[0]||D}function Et(D){return D.type=(D.getAttribute("type")!==null)+"/"+D.type,D}function X(D){return(D.type||"").slice(0,5)==="true/"?D.type=D.type.slice(5):D.removeAttribute("type"),D}function Z(D,H){var it,st,mt,St,Lt,ue;if(H.nodeType===1){if(tt.hasData(D)&&(ue=tt.get(D).events))for(mt in tt.remove(H,"handle events"),ue)for(it=0,st=ue[mt].length;it<st;it++)P.event.add(H,mt,ue[mt][it]);Nt.hasData(D)&&(St=Nt.access(D),Lt=P.extend({},St),Nt.set(H,Lt))}}function ut(D,H){var it=H.nodeName.toLowerCase();it==="input"&&Vr.test(D.type)?H.checked=D.checked:it!=="input"&&it!=="textarea"||(H.defaultValue=D.defaultValue)}function Rt(D,H,it,st){H=f(H);var mt,St,Lt,ue,he,Pe,Ye=0,Xe=D.length,Ne=Xe-1,qe=H[0],qi=E(qe);if(qi||Xe>1&&typeof qe=="string"&&!C.checkClone&&Ch.test(qe))return D.each(function(wr){var or=D.eq(wr);qi&&(H[0]=qe.call(this,wr,or.html())),Rt(or,H,it,st)});if(Xe&&(St=(mt=Kr(H,D[0].ownerDocument,!1,D,st)).firstChild,mt.childNodes.length===1&&(mt=St),St||st)){for(ue=(Lt=P.map(_s(mt,"script"),Et)).length;Ye<Xe;Ye++)he=mt,Ye!==Ne&&(he=P.clone(he,!0,!0),ue&&P.merge(Lt,_s(he,"script"))),it.call(D[Ye],he,Ye);if(ue)for(Pe=Lt[Lt.length-1].ownerDocument,P.map(Lt,X),Ye=0;Ye<ue;Ye++)he=Lt[Ye],Ua.test(he.type||"")&&!tt.access(he,"globalEval")&&P.contains(Pe,he)&&(he.src&&(he.type||"").toLowerCase()!=="module"?P._evalUrl&&!he.noModule&&P._evalUrl(he.src,{nonce:he.nonce||he.getAttribute("nonce")},Pe):I(he.textContent.replace(Ic,""),he,Pe))}return D}function Jt(D,H,it){for(var st,mt=H?P.filter(H,D):D,St=0;(st=mt[St])!=null;St++)it||st.nodeType!==1||P.cleanData(_s(st)),st.parentNode&&(it&&Cr(st)&&ds(_s(st,"script")),st.parentNode.removeChild(st));return D}P.extend({htmlPrefilter:function(D){return D},clone:function(D,H,it){var st,mt,St,Lt,ue=D.cloneNode(!0),he=Cr(D);if(!(C.noCloneChecked||D.nodeType!==1&&D.nodeType!==11||P.isXMLDoc(D)))for(Lt=_s(ue),st=0,mt=(St=_s(D)).length;st<mt;st++)ut(St[st],Lt[st]);if(H)if(it)for(St=St||_s(D),Lt=Lt||_s(ue),st=0,mt=St.length;st<mt;st++)Z(St[st],Lt[st]);else Z(D,ue);return(Lt=_s(ue,"script")).length>0&&ds(Lt,!he&&_s(D,"script")),ue},cleanData:function(D){for(var H,it,st,mt=P.event.special,St=0;(it=D[St])!==void 0;St++)if(xt(it)){if(H=it[tt.expando]){if(H.events)for(st in H.events)mt[st]?P.event.remove(it,st):P.removeEvent(it,st,H.handle);it[tt.expando]=void 0}it[Nt.expando]&&(it[Nt.expando]=void 0)}}}),P.fn.extend({detach:function(D){return Jt(this,D,!0)},remove:function(D){return Jt(this,D)},text:function(D){return ve(this,function(H){return H===void 0?P.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=H)})},null,D,arguments.length)},append:function(){return Rt(this,arguments,function(D){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||ft(this,D).appendChild(D)})},prepend:function(){return Rt(this,arguments,function(D){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var H=ft(this,D);H.insertBefore(D,H.firstChild)}})},before:function(){return Rt(this,arguments,function(D){this.parentNode&&this.parentNode.insertBefore(D,this)})},after:function(){return Rt(this,arguments,function(D){this.parentNode&&this.parentNode.insertBefore(D,this.nextSibling)})},empty:function(){for(var D,H=0;(D=this[H])!=null;H++)D.nodeType===1&&(P.cleanData(_s(D,!1)),D.textContent="");return this},clone:function(D,H){return D=D!=null&&D,H=H==null?D:H,this.map(function(){return P.clone(this,D,H)})},html:function(D){return ve(this,function(H){var it=this[0]||{},st=0,mt=this.length;if(H===void 0&&it.nodeType===1)return it.innerHTML;if(typeof H=="string"&&!Fd.test(H)&&!Un[(Ar.exec(H)||["",""])[1].toLowerCase()]){H=P.htmlPrefilter(H);try{for(;st<mt;st++)(it=this[st]||{}).nodeType===1&&(P.cleanData(_s(it,!1)),it.innerHTML=H);it=0}catch(St){}}it&&this.empty().append(H)},null,D,arguments.length)},replaceWith:function(){var D=[];return Rt(this,arguments,function(H){var it=this.parentNode;P.inArray(this,D)<0&&(P.cleanData(_s(this)),it&&it.replaceChild(H,this))},D)}}),P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(D,H){P.fn[D]=function(it){for(var st,mt=[],St=P(it),Lt=St.length-1,ue=0;ue<=Lt;ue++)st=ue===Lt?this:this.clone(!0),P(St[ue])[H](st),p.apply(mt,st.get());return this.pushStack(mt)}});var ce=new RegExp("^("+Gi+")(?!px)[a-z%]+$","i"),de=/^--/,Ge=function(D){var H=D.ownerDocument.defaultView;return H&&H.opener||(H=m),H.getComputedStyle(D)},pi=function(D,H,it){var st,mt,St={};for(mt in H)St[mt]=D.style[mt],D.style[mt]=H[mt];for(mt in st=it.call(D),H)D.style[mt]=St[mt];return st},Ui=new RegExp(lr.join("|"),"i");function Yi(D,H,it){var st,mt,St,Lt,ue=de.test(H),he=D.style;return(it=it||Ge(D))&&(Lt=it.getPropertyValue(H)||it[H],ue&&Lt&&(Lt=Lt.replace(z,"$1")||void 0),Lt!==""||Cr(D)||(Lt=P.style(D,H)),!C.pixelBoxStyles()&&ce.test(Lt)&&Ui.test(H)&&(st=he.width,mt=he.minWidth,St=he.maxWidth,he.minWidth=he.maxWidth=he.width=Lt,Lt=it.width,he.width=st,he.minWidth=mt,he.maxWidth=St)),Lt!==void 0?Lt+"":Lt}function cr(D,H){return{get:function(){if(!D())return(this.get=H).apply(this,arguments);delete this.get}}}(function(){function D(){if(Pe){he.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Pe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",gr.appendChild(he).appendChild(Pe);var Ye=m.getComputedStyle(Pe);it=Ye.top!=="1%",ue=H(Ye.marginLeft)===12,Pe.style.right="60%",St=H(Ye.right)===36,st=H(Ye.width)===36,Pe.style.position="absolute",mt=H(Pe.offsetWidth/3)===12,gr.removeChild(he),Pe=null}}function H(Ye){return Math.round(parseFloat(Ye))}var it,st,mt,St,Lt,ue,he=k.createElement("div"),Pe=k.createElement("div");Pe.style&&(Pe.style.backgroundClip="content-box",Pe.cloneNode(!0).style.backgroundClip="",C.clearCloneStyle=Pe.style.backgroundClip==="content-box",P.extend(C,{boxSizingReliable:function(){return D(),st},pixelBoxStyles:function(){return D(),St},pixelPosition:function(){return D(),it},reliableMarginLeft:function(){return D(),ue},scrollboxSize:function(){return D(),mt},reliableTrDimensions:function(){var Ye,Xe,Ne,qe;return Lt==null&&(Ye=k.createElement("table"),Xe=k.createElement("tr"),Ne=k.createElement("div"),Ye.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Xe.style.cssText="box-sizing:content-box;border:1px solid",Xe.style.height="1px",Ne.style.height="9px",Ne.style.display="block",gr.appendChild(Ye).appendChild(Xe).appendChild(Ne),qe=m.getComputedStyle(Xe),Lt=parseInt(qe.height,10)+parseInt(qe.borderTopWidth,10)+parseInt(qe.borderBottomWidth,10)===Xe.offsetHeight,gr.removeChild(Ye)),Lt}}))})();var Pi=["Webkit","Moz","ms"],Or=k.createElement("div").style,_r={};function an(D){return P.cssProps[D]||_r[D]||(D in Or?D:_r[D]=function(H){for(var it=H[0].toUpperCase()+H.slice(1),st=Pi.length;st--;)if((H=Pi[st]+it)in Or)return H}(D)||D)}var Ps=/^(none|table(?!-c[ea]).+)/,Mc={position:"absolute",visibility:"hidden",display:"block"},ul={letterSpacing:"0",fontWeight:"400"};function zs(D,H,it){var st=Sr.exec(H);return st?Math.max(0,st[2]-(it||0))+(st[3]||"px"):H}function Tp(D,H,it,st,mt,St){var Lt=H==="width"?1:0,ue=0,he=0,Pe=0;if(it===(st?"border":"content"))return 0;for(;Lt<4;Lt+=2)it==="margin"&&(Pe+=P.css(D,it+lr[Lt],!0,mt)),st?(it==="content"&&(he-=P.css(D,"padding"+lr[Lt],!0,mt)),it!=="margin"&&(he-=P.css(D,"border"+lr[Lt]+"Width",!0,mt))):(he+=P.css(D,"padding"+lr[Lt],!0,mt),it!=="padding"?he+=P.css(D,"border"+lr[Lt]+"Width",!0,mt):ue+=P.css(D,"border"+lr[Lt]+"Width",!0,mt));return!st&&St>=0&&(he+=Math.max(0,Math.ceil(D["offset"+H[0].toUpperCase()+H.slice(1)]-St-he-ue-.5))||0),he+Pe}function vg(D,H,it){var st=Ge(D),mt=(!C.boxSizingReliable()||it)&&P.css(D,"boxSizing",!1,st)==="border-box",St=mt,Lt=Yi(D,H,st),ue="offset"+H[0].toUpperCase()+H.slice(1);if(ce.test(Lt)){if(!it)return Lt;Lt="auto"}return(!C.boxSizingReliable()&&mt||!C.reliableTrDimensions()&&_(D,"tr")||Lt==="auto"||!parseFloat(Lt)&&P.css(D,"display",!1,st)==="inline")&&D.getClientRects().length&&(mt=P.css(D,"boxSizing",!1,st)==="border-box",(St=ue in D)&&(Lt=D[ue])),(Lt=parseFloat(Lt)||0)+Tp(D,H,it||(mt?"border":"content"),St,st,Lt)+"px"}function ca(D,H,it,st,mt){return new ca.prototype.init(D,H,it,st,mt)}P.extend({cssHooks:{opacity:{get:function(D,H){if(H){var it=Yi(D,"opacity");return it===""?"1":it}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(D,H,it,st){if(D&&D.nodeType!==3&&D.nodeType!==8&&D.style){var mt,St,Lt,ue=Ci(H),he=de.test(H),Pe=D.style;if(he||(H=an(ue)),Lt=P.cssHooks[H]||P.cssHooks[ue],it===void 0)return Lt&&"get"in Lt&&(mt=Lt.get(D,!1,st))!==void 0?mt:Pe[H];(St=typeof it)=="string"&&(mt=Sr.exec(it))&&mt[1]&&(it=ua(D,H,mt),St="number"),it!=null&&it==it&&(St!=="number"||he||(it+=mt&&mt[3]||(P.cssNumber[ue]?"":"px")),C.clearCloneStyle||it!==""||H.indexOf("background")!==0||(Pe[H]="inherit"),Lt&&"set"in Lt&&(it=Lt.set(D,it,st))===void 0||(he?Pe.setProperty(H,it):Pe[H]=it))}},css:function(D,H,it,st){var mt,St,Lt,ue=Ci(H);return de.test(H)||(H=an(ue)),(Lt=P.cssHooks[H]||P.cssHooks[ue])&&"get"in Lt&&(mt=Lt.get(D,!0,it)),mt===void 0&&(mt=Yi(D,H,st)),mt==="normal"&&H in ul&&(mt=ul[H]),it===""||it?(St=parseFloat(mt),it===!0||isFinite(St)?St||0:mt):mt}}),P.each(["height","width"],function(D,H){P.cssHooks[H]={get:function(it,st,mt){if(st)return!Ps.test(P.css(it,"display"))||it.getClientRects().length&&it.getBoundingClientRect().width?vg(it,H,mt):pi(it,Mc,function(){return vg(it,H,mt)})},set:function(it,st,mt){var St,Lt=Ge(it),ue=!C.scrollboxSize()&&Lt.position==="absolute",he=(ue||mt)&&P.css(it,"boxSizing",!1,Lt)==="border-box",Pe=mt?Tp(it,H,mt,he,Lt):0;return he&&ue&&(Pe-=Math.ceil(it["offset"+H[0].toUpperCase()+H.slice(1)]-parseFloat(Lt[H])-Tp(it,H,"border",!1,Lt)-.5)),Pe&&(St=Sr.exec(st))&&(St[3]||"px")!=="px"&&(it.style[H]=st,st=P.css(it,H)),zs(0,st,Pe)}}}),P.cssHooks.marginLeft=cr(C.reliableMarginLeft,function(D,H){if(H)return(parseFloat(Yi(D,"marginLeft"))||D.getBoundingClientRect().left-pi(D,{marginLeft:0},function(){return D.getBoundingClientRect().left}))+"px"}),P.each({margin:"",padding:"",border:"Width"},function(D,H){P.cssHooks[D+H]={expand:function(it){for(var st=0,mt={},St=typeof it=="string"?it.split(" "):[it];st<4;st++)mt[D+lr[st]+H]=St[st]||St[st-2]||St[0];return mt}},D!=="margin"&&(P.cssHooks[D+H].set=zs)}),P.fn.extend({css:function(D,H){return ve(this,function(it,st,mt){var St,Lt,ue={},he=0;if(Array.isArray(st)){for(St=Ge(it),Lt=st.length;he<Lt;he++)ue[st[he]]=P.css(it,st[he],!1,St);return ue}return mt!==void 0?P.style(it,st,mt):P.css(it,st)},D,H,arguments.length>1)}}),P.Tween=ca,ca.prototype={constructor:ca,init:function(D,H,it,st,mt,St){this.elem=D,this.prop=it,this.easing=mt||P.easing._default,this.options=H,this.start=this.now=this.cur(),this.end=st,this.unit=St||(P.cssNumber[it]?"":"px")},cur:function(){var D=ca.propHooks[this.prop];return D&&D.get?D.get(this):ca.propHooks._default.get(this)},run:function(D){var H,it=ca.propHooks[this.prop];return this.options.duration?this.pos=H=P.easing[this.easing](D,this.options.duration*D,0,1,this.options.duration):this.pos=H=D,this.now=(this.end-this.start)*H+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),it&&it.set?it.set(this):ca.propHooks._default.set(this),this}},ca.prototype.init.prototype=ca.prototype,ca.propHooks={_default:{get:function(D){var H;return D.elem.nodeType!==1||D.elem[D.prop]!=null&&D.elem.style[D.prop]==null?D.elem[D.prop]:(H=P.css(D.elem,D.prop,""))&&H!=="auto"?H:0},set:function(D){P.fx.step[D.prop]?P.fx.step[D.prop](D):D.elem.nodeType!==1||!P.cssHooks[D.prop]&&D.elem.style[an(D.prop)]==null?D.elem[D.prop]=D.now:P.style(D.elem,D.prop,D.now+D.unit)}}},ca.propHooks.scrollTop=ca.propHooks.scrollLeft={set:function(D){D.elem.nodeType&&D.elem.parentNode&&(D.elem[D.prop]=D.now)}},P.easing={linear:function(D){return D},swing:function(D){return .5-Math.cos(D*Math.PI)/2},_default:"swing"},P.fx=ca.prototype.init,P.fx.step={};var Eh,Bn,Dd=/^(?:toggle|show|hide)$/,Ql=/queueHooks$/;function Cp(){Bn&&(k.hidden===!1&&m.requestAnimationFrame?m.requestAnimationFrame(Cp):m.setTimeout(Cp,P.fx.interval),P.fx.tick())}function en(){return m.setTimeout(function(){Eh=void 0}),Eh=Date.now()}function kh(D,H){var it,st=0,mt={height:D};for(H=H?1:0;st<4;st+=2-H)mt["margin"+(it=lr[st])]=mt["padding"+it]=D;return H&&(mt.opacity=mt.width=D),mt}function Kl(D,H,it){for(var st,mt=(Ga.tweeners[H]||[]).concat(Ga.tweeners["*"]),St=0,Lt=mt.length;St<Lt;St++)if(st=mt[St].call(it,H,D))return st}function Ga(D,H,it){var st,mt,St=0,Lt=Ga.prefilters.length,ue=P.Deferred().always(function(){delete he.elem}),he=function(){if(mt)return!1;for(var Xe=Eh||en(),Ne=Math.max(0,Pe.startTime+Pe.duration-Xe),qe=1-(Ne/Pe.duration||0),qi=0,wr=Pe.tweens.length;qi<wr;qi++)Pe.tweens[qi].run(qe);return ue.notifyWith(D,[Pe,qe,Ne]),qe<1&&wr?Ne:(wr||ue.notifyWith(D,[Pe,1,0]),ue.resolveWith(D,[Pe]),!1)},Pe=ue.promise({elem:D,props:P.extend({},H),opts:P.extend(!0,{specialEasing:{},easing:P.easing._default},it),originalProperties:H,originalOptions:it,startTime:Eh||en(),duration:it.duration,tweens:[],createTween:function(Xe,Ne){var qe=P.Tween(D,Pe.opts,Xe,Ne,Pe.opts.specialEasing[Xe]||Pe.opts.easing);return Pe.tweens.push(qe),qe},stop:function(Xe){var Ne=0,qe=Xe?Pe.tweens.length:0;if(mt)return this;for(mt=!0;Ne<qe;Ne++)Pe.tweens[Ne].run(1);return Xe?(ue.notifyWith(D,[Pe,1,0]),ue.resolveWith(D,[Pe,Xe])):ue.rejectWith(D,[Pe,Xe]),this}}),Ye=Pe.props;for(function(Xe,Ne){var qe,qi,wr,or,Jn;for(qe in Xe)if(wr=Ne[qi=Ci(qe)],or=Xe[qe],Array.isArray(or)&&(wr=or[1],or=Xe[qe]=or[0]),qe!==qi&&(Xe[qi]=or,delete Xe[qe]),(Jn=P.cssHooks[qi])&&"expand"in Jn)for(qe in or=Jn.expand(or),delete Xe[qi],or)qe in Xe||(Xe[qe]=or[qe],Ne[qe]=wr);else Ne[qi]=wr}(Ye,Pe.opts.specialEasing);St<Lt;St++)if(st=Ga.prefilters[St].call(Pe,D,Ye,Pe.opts))return E(st.stop)&&(P._queueHooks(Pe.elem,Pe.opts.queue).stop=st.stop.bind(st)),st;return P.map(Ye,Kl,Pe),E(Pe.opts.start)&&Pe.opts.start.call(D,Pe),Pe.progress(Pe.opts.progress).done(Pe.opts.done,Pe.opts.complete).fail(Pe.opts.fail).always(Pe.opts.always),P.fx.timer(P.extend(he,{elem:D,anim:Pe,queue:Pe.opts.queue})),Pe}P.Animation=P.extend(Ga,{tweeners:{"*":[function(D,H){var it=this.createTween(D,H);return ua(it.elem,D,Sr.exec(H),it),it}]},tweener:function(D,H){E(D)?(H=D,D=["*"]):D=D.match(yt);for(var it,st=0,mt=D.length;st<mt;st++)it=D[st],Ga.tweeners[it]=Ga.tweeners[it]||[],Ga.tweeners[it].unshift(H)},prefilters:[function(D,H,it){var st,mt,St,Lt,ue,he,Pe,Ye,Xe="width"in H||"height"in H,Ne=this,qe={},qi=D.style,wr=D.nodeType&&za(D),or=tt.get(D,"fxshow");for(st in it.queue||((Lt=P._queueHooks(D,"fx")).unqueued==null&&(Lt.unqueued=0,ue=Lt.empty.fire,Lt.empty.fire=function(){Lt.unqueued||ue()}),Lt.unqueued++,Ne.always(function(){Ne.always(function(){Lt.unqueued--,P.queue(D,"fx").length||Lt.empty.fire()})})),H)if(mt=H[st],Dd.test(mt)){if(delete H[st],St=St||mt==="toggle",mt===(wr?"hide":"show")){if(mt!=="show"||!or||or[st]===void 0)continue;wr=!0}qe[st]=or&&or[st]||P.style(D,st)}if((he=!P.isEmptyObject(H))||!P.isEmptyObject(qe))for(st in Xe&&D.nodeType===1&&(it.overflow=[qi.overflow,qi.overflowX,qi.overflowY],(Pe=or&&or.display)==null&&(Pe=tt.get(D,"display")),(Ye=P.css(D,"display"))==="none"&&(Pe?Ye=Pe:(ha([D],!0),Pe=D.style.display||Pe,Ye=P.css(D,"display"),ha([D]))),(Ye==="inline"||Ye==="inline-block"&&Pe!=null)&&P.css(D,"float")==="none"&&(he||(Ne.done(function(){qi.display=Pe}),Pe==null&&(Ye=qi.display,Pe=Ye==="none"?"":Ye)),qi.display="inline-block")),it.overflow&&(qi.overflow="hidden",Ne.always(function(){qi.overflow=it.overflow[0],qi.overflowX=it.overflow[1],qi.overflowY=it.overflow[2]})),he=!1,qe)he||(or?"hidden"in or&&(wr=or.hidden):or=tt.access(D,"fxshow",{display:Pe}),St&&(or.hidden=!wr),wr&&ha([D],!0),Ne.done(function(){for(st in wr||ha([D]),tt.remove(D,"fxshow"),qe)P.style(D,st,qe[st])})),he=Kl(wr?or[st]:0,st,Ne),st in or||(or[st]=he.start,wr&&(he.end=he.start,he.start=0))}],prefilter:function(D,H){H?Ga.prefilters.unshift(D):Ga.prefilters.push(D)}}),P.speed=function(D,H,it){var st=D&&typeof D=="object"?P.extend({},D):{complete:it||!it&&H||E(D)&&D,duration:D,easing:it&&H||H&&!E(H)&&H};return P.fx.off?st.duration=0:typeof st.duration!="number"&&(st.duration in P.fx.speeds?st.duration=P.fx.speeds[st.duration]:st.duration=P.fx.speeds._default),st.queue!=null&&st.queue!==!0||(st.queue="fx"),st.old=st.complete,st.complete=function(){E(st.old)&&st.old.call(this),st.queue&&P.dequeue(this,st.queue)},st},P.fn.extend({fadeTo:function(D,H,it,st){return this.filter(za).css("opacity",0).show().end().animate({opacity:H},D,it,st)},animate:function(D,H,it,st){var mt=P.isEmptyObject(D),St=P.speed(H,it,st),Lt=function(){var ue=Ga(this,P.extend({},D),St);(mt||tt.get(this,"finish"))&&ue.stop(!0)};return Lt.finish=Lt,mt||St.queue===!1?this.each(Lt):this.queue(St.queue,Lt)},stop:function(D,H,it){var st=function(mt){var St=mt.stop;delete mt.stop,St(it)};return typeof D!="string"&&(it=H,H=D,D=void 0),H&&this.queue(D||"fx",[]),this.each(function(){var mt=!0,St=D!=null&&D+"queueHooks",Lt=P.timers,ue=tt.get(this);if(St)ue[St]&&ue[St].stop&&st(ue[St]);else for(St in ue)ue[St]&&ue[St].stop&&Ql.test(St)&&st(ue[St]);for(St=Lt.length;St--;)Lt[St].elem!==this||D!=null&&Lt[St].queue!==D||(Lt[St].anim.stop(it),mt=!1,Lt.splice(St,1));!mt&&it||P.dequeue(this,D)})},finish:function(D){return D!==!1&&(D=D||"fx"),this.each(function(){var H,it=tt.get(this),st=it[D+"queue"],mt=it[D+"queueHooks"],St=P.timers,Lt=st?st.length:0;for(it.finish=!0,P.queue(this,D,[]),mt&&mt.stop&&mt.stop.call(this,!0),H=St.length;H--;)St[H].elem===this&&St[H].queue===D&&(St[H].anim.stop(!0),St.splice(H,1));for(H=0;H<Lt;H++)st[H]&&st[H].finish&&st[H].finish.call(this);delete it.finish})}}),P.each(["toggle","show","hide"],function(D,H){var it=P.fn[H];P.fn[H]=function(st,mt,St){return st==null||typeof st=="boolean"?it.apply(this,arguments):this.animate(kh(H,!0),st,mt,St)}}),P.each({slideDown:kh("show"),slideUp:kh("hide"),slideToggle:kh("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(D,H){P.fn[D]=function(it,st,mt){return this.animate(H,it,st,mt)}}),P.timers=[],P.fx.tick=function(){var D,H=0,it=P.timers;for(Eh=Date.now();H<it.length;H++)(D=it[H])()||it[H]!==D||it.splice(H--,1);it.length||P.fx.stop(),Eh=void 0},P.fx.timer=function(D){P.timers.push(D),P.fx.start()},P.fx.interval=13,P.fx.start=function(){Bn||(Bn=!0,Cp())},P.fx.stop=function(){Bn=null},P.fx.speeds={slow:600,fast:200,_default:400},P.fn.delay=function(D,H){return D=P.fx&&P.fx.speeds[D]||D,H=H||"fx",this.queue(H,function(it,st){var mt=m.setTimeout(it,D);st.stop=function(){m.clearTimeout(mt)}})},function(){var D=k.createElement("input"),H=k.createElement("select").appendChild(k.createElement("option"));D.type="checkbox",C.checkOn=D.value!=="",C.optSelected=H.selected,(D=k.createElement("input")).value="t",D.type="radio",C.radioValue=D.value==="t"}();var mg,Ha=P.expr.attrHandle;P.fn.extend({attr:function(D,H){return ve(this,P.attr,D,H,arguments.length>1)},removeAttr:function(D){return this.each(function(){P.removeAttr(this,D)})}}),P.extend({attr:function(D,H,it){var st,mt,St=D.nodeType;if(St!==3&&St!==8&&St!==2)return D.getAttribute===void 0?P.prop(D,H,it):(St===1&&P.isXMLDoc(D)||(mt=P.attrHooks[H.toLowerCase()]||(P.expr.match.bool.test(H)?mg:void 0)),it!==void 0?it===null?void P.removeAttr(D,H):mt&&"set"in mt&&(st=mt.set(D,it,H))!==void 0?st:(D.setAttribute(H,it+""),it):mt&&"get"in mt&&(st=mt.get(D,H))!==null?st:(st=P.find.attr(D,H))==null?void 0:st)},attrHooks:{type:{set:function(D,H){if(!C.radioValue&&H==="radio"&&_(D,"input")){var it=D.value;return D.setAttribute("type",H),it&&(D.value=it),H}}}},removeAttr:function(D,H){var it,st=0,mt=H&&H.match(yt);if(mt&&D.nodeType===1)for(;it=mt[st++];)D.removeAttribute(it)}}),mg={set:function(D,H,it){return H===!1?P.removeAttr(D,it):D.setAttribute(it,it),it}},P.each(P.expr.match.bool.source.match(/\w+/g),function(D,H){var it=Ha[H]||P.find.attr;Ha[H]=function(st,mt,St){var Lt,ue,he=mt.toLowerCase();return St||(ue=Ha[he],Ha[he]=Lt,Lt=it(st,mt,St)!=null?he:null,Ha[he]=ue),Lt}});var is=/^(?:input|select|textarea|button)$/i,ab=/^(?:a|area)$/i;function Us(D){return(D.match(yt)||[]).join(" ")}function Ou(D){return D.getAttribute&&D.getAttribute("class")||""}function Ep(D){return Array.isArray(D)?D:typeof D=="string"&&D.match(yt)||[]}P.fn.extend({prop:function(D,H){return ve(this,P.prop,D,H,arguments.length>1)},removeProp:function(D){return this.each(function(){delete this[P.propFix[D]||D]})}}),P.extend({prop:function(D,H,it){var st,mt,St=D.nodeType;if(St!==3&&St!==8&&St!==2)return St===1&&P.isXMLDoc(D)||(H=P.propFix[H]||H,mt=P.propHooks[H]),it!==void 0?mt&&"set"in mt&&(st=mt.set(D,it,H))!==void 0?st:D[H]=it:mt&&"get"in mt&&(st=mt.get(D,H))!==null?st:D[H]},propHooks:{tabIndex:{get:function(D){var H=P.find.attr(D,"tabindex");return H?parseInt(H,10):is.test(D.nodeName)||ab.test(D.nodeName)&&D.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),C.optSelected||(P.propHooks.selected={get:function(D){var H=D.parentNode;return H&&H.parentNode&&H.parentNode.selectedIndex,null},set:function(D){var H=D.parentNode;H&&(H.selectedIndex,H.parentNode&&H.parentNode.selectedIndex)}}),P.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){P.propFix[this.toLowerCase()]=this}),P.fn.extend({addClass:function(D){var H,it,st,mt,St,Lt;return E(D)?this.each(function(ue){P(this).addClass(D.call(this,ue,Ou(this)))}):(H=Ep(D)).length?this.each(function(){if(st=Ou(this),it=this.nodeType===1&&" "+Us(st)+" "){for(St=0;St<H.length;St++)mt=H[St],it.indexOf(" "+mt+" ")<0&&(it+=mt+" ");Lt=Us(it),st!==Lt&&this.setAttribute("class",Lt)}}):this},removeClass:function(D){var H,it,st,mt,St,Lt;return E(D)?this.each(function(ue){P(this).removeClass(D.call(this,ue,Ou(this)))}):arguments.length?(H=Ep(D)).length?this.each(function(){if(st=Ou(this),it=this.nodeType===1&&" "+Us(st)+" "){for(St=0;St<H.length;St++)for(mt=H[St];it.indexOf(" "+mt+" ")>-1;)it=it.replace(" "+mt+" "," ");Lt=Us(it),st!==Lt&&this.setAttribute("class",Lt)}}):this:this.attr("class","")},toggleClass:function(D,H){var it,st,mt,St,Lt=typeof D,ue=Lt==="string"||Array.isArray(D);return E(D)?this.each(function(he){P(this).toggleClass(D.call(this,he,Ou(this),H),H)}):typeof H=="boolean"&&ue?H?this.addClass(D):this.removeClass(D):(it=Ep(D),this.each(function(){if(ue)for(St=P(this),mt=0;mt<it.length;mt++)st=it[mt],St.hasClass(st)?St.removeClass(st):St.addClass(st);else D!==void 0&&Lt!=="boolean"||((st=Ou(this))&&tt.set(this,"__className__",st),this.setAttribute&&this.setAttribute("class",st||D===!1?"":tt.get(this,"__className__")||""))}))},hasClass:function(D){var H,it,st=0;for(H=" "+D+" ";it=this[st++];)if(it.nodeType===1&&(" "+Us(Ou(it))+" ").indexOf(H)>-1)return!0;return!1}});var ob=/\r/g;P.fn.extend({val:function(D){var H,it,st,mt=this[0];return arguments.length?(st=E(D),this.each(function(St){var Lt;this.nodeType===1&&((Lt=st?D.call(this,St,P(this).val()):D)==null?Lt="":typeof Lt=="number"?Lt+="":Array.isArray(Lt)&&(Lt=P.map(Lt,function(ue){return ue==null?"":ue+""})),(H=P.valHooks[this.type]||P.valHooks[this.nodeName.toLowerCase()])&&"set"in H&&H.set(this,Lt,"value")!==void 0||(this.value=Lt))})):mt?(H=P.valHooks[mt.type]||P.valHooks[mt.nodeName.toLowerCase()])&&"get"in H&&(it=H.get(mt,"value"))!==void 0?it:typeof(it=mt.value)=="string"?it.replace(ob,""):it==null?"":it:void 0}}),P.extend({valHooks:{option:{get:function(D){var H=P.find.attr(D,"value");return H!=null?H:Us(P.text(D))}},select:{get:function(D){var H,it,st,mt=D.options,St=D.selectedIndex,Lt=D.type==="select-one",ue=Lt?null:[],he=Lt?St+1:mt.length;for(st=St<0?he:Lt?St:0;st<he;st++)if(((it=mt[st]).selected||st===St)&&!it.disabled&&(!it.parentNode.disabled||!_(it.parentNode,"optgroup"))){if(H=P(it).val(),Lt)return H;ue.push(H)}return ue},set:function(D,H){for(var it,st,mt=D.options,St=P.makeArray(H),Lt=mt.length;Lt--;)((st=mt[Lt]).selected=P.inArray(P.valHooks.option.get(st),St)>-1)&&(it=!0);return it||(D.selectedIndex=-1),St}}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]={set:function(D,H){if(Array.isArray(H))return D.checked=P.inArray(P(D).val(),H)>-1}},C.checkOn||(P.valHooks[this].get=function(D){return D.getAttribute("value")===null?"on":D.value})});var Bc=m.location,gg={guid:Date.now()},Oc=/\?/;P.parseXML=function(D){var H,it;if(!D||typeof D!="string")return null;try{H=new m.DOMParser().parseFromString(D,"text/xml")}catch(st){}return it=H&&H.getElementsByTagName("parsererror")[0],H&&!it||P.error("Invalid XML: "+(it?P.map(it.childNodes,function(st){return st.textContent}).join(`
`):D)),H};var kp=/^(?:focusinfocus|focusoutblur)$/,yg=function(D){D.stopPropagation()};P.extend(P.event,{trigger:function(D,H,it,st){var mt,St,Lt,ue,he,Pe,Ye,Xe,Ne=[it||k],qe=x.call(D,"type")?D.type:D,qi=x.call(D,"namespace")?D.namespace.split("."):[];if(St=Xe=Lt=it=it||k,it.nodeType!==3&&it.nodeType!==8&&!kp.test(qe+P.event.triggered)&&(qe.indexOf(".")>-1&&(qi=qe.split("."),qe=qi.shift(),qi.sort()),he=qe.indexOf(":")<0&&"on"+qe,(D=D[P.expando]?D:new P.Event(qe,typeof D=="object"&&D)).isTrigger=st?2:3,D.namespace=qi.join("."),D.rnamespace=D.namespace?new RegExp("(^|\\.)"+qi.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,D.result=void 0,D.target||(D.target=it),H=H==null?[D]:P.makeArray(H,[D]),Ye=P.event.special[qe]||{},st||!Ye.trigger||Ye.trigger.apply(it,H)!==!1)){if(!st&&!Ye.noBubble&&!T(it)){for(ue=Ye.delegateType||qe,kp.test(ue+qe)||(St=St.parentNode);St;St=St.parentNode)Ne.push(St),Lt=St;Lt===(it.ownerDocument||k)&&Ne.push(Lt.defaultView||Lt.parentWindow||m)}for(mt=0;(St=Ne[mt++])&&!D.isPropagationStopped();)Xe=St,D.type=mt>1?ue:Ye.bindType||qe,(Pe=(tt.get(St,"events")||Object.create(null))[D.type]&&tt.get(St,"handle"))&&Pe.apply(St,H),(Pe=he&&St[he])&&Pe.apply&&xt(St)&&(D.result=Pe.apply(St,H),D.result===!1&&D.preventDefault());return D.type=qe,st||D.isDefaultPrevented()||Ye._default&&Ye._default.apply(Ne.pop(),H)!==!1||!xt(it)||he&&E(it[qe])&&!T(it)&&((Lt=it[he])&&(it[he]=null),P.event.triggered=qe,D.isPropagationStopped()&&Xe.addEventListener(qe,yg),it[qe](),D.isPropagationStopped()&&Xe.removeEventListener(qe,yg),P.event.triggered=void 0,Lt&&(it[he]=Lt)),D.result}},simulate:function(D,H,it){var st=P.extend(new P.Event,it,{type:D,isSimulated:!0});P.event.trigger(st,null,H)}}),P.fn.extend({trigger:function(D,H){return this.each(function(){P.event.trigger(D,H,this)})},triggerHandler:function(D,H){var it=this[0];if(it)return P.event.trigger(D,H,it,!0)}});var lb=/\[\]$/,xg=/\r?\n/g,Jl=/^(?:submit|button|image|reset|file)$/i,bg=/^(?:input|select|textarea|keygen)/i;function Nc(D,H,it,st){var mt;if(Array.isArray(H))P.each(H,function(St,Lt){it||lb.test(D)?st(D,Lt):Nc(D+"["+(typeof Lt=="object"&&Lt!=null?St:"")+"]",Lt,it,st)});else if(it||B(H)!=="object")st(D,H);else for(mt in H)Nc(D+"["+mt+"]",H[mt],it,st)}P.param=function(D,H){var it,st=[],mt=function(St,Lt){var ue=E(Lt)?Lt():Lt;st[st.length]=encodeURIComponent(St)+"="+encodeURIComponent(ue==null?"":ue)};if(D==null)return"";if(Array.isArray(D)||D.jquery&&!P.isPlainObject(D))P.each(D,function(){mt(this.name,this.value)});else for(it in D)Nc(it,D[it],H,mt);return st.join("&")},P.fn.extend({serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var D=P.prop(this,"elements");return D?P.makeArray(D):this}).filter(function(){var D=this.type;return this.name&&!P(this).is(":disabled")&&bg.test(this.nodeName)&&!Jl.test(D)&&(this.checked||!Vr.test(D))}).map(function(D,H){var it=P(this).val();return it==null?null:Array.isArray(it)?P.map(it,function(st){return{name:H.name,value:st.replace(xg,`\r
`)}}):{name:H.name,value:it.replace(xg,`\r
`)}}).get()}});var Ph=/%20/g,Lc=/#.*$/,Fc=/([?&])_=[^&]*/,ub=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:GET|HEAD)$/,Sg=/^\/\//,wg={},Pp={},Tg="*/".concat("*"),Ap=k.createElement("a");function Cg(D){return function(H,it){typeof H!="string"&&(it=H,H="*");var st,mt=0,St=H.toLowerCase().match(yt)||[];if(E(it))for(;st=St[mt++];)st[0]==="+"?(st=st.slice(1)||"*",(D[st]=D[st]||[]).unshift(it)):(D[st]=D[st]||[]).push(it)}}function _d(D,H,it,st){var mt={},St=D===Pp;function Lt(ue){var he;return mt[ue]=!0,P.each(D[ue]||[],function(Pe,Ye){var Xe=Ye(H,it,st);return typeof Xe!="string"||St||mt[Xe]?St?!(he=Xe):void 0:(H.dataTypes.unshift(Xe),Lt(Xe),!1)}),he}return Lt(H.dataTypes[0])||!mt["*"]&&Lt("*")}function jd(D,H){var it,st,mt=P.ajaxSettings.flatOptions||{};for(it in H)H[it]!==void 0&&((mt[it]?D:st||(st={}))[it]=H[it]);return st&&P.extend(!0,D,st),D}Ap.href=Bc.href,P.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Bc.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Bc.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tg,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":P.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(D,H){return H?jd(jd(D,P.ajaxSettings),H):jd(P.ajaxSettings,D)},ajaxPrefilter:Cg(wg),ajaxTransport:Cg(Pp),ajax:function(D,H){typeof D=="object"&&(H=D,D=void 0),H=H||{};var it,st,mt,St,Lt,ue,he,Pe,Ye,Xe,Ne=P.ajaxSetup({},H),qe=Ne.context||Ne,qi=Ne.context&&(qe.nodeType||qe.jquery)?P(qe):P.event,wr=P.Deferred(),or=P.Callbacks("once memory"),Jn=Ne.statusCode||{},ws={},Yt={},ge="canceled",be={readyState:0,getResponseHeader:function(De){var me;if(he){if(!St)for(St={};me=ub.exec(mt);)St[me[1].toLowerCase()+" "]=(St[me[1].toLowerCase()+" "]||[]).concat(me[2]);me=St[De.toLowerCase()+" "]}return me==null?null:me.join(", ")},getAllResponseHeaders:function(){return he?mt:null},setRequestHeader:function(De,me){return he==null&&(De=Yt[De.toLowerCase()]=Yt[De.toLowerCase()]||De,ws[De]=me),this},overrideMimeType:function(De){return he==null&&(Ne.mimeType=De),this},statusCode:function(De){var me;if(De)if(he)be.always(De[be.status]);else for(me in De)Jn[me]=[Jn[me],De[me]];return this},abort:function(De){var me=De||ge;return it&&it.abort(me),Se(0,me),this}};if(wr.promise(be),Ne.url=((D||Ne.url||Bc.href)+"").replace(Sg,Bc.protocol+"//"),Ne.type=H.method||H.type||Ne.method||Ne.type,Ne.dataTypes=(Ne.dataType||"*").toLowerCase().match(yt)||[""],Ne.crossDomain==null){ue=k.createElement("a");try{ue.href=Ne.url,ue.href=ue.href,Ne.crossDomain=Ap.protocol+"//"+Ap.host!=ue.protocol+"//"+ue.host}catch(De){Ne.crossDomain=!0}}if(Ne.data&&Ne.processData&&typeof Ne.data!="string"&&(Ne.data=P.param(Ne.data,Ne.traditional)),_d(wg,Ne,H,be),he)return be;for(Ye in(Pe=P.event&&Ne.global)&&P.active++==0&&P.event.trigger("ajaxStart"),Ne.type=Ne.type.toUpperCase(),Ne.hasContent=!hb.test(Ne.type),st=Ne.url.replace(Lc,""),Ne.hasContent?Ne.data&&Ne.processData&&(Ne.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Ne.data=Ne.data.replace(Ph,"+")):(Xe=Ne.url.slice(st.length),Ne.data&&(Ne.processData||typeof Ne.data=="string")&&(st+=(Oc.test(st)?"&":"?")+Ne.data,delete Ne.data),Ne.cache===!1&&(st=st.replace(Fc,"$1"),Xe=(Oc.test(st)?"&":"?")+"_="+gg.guid+++Xe),Ne.url=st+Xe),Ne.ifModified&&(P.lastModified[st]&&be.setRequestHeader("If-Modified-Since",P.lastModified[st]),P.etag[st]&&be.setRequestHeader("If-None-Match",P.etag[st])),(Ne.data&&Ne.hasContent&&Ne.contentType!==!1||H.contentType)&&be.setRequestHeader("Content-Type",Ne.contentType),be.setRequestHeader("Accept",Ne.dataTypes[0]&&Ne.accepts[Ne.dataTypes[0]]?Ne.accepts[Ne.dataTypes[0]]+(Ne.dataTypes[0]!=="*"?", "+Tg+"; q=0.01":""):Ne.accepts["*"]),Ne.headers)be.setRequestHeader(Ye,Ne.headers[Ye]);if(Ne.beforeSend&&(Ne.beforeSend.call(qe,be,Ne)===!1||he))return be.abort();if(ge="abort",or.add(Ne.complete),be.done(Ne.success),be.fail(Ne.error),it=_d(Pp,Ne,H,be)){if(be.readyState=1,Pe&&qi.trigger("ajaxSend",[be,Ne]),he)return be;Ne.async&&Ne.timeout>0&&(Lt=m.setTimeout(function(){be.abort("timeout")},Ne.timeout));try{he=!1,it.send(ws,Se)}catch(De){if(he)throw De;Se(-1,De)}}else Se(-1,"No Transport");function Se(De,me,_e,ui){var ai,se,Ue,Gt,Wt,Qt=me;he||(he=!0,Lt&&m.clearTimeout(Lt),it=void 0,mt=ui||"",be.readyState=De>0?4:0,ai=De>=200&&De<300||De===304,_e&&(Gt=function(J,ae,ne){for(var Zt,lt,Pt,zt,Ut=J.contents,Ht=J.dataTypes;Ht[0]==="*";)Ht.shift(),Zt===void 0&&(Zt=J.mimeType||ae.getResponseHeader("Content-Type"));if(Zt){for(lt in Ut)if(Ut[lt]&&Ut[lt].test(Zt)){Ht.unshift(lt);break}}if(Ht[0]in ne)Pt=Ht[0];else{for(lt in ne){if(!Ht[0]||J.converters[lt+" "+Ht[0]]){Pt=lt;break}zt||(zt=lt)}Pt=Pt||zt}if(Pt)return Pt!==Ht[0]&&Ht.unshift(Pt),ne[Pt]}(Ne,be,_e)),!ai&&P.inArray("script",Ne.dataTypes)>-1&&P.inArray("json",Ne.dataTypes)<0&&(Ne.converters["text script"]=function(){}),Gt=function(J,ae,ne,Zt){var lt,Pt,zt,Ut,Ht,nt={},It=J.dataTypes.slice();if(It[1])for(zt in J.converters)nt[zt.toLowerCase()]=J.converters[zt];for(Pt=It.shift();Pt;)if(J.responseFields[Pt]&&(ne[J.responseFields[Pt]]=ae),!Ht&&Zt&&J.dataFilter&&(ae=J.dataFilter(ae,J.dataType)),Ht=Pt,Pt=It.shift()){if(Pt==="*")Pt=Ht;else if(Ht!=="*"&&Ht!==Pt){if(!(zt=nt[Ht+" "+Pt]||nt["* "+Pt])){for(lt in nt)if((Ut=lt.split(" "))[1]===Pt&&(zt=nt[Ht+" "+Ut[0]]||nt["* "+Ut[0]])){zt===!0?zt=nt[lt]:nt[lt]!==!0&&(Pt=Ut[0],It.unshift(Ut[1]));break}}if(zt!==!0)if(zt&&J.throws)ae=zt(ae);else try{ae=zt(ae)}catch(bt){return{state:"parsererror",error:zt?bt:"No conversion from "+Ht+" to "+Pt}}}}return{state:"success",data:ae}}(Ne,Gt,be,ai),ai?(Ne.ifModified&&((Wt=be.getResponseHeader("Last-Modified"))&&(P.lastModified[st]=Wt),(Wt=be.getResponseHeader("etag"))&&(P.etag[st]=Wt)),De===204||Ne.type==="HEAD"?Qt="nocontent":De===304?Qt="notmodified":(Qt=Gt.state,se=Gt.data,ai=!(Ue=Gt.error))):(Ue=Qt,!De&&Qt||(Qt="error",De<0&&(De=0))),be.status=De,be.statusText=(me||Qt)+"",ai?wr.resolveWith(qe,[se,Qt,be]):wr.rejectWith(qe,[be,Qt,Ue]),be.statusCode(Jn),Jn=void 0,Pe&&qi.trigger(ai?"ajaxSuccess":"ajaxError",[be,Ne,ai?se:Ue]),or.fireWith(qe,[be,Qt]),Pe&&(qi.trigger("ajaxComplete",[be,Ne]),--P.active||P.event.trigger("ajaxStop")))}return be},getJSON:function(D,H,it){return P.get(D,H,it,"json")},getScript:function(D,H){return P.get(D,void 0,H,"script")}}),P.each(["get","post"],function(D,H){P[H]=function(it,st,mt,St){return E(st)&&(St=St||mt,mt=st,st=void 0),P.ajax(P.extend({url:it,type:H,dataType:St,data:st,success:mt},P.isPlainObject(it)&&it))}}),P.ajaxPrefilter(function(D){var H;for(H in D.headers)H.toLowerCase()==="content-type"&&(D.contentType=D.headers[H]||"")}),P._evalUrl=function(D,H,it){return P.ajax({url:D,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(st){P.globalEval(st,H,it)}})},P.fn.extend({wrapAll:function(D){var H;return this[0]&&(E(D)&&(D=D.call(this[0])),H=P(D,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&H.insertBefore(this[0]),H.map(function(){for(var it=this;it.firstElementChild;)it=it.firstElementChild;return it}).append(this)),this},wrapInner:function(D){return E(D)?this.each(function(H){P(this).wrapInner(D.call(this,H))}):this.each(function(){var H=P(this),it=H.contents();it.length?it.wrapAll(D):H.append(D)})},wrap:function(D){var H=E(D);return this.each(function(it){P(this).wrapAll(H?D.call(this,it):D)})},unwrap:function(D){return this.parent(D).not("body").each(function(){P(this).replaceWith(this.childNodes)}),this}}),P.expr.pseudos.hidden=function(D){return!P.expr.pseudos.visible(D)},P.expr.pseudos.visible=function(D){return!!(D.offsetWidth||D.offsetHeight||D.getClientRects().length)},P.ajaxSettings.xhr=function(){try{return new m.XMLHttpRequest}catch(D){}};var cb={0:200,1223:204},Zl=P.ajaxSettings.xhr();C.cors=!!Zl&&"withCredentials"in Zl,C.ajax=Zl=!!Zl,P.ajaxTransport(function(D){var H,it;if(C.cors||Zl&&!D.crossDomain)return{send:function(st,mt){var St,Lt=D.xhr();if(Lt.open(D.type,D.url,D.async,D.username,D.password),D.xhrFields)for(St in D.xhrFields)Lt[St]=D.xhrFields[St];for(St in D.mimeType&&Lt.overrideMimeType&&Lt.overrideMimeType(D.mimeType),D.crossDomain||st["X-Requested-With"]||(st["X-Requested-With"]="XMLHttpRequest"),st)Lt.setRequestHeader(St,st[St]);H=function(ue){return function(){H&&(H=it=Lt.onload=Lt.onerror=Lt.onabort=Lt.ontimeout=Lt.onreadystatechange=null,ue==="abort"?Lt.abort():ue==="error"?typeof Lt.status!="number"?mt(0,"error"):mt(Lt.status,Lt.statusText):mt(cb[Lt.status]||Lt.status,Lt.statusText,(Lt.responseType||"text")!=="text"||typeof Lt.responseText!="string"?{binary:Lt.response}:{text:Lt.responseText},Lt.getAllResponseHeaders()))}},Lt.onload=H(),it=Lt.onerror=Lt.ontimeout=H("error"),Lt.onabort!==void 0?Lt.onabort=it:Lt.onreadystatechange=function(){Lt.readyState===4&&m.setTimeout(function(){H&&it()})},H=H("abort");try{Lt.send(D.hasContent&&D.data||null)}catch(ue){if(H)throw ue}},abort:function(){H&&H()}}}),P.ajaxPrefilter(function(D){D.crossDomain&&(D.contents.script=!1)}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(D){return P.globalEval(D),D}}}),P.ajaxPrefilter("script",function(D){D.cache===void 0&&(D.cache=!1),D.crossDomain&&(D.type="GET")}),P.ajaxTransport("script",function(D){var H,it;if(D.crossDomain||D.scriptAttrs)return{send:function(st,mt){H=P("<script>").attr(D.scriptAttrs||{}).prop({charset:D.scriptCharset,src:D.url}).on("load error",it=function(St){H.remove(),it=null,St&&mt(St.type==="error"?404:200,St.type)}),k.head.appendChild(H[0])},abort:function(){it&&it()}}});var Eg,Ah=[],Rp=/(=)\?(?=&|$)|\?\?/;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var D=Ah.pop()||P.expando+"_"+gg.guid++;return this[D]=!0,D}}),P.ajaxPrefilter("json jsonp",function(D,H,it){var st,mt,St,Lt=D.jsonp!==!1&&(Rp.test(D.url)?"url":typeof D.data=="string"&&(D.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Rp.test(D.data)&&"data");if(Lt||D.dataTypes[0]==="jsonp")return st=D.jsonpCallback=E(D.jsonpCallback)?D.jsonpCallback():D.jsonpCallback,Lt?D[Lt]=D[Lt].replace(Rp,"$1"+st):D.jsonp!==!1&&(D.url+=(Oc.test(D.url)?"&":"?")+D.jsonp+"="+st),D.converters["script json"]=function(){return St||P.error(st+" was not called"),St[0]},D.dataTypes[0]="json",mt=m[st],m[st]=function(){St=arguments},it.always(function(){mt===void 0?P(m).removeProp(st):m[st]=mt,D[st]&&(D.jsonpCallback=H.jsonpCallback,Ah.push(st)),St&&E(mt)&&mt(St[0]),St=mt=void 0}),"script"}),C.createHTMLDocument=((Eg=k.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",Eg.childNodes.length===2),P.parseHTML=function(D,H,it){return typeof D!="string"?[]:(typeof H=="boolean"&&(it=H,H=!1),H||(C.createHTMLDocument?((st=(H=k.implementation.createHTMLDocument("")).createElement("base")).href=k.location.href,H.head.appendChild(st)):H=k),St=!it&&[],(mt=Q.exec(D))?[H.createElement(mt[1])]:(mt=Kr([D],H,St),St&&St.length&&P(St).remove(),P.merge([],mt.childNodes)));var st,mt,St},P.fn.load=function(D,H,it){var st,mt,St,Lt=this,ue=D.indexOf(" ");return ue>-1&&(st=Us(D.slice(ue)),D=D.slice(0,ue)),E(H)?(it=H,H=void 0):H&&typeof H=="object"&&(mt="POST"),Lt.length>0&&P.ajax({url:D,type:mt||"GET",dataType:"html",data:H}).done(function(he){St=arguments,Lt.html(st?P("<div>").append(P.parseHTML(he)).find(st):he)}).always(it&&function(he,Pe){Lt.each(function(){it.apply(this,St||[he.responseText,Pe,he])})}),this},P.expr.pseudos.animated=function(D){return P.grep(P.timers,function(H){return D===H.elem}).length},P.offset={setOffset:function(D,H,it){var st,mt,St,Lt,ue,he,Pe=P.css(D,"position"),Ye=P(D),Xe={};Pe==="static"&&(D.style.position="relative"),ue=Ye.offset(),St=P.css(D,"top"),he=P.css(D,"left"),(Pe==="absolute"||Pe==="fixed")&&(St+he).indexOf("auto")>-1?(Lt=(st=Ye.position()).top,mt=st.left):(Lt=parseFloat(St)||0,mt=parseFloat(he)||0),E(H)&&(H=H.call(D,it,P.extend({},ue))),H.top!=null&&(Xe.top=H.top-ue.top+Lt),H.left!=null&&(Xe.left=H.left-ue.left+mt),"using"in H?H.using.call(D,Xe):Ye.css(Xe)}},P.fn.extend({offset:function(D){if(arguments.length)return D===void 0?this:this.each(function(mt){P.offset.setOffset(this,D,mt)});var H,it,st=this[0];return st?st.getClientRects().length?(H=st.getBoundingClientRect(),it=st.ownerDocument.defaultView,{top:H.top+it.pageYOffset,left:H.left+it.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var D,H,it,st=this[0],mt={top:0,left:0};if(P.css(st,"position")==="fixed")H=st.getBoundingClientRect();else{for(H=this.offset(),it=st.ownerDocument,D=st.offsetParent||it.documentElement;D&&(D===it.body||D===it.documentElement)&&P.css(D,"position")==="static";)D=D.parentNode;D&&D!==st&&D.nodeType===1&&((mt=P(D).offset()).top+=P.css(D,"borderTopWidth",!0),mt.left+=P.css(D,"borderLeftWidth",!0))}return{top:H.top-mt.top-P.css(st,"marginTop",!0),left:H.left-mt.left-P.css(st,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var D=this.offsetParent;D&&P.css(D,"position")==="static";)D=D.offsetParent;return D||gr})}}),P.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(D,H){var it=H==="pageYOffset";P.fn[D]=function(st){return ve(this,function(mt,St,Lt){var ue;if(T(mt)?ue=mt:mt.nodeType===9&&(ue=mt.defaultView),Lt===void 0)return ue?ue[H]:mt[St];ue?ue.scrollTo(it?ue.pageXOffset:Lt,it?Lt:ue.pageYOffset):mt[St]=Lt},D,st,arguments.length)}}),P.each(["top","left"],function(D,H){P.cssHooks[H]=cr(C.pixelPosition,function(it,st){if(st)return st=Yi(it,H),ce.test(st)?P(it).position()[H]+"px":st})}),P.each({Height:"height",Width:"width"},function(D,H){P.each({padding:"inner"+D,content:H,"":"outer"+D},function(it,st){P.fn[st]=function(mt,St){var Lt=arguments.length&&(it||typeof mt!="boolean"),ue=it||(mt===!0||St===!0?"margin":"border");return ve(this,function(he,Pe,Ye){var Xe;return T(he)?st.indexOf("outer")===0?he["inner"+D]:he.document.documentElement["client"+D]:he.nodeType===9?(Xe=he.documentElement,Math.max(he.body["scroll"+D],Xe["scroll"+D],he.body["offset"+D],Xe["offset"+D],Xe["client"+D])):Ye===void 0?P.css(he,Pe,ue):P.style(he,Pe,Ye,ue)},H,Lt?mt:void 0,Lt)}})}),P.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(D,H){P.fn[H]=function(it){return this.on(H,it)}}),P.fn.extend({bind:function(D,H,it){return this.on(D,null,H,it)},unbind:function(D,H){return this.off(D,null,H)},delegate:function(D,H,it,st){return this.on(H,D,it,st)},undelegate:function(D,H,it){return arguments.length===1?this.off(D,"**"):this.off(H,D||"**",it)},hover:function(D,H){return this.on("mouseenter",D).on("mouseleave",H||D)}}),P.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(D,H){P.fn[H]=function(it,st){return arguments.length>0?this.on(H,null,it,st):this.trigger(H)}});var kg=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;P.proxy=function(D,H){var it,st,mt;if(typeof H=="string"&&(it=D[H],H=D,D=it),E(D))return st=a.call(arguments,2),mt=function(){return D.apply(H||this,st.concat(a.call(arguments)))},mt.guid=D.guid=D.guid||P.guid++,mt},P.holdReady=function(D){D?P.readyWait++:P.ready(!0)},P.isArray=Array.isArray,P.parseJSON=JSON.parse,P.nodeName=_,P.isFunction=E,P.isWindow=T,P.camelCase=Ci,P.type=B,P.now=Date.now,P.isNumeric=function(D){var H=P.type(D);return(H==="number"||H==="string")&&!isNaN(D-parseFloat(D))},P.trim=function(D){return D==null?"":(D+"").replace(kg,"$1")},(o=function(){return P}.apply(i,[]))===void 0||(g.exports=o);var db=m.jQuery,rn=m.$;return P.noConflict=function(D){return m.$===P&&(m.$=rn),D&&m.jQuery===P&&(m.jQuery=db),P},c===void 0&&(m.jQuery=m.$=P),P})},834:(g,i,o)=>{var m=o(414);function c(){}function l(){}l.resetWarningCache=c,g.exports=function(){function h(p,u,v,y,x,b){if(b!==m){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}function a(){return h}h.isRequired=h;var f={array:h,bigint:h,bool:h,func:h,number:h,object:h,string:h,symbol:h,any:h,arrayOf:a,element:h,elementType:h,instanceOf:a,node:h,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:l,resetWarningCache:c};return f.PropTypes=f,f}},697:(g,i,o)=>{g.exports=o(834)()},414:g=>{g.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},156:g=>{g.exports=r}},d={};function S(g){var i=d[g];if(i!==void 0)return i.exports;var o=d[g]={id:g,exports:{}};return n[g].call(o.exports,o,o.exports,S),o.exports}S.n=g=>{var i=g&&g.__esModule?()=>g.default:()=>g;return S.d(i,{a:i}),i},S.d=(g,i)=>{for(var o in i)S.o(i,o)&&!S.o(g,o)&&Object.defineProperty(g,o,{enumerable:!0,get:i[o]})},S.o=(g,i)=>Object.prototype.hasOwnProperty.call(g,i),S.r=g=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var s={};return(()=>{S.r(s),S.d(s,{EditableMathField:()=>o,StaticMathField:()=>m,addStyles:()=>i,default:()=>c});var g=S(527);function i(){if(document.getElementById("react-mathquill-styles")==null){var l=document.createElement("style");l.setAttribute("id","react-mathquill-styles"),l.innerHTML=g.Z[0][1],document.getElementsByTagName("head")[0].appendChild(l)}}var o=S(991).Z,m=S(717).Z;const c=o})(),s})())})(TL);var Urt=TL.exports,Fn=Urt;const Grt="_correctContainer_4stcn_1",Hrt="_leftBack_4stcn_7",$rt="_img_4stcn_11",Wrt="_mathField_4stcn_16",Qg={correctContainer:Grt,leftBack:Hrt,img:$rt,mathField:Wrt};Fn.addStyles();const $i=e=>!e&&e!==0?"":e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),Qp=["st","nd","rd","th"],CL=e=>e%100<11||e%100>13?e%10===1?Qp[0]:e%10===2?Qp[1]:e%10===3?Qp[2]:Qp[3]:Qp[3],Vrt=["","","","","","","","","",""],Yrt=e=>{let t="";return e.toString().split("").forEach(r=>{t+=Vrt[Number(r)]}),t},yo=e=>{let t=e;if(e>=1e3){const r=["","K","M","B","T"],n=Math.floor((e.toString().length-1)/3);if(n<r.length){let d="";for(let S=3;S>=1&&(d=parseFloat((n!==0?e/gn(1e3,n):e).toPrecision(S)),!(d.toString().replace(/[^a-zA-Z 0-9]+/g,"").length<=3));S--);d%1!==0&&(d=d.toFixed(1)),t=d+r[n]}else{let d=e,S=0;for(;d>=100;)d=Math.floor(d/10),S+=1;t=`${d/10}  10${Yrt(S+1)}`}}return t},Ys=e=>{const r=window.location.search.substring(1).split("&");for(let n=0;n<r.length;n++){const d=r[n].split("=");if(d[0]===e)return d[1]}return!1},D9=()=>window.location.search.substring(1).split("&").filter(r=>r!=="").length,Xrt=()=>{const e=window.document,t=e.documentElement,r=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,n=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;return!e.fullscreenElement&&!e.mozFullScreenElement&&!e.webkitFullscreenElement&&!e.msFullscreenElement?(r&&r.call(t),!0):(n&&n.call(e),!1)},_9=()=>{const e=window.document;return!(!e.fullscreenElement&&!e.mozFullScreenElement&&!e.webkitFullscreenElement&&!e.msFullscreenElement&&(window.screen.width!==window.innerWidth||window.screen.height!==window.innerHeight))},Za=(e,t)=>Math.floor(Math.random()*(t-e))+e,dr=(e,t)=>Math.random()*(t-e)+e,G2=e=>e[Math.floor(Math.random()*e.length)],Gv={Common:"#ffffff",Uncommon:"#4bc22e",Rare:"#0a14fa",Epic:"#be0000",Legendary:"#ff910f",Chroma:"#00ccff",Unique:"#008080",Mystical:"#a335ee"},En=(e,t)=>{if(!e)return e;let r=e.indexOf("upload/");if(r===-1||e.includes("images.unsplash.com"))return e;r+=7;const n=t?"f_auto":"c_limit,f_auto,h_250,fl_lossy,q_auto:low";return`${e.slice(0,r)}${n}${e.slice(r-1,e.length)}`},Kg=e=>{if(!e)return e;let t=e.indexOf("upload/");return t===-1?e:(t+=7,`${e.slice(0,t)}f_auto,q_auto:best${e.slice(t-1,e.length)}`)},EL=(e,t,r)=>e.map((n,d)=>R.jsxs("div",{className:Qg.correctContainer,children:[d!==0?R.jsx("span",{className:Qg.leftBack,children:"& "}):null,n.split("`~`").length===2?R.jsx("img",{src:En(n.split("`~`")[1]),alt:"Answer",draggable:!1,className:Qg.img,style:{maxWidth:20*1.5,maxHeight:20*1.5}}):n.slice(0,3)==="`*`"?R.jsx(Fn.StaticMathField,{className:Qg.mathField,style:{color:"#3a3a3a",borderColor:"#3a3a3a",fontSize:"20px"},children:n.slice(3,n.length-3)}):R.jsx("span",{children:n})]},d)),Qrt=e=>{const t=e||window.event;return t&&(t.returnValue="Are you sure you want to leave?"),"Are you sure you want to leave?"},Krt=()=>{window.removeEventListener("beforeunload",Qrt)},WE=75,kL=e=>e?e.length>WE?"Sorry, that title is too long.":null:"Where's The Title?",VE=300,PL=e=>e.length>VE?"Sorry, that description is too long.":null,Jrt=e=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const r=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;t.select(),document.execCommand("copy"),document.body.removeChild(t),r&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r))},ar={id:"https://id.blooket.com",play:"https://play.blooket.com",dashboard:"https://dashboard.blooket.com",www:"https://www.blooket.com",security:"https://s.blooket.com"};class nl extends ti.Component{constructor(t){super(t),this.state={leftText:t.leftText,rightText:t.rightText,rightLink:t.rightLink,full:_9()},this.checkResize=this.checkResize.bind(this)}componentDidMount(){window.addEventListener("resize",this.checkResize)}componentWillUnmount(){window.removeEventListener("resize",this.checkResize)}checkResize(){this.setState({full:_9()})}render(){return R.jsxs("div",{className:Xp.header,children:[this.state.leftText?R.jsxs("div",{className:Xp.headerLeft,children:[mr?null:R.jsx("i",{className:Ct(Xp.expandIcon,this.state.full?"fas fa-compress":"fas fa-expand"),role:"button",tabIndex:0,onClick:()=>this.setState({full:Xrt()})}),this.state.leftText]}):R.jsx("a",{className:Xp.blooketText,href:ar.www,children:"Blooket"}),this.state.rightText?R.jsx(xa,{className:Xp.headerRight,to:this.state.rightLink,children:this.state.rightText}):null]})}}nl.propTypes={leftText:Xt.string,rightText:Xt.string,rightLink:Xt.string};const Zrt="_button_552gk_1",qrt="_shadow_552gk_11",tnt="_edge_552gk_23",ent="_front_552gk_33",No={button:Zrt,shadow:qrt,edge:tnt,front:ent},Ri=({onClick:e,color:t,outsideClass:r,insideClass:n,style:d,children:S,linkTo:s,realLinkTo:g,linkNewTab:i})=>{const o=d||{};return!s&&!g?R.jsxs("div",{className:Ct(No.button,r),style:o,role:"button",tabIndex:0,onClick:e,children:[R.jsx("div",{className:No.shadow}),R.jsx("div",{className:No.edge,style:{backgroundColor:t}}),R.jsx("div",{className:Ct(No.front,n),style:{backgroundColor:t},children:S})]}):g||s.startsWith("http")?R.jsxs("a",{className:Ct(No.button,r),style:o,href:g||s,target:i?"_blank":void 0,rel:i?"noopener noreferrer":void 0,children:[R.jsx("div",{className:No.shadow}),R.jsx("div",{className:No.edge,style:{backgroundColor:t}}),R.jsx("div",{className:Ct(No.front,n),style:{backgroundColor:t},children:S})]}):R.jsxs(xa,{className:Ct(No.button,r),style:o,to:s,children:[R.jsx("div",{className:No.shadow}),R.jsx("div",{className:No.edge,style:{backgroundColor:t}}),R.jsx("div",{className:Ct(No.front,n),style:{backgroundColor:t},children:S})]})};Ri.propTypes={onClick:Xt.func,color:Xt.string,outsideClass:Xt.string,insideClass:Xt.string,style:Xt.object,children:Xt.any,linkTo:Xt.string,realLinkTo:Xt.string,linkNewTab:Xt.bool};var YE={exports:{}},AL=function(t,r){return function(){for(var d=new Array(arguments.length),S=0;S<d.length;S++)d[S]=arguments[S];return t.apply(r,d)}},rnt=AL,Cc=Object.prototype.toString;function XE(e){return Array.isArray(e)}function H2(e){return typeof e=="undefined"}function nnt(e){return e!==null&&!H2(e)&&e.constructor!==null&&!H2(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function RL(e){return Cc.call(e)==="[object ArrayBuffer]"}function snt(e){return Cc.call(e)==="[object FormData]"}function ant(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&RL(e.buffer),t}function ont(e){return typeof e=="string"}function lnt(e){return typeof e=="number"}function IL(e){return e!==null&&typeof e=="object"}function l1(e){if(Cc.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function unt(e){return Cc.call(e)==="[object Date]"}function hnt(e){return Cc.call(e)==="[object File]"}function cnt(e){return Cc.call(e)==="[object Blob]"}function ML(e){return Cc.call(e)==="[object Function]"}function dnt(e){return IL(e)&&ML(e.pipe)}function fnt(e){return Cc.call(e)==="[object URLSearchParams]"}function pnt(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function vnt(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function QE(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),XE(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&t.call(null,e[d],d,e)}function $2(){var e={};function t(d,S){l1(e[S])&&l1(d)?e[S]=$2(e[S],d):l1(d)?e[S]=$2({},d):XE(d)?e[S]=d.slice():e[S]=d}for(var r=0,n=arguments.length;r<n;r++)QE(arguments[r],t);return e}function mnt(e,t,r){return QE(t,function(d,S){r&&typeof d=="function"?e[S]=rnt(d,r):e[S]=d}),e}function gnt(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var co={isArray:XE,isArrayBuffer:RL,isBuffer:nnt,isFormData:snt,isArrayBufferView:ant,isString:ont,isNumber:lnt,isObject:IL,isPlainObject:l1,isUndefined:H2,isDate:unt,isFile:hnt,isBlob:cnt,isFunction:ML,isStream:dnt,isURLSearchParams:fnt,isStandardBrowserEnv:vnt,forEach:QE,merge:$2,extend:mnt,trim:pnt,stripBOM:gnt},Wd=co;function j9(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var BL=function(t,r,n){if(!r)return t;var d;if(n)d=n(r);else if(Wd.isURLSearchParams(r))d=r.toString();else{var S=[];Wd.forEach(r,function(i,o){i===null||typeof i=="undefined"||(Wd.isArray(i)?o=o+"[]":i=[i],Wd.forEach(i,function(c){Wd.isDate(c)?c=c.toISOString():Wd.isObject(c)&&(c=JSON.stringify(c)),S.push(j9(o)+"="+j9(c))}))}),d=S.join("&")}if(d){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t},ynt=co;function Cx(){this.handlers=[]}Cx.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Cx.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Cx.prototype.forEach=function(t){ynt.forEach(this.handlers,function(n){n!==null&&t(n)})};var xnt=Cx,bnt=co,Snt=function(t,r){bnt.forEach(t,function(d,S){S!==r&&S.toUpperCase()===r.toUpperCase()&&(t[r]=d,delete t[S])})},OL=function(t,r,n,d,S){return t.config=r,n&&(t.code=n),t.request=d,t.response=S,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},NL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lS,z9;function LL(){if(z9)return lS;z9=1;var e=OL;return lS=function(r,n,d,S,s){var g=new Error(r);return e(g,n,d,S,s)},lS}var uS,U9;function wnt(){if(U9)return uS;U9=1;var e=LL();return uS=function(r,n,d){var S=d.config.validateStatus;!d.status||!S||S(d.status)?r(d):n(e("Request failed with status code "+d.status,d.config,null,d.request,d))},uS}var hS,G9;function Tnt(){if(G9)return hS;G9=1;var e=co;return hS=e.isStandardBrowserEnv()?function(){return{write:function(n,d,S,s,g,i){var o=[];o.push(n+"="+encodeURIComponent(d)),e.isNumber(S)&&o.push("expires="+new Date(S).toGMTString()),e.isString(s)&&o.push("path="+s),e.isString(g)&&o.push("domain="+g),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read:function(n){var d=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return d?decodeURIComponent(d[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),hS}var cS,H9;function Cnt(){return H9||(H9=1,cS=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}),cS}var dS,$9;function Ent(){return $9||($9=1,dS=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t}),dS}var fS,W9;function knt(){if(W9)return fS;W9=1;var e=Cnt(),t=Ent();return fS=function(n,d){return n&&!e(d)?t(n,d):d},fS}var pS,V9;function Pnt(){if(V9)return pS;V9=1;var e=co,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return pS=function(n){var d={},S,s,g;return n&&e.forEach(n.split(`
`),function(o){if(g=o.indexOf(":"),S=e.trim(o.substr(0,g)).toLowerCase(),s=e.trim(o.substr(g+1)),S){if(d[S]&&t.indexOf(S)>=0)return;S==="set-cookie"?d[S]=(d[S]?d[S]:[]).concat([s]):d[S]=d[S]?d[S]+", "+s:s}}),d},pS}var vS,Y9;function Ant(){if(Y9)return vS;Y9=1;var e=co;return vS=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),d;function S(s){var g=s;return r&&(n.setAttribute("href",g),g=n.href),n.setAttribute("href",g),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return d=S(window.location.href),function(g){var i=e.isString(g)?S(g):g;return i.protocol===d.protocol&&i.host===d.host}}():function(){return function(){return!0}}(),vS}var mS,X9;function Ex(){if(X9)return mS;X9=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,mS=e,mS}var gS,Q9;function K9(){if(Q9)return gS;Q9=1;var e=co,t=wnt(),r=Tnt(),n=BL,d=knt(),S=Pnt(),s=Ant(),g=LL(),i=NL,o=Ex();return gS=function(c){return new Promise(function(h,a){var f=c.data,p=c.headers,u=c.responseType,v;function y(){c.cancelToken&&c.cancelToken.unsubscribe(v),c.signal&&c.signal.removeEventListener("abort",v)}e.isFormData(f)&&delete p["Content-Type"];var x=new XMLHttpRequest;if(c.auth){var b=c.auth.username||"",w=c.auth.password?unescape(encodeURIComponent(c.auth.password)):"";p.Authorization="Basic "+btoa(b+":"+w)}var C=d(c.baseURL,c.url);x.open(c.method.toUpperCase(),n(C,c.params,c.paramsSerializer),!0),x.timeout=c.timeout;function E(){if(x){var k="getAllResponseHeaders"in x?S(x.getAllResponseHeaders()):null,A=!u||u==="text"||u==="json"?x.responseText:x.response,I={data:A,status:x.status,statusText:x.statusText,headers:k,config:c,request:x};t(function(M){h(M),y()},function(M){a(M),y()},I),x=null}}if("onloadend"in x?x.onloadend=E:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(E)},x.onabort=function(){x&&(a(g("Request aborted",c,"ECONNABORTED",x)),x=null)},x.onerror=function(){a(g("Network Error",c,null,x)),x=null},x.ontimeout=function(){var A=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded",I=c.transitional||i;c.timeoutErrorMessage&&(A=c.timeoutErrorMessage),a(g(A,c,I.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",x)),x=null},e.isStandardBrowserEnv()){var T=(c.withCredentials||s(C))&&c.xsrfCookieName?r.read(c.xsrfCookieName):void 0;T&&(p[c.xsrfHeaderName]=T)}"setRequestHeader"in x&&e.forEach(p,function(A,I){typeof f=="undefined"&&I.toLowerCase()==="content-type"?delete p[I]:x.setRequestHeader(I,A)}),e.isUndefined(c.withCredentials)||(x.withCredentials=!!c.withCredentials),u&&u!=="json"&&(x.responseType=c.responseType),typeof c.onDownloadProgress=="function"&&x.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",c.onUploadProgress),(c.cancelToken||c.signal)&&(v=function(k){x&&(a(!k||k&&k.type?new o("canceled"):k),x.abort(),x=null)},c.cancelToken&&c.cancelToken.subscribe(v),c.signal&&(c.signal.aborted?v():c.signal.addEventListener("abort",v))),f||(f=null),x.send(f)})},gS}var ta=co,J9=Snt,Rnt=OL,Int=NL,Mnt={"Content-Type":"application/x-www-form-urlencoded"};function Z9(e,t){!ta.isUndefined(e)&&ta.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Bnt(){var e;return(typeof XMLHttpRequest!="undefined"||typeof hr!="undefined"&&Object.prototype.toString.call(hr)==="[object process]")&&(e=K9()),e}function Ont(e,t,r){if(ta.isString(e))try{return(t||JSON.parse)(e),ta.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}var kx={transitional:Int,adapter:Bnt(),transformRequest:[function(t,r){return J9(r,"Accept"),J9(r,"Content-Type"),ta.isFormData(t)||ta.isArrayBuffer(t)||ta.isBuffer(t)||ta.isStream(t)||ta.isFile(t)||ta.isBlob(t)?t:ta.isArrayBufferView(t)?t.buffer:ta.isURLSearchParams(t)?(Z9(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):ta.isObject(t)||r&&r["Content-Type"]==="application/json"?(Z9(r,"application/json"),Ont(t)):t}],transformResponse:[function(t){var r=this.transitional||kx.transitional,n=r&&r.silentJSONParsing,d=r&&r.forcedJSONParsing,S=!n&&this.responseType==="json";if(S||d&&ta.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(S)throw s.name==="SyntaxError"?Rnt(s,this,"E_JSON_PARSE"):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ta.forEach(["delete","get","head"],function(t){kx.headers[t]={}});ta.forEach(["post","put","patch"],function(t){kx.headers[t]=ta.merge(Mnt)});var KE=kx,Nnt=co,Lnt=KE,Fnt=function(t,r,n){var d=this||Lnt;return Nnt.forEach(n,function(s){t=s.call(d,t,r)}),t},yS,q9;function FL(){return q9||(q9=1,yS=function(t){return!!(t&&t.__CANCEL__)}),yS}var t8=co,xS=Fnt,Dnt=FL(),_nt=KE,jnt=Ex();function bS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jnt("canceled")}var znt=function(t){bS(t),t.headers=t.headers||{},t.data=xS.call(t,t.data,t.headers,t.transformRequest),t.headers=t8.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),t8.forEach(["delete","get","head","post","put","patch","common"],function(d){delete t.headers[d]});var r=t.adapter||_nt.adapter;return r(t).then(function(d){return bS(t),d.data=xS.call(t,d.data,d.headers,t.transformResponse),d},function(d){return Dnt(d)||(bS(t),d&&d.response&&(d.response.data=xS.call(t,d.response.data,d.response.headers,t.transformResponse))),Promise.reject(d)})},go=co,DL=function(t,r){r=r||{};var n={};function d(m,c){return go.isPlainObject(m)&&go.isPlainObject(c)?go.merge(m,c):go.isPlainObject(c)?go.merge({},c):go.isArray(c)?c.slice():c}function S(m){if(go.isUndefined(r[m])){if(!go.isUndefined(t[m]))return d(void 0,t[m])}else return d(t[m],r[m])}function s(m){if(!go.isUndefined(r[m]))return d(void 0,r[m])}function g(m){if(go.isUndefined(r[m])){if(!go.isUndefined(t[m]))return d(void 0,t[m])}else return d(void 0,r[m])}function i(m){if(m in r)return d(t[m],r[m]);if(m in t)return d(void 0,t[m])}var o={url:s,method:s,data:s,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:i};return go.forEach(Object.keys(t).concat(Object.keys(r)),function(c){var l=o[c]||S,h=l(c);go.isUndefined(h)&&l!==i||(n[c]=h)}),n},SS,e8;function _L(){return e8||(e8=1,SS={version:"0.26.1"}),SS}var Unt=_L().version,JE={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){JE[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var i8={};JE.transitional=function(t,r,n){function d(S,s){return"[Axios v"+Unt+"] Transitional option '"+S+"'"+s+(n?". "+n:"")}return function(S,s,g){if(t===!1)throw new Error(d(s," has been removed"+(r?" in "+r:"")));return r&&!i8[s]&&(i8[s]=!0,console.warn(d(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(S,s,g):!0}};function Gnt(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),d=n.length;d-- >0;){var S=n[d],s=t[S];if(s){var g=e[S],i=g===void 0||s(g,S,e);if(i!==!0)throw new TypeError("option "+S+" must be "+i);continue}if(r!==!0)throw Error("Unknown option "+S)}}var Hnt={assertOptions:Gnt,validators:JE},jL=co,$nt=BL,r8=xnt,n8=znt,Px=DL,zL=Hnt,Vd=zL.validators;function qm(e){this.defaults=e,this.interceptors={request:new r8,response:new r8}}qm.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Px(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&zL.assertOptions(n,{silentJSONParsing:Vd.transitional(Vd.boolean),forcedJSONParsing:Vd.transitional(Vd.boolean),clarifyTimeoutError:Vd.transitional(Vd.boolean)},!1);var d=[],S=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(S=S&&h.synchronous,d.unshift(h.fulfilled,h.rejected))});var s=[];this.interceptors.response.forEach(function(h){s.push(h.fulfilled,h.rejected)});var g;if(!S){var i=[n8,void 0];for(Array.prototype.unshift.apply(i,d),i=i.concat(s),g=Promise.resolve(r);i.length;)g=g.then(i.shift(),i.shift());return g}for(var o=r;d.length;){var m=d.shift(),c=d.shift();try{o=m(o)}catch(l){c(l);break}}try{g=n8(o)}catch(l){return Promise.reject(l)}for(;s.length;)g=g.then(s.shift(),s.shift());return g};qm.prototype.getUri=function(t){return t=Px(this.defaults,t),$nt(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};jL.forEach(["delete","get","head","options"],function(t){qm.prototype[t]=function(r,n){return this.request(Px(n||{},{method:t,url:r,data:(n||{}).data}))}});jL.forEach(["post","put","patch"],function(t){qm.prototype[t]=function(r,n,d){return this.request(Px(d||{},{method:t,url:r,data:n}))}});var Wnt=qm,wS,s8;function Vnt(){if(s8)return wS;s8=1;var e=Ex();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(s){n=s});var d=this;this.promise.then(function(S){if(d._listeners){var s,g=d._listeners.length;for(s=0;s<g;s++)d._listeners[s](S);d._listeners=null}}),this.promise.then=function(S){var s,g=new Promise(function(i){d.subscribe(i),s=i}).then(S);return g.cancel=function(){d.unsubscribe(s)},g},r(function(s){d.reason||(d.reason=new e(s),n(d.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},t.prototype.unsubscribe=function(n){if(this._listeners){var d=this._listeners.indexOf(n);d!==-1&&this._listeners.splice(d,1)}},t.source=function(){var n,d=new t(function(s){n=s});return{token:d,cancel:n}},wS=t,wS}var TS,a8;function Ynt(){return a8||(a8=1,TS=function(t){return function(n){return t.apply(null,n)}}),TS}var CS,o8;function Xnt(){if(o8)return CS;o8=1;var e=co;return CS=function(r){return e.isObject(r)&&r.isAxiosError===!0},CS}var l8=co,Qnt=AL,u1=Wnt,Knt=DL,Jnt=KE;function UL(e){var t=new u1(e),r=Qnt(u1.prototype.request,t);return l8.extend(r,u1.prototype,t),l8.extend(r,t),r.create=function(d){return UL(Knt(e,d))},r}var Au=UL(Jnt);Au.Axios=u1;Au.Cancel=Ex();Au.CancelToken=Vnt();Au.isCancel=FL();Au.VERSION=_L().version;Au.all=function(t){return Promise.all(t)};Au.spread=Ynt();Au.isAxiosError=Xnt();YE.exports=Au;YE.exports.default=Au;var Znt=YE.exports,qnt=Znt;const GL=ks(qnt),vi=GL.create({baseURL:"https://dashboard.blooket.com",withCredentials:!0});class tst{constructor(){Ei(this,"data");Ei(this,"loading");this.data=null,this.loading=!0,this.getLoggedIn()}getData(){return ci(this,null,function*(){return this.loading&&(yield this.getLoggedIn()),this.data})}getLoggedIn(){return ci(this,null,function*(){if(this.loading=!0,typeof window!="undefined")return vi.get("/api/users/me").then(t=>{this.data=t.data,this.loading=!1}).catch(()=>{this.data=null,this.loading=!1});this.data=null,this.loading=!1})}}const bm=_i.createContext(null),jn=e=>t=>R.jsx(bm.Consumer,{children:r=>R.jsx(e,Fr(Fi({},t),{user:r}))}),Zn=e=>t=>{const r=_i.useContext(bm),[n,d]=_i.useState(!1);return _i.useEffect(()=>{ci(An,null,function*(){try{(yield r==null?void 0:r.getData())||(window.location.href=`${ar.id}/login`),d(!0)}catch(S){window.location.href=`${ar.id}/login`}})},[r]),n?R.jsx(bm.Consumer,{children:S=>R.jsx(e,Fi({},t))}):null},est="_modal_nbamd_3",ist="_mBody_nbamd_15",rst="_regularBody_nbamd_30",nst="_profileRegularBody_nbamd_41",sst="_hostRegularBody_nbamd_50",ast="_regularBodyMax_nbamd_61",ost="_body_nbamd_71",lst="_hostBody_nbamd_84",ust="_royaleHeaderContainer_nbamd_97",hst="_royaleHeaderText_nbamd_107",cst="_fadeInPop_nbamd_1",dst="_leftSlantLine_nbamd_129",fst="_leftBottomLine_nbamd_140",pst="_leftName_nbamd_150",vst="_leftEnergyIcon_nbamd_167",mst="_leftEnergyContainer_nbamd_175",gst="_energy_nbamd_185",yst="_rightSlantLine_nbamd_191",xst="_rightBottomLine_nbamd_202",bst="_rightName_nbamd_212",Sst="_rightEnergyIcon_nbamd_229",wst="_rightEnergyContainer_nbamd_237",Tst="_skipButton_nbamd_247",Cst="_factorySpin_nbamd_265",Est="_vortex_nbamd_1",kst="_factoryReverse_nbamd_285",Pst="_factoryFlip_nbamd_294",Ast="_factoryMicro_nbamd_303",Rst="_bottomTipText_nbamd_312",Ist="_googleButton_nbamd_324",Mst="_googleLogo_nbamd_346",Bst="_slantBackground_nbamd_351",Ost="_tooltip_nbamd_363",Nst="_modalButton_nbamd_372",Lst="_bigImage_nbamd_380",Fst="_underline_nbamd_390",Dst="_blockedText_nbamd_394",_st="_profileBody_nbamd_406",jst="_profileBodyMax_nbamd_416",zst="_flex_nbamd_426",Qe={modal:est,mBody:ist,regularBody:rst,profileRegularBody:nst,hostRegularBody:sst,regularBodyMax:ast,body:ost,hostBody:lst,royaleHeaderContainer:ust,royaleHeaderText:hst,fadeInPop:cst,leftSlantLine:dst,leftBottomLine:fst,leftName:pst,leftEnergyIcon:vst,leftEnergyContainer:mst,energy:gst,rightSlantLine:yst,rightBottomLine:xst,rightName:bst,rightEnergyIcon:Sst,rightEnergyContainer:wst,skipButton:Tst,factorySpin:Cst,vortex:Est,factoryReverse:kst,factoryFlip:Pst,factoryMicro:Ast,bottomTipText:Rst,googleButton:Ist,googleLogo:Mst,slantBackground:Bst,tooltip:Ost,modalButton:Nst,bigImage:Lst,underline:Fst,blockedText:Dst,profileBody:_st,profileBodyMax:jst,flex:zst},Ust="_background_creza_1",Gst="_header_creza_13",Hst="_saleHeader_creza_24",$st="_saleSubHeader_creza_42",Wst="_planContainer_creza_47",Vst="_plan_creza_47",Yst="_planBackgroundContainer_creza_70",Xst="_planBackground_creza_70",Qst="_plan1_creza_93",Kst="_plan2_creza_97",Jst="_plan3_creza_101",Zst="_planTop_creza_105",qst="_planSale_creza_117",tat="_planSaleSmall_creza_137",eat="_xPlanPrice_creza_142",iat="_planPrice_creza_151",rat="_planSubText_creza_159",nat="_planDetail_creza_168",sat="_planSpacer_creza_175",aat="_planButton_creza_183",oat="_planButtonInside_creza_188",lat="_groupContainer_creza_194",uat="_groupButton_creza_214",hat="_middleWrapper_creza_219",cat="_middleHeader_creza_226",dat="_middlePerks_creza_236",fat="_perkContainer_creza_244",pat="_perkIcon_creza_259",vat="_perkInfo_creza_270",mat="_perkTitle_creza_278",gat="_questionsHeader_creza_284",yat="_questionsWrapper_creza_292",xat="_questionContainer_creza_300",bat="_questionHeader_creza_313",Sat="_questionText_creza_319",wat="_spacer_creza_323",Tat="_link_creza_327",Ai={background:Ust,header:Gst,saleHeader:Hst,saleSubHeader:$st,planContainer:Wst,plan:Vst,planBackgroundContainer:Yst,planBackground:Xst,plan1:Qst,plan2:Kst,plan3:Jst,planTop:Zst,planSale:qst,planSaleSmall:tat,xPlanPrice:eat,planPrice:iat,planSubText:rat,planDetail:nat,planSpacer:sat,planButton:aat,planButtonInside:oat,groupContainer:lat,groupButton:uat,middleWrapper:hat,middleHeader:cat,middlePerks:dat,perkContainer:fat,perkIcon:pat,perkInfo:vat,perkTitle:mat,questionsHeader:gat,questionsWrapper:yat,questionContainer:xat,questionHeader:bat,questionText:Sat,spacer:wat,link:Tat},Xu=Wi.makeEnum("dashboardservice.v1.CurrentSeason",[{no:0,name:"CURRENT_SEASON_NONE",localName:"NONE"},{no:1,name:"CURRENT_SEASON_SPOOKY",localName:"SPOOKY"},{no:2,name:"CURRENT_SEASON_WINTER",localName:"WINTER"},{no:3,name:"CURRENT_SEASON_FALL",localName:"FALL"},{no:4,name:"CURRENT_SEASON_SHAMROCK",localName:"SHAMROCK"},{no:5,name:"CURRENT_SEASON_EASTER",localName:"EASTER"}]),io=Wi.makeEnum("dashboardservice.v1.DashboardLayout",[{no:0,name:"DASHBOARD_LAYOUT_UNKNOWN",localName:"UNKNOWN"},{no:1,name:"DASHBOARD_LAYOUT_TEACHER",localName:"TEACHER"},{no:2,name:"DASHBOARD_LAYOUT_STUDENT",localName:"STUDENT"}]),ZE=Wi.makeMessageType("dashboardservice.v1.ProfileBlook",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"svg_url",kind:"scalar",T:9},{no:3,name:"num_owned",kind:"scalar",T:5},{no:4,name:"set",kind:"scalar",T:9},{no:5,name:"rarity",kind:"scalar",T:9},{no:6,name:"team_name",kind:"scalar",T:9},{no:7,name:"color",kind:"scalar",T:9}]),Cat=Wi.makeMessageType("dashboardservice.v1.MeRequest",[]),Eat=Wi.makeMessageType("dashboardservice.v1.MeReply",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"blook",kind:"message",T:ZE},{no:3,name:"dashboard_layout",kind:"enum",T:Wi.getEnumType(io)},{no:4,name:"current_season",kind:"enum",T:Wi.getEnumType(Xu)}]),kat=Wi.makeMessageType("dashboardservice.v1.ChangeUserBlookRequest",()=>[{no:1,name:"blook",kind:"scalar",T:9}]),Pat=Wi.makeMessageType("dashboardservice.v1.ChangeUserBlookReply",[]),Aat=Wi.makeMessageType("dashboardservice.v1.PurchaseBlookBoxRequest",()=>[{no:1,name:"box_name",kind:"scalar",T:9}]),Rat=Wi.makeMessageType("dashboardservice.v1.PurchaseBlookBoxReply",()=>[{no:1,name:"unlocked_blook",kind:"scalar",T:9},{no:2,name:"is_new_to_user",kind:"scalar",T:8},{no:3,name:"tokens",kind:"scalar",T:5}]),Iat=Wi.makeMessageType("dashboardservice.v1.BlookSalePriceRequest",()=>[{no:1,name:"blook",kind:"scalar",T:9}]),Mat=Wi.makeMessageType("dashboardservice.v1.BlookSalePriceReply",()=>[{no:1,name:"tokens",kind:"scalar",T:5}]),Bat=Wi.makeMessageType("dashboardservice.v1.SellBlookRequest",()=>[{no:1,name:"blook",kind:"scalar",T:9},{no:2,name:"num_to_sell",kind:"scalar",T:5}]),Oat=Wi.makeMessageType("dashboardservice.v1.SellBlookReply",()=>[{no:1,name:"blooks",kind:"message",T:ZE,repeated:!0}]),Nat=Wi.makeMessageType("dashboardservice.v1.ListUnlockedBlooksRequest",[]),Lat=Wi.makeMessageType("dashboardservice.v1.ListUnlockedBlooksReply",()=>[{no:1,name:"blooks",kind:"message",T:ZE,repeated:!0}]),Fat=Wi.makeMessageType("dashboardservice.v1.WeeklyShopRequest",[]),Dat=Wi.makeMessageType("dashboardservice.v1.WeeklyShopReply",()=>[{no:1,name:"items",kind:"message",T:jat,repeated:!0}]),_at=Wi.makeMessageType("dashboardservice.v1.WeeklyShopReply.WeeklyShopData",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"rarity",kind:"scalar",T:9},{no:4,name:"price",kind:"scalar",T:5},{no:5,name:"type",kind:"scalar",T:9},{no:6,name:"num",kind:"scalar",T:5}],{localName:"WeeklyShopReply_WeeklyShopData"}),jat=Wi.makeMessageType("dashboardservice.v1.WeeklyShopReply.WeeklyShopItem",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"type",kind:"scalar",T:9},{no:3,name:"data",kind:"message",T:_at}],{localName:"WeeklyShopReply_WeeklyShopItem"}),zat=Wi.makeMessageType("dashboardservice.v1.LimitedBlooksRequest",[]),u8=Wi.makeMessageType("dashboardservice.v1.LimitedBlooksReply",()=>[{no:1,name:"limited_blooks",kind:"message",T:Uat,repeated:!0}]),Uat=Wi.makeMessageType("dashboardservice.v1.LimitedBlooksReply.LimitedBlook",()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"price",kind:"scalar",T:5},{no:3,name:"owned",kind:"scalar",T:8}],{localName:"LimitedBlooksReply_LimitedBlook"}),Gat=Wi.makeMessageType("dashboardservice.v1.PurchaseLimitedBlookRequest",()=>[{no:1,name:"name",kind:"scalar",T:9}]),Hat=Wi.makeMessageType("dashboardservice.v1.UserBannersRequest",[]),$at=Wi.makeMessageType("dashboardservice.v1.UserBannersReply",()=>[{no:1,name:"current_banner",kind:"message",T:h8},{no:2,name:"owned_banners",kind:"message",T:h8,repeated:!0}]),h8=Wi.makeMessageType("dashboardservice.v1.UserBannersReply.UserBanner",()=>[{no:1,name:"slug",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"url",kind:"scalar",T:9}],{localName:"UserBannersReply_UserBanner"}),Wat=Wi.makeMessageType("dashboardservice.v1.SaveCustomBlookRequest",()=>[{no:1,name:"custom_code",kind:"scalar",T:9},{no:2,name:"save_slot_index",kind:"scalar",T:5}]),Vat=Wi.makeMessageType("dashboardservice.v1.SaveCustomBlookReply",[]),Yat=Wi.makeMessageType("dashboardservice.v1.SettingsPageDataRequest",[]),Xat=Wi.makeMessageType("dashboardservice.v1.SettingsPageDataReply",()=>[{no:1,name:"username",kind:"scalar",T:9},{no:2,name:"email",kind:"scalar",T:9},{no:3,name:"user_created_at",kind:"message",T:Go},{no:4,name:"dashboardLayout",kind:"enum",T:Wi.getEnumType(io)},{no:6,name:"plan_name",kind:"scalar",T:9},{no:7,name:"plan_ends_at",kind:"message",T:Go,opt:!0},{no:8,name:"plan_renews_automatically",kind:"scalar",T:8}]),Qat=Wi.makeMessageType("dashboardservice.v1.SetDashboardLayoutRequest",()=>[{no:1,name:"layout",kind:"enum",T:Wi.getEnumType(io)}]),Kat=Wi.makeMessageType("dashboardservice.v1.SetDashboardLayoutReply",[]),Jat=Wi.makeMessageType("dashboardservice.v1.ListIndividualPlansRequest",[]),Zat=Wi.makeMessageType("dashboardservice.v1.ListIndividualPlansReply",()=>[{no:1,name:"plans",kind:"message",T:qat,repeated:!0}]),qat=Wi.makeMessageType("dashboardservice.v1.ListIndividualPlansReply.IndividualPlan",()=>[{no:1,name:"slug",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9},{no:4,name:"price_cents",kind:"scalar",T:5}],{localName:"ListIndividualPlansReply_IndividualPlan"}),tot=Wi.makeMessageType("dashboardservice.v1.ListGroupPlansRequest",[]),eot=Wi.makeMessageType("dashboardservice.v1.ListGroupPlansReply",()=>[{no:1,name:"plans",kind:"message",T:iot,repeated:!0}]),iot=Wi.makeMessageType("dashboardservice.v1.ListGroupPlansReply.GroupPlan",()=>[{no:1,name:"slug",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"num_users",kind:"scalar",T:5},{no:4,name:"price_cents",kind:"scalar",T:5}],{localName:"ListGroupPlansReply_GroupPlan"}),rot=Wi.makeMessageType("dashboardservice.v1.CreateIndividualCheckoutSessionRequest",()=>[{no:1,name:"slug",kind:"scalar",T:9}]),not=Wi.makeMessageType("dashboardservice.v1.CreateIndividualCheckoutSessionReply",()=>[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"publishable_key",kind:"scalar",T:9}]),sot=Wi.makeMessageType("dashboardservice.v1.CreateGroupCheckoutSessionRequest",()=>[{no:1,name:"slug",kind:"scalar",T:9},{no:2,name:"group_name",kind:"scalar",T:9}]),aot=Wi.makeMessageType("dashboardservice.v1.CreateGroupCheckoutSessionReply",()=>[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"publishable_key",kind:"scalar",T:9}]),oot=Wi.makeMessageType("dashboardservice.v1.CheckoutSessionStatusRequest",[]),lot=Wi.makeMessageType("dashboardservice.v1.CheckoutSessionStatusReply",()=>[{no:1,name:"payment_status",kind:"enum",T:Wi.getEnumType(W2)}]),W2=Wi.makeEnum("dashboardservice.v1.CheckoutSessionStatusReply.PaymentStatus",[{no:0,name:"PAYMENT_STATUS_UNKNOWN",localName:"UNKNOWN"},{no:1,name:"PAYMENT_STATUS_PAID",localName:"PAID"},{no:2,name:"PAYMENT_STATUS_UNPAID",localName:"UNPAID"}]),uot=Wi.makeMessageType("dashboardservice.v1.CompleteCheckoutSessionRequest",[]),hot=Wi.makeMessageType("dashboardservice.v1.CompleteCheckoutSessionReply",()=>[{no:1,name:"is_group",kind:"scalar",T:8}]),cot=Wi.makeMessageType("dashboardservice.v1.CreateBillingSessionRequest",[]),dot=Wi.makeMessageType("dashboardservice.v1.CreateBillingSessionReply",()=>[{no:1,name:"session_url",kind:"scalar",T:9}]),fot=Wi.makeMessageType("dashboardservice.v1.IndividualUpgradePageDataRequest",[]),pot=Wi.makeMessageType("dashboardservice.v1.IndividualUpgradePageDataReply",()=>[{no:1,name:"plus_annual_price_cents",kind:"scalar",T:5},{no:2,name:"plus_flex_price_cents",kind:"scalar",T:5},{no:3,name:"logged_in",kind:"scalar",T:8},{no:4,name:"current_plan_slug",kind:"scalar",T:9,opt:!0}]),vot={typeName:"dashboardservice.v1.DashboardService",methods:{me:{name:"Me",I:Cat,O:Eat,kind:sn.Unary},changeUserBlook:{name:"ChangeUserBlook",I:kat,O:Pat,kind:sn.Unary},saveCustomBlook:{name:"SaveCustomBlook",I:Wat,O:Vat,kind:sn.Unary},purchaseBlookBox:{name:"PurchaseBlookBox",I:Aat,O:Rat,kind:sn.Unary},blookSalePrice:{name:"BlookSalePrice",I:Iat,O:Mat,kind:sn.Unary},sellBlook:{name:"SellBlook",I:Bat,O:Oat,kind:sn.Unary},listUnlockedBlooks:{name:"ListUnlockedBlooks",I:Nat,O:Lat,kind:sn.Unary},weeklyShop:{name:"WeeklyShop",I:Fat,O:Dat,kind:sn.Unary},limitedBlooks:{name:"LimitedBlooks",I:zat,O:u8,kind:sn.Unary},purchaseLimitedBlook:{name:"PurchaseLimitedBlook",I:Gat,O:u8,kind:sn.Unary},userBanners:{name:"UserBanners",I:Hat,O:$at,kind:sn.Unary},settingsPageData:{name:"SettingsPageData",I:Yat,O:Xat,kind:sn.Unary},setDashboardLayout:{name:"SetDashboardLayout",I:Qat,O:Kat,kind:sn.Unary},individualUpgradePageData:{name:"IndividualUpgradePageData",I:fot,O:pot,kind:sn.Unary},listIndividualPlans:{name:"ListIndividualPlans",I:Jat,O:Zat,kind:sn.Unary},listGroupPlans:{name:"ListGroupPlans",I:tot,O:eot,kind:sn.Unary},createIndividualCheckoutSession:{name:"CreateIndividualCheckoutSession",I:rot,O:not,kind:sn.Unary},createGroupCheckoutSession:{name:"CreateGroupCheckoutSession",I:sot,O:aot,kind:sn.Unary},checkoutSessionStatus:{name:"CheckoutSessionStatus",I:oot,O:lot,kind:sn.Unary},completeCheckoutSession:{name:"CompleteCheckoutSession",I:uot,O:hot,kind:sn.Unary},createBillingSession:{name:"CreateBillingSession",I:cot,O:dot,kind:sn.Unary}}},mot="https://dashboard.blooket.com/apipb",got=void 0,yot="bid9e7116ef5fe10c3f8955a2777e5ee9fdbe58c48ab925efa5",xot=[pX()],Yr=vX(mot,vot,yot,got,xot),bot=[{title:"Plus Game Modes",desc:"Gain access to game modes only available to Plus users",icon:"fas fa-gamepad"},{title:"Folders",desc:"Create folders to organize your question sets and favorites",icon:"fas fa-folder"},{title:"Larger Live Games",desc:"Host games with up to 300 players (60 player max with Starter)",icon:"fas fa-users"},{title:"Enhanced Reports",desc:"View question-by-question data and individual student breakdowns",icon:"fas fa-chart-bar"},{title:"Question Bank",desc:"Quickly add questions from any set to your own",icon:"fas fa-university"},{title:"Copy & Duplicate",desc:"Create your own copy of any set to edit for yourself",icon:"fas fa-copy"},{title:"Audio Questions",desc:"Record or upload your own audio and add it to questions",icon:"fas fa-microphone-alt"},{title:"Longer Deadlines",desc:"Assign homeworks for up to 365 days (14 day max with Starter)",icon:"fas fa-file-alt"},{title:"Merging Sets",desc:"Combine two of your sets with only a few clicks",icon:"fas fa-random"},{title:"Bonus Tokens",desc:"10 extra tokens for students after every game",icon:"fas fa-coins"}];class HL extends ti.Component{constructor(t){super(t),this.state={loggedIn:!1,planSlug:"",hasPlus:!1,plusPriceCents:0,plusFlexPriceCents:0,backToSchoolPricing:!1},this.goToUpgradeLink=this.goToUpgradeLink.bind(this),this.plusUpgradeButtonText=this.plusUpgradeButtonText.bind(this),this.plusFlexUpgradeButtonText=this.plusFlexUpgradeButtonText.bind(this)}componentDidMount(){return ci(this,null,function*(){try{const t=yield Yr.individualUpgradePageData({});this.setState({planSlug:t.currentPlanSlug,loggedIn:t.loggedIn,hasPlus:t.loggedIn&&t.currentPlanSlug,plusPriceCents:t.plusAnnualPriceCents,plusFlexPriceCents:t.plusFlexPriceCents,backToSchoolPricing:t.plusAnnualPriceCents===499})}catch(t){Ve.logError("fetching individual upgrade page data",t)}})}goToUpgradeLink(t){let r="";if(this.state.loggedIn)this.state.hasPlus?r="/dashboard":r=`/upgrade/checkout/${t}`;else{const n=`${ar.dashboard}/upgrade/checkout/${t}`;r=`${ar.id}/signup?n=${n}`}window.location.href=r}plusUpgradeButtonText(){return this.state.loggedIn?this.state.planSlug==="plus"?"Already Owned":this.state.planSlug==="plus-flex"?"Already On Plus Flex":"Buy Now":"Get Started"}plusFlexUpgradeButtonText(){return this.state.loggedIn?this.state.planSlug==="plus"?"Already On Plus":this.state.planSlug==="plus-flex"?"Already Owned":"Buy Now":"Get Started"}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),R.jsx(nl,{}),R.jsx("div",{className:Ai.background}),R.jsxs("div",{className:Qe.regularBody,children:[R.jsx("div",{className:Ai.header,children:"Level Up Your Classroom"}),this.state.plusPriceCents&&R.jsxs("div",{className:Ai.planContainer,children:[R.jsxs("div",{className:Ai.plan,children:[R.jsx("div",{className:Ai.planBackgroundContainer,children:R.jsx("div",{className:Ct(Ai.planBackground,Ai.plan1)})}),R.jsx("div",{className:Ai.planTop,children:"Starter"}),R.jsx("div",{className:Ai.planPrice,children:"Free"}),R.jsx("div",{className:Ai.planSubText,children:"forever"}),R.jsx("div",{className:Ai.planDetail,children:"Create or Discover Sets"}),R.jsx("div",{className:Ai.planSpacer}),R.jsx("div",{className:Ai.planDetail,children:"Unique Game Modes"}),R.jsx("div",{className:Ai.planSpacer}),R.jsx("div",{className:Ai.planDetail,children:"Question Set Search"}),R.jsx("div",{className:Ai.planSpacer}),R.jsx("div",{className:Ai.planDetail,children:"Up to 60 Players"}),R.jsx(Ri,{color:"#7fba43",linkTo:this.state.loggedIn?"/my-sets":`${ar.id}/signup`,outsideClass:Ai.planButton,insideClass:Ai.planButtonInside,children:this.state.loggedIn?"Already Owned":"Get Started"})]}),R.jsxs("div",{className:Ai.plan,children:[R.jsx("div",{className:Ai.planBackgroundContainer,children:R.jsx("div",{className:Ct(Ai.planBackground,Ai.plan2)})}),R.jsx("div",{className:Ai.planTop,children:"Plus"}),this.state.backToSchoolPricing&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:Ai.planSale,children:[R.jsx("div",{className:Ai.planSaleSmall,children:"Save"}),"40%"]}),R.jsx("div",{className:Ai.xPlanPrice,children:"$4.99"})]}),R.jsx("div",{className:Ai.planPrice,children:`$${$i(this.state.plusPriceCents/12/100)}`}),R.jsx("div",{className:Ai.planSubText,children:`per month, charged yearly ($${$i(this.state.plusPriceCents/100)})`}),R.jsx("div",{className:Ai.planDetail,children:"All Starter Features"}),R.jsx("div",{className:Ai.planSpacer}),R.jsx("div",{className:Ai.planDetail,children:"Exclusive Game Modes"}),R.jsx("div",{className:Ai.planSpacer}),R.jsx("div",{className:Ai.planDetail,children:"Enhanced Game Reports"}),R.jsx("div",{className:Ai.planSpacer}),R.jsx("div",{className:Ai.planDetail,children:"Question Set Folders"}),R.jsx("div",{className:Ai.planSpacer}),R.jsx("div",{className:Ai.planDetail,children:"Audio Questions"}),R.jsx("div",{className:Ai.planSpacer}),R.jsx("div",{className:Ai.planDetail,children:"Copy & Duplicate Sets"}),R.jsx("div",{className:Ai.planSpacer}),R.jsx("div",{className:Ai.planDetail,children:"Up to 300 Players"}),R.jsx(Ri,{color:"#ff7b24",onClick:()=>this.goToUpgradeLink("plus"),outsideClass:Ai.planButton,insideClass:Ai.planButtonInside,children:this.plusUpgradeButtonText()})]}),R.jsxs("div",{className:Ai.plan,children:[R.jsx("div",{className:Ai.planBackgroundContainer,children:R.jsx("div",{className:Ct(Ai.planBackground,Ai.plan3)})}),R.jsx("div",{className:Ai.planTop,children:"Plus Flex"}),R.jsx("div",{className:Ai.planPrice,children:`$${$i(this.state.plusFlexPriceCents/100)}`}),R.jsx("div",{className:Ai.planSubText,children:"per month"}),R.jsx("div",{className:Ai.planDetail,children:"All Plus Features"}),R.jsx("div",{className:Ai.planSpacer}),R.jsx("div",{className:Ai.planDetail,children:"Pay Monthly"}),R.jsx("div",{className:Ai.planSpacer}),R.jsx("div",{className:Ai.planDetail,children:"Cancel Whenever"}),R.jsx(Ri,{color:"#eb5726",onClick:()=>this.goToUpgradeLink("plus-flex"),outsideClass:Ai.planButton,insideClass:Ai.planButtonInside,children:this.plusFlexUpgradeButtonText()})]})]}),R.jsxs("div",{className:Ai.groupContainer,children:["Looking to buy for multiple teachers?",R.jsx(Ri,{color:"#0bc2cf",linkTo:"/upgrade/group/price",outsideClass:Ai.groupButton,insideClass:Ai.planButtonInside,children:"Group Pricing"})]}),R.jsxs("div",{className:Ai.middleWrapper,children:[R.jsx("div",{className:Ai.middleHeader,children:"Perks of Plus"}),R.jsx("div",{className:Ai.middlePerks,children:bot.map(t=>R.jsxs("div",{className:Ai.perkContainer,children:[R.jsx("i",{className:Ct(t.icon,Ai.perkIcon),style:{lineHeight:1,display:"flex"}}),R.jsxs("div",{className:Ai.perkInfo,children:[R.jsx("div",{className:Ai.perkTitle,children:t.title}),t.desc]})]},t.title))})]}),R.jsx("div",{className:Ai.questionsHeader,children:"Common Questions"}),R.jsxs("div",{className:Ai.questionsWrapper,children:[R.jsxs("div",{className:Ai.questionContainer,children:[R.jsx("div",{className:Ai.questionHeader,children:"How do I pay?"}),R.jsx("div",{className:Ai.questionText,children:`
                  We accept all major credits cards. Also, in order
                  to keep your information secure, we use a trusted third party service
                  to handle all payments. We will automatically renew Blooket Plus every
                  year and Blooket Plus Flex every month unless you cancel the subscription
                  in the Settings page of your profile.
                `})]}),R.jsxs("div",{className:Ai.questionContainer,children:[R.jsx("div",{className:Ai.questionHeader,children:"Can I use a purchase order?"}),R.jsxs("div",{className:Ai.questionText,children:[`
                  Unfortunately, we do not accept purchase orders for individual subscriptions.
                  However, you can use a purchase order for
                `,R.jsx("a",{href:"/upgrade/group/price",className:Ai.link,children:"group plans."})," ","Well generate a quote for you and send you a final invoice using your purchase order for these subscriptions."]})]})]}),R.jsx("div",{className:Ai.spacer})]})]})}}HL.propTypes={};const Sot=jn(Ls(HL));var $L="https://js.stripe.com/v3",wot=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,c8="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Tot=function(){for(var t=document.querySelectorAll('script[src^="'.concat($L,'"]')),r=0;r<t.length;r++){var n=t[r];if(wot.test(n.src))return n}return null},d8=function(t){var r="",n=document.createElement("script");n.src="".concat($L).concat(r);var d=document.head||document.body;if(!d)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return d.appendChild(n),n},Cot=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"3.3.0",startTime:r})},Kp=null,Jg=null,Zg=null,Eot=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},kot=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},Pot=function(t){return Kp!==null?Kp:(Kp=new Promise(function(r,n){if(typeof window=="undefined"||typeof document=="undefined"){r(null);return}if(window.Stripe&&t&&console.warn(c8),window.Stripe){r(window.Stripe);return}try{var d=Tot();if(d&&t)console.warn(c8);else if(!d)d=d8(t);else if(d&&Zg!==null&&Jg!==null){var S;d.removeEventListener("load",Zg),d.removeEventListener("error",Jg),(S=d.parentNode)===null||S===void 0||S.removeChild(d),d=d8(t)}Zg=kot(r,n),Jg=Eot(n),d.addEventListener("load",Zg),d.addEventListener("error",Jg)}catch(s){n(s);return}}),Kp.catch(function(r){return Kp=null,Promise.reject(r)}))},Aot=function(t,r,n){if(t===null)return null;var d=t.apply(void 0,r);return Cot(d,n),d},Jp,WL=!1,VL=function(){return Jp||(Jp=Pot(null).catch(function(t){return Jp=null,Promise.reject(t)}),Jp)};Promise.resolve().then(function(){return VL()}).catch(function(e){WL||console.warn(e)});var YL=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];WL=!0;var d=Date.now();return VL().then(function(S){return Aot(S,r,d)})};const Rot="_container_1qxvy_1",Iot="_text_1qxvy_15",Mot="_blook_1qxvy_24",Bot="_holder_1qxvy_32",Oot="_inputContainer_1qxvy_36",Not="_smallInputContainer_1qxvy_52",Lot="_smallishInputContainer_1qxvy_57",Fot="_input_1qxvy_36",Dot="_smallInput_1qxvy_52",_ot="_longInput_1qxvy_92",jot="_inputFilled_1qxvy_118",zot="_token_1qxvy_122",Uot="_icon_1qxvy_130",Got="_colorsHolder_1qxvy_140",Hot="_colorContainer_1qxvy_150",$ot="_buttonContainer_1qxvy_164",Wot="_button_1qxvy_164",Vot="_buttonInside_1qxvy_178",Yot="_errorContainer_1qxvy_192",Xot="_errorIcon_1qxvy_204",Qot="_errorText_1qxvy_213",Kot="_numRow_1qxvy_221",Jot="_numTotal_1qxvy_229",Zot="_darkBg_1qxvy_236",qot="_whiteText_1qxvy_240",tlt="_hiddenSubmit_1qxvy_244",Pr={container:Rot,text:Iot,blook:Mot,holder:Bot,inputContainer:Oot,smallInputContainer:Not,smallishInputContainer:Lot,input:Fot,smallInput:Dot,longInput:_ot,inputFilled:jot,token:zot,icon:Uot,colorsHolder:Got,colorContainer:Hot,buttonContainer:$ot,button:Wot,buttonInside:Vot,errorContainer:Yot,errorIcon:Xot,errorText:Qot,numRow:Kot,numTotal:Jot,darkBg:Zot,whiteText:qot,hiddenSubmit:tlt},elt={"Old Boot":{url:"https://ac.blooket.com/marketassets/blooks/oldboot.svg",set:"Aquatic",rarity:"Uncommon",teamName:"Da Boots",color:"#995b3c"},Jellyfish:{url:"https://ac.blooket.com/marketassets/blooks/jellyfish.svg",set:"Aquatic",rarity:"Uncommon",teamName:"Jelly Jumpers",color:"#c385b9"},Clownfish:{url:"https://ac.blooket.com/marketassets/blooks/clownfish.svg",set:"Aquatic",rarity:"Uncommon",teamName:"Nemo Extras",color:"#f7941d"},Frog:{url:"https://ac.blooket.com/marketassets/blooks/frog.svg",set:"Aquatic",rarity:"Uncommon",teamName:"Hippity Hoppers",color:"#a7d054"},Crab:{url:"https://ac.blooket.com/marketassets/blooks/crab.svg",set:"Aquatic",rarity:"Uncommon",teamName:"Cool Claws",color:"#cf1f3d"},Pufferfish:{url:"https://ac.blooket.com/marketassets/blooks/pufferfish.svg",set:"Aquatic",rarity:"Rare",teamName:"TEAM BIG",color:"#ddc4a6"},Blobfish:{url:"https://ac.blooket.com/marketassets/blooks/blobfish.svg",set:"Aquatic",rarity:"Rare",teamName:"blob blob blob",color:"#f3c1da"},Octopus:{url:"https://ac.blooket.com/marketassets/blooks/octopus.svg",set:"Aquatic",rarity:"Rare",teamName:"Team 8",color:"#a15095"},Narwhal:{url:"https://ac.blooket.com/marketassets/blooks/narwhal.svg",set:"Aquatic",rarity:"Epic",teamName:"NARWHALLLLL",color:"#dae6f5"},Dolphin:{url:"https://ac.blooket.com/marketassets/blooks/dolphin.svg",set:"Aquatic",rarity:"Epic",teamName:"Diving Dolphins",color:"#4e7197"},"Baby Shark":{url:"https://ac.blooket.com/marketassets/blooks/babyshark.svg",set:"Aquatic",rarity:"Legendary",teamName:"BABY SHARK",color:"#5588b7"},Megalodon:{url:"https://ac.blooket.com/marketassets/blooks/megalodon.svg",set:"Aquatic",rarity:"Legendary",teamName:"Megan's the Name",color:"#3d5d80"}},XL={"Snowy Owl":{url:"https://ac.blooket.com/marketassets/blooks/snowyowl.svg",set:"Arctic Animal",rarity:"Common",teamName:"Kool Kids",color:"#feda3f"},"Polar Bear":{url:"https://ac.blooket.com/marketassets/blooks/polarbear.svg",set:"Arctic Animal",rarity:"Common",teamName:"Snowy Students",color:"#7ca1d5"},"Arctic Fox":{url:"https://ac.blooket.com/marketassets/blooks/arcticfox.svg",set:"Arctic Animal",rarity:"Common",teamName:"Chilly Chosen",color:"#7ca1d5"},"Baby Penguin":{url:"https://ac.blooket.com/marketassets/blooks/babypenguin.svg",set:"Arctic Animal",rarity:"Common",teamName:"Party Penguins",color:"#414042"},Penguin:{url:"https://ac.blooket.com/marketassets/blooks/penguin.svg",set:"Arctic Animal",rarity:"Common",teamName:"Better Birds",color:"#fb8640"},"Arctic Hare":{url:"https://ac.blooket.com/marketassets/blooks/arctichare.svg",set:"Arctic Animal",rarity:"Common",teamName:"Arctic Achievers",color:"#7ca1d5"},Seal:{url:"https://ac.blooket.com/marketassets/blooks/seal.svg",set:"Arctic Animal",rarity:"Common",teamName:"Super Seals",color:"#7ca1d5"},Walrus:{url:"https://ac.blooket.com/marketassets/blooks/walrus.svg",set:"Arctic Animal",rarity:"Common",teamName:"Wordy Walruses",color:"#7d4f33"}},ilt={"Black Bear":{url:"https://ac.blooket.com/marketassets/blooks/blackbear.svg",set:"Autumn",rarity:"Uncommon",teamName:"Fall Bears",color:"#4b4851"},"Pumpkin Pie":{url:"https://ac.blooket.com/marketassets/blooks/pumpkinpie.svg",set:"Autumn",rarity:"Uncommon",teamName:"Powerful Pies",color:"#d85e0b"},Chipmunk:{url:"https://ac.blooket.com/marketassets/blooks/chipmunk.svg",set:"Autumn",rarity:"Uncommon",teamName:"Chosen Chipmunks",color:"#c86741"},Cornucopia:{url:"https://ac.blooket.com/marketassets/blooks/cornucopia.svg",set:"Autumn",rarity:"Uncommon",teamName:"Cool Cornucopias",color:"#ac722d"},"Autumn Cat":{url:"https://ac.blooket.com/marketassets/blooks/autumncat.svg",set:"Autumn",rarity:"Rare",teamName:"Cool Cats",color:"#f66700"},"Pumpkin Puppy":{url:"https://ac.blooket.com/marketassets/blooks/pumpkinpuppy.svg",set:"Autumn",rarity:"Rare",teamName:"Pumpkin Pups",color:"#f17917"},"Red Squirrel":{url:"https://ac.blooket.com/marketassets/blooks/redsquirrel.svg",set:"Autumn",rarity:"Rare",teamName:"Red Squirrels",color:"#9e4a3d"},"Autumn Crow":{url:"https://ac.blooket.com/marketassets/blooks/autumncrow.svg",set:"Autumn",rarity:"Epic",teamName:"Crows With Hats",color:"#d09f55"},Turkey:{url:"https://ac.blooket.com/marketassets/blooks/turkey.svg",set:"Autumn",rarity:"Legendary",teamName:"Terrific Turkeys",color:"#492c24"}},rlt={"Snow Globe":{url:"https://ac.blooket.com/marketassets/blooks/snowglobe.svg",set:"Blizzard",rarity:"Uncommon",teamName:"Globetrotters",color:"#10afd1"},"Holiday Gift":{url:"https://ac.blooket.com/marketassets/blooks/holidaygift.svg",set:"Blizzard",rarity:"Uncommon",teamName:"Generous Givers",color:"#4ab96d"},"Hot Chocolate":{url:"https://ac.blooket.com/marketassets/blooks/hotchocolate.svg",set:"Blizzard",rarity:"Uncommon",teamName:"Cocoa Coziness",color:"#663723"},"Holiday Wreath":{url:"https://ac.blooket.com/marketassets/blooks/holidaywreath.svg",set:"Blizzard",rarity:"Uncommon",teamName:"Wreath Wreckers",color:"#6c9355"},Stocking:{url:"https://ac.blooket.com/marketassets/blooks/stocking.svg",set:"Blizzard",rarity:"Uncommon",teamName:"Stocking Stuffers",color:"#e52a00"},"Gingerbread Man":{url:"https://ac.blooket.com/marketassets/blooks/gingerbreadman.svg",set:"Blizzard",rarity:"Rare",teamName:"Cookie Crunchers",color:"#995b3c"},"Gingerbread House":{url:"https://ac.blooket.com/marketassets/blooks/gingerbreadhouse.svg",set:"Blizzard",rarity:"Rare",teamName:"Healthy Houses",color:"#995b3c"},Reindeer:{url:"https://ac.blooket.com/marketassets/blooks/reindeer.svg",set:"Blizzard",rarity:"Rare",teamName:"Ready Reindeer",color:"#9a5b3c"},"Santa's Sleigh":{url:"https://ac.blooket.com/marketassets/blooks/santassleigh.svg",set:"Blizzard",rarity:"Rare",teamName:"PRESENTS",color:"#f51213"},Snowman:{url:"https://ac.blooket.com/marketassets/blooks/snowman.svg",set:"Blizzard",rarity:"Epic",teamName:"Summer Puddles",color:"#7ca1d5"},"Santa Claus":{url:"https://ac.blooket.com/marketassets/blooks/santaclaus.svg",set:"Blizzard",rarity:"Legendary",teamName:"Santa's Squad",color:"#d62027"}},nlt={"Lil Bot":{url:"https://ac.blooket.com/marketassets/blooks/lilbot.svg",set:"Bot",rarity:"Uncommon",teamName:"Lil Bots",color:"#3e564a"},"Lovely Bot":{url:"https://ac.blooket.com/marketassets/blooks/lovelybot.svg",set:"Bot",rarity:"Uncommon",teamName:"Lovely Leaders",color:"#f179af"},"Angry Bot":{url:"https://ac.blooket.com/marketassets/blooks/angrybot.svg",set:"Bot",rarity:"Uncommon",teamName:"Evil Geniuses",color:"#f1613a"},"Happy Bot":{url:"https://ac.blooket.com/marketassets/blooks/happybot.svg",set:"Bot",rarity:"Uncommon",teamName:"The Calculators",color:"#51ba6b"},Watson:{url:"https://ac.blooket.com/marketassets/blooks/watson.svg",set:"Bot",rarity:"Rare",teamName:"Sophistication",color:"#d69b5a"},"Buddy Bot":{url:"https://ac.blooket.com/marketassets/blooks/buddybot.svg",set:"Bot",rarity:"Rare",teamName:"Best Buddies",color:"#9dc6ea"},"Brainy Bot":{url:"https://ac.blooket.com/marketassets/blooks/brainybot.svg",set:"Bot",rarity:"Epic",teamName:"Big Brain Bots",color:"#9ecf7a"},"Mega Bot":{url:"https://ac.blooket.com/marketassets/blooks/megabot.svg",set:"Bot",rarity:"Legendary",teamName:"THE MEGA BOTS",color:"#d71f27"}},slt={Toast:{url:"https://ac.blooket.com/marketassets/blooks/toast.svg",set:"Breakfast",rarity:"Uncommon",teamName:"Toasty Teammates",color:"#e9a058"},Cereal:{url:"https://ac.blooket.com/marketassets/blooks/cereal.svg",set:"Breakfast",rarity:"Uncommon",teamName:"Fruity Friends",color:"#2fa04a"},Yogurt:{url:"https://ac.blooket.com/marketassets/blooks/yogurt.svg",set:"Breakfast",rarity:"Uncommon",teamName:"Yogurt Youngins",color:"#00aeef"},"Breakfast Combo":{url:"https://ac.blooket.com/marketassets/blooks/breakfastcombo.svg",set:"Breakfast",rarity:"Uncommon",teamName:"Combo Cooks",color:"#c3d8ea"},"Orange Juice":{url:"https://ac.blooket.com/marketassets/blooks/orangejuice.svg",set:"Breakfast",rarity:"Uncommon",teamName:"OJ OG's",color:"#f7941d"},Milk:{url:"https://ac.blooket.com/marketassets/blooks/milk.svg",set:"Breakfast",rarity:"Uncommon",teamName:"Got Milk?",color:"#77c6e2"},Waffle:{url:"https://ac.blooket.com/marketassets/blooks/waffle.svg",set:"Breakfast",rarity:"Rare",teamName:"Holey Pancakes",color:"#f9a241"},Pancakes:{url:"https://ac.blooket.com/marketassets/blooks/pancakes.svg",set:"Breakfast",rarity:"Rare",teamName:"Flat Waffles",color:"#f9a241"},"French Toast":{url:"https://ac.blooket.com/marketassets/blooks/frenchtoast.svg",set:"Breakfast",rarity:"Epic",teamName:"Bonjour Boomers",color:"#f9a241"},Pizza:{url:"https://ac.blooket.com/marketassets/blooks/pizza.svg",set:"Breakfast",rarity:"Epic",teamName:"Pizza Popstars",color:"#fdb913"}},alt={"Light Blue":{url:"https://ac.blooket.com/marketassets/blooks/lightblue.svg",set:"Color",rarity:"Common",teamName:"Blooket Buds",color:"#0bc2cf"},Black:{url:"https://ac.blooket.com/marketassets/blooks/black.svg",set:"Color",rarity:"Common",teamName:"Black Team",color:"#3a3a3a"},Red:{url:"https://ac.blooket.com/marketassets/blooks/red.svg",set:"Color",rarity:"Common",teamName:"Red Team",color:"#d62728"},Purple:{url:"https://ac.blooket.com/marketassets/blooks/purple.svg",set:"Color",rarity:"Common",teamName:"Purple Team",color:"#9a49aa"},Pink:{url:"https://ac.blooket.com/marketassets/blooks/pink.svg",set:"Color",rarity:"Common",teamName:"Pink Team",color:"#e377c2"},Orange:{url:"https://ac.blooket.com/marketassets/blooks/orange.svg",set:"Color",rarity:"Common",teamName:"Orange Team",color:"#ff7f0f"},Lime:{url:"https://ac.blooket.com/marketassets/blooks/lime.svg",set:"Color",rarity:"Common",teamName:"Lime Team",color:"#b3dc23"},Green:{url:"https://ac.blooket.com/marketassets/blooks/green.svg",set:"Color",rarity:"Common",teamName:"Green Team",color:"#2ca02c"},Teal:{url:"https://ac.blooket.com/marketassets/blooks/teal.svg",set:"Color",rarity:"Common",teamName:"Teal Team",color:"#007788"},Tan:{url:"https://ac.blooket.com/marketassets/blooks/tan.svg",set:"Color",rarity:"Common",teamName:"Tan Team",color:"#d2b48c"},Maroon:{url:"https://ac.blooket.com/marketassets/blooks/maroon.svg",set:"Color",rarity:"Common",teamName:"Maroon Team",color:"#800000"},Gray:{url:"https://ac.blooket.com/marketassets/blooks/gray.svg",set:"Color",rarity:"Common",teamName:"Gray Team",color:"#999999"},Mint:{url:"https://ac.blooket.com/marketassets/blooks/mint.svg",set:"Color",rarity:"Common",teamName:"Mint Team",color:"#aaf0d1"},Salmon:{url:"https://ac.blooket.com/marketassets/blooks/salmon.svg",set:"Color",rarity:"Common",teamName:"Salmon Team",color:"#fa8072"},Burgandy:{url:"https://ac.blooket.com/marketassets/blooks/burgandy.svg",set:"Color",rarity:"Common",teamName:"Burgandy Team",color:"#99254d"},"Baby Blue":{url:"https://ac.blooket.com/marketassets/blooks/babyblue.svg",set:"Color",rarity:"Common",teamName:"Baby Blue Team",color:"#99ccff"},Dust:{url:"https://ac.blooket.com/marketassets/blooks/dust.svg",set:"Color",rarity:"Common",teamName:"Dust Team",color:"#999966"},Brown:{url:"https://ac.blooket.com/marketassets/blooks/brown.svg",set:"Color",rarity:"Common",teamName:"Brown Team",color:"#86592d"},"Dull Blue":{url:"https://ac.blooket.com/marketassets/blooks/dull.svg",set:"Color",rarity:"Common",teamName:"Dim Blue Team",color:"#666699"},Yellow:{url:"https://ac.blooket.com/marketassets/blooks/yellow.svg",set:"Color",rarity:"Common",teamName:"Yellow Team",color:"#ffff4d"},Blue:{url:"https://ac.blooket.com/marketassets/blooks/blue.svg",set:"Color",rarity:"Common",teamName:"Blue Team",color:"#005ce6"}},olt={Amber:{url:"https://ac.blooket.com/marketassets/blooks/amber.svg",set:"Dino",rarity:"Uncommon",teamName:"Ambitious Ambers",color:"#f7913f"},"Dino Egg":{url:"https://ac.blooket.com/marketassets/blooks/dinoegg.svg",set:"Dino",rarity:"Uncommon",teamName:"Eggcellence",color:"#d69b5a"},"Dino Fossil":{url:"https://ac.blooket.com/marketassets/blooks/dinofossil.svg",set:"Dino",rarity:"Uncommon",teamName:"Fighting Fossils",color:"#a46735"},Stegosaurus:{url:"https://ac.blooket.com/marketassets/blooks/stegosaurus.svg",set:"Dino",rarity:"Uncommon",teamName:"Hearty Herbivores",color:"#6c9355"},Velociraptor:{url:"https://ac.blooket.com/marketassets/blooks/velociraptor.svg",set:"Dino",rarity:"Rare",teamName:"Prehistorics",color:"#cf1f3d"},Brontosaurus:{url:"https://ac.blooket.com/marketassets/blooks/brontosaurus.svg",set:"Dino",rarity:"Rare",teamName:"Big Giraffes",color:"#416eb5"},Triceratops:{url:"https://ac.blooket.com/marketassets/blooks/triceratops.svg",set:"Dino",rarity:"Epic",teamName:"Daring Dinos",color:"#f1613a"},"Tyrannosaurus Rex":{url:"https://ac.blooket.com/marketassets/blooks/tyrannosaurusrex.svg",set:"Dino",rarity:"Legendary",teamName:"The Terror",color:"#6c9355"}},QL={Chick:{url:"https://ac.blooket.com/marketassets/blooks/chick.svg",set:"Farm Animal",rarity:"Common",teamName:"Happy Hatchers",color:"#ffcd05"},Chicken:{url:"https://ac.blooket.com/marketassets/blooks/chicken.svg",set:"Farm Animal",rarity:"Common",teamName:"Early Birds",color:"#ed1c24"},Cow:{url:"https://ac.blooket.com/marketassets/blooks/cow.svg",set:"Farm Animal",rarity:"Common",teamName:"Udder Chaos",color:"#58595b"},Goat:{url:"https://ac.blooket.com/marketassets/blooks/goat.svg",set:"Farm Animal",rarity:"Common",teamName:"Goatee OG's",color:"#c59a74"},Horse:{url:"https://ac.blooket.com/marketassets/blooks/horse.svg",set:"Farm Animal",rarity:"Common",teamName:"Radical Racers",color:"#995b3c"},Pig:{url:"https://ac.blooket.com/marketassets/blooks/pig.svg",set:"Farm Animal",rarity:"Common",teamName:"Orderly Oinkers",color:"#f6a9cb"},Sheep:{url:"https://ac.blooket.com/marketassets/blooks/sheep.svg",set:"Farm Animal",rarity:"Common",teamName:"Wool Winners",color:"#414042"},Duck:{url:"https://ac.blooket.com/marketassets/blooks/duck.svg",set:"Farm Animal",rarity:"Common",teamName:"Quirky Quackers",color:"#4ab96d"},Alpaca:{url:"https://ac.blooket.com/marketassets/blooks/alpaca.svg",set:"Farm Animal",rarity:"Common",teamName:"Fluffy Friends",color:"#d4803c"}},KL={Bear:{url:"https://ac.blooket.com/marketassets/blooks/bear.svg",set:"Forest Animal",rarity:"Common",teamName:"Bear Necessities",color:"#995b3c"},Moose:{url:"https://ac.blooket.com/marketassets/blooks/moose.svg",set:"Forest Animal",rarity:"Common",teamName:"Moose Caboose",color:"#995b3c"},Fox:{url:"https://ac.blooket.com/marketassets/blooks/fox.svg",set:"Forest Animal",rarity:"Common",teamName:"Swifty Swipers",color:"#f49849"},Raccoon:{url:"https://ac.blooket.com/marketassets/blooks/raccoon.svg",set:"Forest Animal",rarity:"Common",teamName:"Trash Pandas",color:"#6d6e71"},Squirrel:{url:"https://ac.blooket.com/marketassets/blooks/squirrel.svg",set:"Forest Animal",rarity:"Common",teamName:"Nutty Buddies",color:"#d25927"},Owl:{url:"https://ac.blooket.com/marketassets/blooks/owl.svg",set:"Forest Animal",rarity:"Common",teamName:"Hooooooooo",color:"#594a42"},Hedgehog:{url:"https://ac.blooket.com/marketassets/blooks/hedgehog.svg",set:"Forest Animal",rarity:"Common",teamName:"Spikey Friends",color:"#3f312b"},Deer:{url:"https://ac.blooket.com/marketassets/blooks/deer.svg",set:"Forest Animal",rarity:"Common",teamName:"Dashing Deer",color:"#c2541f"},Wolf:{url:"https://ac.blooket.com/marketassets/blooks/wolf.svg",set:"Forest Animal",rarity:"Common",teamName:"The Pack",color:"#7b7c81"},Beaver:{url:"https://ac.blooket.com/marketassets/blooks/beaver.svg",set:"Forest Animal",rarity:"Common",teamName:"Building Beavers",color:"#bd6231"}},llt={"Rainbow Jellyfish":{url:"https://ac.blooket.com/marketassets/blooks/rainbowjellyfish.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Underwater Disco",color:"#c9d6ed"},"Blizzard Clownfish":{url:"https://ac.blooket.com/marketassets/blooks/blizzardclownfish.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Winter Circus",color:"#dae6f5"},"Lovely Frog":{url:"https://ac.blooket.com/marketassets/blooks/lovelyfrog.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Cute Companions",color:"#f38db6"},"Lucky Frog":{url:"https://ac.blooket.com/marketassets/blooks/luckyfrog.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Lucky Leapers",color:"#4eb151"},"Spring Frog":{url:"https://ac.blooket.com/marketassets/blooks/springfrog.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Spring Spirit",color:"#f2bd8c"},"Poison Dart Frog":{url:"https://ac.blooket.com/marketassets/blooks/poisondartfrog.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"TOXIC HAZARD",color:"#ffcb29"},"Lucky Hamster":{url:"https://ac.blooket.com/marketassets/blooks/luckyhamster.svg",set:"Hidden",realSet:"Pet",rarity:"Chroma",teamName:"Little Luckies",color:"#17a34a"},"Lucky Bee":{url:"https://ac.blooket.com/marketassets/blooks/luckybee.svg",set:"Hidden",realSet:"Bug",rarity:"Chroma",teamName:"Lucky Bees",color:"#23ad51"},"Chocolate Rabbit":{url:"https://ac.blooket.com/marketassets/blooks/chocolaterabbit.svg",set:"Hidden",realSet:"Pet",rarity:"Chroma",teamName:"Ready Rabbits",color:"#914b32"},"Spring Rabbit":{url:"https://ac.blooket.com/marketassets/blooks/springrabbit.svg",set:"Hidden",realSet:"Pet",rarity:"Chroma",teamName:"Egg Hunters",color:"#57b5d0"},"Spring Deer":{url:"https://ac.blooket.com/marketassets/blooks/springdeer.svg",set:"Hidden",realSet:"Forest Animal",rarity:"Chroma",teamName:"Dashing Deer",color:"#fea1de"},"Lemon Crab":{url:"https://ac.blooket.com/marketassets/blooks/lemoncrab.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Citrus Claws",color:"#f7d959"},"Pirate Pufferfish":{url:"https://ac.blooket.com/marketassets/blooks/piratepufferfish.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Perfect Pirates",color:"#8b5aa5"},"Donut Blobfish":{url:"https://ac.blooket.com/marketassets/blooks/donutblobfish.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Donut Mess Up",color:"#f3c1da"},"Crimson Octopus":{url:"https://ac.blooket.com/marketassets/blooks/crimsonoctopus.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Red Team 8",color:"#b3303b"},"Rainbow Narwhal":{url:"https://ac.blooket.com/marketassets/blooks/rainbownarwhal.svg",set:"Hidden",realSet:"Aquatic",rarity:"Chroma",teamName:"Sea Unicorns",color:"#cfe8e9"},"Frost Wreath":{url:"https://ac.blooket.com/marketassets/blooks/frostwreath.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"TEAM FREEZE",color:"#2086df"},"Tropical Globe":{url:"https://ac.blooket.com/marketassets/blooks/tropicalglobe.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"WARM HUGS",color:"#fb7c2f"},"New York Snow Globe":{url:"https://ac.blooket.com/marketassets/blooks/newyorksnowglobe.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"NY Tourists",color:"#4aa891"},"London Snow Globe":{url:"https://ac.blooket.com/marketassets/blooks/londonsnowglobe.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"London Tourists",color:"#c88829"},"Japan Snow Globe":{url:"https://ac.blooket.com/marketassets/blooks/japansnowglobe.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Japan Tourists",color:"#d62027"},"Egypt Snow Globe":{url:"https://ac.blooket.com/marketassets/blooks/egyptsnowglobe.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Egypt Tourists",color:"#d47630"},"Paris Snow Globe":{url:"https://ac.blooket.com/marketassets/blooks/parissnowglobe.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Paris Tourists",color:"#858585"},"Red Sweater Snowman":{url:"https://ac.blooket.com/marketassets/blooks/redsweatersnowman.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Festive Snowmen",color:"#c12626"},"Blue Sweater Snowman":{url:"https://ac.blooket.com/marketassets/blooks/bluesweatersnowman.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Team Snow",color:"#2f4c6c"},"Elf Sweater Snowman":{url:"https://ac.blooket.com/marketassets/blooks/elfsweatersnowman.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Warm Hugs",color:"#269830"},"Holiday Elf":{url:"https://ac.blooket.com/marketassets/blooks/holidayelf.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"North Pole Employees",color:"#269628"},"Cozy Baby Penguin":{url:"https://ac.blooket.com/marketassets/blooks/cozybabypenguin.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Cozy Contestants",color:"#e45159"},"Peppermint Bark":{url:"https://ac.blooket.com/marketassets/blooks/peppermintbark.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Peppermint Bark",color:"#e0222f"},"Chilly Chameleon":{url:"https://ac.blooket.com/marketassets/blooks/chillychameleon.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Chilly Chameleons",color:"#8dc63f"},"Santa Claws":{url:"https://ac.blooket.com/marketassets/blooks/santaclaws.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Christmas Claws",color:"#ff2f32"},"Cookies Combo":{url:"https://ac.blooket.com/marketassets/blooks/cookiescombo.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Cool Cookies",color:"#bd7637"},"Chilly Flamingo":{url:"https://ac.blooket.com/marketassets/blooks/chillyflamingo.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Fly Flamingos",color:"#0fa213"},"Snowy Bush Monster":{url:"https://ac.blooket.com/marketassets/blooks/snowybushmonster.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Festive Ferns",color:"#44c649"},"Nutcracker Koala":{url:"https://ac.blooket.com/marketassets/blooks/nutcrackerkoala.svg",set:"Hidden",realSet:"Blizzard",rarity:"Chroma",teamName:"Fancy Koalas",color:"#dd2a17"},"Half a Sandwich":{url:"https://ac.blooket.com/marketassets/blooks/halfasandwich.svg",set:"Hidden",realSet:"Lunch",rarity:"Chroma",teamName:"Super Sandwiches",color:"#8cbd40"},"Ice Slime":{url:"https://ac.blooket.com/marketassets/blooks/iceslime.svg",set:"Hidden",realSet:"Ice Monster",rarity:"Chroma",teamName:"Slip n Slide",color:"#42b7ea"},"Frozen Fossil":{url:"https://ac.blooket.com/marketassets/blooks/frozenfossil.svg",set:"Hidden",realSet:"Ice Monster",rarity:"Chroma",teamName:"Ice Age",color:"#9ed2ef"},"Ice Crab":{url:"https://ac.blooket.com/marketassets/blooks/icecrab.svg",set:"Hidden",realSet:"Ice Monster",rarity:"Chroma",teamName:"ICE ICE BABY",color:"#3ea8cf"},"Rainbow Panda":{url:"https://ac.blooket.com/marketassets/blooks/rainbowpanda.svg",set:"Hidden",realSet:"Safari",rarity:"Chroma",teamName:"The Rainbows",color:"#2f2c38"},"White Peacock":{url:"https://ac.blooket.com/marketassets/blooks/whitepeacock.svg",set:"Hidden",realSet:"Safari",rarity:"Chroma",teamName:"Fast Feathers",color:"#69c1d3"},"Tiger Zebra":{url:"https://ac.blooket.com/marketassets/blooks/tigerzebra.svg",set:"Hidden",realSet:"Safari",rarity:"Chroma",teamName:"Agent Zs",color:"#f18221"},"Teal Platypus":{url:"https://ac.blooket.com/marketassets/blooks/tealplatypus.svg",set:"Hidden",realSet:"Outback",rarity:"Chroma",teamName:"Detectives",color:"#1fa49f"},"Golden Pumpkin Pie":{url:"https://ac.blooket.com/marketassets/blooks/goldenpumpkinpie.svg",set:"Hidden",realSet:"Autumn",rarity:"Chroma",teamName:"Expensive Pies",color:"#ffae12"},Goldfinch:{url:"https://ac.blooket.com/marketassets/blooks/goldfinch.svg",set:"Hidden",realSet:"Autumn",rarity:"Chroma",teamName:"Goldfinch",color:"#ffbd37"},"Blue Butterfly":{url:"https://ac.blooket.com/marketassets/blooks/bluebutterfly.svg",set:"Hidden",realSet:"Bug",rarity:"Chroma",teamName:"Blue Butterflies",color:"#0123c0"},"Red Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/redastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Red Crewmates",color:"#ee2324"},"Orange Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/orangeastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Orange Crewmates",color:"#f79320"},"Yellow Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/yellowastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Yellow Crewmates",color:"#edcb1f"},"Lime Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/limeastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Lime Crewmates",color:"#61b446"},"Green Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/greenastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Green Crewmates",color:"#197b42"},"Cyan Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/cyanastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Cyan Crewmates",color:"#74cbcb"},"Blue Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/blueastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Blue Crewmates",color:"#2867b1"},"Pink Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/pinkastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Pink Crewmates",color:"#e573ac"},"Purple Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/purpleastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Purple Crewmates",color:"#9068ad"},"Brown Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/brownastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Team Galaxy",color:"#9e5a3a"},"Black Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/blackastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Team Space",color:"#413f56"},"Lovely Planet":{url:"https://ac.blooket.com/marketassets/blooks/lovelyplanet.svg",set:"Hidden",realSet:"Space",rarity:"Chroma",teamName:"Lovers",color:"#db302c"},"Lovely Peacock":{url:"https://ac.blooket.com/marketassets/blooks/lovelypeacock.svg",set:"Hidden",realSet:"Safari",rarity:"Chroma",teamName:"Lovers Too",color:"#d33535"},"Lovely Fox":{url:"https://ac.blooket.com/marketassets/blooks/lovelyfox.svg",set:"Hidden",realSet:"Forest Animal",rarity:"Chroma",teamName:"Lovers Three",color:"#af2042"},"Lovely Rabbit":{url:"https://ac.blooket.com/marketassets/blooks/lovelyrabbit.svg",set:"Hidden",realSet:"Pet",rarity:"Chroma",teamName:"Lovers Four",color:"#c52855"},"Haunted Pumpkin":{url:"https://ac.blooket.com/marketassets/blooks/hauntedpumpkin.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Haunted Helpers",color:"#939385"},"Pumpkin Cookie":{url:"https://ac.blooket.com/marketassets/blooks/pumpkincookie.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Cookie Monsters",color:"#f7941d"},"Ghost Cookie":{url:"https://ac.blooket.com/marketassets/blooks/ghostcookie.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"COOKIES",color:"#c2def4"},"Red Gummy Bear":{url:"https://ac.blooket.com/marketassets/blooks/redgummybear.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Red Gummies",color:"#d81523"},"Blue Gummy Bear":{url:"https://ac.blooket.com/marketassets/blooks/bluegummybear.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Blue Gummies",color:"#2986b6"},"Green Gummy Bear":{url:"https://ac.blooket.com/marketassets/blooks/greengummybear.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Green Gummies",color:"#01ca00"},"Skeleton Fish":{url:"https://ac.blooket.com/marketassets/blooks/skeletonfish.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Skeleton Fish",color:"#4f4559"},"Super Glider":{url:"https://ac.blooket.com/marketassets/blooks/superglider.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Super Gliders",color:"#316cdc"},"Chick Chicken":{url:"https://ac.blooket.com/marketassets/blooks/chickchicken.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Tricky Chickens",color:"#eaa622"},"Chicken Chick":{url:"https://ac.blooket.com/marketassets/blooks/chickenchick.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Tricky Chicks",color:"#9dd7f4"},"Raccoon Bandit":{url:"https://ac.blooket.com/marketassets/blooks/raccoonbandit.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Bandits",color:"#bb2222"},"Owl Sheriff":{url:"https://ac.blooket.com/marketassets/blooks/owlsheriff.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Sheriffs",color:"#84582b"},"Vampire Frog":{url:"https://ac.blooket.com/marketassets/blooks/vampirefrog.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Fanged Frogs",color:"#312222"},"Pumpkin King":{url:"https://ac.blooket.com/marketassets/blooks/pumpkinking.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Halloween Kings",color:"#c1541e"},Leprechaun:{url:"https://ac.blooket.com/marketassets/blooks/leprechaun.svg",set:"Hidden",realSet:"Forest Animal",rarity:"Chroma",teamName:"Leprechauns",color:"#17a34a"},"Anaconda Wizard":{url:"https://ac.blooket.com/marketassets/blooks/anacondawizard.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Sneaky Wizards",color:"#252165"},"Spooky Pumpkin":{url:"https://ac.blooket.com/marketassets/blooks/spookypumpkin.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Ghostly Geniuses",color:"#66f59b"},"Spooky Mummy":{url:"https://ac.blooket.com/marketassets/blooks/spookymummy.svg",set:"Hidden",realSet:"Spooky",rarity:"Chroma",teamName:"Spooky 'n' Scary",color:"#66f59b"},"Agent Owl":{url:"https://ac.blooket.com/marketassets/blooks/agentowl.svg",set:"Hidden",realSet:"Forest Animal",rarity:"Chroma",teamName:"Secret Agents",color:"#32da4e"},"Master Elf":{url:"https://ac.blooket.com/marketassets/blooks/masterelf.svg",set:"Hidden",realSet:"Medieval",rarity:"Chroma",teamName:"The Masters",color:"#3a3a3a"},"Party Pig":{url:"https://ac.blooket.com/marketassets/blooks/partypig.svg",set:"Hidden",realSet:"Farm Animal",rarity:"Chroma",teamName:"MODS",color:"#f6a9cb"},"Wise Owl":{url:"https://ac.blooket.com/marketassets/blooks/wiseowl.svg",set:"Hidden",realSet:"Forest Animal",rarity:"Unique",teamName:"Wise Winners",color:"#a55a30"},"Wise Caterpillar":{url:"https://ac.blooket.com/marketassets/blooks/wisecaterpillar.svg",set:"Hidden",realSet:"Wonderland",rarity:"Unique",teamName:"Wise Workers",color:"#a82424"},"Spooky Ghost":{url:"https://ac.blooket.com/marketassets/blooks/spookyghost.svg",set:"Hidden",realSet:"Spooky",rarity:"Mystical",teamName:"Spooksters",color:"#66f59b"},"Phantom King":{url:"https://ac.blooket.com/marketassets/blooks/phantomking.svg",set:"Hidden",realSet:"Medieval",rarity:"Mystical",teamName:"The True Kings",color:"#2cf4e1"},"Tim the Alien":{url:"https://ac.blooket.com/marketassets/blooks/timthealien.svg",set:"Hidden",realSet:"Space",rarity:"Mystical",teamName:"Tim's Friends",color:"#8dc63f"},"Rainbow Astronaut":{url:"https://ac.blooket.com/marketassets/blooks/rainbowastronaut.svg",set:"Hidden",realSet:"Space",rarity:"Mystical",teamName:"RAINBOW",color:"#9068ad"},"Hamsta Claus":{url:"https://ac.blooket.com/marketassets/blooks/hamstaclaus.svg",set:"Hidden",realSet:"Blizzard",rarity:"Mystical",teamName:"Holly Hamsters",color:"#d12626"}},ult={"Ice Bat":{url:"https://ac.blooket.com/marketassets/blooks/icebat.svg",set:"Ice Monster",rarity:"Uncommon",teamName:"Frozen Wings",color:"#295eb6"},"Ice Bug":{url:"https://ac.blooket.com/marketassets/blooks/icebug.svg",set:"Ice Monster",rarity:"Uncommon",teamName:"Bold Bugs",color:"#337ae2"},"Ice Elemental":{url:"https://ac.blooket.com/marketassets/blooks/iceelemental.svg",set:"Ice Monster",rarity:"Uncommon",teamName:"ICED",color:"#58c7f0"},"Rock Monster":{url:"https://ac.blooket.com/marketassets/blooks/rockmonster.svg",set:"Ice Monster",rarity:"Uncommon",teamName:"Ready Rocks",color:"#5a617f"},Dink:{url:"https://ac.blooket.com/marketassets/blooks/dink.svg",set:"Ice Monster",rarity:"Rare",teamName:"Ding Donk 1",color:"#8f78a5"},Donk:{url:"https://ac.blooket.com/marketassets/blooks/donk.svg",set:"Ice Monster",rarity:"Rare",teamName:"Ding Donk 2",color:"#677c9e"},"Bush Monster":{url:"https://ac.blooket.com/marketassets/blooks/bushmonster.svg",set:"Ice Monster",rarity:"Epic",teamName:"Brave Bushes",color:"#44c649"},Yeti:{url:"https://ac.blooket.com/marketassets/blooks/yeti.svg",set:"Ice Monster",rarity:"Legendary",teamName:"Everest",color:"#5a81c5"}},JL={Witch:{url:"https://ac.blooket.com/marketassets/blooks/witch.svg",set:"Medieval",rarity:"Uncommon",teamName:"Cauldron City",color:"#4ab96d"},Wizard:{url:"https://ac.blooket.com/marketassets/blooks/wizard.svg",set:"Medieval",rarity:"Uncommon",teamName:"Wiz Kids",color:"#5a459c"},Elf:{url:"https://ac.blooket.com/marketassets/blooks/elf.svg",set:"Medieval",rarity:"Uncommon",teamName:"Agile Archers",color:"#a7d054"},Fairy:{url:"https://ac.blooket.com/marketassets/blooks/fairy.svg",set:"Medieval",rarity:"Uncommon",teamName:"Mighty Myths",color:"#df6d9c"},"Slime Monster":{url:"https://ac.blooket.com/marketassets/blooks/slimemonster.svg",set:"Medieval",rarity:"Uncommon",teamName:"Slimy McSlimes",color:"#2fa04a"},Jester:{url:"https://ac.blooket.com/marketassets/blooks/jester.svg",set:"Medieval",rarity:"Rare",teamName:"Jolly Jokesters",color:"#be1e2d"},Dragon:{url:"https://ac.blooket.com/marketassets/blooks/dragon.svg",set:"Medieval",rarity:"Rare",teamName:"Fire Hazards",color:"#2fa04a"},Queen:{url:"https://ac.blooket.com/marketassets/blooks/queen.svg",set:"Medieval",rarity:"Rare",teamName:"Royal Rebels",color:"#9e1f63"},Unicorn:{url:"https://ac.blooket.com/marketassets/blooks/unicorn.svg",set:"Medieval",rarity:"Epic",teamName:"Land Narwhals",color:"#f6afce"},King:{url:"https://ac.blooket.com/marketassets/blooks/king.svg",set:"Medieval",rarity:"Legendary",teamName:"THE SQUAD",color:"#ee2640"}},hlt={Dingo:{url:"https://ac.blooket.com/marketassets/blooks/dingo.svg",set:"Outback",rarity:"Uncommon",teamName:"Daring Dingos",color:"#e38e4d"},Echidna:{url:"https://ac.blooket.com/marketassets/blooks/echidna.svg",set:"Outback",rarity:"Uncommon",teamName:"Erudite Echidnas",color:"#88766b"},Koala:{url:"https://ac.blooket.com/marketassets/blooks/koala.svg",set:"Outback",rarity:"Uncommon",teamName:"Kool Koalas",color:"#827b8b"},Kookaburra:{url:"https://ac.blooket.com/marketassets/blooks/kookaburra.svg",set:"Outback",rarity:"Uncommon",teamName:"Kind Kookaburras",color:"#4d4d85"},Platypus:{url:"https://ac.blooket.com/marketassets/blooks/platypus.svg",set:"Outback",rarity:"Rare",teamName:"Playful Platypus",color:"#9d594e"},Joey:{url:"https://ac.blooket.com/marketassets/blooks/joey.svg",set:"Outback",rarity:"Rare",teamName:"Jumping Joeys",color:"#9f693c"},Kangaroo:{url:"https://ac.blooket.com/marketassets/blooks/kangaroo.svg",set:"Outback",rarity:"Rare",teamName:"Kicking Kangaroos",color:"#b9853f"},Crocodile:{url:"https://ac.blooket.com/marketassets/blooks/crocodile.svg",set:"Outback",rarity:"Epic",teamName:"The Crocs",color:"#679b4f"},"Sugar Glider":{url:"https://ac.blooket.com/marketassets/blooks/sugarglider.svg",set:"Outback",rarity:"Legendary",teamName:"Fancy Flyers",color:"#131f2b"}},ZL={Dog:{url:"https://ac.blooket.com/marketassets/blooks/dog.svg",set:"Pet",rarity:"Common",teamName:"Diligent Doggos",color:"#995b3c"},Cat:{url:"https://ac.blooket.com/marketassets/blooks/cat.svg",set:"Pet",rarity:"Common",teamName:"Meow Mates",color:"#f49849"},Rabbit:{url:"https://ac.blooket.com/marketassets/blooks/rabbit.svg",set:"Pet",rarity:"Common",teamName:"Fluffy Bunnies",color:"#e7bf9a"},Goldfish:{url:"https://ac.blooket.com/marketassets/blooks/goldfish.svg",set:"Pet",rarity:"Common",teamName:"Pretty Fishies",color:"#f18221"},Hamster:{url:"https://ac.blooket.com/marketassets/blooks/hamster.svg",set:"Pet",rarity:"Common",teamName:"HAMSTA TIME",color:"#ce9176"},Turtle:{url:"https://ac.blooket.com/marketassets/blooks/turtle.svg",set:"Pet",rarity:"Common",teamName:"Shell Shocked",color:"#619a3c"},Kitten:{url:"https://ac.blooket.com/marketassets/blooks/kitten.svg",set:"Pet",rarity:"Common",teamName:"Purrfect People",color:"#58595b"},Puppy:{url:"https://ac.blooket.com/marketassets/blooks/puppy.svg",set:"Pet",rarity:"Common",teamName:"Super Puppers",color:"#414042"}},clt={Panda:{url:"https://ac.blooket.com/marketassets/blooks/panda.svg",set:"Safari",rarity:"Uncommon",teamName:"Prime Pandas",color:"#2f2c38"},Sloth:{url:"https://ac.blooket.com/marketassets/blooks/sloth.svg",set:"Safari",rarity:"Uncommon",teamName:"Silly Sloths",color:"#765b46"},Tenrec:{url:"https://ac.blooket.com/marketassets/blooks/tenrec.svg",set:"Safari",rarity:"Uncommon",teamName:"Troubling Tenrecs",color:"#ffcb29"},Flamingo:{url:"https://ac.blooket.com/marketassets/blooks/flamingo.svg",set:"Safari",rarity:"Uncommon",teamName:"Pink And Proud",color:"#f38db6"},Zebra:{url:"https://ac.blooket.com/marketassets/blooks/zebra.svg",set:"Safari",rarity:"Uncommon",teamName:"Super Stripes",color:"#2f2c38"},Elephant:{url:"https://ac.blooket.com/marketassets/blooks/elephant.svg",set:"Safari",rarity:"Rare",teamName:"Erudite Elephants",color:"#bac4e4"},Lemur:{url:"https://ac.blooket.com/marketassets/blooks/lemur.svg",set:"Safari",rarity:"Rare",teamName:"Leaping Lemurs",color:"#aeaba7"},Peacock:{url:"https://ac.blooket.com/marketassets/blooks/peacock.svg",set:"Safari",rarity:"Rare",teamName:"Fearless Feathers",color:"#2b3990"},Chameleon:{url:"https://ac.blooket.com/marketassets/blooks/chameleon.svg",set:"Safari",rarity:"Epic",teamName:"Cool Chameleons",color:"#8dc63f"},Lion:{url:"https://ac.blooket.com/marketassets/blooks/lion.svg",set:"Safari",rarity:"Legendary",teamName:"The Pride",color:"#f47e20"}},dlt={Earth:{url:"https://ac.blooket.com/marketassets/blooks/earth.svg",set:"Space",rarity:"Uncommon",teamName:"Earthlings",color:"#416eb5"},Meteor:{url:"https://ac.blooket.com/marketassets/blooks/meteor.svg",set:"Space",rarity:"Uncommon",teamName:"Meteorites",color:"#c68c3c"},Stars:{url:"https://ac.blooket.com/marketassets/blooks/stars.svg",set:"Space",rarity:"Uncommon",teamName:"Shooting Stars",color:"#19184d"},Alien:{url:"https://ac.blooket.com/marketassets/blooks/alien.svg",set:"Space",rarity:"Uncommon",teamName:"Awesome Aliens",color:"#8dc63f"},Planet:{url:"https://ac.blooket.com/marketassets/blooks/planet.svg",set:"Space",rarity:"Rare",teamName:"Galactic Warriors",color:"#9dc6ea"},UFO:{url:"https://ac.blooket.com/marketassets/blooks/ufo.svg",set:"Space",rarity:"Rare",teamName:"Unidentified Students",color:"#a15095"},Spaceship:{url:"https://ac.blooket.com/marketassets/blooks/spaceship.svg",set:"Space",rarity:"Epic",teamName:"We Have a Problem",color:"#ffcb29"},Astronaut:{url:"https://ac.blooket.com/marketassets/blooks/astronaut.svg",set:"Space",rarity:"Legendary",teamName:"Astro Aviators",color:"#9bd4ee"}},flt={Pumpkin:{url:"https://ac.blooket.com/marketassets/blooks/pumpkin.svg",set:"Spooky",rarity:"Uncommon",teamName:"Pumpkin Smashers",color:"#f7941d"},"Swamp Monster":{url:"https://ac.blooket.com/marketassets/blooks/swampmonster.svg",set:"Spooky",rarity:"Uncommon",teamName:"Swamp Things",color:"#2fa04a"},Frankenstein:{url:"https://ac.blooket.com/marketassets/blooks/frankenstein.svg",set:"Spooky",rarity:"Uncommon",teamName:"The Monsters",color:"#56884b"},Vampire:{url:"https://ac.blooket.com/marketassets/blooks/vampire.svg",set:"Spooky",rarity:"Uncommon",teamName:"Valiant Vampires",color:"#a15095"},Zombie:{url:"https://ac.blooket.com/marketassets/blooks/zombie.svg",set:"Spooky",rarity:"Uncommon",teamName:"Walking Dead",color:"#80a55d"},Mummy:{url:"https://ac.blooket.com/marketassets/blooks/mummy.svg",set:"Spooky",rarity:"Rare",teamName:"Motivated Mummies",color:"#e8d8c7"},"Caramel Apple":{url:"https://ac.blooket.com/marketassets/blooks/caramelapple2.svg",set:"Spooky",rarity:"Rare",teamName:"Caring Caramels",color:"#8d432a"},"Candy Corn":{url:"https://ac.blooket.com/marketassets/blooks/candycorn.svg",set:"Spooky",rarity:"Rare",teamName:"Kind Candy",color:"#f06708"},Crow:{url:"https://ac.blooket.com/marketassets/blooks/crow.svg",set:"Spooky",rarity:"Rare",teamName:"Confident Crows",color:"#26282C"},"Vampire Bat":{url:"https://ac.blooket.com/marketassets/blooks/vampirebat.svg",set:"Spooky",rarity:"Rare",teamName:"Vampire Bats",color:"#231f20"},Werewolf:{url:"https://ac.blooket.com/marketassets/blooks/werewolf.svg",set:"Spooky",rarity:"Epic",teamName:"Werewolf Warriors",color:"#594a42"},Ghost:{url:"https://ac.blooket.com/marketassets/blooks/ghost.svg",set:"Spooky",rarity:"Legendary",teamName:"BOO!",color:"#c2def4"}},qL={Tiger:{url:"https://ac.blooket.com/marketassets/blooks/tiger.svg",set:"Tropical Animal",rarity:"Common",teamName:"Brave Bengals",color:"#f18221"},Orangutan:{url:"https://ac.blooket.com/marketassets/blooks/orangutan.svg",set:"Tropical Animal",rarity:"Common",teamName:"Hairy Hipsters",color:"#bc6234"},Cockatoo:{url:"https://ac.blooket.com/marketassets/blooks/cockatoo.svg",set:"Tropical Animal",rarity:"Common",teamName:"Not Chickens",color:"#7ca1d5"},Parrot:{url:"https://ac.blooket.com/marketassets/blooks/parrot.svg",set:"Tropical Animal",rarity:"Common",teamName:"Polly's People",color:"#ed1c24"},Anaconda:{url:"https://ac.blooket.com/marketassets/blooks/anaconda.svg",set:"Tropical Animal",rarity:"Common",teamName:"Sneaky Snakes",color:"#8a9143"},Jaguar:{url:"https://ac.blooket.com/marketassets/blooks/jaguar.svg",set:"Tropical Animal",rarity:"Common",teamName:"Super Spotters",color:"#fbb040"},Macaw:{url:"https://ac.blooket.com/marketassets/blooks/macaw.svg",set:"Tropical Animal",rarity:"Common",teamName:"CA CAWWWW",color:"#00aeef"},Toucan:{url:"https://ac.blooket.com/marketassets/blooks/toucan.svg",set:"Tropical Animal",rarity:"Common",teamName:"Toucan't Beat Us",color:"#ffca34"},Panther:{url:"https://ac.blooket.com/marketassets/blooks/panther.svg",set:"Tropical Animal",rarity:"Common",teamName:"Wakanda Forever",color:"#2f2c38"},Capuchin:{url:"https://ac.blooket.com/marketassets/blooks/capuchinmonkey.svg",set:"Tropical Animal",rarity:"Common",teamName:"Monkey Madness",color:"#e0b0a6"},Gorilla:{url:"https://ac.blooket.com/marketassets/blooks/gorilla.svg",set:"Tropical Animal",rarity:"Common",teamName:"Great Gorillas",color:"#414042"},Hippo:{url:"https://ac.blooket.com/marketassets/blooks/hippo.svg",set:"Tropical Animal",rarity:"Common",teamName:"Hip Hippos",color:"#95889e"},Rhino:{url:"https://ac.blooket.com/marketassets/blooks/rhino.svg",set:"Tropical Animal",rarity:"Common",teamName:"Ready Rhinos",color:"#9da7a5"},Giraffe:{url:"https://ac.blooket.com/marketassets/blooks/giraffe.svg",set:"Tropical Animal",rarity:"Common",teamName:"Tall Tutors",color:"#f0c649"}},plt={"Two of Spades":{url:"https://ac.blooket.com/marketassets/blooks/twoofspades.svg",set:"Wonderland",rarity:"Uncommon",teamName:"Dueling Deuces",color:"#414042"},"Eat Me":{url:"https://ac.blooket.com/marketassets/blooks/eat.svg",set:"Wonderland",rarity:"Uncommon",teamName:"Hungry Heroes",color:"#d58c55"},"Drink Me":{url:"https://ac.blooket.com/marketassets/blooks/drink.svg",set:"Wonderland",rarity:"Uncommon",teamName:"Potion Power",color:"#dd7399"},Alice:{url:"https://ac.blooket.com/marketassets/blooks/alice.svg",set:"Wonderland",rarity:"Uncommon",teamName:"Wonderland",color:"#4cc9f5"},"Queen of Hearts":{url:"https://ac.blooket.com/marketassets/blooks/queenofhearts.svg",set:"Wonderland",rarity:"Uncommon",teamName:"",color:"#d62027"},Dormouse:{url:"https://ac.blooket.com/marketassets/blooks/dormouse.svg",set:"Wonderland",rarity:"Rare",teamName:"Short and Stout",color:"#89d6f8"},"White Rabbit":{url:"https://ac.blooket.com/marketassets/blooks/whiterabbit.svg",set:"Wonderland",rarity:"Rare",teamName:"Classy Classmates",color:"#ffcd05"},"Cheshire Cat":{url:"https://ac.blooket.com/marketassets/blooks/cheshirecat.svg",set:"Wonderland",rarity:"Rare",teamName:"Cool Cats",color:"#dd7399"},Caterpillar:{url:"https://ac.blooket.com/marketassets/blooks/caterpillar.svg",set:"Wonderland",rarity:"Epic",teamName:"Caterpillar Cuties",color:"#00c0f3"},"Mad Hatter":{url:"https://ac.blooket.com/marketassets/blooks/madhatter.svg",set:"Wonderland",rarity:"Epic",teamName:"Goofy Gurus",color:"#914f93"},"King of Hearts":{url:"https://ac.blooket.com/marketassets/blooks/kingofhearts.svg",set:"Wonderland",rarity:"Legendary",teamName:"The Royals",color:"#c62127"}},vlt={Deckhand:{url:"https://ac.blooket.com/marketassets/blooks/deckhand.svg",set:"Pirate",rarity:"Uncommon",teamName:"Deckhands",color:"#a71c12"},Buccaneer:{url:"https://ac.blooket.com/marketassets/blooks/buccaneer.svg",set:"Pirate",rarity:"Uncommon",teamName:"Buccaneers",color:"#7244ae"},Swashbuckler:{url:"https://ac.blooket.com/marketassets/blooks/swashbuckler.svg",set:"Pirate",rarity:"Uncommon",teamName:"Swashbucklers",color:"#a71c12"},"Treasure Map":{url:"https://ac.blooket.com/marketassets/blooks/treasuremap.svg",set:"Pirate",rarity:"Uncommon",teamName:"Treasure Hunters",color:"#b29059"},Seagull:{url:"https://ac.blooket.com/marketassets/blooks/seagull.svg",set:"Pirate",rarity:"Uncommon",teamName:"Serene Seagulls",color:"#ffaa05"},"Jolly Pirate":{url:"https://ac.blooket.com/marketassets/blooks/jollypirate.svg",set:"Pirate",rarity:"Rare",teamName:"Jolly Pirates",color:"#a71c12"},"Pirate Ship":{url:"https://ac.blooket.com/marketassets/blooks/pirateship.svg",set:"Pirate",rarity:"Rare",teamName:"The Crew",color:"#1a91dd"},Kraken:{url:"https://ac.blooket.com/marketassets/blooks/kraken.svg",set:"Pirate",rarity:"Epic",teamName:"Kool Krakens",color:"#412337"},"Captain Blackbeard":{url:"https://ac.blooket.com/marketassets/blooks/captainblackbeard.svg",set:"Pirate",rarity:"Legendary",teamName:"Blackbeard's Best",color:"#2b2b2b"}},mlt={Ant:{url:"https://ac.blooket.com/marketassets/blooks/ant.svg",set:"Bug",rarity:"Uncommon",teamName:"Awesome Ants",color:"#4c6995"},"Rhino Beetle":{url:"https://ac.blooket.com/marketassets/blooks/rhinobeetle.svg",set:"Bug",rarity:"Uncommon",teamName:"Big Beetles",color:"#994c39"},Ladybug:{url:"https://ac.blooket.com/marketassets/blooks/ladybug.svg",set:"Bug",rarity:"Uncommon",teamName:"Lucky Ladybugs",color:"#d91821"},Fly:{url:"https://ac.blooket.com/marketassets/blooks/fly.svg",set:"Bug",rarity:"Uncommon",teamName:"Fly Flies",color:"#166068"},Worm:{url:"https://ac.blooket.com/marketassets/blooks/worm.svg",set:"Bug",rarity:"Rare",teamName:"Wacky Worms",color:"#6de841"},Bee:{url:"https://ac.blooket.com/marketassets/blooks/bee.svg",set:"Bug",rarity:"Rare",teamName:"Bumbling Bees",color:"#eba121"},Mantis:{url:"https://ac.blooket.com/marketassets/blooks/mantis.svg",set:"Bug",rarity:"Epic",teamName:"Many Mantises",color:"#42a238"},Butterfly:{url:"https://ac.blooket.com/marketassets/blooks/butterfly.svg",set:"Bug",rarity:"Legendary",teamName:"Bold Butterflies",color:"#f95e0c"}},glt={Bananas:{url:"https://ac.blooket.com/marketassets/blooks/bananas.svg",set:"Lunch",rarity:"Uncommon",teamName:"The Bananas",color:"#ffcd10"},Watermelon:{url:"https://ac.blooket.com/marketassets/blooks/watermelon.svg",set:"Lunch",rarity:"Uncommon",teamName:"The Watermelon",color:"#f04c70"},Cheese:{url:"https://ac.blooket.com/marketassets/blooks/cheese.svg",set:"Lunch",rarity:"Uncommon",teamName:"The Cheese",color:"#f8aa2c"},Doughnut:{url:"https://ac.blooket.com/marketassets/blooks/doughnut.svg",set:"Lunch",rarity:"Uncommon",teamName:"The Doughnuts",color:"#e77ae7"},Taco:{url:"https://ac.blooket.com/marketassets/blooks/taco.svg",set:"Lunch",rarity:"Rare",teamName:"The Tacos",color:"#e3944d"},Bao:{url:"https://ac.blooket.com/marketassets/blooks/bao.svg",set:"Lunch",rarity:"Rare",teamName:"The Bao",color:"#d3751e"},Sushi:{url:"https://ac.blooket.com/marketassets/blooks/sushi.svg",set:"Lunch",rarity:"Rare",teamName:"The Sushi",color:"#31642f"},Cheeseburger:{url:"https://ac.blooket.com/marketassets/blooks/cheeseburger.svg",set:"Lunch",rarity:"Epic",teamName:"The Cheeseburgers",color:"#8c4e35"},Sandwich:{url:"https://ac.blooket.com/marketassets/blooks/sandwich.svg",set:"Lunch",rarity:"Legendary",teamName:"The Sandwiches",color:"#af6d2f"}},ss=Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi(Fi({},QL),ZL),KL),qL),XL),JL),plt),slt),dlt),nlt),elt),clt),olt),ult),hlt),vlt),mlt),glt),flt),ilt),rlt),llt),alt);var ylt=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),d,S=[],s;try{for(;(t===void 0||t-- >0)&&!(d=n.next()).done;)S.push(d.value)}catch(g){s={error:g}}finally{try{d&&!d.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return S},xlt=function(e){var t=e.split(/ ?; ?/);return t.reduce(function(r,n){var d=ylt(n.split(/ ?: ?/),2),S=d[0],s=d[1];return S&&s&&(r[S.replace(/-(\w)/g,function(g,i){return i.toUpperCase()})]=Number.isNaN(Number(s))?s:Number(s)),r},{})};function blt(e){e=6;for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r="",n=e;n>0;--n)r+=t[Math.round(Math.random()*(t.length-1))];return r}var Slt=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],f8={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},uy=function(){return uy=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(e[d]=t[d])}return e},uy.apply(this,arguments)},tF=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),d,S=[],s;try{for(;(t===void 0||t-- >0)&&!(d=n.next()).done;)S.push(d.value)}catch(g){s={error:g}}finally{try{d&&!d.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return S},eF=function(e,t,r){if(arguments.length===2)for(var n=0,d=t.length,S;n<d;n++)(S||!(n in t))&&(S||(S=Array.prototype.slice.call(t,0,n)),S[n]=t[n]);return e.concat(S||Array.prototype.slice.call(t))};function wlt(e,t){var r={key:t};if(e instanceof Element){var n=e.getAttribute("class");n&&(r.className=n),eF([],tF(e.attributes),!1).forEach(function(d){switch(d.name){case"class":break;case"style":r[d.name]=xlt(d.value);break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":r[f8[d.name]||d.name]=!0;break;default:r[f8[d.name]||d.name]=d.value}})}return r}function Tlt(e,t,r){var n=eF([],tF(e),!1).map(function(d,S){return qE(d,uy(uy({},r),{index:S,level:t+1}))}).filter(Boolean);return n.length?n:null}function Clt(e){return/[a-z]+[A-Z]+[a-z]+/.test(e)?e:e.toLowerCase()}function qE(e,t){var r;if(t===void 0&&(t={}),!e||!(e instanceof Node))return null;var n=t.actions,d=n===void 0?[]:n,S=t.index,s=S===void 0?0:S,g=t.level,i=g===void 0?0:g,o=t.randomKey,m=e,c="".concat(i,"-").concat(s),l=[];if(o&&i===0&&(c="".concat(blt(),"-").concat(c)),Array.isArray(d)&&d.forEach(function(f){f.condition(m,c,i)&&(typeof f.pre=="function"&&(m=f.pre(m,c,i),m instanceof Node||(m=e)),typeof f.post=="function"&&l.push(f.post(m,c,i)))}),l.length)return l;switch(m.nodeType){case 1:return _i.createElement(Clt(m.nodeName),wlt(m,c),Tlt(m.childNodes,i,t));case 3:{var h=((r=m.nodeValue)===null||r===void 0?void 0:r.toString())||"";if(/^\s+$/.test(h)&&!/[\u00A0\u202F]/.test(h))return null;if(!m.parentNode)return h;var a=m.parentNode.nodeName.toLowerCase();return Slt.includes(a)?(/\S/.test(h)&&console.warn("A textNode is not allowed inside '".concat(a,`'. Your text "`).concat(h,'" will be ignored')),null):h}case 8:return null;default:return null}}function Elt(e,t){if(t===void 0&&(t={}),!e||typeof e!="string")return null;var r=t.nodeOnly,n=r===void 0?!1:r,d=t.selector,S=d===void 0?"body > *":d,s=t.type,g=s===void 0?"text/html":s;try{var i=new DOMParser,o=i.parseFromString(e,g),m=o.querySelector(S);if(!(m instanceof Node))throw new TypeError("Error parsing input");return n?m:qE(m,t)}catch(c){}return null}function p8(e,t){return t===void 0&&(t={}),typeof e=="string"?Elt(e,t):e instanceof Node?qE(e,t):null}var iF={exports:{}};(function(e){(function(){var t=!!(typeof window!="undefined"&&window.document&&window.document.createElement),r={canUseDOM:t,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=r:window.ExecutionEnvironment=r})()})(iF);var klt=iF.exports,Aa={IDLE:"idle",LOADING:"loading",LOADED:"loaded",FAILED:"failed",READY:"ready",UNSUPPORTED:"unsupported"};function ES(){return klt.canUseDOM}function Plt(){return Alt()&&typeof window!="undefined"&&window!==null}function Alt(){if(!document)return!1;var e=document.createElement("div");e.innerHTML="<svg />";var t=e.firstChild;return!!t&&t.namespaceURI==="http://www.w3.org/2000/svg"}function Rlt(e){return e[Math.floor(Math.random()*e.length)]}function Ilt(e){for(var t="abcdefghijklmnopqrstuvwxyz",r="1234567890",n="".concat(t).concat(t.toUpperCase()).concat(r),d="",S=0;S<e;S++)d+=Rlt(n);return d}function Mlt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n={};for(var d in e)({}).hasOwnProperty.call(e,d)&&(t.includes(d)||(n[d]=e[d]));return n}var Blt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,d){n.__proto__=d}||function(n,d){for(var S in d)Object.prototype.hasOwnProperty.call(d,S)&&(n[S]=d[S])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V2=function(){return V2=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(e[d]=t[d])}return e},V2.apply(this,arguments)},Olt=function(e,t,r,n){function d(S){return S instanceof r?S:new r(function(s){s(S)})}return new(r||(r=Promise))(function(S,s){function g(m){try{o(n.next(m))}catch(c){s(c)}}function i(m){try{o(n.throw(m))}catch(c){s(c)}}function o(m){m.done?S(m.value):d(m.value).then(g,i)}o((n=n.apply(e,t||[])).next())})},Nlt=function(e,t){var r={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},n,d,S,s;return s={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function g(o){return function(m){return i([o,m])}}function i(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(r=0)),r;)try{if(n=1,d&&(S=o[0]&2?d.return:o[0]?d.throw||((S=d.return)&&S.call(d),0):d.next)&&!(S=S.call(d,o[1])).done)return S;switch(d=0,S&&(o=[o[0]&2,S.value]),o[0]){case 0:case 1:S=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,d=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(S=r.trys,!(S=S.length>0&&S[S.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!S||o[1]>S[0]&&o[1]<S[3])){r.label=o[1];break}if(o[0]===6&&r.label<S[1]){r.label=S[1],S=o;break}if(S&&r.label<S[2]){r.label=S[2],r.ops.push(o);break}S[2]&&r.ops.pop(),r.trys.pop();continue}o=t.call(e,r)}catch(m){o=[6,m],d=0}finally{n=S=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},v8=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),d,S=[],s;try{for(;(t===void 0||t-- >0)&&!(d=n.next()).done;)S.push(d.value)}catch(g){s={error:g}}finally{try{d&&!d.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return S},Llt=function(e,t,r){if(r||arguments.length===2)for(var n=0,d=t.length,S;n<d;n++)(S||!(n in t))&&(S||(S=Array.prototype.slice.call(t,0,n)),S[n]=t[n]);return e.concat(S||Array.prototype.slice.call(t))},Mh=Object.create(null),af=function(e){Blt(t,e);function t(r){var n=e.call(this,r)||this;return Object.defineProperty(n,"hash",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"isActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"isInitialized",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(n,"handleError",{enumerable:!0,configurable:!0,writable:!0,value:function(d){var S=n.props.onError,s=d.message==="Browser does not support SVG"?Aa.UNSUPPORTED:Aa.FAILED;n.isActive&&n.setState({status:s},function(){typeof S=="function"&&S(d)})}}),Object.defineProperty(n,"handleLoad",{enumerable:!0,configurable:!0,writable:!0,value:function(d,S){S===void 0&&(S=!1),n.isActive&&n.setState({content:d,hasCache:S,status:Aa.LOADED},n.getElement)}}),Object.defineProperty(n,"request",{enumerable:!0,configurable:!0,writable:!0,value:function(){return Olt(n,void 0,void 0,function(){var d,S,s,g,i,o,m,c,l,h,f,a,f;return Nlt(this,function(p){switch(p.label){case 0:d=this.props,S=d.cacheRequests,s=d.fetchOptions,g=d.src,S&&(Mh[g]={content:"",status:Aa.LOADING}),p.label=1;case 1:return p.trys.push([1,4,,5]),[4,fetch(g,s)];case 2:if(i=p.sent(),o=i.headers.get("content-type"),m=v8((o||"").split(/ ?; ?/),1),c=m[0],i.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some(function(u){return c.includes(u)}))throw new Error("Content type isn't valid: ".concat(c));return[4,i.text()];case 3:return l=p.sent(),h=this.props.src,g!==h?(Mh[g].status===Aa.LOADING&&delete Mh[g],[2]):(this.handleLoad(l),S&&(f=Mh[g],f&&(f.content=l,f.status=Aa.LOADED)),[3,5]);case 4:return a=p.sent(),this.handleError(a),S&&(f=Mh[g],f&&delete Mh[g]),[3,5];case 5:return[2]}})})}}),n.state={content:"",element:null,hasCache:!!r.cacheRequests&&!!Mh[r.src],status:Aa.IDLE},n.hash=r.uniqueHash||Ilt(8),n}return Object.defineProperty(t.prototype,"componentDidMount",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isActive=!0,!(!ES()||this.isInitialized)){var r=this.state.status,n=this.props.src;try{if(r===Aa.IDLE){if(!Plt())throw new Error("Browser does not support SVG");if(!n)throw new Error("Missing src");this.load()}}catch(d){this.handleError(d)}this.isInitialized=!0}}}),Object.defineProperty(t.prototype,"componentDidUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,n){if(ES()){var d=this.state,S=d.hasCache,s=d.status,g=this.props,i=g.onLoad,o=g.src;if(n.status!==Aa.READY&&s===Aa.READY&&i&&i(o,S),r.src!==o){if(!o){this.handleError(new Error("Missing src"));return}this.load()}}}}),Object.defineProperty(t.prototype,"componentWillUnmount",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isActive=!1}}),Object.defineProperty(t.prototype,"getElement",{enumerable:!1,configurable:!0,writable:!0,value:function(){try{var r=this.getNode(),n=p8(r);if(!n||!_i.isValidElement(n))throw new Error("Could not convert the src to a React element");this.setState({element:n,status:Aa.READY})}catch(d){this.handleError(new Error(d.message))}}}),Object.defineProperty(t.prototype,"getNode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this.props,n=r.description,d=r.title;try{var S=this.processSVG(),s=p8(S,{nodeOnly:!0});if(!s||!(s instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");var g=this.updateSVGAttributes(s);if(n){var i=g.querySelector("desc");i&&i.parentNode&&i.parentNode.removeChild(i);var o=document.createElementNS("http://www.w3.org/2000/svg","desc");o.innerHTML=n,g.prepend(o)}if(typeof d!="undefined"){var m=g.querySelector("title");if(m&&m.parentNode&&m.parentNode.removeChild(m),d){var c=document.createElementNS("http://www.w3.org/2000/svg","title");c.innerHTML=d,g.prepend(c)}}return g}catch(l){return this.handleError(l)}}}),Object.defineProperty(t.prototype,"load",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;this.isActive&&this.setState({content:"",element:null,hasCache:!1,status:Aa.LOADING},function(){var n=r.props,d=n.cacheRequests,S=n.src,s=d&&Mh[S];if(s&&s.status===Aa.LOADED){r.handleLoad(s.content,!0);return}var g=S.match(/^data:image\/svg[^,]*?(;base64)?,(.*)/u),i;if(g?i=g[1]?window.atob(g[2]):decodeURIComponent(g[2]):S.includes("<svg")&&(i=S),i){r.handleLoad(i);return}r.request()})}}),Object.defineProperty(t.prototype,"processSVG",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this.state.content,n=this.props.preProcessor;return n?n(r):r}}),Object.defineProperty(t.prototype,"updateSVGAttributes",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=this,d=this.props,S=d.baseURL,s=S===void 0?"":S,g=d.uniquifyIDs,i=["id","href","xlink:href","xlink:role","xlink:arcrole"],o=["href","xlink:href"],m=function(c,l){return o.includes(c)&&(l?!l.includes("#"):!1)};return g&&Llt([],v8(r.children),!1).forEach(function(c){if(c.attributes&&c.attributes.length){var l=Object.values(c.attributes).map(function(h){var a=h,f=h.value.match(/url\((.*?)\)/);return f&&f[1]&&(a.value=h.value.replace(f[0],"url(".concat(s).concat(f[1],"__").concat(n.hash,")"))),a});i.forEach(function(h){var a=l.find(function(f){return f.name===h});a&&!m(h,a.value)&&(a.value="".concat(a.value,"__").concat(n.hash))})}return c.children.length?n.updateSVGAttributes(c):c}),r}}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this.state,n=r.element,d=r.status,S=this.props,s=S.children,g=s===void 0?null:s,i=S.innerRef,o=S.loader,m=o===void 0?null:o,c=Mlt(this.props,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return ES()?n?_i.cloneElement(n,V2({ref:i},c)):[Aa.UNSUPPORTED,Aa.FAILED].includes(d)?g:m:m}}),Object.defineProperty(t,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{cacheRequests:!0,uniquifyIDs:!1}}),t}(_i.PureComponent);const Flt="_blookContainer_hy0no_1",Dlt="_blook_hy0no_1",_lt="_part_hy0no_15",pa={blookContainer:Flt,blook:Dlt,part:_lt},Kc="#ffcc05",sr="#fabc2e",So="#cd8e2a",jlt=[{url:"https://media.blooket.com/image/upload/v1634087683/BlookParts/base0.svg",tones:[Kc,sr,So]},{url:"https://media.blooket.com/image/upload/v1634087683/BlookParts/base1.svg",tones:["#fbe2cd","#ecc4a9","#d19e82"]},{url:"https://media.blooket.com/image/upload/v1634087683/BlookParts/base2.svg",tones:["#d8b094","#c49270","#a87654"]},{url:"https://media.blooket.com/image/upload/v1634087683/BlookParts/base3.svg",tones:["#bb9167","#aa7c52","#8e613c"]},{url:"https://media.blooket.com/image/upload/v1634087694/BlookParts/base4.svg",tones:["#8e562e","#7c4621","#68310d"]},{url:"https://media.blooket.com/image/upload/v1634087683/BlookParts/base5.svg",tones:["#613d30","#512c21","#3d1911"]}],zlt=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087712/BlookParts/clothing1.svg"},{url:"https://media.blooket.com/image/upload/v1634087707/BlookParts/clothing2.svg"},{url:"https://media.blooket.com/image/upload/v1634087720/BlookParts/clothing3.svg"},{url:"https://media.blooket.com/image/upload/v1634087741/BlookParts/clothing4.svg"},{url:"https://media.blooket.com/image/upload/v1634087741/BlookParts/clothing5.svg"},{url:"https://media.blooket.com/image/upload/v1634087744/BlookParts/clothing6.svg"},{url:"https://media.blooket.com/image/upload/v1634087725/BlookParts/clothing7.svg"},{url:"https://media.blooket.com/image/upload/v1634087758/BlookParts/clothing8.svg"},{url:"https://media.blooket.com/image/upload/v1634087769/BlookParts/clothing9.svg"},{url:"https://media.blooket.com/image/upload/v1634087763/BlookParts/clothing10.svg"},{url:"https://media.blooket.com/image/upload/v1634087807/BlookParts/clothing11.svg"},{url:"https://media.blooket.com/image/upload/v1634087683/BlookParts/clothing12.svg"},{url:"https://media.blooket.com/image/upload/v1664323225/BlookParts/clothing13.svg"},{url:"https://media.blooket.com/image/upload/v1664323226/BlookParts/clothing14.svg"},{url:"https://media.blooket.com/image/upload/v1664323225/BlookParts/clothing15.svg"},{url:"https://media.blooket.com/image/upload/v1664323227/BlookParts/clothing16.svg"},{url:"https://media.blooket.com/image/upload/v1664323226/BlookParts/clothing17.svg"},{url:"https://media.blooket.com/image/upload/v1664323227/BlookParts/clothing18.svg"},{url:"https://media.blooket.com/image/upload/v1664323227/BlookParts/clothing19.svg"},{url:"https://media.blooket.com/image/upload/v1664323227/BlookParts/clothing20.svg"},{url:"https://media.blooket.com/image/upload/v1664323229/BlookParts/clothing21.svg"},{url:"https://media.blooket.com/image/upload/v1664323228/BlookParts/clothing22.svg"},{url:"https://media.blooket.com/image/upload/v1664324850/BlookParts/clothing23.svg"},{url:"https://media.blooket.com/image/upload/v1664324850/BlookParts/clothing24.svg"},{url:"https://media.blooket.com/image/upload/v1664324851/BlookParts/clothing25.svg"},{url:"https://media.blooket.com/image/upload/v1664324851/BlookParts/clothing26.svg"},{url:"https://media.blooket.com/image/upload/v1664324845/BlookParts/clothing27.svg"},{url:"https://media.blooket.com/image/upload/v1664324845/BlookParts/clothing28.svg"},{url:"https://media.blooket.com/image/upload/v1664325719/BlookParts/clothing29.svg"},{url:"https://media.blooket.com/image/upload/v1664325719/BlookParts/clothing30.svg"},{url:"https://media.blooket.com/image/upload/v1664325719/BlookParts/clothing31.svg"},{url:"https://media.blooket.com/image/upload/v1664325719/BlookParts/clothing32.svg"},{url:"https://media.blooket.com/image/upload/v1664325719/BlookParts/clothing33.svg"},{url:"https://media.blooket.com/image/upload/v1664325720/BlookParts/clothing34.svg"},{url:"https://media.blooket.com/image/upload/v1664326438/BlookParts/clothing35.svg"},{url:"https://media.blooket.com/image/upload/v1664326438/BlookParts/clothing36.svg"},{url:"https://media.blooket.com/image/upload/v1664334110/BlookParts/clothing37.svg"},{url:"https://media.blooket.com/image/upload/v1664334110/BlookParts/clothing38.svg"},{url:"https://media.blooket.com/image/upload/v1664334110/BlookParts/clothing39.svg"},{url:"https://media.blooket.com/image/upload/v1664334110/BlookParts/clothing40.svg"},{url:"https://media.blooket.com/image/upload/v1664334112/BlookParts/clothing41.svg"},{url:"https://media.blooket.com/image/upload/v1664334112/BlookParts/clothing42.svg"},{url:"https://media.blooket.com/image/upload/v1664334112/BlookParts/clothing43.svg"},{url:"https://media.blooket.com/image/upload/v1666686735/BlookParts/clothing44.svg"},{url:"https://media.blooket.com/image/upload/v1666686735/BlookParts/clothing45.svg"},{url:"https://media.blooket.com/image/upload/v1666686735/BlookParts/clothing46.svg"},{url:"https://media.blooket.com/image/upload/v1669084280/BlookParts/clothing47.svg"},{url:"https://media.blooket.com/image/upload/v1670303596/BlookParts/clothing48.svg"},{url:"https://media.blooket.com/image/upload/v1670912133/BlookParts/clothing49.svg"},{url:"https://media.blooket.com/image/upload/v1671528728/BlookParts/clothing50.svg"},{url:"https://media.blooket.com/image/upload/v1671528728/BlookParts/clothing51.svg"},{url:"https://media.blooket.com/image/upload/v1679268052/BlookParts/clothing52.svg"},{url:"https://media.blooket.com/image/upload/v1695265659/BlookParts/clothing53.svg"},{url:"https://media.blooket.com/image/upload/v1695265660/BlookParts/clothing54.svg"},{url:"https://media.blooket.com/image/upload/v1695265625/BlookParts/clothing55.svg"},{url:"https://media.blooket.com/image/upload/v1695265625/BlookParts/clothing56.svg"},{url:"https://media.blooket.com/image/upload/v1695265626/BlookParts/clothing57.svg"},{url:"https://media.blooket.com/image/upload/v1695265626/BlookParts/clothing58.svg"},{url:"https://media.blooket.com/image/upload/v1695265626/BlookParts/clothing59.svg"},{url:"https://media.blooket.com/image/upload/v1695265626/BlookParts/clothing60.svg"},{url:"https://media.blooket.com/image/upload/v1695265627/BlookParts/clothing61.svg"},{url:"https://media.blooket.com/image/upload/v1695265627/BlookParts/clothing62.svg"},{url:"https://media.blooket.com/image/upload/v1695265627/BlookParts/clothing63.svg"},{url:"https://media.blooket.com/image/upload/v1695265627/BlookParts/clothing64.svg"},{url:"https://media.blooket.com/image/upload/v1695265628/BlookParts/clothing65.svg"},{url:"https://media.blooket.com/image/upload/v1695265628/BlookParts/clothing66.svg"},{url:"https://media.blooket.com/image/upload/v1695265629/BlookParts/clothing67.svg"},{url:"https://media.blooket.com/image/upload/v1695265629/BlookParts/clothing68.svg"},{url:"https://media.blooket.com/image/upload/v1695265630/BlookParts/clothing69.svg"},{url:"https://media.blooket.com/image/upload/v1695265630/BlookParts/clothing70.svg"},{url:"https://media.blooket.com/image/upload/v1695265630/BlookParts/clothing71.svg"},{url:"https://media.blooket.com/image/upload/v1695265631/BlookParts/clothing72.svg"},{url:"https://media.blooket.com/image/upload/v1695265631/BlookParts/clothing73.svg"},{url:"https://media.blooket.com/image/upload/v1695265631/BlookParts/clothing74.svg"},{url:"https://media.blooket.com/image/upload/v1695265632/BlookParts/clothing75.svg"},{url:"https://media.blooket.com/image/upload/v1695265632/BlookParts/clothing76.svg"},{url:"https://media.blooket.com/image/upload/v1695265632/BlookParts/clothing77.svg"},{url:"https://media.blooket.com/image/upload/v1695265633/BlookParts/clothing78.svg"},{url:"https://media.blooket.com/image/upload/v1695265633/BlookParts/clothing79.svg"},{url:"https://media.blooket.com/image/upload/v1695265633/BlookParts/clothing80.svg"},{url:"https://media.blooket.com/image/upload/v1695265634/BlookParts/clothing81.svg"},{url:"https://media.blooket.com/image/upload/v1696372287/BlookParts/clothing82.svg"},{url:"https://media.blooket.com/image/upload/v1696372288/BlookParts/clothing83.svg"},{url:"https://media.blooket.com/image/upload/v1696372288/BlookParts/clothing84.svg"},{url:"https://media.blooket.com/image/upload/v1701743199/BlookParts/clothing85.svg"},{url:"https://media.blooket.com/image/upload/v1701743199/BlookParts/clothing86.svg"},{url:"https://media.blooket.com/image/upload/v1701743199/BlookParts/clothing87.svg"},{url:"https://media.blooket.com/image/upload/v1726105760/BlookParts/clothing88.svg"},{url:"https://media.blooket.com/image/upload/v1726105760/BlookParts/clothing89.svg"},{url:"https://media.blooket.com/image/upload/v1726105760/BlookParts/clothing90.svg"},{url:"https://media.blooket.com/image/upload/v1726105760/BlookParts/clothing91.svg"},{url:"https://media.blooket.com/image/upload/v1726105760/BlookParts/clothing92.svg"},{url:"https://media.blooket.com/image/upload/v1726105760/BlookParts/clothing93.svg"},{url:"https://media.blooket.com/image/upload/v1726105762/BlookParts/clothing94.svg"},{url:"https://media.blooket.com/image/upload/v1726105763/BlookParts/clothing95.svg"},{url:"https://media.blooket.com/image/upload/v1726105764/BlookParts/clothing96.svg"},{url:"https://media.blooket.com/image/upload/v1726105765/BlookParts/clothing97.svg"},{url:"https://media.blooket.com/image/upload/v1726105765/BlookParts/clothing98.svg"},{url:"https://media.blooket.com/image/upload/v1726105765/BlookParts/clothing99.svg"},{url:"https://media.blooket.com/image/upload/v1726105767/BlookParts/clothing100.svg"},{url:"https://media.blooket.com/image/upload/v1726105767/BlookParts/clothing101.svg"},{url:"https://media.blooket.com/image/upload/v1726105768/BlookParts/clothing102.svg"},{url:"https://media.blooket.com/image/upload/v1726105768/BlookParts/clothing103.svg"},{url:"https://media.blooket.com/image/upload/v1726105769/BlookParts/clothing104.svg"},{url:"https://media.blooket.com/image/upload/v1726105769/BlookParts/clothing105.svg"},{url:"https://media.blooket.com/image/upload/v1726105770/BlookParts/clothing106.svg"},{url:"https://media.blooket.com/image/upload/v1726105771/BlookParts/clothing107.svg"},{url:"https://media.blooket.com/image/upload/v1726105773/BlookParts/clothing108.svg"},{url:"https://media.blooket.com/image/upload/v1726105773/BlookParts/clothing109.svg"},{url:"https://media.blooket.com/image/upload/v1728608104/BlookParts/clothing110.svg"},{url:"https://media.blooket.com/image/upload/v1733205076/BlookParts/clothing111.svg"},{url:"https://media.blooket.com/image/upload/v1733205245/BlookParts/clothing112.svg"},{url:"https://media.blooket.com/image/upload/v1758008838/BlookParts/clothing113.svg"},{url:"https://media.blooket.com/image/upload/v1758008838/BlookParts/clothing114.svg"},{url:"https://media.blooket.com/image/upload/v1758008839/BlookParts/clothing115.svg"},{url:"https://media.blooket.com/image/upload/v1758008839/BlookParts/clothing116.svg"},{url:"https://media.blooket.com/image/upload/v1758008839/BlookParts/clothing117.svg"},{url:"https://media.blooket.com/image/upload/v1758008839/BlookParts/clothing118.svg"},{url:"https://media.blooket.com/image/upload/v1758008840/BlookParts/clothing119.svg"},{url:"https://media.blooket.com/image/upload/v1758008840/BlookParts/clothing120.svg"},{url:"https://media.blooket.com/image/upload/v1758008841/BlookParts/clothing121.svg"},{url:"https://media.blooket.com/image/upload/v1758008841/BlookParts/clothing122.svg"},{url:"https://media.blooket.com/image/upload/v1758008842/BlookParts/clothing123.svg"},{url:"https://media.blooket.com/image/upload/v1758008843/BlookParts/clothing124.svg"},{url:"https://media.blooket.com/image/upload/v1758008843/BlookParts/clothing125.svg"},{url:"https://media.blooket.com/image/upload/v1758008844/BlookParts/clothing126.svg"},{url:"https://media.blooket.com/image/upload/v1758008845/BlookParts/clothing127.svg"},{url:"https://media.blooket.com/image/upload/v1758008846/BlookParts/clothing128.svg"},{url:"https://media.blooket.com/image/upload/v1758008846/BlookParts/clothing129.svg"},{url:"https://media.blooket.com/image/upload/v1758008846/BlookParts/clothing130.svg"},{url:"https://media.blooket.com/image/upload/v1758008849/BlookParts/clothing131.svg"},{url:"https://media.blooket.com/image/upload/v1758008850/BlookParts/clothing132.svg"},{url:"https://media.blooket.com/image/upload/v1758008851/BlookParts/clothing133.svg"},{url:"https://media.blooket.com/image/upload/v1758008851/BlookParts/clothing134.svg"},{url:"https://media.blooket.com/image/upload/v1758008852/BlookParts/clothing135.svg"},{url:"https://media.blooket.com/image/upload/v1758008852/BlookParts/clothing136.svg"},{url:"https://media.blooket.com/image/upload/v1758008853/BlookParts/clothing137.svg"},{url:"https://media.blooket.com/image/upload/v1758008854/BlookParts/clothing138.svg"},{url:"https://media.blooket.com/image/upload/v1758008855/BlookParts/clothing139.svg"},{url:"https://media.blooket.com/image/upload/v1758008856/BlookParts/clothing140.svg"},{url:"https://media.blooket.com/image/upload/v1758008857/BlookParts/clothing141.svg"},{url:"https://media.blooket.com/image/upload/v1758008857/BlookParts/clothing142.svg"}],Ult=[{url:"https://media.blooket.com/image/upload/v1634087707/BlookParts/eyes0.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087719/BlookParts/eyes1.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087721/BlookParts/eyes2.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087723/BlookParts/eyes3.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087740/BlookParts/eyes4.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087742/BlookParts/eyes5.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087747/BlookParts/eyes6.svg"},{url:"https://media.blooket.com/image/upload/v1634087759/BlookParts/eyes7.svg"},{url:"https://media.blooket.com/image/upload/v1634087764/BlookParts/eyes8.svg"},{url:"https://media.blooket.com/image/upload/v1634087770/BlookParts/eyes9.svg"},{url:"https://media.blooket.com/image/upload/v1634087780/BlookParts/eyes10.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087782/BlookParts/eyes11.svg",changes:{[sr]:1,[Kc]:0}},{url:"https://media.blooket.com/image/upload/v1664326436/BlookParts/eyes12.svg",changes:{[sr]:0}},{url:"https://media.blooket.com/image/upload/v1664334112/BlookParts/eyes13.svg",changes:{[So]:2,[sr]:1}},{url:"https://media.blooket.com/image/upload/v1695265634/BlookParts/eyes14.svg"},{url:"https://media.blooket.com/image/upload/v1696372289/BlookParts/eyes15.svg",changes:{[So]:2,[sr]:1}},{url:"https://media.blooket.com/image/upload/v1726105774/BlookParts/eyes16.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1726105775/BlookParts/eyes17.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1726105775/BlookParts/eyes18.svg",changes:{[So]:2,[sr]:1}},{url:"https://media.blooket.com/image/upload/v1726105775/BlookParts/eyes19.svg",changes:{[So]:2,[sr]:1}},{url:"https://media.blooket.com/image/upload/v1758008858/BlookParts/eyes20.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1758008858/BlookParts/eyes21.svg",changes:{[sr]:1}}],Glt=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087784/BlookParts/glasses1.svg"},{url:"https://media.blooket.com/image/upload/v1634087786/BlookParts/glasses2.svg"},{url:"https://media.blooket.com/image/upload/v1634087791/BlookParts/glasses3.svg"},{url:"https://media.blooket.com/image/upload/v1634087792/BlookParts/glasses4.svg"},{url:"https://media.blooket.com/image/upload/v1634087804/BlookParts/glasses5.svg"},{url:"https://media.blooket.com/image/upload/v1634087805/BlookParts/glasses6.svg"},{url:"https://media.blooket.com/image/upload/v1634087806/BlookParts/glasses7.svg"},{url:"https://media.blooket.com/image/upload/v1634087809/BlookParts/glasses8.svg"},{url:"https://media.blooket.com/image/upload/v1664323228/BlookParts/glasses9.svg"},{url:"https://media.blooket.com/image/upload/v1664324845/BlookParts/glasses10.svg"},{url:"https://media.blooket.com/image/upload/v1664324845/BlookParts/glasses11.svg"},{url:"https://media.blooket.com/image/upload/v1664324845/BlookParts/glasses12.svg"},{url:"https://media.blooket.com/image/upload/v1664324845/BlookParts/glasses13.svg"},{url:"https://media.blooket.com/image/upload/v1664324847/BlookParts/glasses14.svg"},{url:"https://media.blooket.com/image/upload/v1664334114/BlookParts/glasses15.svg"},{url:"https://media.blooket.com/image/upload/v1664334114/BlookParts/glasses16.svg"},{url:"https://media.blooket.com/image/upload/v1695265634/BlookParts/glasses17.svg"},{url:"https://media.blooket.com/image/upload/v1695265635/BlookParts/glasses18.svg"},{url:"https://media.blooket.com/image/upload/v1695265635/BlookParts/glasses19.svg"},{url:"https://media.blooket.com/image/upload/v1695265635/BlookParts/glasses20.svg"},{url:"https://media.blooket.com/image/upload/v1695265636/BlookParts/glasses21.svg"},{url:"https://media.blooket.com/image/upload/v1695265636/BlookParts/glasses22.svg"},{url:"https://media.blooket.com/image/upload/v1695265636/BlookParts/glasses23.svg"},{url:"https://media.blooket.com/image/upload/v1695265637/BlookParts/glasses24.svg"},{url:"https://media.blooket.com/image/upload/v1726105775/BlookParts/glasses25.svg"},{url:"https://media.blooket.com/image/upload/v1726105776/BlookParts/glasses26.svg"},{url:"https://media.blooket.com/image/upload/v1726105777/BlookParts/glasses27.svg"},{url:"https://media.blooket.com/image/upload/v1726105777/BlookParts/glasses28.svg"},{url:"https://media.blooket.com/image/upload/v1726105777/BlookParts/glasses29.svg"},{url:"https://media.blooket.com/image/upload/v1726105778/BlookParts/glasses30.svg"},{url:"https://media.blooket.com/image/upload/v1726105778/BlookParts/glasses31.svg"},{url:"https://media.blooket.com/image/upload/v1726105778/BlookParts/glasses32.svg"},{url:"https://media.blooket.com/image/upload/v1726105779/BlookParts/glasses33.svg"},{url:"https://media.blooket.com/image/upload/v1758008863/BlookParts/glasses34.svg"},{url:"https://media.blooket.com/image/upload/v1758008863/BlookParts/glasses35.svg"},{url:"https://media.blooket.com/image/upload/v1758008863/BlookParts/glasses36.svg"},{url:"https://media.blooket.com/image/upload/v1758008864/BlookParts/glasses37.svg"},{url:"https://media.blooket.com/image/upload/v1758008864/BlookParts/glasses38.svg"},{url:"https://media.blooket.com/image/upload/v1758008864/BlookParts/glasses39.svg"},{url:"https://media.blooket.com/image/upload/v1758008864/BlookParts/glasses40.svg"},{url:"https://media.blooket.com/image/upload/v1758008865/BlookParts/glasses41.svg"}],Hlt=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087810/BlookParts/hair1.svg"},{url:"https://media.blooket.com/image/upload/v1634087827/BlookParts/hair2.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087829/BlookParts/hair3.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087830/BlookParts/hair4.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087835/BlookParts/hair5.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087836/BlookParts/hair6.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087837/BlookParts/hair7.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087847/BlookParts/hair8.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087849/BlookParts/hair9.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087851/BlookParts/hair10.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087852/BlookParts/hair11.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1634087855/BlookParts/hair12.svg",changes:{[sr]:1},hasHighlight:!0},{url:"https://media.blooket.com/image/upload/v1664326436/BlookParts/hair13.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1664326436/BlookParts/hair14.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1664334307/BlookParts/hair15.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1664334307/BlookParts/hair16.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1664334307/BlookParts/hair17.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1678767661/BlookParts/hair18.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1695265637/BlookParts/hair19.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1695265638/BlookParts/hair20.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1695265637/BlookParts/hair21.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1695265638/BlookParts/hair22.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1695265639/BlookParts/hair23.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1695265639/BlookParts/hair24.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1695265639/BlookParts/hair25.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1695265640/BlookParts/hair26.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1696372290/BlookParts/hair27.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1726105780/BlookParts/hair28.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1726105781/BlookParts/hair29.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1726105782/BlookParts/hair30.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1726105782/BlookParts/hair31.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1726105782/BlookParts/hair32.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1726105782/BlookParts/hair33.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1726105783/BlookParts/hair34.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1758008866/BlookParts/hair35.svg"},{url:"https://media.blooket.com/image/upload/v1758008869/BlookParts/hair36.svg",changes:{[sr]:1}},{url:"https://media.blooket.com/image/upload/v1758008870/BlookParts/hair37.svg"}],$lt=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087855/BlookParts/hat1.svg"},{url:"https://media.blooket.com/image/upload/v1634087861/BlookParts/hat2.svg"},{url:"https://media.blooket.com/image/upload/v1634087869/BlookParts/hat3.svg"},{url:"https://media.blooket.com/image/upload/v1634087870/BlookParts/hat4.svg"},{url:"https://media.blooket.com/image/upload/v1634087877/BlookParts/hat5.svg"},{url:"https://media.blooket.com/image/upload/v1634087878/BlookParts/hat6.svg"},{url:"https://media.blooket.com/image/upload/v1634087880/BlookParts/hat7.svg"},{url:"https://media.blooket.com/image/upload/v1634087887/BlookParts/hat8.svg"},{url:"https://media.blooket.com/image/upload/v1634087891/BlookParts/hat9.svg"},{url:"https://media.blooket.com/image/upload/v1634087891/BlookParts/hat10.svg"},{url:"https://media.blooket.com/image/upload/v1634087899/BlookParts/hat11.svg"},{url:"https://media.blooket.com/image/upload/v1634087901/BlookParts/hat12.svg"},{url:"https://media.blooket.com/image/upload/v1634087902/BlookParts/hat13.svg"},{url:"https://media.blooket.com/image/upload/v1664323229/BlookParts/hat14.svg"},{url:"https://media.blooket.com/image/upload/v1664323229/BlookParts/hat15.svg"},{url:"https://media.blooket.com/image/upload/v1664323229/BlookParts/hat16.svg"},{url:"https://media.blooket.com/image/upload/v1664323230/BlookParts/hat17.svg"},{url:"https://media.blooket.com/image/upload/v1664323230/BlookParts/hat18.svg"},{url:"https://media.blooket.com/image/upload/v1664323230/BlookParts/hat19.svg"},{url:"https://media.blooket.com/image/upload/v1664324847/BlookParts/hat20.svg"},{url:"https://media.blooket.com/image/upload/v1664324847/BlookParts/hat21.svg"},{url:"https://media.blooket.com/image/upload/v1664324847/BlookParts/hat22.svg"},{url:"https://media.blooket.com/image/upload/v1664324847/BlookParts/hat23.svg"},{url:"https://media.blooket.com/image/upload/v1664324848/BlookParts/hat24.svg"},{url:"https://media.blooket.com/image/upload/v1664324849/BlookParts/hat25.svg"},{url:"https://media.blooket.com/image/upload/v1664325721/BlookParts/hat26.svg"},{url:"https://media.blooket.com/image/upload/v1664325715/BlookParts/hat27.svg"},{url:"https://media.blooket.com/image/upload/v1664325715/BlookParts/hat28.svg"},{url:"https://media.blooket.com/image/upload/v1664325715/BlookParts/hat29.svg"},{url:"https://media.blooket.com/image/upload/v1664325715/BlookParts/hat30.svg"},{url:"https://media.blooket.com/image/upload/v1664334114/BlookParts/hat31.svg"},{url:"https://media.blooket.com/image/upload/v1664334335/BlookParts/hat32.svg"},{url:"https://media.blooket.com/image/upload/v1664334335/BlookParts/hat33.svg"},{url:"https://media.blooket.com/image/upload/v1664334335/BlookParts/hat34.svg"},{url:"https://media.blooket.com/image/upload/v1664334335/BlookParts/hat35.svg"},{url:"https://media.blooket.com/image/upload/v1664334335/BlookParts/hat36.svg"},{url:"https://media.blooket.com/image/upload/v1666686633/BlookParts/hat37.svg"},{url:"https://media.blooket.com/image/upload/v1666686633/BlookParts/hat38.svg"},{url:"https://media.blooket.com/image/upload/v1666686633/BlookParts/hat39.svg"},{url:"https://media.blooket.com/image/upload/v1666686633/BlookParts/hat40.svg"},{url:"https://media.blooket.com/image/upload/v1669108036/BlookParts/hat41.svg"},{url:"https://media.blooket.com/image/upload/v1669108036/BlookParts/hat42.svg"},{url:"https://media.blooket.com/image/upload/v1670303596/BlookParts/hat43.svg"},{url:"https://media.blooket.com/image/upload/v1670912133/BlookParts/hat44.svg"},{url:"https://media.blooket.com/image/upload/v1671528728/BlookParts/hat45.svg"},{url:"https://media.blooket.com/image/upload/v1671528728/BlookParts/hat46.svg"},{url:"https://media.blooket.com/image/upload/v1678767661/BlookParts/hat47.svg"},{url:"https://media.blooket.com/image/upload/v1695265640/BlookParts/hat48.svg"},{url:"https://media.blooket.com/image/upload/v1695265640/BlookParts/hat49.svg"},{url:"https://media.blooket.com/image/upload/v1695265641/BlookParts/hat50.svg"},{url:"https://media.blooket.com/image/upload/v1695265641/BlookParts/hat51.svg"},{url:"https://media.blooket.com/image/upload/v1695265641/BlookParts/hat52.svg"},{url:"https://media.blooket.com/image/upload/v1695265642/BlookParts/hat53.svg"},{url:"https://media.blooket.com/image/upload/v1695265642/BlookParts/hat54.svg"},{url:"https://media.blooket.com/image/upload/v1695265642/BlookParts/hat55.svg"},{url:"https://media.blooket.com/image/upload/v1695265643/BlookParts/hat56.svg"},{url:"https://media.blooket.com/image/upload/v1695265643/BlookParts/hat57.svg"},{url:"https://media.blooket.com/image/upload/v1695265644/BlookParts/hat58.svg"},{url:"https://media.blooket.com/image/upload/v1695265644/BlookParts/hat59.svg"},{url:"https://media.blooket.com/image/upload/v1695265644/BlookParts/hat60.svg"},{url:"https://media.blooket.com/image/upload/v1695265645/BlookParts/hat61.svg"},{url:"https://media.blooket.com/image/upload/v1695265645/BlookParts/hat62.svg"},{url:"https://media.blooket.com/image/upload/v1695265646/BlookParts/hat63.svg"},{url:"https://media.blooket.com/image/upload/v1695265645/BlookParts/hat64.svg"},{url:"https://media.blooket.com/image/upload/v1695265646/BlookParts/hat65.svg"},{url:"https://media.blooket.com/image/upload/v1695265646/BlookParts/hat66.svg"},{url:"https://media.blooket.com/image/upload/v1695265647/BlookParts/hat67.svg"},{url:"https://media.blooket.com/image/upload/v1695265647/BlookParts/hat68.svg"},{url:"https://media.blooket.com/image/upload/v1695265647/BlookParts/hat69.svg"},{url:"https://media.blooket.com/image/upload/v1695265648/BlookParts/hat70.svg"},{url:"https://media.blooket.com/image/upload/v1695265648/BlookParts/hat71.svg"},{url:"https://media.blooket.com/image/upload/v1695265648/BlookParts/hat72.svg"},{url:"https://media.blooket.com/image/upload/v1695265649/BlookParts/hat73.svg"},{url:"https://media.blooket.com/image/upload/v1695265649/BlookParts/hat74.svg"},{url:"https://media.blooket.com/image/upload/v1695266827/BlookParts/hat75.svg"},{url:"https://media.blooket.com/image/upload/v1695266827/BlookParts/hat76.svg"},{url:"https://media.blooket.com/image/upload/v1695266827/BlookParts/hat77.svg"},{url:"https://media.blooket.com/image/upload/v1696372290/BlookParts/hat78.svg"},{url:"https://media.blooket.com/image/upload/v1696372286/BlookParts/hat79.svg"},{url:"https://media.blooket.com/image/upload/v1701743199/BlookParts/hat80.svg"},{url:"https://media.blooket.com/image/upload/v1701743200/BlookParts/hat81.svg"},{url:"https://media.blooket.com/image/upload/v1701743201/BlookParts/hat82.svg"},{url:"https://media.blooket.com/image/upload/v1726105784/BlookParts/hat83.svg"},{url:"https://media.blooket.com/image/upload/v1726105784/BlookParts/hat84.svg"},{url:"https://media.blooket.com/image/upload/v1726105784/BlookParts/hat85.svg"},{url:"https://media.blooket.com/image/upload/v1726105784/BlookParts/hat86.svg"},{url:"https://media.blooket.com/image/upload/v1726105784/BlookParts/hat87.svg"},{url:"https://media.blooket.com/image/upload/v1726105785/BlookParts/hat88.svg"},{url:"https://media.blooket.com/image/upload/v1726105786/BlookParts/hat89.svg"},{url:"https://media.blooket.com/image/upload/v1726105787/BlookParts/hat90.svg"},{url:"https://media.blooket.com/image/upload/v1726105790/BlookParts/hat91.svg"},{url:"https://media.blooket.com/image/upload/v1726105788/BlookParts/hat92.svg"},{url:"https://media.blooket.com/image/upload/v1726105791/BlookParts/hat93.svg"},{url:"https://media.blooket.com/image/upload/v1726105790/BlookParts/hat94.svg"},{url:"https://media.blooket.com/image/upload/v1726105789/BlookParts/hat95.svg"},{url:"https://media.blooket.com/image/upload/v1726105793/BlookParts/hat96.svg"},{url:"https://media.blooket.com/image/upload/v1726105793/BlookParts/hat97.svg"},{url:"https://media.blooket.com/image/upload/v1726105793/BlookParts/hat98.svg"},{url:"https://media.blooket.com/image/upload/v1726105794/BlookParts/hat99.svg"},{url:"https://media.blooket.com/image/upload/v1726105795/BlookParts/hat100.svg"},{url:"https://media.blooket.com/image/upload/v1726105796/BlookParts/hat101.svg"},{url:"https://media.blooket.com/image/upload/v1726105797/BlookParts/hat102.svg"},{url:"https://media.blooket.com/image/upload/v1726105797/BlookParts/hat103.svg"},{url:"https://media.blooket.com/image/upload/v1726105798/BlookParts/hat104.svg"},{url:"https://media.blooket.com/image/upload/v1726105798/BlookParts/hat105.svg"},{url:"https://media.blooket.com/image/upload/v1726105800/BlookParts/hat106.svg"},{url:"https://media.blooket.com/image/upload/v1726105800/BlookParts/hat107.svg"},{url:"https://media.blooket.com/image/upload/v1726105801/BlookParts/hat108.svg"},{url:"https://media.blooket.com/image/upload/v1726105803/BlookParts/hat109.svg"},{url:"https://media.blooket.com/image/upload/v1726105804/BlookParts/hat110.svg"},{url:"https://media.blooket.com/image/upload/v1726105805/BlookParts/hat111.svg"},{url:"https://media.blooket.com/image/upload/v1726105806/BlookParts/hat112.svg"},{url:"https://media.blooket.com/image/upload/v1726105807/BlookParts/hat113.svg"},{url:"https://media.blooket.com/image/upload/v1726105806/BlookParts/hat114.svg"},{url:"https://media.blooket.com/image/upload/v1726105808/BlookParts/hat115.svg"},{url:"https://media.blooket.com/image/upload/v1726105809/BlookParts/hat116.svg"},{url:"https://media.blooket.com/image/upload/v1726105809/BlookParts/hat117.svg"},{url:"https://media.blooket.com/image/upload/v1726105812/BlookParts/hat118.svg"},{url:"https://media.blooket.com/image/upload/v1728608104/BlookParts/hat119.svg"},{url:"https://media.blooket.com/image/upload/v1733205076/BlookParts/hat120.svg"},{url:"https://media.blooket.com/image/upload/v1733205328/BlookParts/hat121.svg"},{url:"https://media.blooket.com/image/upload/v1758008870/BlookParts/hat122.svg"},{url:"https://media.blooket.com/image/upload/v1758008871/BlookParts/hat123.svg"},{url:"https://media.blooket.com/image/upload/v1758008871/BlookParts/hat124.svg"},{url:"https://media.blooket.com/image/upload/v1758008871/BlookParts/hat125.svg"},{url:"https://media.blooket.com/image/upload/v1758008872/BlookParts/hat126.svg"},{url:"https://media.blooket.com/image/upload/v1758008873/BlookParts/hat127.svg"},{url:"https://media.blooket.com/image/upload/v1758008874/BlookParts/hat128.svg"},{url:"https://media.blooket.com/image/upload/v1758008874/BlookParts/hat129.svg"},{url:"https://media.blooket.com/image/upload/v1758008875/BlookParts/hat130.svg"},{url:"https://media.blooket.com/image/upload/v1758008878/BlookParts/hat131.svg"},{url:"https://media.blooket.com/image/upload/v1758008878/BlookParts/hat132.svg"},{url:"https://media.blooket.com/image/upload/v1758008879/BlookParts/hat133.svg"},{url:"https://media.blooket.com/image/upload/v1758008879/BlookParts/hat134.svg"},{url:"https://media.blooket.com/image/upload/v1758008880/BlookParts/hat135.svg"},{url:"https://media.blooket.com/image/upload/v1758008881/BlookParts/hat136.svg"},{url:"https://media.blooket.com/image/upload/v1758008883/BlookParts/hat137.svg"},{url:"https://media.blooket.com/image/upload/v1758008883/BlookParts/hat138.svg"},{url:"https://media.blooket.com/image/upload/v1758008883/BlookParts/hat139.svg"},{url:"https://media.blooket.com/image/upload/v1758008884/BlookParts/hat140.svg"},{url:"https://media.blooket.com/image/upload/v1758008885/BlookParts/hat141.svg"},{url:"https://media.blooket.com/image/upload/v1758008885/BlookParts/hat142.svg"},{url:"https://media.blooket.com/image/upload/v1758008885/BlookParts/hat143.svg"},{url:"https://media.blooket.com/image/upload/v1758008886/BlookParts/hat144.svg"},{url:"https://media.blooket.com/image/upload/v1758008888/BlookParts/hat145.svg"},{url:"https://media.blooket.com/image/upload/v1758008889/BlookParts/hat146.svg"},{url:"https://media.blooket.com/image/upload/v1758008890/BlookParts/hat147.svg"},{url:"https://media.blooket.com/image/upload/v1758008891/BlookParts/hat148.svg"},{url:"https://media.blooket.com/image/upload/v1758008892/BlookParts/hat149.svg"},{url:"https://media.blooket.com/image/upload/v1758008893/BlookParts/hat150.svg"},{url:"https://media.blooket.com/image/upload/v1758008894/BlookParts/hat151.svg"},{url:"https://media.blooket.com/image/upload/v1758008894/BlookParts/hat152.svg"},{url:"https://media.blooket.com/image/upload/v1758008896/BlookParts/hat153.svg"},{url:"https://media.blooket.com/image/upload/v1758008896/BlookParts/hat154.svg"},{url:"https://media.blooket.com/image/upload/v1758008899/BlookParts/hat155.svg"}],Wlt=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087902/BlookParts/item1.svg"},{url:"https://media.blooket.com/image/upload/v1634087903/BlookParts/item2.svg"},{url:"https://media.blooket.com/image/upload/v1634087903/BlookParts/item3.svg"},{url:"https://media.blooket.com/image/upload/v1634087915/BlookParts/item4.svg"},{url:"https://media.blooket.com/image/upload/v1634087920/BlookParts/item5.svg"},{url:"https://media.blooket.com/image/upload/v1634087921/BlookParts/item6.svg"},{url:"https://media.blooket.com/image/upload/v1634087922/BlookParts/item7.svg"},{url:"https://media.blooket.com/image/upload/v1634087922/BlookParts/item8.svg"},{url:"https://media.blooket.com/image/upload/v1634087927/BlookParts/item9.svg"},{url:"https://media.blooket.com/image/upload/v1634087939/BlookParts/item10.svg"},{url:"https://media.blooket.com/image/upload/v1634087942/BlookParts/item11.svg"},{url:"https://media.blooket.com/image/upload/v1634087942/BlookParts/item12.svg"},{url:"https://media.blooket.com/image/upload/v1634087944/BlookParts/item13.svg"},{url:"https://media.blooket.com/image/upload/v1664323225/BlookParts/item14.svg"},{url:"https://media.blooket.com/image/upload/v1664323225/BlookParts/item15.svg"},{url:"https://media.blooket.com/image/upload/v1664323225/BlookParts/item16.svg"},{url:"https://media.blooket.com/image/upload/v1664324849/BlookParts/item17.svg"},{url:"https://media.blooket.com/image/upload/v1664324849/BlookParts/item18.svg"},{url:"https://media.blooket.com/image/upload/v1664324849/BlookParts/item19.svg"},{url:"https://media.blooket.com/image/upload/v1664325715/BlookParts/item20.svg"},{url:"https://media.blooket.com/image/upload/v1664325715/BlookParts/item21.svg"},{url:"https://media.blooket.com/image/upload/v1664342232/BlookParts/item22.svg"},{url:"https://media.blooket.com/image/upload/v1664325717/BlookParts/item23.svg"},{url:"https://media.blooket.com/image/upload/v1664325717/BlookParts/item24.svg"},{url:"https://media.blooket.com/image/upload/v1664325717/BlookParts/item25.svg"},{url:"https://media.blooket.com/image/upload/v1664325717/BlookParts/item26.svg"},{url:"https://media.blooket.com/image/upload/v1664326436/BlookParts/item27.svg"},{url:"https://media.blooket.com/image/upload/v1664334116/BlookParts/item28.svg"},{url:"https://media.blooket.com/image/upload/v1664334117/BlookParts/item29.svg"},{url:"https://media.blooket.com/image/upload/v1664334118/BlookParts/item30.svg"},{url:"https://media.blooket.com/image/upload/v1664334118/BlookParts/item31.svg"},{url:"https://media.blooket.com/image/upload/v1666686889/BlookParts/item32.svg"},{url:"https://media.blooket.com/image/upload/v1666686889/BlookParts/item33.svg"},{url:"https://media.blooket.com/image/upload/v1669084280/BlookParts/item34.svg"},{url:"https://media.blooket.com/image/upload/v1671528728/BlookParts/item35.svg"},{url:"https://media.blooket.com/image/upload/v1678767661/BlookParts/item36.svg"},{url:"https://media.blooket.com/image/upload/v1695265651/BlookParts/item37.svg"},{url:"https://media.blooket.com/image/upload/v1695265651/BlookParts/item38.svg"},{url:"https://media.blooket.com/image/upload/v1695265651/BlookParts/item39.svg"},{url:"https://media.blooket.com/image/upload/v1695265652/BlookParts/item40.svg"},{url:"https://media.blooket.com/image/upload/v1695265652/BlookParts/item41.svg"},{url:"https://media.blooket.com/image/upload/v1695265652/BlookParts/item42.svg"},{url:"https://media.blooket.com/image/upload/v1695265653/BlookParts/item43.svg"},{url:"https://media.blooket.com/image/upload/v1695265653/BlookParts/item44.svg"},{url:"https://media.blooket.com/image/upload/v1695265653/BlookParts/item45.svg"},{url:"https://media.blooket.com/image/upload/v1695265654/BlookParts/item46.svg"},{url:"https://media.blooket.com/image/upload/v1695265654/BlookParts/item47.svg"},{url:"https://media.blooket.com/image/upload/v1695265654/BlookParts/item48.svg"},{url:"https://media.blooket.com/image/upload/v1695265655/BlookParts/item49.svg"},{url:"https://media.blooket.com/image/upload/v1695265655/BlookParts/item50.svg"},{url:"https://media.blooket.com/image/upload/v1695265656/BlookParts/item51.svg"},{url:"https://media.blooket.com/image/upload/v1695265656/BlookParts/item52.svg"},{url:"https://media.blooket.com/image/upload/v1695265656/BlookParts/item53.svg"},{url:"https://media.blooket.com/image/upload/v1695265657/BlookParts/item54.svg"},{url:"https://media.blooket.com/image/upload/v1695265657/BlookParts/item55.svg"},{url:"https://media.blooket.com/image/upload/v1701743199/BlookParts/item56.svg"},{url:"https://media.blooket.com/image/upload/v1701743199/BlookParts/item57.svg"},{url:"https://media.blooket.com/image/upload/v1726105812/BlookParts/item58.svg"},{url:"https://media.blooket.com/image/upload/v1726105813/BlookParts/item59.svg"},{url:"https://media.blooket.com/image/upload/v1726105814/BlookParts/item60.svg"},{url:"https://media.blooket.com/image/upload/v1726105815/BlookParts/item61.svg"},{url:"https://media.blooket.com/image/upload/v1728608104/BlookParts/item62.svg"},{url:"https://media.blooket.com/image/upload/v1728608104/BlookParts/item63.svg"},{url:"https://media.blooket.com/image/upload/v1728608104/BlookParts/item64.svg"},{url:"https://media.blooket.com/image/upload/v1728608104/BlookParts/item65.svg"},{url:"https://media.blooket.com/image/upload/v1733205074/BlookParts/item66.svg"},{url:"https://media.blooket.com/image/upload/v1733205074/BlookParts/item67.svg"},{url:"https://media.blooket.com/image/upload/v1758008899/BlookParts/item68.svg"},{url:"https://media.blooket.com/image/upload/v1758008899/BlookParts/item69.svg"},{url:"https://media.blooket.com/image/upload/v1758008901/BlookParts/item70.svg"},{url:"https://media.blooket.com/image/upload/v1758008901/BlookParts/item71.svg"},{url:"https://media.blooket.com/image/upload/v1758008903/BlookParts/item72.svg"},{url:"https://media.blooket.com/image/upload/v1758008903/BlookParts/item73.svg"},{url:"https://media.blooket.com/image/upload/v1758008903/BlookParts/item74.svg"},{url:"https://media.blooket.com/image/upload/v1758008903/BlookParts/item75.svg"},{url:"https://media.blooket.com/image/upload/v1758008904/BlookParts/item76.svg"},{url:"https://media.blooket.com/image/upload/v1758008904/BlookParts/item77.svg"},{url:"https://media.blooket.com/image/upload/v1758008904/BlookParts/item78.svg"},{url:"https://media.blooket.com/image/upload/v1758008905/BlookParts/item79.svg"},{url:"https://media.blooket.com/image/upload/v1758008908/BlookParts/item80.svg"}],Vlt=[{url:"https://media.blooket.com/image/upload/v1634087948/BlookParts/mouth0.svg"},{url:"https://media.blooket.com/image/upload/v1634087948/BlookParts/mouth1.svg"},{url:"https://media.blooket.com/image/upload/v1634087957/BlookParts/mouth2.svg"},{url:"https://media.blooket.com/image/upload/v1634087958/BlookParts/mouth3.svg"},{url:"https://media.blooket.com/image/upload/v1634087959/BlookParts/mouth4.svg"},{url:"https://media.blooket.com/image/upload/v1634087959/BlookParts/mouth5.svg"},{url:"https://media.blooket.com/image/upload/v1634087960/BlookParts/mouth6.svg"},{url:"https://media.blooket.com/image/upload/v1634087963/BlookParts/mouth7.svg"},{url:"https://media.blooket.com/image/upload/v1634087967/BlookParts/mouth8.svg"},{url:"https://media.blooket.com/image/upload/v1634087968/BlookParts/mouth9.svg"},{url:"https://media.blooket.com/image/upload/v1634087974/BlookParts/mouth10.svg"},{url:"https://media.blooket.com/image/upload/v1634087975/BlookParts/mouth11.svg"},{url:"https://media.blooket.com/image/upload/v1664326436/BlookParts/mouth12.svg"},{url:"https://media.blooket.com/image/upload/v1664326436/BlookParts/mouth13.svg"},{url:"https://media.blooket.com/image/upload/v1664334118/BlookParts/mouth14.svg"},{url:"https://media.blooket.com/image/upload/v1664334118/BlookParts/mouth15.svg"},{url:"https://media.blooket.com/image/upload/v1664334119/BlookParts/mouth16.svg"},{url:"https://media.blooket.com/image/upload/v1664334110/BlookParts/mouth17.svg"},{url:"https://media.blooket.com/image/upload/v1695265657/BlookParts/mouth18.svg"},{url:"https://media.blooket.com/image/upload/v1758008910/BlookParts/mouth19-2.svg"},{url:"https://media.blooket.com/image/upload/v1695265658/BlookParts/mouth20.svg"},{url:"https://media.blooket.com/image/upload/v1695265659/BlookParts/mouth21.svg"},{url:"https://media.blooket.com/image/upload/v1696372287/BlookParts/mouth22.svg"},{url:"https://media.blooket.com/image/upload/v1726105816/BlookParts/mouth23.svg"},{url:"https://media.blooket.com/image/upload/v1726105817/BlookParts/mouth24.svg"},{url:"https://media.blooket.com/image/upload/v1726105818/BlookParts/mouth25.svg"},{url:"https://media.blooket.com/image/upload/v1726105819/BlookParts/mouth26.svg"},{url:"https://media.blooket.com/image/upload/v1726105819/BlookParts/mouth27.svg"},{url:"https://media.blooket.com/image/upload/v1726105819/BlookParts/mouth28.svg"},{url:"https://media.blooket.com/image/upload/v1726105819/BlookParts/mouth29.svg"},{url:"https://media.blooket.com/image/upload/v1726105820/BlookParts/mouth30.svg"},{url:"https://media.blooket.com/image/upload/v1758008910/BlookParts/mouth31.svg"},{url:"https://media.blooket.com/image/upload/v1758008911/BlookParts/mouth32.svg"},{url:"https://media.blooket.com/image/upload/v1758008911/BlookParts/mouth33.svg"}],Ylt=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087975/BlookParts/nose1.svg",changes:{[Kc]:0,[So]:2}},{url:"https://media.blooket.com/image/upload/v1634087979/BlookParts/nose2.svg",changes:{[Kc]:0,[So]:2}},{url:"https://media.blooket.com/image/upload/v1634087989/BlookParts/nose3.svg",changes:{[Kc]:0,[So]:2}},{url:"https://media.blooket.com/image/upload/v1634087992/BlookParts/nose4.svg",changes:{[Kc]:0,[So]:2}},{url:"https://media.blooket.com/image/upload/v1634087993/BlookParts/nose5.svg",changes:{[Kc]:0,[So]:2}},{url:"https://media.blooket.com/image/upload/v1634087993/BlookParts/nose6.svg"},{url:"https://media.blooket.com/image/upload/v1664334110/BlookParts/nose7.svg"},{url:"https://media.blooket.com/image/upload/v1666686854/BlookParts/nose8.svg"},{url:"https://media.blooket.com/image/upload/v1726105820/BlookParts/nose9.svg",changes:{[So]:2}},{url:"https://media.blooket.com/image/upload/v1726105820/BlookParts/nose10.svg"},{url:"https://media.blooket.com/image/upload/v1726105821/BlookParts/nose11.svg"},{url:"https://media.blooket.com/image/upload/v1726105821/BlookParts/nose12.svg"}],Xlt=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087705/BlookParts/cheeks1.svg",changes:{[So]:2}},{url:"https://media.blooket.com/image/upload/v1634087706/BlookParts/cheeks2.svg",changes:{[So]:2}},{url:"https://media.blooket.com/image/upload/v1634087696/BlookParts/cheeks3.svg"},{url:"https://media.blooket.com/image/upload/v1634087718/BlookParts/cheeks4.svg"},{url:"https://media.blooket.com/image/upload/v1664342241/BlookParts/cheeks5.svg"},{url:"https://media.blooket.com/image/upload/v1664325848/BlookParts/cheeks6.svg"},{url:"https://media.blooket.com/image/upload/v1695265659/BlookParts/cheeks7.svg"}],Qlt=[{url:""},{url:"https://media.blooket.com/image/upload/v1634087694/BlookParts/eyebrows1.svg"},{url:"https://media.blooket.com/image/upload/v1634087695/BlookParts/eyebrows2.svg"},{url:"https://media.blooket.com/image/upload/v1634087695/BlookParts/eyebrows3.svg"},{url:"https://media.blooket.com/image/upload/v1634087695/BlookParts/eyebrows4.svg"},{url:"https://media.blooket.com/image/upload/v1634087706/BlookParts/eyebrows5.svg"},{url:"https://media.blooket.com/image/upload/v1664326438/BlookParts/eyebrows6.svg"},{url:"https://media.blooket.com/image/upload/v1664326438/BlookParts/eyebrows7.svg"},{url:"https://media.blooket.com/image/upload/v1664334112/BlookParts/eyebrows8.svg"},{url:"https://media.blooket.com/image/upload/v1664334112/BlookParts/eyebrows9.svg"},{url:"https://media.blooket.com/image/upload/v1678767661/BlookParts/eyebrows10.svg"},{url:"https://media.blooket.com/image/upload/v1696372289/BlookParts/eyebrows11.svg"},{url:"https://media.blooket.com/image/upload/v1726105773/BlookParts/eyebrows12.svg"},{url:"https://media.blooket.com/image/upload/v1758008857/BlookParts/eyebrows13.svg"}],pr={base:jlt,clothing:zlt,eyes:Ult,glasses:Glt,hair:Hlt,hat:$lt,item:Wlt,mouth:Vlt,nose:Ylt,cheeks:Xlt,eyebrows:Qlt},hu=[["#3f1c12","#592a1e"],["#fff0a3","#fff5cc"],["#ce1f3d","#e24466"],["#141319","#252330"],["#cc488a","#e065a9"],["#a6cf54","#bbe25d"],["#4cc8f4","#7ddff9"],["#8c68a2","#a185b5"],["#b16a28","#cd8029"]],Y2="#3f1c12",rF="#592a1e",nF=e=>{const t=e.split("#");if(t.length!==11||!pr.base[t[0]]||!pr.clothing[t[1]]||!pr.eyes[t[2]]||!pr.glasses[t[3]])return!1;const r=t[4].split("$");if(r.length!==2||!pr.hair[r[0]]||!hu[r[1]]||!pr.hat[t[5]]||!pr.item[t[6]]||!pr.mouth[t[7]]||!pr.nose[t[8]]||!pr.cheeks[t[9]])return!1;const n=t[10].split("$");return!(n.length!==2||!pr.eyebrows[n[0]]||!hu[n[1]])},Klt="https://ac.blooket.com/marketassets/blooks/lightblue.svg",Ax=({code:e,svgurl:t,className:r,blookClassName:n,style:d,tip:S})=>{if(t)return R.jsx("div",{className:Ct(pa.blookContainer,r),style:d,"data-tip":S||null,children:R.jsx("img",{src:t,alt:"Custom Blook",draggable:!1,className:Ct(pa.blook,n)})});const s=e.split("#");if(!nF(e))return R.jsx("div",{className:Ct(pa.blookContainer,r),style:d,"data-tip":S||null,children:R.jsx("img",{src:Klt,alt:"Blook",draggable:!1,className:Ct(pa.blook,n)})});const g=pr.base[s[0]],i=g.tones,o=pr.eyes[s[2]],m=s[4].split("$"),c=pr.hair[m[0]],l=hu[m[1]][0],h=hu[m[1]][1],a=pr.nose[s[8]],f=pr.cheeks[s[9]],p=s[10].split("$"),u=pr.eyebrows[p[0]],v=hu[p[1]][0];return R.jsxs("div",{className:Ct(pa.blookContainer,r),style:d,"data-tip":S||null,children:[R.jsx("img",{src:g.url,alt:"Custom Blook",draggable:!1,className:Ct(pa.blook,n)}),c.url?R.jsx(af,{src:c.url,title:"Blook Hair",className:pa.part,preProcessor:y=>{let x=y;return c.changes&&Object.entries(c.changes).forEach(([b,w])=>{x=x.replaceAll(b,i[w])}),x=x.replaceAll(Y2,l),c.hasHighlight&&(x=x.replaceAll(rF,h)),x}}):null,R.jsx("img",{src:pr.mouth[s[7]].url,alt:"Blook Mouth",draggable:!1,className:pa.part}),a.url?R.jsx(af,{src:a.url,title:"Blook Nose",className:pa.part,preProcessor:y=>{let x=y;return a.changes&&Object.entries(a.changes).forEach(([b,w])=>{x=x.replaceAll(b,i[w])}),x}}):null,f.url?R.jsx(af,{src:f.url,title:"Blook Cheeks",className:pa.part,preProcessor:y=>{let x=y;return f.changes&&Object.entries(f.changes).forEach(([b,w])=>{x=x.replaceAll(b,i[w])}),x}}):null,R.jsx(af,{src:o.url,title:"Blook Eyes",className:pa.part,preProcessor:y=>{let x=y;return o.changes&&Object.entries(o.changes).forEach(([b,w])=>{x=x.replaceAll(b,i[w])}),x}}),u.url?R.jsx(af,{src:u.url,title:"Blook Eyebrows",className:pa.part,preProcessor:y=>{let x=y;return x=x.replaceAll(Y2,v),x}}):null,pr.clothing[s[1]].url?R.jsx("img",{src:pr.clothing[s[1]].url,alt:"Blook Clothing",draggable:!1,className:pa.part}):null,pr.glasses[s[3]].url?R.jsx("img",{src:pr.glasses[s[3]].url,alt:"Blook Glasses",draggable:!1,className:pa.part}):null,pr.hat[s[5]].url?R.jsx("img",{src:pr.hat[s[5]].url,alt:"Blook Hat",draggable:!1,className:pa.part}):null,pr.item[s[6]].url?R.jsx("img",{src:pr.item[s[6]].url,alt:"Blook Item",draggable:!1,className:pa.part}):null]})};Ax.propTypes={code:Xt.string,svgurl:Xt.string,className:Xt.string,blookClassName:Xt.string,style:Xt.object,tip:Xt.string};const Jlt="_blookContainer_1601v_1",Zlt="_blook_1601v_1",qlt="_santaHat_1601v_15",tut="_caterpillarHat_1601v_23",eut="_toucanHat_1601v_28",kS={blookContainer:Jlt,blook:Zlt,santaHat:qlt,caterpillarHat:tut,toucanHat:eut},kn=({name:e,className:t,blookClassName:r,style:n,tip:d})=>{const S=pd(e);return e&&(typeof e=="string"||e instanceof String)&&e.includes("#")?R.jsx(Ax,{code:e,className:t,blookClassName:r,style:n,tip:d}):R.jsxs("div",{className:Ct(kS.blookContainer,t),style:n,"data-tip":d||null,children:[R.jsx("img",{src:ss[e]?ss[e].url:ss["Light Blue"].url,alt:`${S} Blook`,draggable:!1,className:Ct(kS.blook,r,{[kS.spookyGhost]:e==="Spooky Ghost"})}),null]})};kn.propTypes={name:Xt.string,className:Xt.string,blookClassName:Xt.string,style:Xt.object,tip:Xt.string};const iut="_container_1717y_1",rut="_loader_1717y_8",nut="_loaderBox_1717y_14",sut="_animate_1717y_1",aut="_shadow_1717y_61",qg={container:iut,loader:rut,loaderBox:nut,animate:sut,shadow:aut},Po=({blook:e})=>R.jsx("div",{className:qg.container,children:R.jsxs("div",{className:qg.loader,children:[R.jsx(kn,{name:e&&!e.includes("#")?e:"Light Blue",className:qg.loaderBox}),R.jsx("div",{className:qg.shadow})]})});Po.propTypes={blook:Xt.string};const out=["#1f77b4","#ffa31e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#b3dc23","#0bc2cf"],xr=({text:e,content:t,buttonOne:r,buttonTwo:n,loading:d,numValue:S,numChange:s,numTotal:g,priceValue:i,priceChange:o,timeValue:m,timeChange:c,stringValue:l,stringChange:h,stringPlaceholder:a,stringValue2:f,stringChange2:p,stringPlaceholder2:u,colorValue:v,colorChange:y,error:x,onSubmit:b,isDark:w,blook:C})=>R.jsx("div",{className:Qe.modal,children:R.jsxs("form",{onSubmit:b?E=>b(E):E=>E.preventDefault(),className:Ct(Pr.container,{[Pr.darkBg]:w}),children:[R.jsxs("div",{className:Ct(Pr.text,{[Pr.whiteText]:w}),children:[C?R.jsx(kn,{name:C,className:Pr.blook}):null,e||t]}),d?R.jsx(Po,{}):R.jsxs("div",{className:Pr.holder,children:[S!==void 0?R.jsxs("div",{className:Pr.numRow,children:[R.jsx("div",{className:Ct(Pr.inputContainer,Pr.smallInputContainer,{[Pr.inputFilled]:S}),children:R.jsx("input",{className:Ct(Pr.input,Pr.smallInput),placeholder:"",onChange:s,value:S,type:"tel",autoFocus:mr?"":"autofocus"})}),R.jsx("div",{className:Pr.numTotal,children:`/ ${$i(g)}`})]}):null,i!==void 0?R.jsxs("div",{className:Ct(Pr.inputContainer,{[Pr.inputFilled]:i}),children:[R.jsx("input",{className:Pr.input,placeholder:"Price",onChange:o,value:i,type:"number",autoFocus:mr?"":"autofocus"}),R.jsx("img",{src:Ee.basic.token,alt:"Token",className:Pr.token,draggable:!1})]}):null,m!==void 0?R.jsxs("div",{className:Ct(Pr.inputContainer,{[Pr.inputFilled]:m}),children:[R.jsx("input",{className:Pr.input,placeholder:"Time",onChange:c,value:m,type:"number",autoFocus:mr||i!==void 0?"":"autofocus"}),R.jsx("i",{className:Ct(Pr.icon,"far fa-clock")})]}):null,l!==void 0?R.jsx("div",{className:Ct(Pr.inputContainer,Pr.smallishInputContainer,{[Pr.inputFilled]:l}),children:R.jsx("input",{className:Pr.longInput,placeholder:a||"Name",onChange:h,value:l,type:"text",autoFocus:mr||l!==void 0?"":"autofocus"})}):null,f!==void 0?R.jsx("div",{className:Ct(Pr.inputContainer,Pr.smallishInputContainer,{[Pr.inputFilled]:f}),children:R.jsx("input",{className:Pr.longInput,placeholder:u||"Name",onChange:p,value:f,type:"text",autoFocus:mr||f!==void 0?"":"autofocus"})}):null,v!==void 0?R.jsx("div",{className:Pr.colorsHolder,children:out.map(E=>R.jsx("div",{className:Pr.colorContainer,role:"button",tabIndex:0,onClick:()=>y(E),style:{backgroundColor:E},children:E===v?R.jsx("i",{className:"fas fa-check"}):null},E))}):null,x?R.jsxs("div",{className:Pr.errorContainer,children:[R.jsx("i",{className:Ct(Pr.errorIcon,"fas fa-times-circle")}),R.jsx("div",{className:Pr.errorText,children:x})]}):null,R.jsxs("div",{className:Pr.buttonContainer,children:[n?R.jsx(Ri,{onClick:n.click,outsideClass:Pr.button,insideClass:Pr.buttonInside,color:n.color==="orange"?"#ff7b24":n.color==="red"?"#ce1313":n.color==="green"?"#4bc22e":n.color==="black"?"#3a3a3a":"#0bc2cf",children:n.text}):null,r?R.jsx(Ri,{onClick:r.click,outsideClass:Pr.button,insideClass:Pr.buttonInside,color:r.color==="orange"?"#ff7b24":r.color==="red"?"#ce1313":r.color==="green"?"#4bc22e":r.color==="black"?"#3a3a3a":"#0bc2cf",children:r.text}):null]})]}),R.jsx("input",{type:"submit",className:Pr.hiddenSubmit})]})});xr.propTypes={text:Xt.string,content:Xt.element,buttonOne:Xt.shape({text:Xt.string,click:Xt.func,color:Xt.string}),buttonTwo:Xt.shape({text:Xt.string,click:Xt.func,color:Xt.string}),loading:Xt.bool,numValue:Xt.number,numChange:Xt.func,numTotal:Xt.number,priceValue:Xt.any,priceChange:Xt.func,timeValue:Xt.any,timeChange:Xt.func,stringValue:Xt.string,stringChange:Xt.func,stringPlaceholder:Xt.string,stringValue2:Xt.string,stringChange2:Xt.func,stringPlaceholder2:Xt.string,colorValue:Xt.string,colorChange:Xt.func,error:Xt.string,onSubmit:Xt.func,isDark:Xt.bool,blook:Xt.string};const lut="_centerWrapper_1alxs_1",uut="_payContainer_1alxs_9",hut="_payHeader_1alxs_24",cut="_paySpacer_1alxs_32",dut="_payMessage_1alxs_40",fut="_payRow_1alxs_49",put="_payColumn_1alxs_59",vut="_payItem_1alxs_66",mut="_payDesc_1alxs_71",gut="_payPrice_1alxs_77",yut="_payPriceDiscount_1alxs_87",xut="_payButton_1alxs_95",but="_payButtonInside_1alxs_100",Sut="_spacer_1alxs_106",Ya={centerWrapper:lut,payContainer:uut,payHeader:hut,paySpacer:cut,payMessage:dut,payRow:fut,payColumn:put,payItem:vut,payDesc:mut,payPrice:gut,payPriceDiscount:yut,payButton:xut,payButtonInside:but,spacer:Sut};let sF=class extends ti.Component{constructor(t){super(t),this.state={planSlug:"",item:"",desc:"",priceLabel:"",loading:!1,end:""},this.onCheckout=this.onCheckout.bind(this)}componentDidMount(){return ci(this,null,function*(){if(!(yield this.props.user.getData())){Ve.logError("UpgradeCheckoutPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}const r=this.props.match.params.plan,n=yield Yr.listIndividualPlans({});let d=null;if(n.plans.forEach(s=>{s.slug===r&&(d=s)}),!d)throw new Error(`could not find plan with slug ${r}`);const S=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});this.setState({planSlug:r,item:d.name,desc:d.description,priceLabel:S.format(d.priceCents/100)})})}onCheckout(){return ci(this,null,function*(){if(!this.state.loading){this.setState({loading:!0});try{const t=yield Yr.createIndividualCheckoutSession({slug:this.state.planSlug}),r=t.sessionId;if(!r)throw new Error("cannot proceed to checkout with sessionId");const n=t.publishableKey;if(!n)throw new Error("cannot proceed to checkout without stripePublishableKey");(yield YL(n)).redirectToCheckout({sessionId:r}).then(S=>{S.error&&Ve.logError(S.error)})}catch(t){this.setState({loading:!1}),Ve.logError(t)}}})}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),R.jsx(nl,{}),R.jsx("div",{className:Qe.slantBackground}),R.jsx("div",{className:Qe.regularBody,children:R.jsxs("div",{className:Ya.centerWrapper,children:[R.jsx("div",{className:Ya.spacer}),R.jsxs("div",{className:Ya.payContainer,children:[R.jsx("div",{className:Ya.payHeader,children:"Checkout"}),R.jsx("div",{className:Ya.paySpacer}),R.jsxs("div",{className:Ya.payRow,children:[R.jsxs("div",{className:Ya.payColumn,children:[R.jsx("div",{className:Ya.payItem,children:`Blooket ${this.state.item}`}),R.jsx("div",{className:Ya.payDesc,children:this.state.desc})]}),R.jsx("div",{className:Ya.payPrice,children:this.state.priceLabel})]}),R.jsx("div",{className:Ya.paySpacer}),R.jsx(Ri,{color:"#0bc2cf",outsideClass:Ya.payButton,insideClass:Ya.payButtonInside,onClick:this.onCheckout,children:"Checkout Now"})]}),R.jsx("div",{className:Ya.spacer})]})}),this.state.loading||this.state.end?R.jsx(xr,{text:this.state.end||"Processing...",loading:this.state.loading,buttonOne:{text:this.state.end==="Success!"?"Thanks!":"Refresh",click:()=>this.state.end==="Success!"?this.props.history.push("/dashboard"):window.location.reload(),color:"blue"}}):null]})}};sF.propTypes={match:Xt.object,history:Xt.object,user:Xt.object};const wut=jn(sF),Tut="_container_t2jnm_1",Cut="_header_t2jnm_17",Eut="_subheader_t2jnm_23",kut="_button_t2jnm_30",Put="_buttonInside_t2jnm_35",cu={container:Tut,header:Cut,subheader:Eut,button:kut,buttonInside:Put};class aF extends ti.Component{constructor(t){super(t),this.state={inProgress:!1,succeeded:!1,isGroup:!1},this.checkSessionStatus=this.checkSessionStatus.bind(this),this.handleUpgrade=this.handleUpgrade.bind(this)}componentDidMount(){return ci(this,null,function*(){if(!(yield this.props.user.getData()))throw new Error("cannot handle stripe checkout success without a user");this.setState({inProgress:!0}),this.checkSessionStatus()})}handleUpgrade(){return ci(this,null,function*(){try{const t=Yr.completeCheckoutSession({});this.setState({inProgress:!1,succeeded:!0,isGroup:t.isGroup})}catch(t){this.setState({inProgress:!1,succeeded:!1,errorMessage:"Something went wrong while upgrading your account.  Please contact support and do not try again, as you will likely incur duplicate charges."}),Ve.logError("error handling upgrading account",t)}})}checkSessionStatus(){return ci(this,null,function*(){try{const t=yield Yr.checkoutSessionStatus({});t.paymentStatus===W2.PAID?this.handleUpgrade():t.paymentStatus===W2.UNPAID?setTimeout(()=>{this.checkSessionStatus()},3e3):this.setState({inProgress:!1,succeeded:!1,errorMessage:"It looks like you reached this page in error.  Please return to the dashboard!"})}catch(t){this.setState({inProgress:!1,succeeded:!1,errorMessage:"Something went wrong while while checking your payment status.  To avoid duplicate charges, please do not try again, instead contact support."}),Ve.logError("checking payment status",t)}})}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),R.jsx(nl,{}),R.jsx("div",{className:Qe.slantBackground}),R.jsx("div",{className:Qe.regularBody,children:this.state.inProgress?R.jsx(xr,{text:"Processing...",loading:this.state.inProgress}):R.jsxs("div",{className:cu.container,children:[R.jsx("div",{className:cu.header,children:this.state.succeeded?"Success!":"Failed"}),R.jsx("div",{className:cu.subheader,children:this.state.succeeded?"Thank you!":this.state.errorMessage}),R.jsx("div",{className:Qe.flex,children:R.jsx(Ri,{color:"#0bc2cf",outsideClass:cu.button,insideClass:cu.buttonInside,linkTo:this.state.isGroup?`${ar.dashboard}/group-plan/manage`:`${ar.dashboard}/my-sets`,children:this.state.isGroup?"Group Plan":"Dashboard"})})]})})]})}}aF.propTypes={user:Xt.object};const Aut=jn(aF);class oF extends ti.Component{constructor(t){super(t),this.state={isGroup:Ys("t")==="group"}}componentDidMount(){return ci(this,null,function*(){(yield this.props.user.getData())||(Ve.logError("UpgradeCancelPage cannot proceed without user"),window.location.href=`${ar.id}/login`)})}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),R.jsx(nl,{}),R.jsx("div",{className:Qe.slantBackground}),R.jsx("div",{className:Qe.regularBody,children:R.jsxs("div",{className:cu.container,children:[R.jsx("div",{className:cu.header,children:"Cancelled"}),R.jsx("div",{className:cu.subheader,children:"We were unable to process your payment"}),R.jsx("div",{className:Qe.flex,children:R.jsx(Ri,{color:"#0bc2cf",outsideClass:cu.button,insideClass:cu.buttonInside,linkTo:this.state.isGroup?"/upgrade/group/price":"/upgrade",children:"Go Back"})})]})})]})}}oF.propTypes={user:Xt.object};const Rut=jn(oF),Iut="_centerWrapper_1jiv3_1",Mut="_header_1jiv3_9",But="_groupsHolder_1jiv3_20",Out="_plan_1jiv3_29",Nut="_planBackgroundContainer_1jiv3_43",Lut="_planBackground_1jiv3_43",Fut="_planTop_1jiv3_66",Dut="_planSize_1jiv3_77",_ut="_planCalc_1jiv3_84",jut="_planPrice_1jiv3_91",zut="_planSubText_1jiv3_98",Uut="_planButton_1jiv3_106",Gut="_planButtonInside_1jiv3_111",Hut="_descContainer_1jiv3_117",$ut="_link_1jiv3_131",Wut="_individualContainer_1jiv3_140",Vut="_individualButton_1jiv3_160",Yut="_detailsHolder_1jiv3_165",Xut="_detailContainer_1jiv3_174",Qut="_detailCheck_1jiv3_188",Kut="_detailText_1jiv3_201",Jut="_spacer_1jiv3_209",qn={centerWrapper:Iut,header:Mut,groupsHolder:But,plan:Out,planBackgroundContainer:Nut,planBackground:Lut,planTop:Fut,planSize:Dut,planCalc:_ut,planPrice:jut,planSubText:zut,planButton:Uut,planButtonInside:Gut,descContainer:Hut,link:$ut,individualContainer:Wut,individualButton:Vut,detailsHolder:Yut,detailContainer:Xut,detailCheck:Qut,detailText:Kut,spacer:Jut},m8={friends:"#1f77b4",department:"#ffa31e","small-school":"#9467bd",school:"#2ca02c"},Zut=["Get Quote Immediately","Discounted Pricing","Admin Page to Manage Plans","Pay With PO or Credit Card"];class lF extends ti.Component{constructor(t){super(t),this.state={loggedIn:!1,popShown:"",groupName:"",groupPlans:[]},this.groupPlanSlug="",this.choosePlan=this.choosePlan.bind(this),this.goToQuote=this.goToQuote.bind(this)}componentDidMount(){return ci(this,null,function*(){(yield this.props.user.getData())&&this.setState({loggedIn:!0});const n=(yield Yr.listGroupPlans({})).plans;if(!n||n.length===0)throw new Error("cannot proceed wthout any valid group plans");this.setState({groupPlans:n})})}choosePlan(t){this.groupPlanSlug=t,this.setState({popShown:this.state.loggedIn?"name":"login"})}goToQuote(t){t.preventDefault(),this.props.history.push(`/upgrade/group?s=${encodeURIComponent(this.groupPlanSlug)}&n=${encodeURIComponent(this.state.groupName)}`)}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Group Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),R.jsx(nl,{}),R.jsx("div",{className:Qe.slantBackground}),R.jsx("div",{className:Qe.regularBody,children:R.jsxs("div",{className:qn.centerWrapper,children:[R.jsx("div",{className:qn.header,children:"Group Plans"}),R.jsx("div",{className:qn.groupsHolder,children:this.state.groupPlans.map(t=>R.jsxs("div",{className:qn.plan,children:[R.jsx("div",{className:qn.planBackgroundContainer,children:R.jsx("div",{className:qn.planBackground,style:{backgroundColor:m8[t.slug]}})}),R.jsx("div",{className:qn.planTop,children:t.name}),R.jsx("div",{className:qn.planSize,children:`${t.numUsers} Plus Plans`}),R.jsx("div",{className:qn.planPrice,children:`$${$i(t.priceCents/100)}`}),R.jsx("div",{className:qn.planSubText,children:"per year"}),R.jsx(Ri,{color:m8[t.slug],onClick:()=>this.choosePlan(t.slug),outsideClass:qn.planButton,insideClass:qn.planButtonInside,children:this.state.loggedIn?"Buy Now":"Get Started"})]},t.slug))}),R.jsxs("div",{className:qn.descContainer,children:["Choose a Plan. Pay with Credit Card or Purchase Order. Distribute Plus Plans Immediately.",R.jsx("br",{}),R.jsx("b",{children:"It's that simple."})]}),R.jsx("div",{className:qn.detailsHolder,children:Zut.map((t,r)=>R.jsxs("div",{className:qn.detailContainer,children:[R.jsx("i",{className:Ct("fas fa-check",qn.detailCheck),style:{display:"flex"}}),R.jsx("div",{className:qn.detailText,children:t})]},r))}),R.jsxs("div",{className:qn.descContainer,style:{margin:"20px auto 10px auto"},children:[R.jsx("b",{children:"Need a plan for more than 80 teachers?"}),R.jsx("br",{}),"Contact us at: ",R.jsx("a",{className:qn.link,href:"mailto:contact-us@blooket.com",children:"contact-us@blooket.com"})]}),R.jsxs("div",{className:qn.individualContainer,children:["Looking for Individual Plans?",R.jsx(Ri,{color:"#0bc2cf",linkTo:"/upgrade",outsideClass:qn.individualButton,insideClass:qn.planButtonInside,children:"Individual Pricing"})]}),R.jsx("div",{className:qn.spacer})]})}),this.state.popShown==="login"?R.jsx(xr,{text:"You'll need an account to purchase a group plan.",buttonOne:{text:"Ok",click:()=>{window.location.href=`${ar.id}/login`},color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({popShown:""}),color:"blue"}}):this.state.popShown==="name"?R.jsx(xr,{text:"Enter the name of your group/school:",stringValue:this.state.groupName,stringChange:t=>this.setState({groupName:t.target.value.slice(0,50)}),onSubmit:this.goToQuote,buttonOne:{text:"Get Quote",click:this.goToQuote,color:"blue"}}):null]})}}lF.propTypes={history:Xt.object,user:Xt.object};const qut=jn(lF),tht="_quote_olmmz_1",eht="_leftColumn_olmmz_11",iht="_textContainer_olmmz_21",rht="_textBigHeader_olmmz_34",nht="_bigText_olmmz_39",sht="_textHeader_olmmz_43",aht="_linkText_olmmz_48",oht="_button_olmmz_52",lht="_buttonInside_olmmz_57",uht="_downloadButton_olmmz_62",hht="_bodyContainer_olmmz_88",zr={quote:tht,leftColumn:eht,textContainer:iht,textBigHeader:rht,bigText:nht,textHeader:sht,linkText:aht,button:oht,buttonInside:lht,downloadButton:uht,bodyContainer:hht};class uF extends ti.Component{constructor(t){super(t),this.state={plan:{},groupName:"",pdf:null,loading:!1,hasGroup:!1},this.onCheckout=this.onCheckout.bind(this)}componentDidMount(){return ci(this,null,function*(){if(!(yield this.props.user.getData())){Ve.logError("UpgradeGroupPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}const r=decodeURIComponent(Ys("groupPlanName")),n=decodeURIComponent(Ys("s")),d=decodeURIComponent(Ys("n")),S=yield Yr.listGroupPlans({});let s=null;if(S.plans.forEach(g=>{(g.name===r||g.slug===n)&&(s=g)}),!s)throw new Error(`could not find a name named ${r}`);this.setState({plan:s,groupName:d}),vi.put("/api/groups/quote",{quote:{logo:Ee.basic.blooket180,from:`Blooket LLC
PO Box 830618,
Philadelphia, PA 19182-0618`,to:d,header:"QUOTE",items:[{name:`Blooket Plus: ${s.name} Plan`,quantity:1,unit_cost:s.priceCents/100,description:`${s.numUsers} One-Year Plus Plans`}],notes:`Please make sure all payments go to the Blooket Lockbox located at P.O. Box 830618, Philadelphia, 19182-0618.

If you have any questions, please email contact-us@blooket.com.

All quotes, invoices and purchases are subject to the Terms of Service of Blooket LLC unless previously agreed to in writing by the parties. The Terms of Service are located on the www.blooket.com website.  Purchasers agree to be bound by the Terms of Service and comply with the Privacy Policy provisions of the website at all times.`}}).then(g=>{this.setState({pdf:g.data.pdf,hasGroup:g.data.hasGroup})}).catch(g=>Ve.logError(g))})}onCheckout(){return ci(this,null,function*(){if(!this.state.plan||!this.state.plan.name)throw new Error("cannot checkout group plan without a valid plan");this.setState({loading:!0});try{const t=yield Yr.createGroupCheckoutSession({slug:this.state.plan.slug,groupName:this.state.groupName}),r=t.sessionId,n=t.publishableKey;(yield YL(n)).redirectToCheckout({sessionId:r}).then(S=>{S.error&&Ve.logError(S.error)})}catch(t){this.setState({loading:!1}),Ve.logError(t)}})}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Group Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),R.jsx(nl,{}),R.jsx("div",{className:Qe.slantBackground}),R.jsxs("div",{className:Ct(Qe.regularBody,zr.bodyContainer),children:[this.state.pdf?R.jsx("object",{data:`data:application/pdf;base64,${this.state.pdf}`,title:"Blooket Quote",className:zr.quote,children:R.jsx("a",{className:zr.downloadButton,download:"BlooketQuote.pdf",href:`data:application/pdf;base64,${this.state.pdf}`,children:"Download PDF"})}):null,R.jsxs("div",{className:zr.leftColumn,children:[R.jsxs("div",{className:zr.textContainer,children:[R.jsx("div",{className:zr.textBigHeader,children:this.state.groupName}),R.jsx("div",{className:zr.bigText,children:`Blooket Plus: ${this.state.plan.name} Plan`}),`${this.state.plan.numUsers} One-Year Plus Plans`]}),R.jsxs("div",{className:zr.textContainer,children:[R.jsx("div",{className:zr.textHeader,children:"Pay With Purchase Order"}),R.jsx("div",{children:"Upload your PO and we'll get your plans started immediately!"}),R.jsx("div",{className:Qe.flex,children:R.jsx(Ri,{color:"#0bc2cf",outsideClass:zr.button,insideClass:zr.buttonInside,linkTo:`/upgrade/group/po?groupPlanName=${this.state.plan.name}&n=${encodeURIComponent(this.state.groupName)}`,children:"Pay With Purchase Order"})})]}),R.jsxs("div",{className:zr.textContainer,children:[R.jsx("div",{className:zr.textHeader,children:"Pay With Credit Card"}),R.jsx("div",{children:"Use a credit card to pay and get things done quickly!"}),R.jsx("div",{className:Qe.flex,children:R.jsx(Ri,{color:"#0bc2cf",outsideClass:zr.button,insideClass:zr.buttonInside,onClick:this.onCheckout,children:"Pay With Credit Card"})})]}),R.jsxs("div",{className:zr.textContainer,children:[R.jsx("div",{className:zr.textHeader,children:"Have Questions or Need to Request our W-9?"}),R.jsxs("div",{className:zr.bigText,children:["Send us an email at: ",R.jsx("a",{className:zr.linkText,href:"mailto:contact-us@blooket.com",children:"contact-us@blooket.com"})]})]})]})]}),this.state.loading?R.jsx(xr,{text:"Loading...",loading:!0}):this.state.hasGroup?R.jsx(xr,{text:"You already have a group plan.",buttonOne:{text:"Go to Group",click:()=>{window.location.href="/group-plan/manage"},color:"blue"}}):null]})}}uF.propTypes={user:Xt.object};const cht=jn(uF);var hF;function li(){return hF.apply(null,arguments)}function dht(e){hF=e}function jl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function md(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Xr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function t5(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Xr(e,t))return!1;return!0}function qa(e){return e===void 0}function dh(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function tg(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function cF(e,t){var r=[],n,d=e.length;for(n=0;n<d;++n)r.push(t(e[n],n));return r}function Vh(e,t){for(var r in t)Xr(t,r)&&(e[r]=t[r]);return Xr(t,"toString")&&(e.toString=t.toString),Xr(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Ru(e,t,r,n){return NF(e,t,r,n,!0).utc()}function fht(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function kr(e){return e._pf==null&&(e._pf=fht()),e._pf}var X2;Array.prototype.some?X2=Array.prototype.some:X2=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function e5(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=kr(e),r=X2.call(t.parsedDateParts,function(d){return d!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function Rx(e){var t=Ru(NaN);return e!=null?Vh(kr(t),e):kr(t).userInvalidated=!0,t}var g8=li.momentProperties=[],PS=!1;function i5(e,t){var r,n,d,S=g8.length;if(qa(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),qa(t._i)||(e._i=t._i),qa(t._f)||(e._f=t._f),qa(t._l)||(e._l=t._l),qa(t._strict)||(e._strict=t._strict),qa(t._tzm)||(e._tzm=t._tzm),qa(t._isUTC)||(e._isUTC=t._isUTC),qa(t._offset)||(e._offset=t._offset),qa(t._pf)||(e._pf=kr(t)),qa(t._locale)||(e._locale=t._locale),S>0)for(r=0;r<S;r++)n=g8[r],d=t[n],qa(d)||(e[n]=d);return e}function eg(e){i5(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),PS===!1&&(PS=!0,li.updateOffset(this),PS=!1)}function zl(e){return e instanceof eg||e!=null&&e._isAMomentObject!=null}function dF(e){li.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function sl(e,t){var r=!0;return Vh(function(){if(li.deprecationHandler!=null&&li.deprecationHandler(null,e),r){var n=[],d,S,s,g=arguments.length;for(S=0;S<g;S++){if(d="",typeof arguments[S]=="object"){d+=`
[`+S+"] ";for(s in arguments[0])Xr(arguments[0],s)&&(d+=s+": "+arguments[0][s]+", ");d=d.slice(0,-2)}else d=arguments[S];n.push(d)}dF(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var y8={};function fF(e,t){li.deprecationHandler!=null&&li.deprecationHandler(e,t),y8[e]||(dF(t),y8[e]=!0)}li.suppressDeprecationWarnings=!1;li.deprecationHandler=null;function Iu(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function pht(e){var t,r;for(r in e)Xr(e,r)&&(t=e[r],Iu(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Q2(e,t){var r=Vh({},e),n;for(n in t)Xr(t,n)&&(md(e[n])&&md(t[n])?(r[n]={},Vh(r[n],e[n]),Vh(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Xr(e,n)&&!Xr(t,n)&&md(e[n])&&(r[n]=Vh({},r[n]));return r}function r5(e){e!=null&&this.set(e)}var K2;Object.keys?K2=Object.keys:K2=function(e){var t,r=[];for(t in e)Xr(e,t)&&r.push(t);return r};var vht={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function mht(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return Iu(n)?n.call(t,r):n}function Cu(e,t,r){var n=""+Math.abs(e),d=t-n.length,S=e>=0;return(S?r?"+":"":"-")+Math.pow(10,Math.max(0,d)).toString().substr(1)+n}var n5=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,t0=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,AS={},Pf={};function ir(e,t,r,n){var d=n;typeof n=="string"&&(d=function(){return this[n]()}),e&&(Pf[e]=d),t&&(Pf[t[0]]=function(){return Cu(d.apply(this,arguments),t[1],t[2])}),r&&(Pf[r]=function(){return this.localeData().ordinal(d.apply(this,arguments),e)})}function ght(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function yht(e){var t=e.match(n5),r,n;for(r=0,n=t.length;r<n;r++)Pf[t[r]]?t[r]=Pf[t[r]]:t[r]=ght(t[r]);return function(d){var S="",s;for(s=0;s<n;s++)S+=Iu(t[s])?t[s].call(d,e):t[s];return S}}function h1(e,t){return e.isValid()?(t=pF(t,e.localeData()),AS[t]=AS[t]||yht(t),AS[t](e)):e.localeData().invalidDate()}function pF(e,t){var r=5;function n(d){return t.longDateFormat(d)||d}for(t0.lastIndex=0;r>=0&&t0.test(e);)e=e.replace(t0,n),t0.lastIndex=0,r-=1;return e}var xht={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function bht(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(n5).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var Sht="Invalid date";function wht(){return this._invalidDate}var Tht="%d",Cht=/\d{1,2}/;function Eht(e){return this._ordinal.replace("%d",e)}var kht={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Pht(e,t,r,n){var d=this._relativeTime[r];return Iu(d)?d(e,t,r,n):d.replace(/%d/i,e)}function Aht(e,t){var r=this._relativeTime[e>0?"future":"past"];return Iu(r)?r(t):r.replace(/%s/i,t)}var x8={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function al(e){return typeof e=="string"?x8[e]||x8[e.toLowerCase()]:void 0}function s5(e){var t={},r,n;for(n in e)Xr(e,n)&&(r=al(n),r&&(t[r]=e[n]));return t}var Rht={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Iht(e){var t=[],r;for(r in e)Xr(e,r)&&t.push({unit:r,priority:Rht[r]});return t.sort(function(n,d){return n.priority-d.priority}),t}var vF=/\d/,Mo=/\d\d/,mF=/\d{3}/,a5=/\d{4}/,Ix=/[+-]?\d{6}/,zn=/\d\d?/,gF=/\d\d\d\d?/,yF=/\d\d\d\d\d\d?/,Mx=/\d{1,3}/,o5=/\d{1,4}/,Bx=/[+-]?\d{1,6}/,pp=/\d+/,Ox=/[+-]?\d+/,Mht=/Z|[+-]\d\d:?\d\d/gi,Nx=/Z|[+-]\d\d(?::?\d\d)?/gi,Bht=/[+-]?\d+(\.\d{1,3})?/,ig=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,vp=/^[1-9]\d?/,l5=/^([1-9]\d|\d)/,hy;hy={};function ji(e,t,r){hy[e]=Iu(t)?t:function(n,d){return n&&r?r:t}}function Oht(e,t){return Xr(hy,e)?hy[e](t._strict,t._locale):new RegExp(Nht(e))}function Nht(e){return lh(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,d,S){return r||n||d||S}))}function lh(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ho(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Lr(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Ho(t)),r}var J2={};function vn(e,t){var r,n=t,d;for(typeof e=="string"&&(e=[e]),dh(t)&&(n=function(S,s){s[t]=Lr(S)}),d=e.length,r=0;r<d;r++)J2[e[r]]=n}function rg(e,t){vn(e,function(r,n,d,S){d._w=d._w||{},t(r,d._w,d,S)})}function Lht(e,t,r){t!=null&&Xr(J2,e)&&J2[e](t,r._a,r,e)}function Lx(e){return e%4===0&&e%100!==0||e%400===0}var Ta=0,sh=1,du=2,Bs=3,Ol=4,ah=5,sd=6,Fht=7,Dht=8;ir("Y",0,0,function(){var e=this.year();return e<=9999?Cu(e,4):"+"+e});ir(0,["YY",2],0,function(){return this.year()%100});ir(0,["YYYY",4],0,"year");ir(0,["YYYYY",5],0,"year");ir(0,["YYYYYY",6,!0],0,"year");ji("Y",Ox);ji("YY",zn,Mo);ji("YYYY",o5,a5);ji("YYYYY",Bx,Ix);ji("YYYYYY",Bx,Ix);vn(["YYYYY","YYYYYY"],Ta);vn("YYYY",function(e,t){t[Ta]=e.length===2?li.parseTwoDigitYear(e):Lr(e)});vn("YY",function(e,t){t[Ta]=li.parseTwoDigitYear(e)});vn("Y",function(e,t){t[Ta]=parseInt(e,10)});function Hv(e){return Lx(e)?366:365}li.parseTwoDigitYear=function(e){return Lr(e)+(Lr(e)>68?1900:2e3)};var xF=mp("FullYear",!0);function _ht(){return Lx(this.year())}function mp(e,t){return function(r){return r!=null?(bF(this,e,r),li.updateOffset(this,t),this):Sm(this,e)}}function Sm(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function bF(e,t,r){var n,d,S,s,g;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,d=e._isUTC,t){case"Milliseconds":return void(d?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(d?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(d?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(d?n.setUTCHours(r):n.setHours(r));case"Date":return void(d?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}S=r,s=e.month(),g=e.date(),g=g===29&&s===1&&!Lx(S)?28:g,d?n.setUTCFullYear(S,s,g):n.setFullYear(S,s,g)}}function jht(e){return e=al(e),Iu(this[e])?this[e]():this}function zht(e,t){if(typeof e=="object"){e=s5(e);var r=Iht(e),n,d=r.length;for(n=0;n<d;n++)this[r[n].unit](e[r[n].unit])}else if(e=al(e),Iu(this[e]))return this[e](t);return this}function Uht(e,t){return(e%t+t)%t}var ms;Array.prototype.indexOf?ms=Array.prototype.indexOf:ms=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function u5(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Uht(t,12);return e+=(t-r)/12,r===1?Lx(e)?29:28:31-r%7%2}ir("M",["MM",2],"Mo",function(){return this.month()+1});ir("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});ir("MMMM",0,0,function(e){return this.localeData().months(this,e)});ji("M",zn,vp);ji("MM",zn,Mo);ji("MMM",function(e,t){return t.monthsShortRegex(e)});ji("MMMM",function(e,t){return t.monthsRegex(e)});vn(["M","MM"],function(e,t){t[sh]=Lr(e)-1});vn(["MMM","MMMM"],function(e,t,r,n){var d=r._locale.monthsParse(e,n,r._strict);d!=null?t[sh]=d:kr(r).invalidMonth=e});var Ght="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),SF="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),wF=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Hht=ig,$ht=ig;function Wht(e,t){return e?jl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||wF).test(t)?"format":"standalone"][e.month()]:jl(this._months)?this._months:this._months.standalone}function Vht(e,t){return e?jl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[wF.test(t)?"format":"standalone"][e.month()]:jl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Yht(e,t,r){var n,d,S,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)S=Ru([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(S,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(S,"").toLocaleLowerCase();return r?t==="MMM"?(d=ms.call(this._shortMonthsParse,s),d!==-1?d:null):(d=ms.call(this._longMonthsParse,s),d!==-1?d:null):t==="MMM"?(d=ms.call(this._shortMonthsParse,s),d!==-1?d:(d=ms.call(this._longMonthsParse,s),d!==-1?d:null)):(d=ms.call(this._longMonthsParse,s),d!==-1?d:(d=ms.call(this._shortMonthsParse,s),d!==-1?d:null))}function Xht(e,t,r){var n,d,S;if(this._monthsParseExact)return Yht.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(d=Ru([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(d,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(d,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(S="^"+this.months(d,"")+"|^"+this.monthsShort(d,""),this._monthsParse[n]=new RegExp(S.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function TF(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Lr(t);else if(t=e.localeData().monthsParse(t),!dh(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,u5(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function CF(e){return e!=null?(TF(this,e),li.updateOffset(this,!0),this):Sm(this,"Month")}function Qht(){return u5(this.year(),this.month())}function Kht(e){return this._monthsParseExact?(Xr(this,"_monthsRegex")||EF.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Xr(this,"_monthsShortRegex")||(this._monthsShortRegex=Hht),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Jht(e){return this._monthsParseExact?(Xr(this,"_monthsRegex")||EF.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Xr(this,"_monthsRegex")||(this._monthsRegex=$ht),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function EF(){function e(i,o){return o.length-i.length}var t=[],r=[],n=[],d,S,s,g;for(d=0;d<12;d++)S=Ru([2e3,d]),s=lh(this.monthsShort(S,"")),g=lh(this.months(S,"")),t.push(s),r.push(g),n.push(g),n.push(s);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Zht(e,t,r,n,d,S,s){var g;return e<100&&e>=0?(g=new Date(e+400,t,r,n,d,S,s),isFinite(g.getFullYear())&&g.setFullYear(e)):g=new Date(e,t,r,n,d,S,s),g}function wm(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function cy(e,t,r){var n=7+t-r,d=(7+wm(e,0,n).getUTCDay()-t)%7;return-d+n-1}function kF(e,t,r,n,d){var S=(7+r-n)%7,s=cy(e,n,d),g=1+7*(t-1)+S+s,i,o;return g<=0?(i=e-1,o=Hv(i)+g):g>Hv(e)?(i=e+1,o=g-Hv(e)):(i=e,o=g),{year:i,dayOfYear:o}}function Tm(e,t,r){var n=cy(e.year(),t,r),d=Math.floor((e.dayOfYear()-n-1)/7)+1,S,s;return d<1?(s=e.year()-1,S=d+uh(s,t,r)):d>uh(e.year(),t,r)?(S=d-uh(e.year(),t,r),s=e.year()+1):(s=e.year(),S=d),{week:S,year:s}}function uh(e,t,r){var n=cy(e,t,r),d=cy(e+1,t,r);return(Hv(e)-n+d)/7}ir("w",["ww",2],"wo","week");ir("W",["WW",2],"Wo","isoWeek");ji("w",zn,vp);ji("ww",zn,Mo);ji("W",zn,vp);ji("WW",zn,Mo);rg(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Lr(e)});function qht(e){return Tm(e,this._week.dow,this._week.doy).week}var tct={dow:0,doy:6};function ect(){return this._week.dow}function ict(){return this._week.doy}function rct(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function nct(e){var t=Tm(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}ir("d",0,"do","day");ir("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});ir("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});ir("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});ir("e",0,0,"weekday");ir("E",0,0,"isoWeekday");ji("d",zn);ji("e",zn);ji("E",zn);ji("dd",function(e,t){return t.weekdaysMinRegex(e)});ji("ddd",function(e,t){return t.weekdaysShortRegex(e)});ji("dddd",function(e,t){return t.weekdaysRegex(e)});rg(["dd","ddd","dddd"],function(e,t,r,n){var d=r._locale.weekdaysParse(e,n,r._strict);d!=null?t.d=d:kr(r).invalidWeekday=e});rg(["d","e","E"],function(e,t,r,n){t[n]=Lr(e)});function sct(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function act(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function h5(e,t){return e.slice(t,7).concat(e.slice(0,t))}var oct="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),PF="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),lct="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),uct=ig,hct=ig,cct=ig;function dct(e,t){var r=jl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?h5(r,this._week.dow):e?r[e.day()]:r}function fct(e){return e===!0?h5(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function pct(e){return e===!0?h5(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function vct(e,t,r){var n,d,S,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)S=Ru([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(S,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(S,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(S,"").toLocaleLowerCase();return r?t==="dddd"?(d=ms.call(this._weekdaysParse,s),d!==-1?d:null):t==="ddd"?(d=ms.call(this._shortWeekdaysParse,s),d!==-1?d:null):(d=ms.call(this._minWeekdaysParse,s),d!==-1?d:null):t==="dddd"?(d=ms.call(this._weekdaysParse,s),d!==-1||(d=ms.call(this._shortWeekdaysParse,s),d!==-1)?d:(d=ms.call(this._minWeekdaysParse,s),d!==-1?d:null)):t==="ddd"?(d=ms.call(this._shortWeekdaysParse,s),d!==-1||(d=ms.call(this._weekdaysParse,s),d!==-1)?d:(d=ms.call(this._minWeekdaysParse,s),d!==-1?d:null)):(d=ms.call(this._minWeekdaysParse,s),d!==-1||(d=ms.call(this._weekdaysParse,s),d!==-1)?d:(d=ms.call(this._shortWeekdaysParse,s),d!==-1?d:null))}function mct(e,t,r){var n,d,S;if(this._weekdaysParseExact)return vct.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(d=Ru([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(d,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(d,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(d,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(S="^"+this.weekdays(d,"")+"|^"+this.weekdaysShort(d,"")+"|^"+this.weekdaysMin(d,""),this._weekdaysParse[n]=new RegExp(S.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function gct(e){if(!this.isValid())return e!=null?this:NaN;var t=Sm(this,"Day");return e!=null?(e=sct(e,this.localeData()),this.add(e-t,"d")):t}function yct(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function xct(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=act(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function bct(e){return this._weekdaysParseExact?(Xr(this,"_weekdaysRegex")||c5.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Xr(this,"_weekdaysRegex")||(this._weekdaysRegex=uct),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Sct(e){return this._weekdaysParseExact?(Xr(this,"_weekdaysRegex")||c5.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Xr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=hct),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function wct(e){return this._weekdaysParseExact?(Xr(this,"_weekdaysRegex")||c5.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Xr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=cct),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function c5(){function e(m,c){return c.length-m.length}var t=[],r=[],n=[],d=[],S,s,g,i,o;for(S=0;S<7;S++)s=Ru([2e3,1]).day(S),g=lh(this.weekdaysMin(s,"")),i=lh(this.weekdaysShort(s,"")),o=lh(this.weekdays(s,"")),t.push(g),r.push(i),n.push(o),d.push(g),d.push(i),d.push(o);t.sort(e),r.sort(e),n.sort(e),d.sort(e),this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function d5(){return this.hours()%12||12}function Tct(){return this.hours()||24}ir("H",["HH",2],0,"hour");ir("h",["hh",2],0,d5);ir("k",["kk",2],0,Tct);ir("hmm",0,0,function(){return""+d5.apply(this)+Cu(this.minutes(),2)});ir("hmmss",0,0,function(){return""+d5.apply(this)+Cu(this.minutes(),2)+Cu(this.seconds(),2)});ir("Hmm",0,0,function(){return""+this.hours()+Cu(this.minutes(),2)});ir("Hmmss",0,0,function(){return""+this.hours()+Cu(this.minutes(),2)+Cu(this.seconds(),2)});function AF(e,t){ir(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}AF("a",!0);AF("A",!1);function RF(e,t){return t._meridiemParse}ji("a",RF);ji("A",RF);ji("H",zn,l5);ji("h",zn,vp);ji("k",zn,vp);ji("HH",zn,Mo);ji("hh",zn,Mo);ji("kk",zn,Mo);ji("hmm",gF);ji("hmmss",yF);ji("Hmm",gF);ji("Hmmss",yF);vn(["H","HH"],Bs);vn(["k","kk"],function(e,t,r){var n=Lr(e);t[Bs]=n===24?0:n});vn(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});vn(["h","hh"],function(e,t,r){t[Bs]=Lr(e),kr(r).bigHour=!0});vn("hmm",function(e,t,r){var n=e.length-2;t[Bs]=Lr(e.substr(0,n)),t[Ol]=Lr(e.substr(n)),kr(r).bigHour=!0});vn("hmmss",function(e,t,r){var n=e.length-4,d=e.length-2;t[Bs]=Lr(e.substr(0,n)),t[Ol]=Lr(e.substr(n,2)),t[ah]=Lr(e.substr(d)),kr(r).bigHour=!0});vn("Hmm",function(e,t,r){var n=e.length-2;t[Bs]=Lr(e.substr(0,n)),t[Ol]=Lr(e.substr(n))});vn("Hmmss",function(e,t,r){var n=e.length-4,d=e.length-2;t[Bs]=Lr(e.substr(0,n)),t[Ol]=Lr(e.substr(n,2)),t[ah]=Lr(e.substr(d))});function Cct(e){return(e+"").toLowerCase().charAt(0)==="p"}var Ect=/[ap]\.?m?\.?/i,kct=mp("Hours",!0);function Pct(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var IF={calendar:vht,longDateFormat:xht,invalidDate:Sht,ordinal:Tht,dayOfMonthOrdinalParse:Cht,relativeTime:kht,months:Ght,monthsShort:SF,week:tct,weekdays:oct,weekdaysMin:lct,weekdaysShort:PF,meridiemParse:Ect},Yn={},Zp={},Cm;function Act(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function b8(e){return e&&e.toLowerCase().replace("_","-")}function Rct(e){for(var t=0,r,n,d,S;t<e.length;){for(S=b8(e[t]).split("-"),r=S.length,n=b8(e[t+1]),n=n?n.split("-"):null;r>0;){if(d=Fx(S.slice(0,r).join("-")),d)return d;if(n&&n.length>=r&&Act(S,n)>=r-1)break;r--}t++}return Cm}function Ict(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Fx(e){var t=null,r;if(Yn[e]===void 0&&typeof T1!="undefined"&&T1&&T1.exports&&Ict(e))try{t=Cm._abbr,r=require,r("./locale/"+e),ac(t)}catch(n){Yn[e]=null}return Yn[e]}function ac(e,t){var r;return e&&(qa(t)?r=yh(e):r=f5(e,t),r?Cm=r:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Cm._abbr}function f5(e,t){if(t!==null){var r,n=IF;if(t.abbr=e,Yn[e]!=null)fF("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Yn[e]._config;else if(t.parentLocale!=null)if(Yn[t.parentLocale]!=null)n=Yn[t.parentLocale]._config;else if(r=Fx(t.parentLocale),r!=null)n=r._config;else return Zp[t.parentLocale]||(Zp[t.parentLocale]=[]),Zp[t.parentLocale].push({name:e,config:t}),null;return Yn[e]=new r5(Q2(n,t)),Zp[e]&&Zp[e].forEach(function(d){f5(d.name,d.config)}),ac(e),Yn[e]}else return delete Yn[e],null}function Mct(e,t){if(t!=null){var r,n,d=IF;Yn[e]!=null&&Yn[e].parentLocale!=null?Yn[e].set(Q2(Yn[e]._config,t)):(n=Fx(e),n!=null&&(d=n._config),t=Q2(d,t),n==null&&(t.abbr=e),r=new r5(t),r.parentLocale=Yn[e],Yn[e]=r),ac(e)}else Yn[e]!=null&&(Yn[e].parentLocale!=null?(Yn[e]=Yn[e].parentLocale,e===ac()&&ac(e)):Yn[e]!=null&&delete Yn[e]);return Yn[e]}function yh(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Cm;if(!jl(e)){if(t=Fx(e),t)return t;e=[e]}return Rct(e)}function Bct(){return K2(Yn)}function p5(e){var t,r=e._a;return r&&kr(e).overflow===-2&&(t=r[sh]<0||r[sh]>11?sh:r[du]<1||r[du]>u5(r[Ta],r[sh])?du:r[Bs]<0||r[Bs]>24||r[Bs]===24&&(r[Ol]!==0||r[ah]!==0||r[sd]!==0)?Bs:r[Ol]<0||r[Ol]>59?Ol:r[ah]<0||r[ah]>59?ah:r[sd]<0||r[sd]>999?sd:-1,kr(e)._overflowDayOfYear&&(t<Ta||t>du)&&(t=du),kr(e)._overflowWeeks&&t===-1&&(t=Fht),kr(e)._overflowWeekday&&t===-1&&(t=Dht),kr(e).overflow=t),e}var Oct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Nct=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Lct=/Z|[+-]\d\d(?::?\d\d)?/,e0=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],RS=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Fct=/^\/?Date\((-?\d+)/i,Dct=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_ct={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function MF(e){var t,r,n=e._i,d=Oct.exec(n)||Nct.exec(n),S,s,g,i,o=e0.length,m=RS.length;if(d){for(kr(e).iso=!0,t=0,r=o;t<r;t++)if(e0[t][1].exec(d[1])){s=e0[t][0],S=e0[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(d[3]){for(t=0,r=m;t<r;t++)if(RS[t][1].exec(d[3])){g=(d[2]||" ")+RS[t][0];break}if(g==null){e._isValid=!1;return}}if(!S&&g!=null){e._isValid=!1;return}if(d[4])if(Lct.exec(d[4]))i="Z";else{e._isValid=!1;return}e._f=s+(g||"")+(i||""),m5(e)}else e._isValid=!1}function jct(e,t,r,n,d,S){var s=[zct(e),SF.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(d,10)];return S&&s.push(parseInt(S,10)),s}function zct(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Uct(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Gct(e,t,r){if(e){var n=PF.indexOf(e),d=new Date(t[0],t[1],t[2]).getDay();if(n!==d)return kr(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Hct(e,t,r){if(e)return _ct[e];if(t)return 0;var n=parseInt(r,10),d=n%100,S=(n-d)/100;return S*60+d}function BF(e){var t=Dct.exec(Uct(e._i)),r;if(t){if(r=jct(t[4],t[3],t[2],t[5],t[6],t[7]),!Gct(t[1],r,e))return;e._a=r,e._tzm=Hct(t[8],t[9],t[10]),e._d=wm.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),kr(e).rfc2822=!0}else e._isValid=!1}function $ct(e){var t=Fct.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(MF(e),e._isValid===!1)delete e._isValid;else return;if(BF(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:li.createFromInputFallback(e)}li.createFromInputFallback=sl("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function of(e,t,r){return e!=null?e:t!=null?t:r}function Wct(e){var t=new Date(li.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function v5(e){var t,r,n=[],d,S,s;if(!e._d){for(d=Wct(e),e._w&&e._a[du]==null&&e._a[sh]==null&&Vct(e),e._dayOfYear!=null&&(s=of(e._a[Ta],d[Ta]),(e._dayOfYear>Hv(s)||e._dayOfYear===0)&&(kr(e)._overflowDayOfYear=!0),r=wm(s,0,e._dayOfYear),e._a[sh]=r.getUTCMonth(),e._a[du]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=d[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Bs]===24&&e._a[Ol]===0&&e._a[ah]===0&&e._a[sd]===0&&(e._nextDay=!0,e._a[Bs]=0),e._d=(e._useUTC?wm:Zht).apply(null,n),S=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Bs]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==S&&(kr(e).weekdayMismatch=!0)}}function Vct(e){var t,r,n,d,S,s,g,i,o;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(S=1,s=4,r=of(t.GG,e._a[Ta],Tm(_n(),1,4).year),n=of(t.W,1),d=of(t.E,1),(d<1||d>7)&&(i=!0)):(S=e._locale._week.dow,s=e._locale._week.doy,o=Tm(_n(),S,s),r=of(t.gg,e._a[Ta],o.year),n=of(t.w,o.week),t.d!=null?(d=t.d,(d<0||d>6)&&(i=!0)):t.e!=null?(d=t.e+S,(t.e<0||t.e>6)&&(i=!0)):d=S),n<1||n>uh(r,S,s)?kr(e)._overflowWeeks=!0:i!=null?kr(e)._overflowWeekday=!0:(g=kF(r,n,d,S,s),e._a[Ta]=g.year,e._dayOfYear=g.dayOfYear)}li.ISO_8601=function(){};li.RFC_2822=function(){};function m5(e){if(e._f===li.ISO_8601){MF(e);return}if(e._f===li.RFC_2822){BF(e);return}e._a=[],kr(e).empty=!0;var t=""+e._i,r,n,d,S,s,g=t.length,i=0,o,m;for(d=pF(e._f,e._locale).match(n5)||[],m=d.length,r=0;r<m;r++)S=d[r],n=(t.match(Oht(S,e))||[])[0],n&&(s=t.substr(0,t.indexOf(n)),s.length>0&&kr(e).unusedInput.push(s),t=t.slice(t.indexOf(n)+n.length),i+=n.length),Pf[S]?(n?kr(e).empty=!1:kr(e).unusedTokens.push(S),Lht(S,n,e)):e._strict&&!n&&kr(e).unusedTokens.push(S);kr(e).charsLeftOver=g-i,t.length>0&&kr(e).unusedInput.push(t),e._a[Bs]<=12&&kr(e).bigHour===!0&&e._a[Bs]>0&&(kr(e).bigHour=void 0),kr(e).parsedDateParts=e._a.slice(0),kr(e).meridiem=e._meridiem,e._a[Bs]=Yct(e._locale,e._a[Bs],e._meridiem),o=kr(e).era,o!==null&&(e._a[Ta]=e._locale.erasConvertYear(o,e._a[Ta])),v5(e),p5(e)}function Yct(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function Xct(e){var t,r,n,d,S,s,g=!1,i=e._f.length;if(i===0){kr(e).invalidFormat=!0,e._d=new Date(NaN);return}for(d=0;d<i;d++)S=0,s=!1,t=i5({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[d],m5(t),e5(t)&&(s=!0),S+=kr(t).charsLeftOver,S+=kr(t).unusedTokens.length*10,kr(t).score=S,g?S<n&&(n=S,r=t):(n==null||S<n||s)&&(n=S,r=t,s&&(g=!0));Vh(e,r||t)}function Qct(e){if(!e._d){var t=s5(e._i),r=t.day===void 0?t.date:t.day;e._a=cF([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),v5(e)}}function Kct(e){var t=new eg(p5(OF(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function OF(e){var t=e._i,r=e._f;return e._locale=e._locale||yh(e._l),t===null||r===void 0&&t===""?Rx({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),zl(t)?new eg(p5(t)):(tg(t)?e._d=t:jl(r)?Xct(e):r?m5(e):Jct(e),e5(e)||(e._d=null),e))}function Jct(e){var t=e._i;qa(t)?e._d=new Date(li.now()):tg(t)?e._d=new Date(t.valueOf()):typeof t=="string"?$ct(e):jl(t)?(e._a=cF(t.slice(0),function(r){return parseInt(r,10)}),v5(e)):md(t)?Qct(e):dh(t)?e._d=new Date(t):li.createFromInputFallback(e)}function NF(e,t,r,n,d){var S={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(md(e)&&t5(e)||jl(e)&&e.length===0)&&(e=void 0),S._isAMomentObject=!0,S._useUTC=S._isUTC=d,S._l=r,S._i=e,S._f=t,S._strict=n,Kct(S)}function _n(e,t,r,n){return NF(e,t,r,n,!1)}var Zct=sl("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_n.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Rx()}),qct=sl("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=_n.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Rx()});function LF(e,t){var r,n;if(t.length===1&&jl(t[0])&&(t=t[0]),!t.length)return _n();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function tdt(){var e=[].slice.call(arguments,0);return LF("isBefore",e)}function edt(){var e=[].slice.call(arguments,0);return LF("isAfter",e)}var idt=function(){return Date.now?Date.now():+new Date},qp=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rdt(e){var t,r=!1,n,d=qp.length;for(t in e)if(Xr(e,t)&&!(ms.call(qp,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<d;++n)if(e[qp[n]]){if(r)return!1;parseFloat(e[qp[n]])!==Lr(e[qp[n]])&&(r=!0)}return!0}function ndt(){return this._isValid}function sdt(){return Vl(NaN)}function Dx(e){var t=s5(e),r=t.year||0,n=t.quarter||0,d=t.month||0,S=t.week||t.isoWeek||0,s=t.day||0,g=t.hour||0,i=t.minute||0,o=t.second||0,m=t.millisecond||0;this._isValid=rdt(t),this._milliseconds=+m+o*1e3+i*6e4+g*1e3*60*60,this._days=+s+S*7,this._months=+d+n*3+r*12,this._data={},this._locale=yh(),this._bubble()}function c1(e){return e instanceof Dx}function Z2(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function adt(e,t,r){var n=Math.min(e.length,t.length),d=Math.abs(e.length-t.length),S=0,s;for(s=0;s<n;s++)Lr(e[s])!==Lr(t[s])&&S++;return S+d}function FF(e,t){ir(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Cu(~~(r/60),2)+t+Cu(~~r%60,2)})}FF("Z",":");FF("ZZ","");ji("Z",Nx);ji("ZZ",Nx);vn(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=g5(Nx,e)});var odt=/([\+\-]|\d\d)/gi;function g5(e,t){var r=(t||"").match(e),n,d,S;return r===null?null:(n=r[r.length-1]||[],d=(n+"").match(odt)||["-",0,0],S=+(d[1]*60)+Lr(d[2]),S===0?0:d[0]==="+"?S:-S)}function y5(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(zl(e)||tg(e)?e.valueOf():_n(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),li.updateOffset(r,!1),r):_n(e).local()}function q2(e){return-Math.round(e._d.getTimezoneOffset())}li.updateOffset=function(){};function ldt(e,t,r){var n=this._offset||0,d;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=g5(Nx,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(d=q2(this)),this._offset=e,this._isUTC=!0,d!=null&&this.add(d,"m"),n!==e&&(!t||this._changeInProgress?jF(this,Vl(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,li.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:q2(this)}function udt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function hdt(e){return this.utcOffset(0,e)}function cdt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(q2(this),"m")),this}function ddt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=g5(Mht,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function fdt(e){return this.isValid()?(e=e?_n(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function pdt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function vdt(){if(!qa(this._isDSTShifted))return this._isDSTShifted;var e={},t;return i5(e,this),e=OF(e),e._a?(t=e._isUTC?Ru(e._a):_n(e._a),this._isDSTShifted=this.isValid()&&adt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function mdt(){return this.isValid()?!this._isUTC:!1}function gdt(){return this.isValid()?this._isUTC:!1}function DF(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ydt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xdt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Vl(e,t){var r=e,n=null,d,S,s;return c1(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:dh(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=ydt.exec(e))?(d=n[1]==="-"?-1:1,r={y:0,d:Lr(n[du])*d,h:Lr(n[Bs])*d,m:Lr(n[Ol])*d,s:Lr(n[ah])*d,ms:Lr(Z2(n[sd]*1e3))*d}):(n=xdt.exec(e))?(d=n[1]==="-"?-1:1,r={y:jc(n[2],d),M:jc(n[3],d),w:jc(n[4],d),d:jc(n[5],d),h:jc(n[6],d),m:jc(n[7],d),s:jc(n[8],d)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(s=bdt(_n(r.from),_n(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),S=new Dx(r),c1(e)&&Xr(e,"_locale")&&(S._locale=e._locale),c1(e)&&Xr(e,"_isValid")&&(S._isValid=e._isValid),S}Vl.fn=Dx.prototype;Vl.invalid=sdt;function jc(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function S8(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function bdt(e,t){var r;return e.isValid()&&t.isValid()?(t=y5(t,e),e.isBefore(t)?r=S8(e,t):(r=S8(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function _F(e,t){return function(r,n){var d,S;return n!==null&&!isNaN(+n)&&(fF(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),S=r,r=n,n=S),d=Vl(r,n),jF(this,d,e),this}}function jF(e,t,r,n){var d=t._milliseconds,S=Z2(t._days),s=Z2(t._months);e.isValid()&&(n=n==null?!0:n,s&&TF(e,Sm(e,"Month")+s*r),S&&bF(e,"Date",Sm(e,"Date")+S*r),d&&e._d.setTime(e._d.valueOf()+d*r),n&&li.updateOffset(e,S||s))}var Sdt=_F(1,"add"),wdt=_F(-1,"subtract");function zF(e){return typeof e=="string"||e instanceof String}function Tdt(e){return zl(e)||tg(e)||zF(e)||dh(e)||Edt(e)||Cdt(e)||e===null||e===void 0}function Cdt(e){var t=md(e)&&!t5(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],d,S,s=n.length;for(d=0;d<s;d+=1)S=n[d],r=r||Xr(e,S);return t&&r}function Edt(e){var t=jl(e),r=!1;return t&&(r=e.filter(function(n){return!dh(n)&&zF(e)}).length===0),t&&r}function kdt(e){var t=md(e)&&!t5(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],d,S;for(d=0;d<n.length;d+=1)S=n[d],r=r||Xr(e,S);return t&&r}function Pdt(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Adt(e,t){arguments.length===1&&(arguments[0]?Tdt(arguments[0])?(e=arguments[0],t=void 0):kdt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||_n(),n=y5(r,this).startOf("day"),d=li.calendarFormat(this,n)||"sameElse",S=t&&(Iu(t[d])?t[d].call(this,r):t[d]);return this.format(S||this.localeData().calendar(d,this,_n(r)))}function Rdt(){return new eg(this)}function Idt(e,t){var r=zl(e)?e:_n(e);return this.isValid()&&r.isValid()?(t=al(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function Mdt(e,t){var r=zl(e)?e:_n(e);return this.isValid()&&r.isValid()?(t=al(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Bdt(e,t,r,n){var d=zl(e)?e:_n(e),S=zl(t)?t:_n(t);return this.isValid()&&d.isValid()&&S.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(d,r):!this.isBefore(d,r))&&(n[1]===")"?this.isBefore(S,r):!this.isAfter(S,r))):!1}function Odt(e,t){var r=zl(e)?e:_n(e),n;return this.isValid()&&r.isValid()?(t=al(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Ndt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ldt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Fdt(e,t,r){var n,d,S;if(!this.isValid())return NaN;if(n=y5(e,this),!n.isValid())return NaN;switch(d=(n.utcOffset()-this.utcOffset())*6e4,t=al(t),t){case"year":S=d1(this,n)/12;break;case"month":S=d1(this,n);break;case"quarter":S=d1(this,n)/3;break;case"second":S=(this-n)/1e3;break;case"minute":S=(this-n)/6e4;break;case"hour":S=(this-n)/36e5;break;case"day":S=(this-n-d)/864e5;break;case"week":S=(this-n-d)/6048e5;break;default:S=this-n}return r?S:Ho(S)}function d1(e,t){if(e.date()<t.date())return-d1(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),d,S;return t-n<0?(d=e.clone().add(r-1,"months"),S=(t-n)/(n-d)):(d=e.clone().add(r+1,"months"),S=(t-n)/(d-n)),-(r+S)||0}li.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";li.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Ddt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function _dt(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?h1(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Iu(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",h1(r,"Z")):h1(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function jdt(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,d,S;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",d="-MM-DD[T]HH:mm:ss.SSS",S=t+'[")]',this.format(r+n+d+S)}function zdt(e){e||(e=this.isUtc()?li.defaultFormatUtc:li.defaultFormat);var t=h1(this,e);return this.localeData().postformat(t)}function Udt(e,t){return this.isValid()&&(zl(e)&&e.isValid()||_n(e).isValid())?Vl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Gdt(e){return this.from(_n(),e)}function Hdt(e,t){return this.isValid()&&(zl(e)&&e.isValid()||_n(e).isValid())?Vl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function $dt(e){return this.to(_n(),e)}function UF(e){var t;return e===void 0?this._locale._abbr:(t=yh(e),t!=null&&(this._locale=t),this)}var GF=sl("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function HF(){return this._locale}var dy=1e3,Af=60*dy,fy=60*Af,$F=(365*400+97)*24*fy;function Rf(e,t){return(e%t+t)%t}function WF(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-$F:new Date(e,t,r).valueOf()}function VF(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-$F:Date.UTC(e,t,r)}function Wdt(e){var t,r;if(e=al(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?VF:WF,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Rf(t+(this._isUTC?0:this.utcOffset()*Af),fy);break;case"minute":t=this._d.valueOf(),t-=Rf(t,Af);break;case"second":t=this._d.valueOf(),t-=Rf(t,dy);break}return this._d.setTime(t),li.updateOffset(this,!0),this}function Vdt(e){var t,r;if(e=al(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?VF:WF,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fy-Rf(t+(this._isUTC?0:this.utcOffset()*Af),fy)-1;break;case"minute":t=this._d.valueOf(),t+=Af-Rf(t,Af)-1;break;case"second":t=this._d.valueOf(),t+=dy-Rf(t,dy)-1;break}return this._d.setTime(t),li.updateOffset(this,!0),this}function Ydt(){return this._d.valueOf()-(this._offset||0)*6e4}function Xdt(){return Math.floor(this.valueOf()/1e3)}function Qdt(){return new Date(this.valueOf())}function Kdt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Jdt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Zdt(){return this.isValid()?this.toISOString():null}function qdt(){return e5(this)}function tft(){return Vh({},kr(this))}function eft(){return kr(this).overflow}function ift(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ir("N",0,0,"eraAbbr");ir("NN",0,0,"eraAbbr");ir("NNN",0,0,"eraAbbr");ir("NNNN",0,0,"eraName");ir("NNNNN",0,0,"eraNarrow");ir("y",["y",1],"yo","eraYear");ir("y",["yy",2],0,"eraYear");ir("y",["yyy",3],0,"eraYear");ir("y",["yyyy",4],0,"eraYear");ji("N",x5);ji("NN",x5);ji("NNN",x5);ji("NNNN",fft);ji("NNNNN",pft);vn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var d=r._locale.erasParse(e,n,r._strict);d?kr(r).era=d:kr(r).invalidEra=e});ji("y",pp);ji("yy",pp);ji("yyy",pp);ji("yyyy",pp);ji("yo",vft);vn(["y","yy","yyy","yyyy"],Ta);vn(["yo"],function(e,t,r,n){var d;r._locale._eraYearOrdinalRegex&&(d=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Ta]=r._locale.eraYearOrdinalParse(e,d):t[Ta]=parseInt(e,10)});function rft(e,t){var r,n,d,S=this._eras||yh("en")._eras;for(r=0,n=S.length;r<n;++r){switch(typeof S[r].since){case"string":d=li(S[r].since).startOf("day"),S[r].since=d.valueOf();break}switch(typeof S[r].until){case"undefined":S[r].until=1/0;break;case"string":d=li(S[r].until).startOf("day").valueOf(),S[r].until=d.valueOf();break}}return S}function nft(e,t,r){var n,d,S=this.eras(),s,g,i;for(e=e.toUpperCase(),n=0,d=S.length;n<d;++n)if(s=S[n].name.toUpperCase(),g=S[n].abbr.toUpperCase(),i=S[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(g===e)return S[n];break;case"NNNN":if(s===e)return S[n];break;case"NNNNN":if(i===e)return S[n];break}else if([s,g,i].indexOf(e)>=0)return S[n]}function sft(e,t){var r=e.since<=e.until?1:-1;return t===void 0?li(e.since).year():li(e.since).year()+(t-e.offset)*r}function aft(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function oft(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function lft(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function uft(){var e,t,r,n,d=this.localeData().eras();for(e=0,t=d.length;e<t;++e)if(r=d[e].since<=d[e].until?1:-1,n=this.clone().startOf("day").valueOf(),d[e].since<=n&&n<=d[e].until||d[e].until<=n&&n<=d[e].since)return(this.year()-li(d[e].since).year())*r+d[e].offset;return this.year()}function hft(e){return Xr(this,"_erasNameRegex")||b5.call(this),e?this._erasNameRegex:this._erasRegex}function cft(e){return Xr(this,"_erasAbbrRegex")||b5.call(this),e?this._erasAbbrRegex:this._erasRegex}function dft(e){return Xr(this,"_erasNarrowRegex")||b5.call(this),e?this._erasNarrowRegex:this._erasRegex}function x5(e,t){return t.erasAbbrRegex(e)}function fft(e,t){return t.erasNameRegex(e)}function pft(e,t){return t.erasNarrowRegex(e)}function vft(e,t){return t._eraYearOrdinalRegex||pp}function b5(){var e=[],t=[],r=[],n=[],d,S,s,g,i,o=this.eras();for(d=0,S=o.length;d<S;++d)s=lh(o[d].name),g=lh(o[d].abbr),i=lh(o[d].narrow),t.push(s),e.push(g),r.push(i),n.push(s),n.push(g),n.push(i);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}ir(0,["gg",2],0,function(){return this.weekYear()%100});ir(0,["GG",2],0,function(){return this.isoWeekYear()%100});function _x(e,t){ir(0,[e,e.length],0,t)}_x("gggg","weekYear");_x("ggggg","weekYear");_x("GGGG","isoWeekYear");_x("GGGGG","isoWeekYear");ji("G",Ox);ji("g",Ox);ji("GG",zn,Mo);ji("gg",zn,Mo);ji("GGGG",o5,a5);ji("gggg",o5,a5);ji("GGGGG",Bx,Ix);ji("ggggg",Bx,Ix);rg(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Lr(e)});rg(["gg","GG"],function(e,t,r,n){t[n]=li.parseTwoDigitYear(e)});function mft(e){return YF.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function gft(e){return YF.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function yft(){return uh(this.year(),1,4)}function xft(){return uh(this.isoWeekYear(),1,4)}function bft(){var e=this.localeData()._week;return uh(this.year(),e.dow,e.doy)}function Sft(){var e=this.localeData()._week;return uh(this.weekYear(),e.dow,e.doy)}function YF(e,t,r,n,d){var S;return e==null?Tm(this,n,d).year:(S=uh(e,n,d),t>S&&(t=S),wft.call(this,e,t,r,n,d))}function wft(e,t,r,n,d){var S=kF(e,t,r,n,d),s=wm(S.year,0,S.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}ir("Q",0,"Qo","quarter");ji("Q",vF);vn("Q",function(e,t){t[sh]=(Lr(e)-1)*3});function Tft(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ir("D",["DD",2],"Do","date");ji("D",zn,vp);ji("DD",zn,Mo);ji("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});vn(["D","DD"],du);vn("Do",function(e,t){t[du]=Lr(e.match(zn)[0])});var XF=mp("Date",!0);ir("DDD",["DDDD",3],"DDDo","dayOfYear");ji("DDD",Mx);ji("DDDD",mF);vn(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Lr(e)});function Cft(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ir("m",["mm",2],0,"minute");ji("m",zn,l5);ji("mm",zn,Mo);vn(["m","mm"],Ol);var Eft=mp("Minutes",!1);ir("s",["ss",2],0,"second");ji("s",zn,l5);ji("ss",zn,Mo);vn(["s","ss"],ah);var kft=mp("Seconds",!1);ir("S",0,0,function(){return~~(this.millisecond()/100)});ir(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ir(0,["SSS",3],0,"millisecond");ir(0,["SSSS",4],0,function(){return this.millisecond()*10});ir(0,["SSSSS",5],0,function(){return this.millisecond()*100});ir(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ir(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ir(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ir(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ji("S",Mx,vF);ji("SS",Mx,Mo);ji("SSS",Mx,mF);var Yh,QF;for(Yh="SSSS";Yh.length<=9;Yh+="S")ji(Yh,pp);function Pft(e,t){t[sd]=Lr(("0."+e)*1e3)}for(Yh="S";Yh.length<=9;Yh+="S")vn(Yh,Pft);QF=mp("Milliseconds",!1);ir("z",0,0,"zoneAbbr");ir("zz",0,0,"zoneName");function Aft(){return this._isUTC?"UTC":""}function Rft(){return this._isUTC?"Coordinated Universal Time":""}var yi=eg.prototype;yi.add=Sdt;yi.calendar=Adt;yi.clone=Rdt;yi.diff=Fdt;yi.endOf=Vdt;yi.format=zdt;yi.from=Udt;yi.fromNow=Gdt;yi.to=Hdt;yi.toNow=$dt;yi.get=jht;yi.invalidAt=eft;yi.isAfter=Idt;yi.isBefore=Mdt;yi.isBetween=Bdt;yi.isSame=Odt;yi.isSameOrAfter=Ndt;yi.isSameOrBefore=Ldt;yi.isValid=qdt;yi.lang=GF;yi.locale=UF;yi.localeData=HF;yi.max=qct;yi.min=Zct;yi.parsingFlags=tft;yi.set=zht;yi.startOf=Wdt;yi.subtract=wdt;yi.toArray=Kdt;yi.toObject=Jdt;yi.toDate=Qdt;yi.toISOString=_dt;yi.inspect=jdt;typeof Symbol!="undefined"&&Symbol.for!=null&&(yi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});yi.toJSON=Zdt;yi.toString=Ddt;yi.unix=Xdt;yi.valueOf=Ydt;yi.creationData=ift;yi.eraName=aft;yi.eraNarrow=oft;yi.eraAbbr=lft;yi.eraYear=uft;yi.year=xF;yi.isLeapYear=_ht;yi.weekYear=mft;yi.isoWeekYear=gft;yi.quarter=yi.quarters=Tft;yi.month=CF;yi.daysInMonth=Qht;yi.week=yi.weeks=rct;yi.isoWeek=yi.isoWeeks=nct;yi.weeksInYear=bft;yi.weeksInWeekYear=Sft;yi.isoWeeksInYear=yft;yi.isoWeeksInISOWeekYear=xft;yi.date=XF;yi.day=yi.days=gct;yi.weekday=yct;yi.isoWeekday=xct;yi.dayOfYear=Cft;yi.hour=yi.hours=kct;yi.minute=yi.minutes=Eft;yi.second=yi.seconds=kft;yi.millisecond=yi.milliseconds=QF;yi.utcOffset=ldt;yi.utc=hdt;yi.local=cdt;yi.parseZone=ddt;yi.hasAlignedHourOffset=fdt;yi.isDST=pdt;yi.isLocal=mdt;yi.isUtcOffset=gdt;yi.isUtc=DF;yi.isUTC=DF;yi.zoneAbbr=Aft;yi.zoneName=Rft;yi.dates=sl("dates accessor is deprecated. Use date instead.",XF);yi.months=sl("months accessor is deprecated. Use month instead",CF);yi.years=sl("years accessor is deprecated. Use year instead",xF);yi.zone=sl("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",udt);yi.isDSTShifted=sl("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",vdt);function Ift(e){return _n(e*1e3)}function Mft(){return _n.apply(null,arguments).parseZone()}function KF(e){return e}var Qr=r5.prototype;Qr.calendar=mht;Qr.longDateFormat=bht;Qr.invalidDate=wht;Qr.ordinal=Eht;Qr.preparse=KF;Qr.postformat=KF;Qr.relativeTime=Pht;Qr.pastFuture=Aht;Qr.set=pht;Qr.eras=rft;Qr.erasParse=nft;Qr.erasConvertYear=sft;Qr.erasAbbrRegex=cft;Qr.erasNameRegex=hft;Qr.erasNarrowRegex=dft;Qr.months=Wht;Qr.monthsShort=Vht;Qr.monthsParse=Xht;Qr.monthsRegex=Jht;Qr.monthsShortRegex=Kht;Qr.week=qht;Qr.firstDayOfYear=ict;Qr.firstDayOfWeek=ect;Qr.weekdays=dct;Qr.weekdaysMin=pct;Qr.weekdaysShort=fct;Qr.weekdaysParse=mct;Qr.weekdaysRegex=bct;Qr.weekdaysShortRegex=Sct;Qr.weekdaysMinRegex=wct;Qr.isPM=Cct;Qr.meridiem=Pct;function py(e,t,r,n){var d=yh(),S=Ru().set(n,t);return d[r](S,e)}function JF(e,t,r){if(dh(e)&&(t=e,e=void 0),e=e||"",t!=null)return py(e,t,r,"month");var n,d=[];for(n=0;n<12;n++)d[n]=py(e,n,r,"month");return d}function S5(e,t,r,n){typeof e=="boolean"?(dh(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,dh(t)&&(r=t,t=void 0),t=t||"");var d=yh(),S=e?d._week.dow:0,s,g=[];if(r!=null)return py(t,(r+S)%7,n,"day");for(s=0;s<7;s++)g[s]=py(t,(s+S)%7,n,"day");return g}function Bft(e,t){return JF(e,t,"months")}function Oft(e,t){return JF(e,t,"monthsShort")}function Nft(e,t,r){return S5(e,t,r,"weekdays")}function Lft(e,t,r){return S5(e,t,r,"weekdaysShort")}function Fft(e,t,r){return S5(e,t,r,"weekdaysMin")}ac("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Lr(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});li.lang=sl("moment.lang is deprecated. Use moment.locale instead.",ac);li.langData=sl("moment.langData is deprecated. Use moment.localeData instead.",yh);var Du=Math.abs;function Dft(){var e=this._data;return this._milliseconds=Du(this._milliseconds),this._days=Du(this._days),this._months=Du(this._months),e.milliseconds=Du(e.milliseconds),e.seconds=Du(e.seconds),e.minutes=Du(e.minutes),e.hours=Du(e.hours),e.months=Du(e.months),e.years=Du(e.years),this}function ZF(e,t,r,n){var d=Vl(t,r);return e._milliseconds+=n*d._milliseconds,e._days+=n*d._days,e._months+=n*d._months,e._bubble()}function _ft(e,t){return ZF(this,e,t,1)}function jft(e,t){return ZF(this,e,t,-1)}function w8(e){return e<0?Math.floor(e):Math.ceil(e)}function zft(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,d,S,s,g,i;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=w8(tC(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,d=Ho(e/1e3),n.seconds=d%60,S=Ho(d/60),n.minutes=S%60,s=Ho(S/60),n.hours=s%24,t+=Ho(s/24),i=Ho(qF(t)),r+=i,t-=w8(tC(i)),g=Ho(r/12),r%=12,n.days=t,n.months=r,n.years=g,this}function qF(e){return e*4800/146097}function tC(e){return e*146097/4800}function Uft(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=al(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+qF(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(tC(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function xh(e){return function(){return this.as(e)}}var tD=xh("ms"),Gft=xh("s"),Hft=xh("m"),$ft=xh("h"),Wft=xh("d"),Vft=xh("w"),Yft=xh("M"),Xft=xh("Q"),Qft=xh("y"),Kft=tD;function Jft(){return Vl(this)}function Zft(e){return e=al(e),this.isValid()?this[e+"s"]():NaN}function Id(e){return function(){return this.isValid()?this._data[e]:NaN}}var qft=Id("milliseconds"),tpt=Id("seconds"),ept=Id("minutes"),ipt=Id("hours"),rpt=Id("days"),npt=Id("months"),spt=Id("years");function apt(){return Ho(this.days()/7)}var Vu=Math.round,mf={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function opt(e,t,r,n,d){return d.relativeTime(t||1,!!r,e,n)}function lpt(e,t,r,n){var d=Vl(e).abs(),S=Vu(d.as("s")),s=Vu(d.as("m")),g=Vu(d.as("h")),i=Vu(d.as("d")),o=Vu(d.as("M")),m=Vu(d.as("w")),c=Vu(d.as("y")),l=S<=r.ss&&["s",S]||S<r.s&&["ss",S]||s<=1&&["m"]||s<r.m&&["mm",s]||g<=1&&["h"]||g<r.h&&["hh",g]||i<=1&&["d"]||i<r.d&&["dd",i];return r.w!=null&&(l=l||m<=1&&["w"]||m<r.w&&["ww",m]),l=l||o<=1&&["M"]||o<r.M&&["MM",o]||c<=1&&["y"]||["yy",c],l[2]=t,l[3]=+e>0,l[4]=n,opt.apply(null,l)}function upt(e){return e===void 0?Vu:typeof e=="function"?(Vu=e,!0):!1}function hpt(e,t){return mf[e]===void 0?!1:t===void 0?mf[e]:(mf[e]=t,e==="s"&&(mf.ss=t-1),!0)}function cpt(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=mf,d,S;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},mf,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),d=this.localeData(),S=lpt(this,!r,n,d),r&&(S=d.pastFuture(+this,S)),d.postformat(S)}var IS=Math.abs;function Yd(e){return(e>0)-(e<0)||+e}function jx(){if(!this.isValid())return this.localeData().invalidDate();var e=IS(this._milliseconds)/1e3,t=IS(this._days),r=IS(this._months),n,d,S,s,g=this.asSeconds(),i,o,m,c;return g?(n=Ho(e/60),d=Ho(n/60),e%=60,n%=60,S=Ho(r/12),r%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",i=g<0?"-":"",o=Yd(this._months)!==Yd(g)?"-":"",m=Yd(this._days)!==Yd(g)?"-":"",c=Yd(this._milliseconds)!==Yd(g)?"-":"",i+"P"+(S?o+S+"Y":"")+(r?o+r+"M":"")+(t?m+t+"D":"")+(d||n||e?"T":"")+(d?c+d+"H":"")+(n?c+n+"M":"")+(e?c+s+"S":"")):"P0D"}var Gr=Dx.prototype;Gr.isValid=ndt;Gr.abs=Dft;Gr.add=_ft;Gr.subtract=jft;Gr.as=Uft;Gr.asMilliseconds=tD;Gr.asSeconds=Gft;Gr.asMinutes=Hft;Gr.asHours=$ft;Gr.asDays=Wft;Gr.asWeeks=Vft;Gr.asMonths=Yft;Gr.asQuarters=Xft;Gr.asYears=Qft;Gr.valueOf=Kft;Gr._bubble=zft;Gr.clone=Jft;Gr.get=Zft;Gr.milliseconds=qft;Gr.seconds=tpt;Gr.minutes=ept;Gr.hours=ipt;Gr.days=rpt;Gr.weeks=apt;Gr.months=npt;Gr.years=spt;Gr.humanize=cpt;Gr.toISOString=jx;Gr.toString=jx;Gr.toJSON=jx;Gr.locale=UF;Gr.localeData=HF;Gr.toIsoString=sl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jx);Gr.lang=GF;ir("X",0,0,"unix");ir("x",0,0,"valueOf");ji("x",Ox);ji("X",Bht);vn("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});vn("x",function(e,t,r){r._d=new Date(Lr(e))});li.version="2.30.1";dht(_n);li.fn=yi;li.min=tdt;li.max=edt;li.now=idt;li.utc=Ru;li.unix=Ift;li.months=Bft;li.isDate=tg;li.locale=ac;li.invalid=Rx;li.duration=Vl;li.isMoment=zl;li.weekdays=Nft;li.parseZone=Mft;li.localeData=yh;li.isDuration=c1;li.monthsShort=Oft;li.weekdaysMin=Fft;li.defineLocale=f5;li.updateLocale=Mct;li.locales=Bct;li.weekdaysShort=Lft;li.normalizeUnits=al;li.relativeTimeRounding=upt;li.relativeTimeThreshold=hpt;li.calendarFormat=Pdt;li.prototype=yi;li.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var dpt=function(e){function t(n){if(r[n])return r[n].exports;var d=r[n]={i:n,l:!1,exports:{}};return e[n].call(d.exports,d,d.exports,t),d.l=!0,d.exports}var r={};return t.m=e,t.c=r,t.d=function(n,d,S){t.o(n,d)||Object.defineProperty(n,d,{configurable:!1,enumerable:!0,get:S})},t.n=function(n){var d=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(d,"a",d),d},t.o=function(n,d){return Object.prototype.hasOwnProperty.call(n,d)},t.p="",t(t.s=13)}([function(e,t){var r=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=r)},function(e,t){e.exports=function(r){return typeof r=="object"?r!==null:typeof r=="function"}},function(e,t){var r=e.exports={version:"2.5.0"};typeof __e=="number"&&(__e=r)},function(e,t,r){e.exports=!r(4)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e,t){e.exports=function(r){try{return!!r()}catch(n){return!0}}},function(e,t){var r={}.toString;e.exports=function(n){return r.call(n).slice(8,-1)}},function(e,t,r){var n=r(32)("wks"),d=r(9),S=r(0).Symbol,s=typeof S=="function";(e.exports=function(g){return n[g]||(n[g]=s&&S[g]||(s?S:d)("Symbol."+g))}).store=n},function(e,t,r){var n=r(0),d=r(2),S=r(8),s=r(22),g=r(10),i=function(o,m,c){var l,h,a,f,p=o&i.F,u=o&i.G,v=o&i.S,y=o&i.P,x=o&i.B,b=u?n:v?n[m]||(n[m]={}):(n[m]||{}).prototype,w=u?d:d[m]||(d[m]={}),C=w.prototype||(w.prototype={});u&&(c=m);for(l in c)h=!p&&b&&b[l]!==void 0,a=(h?b:c)[l],f=x&&h?g(a,n):y&&typeof a=="function"?g(Function.call,a):a,b&&s(b,l,a,o&i.U),w[l]!=a&&S(w,l,f),y&&C[l]!=a&&(C[l]=a)};n.core=d,i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,e.exports=i},function(e,t,r){var n=r(16),d=r(21);e.exports=r(3)?function(S,s,g){return n.f(S,s,d(1,g))}:function(S,s,g){return S[s]=g,S}},function(e,t){var r=0,n=Math.random();e.exports=function(d){return"Symbol(".concat(d===void 0?"":d,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(24);e.exports=function(d,S,s){if(n(d),S===void 0)return d;switch(s){case 1:return function(g){return d.call(S,g)};case 2:return function(g,i){return d.call(S,g,i)};case 3:return function(g,i,o){return d.call(S,g,i,o)}}return function(){return d.apply(S,arguments)}}},function(e,t){e.exports=function(r){if(r==null)throw TypeError("Can't call method on  "+r);return r}},function(e,t,r){var n=r(28),d=Math.min;e.exports=function(S){return S>0?d(n(S),9007199254740991):0}},function(e,t,r){t.__esModule=!0,t.default=function(n,d){if(n&&d){var S=Array.isArray(d)?d:d.split(","),s=n.name||"",g=n.type||"",i=g.replace(/\/.*$/,"");return S.some(function(o){var m=o.trim();return m.charAt(0)==="."?s.toLowerCase().endsWith(m.toLowerCase()):m.endsWith("/*")?i===m.replace(/\/.*$/,""):g===m})}return!0},r(14),r(34)},function(e,t,r){r(15),e.exports=r(2).Array.some},function(e,t,r){var n=r(7),d=r(25)(3);n(n.P+n.F*!r(33)([].some,!0),"Array",{some:function(S){return d(this,S,arguments[1])}})},function(e,t,r){var n=r(17),d=r(18),S=r(20),s=Object.defineProperty;t.f=r(3)?Object.defineProperty:function(g,i,o){if(n(g),i=S(i,!0),n(o),d)try{return s(g,i,o)}catch(m){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(g[i]=o.value),g}},function(e,t,r){var n=r(1);e.exports=function(d){if(!n(d))throw TypeError(d+" is not an object!");return d}},function(e,t,r){e.exports=!r(3)&&!r(4)(function(){return Object.defineProperty(r(19)("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,r){var n=r(1),d=r(0).document,S=n(d)&&n(d.createElement);e.exports=function(s){return S?d.createElement(s):{}}},function(e,t,r){var n=r(1);e.exports=function(d,S){if(!n(d))return d;var s,g;if(S&&typeof(s=d.toString)=="function"&&!n(g=s.call(d))||typeof(s=d.valueOf)=="function"&&!n(g=s.call(d))||!S&&typeof(s=d.toString)=="function"&&!n(g=s.call(d)))return g;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(r,n){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:n}}},function(e,t,r){var n=r(0),d=r(8),S=r(23),s=r(9)("src"),g=Function.toString,i=(""+g).split("toString");r(2).inspectSource=function(o){return g.call(o)},(e.exports=function(o,m,c,l){var h=typeof c=="function";h&&(S(c,"name")||d(c,"name",m)),o[m]!==c&&(h&&(S(c,s)||d(c,s,o[m]?""+o[m]:i.join(String(m)))),o===n?o[m]=c:l?o[m]?o[m]=c:d(o,m,c):(delete o[m],d(o,m,c)))})(Function.prototype,"toString",function(){return typeof this=="function"&&this[s]||g.call(this)})},function(e,t){var r={}.hasOwnProperty;e.exports=function(n,d){return r.call(n,d)}},function(e,t){e.exports=function(r){if(typeof r!="function")throw TypeError(r+" is not a function!");return r}},function(e,t,r){var n=r(10),d=r(26),S=r(27),s=r(12),g=r(29);e.exports=function(i,o){var m=i==1,c=i==2,l=i==3,h=i==4,a=i==6,f=i==5||a,p=o||g;return function(u,v,y){for(var x,b,w=S(u),C=d(w),E=n(v,y,3),T=s(C.length),k=0,A=m?p(u,T):c?p(u,0):void 0;T>k;k++)if((f||k in C)&&(x=C[k],b=E(x,k,w),i)){if(m)A[k]=b;else if(b)switch(i){case 3:return!0;case 5:return x;case 6:return k;case 2:A.push(x)}else if(h)return!1}return a?-1:l||h?h:A}}},function(e,t,r){var n=r(5);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(d){return n(d)=="String"?d.split(""):Object(d)}},function(e,t,r){var n=r(11);e.exports=function(d){return Object(n(d))}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(d){return isNaN(d=+d)?0:(d>0?n:r)(d)}},function(e,t,r){var n=r(30);e.exports=function(d,S){return new(n(d))(S)}},function(e,t,r){var n=r(1),d=r(31),S=r(6)("species");e.exports=function(s){var g;return d(s)&&(g=s.constructor,typeof g!="function"||g!==Array&&!d(g.prototype)||(g=void 0),n(g)&&(g=g[S])===null&&(g=void 0)),g===void 0?Array:g}},function(e,t,r){var n=r(5);e.exports=Array.isArray||function(d){return n(d)=="Array"}},function(e,t,r){var n=r(0),d=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(S){return d[S]||(d[S]={})}},function(e,t,r){var n=r(4);e.exports=function(d,S){return!!d&&n(function(){S?d.call(null,function(){},1):d.call(null)})}},function(e,t,r){r(35),e.exports=r(2).String.endsWith},function(e,t,r){var n=r(7),d=r(12),S=r(36),s="".endsWith;n(n.P+n.F*r(38)("endsWith"),"String",{endsWith:function(g){var i=S(this,g,"endsWith"),o=arguments.length>1?arguments[1]:void 0,m=d(i.length),c=o===void 0?m:Math.min(d(o),m),l=String(g);return s?s.call(i,l,c):i.slice(c-l.length,c)===l}})},function(e,t,r){var n=r(37),d=r(11);e.exports=function(S,s,g){if(n(s))throw TypeError("String#"+g+" doesn't accept regex!");return String(d(S))}},function(e,t,r){var n=r(1),d=r(5),S=r(6)("match");e.exports=function(s){var g;return n(s)&&((g=s[S])!==void 0?!!g:d(s)=="RegExp")}},function(e,t,r){var n=r(6)("match");e.exports=function(d){var S=/./;try{"/./"[d](S)}catch(s){try{return S[n]=!1,!"/./"[d](S)}catch(g){}}return!0}}]);const fpt=ks(dpt);var ppt=typeof document!="undefined"&&document&&document.createElement?"multiple"in document.createElement("input"):!0;function vpt(e){var t=[];if(e.dataTransfer){var r=e.dataTransfer;r.files&&r.files.length?t=r.files:r.items&&r.items.length&&(t=r.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)}function eD(e,t){return e.type==="application/x-moz-file"||fpt(e,t)}function mpt(e,t,r){return e.size<=t&&e.size>=r}function gpt(e,t){return e.every(function(r){return eD(r,t)})}function tv(e){return e.dataTransfer?Array.prototype.every.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!0}function T8(e){e.preventDefault()}function ypt(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function xpt(e){return e.indexOf("Edge/")!==-1}function bpt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ypt(e)||xpt(e)}const ev={active:{borderStyle:"solid",backgroundColor:"#eee"},accepted:{borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},rejected:{borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"},default:{width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},disabled:{opacity:.5}};var _u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Spt=function(){function e(t,r){for(var n=0;n<r.length;n++){var d=r[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function MS(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function wpt(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)}function Tpt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cpt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Ept(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Md=function(e){Ept(t,e);function t(r,n){Tpt(this,t);var d=Cpt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return d.renderChildren=function(S,s,g,i){return typeof S=="function"?S(_u({},d.state,{isDragActive:s,isDragAccept:g,isDragReject:i,open:d.open})):S},d.composeHandlers=d.composeHandlers.bind(d),d.onClick=d.onClick.bind(d),d.onDocumentDrop=d.onDocumentDrop.bind(d),d.onDragEnter=d.onDragEnter.bind(d),d.onDragLeave=d.onDragLeave.bind(d),d.onDragOver=d.onDragOver.bind(d),d.onDragStart=d.onDragStart.bind(d),d.onDrop=d.onDrop.bind(d),d.onFileDialogCancel=d.onFileDialogCancel.bind(d),d.onInputElementClick=d.onInputElementClick.bind(d),d.open=d.open.bind(d),d.setRef=d.setRef.bind(d),d.setRefs=d.setRefs.bind(d),d.isFileDialogActive=!1,d.state={draggedFiles:[],acceptedFiles:[],rejectedFiles:[]},d}return Spt(t,[{key:"componentDidMount",value:function(){var n=this.props.preventDropOnDocument;this.dragTargets=[],n&&(document.addEventListener("dragover",T8,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),this.fileInputEl!=null&&this.fileInputEl.addEventListener("click",this.onInputElementClick,!1),window.addEventListener("focus",this.onFileDialogCancel,!1)}},{key:"componentWillUnmount",value:function(){var n=this.props.preventDropOnDocument;n&&(document.removeEventListener("dragover",T8),document.removeEventListener("drop",this.onDocumentDrop)),this.fileInputEl!=null&&this.fileInputEl.removeEventListener("click",this.onInputElementClick,!1),window.removeEventListener("focus",this.onFileDialogCancel,!1)}},{key:"composeHandlers",value:function(n){return this.props.disabled?null:n}},{key:"onDocumentDrop",value:function(n){this.node&&this.node.contains(n.target)||(n.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(n){n.persist(),this.props.onDragStart&&tv(n)&&this.props.onDragStart.call(this,n)}},{key:"onDragEnter",value:function(n){var d=this;n.preventDefault(),this.dragTargets.indexOf(n.target)===-1&&this.dragTargets.push(n.target),n.persist(),tv(n)&&(Promise.resolve(this.props.getDataTransferItems(n)).then(function(S){n.isPropagationStopped()||d.setState({draggedFiles:S,isDragActive:!0})}),this.props.onDragEnter&&this.props.onDragEnter.call(this,n))}},{key:"onDragOver",value:function(n){n.preventDefault(),n.persist();try{n.dataTransfer.dropEffect=this.isFileDialogActive?"none":"copy"}catch(d){}return this.props.onDragOver&&tv(n)&&this.props.onDragOver.call(this,n),!1}},{key:"onDragLeave",value:function(n){var d=this;n.preventDefault(),n.persist(),this.dragTargets=this.dragTargets.filter(function(S){return S!==n.target&&d.node.contains(S)}),!(this.dragTargets.length>0)&&(this.setState({isDragActive:!1,draggedFiles:[]}),this.props.onDragLeave&&tv(n)&&this.props.onDragLeave.call(this,n))}},{key:"onDrop",value:function(n){var d=this,S=this.props,s=S.onDrop,g=S.onDropAccepted,i=S.onDropRejected,o=S.multiple,m=S.accept,c=S.getDataTransferItems;n.preventDefault(),n.persist(),this.dragTargets=[],this.isFileDialogActive=!1,this.draggedFiles=null,this.setState({isDragActive:!1,draggedFiles:[]}),tv(n)&&Promise.resolve(c(n)).then(function(l){var h=[],a=[];n.isPropagationStopped()||(l.forEach(function(f){eD(f,m)&&mpt(f,d.props.maxSize,d.props.minSize)?h.push(f):a.push(f)}),!o&&h.length>1&&a.push.apply(a,wpt(h.splice(0))),d.setState({acceptedFiles:h,rejectedFiles:a},function(){s&&s.call(d,h,a,n),a.length>0&&i&&i.call(d,a,n),h.length>0&&g&&g.call(d,h,n)}))})}},{key:"onClick",value:function(n){var d=this.props,S=d.onClick,s=d.disableClick;S&&S.call(this,n),!s&&!n.isDefaultPrevented()&&(n.stopPropagation(),bpt()?setTimeout(this.open,0):this.open())}},{key:"onInputElementClick",value:function(n){n.stopPropagation(),this.props.inputProps&&this.props.inputProps.onClick&&this.props.inputProps.onClick(n)}},{key:"onFileDialogCancel",value:function(){var n=this,d=this.props.onFileDialogCancel;this.isFileDialogActive&&setTimeout(function(){if(n.fileInputEl!=null){var S=n.fileInputEl.files;S.length||(n.isFileDialogActive=!1,typeof d=="function"&&d())}},300)}},{key:"setRef",value:function(n){this.node=n}},{key:"setRefs",value:function(n){this.fileInputEl=n}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var n=this.props,d=n.accept,S=n.acceptClassName,s=n.activeClassName,g=n.children,i=n.disabled,o=n.disabledClassName,m=n.inputProps,c=n.multiple,l=n.name,h=n.rejectClassName,a=MS(n,["accept","acceptClassName","activeClassName","children","disabled","disabledClassName","inputProps","multiple","name","rejectClassName"]),f=a.acceptStyle,p=a.activeStyle,u=a.className,v=u===void 0?"":u,y=a.disabledStyle,x=a.rejectStyle,b=a.style,w=MS(a,["acceptStyle","activeStyle","className","disabledStyle","rejectStyle","style"]),C=this.state,E=C.isDragActive,T=C.draggedFiles,k=T.length,A=c||k<=1,I=k>0&&gpt(T,this.props.accept),B=k>0&&(!I||!A),M=!v&&!b&&!p&&!f&&!x&&!y;E&&s&&(v+=" "+s),I&&S&&(v+=" "+S),B&&h&&(v+=" "+h),i&&o&&(v+=" "+o),M&&(b=ev.default,p=ev.active,f=ev.accepted,x=ev.rejected,y=ev.disabled);var O=_u({position:"relative"},b);p&&E&&(O=_u({},O,p)),f&&I&&(O=_u({},O,f)),x&&B&&(O=_u({},O,x)),y&&i&&(O=_u({},O,y));var P={accept:d,disabled:i,type:"file",style:_u({position:"absolute",top:0,right:0,bottom:0,left:0,opacity:1e-5,pointerEvents:"none"},m.style),multiple:ppt&&c,ref:this.setRefs,onChange:this.onDrop,autoComplete:"off"};l&&l.length&&(P.name=l),w.acceptedFiles,w.preventDropOnDocument,w.disableClick,w.onDropAccepted,w.onDropRejected,w.onFileDialogCancel,w.maxSize,w.minSize,w.getDataTransferItems;var L=MS(w,["acceptedFiles","preventDropOnDocument","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize","getDataTransferItems"]);return ti.createElement("div",_u({className:v,style:O},L,{onClick:this.composeHandlers(this.onClick),onDragStart:this.composeHandlers(this.onDragStart),onDragEnter:this.composeHandlers(this.onDragEnter),onDragOver:this.composeHandlers(this.onDragOver),onDragLeave:this.composeHandlers(this.onDragLeave),onDrop:this.composeHandlers(this.onDrop),ref:this.setRef,"aria-disabled":i}),this.renderChildren(g,E,I,B),ti.createElement("input",_u({},m,P)))}}]),t}(ti.Component);Md.propTypes={accept:Xt.oneOfType([Xt.string,Xt.arrayOf(Xt.string)]),children:Xt.oneOfType([Xt.node,Xt.func]),disableClick:Xt.bool,disabled:Xt.bool,preventDropOnDocument:Xt.bool,inputProps:Xt.object,multiple:Xt.bool,name:Xt.string,maxSize:Xt.number,minSize:Xt.number,className:Xt.string,activeClassName:Xt.string,acceptClassName:Xt.string,rejectClassName:Xt.string,disabledClassName:Xt.string,style:Xt.object,activeStyle:Xt.object,acceptStyle:Xt.object,rejectStyle:Xt.object,disabledStyle:Xt.object,getDataTransferItems:Xt.func,onClick:Xt.func,onDrop:Xt.func,onDropAccepted:Xt.func,onDropRejected:Xt.func,onDragStart:Xt.func,onDragEnter:Xt.func,onDragOver:Xt.func,onDragLeave:Xt.func,onFileDialogCancel:Xt.func};Md.defaultProps={preventDropOnDocument:!0,disabled:!1,disableClick:!1,inputProps:{},multiple:!0,maxSize:1/0,minSize:0,getDataTransferItems:vpt};var kpt=typeof self=="object"?self.FormData:window.FormData;const w5=ks(kpt),Ppt="_centerWrapper_uj3pn_1",Apt="_container_uj3pn_8",Rpt="_header_uj3pn_20",Ipt="_subtext_uj3pn_25",Mpt="_inputHeader_uj3pn_29",Bpt="_inputContainer_uj3pn_34",Opt="_inputContainerBot_uj3pn_49",Npt="_input_uj3pn_29",Lpt="_inputFilled_uj3pn_71",Fpt="_inputError_uj3pn_75",Dpt="_dropContainer_uj3pn_79",_pt="_activeDropContainer_uj3pn_104",jpt="_dropIcon_uj3pn_108",zpt="_dropHeader_uj3pn_113",Upt="_pdfRow_uj3pn_118",Gpt="_removeIcon_uj3pn_129",Hpt="_errorContainer_uj3pn_141",$pt="_errorIcon_uj3pn_155",Wpt="_submitButton_uj3pn_161",Vpt="_submitButtonInside_uj3pn_166",Ypt="_hidden_uj3pn_172",nn={centerWrapper:Ppt,container:Apt,header:Rpt,subtext:Ipt,inputHeader:Mpt,inputContainer:Bpt,inputContainerBot:Opt,input:Npt,inputFilled:Lpt,inputError:Fpt,dropContainer:Dpt,activeDropContainer:_pt,dropIcon:jpt,dropHeader:zpt,pdfRow:Upt,removeIcon:Gpt,errorContainer:Hpt,errorIcon:$pt,submitButton:Wpt,submitButtonInside:Vpt,hidden:Ypt},ng=GL.create({});var Xpt={};class iD extends ti.Component{constructor(t){super(t),this.state={plan:{},groupName:"",groupNameError:"",poNumber:"",poNumberError:"",pdf:null,pdfError:""},this.isRenewal=!!Ys("r"),this.onPdfDrop=this.onPdfDrop.bind(this),this.onSubscribe=this.onSubscribe.bind(this)}componentDidMount(){return ci(this,null,function*(){if(!(yield this.props.user.getData())){Ve.logError("UpgradeGroupPOPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}let r=null;const n=decodeURIComponent(Ys("groupPlanName"));(yield Yr.listGroupPlans({})).plans.forEach(S=>{S.name===n&&(r=S)}),this.setState({loading:!1,plan:r,groupName:decodeURIComponent(Ys("n"))})})}onPdfDrop(t){const r=t[0];r?this.setState({pdfError:"",pdf:r}):this.setState({pdfError:"Error uploading the PDF",pdf:null})}onSubscribe(t){t.preventDefault(),this.setState({loading:!0});let r="",n="",d="";if(this.state.groupName||(r="Group Name is required."),this.state.poNumber||(n="Purchase Order Number is required."),this.state.pdf||(d="Purchase Order PDF is required."),this.setState({groupNameError:r,poNumberError:n,pdfError:d}),!r&&!n&&!d){const S=new w5;S.append("file",this.state.pdf),S.append("folder","POs"),S.append("upload_preset","normal"),S.append("api_key",Xpt.CLOUDINARY_API_KEY),S.append("timestamp",parseInt(Date.now()/1e3,10)),ng.post("https://api.cloudinary.com/v1_1/blooket/image/upload",S,{headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!1}).then(s=>{this.isRenewal?vi.put("/api/groups/renew",{groupName:this.state.groupName,poNumber:this.state.poNumber,pdfURL:s.data.secure_url,pdfID:s.data.public_id}).then(()=>{window.location.href="/group-plan/manage"}).catch(g=>{Ve.logError(g),this.setState({loading:!1,groupNameError:"Something went wrong. Make sure you uploaded a PDF, and if so then please contact support."})}):vi.post("/api/groups/po",{plan:this.state.plan,groupName:this.state.groupName,poNumber:this.state.poNumber,pdfURL:s.data.secure_url,pdfID:s.data.public_id}).then(()=>{this.props.user.getLoggedIn(),window.location.href="/group-plan/manage"}).catch(g=>{Ve.logError(g),this.setState({loading:!1,groupNameError:"Something went wrong. Make sure you uploaded a PDF, and if so then please contact support."})})}).catch(s=>{Ve.logError(s),this.setState({loading:!1,groupNameError:"Something went very wrong. Please contact support."})})}else this.setState({loading:!1})}render(){if(this.state.plan)return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Group Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),R.jsx(nl,{}),R.jsx("div",{className:Qe.slantBackground}),R.jsx("div",{className:Qe.regularBody,children:this.state.plan&&this.state.plan.name?R.jsxs("form",{onSubmit:this.onSubscribe,className:nn.centerWrapper,children:[R.jsxs("div",{className:nn.container,children:[R.jsx("div",{className:nn.header,children:"Pay With Purchase Order"}),R.jsx("div",{className:nn.subtext,children:`Blooket Plus: ${this.state.plan.name} Plan`})]}),R.jsxs("div",{className:nn.container,children:[R.jsx("div",{className:nn.inputHeader,children:"Subscription Group Name"}),R.jsx("div",{className:Ct(nn.inputContainer,{[nn.inputFilled]:this.state.groupName,[nn.inputError]:this.state.groupNameError}),children:R.jsx("input",{className:nn.input,placeholder:"Group Name...",onChange:t=>this.setState({groupName:t.target.value.slice(0,50),groupNameError:""}),value:this.state.groupName,type:"text"})}),R.jsx("div",{className:nn.inputHeader,children:"Purchase Order Number"}),R.jsx("div",{className:Ct(nn.inputContainer,nn.inputContainerBot,{[nn.inputFilled]:this.state.poNumber,[nn.inputErorr]:this.state.poNumberError}),children:R.jsx("input",{className:nn.input,placeholder:"Purchase Order Number...",onChange:t=>this.setState({poNumber:t.target.value.slice(0,50),poNumberError:""}),value:this.state.poNumber,type:"text"})})]}),R.jsxs("div",{className:nn.container,children:[this.isRenewal?`
                  Upload your purchase order below. We'll send you an email with the final invoice immediately after.
                  The will extend the subscription for 1 year past the current end date.
                `:`
                  Upload your purchase order below. We'll send you an email with the final invoice immediately after.
                  The subscription will last for 1 year until ${li().format("MM/DD/YYYY")}.
                `,R.jsx("br",{}),R.jsx("br",{}),this.isRenewal?`
                  Your members' plans will automatically be extended, but all plans will
                  be canceled if payment is not received within 30 days.
                `:`
                  You'll be able to distribute the plans as soon as you upload the PO, but all plans will
                  be canceled if payment is not received within 30 days.
                `,R.jsx("br",{}),R.jsx("br",{}),`
                  WARNING: Uploading a fake purchase order can be punished through the deletion of your account.
                `]}),R.jsxs("div",{className:nn.container,children:[R.jsx("div",{className:nn.inputHeader,children:"Upload Purchase Order PDF"}),this.state.pdf?R.jsxs("div",{className:nn.pdfRow,children:[R.jsx("i",{className:Ct("fas fa-times",nn.removeIcon),role:"button",tabIndex:0,onClick:()=>this.setState({pdf:null,pdfError:""})}),this.state.pdf.name]}):R.jsxs(Md,{multiple:!1,accept:"application/pdf",onDropAccepted:this.onPdfDrop,onDropRejected:()=>this.setState({pdfError:"PDF Denied (Check PDF Format & Size < 2.5 MB)"}),className:nn.dropContainer,activeClassName:nn.activeDropContainer,maxSize:25e5,children:[R.jsx("i",{className:Ct("fas fa-file-upload",nn.dropIcon)}),R.jsx("div",{className:nn.dropHeader,children:"Drag a PDF or Click to Upload"}),"File must be less than 5MB"]})]}),this.state.groupNameError||this.state.poNumberError||this.state.pdfError?R.jsxs("div",{className:nn.errorContainer,children:[R.jsx("i",{className:Ct("fas fa-times-circle",nn.errorIcon)}),this.state.groupNameError||this.state.poNumberError||this.state.pdfError]}):null,R.jsx(Ri,{color:"#0bc2cf",outsideClass:nn.submitButton,insideClass:nn.submitButtonInside,onClick:this.onSubscribe,children:this.isRenewal?"Renew Now":"Subscribe Now"}),R.jsx("input",{type:"submit",className:nn.hidden})]}):null}),this.state.loading?R.jsx(xr,{text:"Processing...",loading:!0}):null]})}}iD.propTypes={user:Xt.object};const Qpt=jn(iD),Kpt="_container_1qc61_1",Jpt="_header_1qc61_15",Zpt="_subheader_1qc61_22",qpt="_buttonContainer_1qc61_28",tvt="_button_1qc61_28",evt="_buttonInside_1qc61_37",vs={container:Kpt,header:Jpt,subheader:Zpt,buttonContainer:qpt,button:tvt,buttonInside:evt};class rD extends ti.Component{constructor(t){super(t),this.state={groupName:"",isFull:!1,isActive:!1,isLoggedIn:!1,ready:!1,loading:!1,done:"",isAlreadyIn:!1,isAlreadyGrouped:!1},this.here=!0,this.email="",this.groupId=t.match.params.id,this.joinGroup=this.joinGroup.bind(this)}componentDidMount(){return ci(this,null,function*(){const t=yield this.props.user.getData();t?(this.email=t.email,vi.get("/api/groups",{params:{id:this.groupId}}).then(r=>ci(this,null,function*(){const n=r.data.planName;let d=null;r.data.planName==="Custom"?d={name:"Custom",numUsers:r.data.numPlans,numPlans:r.data.numPlans}:(yield Yr.listGroupPlans({})).plans.forEach(s=>{s.name===n&&(d=s)}),vi.get("/api/users/plan").then(S=>{const s=S.data.planSource;this.here&&this.setState({ready:!0,isLoggedIn:!0,groupName:r.data.groupName,isActive:li(r.data.lastDate).add(1,"year").isAfter(li.utc()),isFull:d.numUsers-r.data.members.length<=0,isAlreadyIn:r.data.members.includes(this.email),isAlreadyGrouped:!!s})}).catch(S=>{Ve.logError(S)})})).catch(r=>{Ve.logError(r),this.props.history.push("/404")})):this.setState({ready:!0})})}joinGroup(){this.setState({loading:!0}),vi.put("/api/groups/join",{email:this.email,groupId:this.groupId}).then(t=>{t.data.success?(this.props.user.getLoggedIn(),this.setState({done:"Success",loading:!1})):this.setState({done:"Failed",loading:!1})}).catch(t=>{this.setState({loading:!1}),Ve.logError(t)})}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Join Group | Blooket",desc:"Join a Upgrade Group to unlock the benefits of Blooket Plus."}),R.jsx(nl,{}),R.jsx("div",{className:Qe.slantBackground}),this.state.ready?R.jsx("div",{className:Qe.regularBody,children:R.jsx("div",{className:vs.container,children:this.state.done?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:vs.header,children:this.state.done}),this.state.done==="Failed"?R.jsx("div",{className:vs.subheader,children:"Please refresh and try again or contact support."}):null,R.jsx("div",{className:vs.buttonContainer,children:R.jsx(Ri,{color:"#0bc2cf",outsideClass:vs.button,insideClass:vs.buttonInside,onClick:this.state.done==="Failed"?()=>window.location.reload():()=>this.props.history.push("/dashboard"),children:"Ok"})})]}):this.state.isLoggedIn?!this.state.isActive||this.state.isFull||this.state.isAlreadyIn||this.state.isAlreadyGrouped?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:vs.header,children:"Failed"}),R.jsx("div",{className:vs.subheader,children:this.state.isAlreadyIn?"You're already in this group.":this.state.isAlreadyGrouped?"You already are in a group!":this.state.isFull?"There are no more subscription plans in this group.":"This group is no longer active."}),R.jsx("div",{className:vs.buttonContainer,children:R.jsx(Ri,{color:"#0bc2cf",outsideClass:vs.button,insideClass:vs.buttonInside,onClick:()=>this.props.history.push("/dashboard"),children:"Ok"})})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:vs.header,children:"Join Group:"}),R.jsx("div",{className:vs.subheader,children:this.state.groupName}),R.jsx("div",{className:vs.buttonContainer,children:this.state.loading?R.jsx(Po,{}):R.jsx(Ri,{color:"#0bc2cf",outsideClass:vs.button,insideClass:vs.buttonInside,onClick:this.joinGroup,children:"Join Now"})})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:vs.header,children:"Failed"}),R.jsx("div",{className:vs.subheader,children:"You must be logged in to join a group."}),R.jsx("div",{className:vs.buttonContainer,children:R.jsx(Ri,{color:"#0bc2cf",outsideClass:vs.button,insideClass:vs.buttonInside,onClick:()=>{window.location.href=`${ar.id}/login`},children:"Login"})})]})})}):null]})}}rD.propTypes={match:Xt.object,history:Xt.object,user:Xt.object};const ivt=jn(rD);class nD extends ti.Component{constructor(t){super(t),this.state={plan:{},groupName:"",pdf:null,loading:!1},this.here=!0,this.groupId=t.match.params.id}componentDidMount(){return ci(this,null,function*(){if(!(yield this.props.user.getData())||!this.groupId){Ve.logError("RenewGroupPage cannot proceed without user and groupId"),window.location.href=`${ar.id}/login`;return}const r=yield new Promise(n=>{vi.get("/api/groups",{params:{id:this.groupId}}).then(d=>ci(this,null,function*(){let S=null;if(d.data.planName==="Custom")S={name:"Custom",numUsers:d.data.numPlans,numPlans:d.data.numPlans,priceCents:d.data.customPrice*100};else{const s=d.data.planName;(yield Yr.listGroupPlans({})).plans.forEach(i=>{i.name===s&&(S=i)})}n(Fr(Fi({},d.data),{plan:S}))})).catch(d=>{Ve.logError(d),n()})});if(this.here){if(!r){window.location.href="/group-plan/manage";return}this.setState({plan:r.plan,groupName:r.groupName}),vi.put("/api/groups/quote",{quote:{logo:Ee.basic.blooket180,from:`Blooket LLC
PO Box 830618,
Philadelphia, PA 19182-0618`,to:r.groupName,header:"QUOTE",items:[{name:`Blooket Plus: ${r.plan.name} Plan (Renewal)`,quantity:1,unit_cost:r.plan.priceCents/100,description:`${r.plan.numUsers} One-Year Plus Plans`}],notes:`Please update the Blooket remittance address and remit all payments to the Blooket Lockbox located at P.O. Box 830618, Philadelphia, 19182-0618.

If you have any questions, please email contact-us@blooket.com.

All quotes, invoices and purchases are subject to the Terms of Service of Blooket LLC unless previously agreed to in writing by the parties. The Terms of Service are located on the www.blooket.com website.  Purchasers agree to be bound by the Terms of Service and comply with the Privacy Policy provisions of the website at all times.`}}).then(n=>{this.setState({pdf:n.data.pdf})}).catch(n=>Ve.logError(n))}})}render(){return this.groupId?R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Group Upgrade | Blooket",desc:"Level Up the classroom by upgrading Blooket to the Plus or Plus Flex plans! These subscriptions have affordable pricing with many new features."}),R.jsx(nl,{}),R.jsx("div",{className:Qe.slantBackground}),R.jsxs("div",{className:Ct(Qe.regularBody,zr.bodyContainer),children:[this.state.pdf?R.jsx("object",{data:`data:application/pdf;base64,${this.state.pdf}`,title:"Blooket Invoice",className:zr.quote,children:R.jsx("a",{className:zr.downloadButton,download:"BlooketInvoice.pdf",href:`data:application/pdf;base64,${this.state.pdf}`,children:"Download PDF"})}):null,R.jsxs("div",{className:zr.leftColumn,children:[R.jsxs("div",{className:zr.textContainer,children:[R.jsx("div",{className:zr.textBigHeader,children:this.state.groupName}),R.jsx("div",{className:zr.bigText,children:`Blooket Plus: ${this.state.plan.name} Plan`}),`${this.state.plan.numUsers} One-Year Plus Plans`]}),R.jsxs("div",{className:zr.textContainer,children:[R.jsx("div",{className:zr.textHeader,children:"Renew With Purchase Order"}),"Upload your PO and we'll renew your plans immediately!",R.jsx("div",{className:Qe.flex,children:R.jsx(Ri,{color:"#0bc2cf",outsideClass:zr.button,insideClass:zr.buttonInside,linkTo:`/upgrade/group/po?groupPlanName=${this.state.plan.name==="Custom"?"Custom":this.state.plan.name}&n=${encodeURIComponent(this.state.groupName)}&r=true`,children:"Renew With Purchase Order"})})]}),R.jsxs("div",{className:zr.textContainer,children:[R.jsx("div",{className:zr.textHeader,children:"Have Questions or Need to Request our W-9?"}),R.jsxs("div",{className:zr.bigText,children:["Send us an email at: ",R.jsx("a",{className:zr.linkText,href:"mailto:contact-us@blooket.com",children:"contact-us@blooket.com"})]})]})]})]}),this.state.loading?R.jsx(xr,{text:"Loading...",loading:!0}):null]}):R.jsx(Td,{to:"/404"})}}nD.propTypes={match:Xt.object,user:Xt.object};const rvt=jn(nD),nvt="_topHeader_1i9q0_1",svt="_searchBoxHolder_1i9q0_9",avt="_searchContainer_1i9q0_26",ovt="_filtersHolder_1i9q0_37",lvt="_filterIcon_1i9q0_42",uvt="_searchIcon_1i9q0_70",hvt="_searchInput_1i9q0_87",cvt="_filtersColumn_1i9q0_105",dvt="_filterRow_1i9q0_132",fvt="_filterRowCenter_1i9q0_143",pvt="_filterRowColumn_1i9q0_147",vvt="_filters_1i9q0_37",mvt="_checkBox_1i9q0_159",gvt="_checkBoxLeft_1i9q0_175",yvt="_checkBoxWide_1i9q0_179",xvt="_checkIcon_1i9q0_183",bvt="_checkYes_1i9q0_188",Svt="_checkNo_1i9q0_194",wvt="_spacer_1i9q0_200",Tvt="_header_1i9q0_204",Cvt="_hitsHolder_1i9q0_212",Evt="_hitsContainer_1i9q0_216",kvt="_suggestContainer_1i9q0_225",Pvt="_suggestSlant_1i9q0_244",Avt="_suggestText_1i9q0_257",Rvt="_suggestLink_1i9q0_263",Ivt="_noResultsText_1i9q0_269",Mvt="_noResultsBlook_1i9q0_282",Bvt="_noResultsSub_1i9q0_288",Ovt="_moreButton_1i9q0_293",Nvt="_moreButtonInside_1i9q0_297",Lvt="_categoriesRow_1i9q0_304",Fvt="_categoryContainer_1i9q0_312",Dvt="_categoryContainerSmall_1i9q0_342",Rr={topHeader:nvt,searchBoxHolder:svt,searchContainer:avt,filtersHolder:ovt,filterIcon:lvt,searchIcon:uvt,searchInput:hvt,filtersColumn:cvt,filterRow:dvt,filterRowCenter:fvt,filterRowColumn:pvt,filters:vvt,checkBox:mvt,checkBoxLeft:gvt,checkBoxWide:yvt,checkIcon:xvt,checkYes:bvt,checkNo:Svt,spacer:wvt,header:Tvt,hitsHolder:Cvt,hitsContainer:Evt,suggestContainer:kvt,suggestSlant:Pvt,suggestText:Avt,suggestLink:Rvt,noResultsText:Ivt,noResultsBlook:Mvt,noResultsSub:Bvt,moreButton:Ovt,moreButtonInside:Nvt,categoriesRow:Lvt,categoryContainer:Fvt,categoryContainerSmall:Dvt};var C8=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),_vt=new Uint8Array(16);function jvt(){if(!C8)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C8(_vt)}var sD=[];for(var i0=0;i0<256;++i0)sD[i0]=(i0+256).toString(16).substr(1);function zvt(e,t){var r=0,n=sD;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}function Uvt(e,t,r){typeof e=="string"&&(e==="binary"&&new Array(16),e=null),e=e||{};var n=e.random||(e.rng||jvt)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,zvt(n)}function E8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),r.push.apply(r,n)}return r}function eC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(r),!0).forEach(function(n){$v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gvt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hvt(e,t,r){return t&&k8(e.prototype,t),r&&k8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(this,arguments)}function $vt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iC(e,t)}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},my(e)}function iC(e,t){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,d){return n.__proto__=d,n},iC(e,t)}function Wvt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Vvt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yvt(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vvt(e)}function Xvt(e){var t=Wvt();return function(){var n=my(e),d;if(t){var S=my(this).constructor;d=Reflect.construct(n,arguments,S)}else d=n.apply(this,arguments);return Yvt(this,d)}}function Qvt(e,t){if(e){if(typeof e=="string")return P8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P8(e,t)}}function P8(e,t){t=e.length;for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kvt(e,t){var r=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Qvt(e))||t){r&&(e=r);var n=0,d=function(){};return{s:d,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(i){throw i},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=!0,s=!1,g;return{s:function(){r=r.call(e)},n:function(){var i=r.next();return S=i.done,i},e:function(i){s=!0,g=i},f:function(){try{!S&&r.return!=null&&r.return()}finally{if(s)throw g}}}}var A8=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{},r0=function(e){return e&&e.Math==Math&&e},bh=r0(typeof globalThis=="object"&&globalThis)||r0(typeof window=="object"&&window)||r0(typeof self=="object"&&self)||r0(typeof A8=="object"&&A8)||function(){return this}()||Function("return this")(),T5={},Sh=function(e){try{return!!e()}catch(t){return!0}},Jvt=Sh,Ec=!Jvt(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Zvt=Sh,C5=!Zvt(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),qvt=C5,n0=Function.prototype.call,E5=qvt?n0.bind(n0):function(){return n0.apply(n0,arguments)},aD={},oD={}.propertyIsEnumerable,lD=Object.getOwnPropertyDescriptor,tmt=lD&&!oD.call({1:2},1);aD.f=tmt?function(t){var r=lD(this,t);return!!r&&r.enumerable}:oD;var uD=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}},hD=C5,cD=Function.prototype,rC=cD.call,emt=hD&&cD.bind.bind(rC,rC),dD=function(e){return hD?emt(e):function(){return rC.apply(e,arguments)}},fD=dD,imt=fD({}.toString),rmt=fD("".slice),zx=function(e){return rmt(imt(e),8,-1)},nmt=zx,smt=dD,Mu=function(e){if(nmt(e)==="Function")return smt(e)},amt=Mu,omt=Sh,lmt=zx,BS=Object,umt=amt("".split),pD=omt(function(){return!BS("z").propertyIsEnumerable(0)})?function(e){return lmt(e)=="String"?umt(e,""):BS(e)}:BS,vD=function(e){return e==null},hmt=vD,cmt=TypeError,mD=function(e){if(hmt(e))throw cmt("Can't call method on "+e);return e},dmt=pD,fmt=mD,Ux=function(e){return dmt(fmt(e))},nC=typeof document=="object"&&document.all,pmt=typeof nC=="undefined"&&nC!==void 0,gD={all:nC,IS_HTMLDDA:pmt},yD=gD,vmt=yD.all,ol=yD.IS_HTMLDDA?function(e){return typeof e=="function"||e===vmt}:function(e){return typeof e=="function"},R8=ol,xD=gD,mmt=xD.all,gp=xD.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:R8(e)||e===mmt}:function(e){return typeof e=="object"?e!==null:R8(e)},OS=bh,gmt=ol,ymt=function(e){return gmt(e)?e:void 0},sg=function(e,t){return arguments.length<2?ymt(OS[e]):OS[e]&&OS[e][t]},xmt=Mu,bmt=xmt({}.isPrototypeOf),Smt=sg,wmt=Smt("navigator","userAgent")||"",bD=bh,NS=wmt,I8=bD.process,M8=bD.Deno,B8=I8&&I8.versions||M8&&M8.version,O8=B8&&B8.v8,pl,gy;O8&&(pl=O8.split("."),gy=pl[0]>0&&pl[0]<4?1:+(pl[0]+pl[1]));!gy&&NS&&(pl=NS.match(/Edge\/(\d+)/),(!pl||pl[1]>=74)&&(pl=NS.match(/Chrome\/(\d+)/),pl&&(gy=+pl[1])));var Tmt=gy,N8=Tmt,Cmt=Sh,SD=!!Object.getOwnPropertySymbols&&!Cmt(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&N8&&N8<41}),Emt=SD,wD=Emt&&!Symbol.sham&&typeof Symbol.iterator=="symbol",kmt=sg,Pmt=ol,Amt=bmt,Rmt=wD,Imt=Object,TD=Rmt?function(e){return typeof e=="symbol"}:function(e){var t=kmt("Symbol");return Pmt(t)&&Amt(t.prototype,Imt(e))},Mmt=String,Bmt=function(e){try{return Mmt(e)}catch(t){return"Object"}},Omt=ol,Nmt=Bmt,Lmt=TypeError,CD=function(e){if(Omt(e))return e;throw Lmt(Nmt(e)+" is not a function")},Fmt=CD,Dmt=vD,_mt=function(e,t){var r=e[t];return Dmt(r)?void 0:Fmt(r)},LS=E5,FS=ol,DS=gp,jmt=TypeError,zmt=function(e,t){var r,n;if(t==="string"&&FS(r=e.toString)&&!DS(n=LS(r,e))||FS(r=e.valueOf)&&!DS(n=LS(r,e))||t!=="string"&&FS(r=e.toString)&&!DS(n=LS(r,e)))return n;throw jmt("Can't convert object to primitive value")},k5={exports:{}},L8=bh,Umt=Object.defineProperty,P5=function(e,t){try{Umt(L8,e,{value:t,configurable:!0,writable:!0})}catch(r){L8[e]=t}return t},Gmt=bh,Hmt=P5,F8="__core-js_shared__",$mt=Gmt[F8]||Hmt(F8,{}),A5=$mt,D8=A5;(k5.exports=function(e,t){return D8[e]||(D8[e]=t!==void 0?t:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"});var Wmt=mD,Vmt=Object,ED=function(e){return Vmt(Wmt(e))},Ymt=Mu,Xmt=ED,Qmt=Ymt({}.hasOwnProperty),Bd=Object.hasOwn||function(t,r){return Qmt(Xmt(t),r)},Kmt=Mu,Jmt=0,Zmt=Math.random(),qmt=Kmt(1 .toString),kD=function(e){return"Symbol("+(e===void 0?"":e)+")_"+qmt(++Jmt+Zmt,36)},tgt=bh,egt=k5.exports,_8=Bd,igt=kD,j8=SD,PD=wD,Xd=egt("wks"),gd=tgt.Symbol,z8=gd&&gd.for,rgt=PD?gd:gd&&gd.withoutSetter||igt,ag=function(e){if(!_8(Xd,e)||!(j8||typeof Xd[e]=="string")){var t="Symbol."+e;j8&&_8(gd,e)?Xd[e]=gd[e]:PD&&z8?Xd[e]=z8(t):Xd[e]=rgt(t)}return Xd[e]},ngt=E5,U8=gp,G8=TD,sgt=_mt,agt=zmt,ogt=ag,lgt=TypeError,ugt=ogt("toPrimitive"),hgt=function(e,t){if(!U8(e)||G8(e))return e;var r=sgt(e,ugt),n;if(r){if(t===void 0&&(t="default"),n=ngt(r,e,t),!U8(n)||G8(n))return n;throw lgt("Can't convert object to primitive value")}return t===void 0&&(t="number"),agt(e,t)},cgt=hgt,dgt=TD,AD=function(e){var t=cgt(e,"string");return dgt(t)?t:t+""},fgt=bh,H8=gp,sC=fgt.document,pgt=H8(sC)&&H8(sC.createElement),RD=function(e){return pgt?sC.createElement(e):{}},vgt=Ec,mgt=Sh,ggt=RD,ID=!vgt&&!mgt(function(){return Object.defineProperty(ggt("div"),"a",{get:function(){return 7}}).a!=7}),ygt=Ec,xgt=E5,bgt=aD,Sgt=uD,wgt=Ux,Tgt=AD,Cgt=Bd,Egt=ID,$8=Object.getOwnPropertyDescriptor;T5.f=ygt?$8:function(t,r){if(t=wgt(t),r=Tgt(r),Egt)try{return $8(t,r)}catch(n){}if(Cgt(t,r))return Sgt(!xgt(bgt.f,t,r),t[r])};var yp={},kgt=Ec,Pgt=Sh,MD=kgt&&Pgt(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),Agt=gp,Rgt=String,Igt=TypeError,Gx=function(e){if(Agt(e))return e;throw Igt(Rgt(e)+" is not an object")},Mgt=Ec,Bgt=ID,Ogt=MD,s0=Gx,W8=AD,Ngt=TypeError,_S=Object.defineProperty,Lgt=Object.getOwnPropertyDescriptor,jS="enumerable",zS="configurable",US="writable";yp.f=Mgt?Ogt?function(t,r,n){if(s0(t),r=W8(r),s0(n),typeof t=="function"&&r==="prototype"&&"value"in n&&US in n&&!n[US]){var d=Lgt(t,r);d&&d[US]&&(t[r]=n.value,n={configurable:zS in n?n[zS]:d[zS],enumerable:jS in n?n[jS]:d[jS],writable:!1})}return _S(t,r,n)}:_S:function(t,r,n){if(s0(t),r=W8(r),s0(n),Bgt)try{return _S(t,r,n)}catch(d){}if("get"in n||"set"in n)throw Ngt("Accessors not supported");return"value"in n&&(t[r]=n.value),t};var Fgt=Ec,Dgt=yp,_gt=uD,BD=Fgt?function(e,t,r){return Dgt.f(e,t,_gt(1,r))}:function(e,t,r){return e[t]=r,e},OD={exports:{}},aC=Ec,jgt=Bd,ND=Function.prototype,zgt=aC&&Object.getOwnPropertyDescriptor,R5=jgt(ND,"name"),Ugt=R5&&function(){}.name==="something",Ggt=R5&&(!aC||aC&&zgt(ND,"name").configurable),Hgt={EXISTS:R5,PROPER:Ugt,CONFIGURABLE:Ggt},$gt=Mu,Wgt=ol,oC=A5,Vgt=$gt(Function.toString);Wgt(oC.inspectSource)||(oC.inspectSource=function(e){return Vgt(e)});var LD=oC.inspectSource,Ygt=bh,Xgt=ol,V8=Ygt.WeakMap,Qgt=Xgt(V8)&&/native code/.test(String(V8)),Kgt=k5.exports,Jgt=kD,Y8=Kgt("keys"),FD=function(e){return Y8[e]||(Y8[e]=Jgt(e))},I5={},Zgt=Qgt,DD=bh,qgt=gp,t0t=BD,GS=Bd,HS=A5,e0t=FD,i0t=I5,X8="Object already initialized",lC=DD.TypeError,r0t=DD.WeakMap,yy,Em,xy,n0t=function(e){return xy(e)?Em(e):yy(e,{})},s0t=function(e){return function(t){var r;if(!qgt(t)||(r=Em(t)).type!==e)throw lC("Incompatible receiver, "+e+" required");return r}};if(Zgt||HS.state){var tu=HS.state||(HS.state=new r0t);tu.get=tu.get,tu.has=tu.has,tu.set=tu.set,yy=function(e,t){if(tu.has(e))throw lC(X8);return t.facade=e,tu.set(e,t),t},Em=function(e){return tu.get(e)||{}},xy=function(e){return tu.has(e)}}else{var Qd=e0t("state");i0t[Qd]=!0,yy=function(e,t){if(GS(e,Qd))throw lC(X8);return t.facade=e,t0t(e,Qd,t),t},Em=function(e){return GS(e,Qd)?e[Qd]:{}},xy=function(e){return GS(e,Qd)}}var a0t={set:yy,get:Em,has:xy,enforce:n0t,getterFor:s0t},o0t=Sh,l0t=ol,a0=Bd,uC=Ec,u0t=Hgt.CONFIGURABLE,h0t=LD,_D=a0t,c0t=_D.enforce,d0t=_D.get,f1=Object.defineProperty,f0t=uC&&!o0t(function(){return f1(function(){},"length",{value:8}).length!==8}),p0t=String(String).split("String"),v0t=OD.exports=function(e,t,r){String(t).slice(0,7)==="Symbol("&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a0(e,"name")||u0t&&e.name!==t)&&(uC?f1(e,"name",{value:t,configurable:!0}):e.name=t),f0t&&r&&a0(r,"arity")&&e.length!==r.arity&&f1(e,"length",{value:r.arity});try{r&&a0(r,"constructor")&&r.constructor?uC&&f1(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(d){}var n=c0t(e);return a0(n,"source")||(n.source=p0t.join(typeof t=="string"?t:"")),e};Function.prototype.toString=v0t(function(){return l0t(this)&&d0t(this).source||h0t(this)},"toString");var m0t=ol,g0t=yp,y0t=OD.exports,x0t=P5,b0t=function(e,t,r,n){n||(n={});var d=n.enumerable,S=n.name!==void 0?n.name:t;if(m0t(r)&&y0t(r,S,n),n.global)d?e[t]=r:x0t(t,r);else{try{n.unsafe?e[t]&&(d=!0):delete e[t]}catch(s){}d?e[t]=r:g0t.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},jD={},S0t=Math.ceil,w0t=Math.floor,T0t=Math.trunc||function(t){var r=+t;return(r>0?w0t:S0t)(r)},C0t=T0t,zD=function(e){var t=+e;return t!==t||t===0?0:C0t(t)},E0t=zD,k0t=Math.max,P0t=Math.min,A0t=function(e,t){var r=E0t(e);return r<0?k0t(r+t,0):P0t(r,t)},R0t=zD,I0t=Math.min,M0t=function(e){return e>0?I0t(R0t(e),9007199254740991):0},B0t=M0t,UD=function(e){return B0t(e.length)},O0t=Ux,N0t=A0t,L0t=UD,Q8=function(e){return function(t,r,n){var d=O0t(t),S=L0t(d),s=N0t(n,S),g;if(e&&r!=r){for(;S>s;)if(g=d[s++],g!=g)return!0}else for(;S>s;s++)if((e||s in d)&&d[s]===r)return e||s||0;return!e&&-1}},F0t={includes:Q8(!0),indexOf:Q8(!1)},D0t=Mu,$S=Bd,_0t=Ux,j0t=F0t.indexOf,z0t=I5,K8=D0t([].push),GD=function(e,t){var r=_0t(e),n=0,d=[],S;for(S in r)!$S(z0t,S)&&$S(r,S)&&K8(d,S);for(;t.length>n;)$S(r,S=t[n++])&&(~j0t(d,S)||K8(d,S));return d},M5=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],U0t=GD,G0t=M5,H0t=G0t.concat("length","prototype");jD.f=Object.getOwnPropertyNames||function(t){return U0t(t,H0t)};var HD={};HD.f=Object.getOwnPropertySymbols;var $0t=sg,W0t=Mu,V0t=jD,Y0t=HD,X0t=Gx,Q0t=W0t([].concat),K0t=$0t("Reflect","ownKeys")||function(t){var r=V0t.f(X0t(t)),n=Y0t.f;return n?Q0t(r,n(t)):r},J8=Bd,J0t=K0t,Z0t=T5,q0t=yp,t1t=function(e,t,r){for(var n=J0t(t),d=q0t.f,S=Z0t.f,s=0;s<n.length;s++){var g=n[s];!J8(e,g)&&!(r&&J8(r,g))&&d(e,g,S(t,g))}},e1t=Sh,i1t=ol,r1t=/#|\.prototype\./,og=function(e,t){var r=s1t[n1t(e)];return r==o1t?!0:r==a1t?!1:i1t(t)?e1t(t):!!t},n1t=og.normalize=function(e){return String(e).replace(r1t,".").toLowerCase()},s1t=og.data={},a1t=og.NATIVE="N",o1t=og.POLYFILL="P",l1t=og,WS=bh,u1t=T5.f,h1t=BD,c1t=b0t,d1t=P5,f1t=t1t,p1t=l1t,v1t=function(e,t){var r=e.target,n=e.global,d=e.stat,S,s,g,i,o,m;if(n?s=WS:d?s=WS[r]||d1t(r,{}):s=(WS[r]||{}).prototype,s)for(g in t){if(o=t[g],e.dontCallGetSet?(m=u1t(s,g),i=m&&m.value):i=s[g],S=p1t(n?g:r+(d?".":"#")+g,e.forced),!S&&i!==void 0){if(typeof o==typeof i)continue;f1t(o,i)}(e.sham||i&&i.sham)&&h1t(o,"sham",!0),c1t(s,g,o,e)}},Z8=Mu,m1t=CD,g1t=C5,y1t=Z8(Z8.bind),x1t=function(e,t){return m1t(e),t===void 0?e:g1t?y1t(e,t):function(){return e.apply(t,arguments)}},b1t=zx,S1t=Array.isArray||function(t){return b1t(t)=="Array"},w1t=ag,T1t=w1t("toStringTag"),$D={};$D[T1t]="z";var C1t=String($D)==="[object z]",E1t=C1t,k1t=ol,p1=zx,P1t=ag,A1t=P1t("toStringTag"),R1t=Object,I1t=p1(function(){return arguments}())=="Arguments",M1t=function(e,t){try{return e[t]}catch(r){}},B1t=E1t?p1:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=M1t(t=R1t(e),A1t))=="string"?r:I1t?p1(t):(n=p1(t))=="Object"&&k1t(t.callee)?"Arguments":n},O1t=Mu,N1t=Sh,WD=ol,L1t=B1t,F1t=sg,D1t=LD,VD=function(){},_1t=[],YD=F1t("Reflect","construct"),B5=/^\s*(?:class|function)\b/,j1t=O1t(B5.exec),z1t=!B5.exec(VD),iv=function(t){if(!WD(t))return!1;try{return YD(VD,_1t,t),!0}catch(r){return!1}},XD=function(t){if(!WD(t))return!1;switch(L1t(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return z1t||!!j1t(B5,D1t(t))}catch(r){return!0}};XD.sham=!0;var U1t=!YD||N1t(function(){var e;return iv(iv.call)||!iv(Object)||!iv(function(){e=!0})||e})?XD:iv,q8=S1t,G1t=U1t,H1t=gp,$1t=ag,W1t=$1t("species"),tP=Array,V1t=function(e){var t;return q8(e)&&(t=e.constructor,G1t(t)&&(t===tP||q8(t.prototype))?t=void 0:H1t(t)&&(t=t[W1t],t===null&&(t=void 0))),t===void 0?tP:t},Y1t=V1t,X1t=function(e,t){return new(Y1t(e))(t===0?0:t)},Q1t=x1t,K1t=Mu,J1t=pD,Z1t=ED,q1t=UD,tyt=X1t,eP=K1t([].push),Bh=function(e){var t=e==1,r=e==2,n=e==3,d=e==4,S=e==6,s=e==7,g=e==5||S;return function(i,o,m,c){for(var l=Z1t(i),h=J1t(l),a=Q1t(o,m),f=q1t(h),p=0,u=c||tyt,v=t?u(i,f):r||s?u(i,0):void 0,y,x;f>p;p++)if((g||p in h)&&(y=h[p],x=a(y,p,l),e))if(t)v[p]=x;else if(x)switch(e){case 3:return!0;case 5:return y;case 6:return p;case 2:eP(v,y)}else switch(e){case 4:return!1;case 7:eP(v,y)}return S?-1:n||d?d:v}},eyt={forEach:Bh(0),map:Bh(1),filter:Bh(2),some:Bh(3),every:Bh(4),find:Bh(5),findIndex:Bh(6),filterReject:Bh(7)},QD={},iyt=GD,ryt=M5,nyt=Object.keys||function(t){return iyt(t,ryt)},syt=Ec,ayt=MD,oyt=yp,lyt=Gx,uyt=Ux,hyt=nyt;QD.f=syt&&!ayt?Object.defineProperties:function(t,r){lyt(t);for(var n=uyt(r),d=hyt(r),S=d.length,s=0,g;S>s;)oyt.f(t,g=d[s++],n[g]);return t};var cyt=sg,dyt=cyt("document","documentElement"),fyt=Gx,pyt=QD,iP=M5,vyt=I5,myt=dyt,gyt=RD,yyt=FD,rP=">",nP="<",hC="prototype",cC="script",KD=yyt("IE_PROTO"),VS=function(){},JD=function(e){return nP+cC+rP+e+nP+"/"+cC+rP},sP=function(e){e.write(JD("")),e.close();var t=e.parentWindow.Object;return e=null,t},xyt=function(){var e=gyt("iframe"),t="java"+cC+":",r;return e.style.display="none",myt.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(JD("document.F=Object")),r.close(),r.F},o0,v1=function(){try{o0=new ActiveXObject("htmlfile")}catch(t){}v1=typeof document!="undefined"?document.domain&&o0?sP(o0):xyt():sP(o0);for(var e=iP.length;e--;)delete v1[hC][iP[e]];return v1()};vyt[KD]=!0;var byt=Object.create||function(t,r){var n;return t!==null?(VS[hC]=fyt(t),n=new VS,VS[hC]=null,n[KD]=t):n=v1(),r===void 0?n:pyt.f(n,r)},Syt=ag,wyt=byt,Tyt=yp.f,dC=Syt("unscopables"),fC=Array.prototype;fC[dC]==null&&Tyt(fC,dC,{configurable:!0,value:wyt(null)});var Cyt=function(e){fC[dC][e]=!0},Eyt=v1t,kyt=eyt.find,Pyt=Cyt,pC="find",ZD=!0;pC in[]&&Array(1)[pC](function(){ZD=!1});Eyt({target:"Array",proto:!0,forced:ZD},{find:function(t){return kyt(this,t,arguments.length>1?arguments[1]:void 0)}});Pyt(pC);var zo={GLOBAL:{HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"}},YS=function(t,r){var n;typeof window.CustomEvent=="function"?n=new window.CustomEvent(t,{detail:r}):(n=document.createEvent("Event"),n.initEvent(t,!1,!0,r)),window.dispatchEvent(n)};function Ayt(e){e.hide=function(t){YS(zo.GLOBAL.HIDE,{target:t})},e.rebuild=function(){YS(zo.GLOBAL.REBUILD)},e.show=function(t){YS(zo.GLOBAL.SHOW,{target:t})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(t){if(this.mount){var r=t&&t.detail&&t.detail.target&&!0||!1;this.showTooltip({currentTarget:r&&t.detail.target},!0)}},e.prototype.globalHide=function(t){if(this.mount){var r=t&&t.detail&&t.detail.target&&!0||!1;this.hideTooltip({currentTarget:r&&t.detail.target},r)}}}function Ryt(e){e.prototype.bindWindowEvents=function(t){window.removeEventListener(zo.GLOBAL.HIDE,this.globalHide),window.addEventListener(zo.GLOBAL.HIDE,this.globalHide,!1),window.removeEventListener(zo.GLOBAL.REBUILD,this.globalRebuild),window.addEventListener(zo.GLOBAL.REBUILD,this.globalRebuild,!1),window.removeEventListener(zo.GLOBAL.SHOW,this.globalShow),window.addEventListener(zo.GLOBAL.SHOW,this.globalShow,!1),t&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(zo.GLOBAL.HIDE,this.globalHide),window.removeEventListener(zo.GLOBAL.REBUILD,this.globalRebuild),window.removeEventListener(zo.GLOBAL.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}}var qD=function(t,r){var n=this.state.show,d=this.props.id,S=this.isCapture(r.currentTarget),s=r.currentTarget.getAttribute("currentItem");S||r.stopPropagation(),n&&s==="true"?t||this.hideTooltip(r):(r.currentTarget.setAttribute("currentItem","true"),Iyt(r.currentTarget,this.getTargetArray(d)),this.showTooltip(r))},Iyt=function(t,r){for(var n=0;n<r.length;n++)t!==r[n]?r[n].setAttribute("currentItem","false"):r[n].setAttribute("currentItem","true")},XS={id:"9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf",set:function(t,r,n){if(this.id in t){var d=t[this.id];d[r]=n}else Object.defineProperty(t,this.id,{configurable:!0,value:$v({},r,n)})},get:function(t,r){var n=t[this.id];if(n!==void 0)return n[r]}};function Myt(e){e.prototype.isCustomEvent=function(t){var r=this.state.event;return r||!!t.getAttribute("data-event")},e.prototype.customBindListener=function(t){var r=this,n=this.state,d=n.event,S=n.eventOff,s=t.getAttribute("data-event")||d,g=t.getAttribute("data-event-off")||S;s.split(" ").forEach(function(i){t.removeEventListener(i,XS.get(t,i));var o=qD.bind(r,g);XS.set(t,i,o),t.addEventListener(i,o,!1)}),g&&g.split(" ").forEach(function(i){t.removeEventListener(i,r.hideTooltip),t.addEventListener(i,r.hideTooltip,!1)})},e.prototype.customUnbindListener=function(t){var r=this.state,n=r.event,d=r.eventOff,S=n||t.getAttribute("data-event"),s=d||t.getAttribute("data-event-off");t.removeEventListener(S,XS.get(t,n)),s&&t.removeEventListener(s,this.hideTooltip)}}function Byt(e){e.prototype.isCapture=function(t){return t&&t.getAttribute("data-iscapture")==="true"||this.props.isCapture||!1}}function Oyt(e){e.prototype.getEffect=function(t){var r=t.getAttribute("data-effect");return r||this.props.effect||"float"}}var Nyt=function(t){var r={};for(var n in t)typeof t[n]=="function"?r[n]=t[n].bind(t):r[n]=t[n];return r},rv=function(t,r,n){for(var d=r.respectEffect,S=d===void 0?!1:d,s=r.customEvent,g=s===void 0?!1:s,i=this.props.id,o=null,m,c=n.target,l;o===null&&c!==null;)l=c,o=c.getAttribute("data-tip")||null,m=c.getAttribute("data-for")||null,c=c.parentElement;if(c=l||n.target,!(this.isCustomEvent(c)&&!g)){var h=i==null&&m==null||m===i;if(o!=null&&(!S||this.getEffect(c)==="float")&&h){var a=Nyt(n);a.currentTarget=c,t(a)}}},aP=function(t,r){var n={};return t.forEach(function(d){var S=d.getAttribute(r);S&&S.split(" ").forEach(function(s){return n[s]=!0})}),n},oP=function(){return document.getElementsByTagName("body")[0]};function Lyt(e){e.prototype.isBodyMode=function(){return!!this.props.bodyMode},e.prototype.bindBodyListener=function(t){var r=this,n=this.state,d=n.event,S=n.eventOff,s=n.possibleCustomEvents,g=n.possibleCustomEventsOff,i=oP(),o=aP(t,"data-event"),m=aP(t,"data-event-off");d!=null&&(o[d]=!0),S!=null&&(m[S]=!0),s.split(" ").forEach(function(f){return o[f]=!0}),g.split(" ").forEach(function(f){return m[f]=!0}),this.unbindBodyListener(i);var c=this.bodyModeListeners={};d==null&&(c.mouseover=rv.bind(this,this.showTooltip,{}),c.mousemove=rv.bind(this,this.updateTooltip,{respectEffect:!0}),c.mouseout=rv.bind(this,this.hideTooltip,{}));for(var l in o)c[l]=rv.bind(this,function(f){var p=f.currentTarget.getAttribute("data-event-off")||S;qD.call(r,p,f)},{customEvent:!0});for(var h in m)c[h]=rv.bind(this,this.hideTooltip,{customEvent:!0});for(var a in c)i.addEventListener(a,c[a])},e.prototype.unbindBodyListener=function(t){t=t||oP();var r=this.bodyModeListeners;for(var n in r)t.removeEventListener(n,r[n])}}var Fyt=function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver};function Dyt(e){e.prototype.bindRemovalTracker=function(){var t=this,r=Fyt();if(r!=null){var n=new r(function(d){for(var S=0;S<d.length;S++)for(var s=d[S],g=0;g<s.removedNodes.length;g++){var i=s.removedNodes[g];if(i===t.state.currentTarget){t.hideTooltip();return}}});n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},e.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)}}function lP(e,t,r,n,d,S,s){var g=vC(r),i=g.width,o=g.height,m=vC(t),c=m.width,l=m.height,h=_yt(e,t,S),a=h.mouseX,f=h.mouseY,p=jyt(S,c,l,i,o),u=zyt(s),v=u.extraOffsetX,y=u.extraOffsetY,x=window.innerWidth,b=window.innerHeight,w=Uyt(r),C=w.parentTop,E=w.parentLeft,T=function(N){var j=p[N].l;return a+j+v},k=function(N){var j=p[N].r;return a+j+v},A=function(N){var j=p[N].t;return f+j+y},I=function(N){var j=p[N].b;return f+j+y},B=function(N){return T(N)<0},M=function(N){return k(N)>x},O=function(N){return A(N)<0},P=function(N){return I(N)>b},L=function(N){return B(N)||M(N)||O(N)||P(N)},_=function(N){return!L(N)},G={top:_("top"),bottom:_("bottom"),left:_("left"),right:_("right")};function $(){var F=d.split(",").concat(n,["top","bottom","left","right"]),N=Kvt(F),j;try{for(N.s();!(j=N.n()).done;){var U=j.value;if(G[U])return U}}catch(V){N.e(V)}finally{N.f()}return n}var W=$(),Y=!1,z;return W&&W!==n&&(Y=!0,z=W),Y?{isNewState:!0,newState:{place:z}}:{isNewState:!1,position:{left:parseInt(T(n)-E,10),top:parseInt(A(n)-C,10)}}}var vC=function(t){var r=t.getBoundingClientRect(),n=r.height,d=r.width;return{height:parseInt(n,10),width:parseInt(d,10)}},_yt=function(t,r,n){var d=r.getBoundingClientRect(),S=d.top,s=d.left,g=vC(r),i=g.width,o=g.height;return n==="float"?{mouseX:t.clientX,mouseY:t.clientY}:{mouseX:s+i/2,mouseY:S+o/2}},jyt=function(t,r,n,d,S){var s,g,i,o,m=3,c=2,l=12;return t==="float"?(s={l:-(d/2),r:d/2,t:-(S+m+c),b:-m},i={l:-(d/2),r:d/2,t:m+l,b:S+m+c+l},o={l:-(d+m+c),r:-m,t:-(S/2),b:S/2},g={l:m,r:d+m+c,t:-(S/2),b:S/2}):t==="solid"&&(s={l:-(d/2),r:d/2,t:-(n/2+S+c),b:-(n/2)},i={l:-(d/2),r:d/2,t:n/2,b:n/2+S+c},o={l:-(d+r/2+c),r:-(r/2),t:-(S/2),b:S/2},g={l:r/2,r:d+r/2+c,t:-(S/2),b:S/2}),{top:s,bottom:i,left:o,right:g}},zyt=function(t){var r=0,n=0;Object.prototype.toString.apply(t)==="[object String]"&&(t=JSON.parse(t.toString().replace(/'/g,'"')));for(var d in t)d==="top"?n-=parseInt(t[d],10):d==="bottom"?n+=parseInt(t[d],10):d==="left"?r-=parseInt(t[d],10):d==="right"&&(r+=parseInt(t[d],10));return{extraOffsetX:r,extraOffsetY:n}},Uyt=function(t){for(var r=t;r;){var n=window.getComputedStyle(r);if(n.getPropertyValue("transform")!=="none"||n.getPropertyValue("will-change")==="transform")break;r=r.parentElement}var d=r&&r.getBoundingClientRect().top||0,S=r&&r.getBoundingClientRect().left||0;return{parentTop:d,parentLeft:S}};function uP(e,t,r,n){if(t)return t;if(r!=null)return r;if(r===null)return null;var d=/<br\s*\/?>/;return!n||n==="false"||!d.test(e)?e:e.split(d).map(function(S,s){return ti.createElement("span",{key:s,className:"multi-line"},S)})}function hP(e){var t={};return Object.keys(e).filter(function(r){return/(^aria-\w+$|^role$)/.test(r)}).forEach(function(r){t[r]=e[r]}),t}function QS(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map(function(r){return e[r]})}function Gyt(){return"t"+Uvt()}var Hyt=`.__react_component_tooltip {
  border-radius: 3px;
  display: inline-block;
  font-size: 13px;
  left: -999em;
  opacity: 0;
  position: fixed;
  pointer-events: none;
  transition: opacity 0.3s ease-out;
  top: -999em;
  visibility: hidden;
  z-index: 999;
}
.__react_component_tooltip.allow_hover, .__react_component_tooltip.allow_click {
  pointer-events: auto;
}
.__react_component_tooltip::before, .__react_component_tooltip::after {
  content: "";
  width: 0;
  height: 0;
  position: absolute;
}
.__react_component_tooltip.show {
  opacity: 0.9;
  margin-top: 0;
  margin-left: 0;
  visibility: visible;
}
.__react_component_tooltip.place-top::before {
  bottom: 0;
  left: 50%;
  margin-left: -11px;
}
.__react_component_tooltip.place-bottom::before {
  top: 0;
  left: 50%;
  margin-left: -11px;
}
.__react_component_tooltip.place-left::before {
  right: 0;
  top: 50%;
  margin-top: -9px;
}
.__react_component_tooltip.place-right::before {
  left: 0;
  top: 50%;
  margin-top: -9px;
}
.__react_component_tooltip .multi-line {
  display: block;
  padding: 2px 0;
  text-align: center;
}`,cP={dark:{text:"#fff",background:"#222",border:"transparent",arrow:"#222"},success:{text:"#fff",background:"#8DC572",border:"transparent",arrow:"#8DC572"},warning:{text:"#fff",background:"#F0AD4E",border:"transparent",arrow:"#F0AD4E"},error:{text:"#fff",background:"#BE6464",border:"transparent",arrow:"#BE6464"},info:{text:"#fff",background:"#337AB7",border:"transparent",arrow:"#337AB7"},light:{text:"#222",background:"#fff",border:"transparent",arrow:"#fff"}};function $yt(e){return cP[e]?eC({},cP[e]):void 0}var Wyt="8px 21px",Vyt={tooltip:3,arrow:0};function Yyt(e,t,r,n,d,S){return Xyt(e,Qyt(t,r,n),d,S)}function Xyt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wyt,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Vyt,d=t.text,S=t.background,s=t.border,g=t.arrow,i=n.arrow,o=n.tooltip;return`
  	.`.concat(e,` {
	    color: `).concat(d,`;
	    background: `).concat(S,`;
	    border: 1px solid `).concat(s,`;
	    border-radius: `).concat(o,`px;
	    padding: `).concat(r,`;
  	}

  	.`).concat(e,`.place-top {
        margin-top: -10px;
    }
    .`).concat(e,`.place-top::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: 2;
        width: 20px;
        height: 12px;
    }
    .`).concat(e,`.place-top::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(i,`px;
        border: 1px solid `).concat(s,`;
        background-color: `).concat(g,`;
        z-index: -2;
        bottom: -6px;
        left: 50%;
        margin-left: -6px;
        transform: rotate(135deg);
    }

    .`).concat(e,`.place-bottom {
        margin-top: 10px;
    }
    .`).concat(e,`.place-bottom::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 18px;
        height: 10px;
    }
    .`).concat(e,`.place-bottom::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(i,`px;
        border: 1px solid `).concat(s,`;
        background-color: `).concat(g,`;
        z-index: -2;
        top: -6px;
        left: 50%;
        margin-left: -6px;
        transform: rotate(45deg);
    }

    .`).concat(e,`.place-left {
        margin-left: -10px;
    }
    .`).concat(e,`.place-left::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 10px;
        height: 18px;
    }
    .`).concat(e,`.place-left::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(i,`px;
        border: 1px solid `).concat(s,`;
        background-color: `).concat(g,`;
        z-index: -2;
        right: -6px;
        top: 50%;
        margin-top: -6px;
        transform: rotate(45deg);
    }

    .`).concat(e,`.place-right {
        margin-left: 10px;
    }
    .`).concat(e,`.place-right::before {
        content: "";
        background-color: inherit;
        position: absolute;
        z-index: -1;
        width: 10px;
        height: 18px;
    }
    .`).concat(e,`.place-right::after {
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-top-right-radius: `).concat(i,`px;
        border: 1px solid `).concat(s,`;
        background-color: `).concat(g,`;
        z-index: -2;
        left: -6px;
        top: 50%;
        margin-top: -6px;
        transform: rotate(-135deg);
    }
  `)}function Qyt(e,t,r){var n=e.text,d=e.background,S=e.border,s=e.arrow?e.arrow:e.background,g=$yt(t);return n&&(g.text=n),d&&(g.background=d),r&&(S?g.border=S:g.border=t==="light"?"black":"white"),s&&(g.arrow=s),g}var Xa,nv,kc=Ayt(Xa=Ryt(Xa=Myt(Xa=Byt(Xa=Oyt(Xa=Lyt(Xa=Dyt(Xa=(nv=function(e){$vt(r,e);var t=Xvt(r);function r(n){var d;return Gvt(this,r),d=t.call(this,n),d.state={uuid:n.uuid||Gyt(),place:n.place||"top",desiredPlace:n.place||"top",type:n.type||"dark",effect:n.effect||"float",show:!1,border:!1,borderClass:"border",customColors:{},customRadius:{},offset:{},padding:n.padding,extraClass:"",html:!1,delayHide:0,delayShow:0,event:n.event||null,eventOff:n.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:hP(n),isEmptyTip:!1,disable:!1,possibleCustomEvents:n.possibleCustomEvents||"",possibleCustomEventsOff:n.possibleCustomEventsOff||"",originTooltip:null,isMultiline:!1},d.bind(["showTooltip","updateTooltip","hideTooltip","hideTooltipOnScroll","getTooltipContent","globalRebuild","globalShow","globalHide","onWindowResize","mouseOnToolTip"]),d.mount=!0,d.delayShowLoop=null,d.delayHideLoop=null,d.delayReshow=null,d.intervalUpdateContent=null,d}return Hvt(r,[{key:"bind",value:function(d){var S=this;d.forEach(function(s){S[s]=S[s].bind(S)})}},{key:"componentDidMount",value:function(){var d=this.props;d.insecure;var S=d.resizeHide,s=d.disableInternalStyle;this.mount=!0,this.bindListener(),this.bindWindowEvents(S),s||this.injectStyles()}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(this.state.currentTarget),this.unbindWindowEvents()}},{key:"injectStyles",value:function(){var d=this.tooltipRef;if(d){for(var S=d.parentNode;S.parentNode;)S=S.parentNode;var s;switch(S.constructor.name){case"Document":case"HTMLDocument":case void 0:s=S.head;break;case"ShadowRoot":default:s=S;break}if(!s.querySelector("style[data-react-tooltip]")){var g=document.createElement("style");g.textContent=Hyt,g.setAttribute("data-react-tooltip","true"),s.appendChild(g)}}}},{key:"mouseOnToolTip",value:function(){var d=this.state.show;return d&&this.tooltipRef?(this.tooltipRef.matches||(this.tooltipRef.msMatchesSelector?this.tooltipRef.matches=this.tooltipRef.msMatchesSelector:this.tooltipRef.matches=this.tooltipRef.mozMatchesSelector),this.tooltipRef.matches(":hover")):!1}},{key:"getTargetArray",value:function(d){var S=[],s;if(!d)s="[data-tip]:not([data-for])";else{var g=d.replace(/\\/g,"\\\\").replace(/"/g,'\\"');s='[data-tip][data-for="'.concat(g,'"]')}return QS(document.getElementsByTagName("*")).filter(function(i){return i.shadowRoot}).forEach(function(i){S=S.concat(QS(i.shadowRoot.querySelectorAll(s)))}),S.concat(QS(document.querySelectorAll(s)))}},{key:"bindListener",value:function(){var d=this,S=this.props,s=S.id,g=S.globalEventOff,i=S.isCapture,o=this.getTargetArray(s);o.forEach(function(m){m.getAttribute("currentItem")===null&&m.setAttribute("currentItem","false"),d.unbindBasicListener(m),d.isCustomEvent(m)&&d.customUnbindListener(m)}),this.isBodyMode()?this.bindBodyListener(o):o.forEach(function(m){var c=d.isCapture(m),l=d.getEffect(m);if(d.isCustomEvent(m)){d.customBindListener(m);return}m.addEventListener("mouseenter",d.showTooltip,c),m.addEventListener("focus",d.showTooltip,c),l==="float"&&m.addEventListener("mousemove",d.updateTooltip,c),m.addEventListener("mouseleave",d.hideTooltip,c),m.addEventListener("blur",d.hideTooltip,c)}),g&&(window.removeEventListener(g,this.hideTooltip),window.addEventListener(g,this.hideTooltip,i)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var d=this,S=this.props,s=S.id,g=S.globalEventOff;if(this.isBodyMode())this.unbindBodyListener();else{var i=this.getTargetArray(s);i.forEach(function(o){d.unbindBasicListener(o),d.isCustomEvent(o)&&d.customUnbindListener(o)})}g&&window.removeEventListener(g,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(d){var S=this.isCapture(d);d.removeEventListener("mouseenter",this.showTooltip,S),d.removeEventListener("mousemove",this.updateTooltip,S),d.removeEventListener("mouseleave",this.hideTooltip,S)}},{key:"getTooltipContent",value:function(){var d=this.props,S=d.getContent,s=d.children,g;return S&&(Array.isArray(S)?g=S[0]&&S[0](this.state.originTooltip):g=S(this.state.originTooltip)),uP(this.state.originTooltip,s,g,this.state.isMultiline)}},{key:"isEmptyTip",value:function(d){return typeof d=="string"&&d===""||d===null}},{key:"showTooltip",value:function(d,S){if(this.tooltipRef){if(S){var s=this.getTargetArray(this.props.id),g=s.some(function(E){return E===d.currentTarget});if(!g)return}var i=this.props,o=i.multiline,m=i.getContent,c=d.currentTarget.getAttribute("data-tip"),l=d.currentTarget.getAttribute("data-multiline")||o||!1,h=d instanceof window.FocusEvent||S,a=!0;d.currentTarget.getAttribute("data-scroll-hide")?a=d.currentTarget.getAttribute("data-scroll-hide")==="true":this.props.scrollHide!=null&&(a=this.props.scrollHide),d&&d.currentTarget&&d.currentTarget.setAttribute&&d.currentTarget.setAttribute("aria-describedby",this.props.id||this.state.uuid);var f=d.currentTarget.getAttribute("data-place")||this.props.place||"top",p=h&&"solid"||this.getEffect(d.currentTarget),u=d.currentTarget.getAttribute("data-offset")||this.props.offset||{},v=lP(d,d.currentTarget,this.tooltipRef,f.split(",")[0],f,p,u);v.position&&this.props.overridePosition&&(v.position=this.props.overridePosition(v.position,d,d.currentTarget,this.tooltipRef,f,f,p,u));var y=v.isNewState?v.newState.place:f.split(",")[0];this.clearTimer();var x=d.currentTarget,b=this.state.show?x.getAttribute("data-delay-update")||this.props.delayUpdate:0,w=this,C=function(){w.setState({originTooltip:c,isMultiline:l,desiredPlace:f,place:y,type:x.getAttribute("data-type")||w.props.type||"dark",customColors:{text:x.getAttribute("data-text-color")||w.props.textColor||null,background:x.getAttribute("data-background-color")||w.props.backgroundColor||null,border:x.getAttribute("data-border-color")||w.props.borderColor||null,arrow:x.getAttribute("data-arrow-color")||w.props.arrowColor||null},customRadius:{tooltip:x.getAttribute("data-tooltip-radius")||w.props.tooltipRadius||"3",arrow:x.getAttribute("data-arrow-radius")||w.props.arrowRadius||"0"},effect:p,offset:u,padding:x.getAttribute("data-padding")||w.props.padding,html:(x.getAttribute("data-html")?x.getAttribute("data-html")==="true":w.props.html)||!1,delayShow:x.getAttribute("data-delay-show")||w.props.delayShow||0,delayHide:x.getAttribute("data-delay-hide")||w.props.delayHide||0,delayUpdate:x.getAttribute("data-delay-update")||w.props.delayUpdate||0,border:(x.getAttribute("data-border")?x.getAttribute("data-border")==="true":w.props.border)||!1,borderClass:x.getAttribute("data-border-class")||w.props.borderClass||"border",extraClass:x.getAttribute("data-class")||w.props.class||w.props.className||"",disable:(x.getAttribute("data-tip-disable")?x.getAttribute("data-tip-disable")==="true":w.props.disable)||!1,currentTarget:x},function(){a&&w.addScrollListener(w.state.currentTarget),w.updateTooltip(d),m&&Array.isArray(m)&&(w.intervalUpdateContent=setInterval(function(){if(w.mount){var T=w.props.getContent,k=uP(c,"",T[0](),l),A=w.isEmptyTip(k);w.setState({isEmptyTip:A}),w.updatePosition()}},m[1]))})};b?this.delayReshow=setTimeout(C,b):C()}}},{key:"updateTooltip",value:function(d){var S=this,s=this.state,g=s.delayShow,i=s.disable,o=this.props,m=o.afterShow,c=o.disable,l=this.getTooltipContent(),h=d.currentTarget||d.target;if(!this.mouseOnToolTip()&&!(this.isEmptyTip(l)||i||c)){var a=this.state.show?0:parseInt(g,10),f=function(){if(Array.isArray(l)&&l.length>0||l){var u=!S.state.show;S.setState({currentEvent:d,currentTarget:h,show:!0},function(){S.updatePosition(function(){u&&m&&m(d)})})}};this.delayShowLoop&&clearTimeout(this.delayShowLoop),a?this.delayShowLoop=setTimeout(f,a):(this.delayShowLoop=null,f())}}},{key:"listenForTooltipExit",value:function(){var d=this.state.show;d&&this.tooltipRef&&this.tooltipRef.addEventListener("mouseleave",this.hideTooltip)}},{key:"removeListenerForTooltipExit",value:function(){var d=this.state.show;d&&this.tooltipRef&&this.tooltipRef.removeEventListener("mouseleave",this.hideTooltip)}},{key:"hideTooltip",value:function(d,S){var s=this,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isScroll:!1},i=this.state.disable,o=g.isScroll,m=o?0:this.state.delayHide,c=this.props,l=c.afterHide,h=c.disable,a=this.getTooltipContent();if(this.mount&&!(this.isEmptyTip(a)||i||h)){if(S){var f=this.getTargetArray(this.props.id),p=f.some(function(v){return v===d.currentTarget});if(!p||!this.state.show)return}d&&d.currentTarget&&d.currentTarget.removeAttribute&&d.currentTarget.removeAttribute("aria-describedby");var u=function(){var y=s.state.show;if(s.mouseOnToolTip()){s.listenForTooltipExit();return}s.removeListenerForTooltipExit(),s.setState({show:!1},function(){s.removeScrollListener(s.state.currentTarget),y&&l&&l(d)})};this.clearTimer(),m?this.delayHideLoop=setTimeout(u,parseInt(m,10)):u()}}},{key:"hideTooltipOnScroll",value:function(d,S){this.hideTooltip(d,S,{isScroll:!0})}},{key:"addScrollListener",value:function(d){var S=this.isCapture(d);window.addEventListener("scroll",this.hideTooltipOnScroll,S)}},{key:"removeScrollListener",value:function(d){var S=this.isCapture(d);window.removeEventListener("scroll",this.hideTooltipOnScroll,S)}},{key:"updatePosition",value:function(d){var S=this,s=this.state,g=s.currentEvent,i=s.currentTarget,o=s.place,m=s.desiredPlace,c=s.effect,l=s.offset,h=this.tooltipRef,a=lP(g,i,h,o,m,c,l);if(a.position&&this.props.overridePosition&&(a.position=this.props.overridePosition(a.position,g,i,h,o,m,c,l)),a.isNewState)return this.setState(a.newState,function(){S.updatePosition(d)});d&&typeof d=="function"&&d(),h.style.left=a.position.left+"px",h.style.top=a.position.top+"px"}},{key:"clearTimer",value:function(){this.delayShowLoop&&(clearTimeout(this.delayShowLoop),this.delayShowLoop=null),this.delayHideLoop&&(clearTimeout(this.delayHideLoop),this.delayHideLoop=null),this.delayReshow&&(clearTimeout(this.delayReshow),this.delayReshow=null),this.intervalUpdateContent&&(clearInterval(this.intervalUpdateContent),this.intervalUpdateContent=null)}},{key:"hasCustomColors",value:function(){var d=this;return!!(Object.keys(this.state.customColors).find(function(S){return S!=="border"&&d.state.customColors[S]})||this.state.border&&this.state.customColors.border)}},{key:"render",value:function(){var d=this,S=this.state,s=S.extraClass,g=S.html,i=S.ariaProps,o=S.disable,m=S.uuid,c=this.getTooltipContent(),l=this.isEmptyTip(c),h=this.props.disableInternalStyle?"":Yyt(this.state.uuid,this.state.customColors,this.state.type,this.state.border,this.state.padding,this.state.customRadius),a="__react_component_tooltip"+" ".concat(this.state.uuid)+(this.state.show&&!o&&!l?" show":"")+(this.state.border?" "+this.state.borderClass:"")+" place-".concat(this.state.place)+" type-".concat(this.hasCustomColors()?"custom":this.state.type)+(this.props.delayUpdate?" allow_hover":"")+(this.props.clickable?" allow_click":""),f=this.props.wrapper;r.supportedWrappers.indexOf(f)<0&&(f=r.defaultProps.wrapper);var p=[a,s].filter(Boolean).join(" ");if(g){var u="".concat(c).concat(h?`
<style aria-hidden="true">`.concat(h,"</style>"):"");return ti.createElement(f,vy({className:"".concat(p),id:this.props.id||m,ref:function(y){return d.tooltipRef=y}},i,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:u}}))}else return ti.createElement(f,vy({className:"".concat(p),id:this.props.id||m},i,{ref:function(y){return d.tooltipRef=y},"data-id":"tooltip"}),h&&ti.createElement("style",{dangerouslySetInnerHTML:{__html:h},"aria-hidden":"true"}),c)}}],[{key:"propTypes",get:function(){return{uuid:Xt.string,children:Xt.any,place:Xt.string,type:Xt.string,effect:Xt.string,offset:Xt.object,padding:Xt.string,multiline:Xt.bool,border:Xt.bool,borderClass:Xt.string,textColor:Xt.string,backgroundColor:Xt.string,borderColor:Xt.string,arrowColor:Xt.string,arrowRadius:Xt.string,tooltipRadius:Xt.string,insecure:Xt.bool,class:Xt.string,className:Xt.string,id:Xt.string,html:Xt.bool,delayHide:Xt.number,delayUpdate:Xt.number,delayShow:Xt.number,event:Xt.string,eventOff:Xt.string,isCapture:Xt.bool,globalEventOff:Xt.string,getContent:Xt.any,afterShow:Xt.func,afterHide:Xt.func,overridePosition:Xt.func,disable:Xt.bool,scrollHide:Xt.bool,resizeHide:Xt.bool,wrapper:Xt.string,bodyMode:Xt.bool,possibleCustomEvents:Xt.string,possibleCustomEventsOff:Xt.string,clickable:Xt.bool,disableInternalStyle:Xt.bool}}},{key:"getDerivedStateFromProps",value:function(d,S){var s=S.ariaProps,g=hP(d),i=Object.keys(g).some(function(o){return g[o]!==s[o]});return i?eC(eC({},S),{},{ariaProps:g}):null}}]),r}(ti.Component),$v(nv,"defaultProps",{insecure:!0,resizeHide:!0,wrapper:"div",clickable:!1}),$v(nv,"supportedWrappers",["div","span"]),$v(nv,"displayName","ReactTooltip"),nv))||Xa)||Xa)||Xa)||Xa)||Xa)||Xa)||Xa;const Kyt="_sidebar_l4eyq_1",Jyt="_logo_l4eyq_17",Zyt="_bigButton_l4eyq_22",qyt="_bigButtonInside_l4eyq_26",txt="_bigIcon_l4eyq_39",ext="_plusButton_l4eyq_44",ixt="_plusIcon_l4eyq_65",rxt="_pageButton_l4eyq_70",nxt="_pageSelected_l4eyq_95",sxt="_pageIcon_l4eyq_100",axt="_pageText_l4eyq_106",oxt="_bottomRow_l4eyq_112",lxt="_bottomRowMargin_l4eyq_121",uxt="_smallButton_l4eyq_125",hxt="_bottomIcon_l4eyq_137",cxt="_topRightRow_l4eyq_142",dxt="_profileContainer_l4eyq_151",fxt="_profileRow_l4eyq_168",pxt="_profileBlook_l4eyq_175",vxt="_profileDropdownIcon_l4eyq_180",mxt="_profileDropdownMenu_l4eyq_185",gxt="_profileDropdownOption_l4eyq_212",yxt="_profileDropdownOptionIcon_l4eyq_234",xxt="_mNavBar_l4eyq_242",bxt="_mLogo_l4eyq_261",Sxt="_mHamburgerIcon_l4eyq_265",wxt="_mSidebar_l4eyq_275",Txt="_mSidebarOpen_l4eyq_294",Cxt="_modalTransition_l4eyq_298",Ext="_modalOpen_l4eyq_304",kxt="_closeIcon_l4eyq_308",Pxt="_noMobile_l4eyq_328",Di={sidebar:Kyt,logo:Jyt,bigButton:Zyt,bigButtonInside:qyt,bigIcon:txt,plusButton:ext,plusIcon:ixt,pageButton:rxt,pageSelected:nxt,pageIcon:sxt,pageText:axt,bottomRow:oxt,bottomRowMargin:lxt,smallButton:uxt,bottomIcon:hxt,topRightRow:cxt,profileContainer:dxt,profileRow:fxt,profileBlook:pxt,profileDropdownIcon:vxt,profileDropdownMenu:mxt,profileDropdownOption:gxt,profileDropdownOptionIcon:yxt,mNavBar:xxt,mLogo:bxt,mHamburgerIcon:Sxt,mSidebar:wxt,mSidebarOpen:Txt,modalTransition:Cxt,modalOpen:Ext,closeIcon:kxt,noMobile:Pxt},Axt="_modal_3myg9_1",Rxt="_container_3myg9_6",Ixt="_containerShown_3myg9_20",Mxt="_header_3myg9_25",Bxt="_newsIcon_3myg9_45",Oxt="_headerText_3myg9_49",Nxt="_newsText_3myg9_55",Lxt="_closeIcon_3myg9_61",Fxt="_postsContainer_3myg9_73",ju={modal:Axt,container:Rxt,containerShown:Ixt,header:Mxt,newsIcon:Bxt,headerText:Oxt,newsText:Nxt,closeIcon:Lxt,postsContainer:Fxt};function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jc.apply(this,arguments)}const Dxt=["children","options"],nr={blockQuote:"0",breakLine:"1",breakThematic:"2",codeBlock:"3",codeFenced:"4",codeInline:"5",footnote:"6",footnoteReference:"7",gfmTask:"8",heading:"9",headingSetext:"10",htmlBlock:"11",htmlComment:"12",htmlSelfClosing:"13",image:"14",link:"15",linkAngleBraceStyleDetector:"16",linkBareUrlDetector:"17",linkMailtoDetector:"18",newlineCoalescer:"19",orderedList:"20",paragraph:"21",ref:"22",refImage:"23",refLink:"24",table:"25",tableSeparator:"26",text:"27",textBolded:"28",textEmphasized:"29",textEscaped:"30",textMarked:"31",textStrikethroughed:"32",unorderedList:"33"};var dP;(function(e){e[e.MAX=0]="MAX",e[e.HIGH=1]="HIGH",e[e.MED=2]="MED",e[e.LOW=3]="LOW",e[e.MIN=4]="MIN"})(dP||(dP={}));const fP=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{for:"htmlFor"}),pP={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:""},_xt=["style","script"],jxt=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,zxt=/mailto:/i,Uxt=/\n{2,}$/,t_=/^(\s*>[\s\S]*?)(?=\n{2,})/,Gxt=/^ *> ?/gm,Hxt=/^ {2,}\n/,$xt=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,e_=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,i_=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,Wxt=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,Vxt=/^(?:\n *)*\n/,Yxt=/\r\n?/g,Xxt=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,Qxt=/^\[\^([^\]]+)]/,Kxt=/\f/g,Jxt=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,Zxt=/^\s*?\[(x|\s)\]/,r_=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,n_=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,s_=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,mC=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,qxt=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,a_=/^<!--[\s\S]*?(?:-->)/,tbt=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,gC=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,ebt=/^\{.*\}$/,ibt=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,rbt=/^<([^ >]+@[^ >]+)>/,nbt=/^<([^ >]+:\/[^ >]+)>/,sbt=/-([a-z])?/gi,o_=/^(.*\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,abt=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,obt=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,lbt=/^\[([^\]]*)\] ?\[([^\]]*)\]/,ubt=/(\[|\])/g,hbt=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,cbt=/\t/g,dbt=/(^ *\||\| *$)/g,fbt=/^ *:-+: *$/,pbt=/^ *:-+ *$/,vbt=/^ *-+: *$/,Hx="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~~.*?~~|==.*?==|.|\\n)*?)",mbt=new RegExp(`^([*_])\\1${Hx}\\1\\1(?!\\1)`),gbt=new RegExp(`^([*_])${Hx}\\1(?!\\1|\\w)`),ybt=new RegExp(`^==${Hx}==`),xbt=new RegExp(`^~~${Hx}~~`),bbt=/^\\([^0-9A-Za-z\s])/,Sbt=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&#;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,wbt=/^\n+/,Tbt=/^([ \t]*)/,Cbt=/\\([^\\])/g,vP=/ *\n+$/,Ebt=/(?:^|\n)( *)$/,O5="(?:\\d+\\.)",N5="(?:[*+-])";function l_(e){return"( *)("+(e===1?O5:N5)+") +"}const u_=l_(1),h_=l_(2);function c_(e){return new RegExp("^"+(e===1?u_:h_))}const kbt=c_(1),Pbt=c_(2);function d_(e){return new RegExp("^"+(e===1?u_:h_)+"[^\\n]*(?:\\n(?!\\1"+(e===1?O5:N5)+" )[^\\n]*)*(\\n|$)","gm")}const f_=d_(1),p_=d_(2);function v_(e){const t=e===1?O5:N5;return new RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const m_=v_(1),g_=v_(2);function mP(e,t){const r=t===1,n=r?m_:g_,d=r?f_:p_,S=r?kbt:Pbt;return{match(s,g,i){const o=Ebt.exec(i);return o&&(g.list||!g.inline&&!g.simple)?n.exec(s=o[1]+s):null},order:1,parse(s,g,i){const o=r?+s[2]:void 0,m=s[0].replace(Uxt,`
`).match(d);let c=!1;return{items:m.map(function(l,h){const a=S.exec(l)[0].length,f=new RegExp("^ {1,"+a+"}","gm"),p=l.replace(f,"").replace(S,""),u=h===m.length-1,v=p.indexOf(`

`)!==-1||u&&c;c=v;const y=i.inline,x=i.list;let b;i.list=!0,v?(i.inline=!1,b=p.replace(vP,`

`)):(i.inline=!0,b=p.replace(vP,""));const w=g(b,i);return i.inline=y,i.list=x,w}),ordered:r,start:o}},render:(s,g,i)=>e(s.ordered?"ol":"ul",{key:i.key,start:s.type===nr.orderedList?s.start:void 0},s.items.map(function(o,m){return e("li",{key:m},g(o,i))}))}}const Abt=new RegExp(`^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),Rbt=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,y_=[t_,e_,i_,r_,s_,n_,a_,o_,f_,m_,p_,g_],Ibt=[...y_,/^[^\n]+(?:  \n|\n{2,})/,mC,gC];function l0(e){return e.replace(/[ ]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Mbt(e){return vbt.test(e)?"right":fbt.test(e)?"center":pbt.test(e)?"left":null}function gP(e,t,r,n){const d=r.inTable;r.inTable=!0;let S=e.trim().split(/( *(?:`[^`]*`|<.*?>.*?<\/.*?>(?!<\/.*?>)|\\\||\|) *)/).reduce((g,i)=>(i.trim()==="|"?g.push(n?{type:nr.tableSeparator}:{type:nr.text,text:i}):i!==""&&g.push.apply(g,t(i,r)),g),[]);r.inTable=d;let s=[[]];return S.forEach(function(g,i){g.type===nr.tableSeparator?i!==0&&i!==S.length-1&&s.push([]):(g.type!==nr.text||S[i+1]!=null&&S[i+1].type!==nr.tableSeparator||(g.text=g.text.trimEnd()),s[s.length-1].push(g))}),s}function Bbt(e,t,r){r.inline=!0;const n=e[2]?e[2].replace(dbt,"").split("|").map(Mbt):[],d=e[3]?function(s,g,i){return s.trim().split(`
`).map(function(o){return gP(o,g,i,!0)})}(e[3],t,r):[],S=gP(e[1],t,r,!!d.length);return r.inline=!1,d.length?{align:n,cells:d,header:S,type:nr.table}:{children:S,type:nr.paragraph}}function yP(e,t){return e.align[t]==null?{}:{textAlign:e.align[t]}}function Oh(e){return function(t,r){return r.inline?e.exec(t):null}}function Nh(e){return function(t,r){return r.inline||r.simple?e.exec(t):null}}function zu(e){return function(t,r){return r.inline||r.simple?null:e.exec(t)}}function sv(e){return function(t){return e.exec(t)}}function Obt(e,t,r){if(t.inline||t.simple||r&&!r.endsWith(`
`))return null;let n="";e.split(`
`).every(S=>!y_.some(s=>s.test(S))&&(n+=S+`
`,S.trim()));const d=n.trimEnd();return d==""?null:[n,d]}function Nbt(e){try{if(decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return null}catch(t){return null}return e}function xP(e){return e.replace(Cbt,"$1")}function m1(e,t,r){const n=r.inline||!1,d=r.simple||!1;r.inline=!0,r.simple=!0;const S=e(t,r);return r.inline=n,r.simple=d,S}function Lbt(e,t,r){const n=r.inline||!1,d=r.simple||!1;r.inline=!1,r.simple=!0;const S=e(t,r);return r.inline=n,r.simple=d,S}function Fbt(e,t,r){const n=r.inline||!1;r.inline=!1;const d=e(t,r);return r.inline=n,d}const KS=(e,t,r)=>({children:m1(t,e[1],r)});function JS(){return{}}function ZS(){return null}function Dbt(...e){return e.filter(Boolean).join(" ")}function qS(e,t,r){let n=e;const d=t.split(".");for(;d.length&&(n=n[d[0]],n!==void 0);)d.shift();return n||r}function _bt(e="",t={}){function r(l,h,...a){const f=qS(t.overrides,`${l}.props`,{});return t.createElement(function(p,u){const v=qS(u,p);return v?typeof v=="function"||typeof v=="object"&&"render"in v?v:qS(u,`${p}.component`,p):p}(l,t.overrides),Jc({},h,f,{className:Dbt(h==null?void 0:h.className,f.className)||void 0}),...a)}function n(l){l=l.replace(Jxt,"");let h=!1;t.forceInline?h=!0:t.forceBlock||(h=hbt.test(l)===!1);const a=o(i(h?l:`${l.trimEnd().replace(wbt,"")}

`,{inline:h}));for(;typeof a[a.length-1]=="string"&&!a[a.length-1].trim();)a.pop();if(t.wrapper===null)return a;const f=t.wrapper||(h?"span":"div");let p;if(a.length>1||t.forceWrapper)p=a;else{if(a.length===1)return p=a[0],typeof p=="string"?r("span",{key:"outer"},p):p;p=null}return _i.createElement(f,{key:"outer"},p)}function d(l,h){const a=h.match(jxt);return a?a.reduce(function(f,p,u){const v=p.indexOf("=");if(v!==-1){const y=function(C){return C.indexOf("-")!==-1&&C.match(tbt)===null&&(C=C.replace(sbt,function(E,T){return T.toUpperCase()})),C}(p.slice(0,v)).trim(),x=function(C){const E=C[0];return(E==='"'||E==="'")&&C.length>=2&&C[C.length-1]===E?C.slice(1,-1):C}(p.slice(v+1).trim()),b=fP[y]||y,w=f[b]=function(C,E,T,k){return E==="style"?T.split(/;\s?/).reduce(function(A,I){const B=I.slice(0,I.indexOf(":"));return A[B.trim().replace(/(-[a-z])/g,M=>M[1].toUpperCase())]=I.slice(B.length+1).trim(),A},{}):E==="href"||E==="src"?k(T,C,E):(T.match(ebt)&&(T=T.slice(1,T.length-1)),T==="true"||T!=="false"&&T)}(l,y,x,t.sanitizer);typeof w=="string"&&(mC.test(w)||gC.test(w))&&(f[b]=_i.cloneElement(n(w.trim()),{key:u}))}else p!=="style"&&(f[fP[p]||p]=!0);return f},{}):null}t.overrides=t.overrides||{},t.sanitizer=t.sanitizer||Nbt,t.slugify=t.slugify||l0,t.namedCodesToUnicode=t.namedCodesToUnicode?Jc({},pP,t.namedCodesToUnicode):pP,t.createElement=t.createElement||_i.createElement;const S=[],s={},g={[nr.blockQuote]:{match:zu(t_),order:1,parse:(l,h,a)=>({children:h(l[0].replace(Gxt,""),a)}),render:(l,h,a)=>r("blockquote",{key:a.key},h(l.children,a))},[nr.breakLine]:{match:sv(Hxt),order:1,parse:JS,render:(l,h,a)=>r("br",{key:a.key})},[nr.breakThematic]:{match:zu($xt),order:1,parse:JS,render:(l,h,a)=>r("hr",{key:a.key})},[nr.codeBlock]:{match:zu(i_),order:0,parse:l=>({lang:void 0,text:l[0].replace(/^ {4}/gm,"").replace(/\n+$/,"")}),render:(l,h,a)=>r("pre",{key:a.key},r("code",Jc({},l.attrs,{className:l.lang?`lang-${l.lang}`:""}),l.text))},[nr.codeFenced]:{match:zu(e_),order:0,parse:l=>({attrs:d("code",l[3]||""),lang:l[2]||void 0,text:l[4],type:nr.codeBlock})},[nr.codeInline]:{match:Nh(Wxt),order:3,parse:l=>({text:l[2]}),render:(l,h,a)=>r("code",{key:a.key},l.text)},[nr.footnote]:{match:zu(Xxt),order:0,parse:l=>(S.push({footnote:l[2],identifier:l[1]}),{}),render:ZS},[nr.footnoteReference]:{match:Oh(Qxt),order:1,parse:l=>({target:`#${t.slugify(l[1],l0)}`,text:l[1]}),render:(l,h,a)=>r("a",{key:a.key,href:t.sanitizer(l.target,"a","href")},r("sup",{key:a.key},l.text))},[nr.gfmTask]:{match:Oh(Zxt),order:1,parse:l=>({completed:l[1].toLowerCase()==="x"}),render:(l,h,a)=>r("input",{checked:l.completed,key:a.key,readOnly:!0,type:"checkbox"})},[nr.heading]:{match:zu(t.enforceAtxHeadings?n_:r_),order:1,parse:(l,h,a)=>({children:m1(h,l[2],a),id:t.slugify(l[2],l0),level:l[1].length}),render:(l,h,a)=>r(`h${l.level}`,{id:l.id,key:a.key},h(l.children,a))},[nr.headingSetext]:{match:zu(s_),order:0,parse:(l,h,a)=>({children:m1(h,l[1],a),level:l[2]==="="?1:2,type:nr.heading})},[nr.htmlBlock]:{match:sv(mC),order:1,parse(l,h,a){const[,f]=l[3].match(Tbt),p=new RegExp(`^${f}`,"gm"),u=l[3].replace(p,""),v=(y=u,Ibt.some(E=>E.test(y))?Fbt:m1);var y;const x=l[1].toLowerCase(),b=_xt.indexOf(x)!==-1,w=(b?x:l[1]).trim(),C={attrs:d(w,l[2]),noInnerParse:b,tag:w};return a.inAnchor=a.inAnchor||x==="a",b?C.text=l[3]:C.children=v(h,u,a),a.inAnchor=!1,C},render:(l,h,a)=>r(l.tag,Jc({key:a.key},l.attrs),l.text||h(l.children,a))},[nr.htmlSelfClosing]:{match:sv(gC),order:1,parse(l){const h=l[1].trim();return{attrs:d(h,l[2]||""),tag:h}},render:(l,h,a)=>r(l.tag,Jc({},l.attrs,{key:a.key}))},[nr.htmlComment]:{match:sv(a_),order:1,parse:()=>({}),render:ZS},[nr.image]:{match:Nh(Rbt),order:1,parse:l=>({alt:l[1],target:xP(l[2]),title:l[3]}),render:(l,h,a)=>r("img",{key:a.key,alt:l.alt||void 0,title:l.title||void 0,src:t.sanitizer(l.target,"img","src")})},[nr.link]:{match:Oh(Abt),order:3,parse:(l,h,a)=>({children:Lbt(h,l[1],a),target:xP(l[2]),title:l[3]}),render:(l,h,a)=>r("a",{key:a.key,href:t.sanitizer(l.target,"a","href"),title:l.title},h(l.children,a))},[nr.linkAngleBraceStyleDetector]:{match:Oh(nbt),order:0,parse:l=>({children:[{text:l[1],type:nr.text}],target:l[1],type:nr.link})},[nr.linkBareUrlDetector]:{match:(l,h)=>h.inAnchor?null:Oh(ibt)(l,h),order:0,parse:l=>({children:[{text:l[1],type:nr.text}],target:l[1],title:void 0,type:nr.link})},[nr.linkMailtoDetector]:{match:Oh(rbt),order:0,parse(l){let h=l[1],a=l[1];return zxt.test(a)||(a="mailto:"+a),{children:[{text:h.replace("mailto:",""),type:nr.text}],target:a,type:nr.link}}},[nr.orderedList]:mP(r,1),[nr.unorderedList]:mP(r,2),[nr.newlineCoalescer]:{match:zu(Vxt),order:3,parse:JS,render:()=>`
`},[nr.paragraph]:{match:Obt,order:3,parse:KS,render:(l,h,a)=>r("p",{key:a.key},h(l.children,a))},[nr.ref]:{match:Oh(abt),order:0,parse:l=>(s[l[1]]={target:l[2],title:l[4]},{}),render:ZS},[nr.refImage]:{match:Nh(obt),order:0,parse:l=>({alt:l[1]||void 0,ref:l[2]}),render:(l,h,a)=>s[l.ref]?r("img",{key:a.key,alt:l.alt,src:t.sanitizer(s[l.ref].target,"img","src"),title:s[l.ref].title}):null},[nr.refLink]:{match:Oh(lbt),order:0,parse:(l,h,a)=>({children:h(l[1],a),fallbackChildren:h(l[0].replace(ubt,"\\$1"),a),ref:l[2]}),render:(l,h,a)=>s[l.ref]?r("a",{key:a.key,href:t.sanitizer(s[l.ref].target,"a","href"),title:s[l.ref].title},h(l.children,a)):r("span",{key:a.key},h(l.fallbackChildren,a))},[nr.table]:{match:zu(o_),order:1,parse:Bbt,render(l,h,a){const f=l;return r("table",{key:a.key},r("thead",null,r("tr",null,f.header.map(function(p,u){return r("th",{key:u,style:yP(f,u)},h(p,a))}))),r("tbody",null,f.cells.map(function(p,u){return r("tr",{key:u},p.map(function(v,y){return r("td",{key:y,style:yP(f,y)},h(v,a))}))})))}},[nr.text]:{match:sv(Sbt),order:4,parse:l=>({text:l[0].replace(qxt,(h,a)=>t.namedCodesToUnicode[a]?t.namedCodesToUnicode[a]:h)}),render:l=>l.text},[nr.textBolded]:{match:Nh(mbt),order:2,parse:(l,h,a)=>({children:h(l[2],a)}),render:(l,h,a)=>r("strong",{key:a.key},h(l.children,a))},[nr.textEmphasized]:{match:Nh(gbt),order:3,parse:(l,h,a)=>({children:h(l[2],a)}),render:(l,h,a)=>r("em",{key:a.key},h(l.children,a))},[nr.textEscaped]:{match:Nh(bbt),order:1,parse:l=>({text:l[1],type:nr.text})},[nr.textMarked]:{match:Nh(ybt),order:3,parse:KS,render:(l,h,a)=>r("mark",{key:a.key},h(l.children,a))},[nr.textStrikethroughed]:{match:Nh(xbt),order:3,parse:KS,render:(l,h,a)=>r("del",{key:a.key},h(l.children,a))}};t.disableParsingRawHTML===!0&&(delete g[nr.htmlBlock],delete g[nr.htmlSelfClosing]);const i=function(l){let h=Object.keys(l);function a(f,p){let u=[],v="";for(;f;){let y=0;for(;y<h.length;){const x=h[y],b=l[x],w=b.match(f,p,v);if(w){const C=w[0];f=f.substring(C.length);const E=b.parse(w,a,p);E.type==null&&(E.type=x),u.push(E),v=C;break}y++}}return u}return h.sort(function(f,p){let u=l[f].order,v=l[p].order;return u!==v?u-v:f<p?-1:1}),function(f,p){return a(function(u){return u.replace(Yxt,`
`).replace(Kxt,"").replace(cbt,"    ")}(f),p)}}(g),o=(m=function(l,h){return function(a,f,p){const u=l[a.type].render;return h?h(()=>u(a,f,p),a,f,p):u(a,f,p)}}(g,t.renderRule),function l(h,a={}){if(Array.isArray(h)){const f=a.key,p=[];let u=!1;for(let v=0;v<h.length;v++){a.key=v;const y=l(h[v],a),x=typeof y=="string";x&&u?p[p.length-1]+=y:y!==null&&p.push(y),u=x}return a.key=f,p}return m(h,l,a)});var m;const c=n(e);return S.length?r("div",null,c,r("footer",{key:"footer"},S.map(function(l){return r("div",{id:t.slugify(l.identifier,l0),key:l.identifier},l.identifier,o(i(l.footnote,{inline:!0})))}))):c}const jbt=e=>{let{children:t="",options:r}=e,n=function(d,S){if(d==null)return{};var s,g,i={},o=Object.keys(d);for(g=0;g<o.length;g++)S.indexOf(s=o[g])>=0||(i[s]=d[s]);return i}(e,Dxt);return _i.cloneElement(_bt(t,r),n)},zbt="_cardContainer_2g4e4_1",Ubt="_tagText_2g4e4_15",Gbt="_header_2g4e4_20",Hbt="_image_2g4e4_27",$bt="_body_2g4e4_32",Wbt="_link_2g4e4_46",Vbt="_dateRow_2g4e4_51",Ybt="_dateIcon_2g4e4_59",zc={cardContainer:zbt,tagText:Ubt,header:Gbt,image:Hbt,body:$bt,link:Wbt,dateRow:Vbt,dateIcon:Ybt},x_=({post:e})=>R.jsxs("div",{className:zc.cardContainer,children:[R.jsx("div",{className:zc.tagText,children:e.tag}),R.jsx("div",{className:zc.header,children:e.header}),e.image?R.jsx("img",{src:e.image,alt:e.imageAlt,className:zc.image,draggable:!1}):null,R.jsx("div",{className:zc.body,children:R.jsx(jbt,{children:e.text})}),R.jsxs("div",{className:zc.dateRow,children:[R.jsx("i",{className:Ct("far fa-calendar-alt",zc.dateIcon)}),li(e.date).fromNow()]})]});x_.propTypes={post:Xt.objectOf({tag:Xt.string,header:Xt.string,image:Xt.string,imageAlt:Xt.string,text:Xt.string,date:Xt.string})};class b_ extends ti.Component{constructor(t){super(t),this.state={posts:[]},this.here=!0,this.loaded=!1}componentDidUpdate(){!this.loaded&&this.props.isShown&&(this.loaded=!0,vi.get("/api/news").then(t=>{const r=[...t.data].filter(n=>n.enabled);r.sort((n,d)=>li(d.date).diff(n.date)),this.here&&(this.props.layout==="Teacher"?this.setState({posts:r.filter(n=>n.segment==="TEACHER"||n.segment==="ALL")}):this.setState({posts:r.filter(n=>n.segment==="STUDENT"||n.segment==="ALL")}))}).catch(t=>{Ve.logError(t)}))}componentWillUnmount(){this.here=!1}render(){return R.jsxs(R.Fragment,{children:[this.props.isShown?R.jsx("div",{className:Ct(Qe.modal,ju.modal),role:"button",tabIndex:0,onClick:this.props.onClose}):null,R.jsxs("div",{className:Ct(ju.container,{[ju.containerShown]:this.props.isShown}),children:[R.jsxs("div",{className:ju.header,children:[R.jsx("i",{className:Ct("far fa-newspaper",ju.newsIcon)}),R.jsx("div",{className:ju.headerText,children:"Blooket"}),R.jsx("div",{className:ju.newsText,children:"News"}),R.jsx("i",{className:Ct("fas fa-times",ju.closeIcon),role:"button",tabIndex:0,onClick:this.props.onClose})]}),R.jsx("div",{className:ju.postsContainer,children:this.state.posts.map(t=>R.jsx(x_,{post:t}))})]})]})}}b_.propTypes={isShown:Xt.bool,layout:Xt.string,onClose:Xt.func};const Xbt="bl.cs",S_=()=>Xu.WINTER,Qbt=e=>{const t=e.toString();localStorage.setItem(Xbt,t)},Nr={Play:{icon:"fas fa-play",link:`${ar.play}/play`,realLink:!0},Discover:{icon:"fas fa-compass",link:"/discover",realLink:!0},"Set Creator":{icon:"fas fa-edit",link:"/create"},"My Sets":{icon:"fas fa-list",link:"/my-sets"},Favorites:{icon:"fas fa-star",link:"/favorites"},Homework:{icon:"fas fa-file-alt",link:"/homeworks",realLink:!0},History:{icon:"fas fa-history",link:"/history",realLink:!0},"Group Plan":{icon:"fas fa-users",link:"/group-plan/manage",showIf:e=>e.groupId,realLink:!0},Market:{icon:"fas fa-store",link:"/market"},Blooks:{icon:"fas fa-suitcase",link:"/blooks",realLink:!0},Stats:{icon:"fas fa-chart-bar",link:"/stats"},Settings:{icon:"fas fa-cog",link:"/settings",realLink:!0},Logout:{icon:"fas fa-sign-out-alt",link:"https://id.blooket.com/logout",realLink:!0}},Kbt={big:"Play",medium:["Stats","Blooks","Market","Discover","Set Creator","My Sets","Favorites","Group Plan"],small:["History","Homework","Settings"]},bP={big:"Set Creator",medium:["Discover","My Sets","Favorites","History","Homework","Play","Group Plan","Settings"],small:["Stats","Blooks","Market"]},la=({page:e,user:t,topContent:r,newNews:n,afterNews:d})=>{const[S,s]=_i.useState(!1),[g,i]=_i.useState(!1),o=t||{};let m=null;return o.dashboardLayout==="Student"?m=Kbt:o.dashboardLayout==="Teacher"?m=bP:o.name&&(m=bP,o.dashboardLayout="Teacher"),_i.useEffect(()=>{ci(An,null,function*(){const c=yield Yr.me();Qbt(c.currentSeason)})},[]),R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:Di.sidebar,children:[R.jsx("img",{src:Ee.basic.blooket,alt:"Blooket",className:Di.logo}),m&&R.jsxs(R.Fragment,{children:[R.jsx(Ri,{color:"#0bc2cf",linkTo:Nr[m.big].link,outsideClass:Di.bigButton,children:R.jsxs("div",{className:Di.bigButtonInside,children:[R.jsx("i",{className:Ct(Nr[m.big].icon,Di.bigIcon)}),m.big==="Set Creator"?"Create":m.big]})}),m.medium.filter(c=>!Nr[c].showIf||Nr[c].showIf(o)).map(c=>Nr[c].realLink?R.jsxs("a",{href:Nr[c].link,className:Ct(Di.pageButton,{[Di.pageSelected]:e===c,[Di.noMobile]:Nr[c].noMobile}),children:[R.jsx("i",{className:Ct(Di.pageIcon,Nr[c].icon)}),R.jsx("div",{className:Di.pageText,children:c})]},c):R.jsxs(xa,{to:Nr[c].link,className:Ct(Di.pageButton,{[Di.pageSelected]:e===c,[Di.noMobile]:Nr[c].noMobile}),children:[R.jsx("i",{className:Ct(Di.pageIcon,Nr[c].icon)}),R.jsx("div",{className:Di.pageText,children:c})]},c)),["Teacher","Student"].includes(o.dashboardLayout)?R.jsxs("div",{className:Di.bottomRow,children:[R.jsx(kc,{place:"top",effect:"solid",className:Qe.tooltip}),m.small.map(c=>Nr[c].realLink?R.jsx("a",{href:Nr[c].link,"data-tip":c,className:Ct(Di.smallButton,{[Di.noMobile]:Nr[c].noMobile}),children:R.jsx("i",{className:Ct(Di.bottomIcon,Nr[c].icon)})},c):R.jsx(xa,{to:Nr[c].link,"data-tip":c,className:Ct(Di.smallButton,{[Di.noMobile]:Nr[c].noMobile}),children:R.jsx("i",{className:Ct(Di.bottomIcon,Nr[c].icon)})},c)),R.jsx("div",{className:Di.smallButton,"data-tip":"News",role:"button",tabIndex:0,onClick:()=>s(!0),children:R.jsx("i",{className:Ct("far fa-newspaper",Di.bottomIcon)})})]}):null]}),!o.hasPlus&&o.dashboardLayout==="Teacher"?R.jsxs(xa,{className:Di.plusButton,to:"/upgrade",children:[R.jsx("i",{className:Ct("fas fa-plus",Di.plusIcon)}),"Upgrade to Plus"]}):null]}),R.jsxs("div",{className:Di.topRightRow,children:[r,R.jsxs("div",{className:Di.profileContainer,role:"button",tabIndex:0,children:[R.jsxs("div",{className:Di.profileRow,children:[R.jsx(kn,{name:o.blook||"Chick",className:Di.profileBlook}),o.name||""]}),R.jsx("i",{className:Ct("fas fa-angle-down",Di.profileDropdownIcon)}),R.jsxs("div",{className:Di.profileDropdownMenu,children:[R.jsxs("a",{className:Di.profileDropdownOption,href:"/settings",children:[R.jsx("i",{className:Ct("fas fa-cog",Di.profileDropdownOptionIcon)}),"Settings"]}),R.jsxs("a",{className:Di.profileDropdownOption,href:"https://id.blooket.com/logout",children:[R.jsx("i",{className:Ct("fas fa-sign-out-alt",Di.profileDropdownOptionIcon)}),"Logout"]})]})]})]}),R.jsxs("div",{className:Di.mNavBar,children:[R.jsx("img",{src:Ee.basic.blooket,alt:"Blooket",className:Di.mLogo}),R.jsx("i",{className:Ct(Di.mHamburgerIcon,"fas fa-bars"),role:"button",tabIndex:0,onClick:()=>i(!0)})]}),R.jsx("div",{className:Ct(Qe.modal,Di.modalTransition,{[Di.modalOpen]:g})}),R.jsxs("div",{className:Ct(Di.mSidebar,{[Di.mSidebarOpen]:g}),children:[R.jsx("i",{className:Ct(Di.closeIcon,"fas fa-times"),role:"button",tabIndex:0,onClick:()=>i(!1)}),m&&R.jsxs(R.Fragment,{children:[R.jsx(Ri,{color:"#0bc2cf",linkTo:Nr[m.big].link,outsideClass:Di.bigButton,children:R.jsxs("div",{className:Di.bigButtonInside,children:[R.jsx("i",{className:Ct(Nr[m.big].icon,Di.bigIcon)}),m.big==="Set Creator"?"Create":m.big]})}),[...m.medium,"Logout"].filter(c=>!Nr[c].showIf||Nr[c].showIf(o)).map(c=>Nr[c].realLink?R.jsxs("a",{href:Nr[c].link,className:Ct(Di.pageButton,{[Di.pageSelected]:e===c,[Di.noMobile]:Nr[c].noMobile}),children:[R.jsx("i",{className:Ct(Di.pageIcon,Nr[c].icon)}),R.jsx("div",{className:Di.pageText,children:c})]},c):R.jsxs(xa,{to:Nr[c].link,className:Ct(Di.pageButton,{[Di.pageSelected]:e===c,[Di.noMobile]:Nr[c].noMobile}),children:[R.jsx("i",{className:Ct(Di.pageIcon,Nr[c].icon)}),R.jsx("div",{className:Di.pageText,children:c})]},c)),R.jsxs("div",{className:Ct(Di.bottomRow,Di.bottomRowMargin),children:[m.small.map(c=>Nr[c].realLink?R.jsx("a",{href:Nr[c].link,className:Ct(Di.smallButton,{[Di.noMobile]:Nr[c].noMobile}),children:R.jsx("i",{className:Ct(Di.bottomIcon,Nr[c].icon)})},c):R.jsx(xa,{to:Nr[c].link,className:Ct(Di.smallButton,{[Di.noMobile]:Nr[c].noMobile}),children:R.jsx("i",{className:Ct(Di.bottomIcon,Nr[c].icon)})},c)),R.jsx("div",{className:Di.smallButton,role:"button",tabIndex:0,onClick:()=>s(!0),children:R.jsx("i",{className:Ct("far fa-newspaper",Di.bottomIcon)})})]})]})]}),R.jsx(b_,{isShown:S||n,layout:o.dashboardLayout,onClose:()=>{n&&d(),s(!1)}})]})};la.propTypes={page:Xt.string,user:Xt.object,topContent:Xt.element,newNews:Xt.bool,afterNews:Xt.func};var w_={},T_={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bm,function(){function r(n,d){return function(S,s,g,i){S[n]?S[n](s,g,i):S[d]&&S[d]("on"+s,g)}}return{add:r("addEventListener","attachEvent"),remove:r("removeEventListener","detachEvent")}})})(T_);var Jbt=T_.exports,Zbt="Expected a function",SP=NaN,qbt="[object Symbol]",tSt=/^\s+|\s+$/g,eSt=/^[-+]0x[0-9a-f]+$/i,iSt=/^0b[01]+$/i,rSt=/^0o[0-7]+$/i,nSt=parseInt,sSt=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,aSt=typeof self=="object"&&self&&self.Object===Object&&self,oSt=sSt||aSt||Function("return this")(),lSt=Object.prototype,uSt=lSt.toString,hSt=Math.max,cSt=Math.min,tw=function(){return oSt.Date.now()};function dSt(e,t,r){var n,d,S,s,g,i,o=0,m=!1,c=!1,l=!0;if(typeof e!="function")throw new TypeError(Zbt);t=wP(t)||0,yC(r)&&(m=!!r.leading,c="maxWait"in r,S=c?hSt(wP(r.maxWait)||0,t):S,l="trailing"in r?!!r.trailing:l);function h(w){var C=n,E=d;return n=d=void 0,o=w,s=e.apply(E,C),s}function a(w){return o=w,g=setTimeout(u,t),m?h(w):s}function f(w){var C=w-i,E=w-o,T=t-C;return c?cSt(T,S-E):T}function p(w){var C=w-i,E=w-o;return i===void 0||C>=t||C<0||c&&E>=S}function u(){var w=tw();if(p(w))return v(w);g=setTimeout(u,f(w))}function v(w){return g=void 0,l&&n?h(w):(n=d=void 0,s)}function y(){g!==void 0&&clearTimeout(g),o=0,n=i=d=g=void 0}function x(){return g===void 0?s:v(tw())}function b(){var w=tw(),C=p(w);if(n=arguments,d=this,i=w,C){if(g===void 0)return a(i);if(c)return g=setTimeout(u,t),h(i)}return g===void 0&&(g=setTimeout(u,t)),s}return b.cancel=y,b.flush=x,b}function yC(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function fSt(e){return!!e&&typeof e=="object"}function pSt(e){return typeof e=="symbol"||fSt(e)&&uSt.call(e)==qbt}function wP(e){if(typeof e=="number")return e;if(pSt(e))return SP;if(yC(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=yC(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(tSt,"");var r=iSt.test(e);return r||rSt.test(e)?nSt(e.slice(2),r?2:8):eSt.test(e)?SP:+e}var vSt=dSt,C_="Expected a function",TP=NaN,mSt="[object Symbol]",gSt=/^\s+|\s+$/g,ySt=/^[-+]0x[0-9a-f]+$/i,xSt=/^0b[01]+$/i,bSt=/^0o[0-7]+$/i,SSt=parseInt,wSt=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,TSt=typeof self=="object"&&self&&self.Object===Object&&self,CSt=wSt||TSt||Function("return this")(),ESt=Object.prototype,kSt=ESt.toString,PSt=Math.max,ASt=Math.min,ew=function(){return CSt.Date.now()};function RSt(e,t,r){var n,d,S,s,g,i,o=0,m=!1,c=!1,l=!0;if(typeof e!="function")throw new TypeError(C_);t=CP(t)||0,by(r)&&(m=!!r.leading,c="maxWait"in r,S=c?PSt(CP(r.maxWait)||0,t):S,l="trailing"in r?!!r.trailing:l);function h(w){var C=n,E=d;return n=d=void 0,o=w,s=e.apply(E,C),s}function a(w){return o=w,g=setTimeout(u,t),m?h(w):s}function f(w){var C=w-i,E=w-o,T=t-C;return c?ASt(T,S-E):T}function p(w){var C=w-i,E=w-o;return i===void 0||C>=t||C<0||c&&E>=S}function u(){var w=ew();if(p(w))return v(w);g=setTimeout(u,f(w))}function v(w){return g=void 0,l&&n?h(w):(n=d=void 0,s)}function y(){g!==void 0&&clearTimeout(g),o=0,n=i=d=g=void 0}function x(){return g===void 0?s:v(ew())}function b(){var w=ew(),C=p(w);if(n=arguments,d=this,i=w,C){if(g===void 0)return a(i);if(c)return g=setTimeout(u,t),h(i)}return g===void 0&&(g=setTimeout(u,t)),s}return b.cancel=y,b.flush=x,b}function ISt(e,t,r){var n=!0,d=!0;if(typeof e!="function")throw new TypeError(C_);return by(r)&&(n="leading"in r?!!r.leading:n,d="trailing"in r?!!r.trailing:d),RSt(e,t,{leading:n,maxWait:t,trailing:d})}function by(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function MSt(e){return!!e&&typeof e=="object"}function BSt(e){return typeof e=="symbol"||MSt(e)&&kSt.call(e)==mSt}function CP(e){if(typeof e=="number")return e;if(BSt(e))return TP;if(by(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=by(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(gSt,"");var r=xSt.test(e);return r||bSt.test(e)?SSt(e.slice(2),r?2:8):ySt.test(e)?TP:+e}var OSt=ISt,L5={};Object.defineProperty(L5,"__esModule",{value:!0});var iw=function(t,r){return typeof getComputedStyle!="undefined"?getComputedStyle(t,null).getPropertyValue(r):t.style[r]},NSt=function(t){return iw(t,"overflow")+iw(t,"overflow-y")+iw(t,"overflow-x")},LSt=function(t){if(!(t instanceof HTMLElement))return window;for(var r=t;r&&!(r===document.body||r===document.documentElement||!r.parentNode);){if(/(scroll|auto)/.test(NSt(r)))return r;r=r.parentNode}return window};L5.default=LSt;var F5={},D5={};Object.defineProperty(D5,"__esModule",{value:!0});D5.default=FSt;function FSt(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}Object.defineProperty(F5,"__esModule",{value:!0});F5.default=E_;var DSt=D5,EP=_St(DSt);function _St(e){return e&&e.__esModule?e:{default:e}}var jSt=function(t){return t.offsetParent===null};function E_(e,t,r){if(jSt(e))return!1;var n=void 0,d=void 0,S=void 0,s=void 0;if(typeof t=="undefined"||t===window)n=window.pageYOffset,S=window.pageXOffset,d=n+window.innerHeight,s=S+window.innerWidth;else{if(!E_(t,window,r))return!1;var g=(0,EP.default)(t);n=g.top,S=g.left,d=n+t.offsetHeight,s=S+t.offsetWidth}var i=(0,EP.default)(e);return n<=i.top+e.offsetHeight+r.top&&d>=i.top-r.bottom&&S<=i.left+e.offsetWidth+r.left&&s>=i.left-r.right}Object.defineProperty(w_,"__esModule",{value:!0});var zSt=function(){function e(t,r){for(var n=0;n<r.length;n++){var d=r[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),xC=_i,USt=xp(xC),GSt=ip,Ts=xp(GSt),kP=PM,Kd=Jbt,HSt=vSt,$St=xp(HSt),WSt=OSt,VSt=xp(WSt),YSt=L5,XSt=xp(YSt),QSt=F5,KSt=xp(QSt);function xp(e){return e&&e.__esModule?e:{default:e}}function JSt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZSt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function qSt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _5=function(e){qSt(t,e);function t(r){JSt(this,t);var n=ZSt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.lazyLoadHandler=n.lazyLoadHandler.bind(n),r.throttle>0&&(r.debounce?n.lazyLoadHandler=(0,$St.default)(n.lazyLoadHandler,r.throttle):n.lazyLoadHandler=(0,VSt.default)(n.lazyLoadHandler,r.throttle)),n.state={visible:!1},n}return zSt(t,[{key:"componentDidMount",value:function(){this._mounted=!0;var n=this.getEventNode();this.lazyLoadHandler(),this.lazyLoadHandler.flush&&this.lazyLoadHandler.flush(),(0,Kd.add)(window,"resize",this.lazyLoadHandler),(0,Kd.add)(n,"scroll",this.lazyLoadHandler),n!==window&&(0,Kd.add)(window,"scroll",this.lazyLoadHandler)}},{key:"componentDidUpdate",value:function(){this.state.visible||this.lazyLoadHandler()}},{key:"shouldComponentUpdate",value:function(n,d){return d.visible}},{key:"componentWillUnmount",value:function(){this._mounted=!1,this.lazyLoadHandler.cancel&&this.lazyLoadHandler.cancel(),this.detachListeners()}},{key:"getEventNode",value:function(){return(0,XSt.default)((0,kP.findDOMNode)(this))}},{key:"getOffset",value:function(){var n=this.props,d=n.offset,S=n.offsetVertical,s=n.offsetHorizontal,g=n.offsetTop,i=n.offsetBottom,o=n.offsetLeft,m=n.offsetRight,c=n.threshold,l=c||d,h=S||l,a=s||l;return{top:g||h,bottom:i||h,left:o||a,right:m||a}}},{key:"lazyLoadHandler",value:function(){if(this._mounted){var n=this.getOffset(),d=(0,kP.findDOMNode)(this),S=this.getEventNode();if((0,KSt.default)(d,S,n)){var s=this.props.onContentVisible;this.setState({visible:!0},function(){s&&s()}),this.detachListeners()}}}},{key:"detachListeners",value:function(){var n=this.getEventNode();(0,Kd.remove)(window,"resize",this.lazyLoadHandler),(0,Kd.remove)(n,"scroll",this.lazyLoadHandler),n!==window&&(0,Kd.remove)(window,"scroll",this.lazyLoadHandler)}},{key:"render",value:function(){var n=this.props,d=n.children,S=n.className,s=n.height,g=n.width,i=this.state.visible,o={height:s,width:g},m="LazyLoad"+(i?" is-visible":"")+(S?" "+S:"");return USt.default.createElement(this.props.elementType,{className:m,style:o},i&&xC.Children.only(d))}}]),t}(xC.Component),Ul=w_.default=_5;_5.propTypes={children:Ts.default.node.isRequired,className:Ts.default.string,debounce:Ts.default.bool,elementType:Ts.default.string,height:Ts.default.oneOfType([Ts.default.string,Ts.default.number]),offset:Ts.default.number,offsetBottom:Ts.default.number,offsetHorizontal:Ts.default.number,offsetLeft:Ts.default.number,offsetRight:Ts.default.number,offsetTop:Ts.default.number,offsetVertical:Ts.default.number,threshold:Ts.default.number,throttle:Ts.default.number,width:Ts.default.oneOfType([Ts.default.string,Ts.default.number]),onContentVisible:Ts.default.func};_5.defaultProps={elementType:"div",debounce:!0,offset:0,offsetBottom:0,offsetHorizontal:0,offsetLeft:0,offsetRight:0,offsetTop:0,offsetVertical:0,throttle:250};const twt="_setContainer_18551_1",ewt="_setImageFiller_18551_25",iwt="_coverImage_18551_33",rwt="_setFillerContainer_18551_42",nwt="_setFillerText_18551_53",swt="_plusContainer_18551_64",awt="_verifiedContainer_18551_63",owt="_verifiedIcon_18551_87",lwt="_setQuestionsContainer_18551_93",uwt="_setQuestionsText_18551_101",hwt="_setHeader_18551_110",cwt="_setSpacer_18551_120",dwt="_setPlays_18551_126",fwt="_setAuthorContainer_18551_137",pwt="_authorIcon_18551_145",vwt="_setAuthorText_18551_151",mwt="_setAuthorIcon_18551_158",Cs={setContainer:twt,setImageFiller:ewt,coverImage:iwt,setFillerContainer:rwt,setFillerText:nwt,plusContainer:swt,verifiedContainer:awt,verifiedIcon:owt,setQuestionsContainer:lwt,setQuestionsText:uwt,setHeader:hwt,setSpacer:cwt,setPlays:dwt,setAuthorContainer:fwt,authorIcon:pwt,setAuthorText:vwt,setAuthorIcon:mwt},j5=({set:e,notLazy:t})=>{const[r,n]=_i.useState(!1);return R.jsxs(xa,{to:`/set/${e._id}`,className:Cs.setContainer,children:[e.coverImage&&!r?t?R.jsx("div",{className:Cs.setImageFiller,children:R.jsx("img",{src:En(e.coverImage.url),alt:"Cover",className:Cs.coverImage,onError:()=>n(!0),draggable:!1})}):R.jsx("div",{className:Cs.setImageFiller,children:R.jsx(Ul,{height:180,children:R.jsx("img",{src:En(e.coverImage.url),alt:"Cover",className:Cs.coverImage,onError:()=>n(!0),draggable:!1})})}):R.jsx("div",{className:Cs.setFillerContainer,children:R.jsx("div",{className:Cs.setFillerText,children:"Blooket"})}),e.plusOnly?R.jsxs("div",{className:Cs.plusContainer,children:[R.jsx("i",{className:Ct("fas fa-plus",Cs.verifiedIcon)}),"Plus Only"]}):e.verified?R.jsxs("div",{className:Cs.verifiedContainer,children:[R.jsx("i",{className:Ct("fas fa-check-square",Cs.verifiedIcon)}),"Teacher Verified"]}):null,R.jsx("div",{className:Cs.setQuestionsContainer,children:R.jsx("div",{className:Cs.setQuestionsText,children:`${$i(e.numQuestions)} ${e.numQuestions===1?"Question":"Questions"}`})}),R.jsx("div",{className:Cs.setHeader,children:e.title}),R.jsx("div",{className:Cs.setSpacer}),R.jsx("div",{className:Cs.setPlays,children:`${$i(e.playCount)} ${e.playCount===1?"Play":"Plays"}`}),R.jsxs("div",{className:Cs.setAuthorContainer,children:[R.jsx("i",{className:Ct(Cs.authorIcon,"fas fa-user")}),R.jsx("div",{className:Cs.setAuthorText,children:e.author}),e.author==="Blooket"?R.jsx("img",{src:Ee.basic.blooket32,alt:"Blooket",className:Cs.setAuthorIcon,draggable:!1}):null]})]},e._id)};j5.propTypes={set:Xt.object,notLazy:Xt.bool};const gwt="_wrapper_t61j9_1",ywt="_row_t61j9_6",xwt="_leftArrow_t61j9_23",bwt="_rightArrow_t61j9_22",Swt="_arrowIcon_t61j9_50",Jd={wrapper:gwt,row:ywt,leftArrow:xwt,rightArrow:bwt,arrowIcon:Swt},wwt=()=>{if(typeof window!="undefined")return window.requestAnimationFrame},k_=wwt()||function(e){window.setTimeout(e,1e3/60,new Date().getTime())},Twt={currentPosition:0,startPosition:0,targetPosition:0,start:0,progress:0,delta:0,duration:0,percent:0,containerId:""},Wv={};let bC=!1;const Cwt=e=>document.getElementById(e).scrollLeft||0,Ewt=e=>{const t=Wv[e];t.startPosition=t.currentPosition||Cwt(e),t.start=0},kwt=200,P_=(e,t)=>{const r=Wv[e];r.start||(r.start=t,bC=!0),r.progress=t-r.start,r.percent=r.duration===0?1:Math.min(1,r.progress/r.duration),r.currentPosition=r.startPosition+Math.ceil(r.delta*r.percent);const n=document.getElementById(r.containerId);if(n&&n.scrollTo(r.currentPosition,0),r.percent<1){const d=P_.bind(null,e);k_.call(window,d)}else bC=!1,r.start=0,r.duration=0},Pwt=(e,t)=>{Wv[t]||(Wv[t]=JSON.parse(JSON.stringify(Twt)));const r=Wv[t];if(Ewt(t),r.containerId=t,r.targetPosition=e,r.startPosition===r.targetPosition||(r.delta=Math.round(r.targetPosition-r.startPosition),r.duration=Math.round(Math.abs(r.delta/300)*kwt),bC))return;const n=P_.bind(null,t);k_.call(window,n)};class SC extends ti.Component{constructor(t){super(t),this.state={maxScroll:0,scrollLeft:0},this.getNumRows=this.getNumRows.bind(this),this.findMaxScroll=this.findMaxScroll.bind(this),this.scrollWithArrow=this.scrollWithArrow.bind(this)}componentDidMount(){const t=document.getElementById(this.props.id);this.findMaxScroll(),window.addEventListener("resize",this.findMaxScroll);let r=!1,n,d;t.addEventListener("mousedown",S=>{r=!0,n=S.pageX-t.offsetLeft,d=t.scrollLeft,t.style.cursor="grabbing",this.setState({scrollLeft:d})}),t.addEventListener("mouseleave",()=>{r=!1,t.style.cursor="grab"}),t.addEventListener("mouseup",()=>{r=!1,t.style.cursor="grab"}),t.addEventListener("mousemove",S=>{if(!r)return;S.preventDefault();const g=(S.pageX-t.offsetLeft-n)*1;t.scrollLeft=d-g,this.setState({scrollLeft:t.scrollLeft})})}componentWillUnmount(){window.removeEventListener("resize",this.findMaxScroll)}getNumRows(){const t=document.getElementById(this.props.id);let r=this.props.numRows||1;return t&&t.offsetWidth<400&&(r=this.props.sets.length),r}findMaxScroll(){const t=document.getElementById(this.props.id),r=Math.ceil(this.props.sets.length/this.getNumRows())*300-35,n=r-t.offsetWidth;t.style.width=`${r}px`,this.setState({maxScroll:n,scrollLeft:t.scrollLeft})}scrollWithArrow(t){const r=600*(t?1:-1),n=Math.min(this.state.maxScroll,Math.max(0,this.state.scrollLeft+r));Pwt(n,this.props.id),this.setState({scrollLeft:n})}render(){return R.jsxs("div",{className:Jd.wrapper,children:[R.jsx("div",{className:Jd.row,id:this.props.id,style:{gridTemplateRows:`repeat(${this.getNumRows()}, 340px)`},children:this.props.sets.map(t=>R.jsx(j5,{set:t,notLazy:!0},t._id))}),this.state.scrollLeft>0?R.jsx("div",{className:Jd.leftArrow,role:"button",tabIndex:0,onClick:()=>this.scrollWithArrow(!1),children:R.jsx("i",{className:Ct("fas fa-chevron-left",Jd.arrowIcon)})}):null,this.state.scrollLeft+1<this.state.maxScroll?R.jsx("div",{className:Jd.rightArrow,role:"button",tabIndex:0,onClick:()=>this.scrollWithArrow(!0),children:R.jsx("i",{className:Ct("fas fa-chevron-right",Jd.arrowIcon)})}):null]})}}SC.propTypes={sets:Xt.array,id:Xt.string.isRequired,numRows:Xt.number};const Awt=[{name:"Trivia",slug:"trivia",img:Ee.discoverCategories.triviaBackground},{name:"Math",slug:"math",img:Ee.discoverCategories.mathBackground},{name:"Science",slug:"science",img:Ee.discoverCategories.scienceBackground},{name:"ELA",slug:"ela",img:Ee.discoverCategories.elaBackground},{name:"Social Studies",slug:"socialstudies",img:Ee.discoverCategories.socialStudiesBackground},{name:"World Languages",slug:"worldlanguages",img:Ee.discoverCategories.worldLanguagesBackground}],A_=({hits:e,hasMore:t,searchMore:r,searched:n})=>R.jsxs("div",{className:Rr.hitsHolder,children:[e.length>0?R.jsx("div",{className:Rr.hitsContainer,children:e.map(d=>R.jsx(j5,{set:d},d._id))}):n?R.jsxs("div",{className:Rr.noResultsText,children:[R.jsx(kn,{name:"Blobfish",className:Rr.noResultsBlook}),"No Search Results",R.jsx("div",{className:Rr.noResultsSub,children:"Try to refine your search"})]}):null,t&&R.jsx("div",{style:{display:"flex"},children:R.jsx(Ri,{onClick:r,outsideClass:Rr.moreButton,insideClass:Rr.moreButtonInside,color:"#0bc2cf",children:"Show More"})})]});A_.propTypes={hits:Xt.array,hasMore:Xt.bool,searchMore:Xt.func,searched:Xt.bool};class R_ extends ti.Component{constructor(t){super(t),this.state={searchQuery:"",searched:!1,featuredGames:[],discoverGames:[],hits:[],hasMore:!1,minQuestions:1,hasCoverImage:!1,user:null,minPlays:10,pageIndex:0,isCategory:!1},this.here=!0,this.loading=!1,this.numQueryParams=0,this.onSearch=this.onSearch.bind(this),this.getCategory=this.getCategory.bind(this),this.searchUser=this.searchUser.bind(this),this.renderByQueryParams=this.renderByQueryParams.bind(this)}componentDidMount(){return ci(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ve.logError("DiscoverPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}this.setState({user:t}),this.renderByQueryParams()})}componentDidUpdate(){this.numQueryParams>0&&D9()===0&&this.renderByQueryParams(),this.numQueryParams=D9()}componentWillUnmount(){this.here=!1}onSearch(t,r){if(t&&t.preventDefault(),this.loading)return;this.loading=!0;let n=r;n||(n=0),n===0&&window.history.pushState({},null,`${window.location.origin}/discover?s=${encodeURIComponent(this.state.searchQuery)}`),vi.get("/api/games/search",{params:{text:this.state.searchQuery,page:n,minQuestions:this.state.minQuestions,hasCoverImage:this.state.hasCoverImage,minPlays:this.state.minPlays}}).then(d=>{const S=d.data;if(this.loading=!1,n===0){const s={searched:!0,hits:S,hasMore:S.length>=8,pageIndex:n,isCategory:!1};this.setState(s)}else this.setState({hits:this.state.hits.concat(S),hasMore:S.length>=8,pageIndex:n,isCategory:!1})}).catch(d=>{Ve.logError(d),this.loading=!1,this.setState({searched:!0,hasMore:!1,pageIndex:n,hits:[]}),Ve.logError(d)})}getCategory(t){Ys("category")!==t&&window.history.pushState({},null,`${window.location.origin}/discover?category=${t}`),vi.get("/api/games/category",{params:{category:t}}).then(r=>{if(!this.here)return;const n=[...r.data.filter(d=>!d.private&&d.numQuestions>0)];n.sort((d,S)=>S.playCount-d.playCount),this.setState({hits:n,searched:!0,hasMore:!1,searchQuery:t,isCategory:!0},()=>{document.getElementById("page-body").scrollTo(0,0)})}).catch(r=>{Ve.logError(r)})}searchUser(t){vi.get("/api/users/games",{params:{name:t}}).then(r=>{if(!this.here)return;const n=[...r.data.filter(d=>!d.private&&d.numQuestions>0)];n.sort((d,S)=>S.playCount-d.playCount),this.setState({hits:n,searched:!0,hasMore:!1,searchQuery:this.state.searchQuery||t,isCategory:!1})}).catch(r=>{Ve.logError(r)})}renderByQueryParams(){const t=Ys("n"),r=Ys("s"),n=Ys("category");t?this.searchUser(decodeURIComponent(t)):r?this.setState({searchQuery:decodeURIComponent(r)},this.onSearch):Awt.map(d=>d.slug).includes(n)?this.getCategory(n):vi.get("/api/games/featured").then(d=>{if(!this.here)return;let S=[];d.data&&d.data.featuredGames&&(S=[...d.data.featuredGames],S.sort((g,i)=>i.playCount-g.playCount));let s=[];d.data&&d.data.discoverGames&&(s=[...d.data.discoverGames],s.sort((g,i)=>i.playCount-g.playCount)),this.setState({featuredGames:S,discoverGames:s,searched:!1,searchQuery:"",isCategory:!1})}).catch(d=>{Ve.logError(d)})}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,id:"page-body",children:[R.jsx(pn,{title:"Discover Sets | Blooket",desc:"Search and discover new sets from a large collection created by users. These sets can then be viewed, edited, or used to host games."}),R.jsx(la,{user:this.state.user,page:"Discover"}),R.jsxs("div",{className:Qe.profileBody,children:[R.jsx("div",{className:Rr.topHeader,children:"Discover"}),R.jsxs("div",{className:Rr.searchBoxHolder,children:[R.jsxs("form",{onSubmit:this.onSearch,className:Rr.searchContainer,children:[R.jsx("input",{className:Rr.searchInput,type:"search",value:this.state.searchQuery,onChange:t=>this.setState({searchQuery:t.target.value.slice(0,50)}),placeholder:"Search for a Set..."}),R.jsx("i",{className:Ct(Rr.searchIcon,"fas fa-search"),role:"button",tabIndex:0,onClick:this.onSearch})]}),this.state.searched&&this.state.searchQuery?R.jsxs("div",{className:Rr.filtersHolder,children:[R.jsx("i",{className:Ct(Rr.filterIcon,"fas fa-sliders-h"),style:{lineHeight:1,display:"flex"}}),R.jsxs("div",{className:Rr.filtersColumn,children:[R.jsxs("div",{className:Ct(Rr.filterRow,Rr.filterRowCenter),children:["Has Cover Image:",R.jsx("div",{className:Ct(Rr.checkBox,Rr.checkBoxLeft,this.state.hasCoverImage?Rr.checkYes:Rr.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({hasCoverImage:!this.state.hasCoverImage},t=>this.onSearch(t,0)),children:R.jsx("i",{className:Ct(Rr.checkIcon,"fas fa-check"),style:{lineHeight:1}})})]}),R.jsxs("div",{className:Ct(Rr.filterRow,Rr.filterRowColumn),children:["Minimum Questions:",R.jsx("div",{className:Rr.filters,children:[1,5,10,25,50].map(t=>R.jsx("div",{className:Ct(Rr.checkBox,this.state.minQuestions===t?Rr.checkYes:Rr.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({minQuestions:t},r=>this.onSearch(r,0)),children:R.jsx("div",{className:Rr.checkIcon,children:t})},t))})]}),R.jsxs("div",{className:Ct(Rr.filterRow,Rr.filterRowColumn),children:["Minimum Plays:",R.jsx("div",{className:Rr.filters,children:[10,100,500,1e3].map(t=>R.jsx("div",{className:Ct(Rr.checkBox,Rr.checkBoxWide,this.state.minPlays===t?Rr.checkYes:Rr.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({minPlays:t},r=>this.onSearch(r,0)),children:R.jsx("div",{className:Rr.checkIcon,children:yo(t)})},t))})]})]})]}):null]}),!this.state.searched&&this.state.featuredGames.length>0?R.jsxs(R.Fragment,{children:[R.jsx(SC,{sets:this.state.discoverGames,id:"discover-sets",numRows:2}),R.jsx("div",{className:Rr.header,children:"Popular Picks"}),R.jsx(SC,{sets:this.state.featuredGames,id:"featured-sets",numRows:2})]}):R.jsx(A_,{hits:this.state.hits,hasMore:this.state.searched&&this.state.hasMore,searchMore:t=>this.onSearch(t,this.state.pageIndex+1),searched:this.state.searched,isCategory:this.state.isCategory}),R.jsx("div",{className:Rr.spacer})]})]})}}R_.propTypes={user:Xt.object};const Rwt=()=>({}),Iwt=e=>Ns({},e),Mwt=jn(Ls(Qs(Rwt,Iwt)(R_))),Bwt=["ahole","anus","ash0le","ash0les","asholes","ass","Ass Monkey","Assface","assh0le","assh0lez","asshole","assholes","assholz","asswipe","azzhole","bassterds","bastard","bastards","bastardz","basterds","basterdz","Biatch","bitch","bitches","Blow Job","boffing","butthole","buttwipe","c0ck","c0cks","c0k","Carpet Muncher","cawk","cawks","Clit","cnts","cntz","cock","cockhead","cock-head","cocks","CockSucker","cock-sucker","crap","cum","cunt","cunts","cuntz","dick","dild0","dild0s","dildo","dildos","dilld0","dilld0s","dominatricks","dominatrics","dominatrix","dyke","enema","f u c k","f u c k e r","fag","fag1t","faget","fagg1t","faggit","faggot","fagg0t","fagit","fags","fagz","faig","faigs","fart","flipping the bird","fuck","fucker","fuckin","fucking","fucks","Fudge Packer","fuk","Fukah","Fuken","fuker","Fukin","Fukk","Fukkah","Fukken","Fukker","Fukkin","g00k","God-damned","h00r","h0ar","h0re","hells","hoar","hoor","hoore","jackoff","jap","japs","jerk-off","jisim","jiss","jizm","jizz","knob","knobs","knobz","kunt","kunts","kuntz","Lezzian","Lipshits","Lipshitz","masochist","masokist","massterbait","masstrbait","masstrbate","masterbaiter","masterbate","masterbates","Motha Fucker","Motha Fuker","Motha Fukkah","Motha Fukker","Mother Fucker","Mother Fukah","Mother Fuker","Mother Fukkah","Mother Fukker","mother-fucker","Mutha Fucker","Mutha Fukah","Mutha Fuker","Mutha Fukkah","Mutha Fukker","n1gr","nastt","nigger;","nigur;","niiger;","niigr;","orafis","orgasim;","orgasm","orgasum","oriface","orifice","orifiss","packi","packie","packy","paki","pakie","paky","pecker","peeenus","peeenusss","peenus","peinus","pen1s","penas","penis","penis-breath","penus","penuus","Phuc","Phuck","Phuk","Phuker","Phukker","polac","polack","polak","Poonani","pr1c","pr1ck","pr1k","pusse","pussee","pussy","puuke","puuker","qweir","recktum","rectum","retard","sadist","scank","schlong","screwing","semen","sex","sexy","Sh!t","sh1t","sh1ter","sh1ts","sh1tter","sh1tz","shit","shits","shitter","Shitty","Shity","shitz","Shyt","Shyte","Shytty","Shyty","skanck","skank","skankee","skankey","skanks","Skanky","slag","slut","sluts","Slutty","slutz","son-of-a-bitch","tit","turd","va1jina","vag1na","vagiina","vagina","vaj1na","vajina","vullva","vulva","w0p","wh00r","wh0re","whore","xrated","xxx","b!+ch","bitch","blowjob","clit","arschloch","fuck","shit","ass","asshole","b!tch","b17ch","b1tch","bastard","bi+ch","boiolas","buceta","c0ck","cawk","chink","cipa","clits","cock","cum","cunt","dildo","dirsa","ejakulate","fatass","fcuk","fuk","fux0r","hoer","hore","jism","kawk","l3itch","l3i+ch","masturbate","masterbat*","masterbat3","motherfucker","s.o.b.","mofo","nazi","nigga","nigger","nutsack","phuck","pimpis","pusse","pussy","scrotum","sh!t","shemale","shi+","sh!+","slut","smut","teets","tits","boobs","b00bs","teez","testical","testicle","titt","w00se","jackoff","wank","whoar","whore","*damn","*dyke","*fuck*","*shit*","@$$","amcik","andskota","arse*","assrammer","ayir","bi7ch","bitch*","bollock*","breasts","butt-pirate","cabron","cazzo","chraa","chuj","Cock*","cunt*","d4mn","daygo","dego","dick*","dike*","dupa","dziwka","ejackulate","Ekrem*","Ekto","enculer","faen","fag*","fanculo","fanny","feces","feg","Felcher","ficken","fitt*","Flikker","foreskin","Fotze","Fu(*","fuk*","futkretzn","gook","guiena","h0r","h4x0r","hell","helvete","hoer*","honkey","Huevon","hui","injun","jizz","kanker*","kike","klootzak","kraut","knulle","kuk","kuksuger","Kurac","kurwa","kusi*","kyrpa*","lesbo","mamhoon","masturbat*","merd*","mibun","monkleigh","mouliewop","muie","mulkku","muschi","nazis","nepesaurio","nigger*","orospu","paska*","perse","picka","pierdol*","pillu*","pimmel","piss*","pizda","poontsee","poop","porn","p0rn","pr0n","preteen","pula","pule","puta","puto","qahbeh","queef*","rautenberg","schaffer","scheiss*","schlampe","schmuck","screw","sh!t*","sharmuta","sharmute","shipal","shiz","skribz","skurwysyn","sphencter","spic","spierdalaj","splooge","suka","b00b*","testicle*","titt*","twat","vittu","wank*","wetback*","wichser","wop*","yed","zabourah"],Owt={words:Bwt};var Nwt={"4r5e":1,"5h1t":1,"5hit":1,a55:1,anal:1,anus:1,ar5e:1,arrse:1,arse:1,ass:1,"ass-fucker":1,asses:1,assfucker:1,assfukka:1,asshole:1,assholes:1,asswhole:1,a_s_s:1,"b!tch":1,b00bs:1,b17ch:1,b1tch:1,ballbag:1,balls:1,ballsack:1,bastard:1,beastial:1,beastiality:1,bellend:1,bestial:1,bestiality:1,"bi+ch":1,biatch:1,bitch:1,bitcher:1,bitchers:1,bitches:1,bitchin:1,bitching:1,bloody:1,"blow job":1,blowjob:1,blowjobs:1,boiolas:1,bollock:1,bollok:1,boner:1,boob:1,boobs:1,booobs:1,boooobs:1,booooobs:1,booooooobs:1,breasts:1,buceta:1,bugger:1,bum:1,"bunny fucker":1,butt:1,butthole:1,buttmuch:1,buttplug:1,c0ck:1,c0cksucker:1,"carpet muncher":1,cawk:1,chink:1,cipa:1,cl1t:1,clit:1,clitoris:1,clits:1,cnut:1,cock:1,"cock-sucker":1,cockface:1,cockhead:1,cockmunch:1,cockmuncher:1,cocks:1,cocksuck:1,cocksucked:1,cocksucker:1,cocksucking:1,cocksucks:1,cocksuka:1,cocksukka:1,cok:1,cokmuncher:1,coksucka:1,coon:1,cox:1,crap:1,cum:1,cummer:1,cumming:1,cums:1,cumshot:1,cunilingus:1,cunillingus:1,cunnilingus:1,cunt:1,cuntlick:1,cuntlicker:1,cuntlicking:1,cunts:1,cyalis:1,cyberfuc:1,cyberfuck:1,cyberfucked:1,cyberfucker:1,cyberfuckers:1,cyberfucking:1,d1ck:1,damn:1,dick:1,dickhead:1,dildo:1,dildos:1,dink:1,dinks:1,dirsa:1,dlck:1,"dog-fucker":1,doggin:1,dogging:1,donkeyribber:1,doosh:1,duche:1,dyke:1,ejaculate:1,ejaculated:1,ejaculates:1,ejaculating:1,ejaculatings:1,ejaculation:1,ejakulate:1,"f u c k":1,"f u c k e r":1,f4nny:1,fag:1,fagging:1,faggitt:1,faggot:1,faggs:1,fagot:1,fagots:1,fags:1,fanny:1,fannyflaps:1,fannyfucker:1,fanyy:1,fatass:1,fcuk:1,fcuker:1,fcuking:1,feck:1,fecker:1,felching:1,fellate:1,fellatio:1,fingerfuck:1,fingerfucked:1,fingerfucker:1,fingerfuckers:1,fingerfucking:1,fingerfucks:1,fistfuck:1,fistfucked:1,fistfucker:1,fistfuckers:1,fistfucking:1,fistfuckings:1,fistfucks:1,flange:1,fook:1,fooker:1,fuck:1,fucka:1,fucked:1,fucker:1,fuckers:1,fuckhead:1,fuckheads:1,fuckin:1,fucking:1,fuckings:1,fuckingshitmotherfucker:1,fuckme:1,fucks:1,fuckwhit:1,fuckwit:1,"fudge packer":1,fudgepacker:1,fuk:1,fuker:1,fukker:1,fukkin:1,fuks:1,fukwhit:1,fukwit:1,fux:1,fux0r:1,f_u_c_k:1,gangbang:1,gangbanged:1,gangbangs:1,gaylord:1,gaysex:1,goatse:1,God:1,"god-dam":1,"god-damned":1,goddamn:1,goddamned:1,hardcoresex:1,hell:1,heshe:1,hoar:1,hoare:1,hoer:1,homo:1,hore:1,horniest:1,horny:1,hotsex:1,"jack-off":1,jackoff:1,jap:1,"jerk-off":1,jism:1,jiz:1,jizm:1,jizz:1,kawk:1,knob:1,knobead:1,knobed:1,knobend:1,knobhead:1,knobjocky:1,knobjokey:1,kock:1,kondum:1,kondums:1,kum:1,kummer:1,kumming:1,kums:1,kunilingus:1,"l3i+ch":1,l3itch:1,labia:1,lust:1,lusting:1,m0f0:1,m0fo:1,m45terbate:1,ma5terb8:1,ma5terbate:1,masochist:1,"master-bate":1,masterb8:1,"masterbat*":1,masterbat3:1,masterbate:1,masterbation:1,masterbations:1,masturbate:1,"mo-fo":1,mof0:1,mofo:1,mothafuck:1,mothafucka:1,mothafuckas:1,mothafuckaz:1,mothafucked:1,mothafucker:1,mothafuckers:1,mothafuckin:1,mothafucking:1,mothafuckings:1,mothafucks:1,"mother fucker":1,motherfuck:1,motherfucked:1,motherfucker:1,motherfuckers:1,motherfuckin:1,motherfucking:1,motherfuckings:1,motherfuckka:1,motherfucks:1,muff:1,mutha:1,muthafecker:1,muthafuckker:1,muther:1,mutherfucker:1,n1gga:1,n1gger:1,nazi:1,nigg3r:1,nigg4h:1,nigga:1,niggah:1,niggas:1,niggaz:1,nigger:1,niggers:1,nob:1,"nob jokey":1,nobhead:1,nobjocky:1,nobjokey:1,numbnuts:1,nutsack:1,orgasim:1,orgasims:1,orgasm:1,orgasms:1,p0rn:1,pawn:1,pecker:1,penis:1,penisfucker:1,phonesex:1,phuck:1,phuk:1,phuked:1,phuking:1,phukked:1,phukking:1,phuks:1,phuq:1,pigfucker:1,pimpis:1,piss:1,pissed:1,pisser:1,pissers:1,pisses:1,pissflaps:1,pissin:1,pissing:1,pissoff:1,poop:1,porn:1,porno:1,pornography:1,pornos:1,prick:1,pricks:1,pron:1,pube:1,pusse:1,pussi:1,pussies:1,pussy:1,pussys:1,rectum:1,retard:1,rimjaw:1,rimming:1,"s hit":1,"s.o.b.":1,sadist:1,schlong:1,screwing:1,scroat:1,scrote:1,scrotum:1,semen:1,sex:1,"sh!+":1,"sh!t":1,sh1t:1,shag:1,shagger:1,shaggin:1,shagging:1,shemale:1,"shi+":1,shit:1,shitdick:1,shite:1,shited:1,shitey:1,shitfuck:1,shitfull:1,shithead:1,shiting:1,shitings:1,shits:1,shitted:1,shitter:1,shitters:1,shitting:1,shittings:1,shitty:1,skank:1,slut:1,sluts:1,smegma:1,smut:1,snatch:1,"son-of-a-bitch":1,spac:1,spunk:1,s_h_i_t:1,t1tt1e5:1,t1tties:1,teets:1,teez:1,testical:1,testicle:1,tit:1,titfuck:1,tits:1,titt:1,tittie5:1,tittiefucker:1,titties:1,tittyfuck:1,tittywank:1,titwank:1,tosser:1,turd:1,tw4t:1,twat:1,twathead:1,twatty:1,twunt:1,twunter:1,v14gra:1,v1gra:1,vagina:1,viagra:1,vulva:1,w00se:1,wang:1,wank:1,wanker:1,wanky:1,whoar:1,whore:1,willies:1,willy:1,xrated:1,xxx:1},Lwt=["4r5e","5h1t","5hit","a55","anal","anus","ar5e","arrse","arse","ass","ass-fucker","asses","assfucker","assfukka","asshole","assholes","asswhole","a_s_s","b!tch","b00bs","b17ch","b1tch","ballbag","balls","ballsack","bastard","beastial","beastiality","bellend","bestial","bestiality","bi+ch","biatch","bitch","bitcher","bitchers","bitches","bitchin","bitching","bloody","blow job","blowjob","blowjobs","boiolas","bollock","bollok","boner","boob","boobs","booobs","boooobs","booooobs","booooooobs","breasts","buceta","bugger","bum","bunny fucker","butt","butthole","buttmuch","buttplug","c0ck","c0cksucker","carpet muncher","cawk","chink","cipa","cl1t","clit","clitoris","clits","cnut","cock","cock-sucker","cockface","cockhead","cockmunch","cockmuncher","cocks","cocksuck","cocksucked","cocksucker","cocksucking","cocksucks","cocksuka","cocksukka","cok","cokmuncher","coksucka","coon","cox","crap","cum","cummer","cumming","cums","cumshot","cunilingus","cunillingus","cunnilingus","cunt","cuntlick","cuntlicker","cuntlicking","cunts","cyalis","cyberfuc","cyberfuck","cyberfucked","cyberfucker","cyberfuckers","cyberfucking","d1ck","damn","dick","dickhead","dildo","dildos","dink","dinks","dirsa","dlck","dog-fucker","doggin","dogging","donkeyribber","doosh","duche","dyke","ejaculate","ejaculated","ejaculates","ejaculating","ejaculatings","ejaculation","ejakulate","f u c k","f u c k e r","f4nny","fag","fagging","faggitt","faggot","faggs","fagot","fagots","fags","fanny","fannyflaps","fannyfucker","fanyy","fatass","fcuk","fcuker","fcuking","feck","fecker","felching","fellate","fellatio","fingerfuck","fingerfucked","fingerfucker","fingerfuckers","fingerfucking","fingerfucks","fistfuck","fistfucked","fistfucker","fistfuckers","fistfucking","fistfuckings","fistfucks","flange","fook","fooker","fuck","fucka","fucked","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fuckings","fuckingshitmotherfucker","fuckme","fucks","fuckwhit","fuckwit","fudge packer","fudgepacker","fuk","fuker","fukker","fukkin","fuks","fukwhit","fukwit","fux","fux0r","f_u_c_k","gangbang","gangbanged","gangbangs","gaylord","gaysex","goatse","God","god-dam","god-damned","goddamn","goddamned","hardcoresex","hell","heshe","hoar","hoare","hoer","homo","hore","horniest","horny","hotsex","jack-off","jackoff","jap","jerk-off","jism","jiz","jizm","jizz","kawk","knob","knobead","knobed","knobend","knobhead","knobjocky","knobjokey","kock","kondum","kondums","kum","kummer","kumming","kums","kunilingus","l3i+ch","l3itch","labia","lust","lusting","m0f0","m0fo","m45terbate","ma5terb8","ma5terbate","masochist","master-bate","masterb8","masterbat*","masterbat3","masterbate","masterbation","masterbations","masturbate","mo-fo","mof0","mofo","mothafuck","mothafucka","mothafuckas","mothafuckaz","mothafucked","mothafucker","mothafuckers","mothafuckin","mothafucking","mothafuckings","mothafucks","mother fucker","motherfuck","motherfucked","motherfucker","motherfuckers","motherfuckin","motherfucking","motherfuckings","motherfuckka","motherfucks","muff","mutha","muthafecker","muthafuckker","muther","mutherfucker","n1gga","n1gger","nazi","nigg3r","nigg4h","nigga","niggah","niggas","niggaz","nigger","niggers","nob","nob jokey","nobhead","nobjocky","nobjokey","numbnuts","nutsack","orgasim","orgasims","orgasm","orgasms","p0rn","pawn","pecker","penis","penisfucker","phonesex","phuck","phuk","phuked","phuking","phukked","phukking","phuks","phuq","pigfucker","pimpis","piss","pissed","pisser","pissers","pisses","pissflaps","pissin","pissing","pissoff","poop","porn","porno","pornography","pornos","prick","pricks","pron","pube","pusse","pussi","pussies","pussy","pussys","rectum","retard","rimjaw","rimming","s hit","s.o.b.","sadist","schlong","screwing","scroat","scrote","scrotum","semen","sex","sh!+","sh!t","sh1t","shag","shagger","shaggin","shagging","shemale","shi+","shit","shitdick","shite","shited","shitey","shitfuck","shitfull","shithead","shiting","shitings","shits","shitted","shitter","shitters","shitting","shittings","shitty","skank","slut","sluts","smegma","smut","snatch","son-of-a-bitch","spac","spunk","s_h_i_t","t1tt1e5","t1tties","teets","teez","testical","testicle","tit","titfuck","tits","titt","tittie5","tittiefucker","titties","tittyfuck","tittywank","titwank","tosser","turd","tw4t","twat","twathead","twatty","twunt","twunter","v14gra","v1gra","vagina","viagra","vulva","w00se","wang","wank","wanker","wanky","whoar","whore","willies","willy","xrated","xxx"],Fwt=/\b(4r5e|5h1t|5hit|a55|anal|anus|ar5e|arrse|arse|ass|ass-fucker|asses|assfucker|assfukka|asshole|assholes|asswhole|a_s_s|b!tch|b00bs|b17ch|b1tch|ballbag|balls|ballsack|bastard|beastial|beastiality|bellend|bestial|bestiality|bi\+ch|biatch|bitch|bitcher|bitchers|bitches|bitchin|bitching|bloody|blow job|blowjob|blowjobs|boiolas|bollock|bollok|boner|boob|boobs|booobs|boooobs|booooobs|booooooobs|breasts|buceta|bugger|bum|bunny fucker|butt|butthole|buttmuch|buttplug|c0ck|c0cksucker|carpet muncher|cawk|chink|cipa|cl1t|clit|clitoris|clits|cnut|cock|cock-sucker|cockface|cockhead|cockmunch|cockmuncher|cocks|cocksuck|cocksucked|cocksucker|cocksucking|cocksucks|cocksuka|cocksukka|cok|cokmuncher|coksucka|coon|cox|crap|cum|cummer|cumming|cums|cumshot|cunilingus|cunillingus|cunnilingus|cunt|cuntlick|cuntlicker|cuntlicking|cunts|cyalis|cyberfuc|cyberfuck|cyberfucked|cyberfucker|cyberfuckers|cyberfucking|d1ck|damn|dick|dickhead|dildo|dildos|dink|dinks|dirsa|dlck|dog-fucker|doggin|dogging|donkeyribber|doosh|duche|dyke|ejaculate|ejaculated|ejaculates|ejaculating|ejaculatings|ejaculation|ejakulate|f u c k|f u c k e r|f4nny|fag|fagging|faggitt|faggot|faggs|fagot|fagots|fags|fanny|fannyflaps|fannyfucker|fanyy|fatass|fcuk|fcuker|fcuking|feck|fecker|felching|fellate|fellatio|fingerfuck|fingerfucked|fingerfucker|fingerfuckers|fingerfucking|fingerfucks|fistfuck|fistfucked|fistfucker|fistfuckers|fistfucking|fistfuckings|fistfucks|flange|fook|fooker|fuck|fucka|fucked|fucker|fuckers|fuckhead|fuckheads|fuckin|fucking|fuckings|fuckingshitmotherfucker|fuckme|fucks|fuckwhit|fuckwit|fudge packer|fudgepacker|fuk|fuker|fukker|fukkin|fuks|fukwhit|fukwit|fux|fux0r|f_u_c_k|gangbang|gangbanged|gangbangs|gaylord|gaysex|goatse|God|god-dam|god-damned|goddamn|goddamned|hardcoresex|hell|heshe|hoar|hoare|hoer|homo|hore|horniest|horny|hotsex|jack-off|jackoff|jap|jerk-off|jism|jiz|jizm|jizz|kawk|knob|knobead|knobed|knobend|knobhead|knobjocky|knobjokey|kock|kondum|kondums|kum|kummer|kumming|kums|kunilingus|l3i\+ch|l3itch|labia|lust|lusting|m0f0|m0fo|m45terbate|ma5terb8|ma5terbate|masochist|master-bate|masterb8|masterbat*|masterbat3|masterbate|masterbation|masterbations|masturbate|mo-fo|mof0|mofo|mothafuck|mothafucka|mothafuckas|mothafuckaz|mothafucked|mothafucker|mothafuckers|mothafuckin|mothafucking|mothafuckings|mothafucks|mother fucker|motherfuck|motherfucked|motherfucker|motherfuckers|motherfuckin|motherfucking|motherfuckings|motherfuckka|motherfucks|muff|mutha|muthafecker|muthafuckker|muther|mutherfucker|n1gga|n1gger|nazi|nigg3r|nigg4h|nigga|niggah|niggas|niggaz|nigger|niggers|nob|nob jokey|nobhead|nobjocky|nobjokey|numbnuts|nutsack|orgasim|orgasims|orgasm|orgasms|p0rn|pawn|pecker|penis|penisfucker|phonesex|phuck|phuk|phuked|phuking|phukked|phukking|phuks|phuq|pigfucker|pimpis|piss|pissed|pisser|pissers|pisses|pissflaps|pissin|pissing|pissoff|poop|porn|porno|pornography|pornos|prick|pricks|pron|pube|pusse|pussi|pussies|pussy|pussys|rectum|retard|rimjaw|rimming|s hit|s.o.b.|sadist|schlong|screwing|scroat|scrote|scrotum|semen|sex|sh!\+|sh!t|sh1t|shag|shagger|shaggin|shagging|shemale|shi\+|shit|shitdick|shite|shited|shitey|shitfuck|shitfull|shithead|shiting|shitings|shits|shitted|shitter|shitters|shitting|shittings|shitty|skank|slut|sluts|smegma|smut|snatch|son-of-a-bitch|spac|spunk|s_h_i_t|t1tt1e5|t1tties|teets|teez|testical|testicle|tit|titfuck|tits|titt|tittie5|tittiefucker|titties|tittyfuck|tittywank|titwank|tosser|turd|tw4t|twat|twathead|twatty|twunt|twunter|v14gra|v1gra|vagina|viagra|vulva|w00se|wang|wank|wanker|wanky|whoar|whore|willies|willy|xrated|xxx)\b/gi,Dwt={object:Nwt,array:Lwt,regex:Fwt};const _wt=Owt.words,jwt=Dwt.array;class zwt{constructor(t={}){Object.assign(this,{list:t.emptyList&&[]||Array.prototype.concat.apply(_wt,[jwt,t.list||[]]),exclude:t.exclude||[],splitRegex:t.splitRegex||/\b/,placeHolder:t.placeHolder||"*",regex:t.regex||/[^a-zA-Z0-9|\$|\@]|\^/g,replaceRegex:t.replaceRegex||/\w/g})}isProfane(t){return this.list.filter(r=>{const n=new RegExp(`\\b${r.replace(/(\W)/g,"\\$1")}\\b`,"gi");return!this.exclude.includes(r.toLowerCase())&&n.test(t)}).length>0||!1}replaceWord(t){return t.replace(this.regex,"").replace(this.replaceRegex,this.placeHolder)}clean(t){return t.split(this.splitRegex).map(r=>this.isProfane(r)?this.replaceWord(r):r).join(this.splitRegex.exec(t)[0])}addWords(){let t=Array.from(arguments);this.list.push(...t),t.map(r=>r.toLowerCase()).forEach(r=>{this.exclude.includes(r)&&this.exclude.splice(this.exclude.indexOf(r),1)})}removeWords(){this.exclude.push(...Array.from(arguments).map(t=>t.toLowerCase()))}}var Uwt=zwt;const Gwt=ks(Uwt),Hwt="_mainRow_mlwru_1",$wt="_leftColumn_mlwru_10",Wwt="_coverFillerContainer_mlwru_23",Vwt="_coverImageContainer_mlwru_22",Ywt="_coverImage_mlwru_22",Xwt="_coverFillerImage_mlwru_46",Qwt="_headerTitle_mlwru_54",Kwt="_headerDesc_mlwru_60",Jwt="_headerStatsWrapper_mlwru_67",Zwt="_headerStat_mlwru_67",qwt="_headerStatDivider_mlwru_79",tTt="_headerStatSmall_mlwru_85",eTt="_headerButtonRow_mlwru_90",iTt="_bigHeaderButtonInside_mlwru_104",rTt="_headerButtonInside_mlwru_102",nTt="_headerMidButtonInside_mlwru_103",sTt="_bigHeaderButton_mlwru_104",aTt="_smallHostIcon_mlwru_134",oTt="_noHostText_mlwru_139",lTt="_hostIcon_mlwru_147",uTt="_smallButtonsContainer_mlwru_152",hTt="_smallButton_mlwru_152",cTt="_smallIcon_mlwru_185",dTt="_headerBottomContainer_mlwru_190",fTt="_headerBottomRow_mlwru_206",pTt="_headerAuthorIcon_mlwru_212",vTt="_headerAuthorText_mlwru_217",mTt="_headerVerifiedIcon_mlwru_223",gTt="_headerVerifiedText_mlwru_229",yTt="_deleteButton_mlwru_235",xTt="_questionSection_mlwru_245",bTt="_questionSectionTop_mlwru_251",STt="_numQuestions_mlwru_260",wTt="_showAnswersButtonInside_mlwru_272",TTt="_questionContainer_mlwru_284",CTt="_questionRow_mlwru_299",ETt="_questionInfoRow_mlwru_308",kTt="_questionInfo_mlwru_308",PTt="_questionInfoIcon_mlwru_330",ATt="_questionImageContainer_mlwru_334",RTt="_questionImageButton_mlwru_352",ITt="_questionImage_mlwru_334",MTt="_questionTextContainer_mlwru_363",BTt="_questionNum_mlwru_373",OTt="_questionTextRow_mlwru_379",NTt="_questionText_mlwru_363",LTt="_questionFunc_mlwru_395",FTt="_qMathField_mlwru_403",DTt="_answerContainer_mlwru_411",_Tt="_answerContainerStart_mlwru_422",jTt="_typingAnswer_mlwru_426",zTt="_typingAnswerIcon_mlwru_436",UTt="_answer_mlwru_411",GTt="_answerIcon_mlwru_457",HTt="_answerMediaContainer_mlwru_464",$Tt="_answerMediaCapped_mlwru_472",WTt="_answerText_mlwru_476",VTt="_answerImg_mlwru_484",YTt="_mathField_mlwru_492",XTt="_faded_mlwru_500",QTt="_bottomSpacer_mlwru_504",KTt="_reportModal_mlwru_508",JTt="_reportContainer_mlwru_520",ZTt="_reportHeader_mlwru_532",qTt="_duplicateHeader_mlwru_540",t2t="_reportText_mlwru_548",e2t="_reportInput_mlwru_555",i2t="_reportInputFilled_mlwru_576",r2t="_reportButtonContainer_mlwru_580",n2t="_reportYesButton_mlwru_590",s2t="_reportNoButton_mlwru_615",a2t="_smallScreen_mlwru_640",o2t="_bigScreen_mlwru_645",l2t="_highlight_mlwru_653",xi={mainRow:Hwt,leftColumn:$wt,coverFillerContainer:Wwt,coverImageContainer:Vwt,coverImage:Ywt,coverFillerImage:Xwt,headerTitle:Qwt,headerDesc:Kwt,headerStatsWrapper:Jwt,headerStat:Zwt,headerStatDivider:qwt,headerStatSmall:tTt,headerButtonRow:eTt,bigHeaderButtonInside:iTt,headerButtonInside:rTt,headerMidButtonInside:nTt,bigHeaderButton:sTt,smallHostIcon:aTt,noHostText:oTt,hostIcon:lTt,smallButtonsContainer:uTt,smallButton:hTt,smallIcon:cTt,headerBottomContainer:dTt,headerBottomRow:fTt,headerAuthorIcon:pTt,headerAuthorText:vTt,headerVerifiedIcon:mTt,headerVerifiedText:gTt,deleteButton:yTt,questionSection:xTt,questionSectionTop:bTt,numQuestions:STt,showAnswersButtonInside:wTt,questionContainer:TTt,questionRow:CTt,questionInfoRow:ETt,questionInfo:kTt,questionInfoIcon:PTt,questionImageContainer:ATt,questionImageButton:RTt,questionImage:ITt,questionTextContainer:MTt,questionNum:BTt,questionTextRow:OTt,questionText:NTt,questionFunc:LTt,qMathField:FTt,answerContainer:DTt,answerContainerStart:_Tt,typingAnswer:jTt,typingAnswerIcon:zTt,answer:UTt,answerIcon:GTt,answerMediaContainer:HTt,answerMediaCapped:$Tt,answerText:WTt,answerImg:VTt,mathField:YTt,faded:XTt,bottomSpacer:QTt,reportModal:KTt,reportContainer:JTt,reportHeader:ZTt,duplicateHeader:qTt,reportText:t2t,reportInput:e2t,reportInputFilled:i2t,reportButtonContainer:r2t,reportYesButton:n2t,reportNoButton:s2t,smallScreen:a2t,bigScreen:o2t,highlight:l2t};var $x={},z5={},U5={};Object.defineProperty(U5,"__esModule",{value:!0});U5.default=u2t;function u2t(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var d=Object.prototype.hasOwnProperty,S=0;S<r.length;S++)if(!d.call(t,r[S])||e[r[S]]!==t[r[S]])return!1;return!0}var G5={};const h2t=pR(SW);Object.defineProperty(G5,"__esModule",{value:!0});G5.default=p2t;var c2t=h2t,d2t=f2t(c2t);function f2t(e){return e&&e.__esModule?e:{default:e}}function p2t(e,t){var r=[],n=0,d=!0;function S(g){function i(){t&&t(g,r)}d?d2t.default.nextTick(i):i()}function s(g,i){r.push(i),++n>=e.length||g?S(g):e[n](s)}e.length>0?e[0](s):S(null),d=!1}var H5={};Object.defineProperty(H5,"__esModule",{value:!0});H5.default=m2t;var v2t=function(){};function m2t(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v2t;e()?t(function n(d){for(var S=arguments.length,s=Array(S>1?S-1:0),g=1;g<S;g++)s[g-1]=arguments[g];d?r(d):e.apply(this,s)?t(n):r(null)}):r(null)}var $5={};Object.defineProperty($5,"__esModule",{value:!0});$5.default=g2t;function g2t(e,t){var r=void 0,n=void 0,d=void 0,S=void 0,s=0;function g(){S=0,s=+new Date,d=e.apply(r,n),r=null,n=null}return function(){r=this,n=arguments;var o=new Date-s;return S||(o>=t?g():S=setTimeout(g,t-o)),d}}var W5={};Object.defineProperty(W5,"__esModule",{value:!0});W5.default=x2t;var y2t=0;function x2t(){return y2t++}var Wx={};Object.defineProperty(Wx,"__esModule",{value:!0});Wx.innerHeight=b2t;Wx.innerWidth=S2t;function b2t(e){var t=window.getComputedStyle(e,null);return t?e.clientHeight-parseInt(t.getPropertyValue("padding-top"),10)-parseInt(t.getPropertyValue("padding-bottom"),10):e.clientHeight}function S2t(e){var t=window.getComputedStyle(e,null);return t?e.clientWidth-parseInt(t.getPropertyValue("padding-left"),10)-parseInt(t.getPropertyValue("padding-right"),10):e.clientWidth}Object.defineProperty(z5,"__esModule",{value:!0});var PP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w2t=function(){function e(t,r){for(var n=0;n<r.length;n++){var d=r[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),T2t=_i,rw=Od(T2t),C2t=ip,Lh=Od(C2t),E2t=U5,k2t=Od(E2t),P2t=G5,A2t=Od(P2t),R2t=H5,AP=Od(R2t),I2t=$5,M2t=Od(I2t),B2t=W5,RP=Od(B2t),IP=Wx;function Od(e){return e&&e.__esModule?e:{default:e}}function O2t(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function N2t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L2t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function F2t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function MP(e,t){return e.scrollWidth-1<=t}function BP(e,t){return e.scrollHeight-1<=t}function D2t(){}var V5=function(e){F2t(t,e);function t(r){N2t(this,t);var n=L2t(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.state={fontSize:null,ready:!1},n.handleWindowResize=function(){n.process()},"perfectFit"in r&&console.warn("TextFit property perfectFit has been removed."),n.handleWindowResize=(0,M2t.default)(n.handleWindowResize,r.throttle),n}return w2t(t,[{key:"componentDidMount",value:function(){var n=this.props.autoResize;n&&window.addEventListener("resize",this.handleWindowResize),this.process()}},{key:"componentDidUpdate",value:function(n){var d=this.state.ready;d&&((0,k2t.default)(this.props,n)||this.process())}},{key:"componentWillUnmount",value:function(){var n=this.props.autoResize;n&&window.removeEventListener("resize",this.handleWindowResize),this.pid=(0,RP.default)()}},{key:"process",value:function(){var n=this,d=this.props,S=d.min,s=d.max,g=d.mode,i=d.forceSingleModeWidth,o=d.onReady,m=this._parent,c=this._child,l=(0,IP.innerWidth)(m),h=(0,IP.innerHeight)(m);if(h<=0||isNaN(h)){console.warn("Can not process element without height. Make sure the element is displayed and has a static height.");return}if(l<=0||isNaN(l)){console.warn("Can not process element without width. Make sure the element is displayed and has a static width.");return}var a=(0,RP.default)();this.pid=a;var f=function(){return a!==n.pid},p=g==="multi"?function(){return BP(c,h)}:function(){return MP(c,l)},u=g==="multi"?function(){return MP(c,l)}:function(){return BP(c,h)},v=void 0,y=S,x=s;this.setState({ready:!1}),(0,A2t.default)([function(b){return(0,AP.default)(function(){return y<=x},function(w){if(f())return w(!0);v=parseInt((y+x)/2,10),n.setState({fontSize:v},function(){return f()?w(!0):(p()?y=v+1:x=v-1,w())})},b)},function(b){return g==="single"&&i||u()?b():(y=S,x=v,(0,AP.default)(function(){return y<x},function(w){if(f())return w(!0);v=parseInt((y+x)/2,10),n.setState({fontSize:v},function(){return a!==n.pid?w(!0):(u()?y=v+1:x=v-1,w())})},b))},function(b){if(v=Math.min(y,x),v=Math.max(v,S),v=Math.min(v,s),v=Math.max(v,0),f())return b(!0);n.setState({fontSize:v},b)}],function(b){b||f()||n.setState({ready:!0},function(){return o(v)})})}},{key:"render",value:function(){var n=this,d=this.props,S=d.children,s=d.text,g=d.style;d.min,d.max;var i=d.mode;d.forceWidth,d.forceSingleModeWidth,d.throttle,d.autoResize,d.onReady;var o=O2t(d,["children","text","style","min","max","mode","forceWidth","forceSingleModeWidth","throttle","autoResize","onReady"]),m=this.state,c=m.fontSize,l=m.ready,h=PP({},g,{fontSize:c}),a={display:l?"block":"inline-block"};return i==="single"&&(a.whiteSpace="nowrap"),rw.default.createElement("div",PP({ref:function(p){return n._parent=p},style:h},o),rw.default.createElement("div",{ref:function(p){return n._child=p},style:a},s&&typeof S=="function"?l?S(s):s:S))}}]),t}(rw.default.Component);V5.propTypes={children:Lh.default.node,text:Lh.default.string,min:Lh.default.number,max:Lh.default.number,mode:Lh.default.oneOf(["single","multi"]),forceSingleModeWidth:Lh.default.bool,throttle:Lh.default.number,onReady:Lh.default.func};V5.defaultProps={min:1,max:100,mode:"multi",forceSingleModeWidth:!0,throttle:50,autoResize:!0,onReady:D2t};z5.default=V5;Object.defineProperty($x,"__esModule",{value:!0});var Vx=$x.Textfit=void 0,_2t=z5,I_=j2t(_2t);function j2t(e){return e&&e.__esModule?e:{default:e}}Vx=$x.Textfit=I_.default;var wC=$x.default=I_.default;const z2t="_audioButton_1ga7j_6",U2t="_audioIcon_1ga7j_28",G2t="_spinnerContainer_1ga7j_41",H2t="_spinnerContainerDone_1ga7j_50",$2t="_spinner_1ga7j_41",W2t="_rota_1ga7j_1",V2t="_filler_1ga7j_76",Y2t="_fill_1ga7j_76",X2t="_mask_1ga7j_93",Zd={audioButton:z2t,audioIcon:U2t,spinnerContainer:G2t,spinnerContainerDone:H2t,spinner:$2t,rota:W2t,filler:V2t,fill:Y2t,mask:X2t},Q2t=e=>{if(!e)return e;let t=e.indexOf("upload/");return t===-1?e:(t+=7,`${e.slice(0,t)}af_22050,br_48k${e.slice(t-1,e.length)}`)};class fh extends ti.Component{constructor(t){super(t),this.state={audioDuration:0,isPlayingAudio:!1},this.audio=null,this.audioDuration=0,this.triedAgain=!1,this.playAudio=this.playAudio.bind(this)}componentDidMount(){this.props.autoplay&&!mr&&(this.delayTimeout=setTimeout(()=>{this.state.isPlayingAudio||this.playAudio()},500))}componentWillUnmount(){this.audio&&this.audio.pause(),clearTimeout(this.delayTimeout)}playAudio(){this.state.isPlayingAudio?(this.audio.pause(),this.setState({isPlayingAudio:!1})):this.state.audioDuration?this.setState({isPlayingAudio:!0},()=>{this.audio.play()}):this.audioDuration?this.setState({isPlayingAudio:!0,audioDuration:this.audioDuration},()=>{this.audio.currentTime=0,this.audio.play()}):(this.audio=new Audio(Q2t(this.props.audioUrl)),this.audio.addEventListener("loadedmetadata",()=>{if(this.audio.duration===1/0&&!this.triedAgain)return this.triedAgain=!0,this.playAudio();this.audioDuration=this.audio.duration,this.setState({audioDuration:this.audio.duration,isPlayingAudio:!0},()=>{this.audio.play()})}),this.audio.addEventListener("ended",()=>{this.setState({isPlayingAudio:!1,audioDuration:0})},!1))}render(){return R.jsxs("div",{className:Zd.audioButton,role:"button",tabIndex:0,onClick:this.playAudio,style:{width:this.props.width||null},children:[R.jsx(Vx,{className:Zd.audioIcon,mode:"multi",min:1,max:40,children:R.jsx("i",{className:this.state.isPlayingAudio?"fas fa-pause":"fas fa-play"})}),this.state.audioDuration?R.jsxs("div",{className:Zd.spinnerContainer,children:[R.jsx("div",{className:Zd.spinner,style:{animationDuration:`${this.state.audioDuration}s`,animationPlayState:this.state.isPlayingAudio?"running":"paused"}}),R.jsx("div",{className:Zd.filler,style:{animationDuration:`${this.state.audioDuration}s`,animationPlayState:this.state.isPlayingAudio?"running":"paused"}}),R.jsx("div",{className:Zd.mask,style:{animationDuration:`${this.state.audioDuration}s`,animationPlayState:this.state.isPlayingAudio?"running":"paused"}})]}):null]})}}fh.propTypes={audioUrl:Xt.string.isRequired,autoplay:Xt.bool,width:Xt.string};const gc={default:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#ffa31e"},{text:"#fff",background:"#3378ff"},{text:"#fff",background:"#00cf77"},{text:"#fff",background:"#ff462b"}]},spooky:{background:"#292929",text:"#fff",answers:[{text:"#fff",background:"#e57e25"},{text:"#fff",background:"#f78000"},{text:"#fff",background:"#e17400"},{text:"#fff",background:"#d37612"}]},shamrock:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#099441"},{text:"#fff",background:"#0aa949"},{text:"#fff",background:"#077834"},{text:"#fff",background:"#078b3d"}]},merry:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#0cb04a"},{text:"#fff",background:"#f23941"},{text:"#fff",background:mr?"#0cb04a":"#f23941"},{text:"#fff",background:mr?"#f23941":"#0cb04a"}]},freeze:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#4eb5e4"},{text:"#fff",background:"#21a2de"},{text:"#fff",background:"#37abe1"},{text:"#fff",background:"#64bee8"}]},orange:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#e57e25"},{text:"#fff",background:"#f78000"},{text:"#fff",background:"#e17400"},{text:"#fff",background:"#d37612"}]},purple:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#a14db3"},{text:"#fff",background:"#813d8f"},{text:"#fff",background:"#9145a1"},{text:"#fff",background:"#a95eba"}]},red:{background:"#fff",text:"#3a3a3a",answers:[{text:"#fff",background:"#d4112b"},{text:"#fff",background:"#bd0f26"},{text:"#fff",background:"#a50d22"},{text:"#fff",background:"#ec1330"}]},hacker:{background:"#000",text:"#fff",answers:[{text:"#000",background:"rgba(128, 255, 128, 0.8)"},{text:"#000",background:"rgba(128, 255, 128, 0.8)"},{text:"#000",background:"rgba(128, 255, 128, 0.8)"},{text:"#000",background:"rgba(128, 255, 128, 0.8)"}]},tower:{background:"#292929",text:"#fff",answers:[{text:"#fff",background:"#404040"},{text:"#fff",background:"#404040"},{text:"#fff",background:"#404040"},{text:"#fff",background:"#404040"}]}};Fn.addStyles();const g1=new Gwt;g1.removeWords("god");const K2t=["Bot","Tom@Blooket","Spencer@Blooket"],OP=ar.play;class M_ extends ti.Component{constructor(t){super(t),this.state={game:{title:"",author:"",desc:"",id:this.props.match.params.id||"",private:!1,questions:[],coverImage:{}},playCount:0,favoriteCount:0,isVerified:!1,isFavorited:!1,isAdmin:!1,showingAnswers:[],reporting:!1,loadingReport:!1,report:"",copying:!1,canCopy:!1,loadingCopy:!1,ready:!1,loadingDelete:!1,zoomedImage:"",imageFailed:!1,plusOnly:!1,hasPlus:!1},this.onShowAnswers=this.onShowAnswers.bind(this),this.onHost=this.onHost.bind(this),this.onHw=this.onHw.bind(this),this.onSolo=this.onSolo.bind(this),this.onFavorite=this.onFavorite.bind(this),this.onReport=this.onReport.bind(this),this.onCopy=this.onCopy.bind(this),this.onCopyConfirm=this.onCopyConfirm.bind(this),this.onDelete=this.onDelete.bind(this),this.loading=!1,this.here=!0}componentDidMount(){return ci(this,null,function*(){const t=this.props.match.params.id,r=yield this.props.user.getData();if(!r){Ve.logError("SetPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}const n=[new Promise(i=>{vi.get("/api/games",{params:{gameId:t}}).then(o=>{i(o.data)}).catch(()=>i(null))}),new Promise(i=>{vi.get("/api/users/favorited",{params:{id:t}}).then(o=>{i(o.data)}).catch(()=>i(!1))})],[d,S]=yield Promise.all(n);if(!d)return this.setState({ready:!0});const s=[...d.questions];s.sort((i,o)=>i.number-o.number);let g=[];Ys("open")==="true"&&(g=s.map(i=>i.number)),this.here&&this.setState({game:{title:d.title,author:d.author,desc:d.desc,id:t,questions:s,private:d.private,coverImage:d.coverImage},playCount:d.playCount,favoriteCount:d.favoriteCount,isVerified:d.verified,showingAnswers:g,user:r,isAdmin:K2t.includes(r.name),isFavorited:S,plusOnly:d.plusOnly,ready:!0},()=>{d.plusOnly&&vi.get("/api/users/plan").then(i=>{this.here&&this.setState({hasPlus:i.data.hasPlus})}).catch(i=>{this.here&&Ve.logError(i)})})})}componentWillUnmount(){this.here=!1}onShowAnswers(t){const r=[...this.state.showingAnswers],n=r.indexOf(t);n===-1?r.push(t):r.splice(n,1),this.setState({showingAnswers:r})}onFavorite(){this.loading||(this.loading=!0,vi.put("/api/users/updatefavorites",{id:this.props.match.params.id,isUnfavoriting:this.state.isFavorited}).then(()=>{this.here&&this.setState({isFavorited:!this.state.isFavorited,favoriteCount:this.state.isFavorited?this.state.favoriteCount-1:this.state.favoriteCount+1},()=>{this.loading=!1})}).catch(t=>{Ve.logError(t),this.loading=!1}))}onHost(){if(this.loading)return;this.loading=!0,window.open(`${OP}/host?id=${this.state.game.id}`,"_blank").focus(),this.loading=!1}onHw(){this.loading||(window.location.href=`/assign/${this.state.game.id}`)}onSolo(){this.loading||(this.loading=!0,this.state.game.id&&window&&window.open(`${OP}/solo?id=${this.state.game.id}`,"_blank").focus(),this.loading=!1)}onReport(t){if(!this.loading){if(this.loading=!0,!this.state.game.id){this.loading=!1;return}if(!t){this.loading=!1,this.setState({reporting:!1,loadingReport:!1});return}this.state.isVerified&&(this.loading=!1,this.setState({reporting:!1,loadingReport:!1})),this.setState({loadingReport:!0}),vi.post("/api/reports",{id:this.state.game.id,c:this.state.report}).then(()=>{this.here&&(this.setState({reporting:!1,loadingReport:!1,report:""}),this.loading=!1)}).catch(r=>{Ve.logError(r)})}}onCopy(){this.loading||(this.loading=!0,vi.get("/api/users/plan").then(t=>{this.here&&(t.data.hasPlus?this.setState({canCopy:!0,copying:!0}):this.setState({copying:!0}),this.loading=!1)}).catch(t=>{this.here&&(Ve.logError(t),this.loading=!1,this.setState({copying:!1}))}))}onCopyConfirm(){this.loading||(this.loading=!0,this.setState({loadingCopy:!0}),vi.post("/api/games/copy",{id:this.state.game.id,isDuplicate:!0}).then(t=>{this.here&&this.props.history.push(`/edit?id=${t.data._id}`)}).catch(t=>{this.here&&(Ve.logError(t),this.loading=!1,this.setState({copying:!1,loadingCopy:!1}))}))}onDelete(){this.loading||(this.loading=!0,this.setState({loadingDelete:!0}),vi.delete("/api/games",{params:{gameId:this.state.game.id}}).then(()=>{window.location.href="/discover",window.close()}).catch(t=>{Ve.logError(t),this.setState({loadingDelete:!1})}))}render(){return this.state.ready&&!this.state.game.title?(Ve.logError("SetPage cannot be rendered without this.state.game.title"),R.jsx(Td,{to:"/404"})):R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:`${this.state.ready?this.state.game.title:"View Set"} | Blooket`,desc:"View a Blooket question set to see the questions and their answers. Also, you can host, favorite, report, or duplicate a set here."}),R.jsx(la,{user:this.state.user,page:"Discover"}),this.state.ready?R.jsx("div",{className:Qe.profileBody,children:R.jsxs("div",{className:xi.mainRow,children:[R.jsxs("div",{className:xi.leftColumn,children:[!this.state.imageFailed&&this.state.game.coverImage?R.jsx("div",{className:xi.coverImageContainer,children:R.jsx("img",{src:En(this.state.game.coverImage.url),alt:"Cover",className:xi.coverImage,onError:()=>this.setState({imageFailed:!0})})}):R.jsx("div",{className:xi.coverFillerContainer,children:R.jsx("img",{src:Ee.basic.blooket,alt:"Blooket",className:xi.coverFillerImage})}),R.jsx("div",{className:xi.headerTitle,children:this.state.game.title}),R.jsx("div",{className:xi.headerDesc,children:this.state.game.desc}),R.jsxs("div",{className:xi.headerStatsWrapper,children:[R.jsx("div",{className:xi.headerStat,children:`${$i(this.state.playCount)} ${this.state.playCount===1?"Play":"Plays"}`}),R.jsx("div",{className:xi.headerStatDivider,children:""}),R.jsx("div",{className:xi.headerStatSmall,children:`${$i(this.state.favoriteCount)} ${this.state.favoriteCount===1?"Favorite":"Favorites"}`})]}),R.jsxs("div",{className:xi.headerButtonRow,children:[this.state.plusOnly&&!this.state.hasPlus?R.jsx(Ri,{color:"#ff7b24",onClick:()=>this.props.history.push("/upgrade"),outsideClass:Ct(xi.bigScreen,xi.bigHeaderButton),style:{marginBottom:0},children:R.jsxs("div",{className:xi.bigHeaderButtonInside,children:[R.jsx("i",{className:Ct(xi.hostIcon,"fas fa-plus-square")}),"Plus Only"]})}):R.jsxs(R.Fragment,{children:[R.jsx(Ri,{color:"#0bc2cf",onClick:this.onHost,outsideClass:Ct(xi.bigScreen,xi.bigHeaderButton),children:R.jsxs("div",{className:xi.bigHeaderButtonInside,children:[R.jsx("i",{className:Ct(xi.hostIcon,"fas fa-play")}),"Host"]})}),R.jsx(Ri,{color:"#9a49aa",onClick:this.onSolo,children:R.jsxs("div",{className:xi.headerButtonInside,children:[R.jsx("i",{className:Ct(xi.smallHostIcon,"fas fa-user-astronaut")}),"Solo"]})}),R.jsx(Ri,{color:"#9a49aa",onClick:this.onHw,outsideClass:xi.bigScreen,children:R.jsxs("div",{className:xi.headerMidButtonInside,children:[R.jsx("i",{className:Ct(xi.smallHostIcon,"fas fa-file-alt")}),"Assign HW"]})})]}),R.jsx("div",{className:Ct(xi.noHostText,xi.smallScreen),children:"No Hosting on Mobile"})]}),R.jsx("div",{className:xi.smallButtonsContainer,children:(!this.state.plusOnly||this.state.hasPlus)&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:xi.smallButton,role:"button",tabIndex:0,onClick:this.onFavorite,children:[R.jsx("i",{className:Ct(xi.smallIcon,this.state.isFavorited?"fas fa-star":"far fa-star")}),this.state.isFavorited?"Unfavorite":"Favorite"]}),R.jsxs("div",{className:xi.smallButton,role:"button",tabIndex:0,onClick:this.onCopy,children:[R.jsx("i",{className:Ct(xi.smallIcon,"far fa-clone")}),"Copy"]}),R.jsxs("div",{className:xi.smallButton,role:"button",tabIndex:0,onClick:()=>this.setState({reporting:!0}),children:[R.jsx("i",{className:Ct(xi.smallIcon,"far fa-flag")}),"Report"]})]})}),R.jsxs("div",{className:xi.headerBottomContainer,children:[R.jsxs("div",{className:xi.headerBottomRow,children:[R.jsx("i",{className:Ct(xi.headerAuthorIcon,"fas fa-user")}),R.jsx("a",{className:xi.headerAuthorText,href:`/discover?n=${encodeURIComponent(this.state.game.author)}`,children:this.state.game.author})]}),this.state.isVerified?R.jsxs("div",{className:xi.headerBottomRow,children:[R.jsx("i",{className:Ct(xi.headerVerifiedIcon,"fas fa-check-square")}),R.jsx("div",{className:xi.headerVerifiedText,children:"Verified Set"})]}):null]}),this.state.isAdmin?R.jsx("div",{className:xi.deleteButton,role:"button",tabIndex:0,onDoubleClick:this.onDelete,children:"Delete"}):null]}),R.jsxs("div",{className:xi.questionSection,children:[R.jsxs("div",{className:xi.questionSectionTop,children:[R.jsx("div",{className:xi.numQuestions,children:`${$i(this.state.game.questions.length)} Question${this.state.game.questions.length===1?"":"s"}`}),R.jsx(Ri,{color:"#0bc2cf",onClick:()=>this.setState({showingAnswers:this.state.showingAnswers.length===this.state.game.questions.length?[]:this.state.game.questions.map(t=>t.number)}),children:R.jsx("div",{className:xi.showAnswersButtonInside,children:this.state.showingAnswers.length===this.state.game.questions.length?"Hide Answers":"Show Answers"})})]}),this.state.game.questions.map(t=>R.jsxs("div",{className:xi.questionContainer,children:[R.jsxs("div",{className:xi.questionRow,children:[R.jsxs("div",{className:xi.questionTextContainer,role:"button",tabIndex:0,onClick:()=>this.onShowAnswers(t.number),children:[R.jsx("div",{className:xi.questionNum,children:`Question ${t.number}`}),R.jsx("div",{className:xi.questionTextRow,children:R.jsx("div",{className:Ct(xi.questionText,{[xi.highlight]:this.state.isAdmin&&g1.isProfane(t.question)}),children:t.question.includes("`*`")?t.question.slice(0,t.question.indexOf("`*`")):t.question})})]}),t.image&&t.image.url||t.audio&&t.audio.url||t.question.includes("`*`")?R.jsx("div",{className:Ct(xi.questionImageContainer,{[xi.questionImageButotn]:t.image&&t.image.url&&!(t.audio&&t.audio.url)}),role:"button",tabIndex:0,onClick:t.image&&t.image.url&&!(t.audio&&t.audio.url)?()=>this.setState({zoomedImage:t.image.url}):()=>{},children:t.audio&&t.audio.url?R.jsx("div",{className:xi.questionFunc,children:R.jsx(fh,{audioUrl:t.audio.url,width:"60%"})}):t.image&&t.image.url?mr?R.jsx("img",{src:En(t.image.url),alt:"Question Background",className:xi.questionImage}):R.jsx(Ul,{height:120,width:165,children:R.jsx("img",{src:En(t.image.url),alt:"Question Background",className:xi.questionImage})}):t.question.includes("`*`")?R.jsx("div",{className:xi.questionFunc,children:R.jsx(Fn.StaticMathField,{className:xi.qMathField,children:t.question.slice(t.question.indexOf("`*`")+3,t.question.length-3)})}):null}):null,R.jsxs("div",{className:xi.questionInfoRow,children:[t.qType==="typing"?R.jsxs("div",{className:xi.questionInfo,children:[R.jsx("i",{className:Ct("fas fa-keyboard",xi.questionInfoIcon)}),"Typing"]}):t.random?R.jsx("i",{className:Ct("fas fa-random",xi.questionInfo)}):null,R.jsx("div",{className:xi.questionInfo,children:`${t.timeLimit} sec`})]})]}),this.state.showingAnswers.includes(t.number)?R.jsx("div",{className:Ct(xi.answerContainer,{[xi.answerContainerStart]:t.qType==="typing"}),role:"button",tabIndex:0,onClick:()=>this.onShowAnswers(t.number),children:t.qType==="typing"?t.answers.map(r=>R.jsxs("div",{className:xi.typingAnswer,style:{backgroundColor:gc.default.answers[1].background},children:[R.jsx("i",{className:Ct("fas fa-check",xi.typingAnswerIcon)}),R.jsx("div",{className:xi.answerText,children:r})]},r)):t.answers.map((r,n)=>R.jsxs("div",{className:Ct(xi.answer,{[xi.faded]:!t.correctAnswers.includes(r)&&!(this.state.isAdmin&&g1.isProfane(r))}),style:{backgroundColor:this.state.isAdmin&&g1.isProfane(r)?"#e6e600":gc.default.answers[n].background},children:[R.jsx("i",{className:Ct(t.correctAnswers.includes(r)?"fas fa-check":"fas fa-times",xi.answerIcon)}),R.jsx("div",{className:Ct(xi.answerMediaContainer,{[xi.answerMediaCapped]:r.split("`~`").length===2||r.slice(0,3)==="`*`"}),children:r.split("`~`").length===2?R.jsx("img",{src:En(r.split("`~`")[1]),alt:"Answer",className:xi.answerImg,draggable:!1}):r.slice(0,3)==="`*`"?R.jsx(Fn.StaticMathField,{className:xi.mathField,children:r.slice(3,r.length-3)}):R.jsx("div",{className:xi.answerText,children:r})})]},r))}):null]},t.number)),R.jsx("div",{className:xi.bottomSpacer})]})]})}):null,this.state.zoomedImage?R.jsx("div",{className:Ct(Qe.modal,Qe.modalButton),role:"button",tabIndex:0,onClick:()=>this.setState({zoomedImage:""}),children:R.jsx("img",{src:En(this.state.zoomedImage),alt:"Upload",className:Qe.bigImage,draggable:!1})}):null,this.state.reporting?R.jsx("div",{className:xi.reportModal,children:R.jsxs("div",{className:xi.reportContainer,children:[R.jsx("div",{className:xi.reportHeader,children:"Report Set"}),R.jsxs("div",{className:xi.reportText,children:["If this set is offensive, abusive, inappropriate, misleading, and/or contains false information, please let us know below."," We appreciate your time and hope that together we can make Blooket a safe place to learn."]}),R.jsx("textarea",{className:Ct(xi.reportInput,{[xi.reportInputFilled]:this.state.report}),onChange:t=>{this.setState({report:t.target.value})},value:this.state.report,"data-gramm_editor":"false"}),this.state.loadingReport?R.jsx(Po,{}):R.jsxs("div",{className:xi.reportButtonContainer,children:[R.jsx("div",{className:xi.reportNoButton,role:"button",tabIndex:0,onClick:()=>this.onReport(!1),children:"Cancel"}),R.jsx("div",{className:xi.reportYesButton,role:"button",tabIndex:0,onClick:()=>this.onReport(!0),children:"Report"})]})]})}):null,this.state.copying?this.state.canCopy?R.jsx(xr,{text:this.state.loadingCopy?"Copying...":"Do you want to create a copy of this question set?",loading:this.state.loadingCopy,buttonOne:{text:"Yes",click:this.onCopyConfirm,color:"blue"},buttonTwo:{text:"No",click:()=>{this.setState({copying:!1,loadingCopy:!1,canCopy:!1}),this.loading=!1},color:"blue"}}):R.jsx(xr,{text:"Get Blooket Plus to Duplicate Sets",buttonOne:{text:"Upgrade",click:()=>this.props.history.push("/upgrade"),color:"orange"},buttonTwo:{text:"Not Now",click:()=>{this.setState({copying:!1,loadingCopy:!1}),this.loading=!1},color:"blue"}}):null,this.state.loadingDelete?R.jsx(xr,{text:"Deleting set...",loading:this.state.loadingDelete}):null]})}}M_.propTypes={match:Xt.object,history:Xt.object.isRequired,user:Xt.object};const J2t=()=>({}),Z2t=e=>Ns({},e),q2t=jn(Ls(Qs(J2t,Z2t)(M_)));const tCt=function(){let e=0;return function(){return e++}}();function hn(e){return e===null||typeof e=="undefined"}function es(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Wr(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}const ra=e=>(typeof e=="number"||e instanceof Number)&&isFinite(+e);function jo(e,t){return ra(e)?e:t}function $r(e,t){return typeof e=="undefined"?t:e}const eCt=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:e/t,B_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ns(e,t,r){if(e&&typeof e.call=="function")return e.apply(r,t)}function un(e,t,r,n){let d,S,s;if(es(e))for(S=e.length,d=0;d<S;d++)t.call(r,e[d],d);else if(Wr(e))for(s=Object.keys(e),S=s.length,d=0;d<S;d++)t.call(r,e[s[d]],s[d])}function Sy(e,t){let r,n,d,S;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(d=e[r],S=t[r],d.datasetIndex!==S.datasetIndex||d.index!==S.index)return!1;return!0}function wy(e){if(es(e))return e.map(wy);if(Wr(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let d=0;for(;d<n;++d)t[r[d]]=wy(e[r[d]]);return t}return e}function O_(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function iCt(e,t,r,n){if(!O_(e))return;const d=t[e],S=r[e];Wr(d)&&Wr(S)?km(d,S,n):t[e]=wy(S)}function km(e,t,r){const n=es(t)?t:[t],d=n.length;if(!Wr(e))return e;r=r||{};const S=r.merger||iCt;for(let s=0;s<d;++s){if(t=n[s],!Wr(t))continue;const g=Object.keys(t);for(let i=0,o=g.length;i<o;++i)S(g[i],e,t,r)}return e}function Vv(e,t){return km(e,t,{merger:rCt})}function rCt(e,t,r){if(!O_(e))return;const n=t[e],d=r[e];Wr(n)&&Wr(d)?Vv(n,d):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=wy(d))}const NP={"":e=>e,x:e=>e.x,y:e=>e.y};function yc(e,t){return(NP[t]||(NP[t]=nCt(t)))(e)}function nCt(e){const t=sCt(e);return r=>{for(const n of t){if(n==="")break;r=r&&r[n]}return r}}function sCt(e){const t=e.split("."),r=[];let n="";for(const d of t)n+=d,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function Y5(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Zo=e=>typeof e!="undefined",xc=e=>typeof e=="function",LP=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};function aCt(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const hs=Math.PI,Pn=2*hs,oCt=Pn+hs,Ty=Number.POSITIVE_INFINITY,lCt=hs/180,us=hs/2,av=hs/4,FP=hs*2/3,$o=Math.log10,wu=Math.sign;function DP(e){const t=Math.round(e);e=Yv(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor($o(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function uCt(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(r|0)&&t.push(r),t.sort((d,S)=>d-S).pop(),t}function Qf(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Yv(e,t,r){return Math.abs(e-t)<r}function hCt(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}function N_(e,t,r){let n,d,S;for(n=0,d=e.length;n<d;n++)S=e[n][r],isNaN(S)||(t.min=Math.min(t.min,S),t.max=Math.max(t.max,S))}function Nl(e){return e*(hs/180)}function X5(e){return e*(180/hs)}function _P(e){if(!ra(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function L_(e,t){const r=t.x-e.x,n=t.y-e.y,d=Math.sqrt(r*r+n*n);let S=Math.atan2(n,r);return S<-.5*hs&&(S+=Pn),{angle:S,distance:d}}function TC(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function cCt(e,t){return(e-t+oCt)%Pn-hs}function fl(e){return(e%Pn+Pn)%Pn}function Pm(e,t,r,n){const d=fl(e),S=fl(t),s=fl(r),g=fl(S-d),i=fl(s-d),o=fl(d-S),m=fl(d-s);return d===S||d===s||n&&S===s||g>i&&o<m}function Sa(e,t,r){return Math.max(t,Math.min(r,e))}function dCt(e){return Sa(e,-32768,32767)}function Cy(e,t,r,n=1e-6){return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function Q5(e,t,r){r=r||(s=>e[s]<t);let n=e.length-1,d=0,S;for(;n-d>1;)S=d+n>>1,r(S)?d=S:n=S;return{lo:d,hi:n}}const ad=(e,t,r,n)=>Q5(e,r,n?d=>e[d][t]<=r:d=>e[d][t]<r),fCt=(e,t,r)=>Q5(e,r,n=>e[n][t]>=r);function pCt(e,t,r){let n=0,d=e.length;for(;n<d&&e[n]<t;)n++;for(;d>n&&e[d-1]>r;)d--;return n>0||d<e.length?e.slice(n,d):e}const F_=["push","pop","shift","splice","unshift"];function vCt(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),F_.forEach(r=>{const n="_onData"+Y5(r),d=e[r];Object.defineProperty(e,r,{configurable:!0,enumerable:!1,value(...S){const s=d.apply(this,S);return e._chartjs.listeners.forEach(g=>{typeof g[n]=="function"&&g[n](...S)}),s}})})}function jP(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,d=n.indexOf(t);d!==-1&&n.splice(d,1),!(n.length>0)&&(F_.forEach(S=>{delete e[S]}),delete e._chartjs)}function D_(e){const t=new Set;let r,n;for(r=0,n=e.length;r<n;++r)t.add(e[r]);return t.size===n?e:Array.from(t)}const __=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function j_(e,t,r){const n=r||(s=>Array.prototype.slice.call(s));let d=!1,S=[];return function(...s){S=n(s),d||(d=!0,__.call(window,()=>{d=!1,e.apply(t,S)}))}}function mCt(e,t){let r;return function(...n){return t?(clearTimeout(r),r=setTimeout(e,t,n)):e.apply(this,n),t}}const gCt=e=>e==="start"?"left":e==="end"?"right":"center",zP=(e,t,r)=>e==="start"?t:e==="end"?r:(t+r)/2;function z_(e,t,r){const n=t.length;let d=0,S=n;if(e._sorted){const{iScale:s,_parsed:g}=e,i=s.axis,{min:o,max:m,minDefined:c,maxDefined:l}=s.getUserBounds();c&&(d=Sa(Math.min(ad(g,s.axis,o).lo,r?n:ad(t,i,s.getPixelForValue(o)).lo),0,n-1)),l?S=Sa(Math.max(ad(g,s.axis,m,!0).hi+1,r?0:ad(t,i,s.getPixelForValue(m),!0).hi+1),d,n)-d:S=n-d}return{start:d,count:S}}function U_(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,d={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=d,!0;const S=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,d),S}const u0=e=>e===0||e===1,UP=(e,t,r)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Pn/r)),GP=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*Pn/r)+1,Xv={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*us)+1,easeOutSine:e=>Math.sin(e*us),easeInOutSine:e=>-.5*(Math.cos(hs*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>u0(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>u0(e)?e:UP(e,.075,.3),easeOutElastic:e=>u0(e)?e:GP(e,.075,.3),easeInOutElastic(e){return u0(e)?e:e<.5?.5*UP(e*2,.1125,.45):.5+.5*GP(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Xv.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Xv.easeInBounce(e*2)*.5:Xv.easeOutBounce(e*2-1)*.5+.5};function lg(e){return e+.5|0}const Xh=(e,t,r)=>Math.max(Math.min(e,r),t);function wv(e){return Xh(lg(e*2.55),0,255)}function oc(e){return Xh(lg(e*255),0,255)}function Qu(e){return Xh(lg(e/2.55)/100,0,1)}function HP(e){return Xh(lg(e*100),0,100)}const Lo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},CC=[..."0123456789ABCDEF"],yCt=e=>CC[e&15],xCt=e=>CC[(e&240)>>4]+CC[e&15],h0=e=>(e&240)>>4===(e&15),bCt=e=>h0(e.r)&&h0(e.g)&&h0(e.b)&&h0(e.a);function SCt(e){var t=e.length,r;return e[0]==="#"&&(t===4||t===5?r={r:255&Lo[e[1]]*17,g:255&Lo[e[2]]*17,b:255&Lo[e[3]]*17,a:t===5?Lo[e[4]]*17:255}:(t===7||t===9)&&(r={r:Lo[e[1]]<<4|Lo[e[2]],g:Lo[e[3]]<<4|Lo[e[4]],b:Lo[e[5]]<<4|Lo[e[6]],a:t===9?Lo[e[7]]<<4|Lo[e[8]]:255})),r}const wCt=(e,t)=>e<255?t(e):"";function TCt(e){var t=bCt(e)?yCt:xCt;return e?"#"+t(e.r)+t(e.g)+t(e.b)+wCt(e.a,t):void 0}const CCt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function G_(e,t,r){const n=t*Math.min(r,1-r),d=(S,s=(S+e/30)%12)=>r-n*Math.max(Math.min(s-3,9-s,1),-1);return[d(0),d(8),d(4)]}function ECt(e,t,r){const n=(d,S=(d+e/60)%6)=>r-r*t*Math.max(Math.min(S,4-S,1),0);return[n(5),n(3),n(1)]}function kCt(e,t,r){const n=G_(e,1,.5);let d;for(t+r>1&&(d=1/(t+r),t*=d,r*=d),d=0;d<3;d++)n[d]*=1-t-r,n[d]+=t;return n}function PCt(e,t,r,n,d){return e===d?(t-r)/n+(t<r?6:0):t===d?(r-e)/n+2:(e-t)/n+4}function K5(e){const r=e.r/255,n=e.g/255,d=e.b/255,S=Math.max(r,n,d),s=Math.min(r,n,d),g=(S+s)/2;let i,o,m;return S!==s&&(m=S-s,o=g>.5?m/(2-S-s):m/(S+s),i=PCt(r,n,d,m,S),i=i*60+.5),[i|0,o||0,g]}function J5(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(oc)}function Z5(e,t,r){return J5(G_,e,t,r)}function ACt(e,t,r){return J5(kCt,e,t,r)}function RCt(e,t,r){return J5(ECt,e,t,r)}function H_(e){return(e%360+360)%360}function ICt(e){const t=CCt.exec(e);let r=255,n;if(!t)return;t[5]!==n&&(r=t[6]?wv(+t[5]):oc(+t[5]));const d=H_(+t[2]),S=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?n=ACt(d,S,s):t[1]==="hsv"?n=RCt(d,S,s):n=Z5(d,S,s),{r:n[0],g:n[1],b:n[2],a:r}}function MCt(e,t){var r=K5(e);r[0]=H_(r[0]+t),r=Z5(r),e.r=r[0],e.g=r[1],e.b=r[2]}function BCt(e){if(!e)return;const t=K5(e),r=t[0],n=HP(t[1]),d=HP(t[2]);return e.a<255?`hsla(${r}, ${n}%, ${d}%, ${Qu(e.a)})`:`hsl(${r}, ${n}%, ${d}%)`}const $P={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},WP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function OCt(){const e={},t=Object.keys(WP),r=Object.keys($P);let n,d,S,s,g;for(n=0;n<t.length;n++){for(s=g=t[n],d=0;d<r.length;d++)S=r[d],g=g.replace(S,$P[S]);S=parseInt(WP[s],16),e[g]=[S>>16&255,S>>8&255,S&255]}return e}let c0;function NCt(e){c0||(c0=OCt(),c0.transparent=[0,0,0,0]);const t=c0[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const LCt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function FCt(e){const t=LCt.exec(e);let r=255,n,d,S;if(t){if(t[7]!==n){const s=+t[7];r=t[8]?wv(s):Xh(s*255,0,255)}return n=+t[1],d=+t[3],S=+t[5],n=255&(t[2]?wv(n):Xh(n,0,255)),d=255&(t[4]?wv(d):Xh(d,0,255)),S=255&(t[6]?wv(S):Xh(S,0,255)),{r:n,g:d,b:S,a:r}}}function DCt(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Qu(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const nw=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,qd=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function _Ct(e,t,r){const n=qd(Qu(e.r)),d=qd(Qu(e.g)),S=qd(Qu(e.b));return{r:oc(nw(n+r*(qd(Qu(t.r))-n))),g:oc(nw(d+r*(qd(Qu(t.g))-d))),b:oc(nw(S+r*(qd(Qu(t.b))-S))),a:e.a+r*(t.a-e.a)}}function d0(e,t,r){if(e){let n=K5(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,t===0?360:1)),n=Z5(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function $_(e,t){return e&&Object.assign(t||{},e)}function VP(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=oc(e[3]))):(t=$_(e,{r:0,g:0,b:0,a:1}),t.a=oc(t.a)),t}function jCt(e){return e.charAt(0)==="r"?FCt(e):ICt(e)}class Ey{constructor(t){if(t instanceof Ey)return t;const r=typeof t;let n;r==="object"?n=VP(t):r==="string"&&(n=SCt(t)||NCt(t)||jCt(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=$_(this._rgb);return t&&(t.a=Qu(t.a)),t}set rgb(t){this._rgb=VP(t)}rgbString(){return this._valid?DCt(this._rgb):void 0}hexString(){return this._valid?TCt(this._rgb):void 0}hslString(){return this._valid?BCt(this._rgb):void 0}mix(t,r){if(t){const n=this.rgb,d=t.rgb;let S;const s=r===S?.5:r,g=2*s-1,i=n.a-d.a,o=((g*i===-1?g:(g+i)/(1+g*i))+1)/2;S=1-o,n.r=255&o*n.r+S*d.r+.5,n.g=255&o*n.g+S*d.g+.5,n.b=255&o*n.b+S*d.b+.5,n.a=s*n.a+(1-s)*d.a,this.rgb=n}return this}interpolate(t,r){return t&&(this._rgb=_Ct(this._rgb,t._rgb,r)),this}clone(){return new Ey(this.rgb)}alpha(t){return this._rgb.a=oc(t),this}clearer(t){const r=this._rgb;return r.a*=1-t,this}greyscale(){const t=this._rgb,r=lg(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=r,this}opaquer(t){const r=this._rgb;return r.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return d0(this._rgb,2,t),this}darken(t){return d0(this._rgb,2,-t),this}saturate(t){return d0(this._rgb,1,t),this}desaturate(t){return d0(this._rgb,1,-t),this}rotate(t){return MCt(this._rgb,t),this}}function W_(e){return new Ey(e)}function V_(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function YP(e){return V_(e)?e:W_(e)}function sw(e){return V_(e)?e:W_(e).saturate(.5).darken(.1).hexString()}const Ed=Object.create(null),EC=Object.create(null);function Qv(e,t){if(!t)return e;const r=t.split(".");for(let n=0,d=r.length;n<d;++n){const S=r[n];e=e[S]||(e[S]=Object.create(null))}return e}function aw(e,t,r){return typeof t=="string"?km(Qv(e,t),r):km(Qv(e,""),t)}class zCt{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,n)=>sw(n.backgroundColor),this.hoverBorderColor=(r,n)=>sw(n.borderColor),this.hoverColor=(r,n)=>sw(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,r){return aw(this,t,r)}get(t){return Qv(this,t)}describe(t,r){return aw(EC,t,r)}override(t,r){return aw(Ed,t,r)}route(t,r,n,d){const S=Qv(this,t),s=Qv(this,n),g="_"+r;Object.defineProperties(S,{[g]:{value:S[r],writable:!0},[r]:{enumerable:!0,get(){const i=this[g],o=s[d];return Wr(i)?Object.assign({},o,i):$r(i,o)},set(i){this[g]=i}}})}}var Ur=new zCt({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function UCt(e){return!e||hn(e.size)||hn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ky(e,t,r,n,d){let S=t[d];return S||(S=t[d]=e.measureText(d).width,r.push(d)),S>n&&(n=S),n}function GCt(e,t,r,n){n=n||{};let d=n.data=n.data||{},S=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(d=n.data={},S=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let s=0;const g=r.length;let i,o,m,c,l;for(i=0;i<g;i++)if(c=r[i],c!=null&&es(c)!==!0)s=ky(e,d,S,s,c);else if(es(c))for(o=0,m=c.length;o<m;o++)l=c[o],l!=null&&!es(l)&&(s=ky(e,d,S,s,l));e.restore();const h=S.length/2;if(h>r.length){for(i=0;i<h;i++)delete d[S[i]];S.splice(0,h)}return s}function Uc(e,t,r){const n=e.currentDevicePixelRatio,d=r!==0?Math.max(r/2,.5):0;return Math.round((t-d)*n)/n+d}function XP(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function kC(e,t,r,n){HCt(e,t,r,n)}function HCt(e,t,r,n,d){let S,s,g,i,o,m;const c=t.pointStyle,l=t.rotation,h=t.radius;let a=(l||0)*lCt;if(c&&typeof c=="object"&&(S=c.toString(),S==="[object HTMLImageElement]"||S==="[object HTMLCanvasElement]")){e.save(),e.translate(r,n),e.rotate(a),e.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),e.restore();return}if(!(isNaN(h)||h<=0)){switch(e.beginPath(),c){default:e.arc(r,n,h,0,Pn),e.closePath();break;case"triangle":e.moveTo(r+Math.sin(a)*h,n-Math.cos(a)*h),a+=FP,e.lineTo(r+Math.sin(a)*h,n-Math.cos(a)*h),a+=FP,e.lineTo(r+Math.sin(a)*h,n-Math.cos(a)*h),e.closePath();break;case"rectRounded":o=h*.516,i=h-o,s=Math.cos(a+av)*i,g=Math.sin(a+av)*i,e.arc(r-s,n-g,o,a-hs,a-us),e.arc(r+g,n-s,o,a-us,a),e.arc(r+s,n+g,o,a,a+us),e.arc(r-g,n+s,o,a+us,a+hs),e.closePath();break;case"rect":if(!l){i=Math.SQRT1_2*h,m=i,e.rect(r-m,n-i,2*m,2*i);break}a+=av;case"rectRot":s=Math.cos(a)*h,g=Math.sin(a)*h,e.moveTo(r-s,n-g),e.lineTo(r+g,n-s),e.lineTo(r+s,n+g),e.lineTo(r-g,n+s),e.closePath();break;case"crossRot":a+=av;case"cross":s=Math.cos(a)*h,g=Math.sin(a)*h,e.moveTo(r-s,n-g),e.lineTo(r+s,n+g),e.moveTo(r+g,n-s),e.lineTo(r-g,n+s);break;case"star":s=Math.cos(a)*h,g=Math.sin(a)*h,e.moveTo(r-s,n-g),e.lineTo(r+s,n+g),e.moveTo(r+g,n-s),e.lineTo(r-g,n+s),a+=av,s=Math.cos(a)*h,g=Math.sin(a)*h,e.moveTo(r-s,n-g),e.lineTo(r+s,n+g),e.moveTo(r+g,n-s),e.lineTo(r-g,n+s);break;case"line":s=Math.cos(a)*h,g=Math.sin(a)*h,e.moveTo(r-s,n-g),e.lineTo(r+s,n+g);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(a)*h,n+Math.sin(a)*h);break}e.fill(),t.borderWidth>0&&e.stroke()}}function Am(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function Y_(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function X_(e){e.restore()}function $Ct(e,t,r,n,d){if(!t)return e.lineTo(r.x,r.y);if(d==="middle"){const S=(t.x+r.x)/2;e.lineTo(S,t.y),e.lineTo(S,r.y)}else d==="after"!=!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function WCt(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Py(e,t,r,n,d,S={}){const s=es(t)?t:[t],g=S.strokeWidth>0&&S.strokeColor!=="";let i,o;for(e.save(),e.font=d.string,VCt(e,S),i=0;i<s.length;++i)o=s[i],g&&(S.strokeColor&&(e.strokeStyle=S.strokeColor),hn(S.strokeWidth)||(e.lineWidth=S.strokeWidth),e.strokeText(o,r,n,S.maxWidth)),e.fillText(o,r,n,S.maxWidth),YCt(e,r,n,o,S),n+=d.lineHeight;e.restore()}function VCt(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),hn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function YCt(e,t,r,n,d){if(d.strikethrough||d.underline){const S=e.measureText(n),s=t-S.actualBoundingBoxLeft,g=t+S.actualBoundingBoxRight,i=r-S.actualBoundingBoxAscent,o=r+S.actualBoundingBoxDescent,m=d.strikethrough?(i+o)/2:o;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=d.decorationWidth||2,e.moveTo(s,m),e.lineTo(g,m),e.stroke()}}function Ay(e,t){const{x:r,y:n,w:d,h:S,radius:s}=t;e.arc(r+s.topLeft,n+s.topLeft,s.topLeft,-us,hs,!0),e.lineTo(r,n+S-s.bottomLeft),e.arc(r+s.bottomLeft,n+S-s.bottomLeft,s.bottomLeft,hs,us,!0),e.lineTo(r+d-s.bottomRight,n+S),e.arc(r+d-s.bottomRight,n+S-s.bottomRight,s.bottomRight,us,0,!0),e.lineTo(r+d,n+s.topRight),e.arc(r+d-s.topRight,n+s.topRight,s.topRight,0,-us,!0),e.lineTo(r+s.topLeft,n)}const XCt=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),QCt=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function KCt(e,t){const r=(""+e).match(XCt);if(!r||r[1]==="normal")return t*1.2;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100;break}return t*e}const JCt=e=>+e||0;function q5(e,t){const r={},n=Wr(t),d=n?Object.keys(t):t,S=Wr(e)?n?s=>$r(e[s],e[t[s]]):s=>e[s]:()=>e;for(const s of d)r[s]=JCt(S(s));return r}function Q_(e){return q5(e,{top:"y",right:"x",bottom:"y",left:"x"})}function If(e){return q5(e,["topLeft","topRight","bottomLeft","bottomRight"])}function qo(e){const t=Q_(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Co(e,t){e=e||{},t=t||Ur.font;let r=$r(e.size,t.size);typeof r=="string"&&(r=parseInt(r,10));let n=$r(e.style,t.style);n&&!(""+n).match(QCt)&&(console.warn('Invalid font style specified: "'+n+'"'),n="");const d={family:$r(e.family,t.family),lineHeight:KCt($r(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:$r(e.weight,t.weight),string:""};return d.string=UCt(d),d}function f0(e,t,r,n){let d,S,s;for(d=0,S=e.length;d<S;++d)if(s=e[d],s!==void 0&&s!==void 0)return s}function ZCt(e,t,r){const{min:n,max:d}=e,S=B_(t,(d-n)/2),s=(g,i)=>r&&g===0?0:g+i;return{min:s(n,-Math.abs(S)),max:s(d,S)}}function Pc(e,t){return Object.assign(Object.create(e),t)}function t4(e,t=[""],r=e,n,d=()=>e[0]){Zo(n)||(n=q_("_fallback",e));const S={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:d,override:s=>t4([s,...e],t,r,n)};return new Proxy(S,{deleteProperty(s,g){return delete s[g],delete s._keys,delete e[0][g],!0},get(s,g){return J_(s,g,()=>a3t(g,t,e,s))},getOwnPropertyDescriptor(s,g){return Reflect.getOwnPropertyDescriptor(s._scopes[0],g)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(s,g){return KP(s).includes(g)},ownKeys(s){return KP(s)},set(s,g,i){const o=s._storage||(s._storage=d());return s[g]=o[g]=i,delete s._keys,!0}})}function Kf(e,t,r,n){const d={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:K_(e,n),setContext:S=>Kf(e,S,r,n),override:S=>Kf(e.override(S),t,r,n)};return new Proxy(d,{deleteProperty(S,s){return delete S[s],delete e[s],!0},get(S,s,g){return J_(S,s,()=>t3t(S,s,g))},getOwnPropertyDescriptor(S,s){return S._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(S,s){return Reflect.has(e,s)},ownKeys(){return Reflect.ownKeys(e)},set(S,s,g){return e[s]=g,delete S[s],!0}})}function K_(e,t={scriptable:!0,indexable:!0}){const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:d=t.allKeys}=e;return{allKeys:d,scriptable:r,indexable:n,isScriptable:xc(r)?r:()=>r,isIndexable:xc(n)?n:()=>n}}const qCt=(e,t)=>e?e+Y5(t):t,e4=(e,t)=>Wr(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function J_(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const n=r();return e[t]=n,n}function t3t(e,t,r){const{_proxy:n,_context:d,_subProxy:S,_descriptors:s}=e;let g=n[t];return xc(g)&&s.isScriptable(t)&&(g=e3t(t,g,e,r)),es(g)&&g.length&&(g=i3t(t,g,e,s.isIndexable)),e4(t,g)&&(g=Kf(g,d,S&&S[t],s)),g}function e3t(e,t,r,n){const{_proxy:d,_context:S,_subProxy:s,_stack:g}=r;if(g.has(e))throw new Error("Recursion detected: "+Array.from(g).join("->")+"->"+e);return g.add(e),t=t(S,s||n),g.delete(e),e4(e,t)&&(t=i4(d._scopes,d,e,t)),t}function i3t(e,t,r,n){const{_proxy:d,_context:S,_subProxy:s,_descriptors:g}=r;if(Zo(S.index)&&n(e))t=t[S.index%t.length];else if(Wr(t[0])){const i=t,o=d._scopes.filter(m=>m!==i);t=[];for(const m of i){const c=i4(o,d,e,m);t.push(Kf(c,S,s&&s[e],g))}}return t}function Z_(e,t,r){return xc(e)?e(t,r):e}const r3t=(e,t)=>e===!0?t:typeof e=="string"?yc(t,e):void 0;function n3t(e,t,r,n,d){for(const S of t){const s=r3t(r,S);if(s){e.add(s);const g=Z_(s._fallback,r,d);if(Zo(g)&&g!==r&&g!==n)return g}else if(s===!1&&Zo(n)&&r!==n)return null}return!1}function i4(e,t,r,n){const d=t._rootScopes,S=Z_(t._fallback,r,n),s=[...e,...d],g=new Set;g.add(n);let i=QP(g,s,r,S||r,n);return i===null||Zo(S)&&S!==r&&(i=QP(g,s,S,i,n),i===null)?!1:t4(Array.from(g),[""],d,S,()=>s3t(t,r,n))}function QP(e,t,r,n,d){for(;r;)r=n3t(e,t,r,n,d);return r}function s3t(e,t,r){const n=e._getTarget();t in n||(n[t]={});const d=n[t];return es(d)&&Wr(r)?r:d}function a3t(e,t,r,n){let d;for(const S of t)if(d=q_(qCt(S,e),r),Zo(d))return e4(e,d)?i4(r,n,e,d):d}function q_(e,t){for(const r of t){if(!r)continue;const n=r[e];if(Zo(n))return n}}function KP(e){let t=e._keys;return t||(t=e._keys=o3t(e._scopes)),t}function o3t(e){const t=new Set;for(const r of e)for(const n of Object.keys(r).filter(d=>!d.startsWith("_")))t.add(n);return Array.from(t)}function tj(e,t,r,n){const{iScale:d}=e,{key:S="r"}=this._parsing,s=new Array(n);let g,i,o,m;for(g=0,i=n;g<i;++g)o=g+r,m=t[o],s[g]={r:d.parse(yc(m,S),o)};return s}const l3t=Number.EPSILON||1e-14,Jf=(e,t)=>t<e.length&&!e[t].skip&&e[t],ej=e=>e==="x"?"y":"x";function u3t(e,t,r,n){const d=e.skip?t:e,S=t,s=r.skip?t:r,g=TC(S,d),i=TC(s,S);let o=g/(g+i),m=i/(g+i);o=isNaN(o)?0:o,m=isNaN(m)?0:m;const c=n*o,l=n*m;return{previous:{x:S.x-c*(s.x-d.x),y:S.y-c*(s.y-d.y)},next:{x:S.x+l*(s.x-d.x),y:S.y+l*(s.y-d.y)}}}function h3t(e,t,r){const n=e.length;let d,S,s,g,i,o=Jf(e,0);for(let m=0;m<n-1;++m)if(i=o,o=Jf(e,m+1),!(!i||!o)){if(Yv(t[m],0,l3t)){r[m]=r[m+1]=0;continue}d=r[m]/t[m],S=r[m+1]/t[m],g=Math.pow(d,2)+Math.pow(S,2),!(g<=9)&&(s=3/Math.sqrt(g),r[m]=d*s*t[m],r[m+1]=S*s*t[m])}}function c3t(e,t,r="x"){const n=ej(r),d=e.length;let S,s,g,i=Jf(e,0);for(let o=0;o<d;++o){if(s=g,g=i,i=Jf(e,o+1),!g)continue;const m=g[r],c=g[n];s&&(S=(m-s[r])/3,g[`cp1${r}`]=m-S,g[`cp1${n}`]=c-S*t[o]),i&&(S=(i[r]-m)/3,g[`cp2${r}`]=m+S,g[`cp2${n}`]=c+S*t[o])}}function d3t(e,t="x"){const r=ej(t),n=e.length,d=Array(n).fill(0),S=Array(n);let s,g,i,o=Jf(e,0);for(s=0;s<n;++s)if(g=i,i=o,o=Jf(e,s+1),!!i){if(o){const m=o[t]-i[t];d[s]=m!==0?(o[r]-i[r])/m:0}S[s]=g?o?wu(d[s-1])!==wu(d[s])?0:(d[s-1]+d[s])/2:d[s-1]:d[s]}h3t(e,d,S),c3t(e,S,t)}function p0(e,t,r){return Math.max(Math.min(e,r),t)}function f3t(e,t){let r,n,d,S,s,g=Am(e[0],t);for(r=0,n=e.length;r<n;++r)s=S,S=g,g=r<n-1&&Am(e[r+1],t),S&&(d=e[r],s&&(d.cp1x=p0(d.cp1x,t.left,t.right),d.cp1y=p0(d.cp1y,t.top,t.bottom)),g&&(d.cp2x=p0(d.cp2x,t.left,t.right),d.cp2y=p0(d.cp2y,t.top,t.bottom)))}function p3t(e,t,r,n,d){let S,s,g,i;if(t.spanGaps&&(e=e.filter(o=>!o.skip)),t.cubicInterpolationMode==="monotone")d3t(e,d);else{let o=n?e[e.length-1]:e[0];for(S=0,s=e.length;S<s;++S)g=e[S],i=u3t(o,g,e[Math.min(S+1,s-(n?0:1))%s],t.tension),g.cp1x=i.previous.x,g.cp1y=i.previous.y,g.cp2x=i.next.x,g.cp2y=i.next.y,o=g}t.capBezierPoints&&f3t(e,r)}function ij(){return typeof window!="undefined"&&typeof document!="undefined"}function r4(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ry(e,t,r){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=e,n}const Yx=e=>window.getComputedStyle(e,null);function v3t(e,t){return Yx(e).getPropertyValue(t)}const m3t=["top","right","bottom","left"];function yd(e,t,r){const n={};r=r?"-"+r:"";for(let d=0;d<4;d++){const S=m3t[d];n[S]=parseFloat(e[t+"-"+S+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const g3t=(e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot);function y3t(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:d,offsetY:S}=n;let s=!1,g,i;if(g3t(d,S,e.target))g=d,i=S;else{const o=t.getBoundingClientRect();g=n.clientX-o.left,i=n.clientY-o.top,s=!0}return{x:g,y:i,box:s}}function Wc(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,d=Yx(r),S=d.boxSizing==="border-box",s=yd(d,"padding"),g=yd(d,"border","width"),{x:i,y:o,box:m}=y3t(e,r),c=s.left+(m&&g.left),l=s.top+(m&&g.top);let{width:h,height:a}=t;return S&&(h-=s.width+g.width,a-=s.height+g.height),{x:Math.round((i-c)/h*r.width/n),y:Math.round((o-l)/a*r.height/n)}}function x3t(e,t,r){let n,d;if(t===void 0||r===void 0){const S=r4(e);if(!S)t=e.clientWidth,r=e.clientHeight;else{const s=S.getBoundingClientRect(),g=Yx(S),i=yd(g,"border","width"),o=yd(g,"padding");t=s.width-o.width-i.width,r=s.height-o.height-i.height,n=Ry(g.maxWidth,S,"clientWidth"),d=Ry(g.maxHeight,S,"clientHeight")}}return{width:t,height:r,maxWidth:n||Ty,maxHeight:d||Ty}}const ow=e=>Math.round(e*10)/10;function b3t(e,t,r,n){const d=Yx(e),S=yd(d,"margin"),s=Ry(d.maxWidth,e,"clientWidth")||Ty,g=Ry(d.maxHeight,e,"clientHeight")||Ty,i=x3t(e,t,r);let{width:o,height:m}=i;if(d.boxSizing==="content-box"){const c=yd(d,"border","width"),l=yd(d,"padding");o-=l.width+c.width,m-=l.height+c.height}return o=Math.max(0,o-S.width),m=Math.max(0,n?Math.floor(o/n):m-S.height),o=ow(Math.min(o,s,i.maxWidth)),m=ow(Math.min(m,g,i.maxHeight)),o&&!m&&(m=ow(o/2)),{width:o,height:m}}function JP(e,t,r){const n=t||1,d=Math.floor(e.height*n),S=Math.floor(e.width*n);e.height=d/n,e.width=S/n;const s=e.canvas;return s.style&&(r||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||s.height!==d||s.width!==S?(e.currentDevicePixelRatio=n,s.height=d,s.width=S,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const S3t=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return e}();function ZP(e,t){const r=v3t(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Vc(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function w3t(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:n==="middle"?r<.5?e.y:t.y:n==="after"?r<1?e.y:t.y:r>0?t.y:e.y}}function T3t(e,t,r,n){const d={x:e.cp2x,y:e.cp2y},S={x:t.cp1x,y:t.cp1y},s=Vc(e,d,r),g=Vc(d,S,r),i=Vc(S,t,r),o=Vc(s,g,r),m=Vc(g,i,r);return Vc(o,m,r)}const qP=new Map;function C3t(e,t){t=t||{};const r=e+JSON.stringify(t);let n=qP.get(r);return n||(n=new Intl.NumberFormat(e,t),qP.set(r,n)),n}function ug(e,t,r){return C3t(t,r).format(e)}const E3t=function(e,t){return{x(r){return e+e+t-r},setWidth(r){t=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},k3t=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function lw(e,t,r){return e?E3t(t,r):k3t()}function P3t(e,t){let r,n;(t==="ltr"||t==="rtl")&&(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function A3t(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function rj(e){return e==="angle"?{between:Pm,compare:cCt,normalize:fl}:{between:Cy,compare:(t,r)=>t-r,normalize:t=>t}}function tA({start:e,end:t,count:r,loop:n,style:d}){return{start:e%r,end:t%r,loop:n&&(t-e+1)%r===0,style:d}}function R3t(e,t,r){const{property:n,start:d,end:S}=r,{between:s,normalize:g}=rj(n),i=t.length;let{start:o,end:m,loop:c}=e,l,h;if(c){for(o+=i,m+=i,l=0,h=i;l<h&&s(g(t[o%i][n]),d,S);++l)o--,m--;o%=i,m%=i}return m<o&&(m+=i),{start:o,end:m,loop:c,style:e.style}}function I3t(e,t,r){if(!r)return[e];const{property:n,start:d,end:S}=r,s=t.length,{compare:g,between:i,normalize:o}=rj(n),{start:m,end:c,loop:l,style:h}=R3t(e,t,r),a=[];let f=!1,p=null,u,v,y;const x=()=>i(d,y,u)&&g(d,y)!==0,b=()=>g(S,u)===0||i(S,y,u),w=()=>f||x(),C=()=>!f||b();for(let E=m,T=m;E<=c;++E)v=t[E%s],!v.skip&&(u=o(v[n]),u!==y&&(f=i(u,d,S),p===null&&w()&&(p=g(u,d)===0?E:T),p!==null&&C()&&(a.push(tA({start:p,end:E,loop:l,count:s,style:h})),p=null),T=E,y=u));return p!==null&&a.push(tA({start:p,end:c,loop:l,count:s,style:h})),a}function M3t(e,t){const r=[],n=e.segments;for(let d=0;d<n.length;d++){const S=I3t(n[d],e.points,t);S.length&&r.push(...S)}return r}function B3t(e,t,r,n){let d=0,S=t-1;if(r&&!n)for(;d<t&&!e[d].skip;)d++;for(;d<t&&e[d].skip;)d++;for(d%=t,r&&(S+=d);S>d&&e[S%t].skip;)S--;return S%=t,{start:d,end:S}}function O3t(e,t,r,n){const d=e.length,S=[];let s=t,g=e[t],i;for(i=t+1;i<=r;++i){const o=e[i%d];o.skip||o.stop?g.skip||(n=!1,S.push({start:t%d,end:(i-1)%d,loop:n}),t=s=o.stop?i:null):(s=i,g.skip&&(t=i)),g=o}return s!==null&&S.push({start:t%d,end:s%d,loop:n}),S}function N3t(e,t){const r=e.points,n=e.options.spanGaps,d=r.length;if(!d)return[];const S=!!e._loop,{start:s,end:g}=B3t(r,d,S,n);if(n===!0)return eA(e,[{start:s,end:g,loop:S}],r,t);const i=g<s?g+d:g,o=!!e._fullLoop&&s===0&&g===d-1;return eA(e,O3t(r,s,i,o),r,t)}function eA(e,t,r,n){return!n||!n.setContext||!r?t:L3t(e,t,r,n)}function L3t(e,t,r,n){const d=e._chart.getContext(),S=iA(e.options),{_datasetIndex:s,options:{spanGaps:g}}=e,i=r.length,o=[];let m=S,c=t[0].start,l=c;function h(a,f,p,u){const v=g?-1:1;if(a!==f){for(a+=i;r[a%i].skip;)a-=v;for(;r[f%i].skip;)f+=v;a%i!==f%i&&(o.push({start:a%i,end:f%i,loop:p,style:u}),m=u,c=f%i)}}for(const a of t){c=g?c:a.start;let f=r[c%i],p;for(l=c+1;l<=a.end;l++){const u=r[l%i];p=iA(n.setContext(Pc(d,{type:"segment",p0:f,p1:u,p0DataIndex:(l-1)%i,p1DataIndex:l%i,datasetIndex:s}))),F3t(p,m)&&h(c,l-1,a.loop,m),f=u,m=p}c<l-1&&h(c,l-1,a.loop,m)}return o}function iA(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function F3t(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}class D3t{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,r,n,d){const S=r.listeners[d],s=r.duration;S.forEach(g=>g({chart:t,initial:r.initial,numSteps:s,currentStep:Math.min(n-r.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=__.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let r=0;this._charts.forEach((n,d)=>{if(!n.running||!n.items.length)return;const S=n.items;let s=S.length-1,g=!1,i;for(;s>=0;--s)i=S[s],i._active?(i._total>n.duration&&(n.duration=i._total),i.tick(t),g=!0):(S[s]=S[S.length-1],S.pop());g&&(d.draw(),this._notify(d,n,t,"progress")),S.length||(n.running=!1,this._notify(d,n,t,"complete"),n.initial=!1),r+=S.length}),this._lastDate=t,r===0&&(this._running=!1)}_getAnims(t){const r=this._charts;let n=r.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(t,n)),n}listen(t,r,n){this._getAnims(t).listeners[r].push(n)}add(t,r){!r||!r.length||this._getAnims(t).items.push(...r)}has(t){return this._getAnims(t).items.length>0}start(t){const r=this._charts.get(t);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,d)=>Math.max(n,d._duration),0),this._refresh())}running(t){if(!this._running)return!1;const r=this._charts.get(t);return!(!r||!r.running||!r.items.length)}stop(t){const r=this._charts.get(t);if(!r||!r.items.length)return;const n=r.items;let d=n.length-1;for(;d>=0;--d)n[d].cancel();r.items=[],this._notify(t,r,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var $u=new D3t;const rA="transparent",_3t={boolean(e,t,r){return r>.5?t:e},color(e,t,r){const n=YP(e||rA),d=n.valid&&YP(t||rA);return d&&d.valid?d.mix(n,r).hexString():t},number(e,t,r){return e+(t-e)*r}};class j3t{constructor(t,r,n,d){const S=r[n];d=f0([t.to,d,S,t.from]);const s=f0([t.from,S,d]);this._active=!0,this._fn=t.fn||_3t[t.type||typeof s],this._easing=Xv[t.easing]||Xv.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=r,this._prop=n,this._from=s,this._to=d,this._promises=void 0}active(){return this._active}update(t,r,n){if(this._active){this._notify(!1);const d=this._target[this._prop],S=n-this._start,s=this._duration-S;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=S,this._loop=!!t.loop,this._to=f0([t.to,r,d,t.from]),this._from=f0([t.from,d,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const r=t-this._start,n=this._duration,d=this._prop,S=this._from,s=this._loop,g=this._to;let i;if(this._active=S!==g&&(s||r<n),!this._active){this._target[d]=g,this._notify(!0);return}if(r<0){this._target[d]=S;return}i=r/n%2,i=s&&i>1?2-i:i,i=this._easing(Math.min(1,Math.max(0,i))),this._target[d]=this._fn(S,g,i)}wait(){const t=this._promises||(this._promises=[]);return new Promise((r,n)=>{t.push({res:r,rej:n})})}_notify(t){const r=t?"res":"rej",n=this._promises||[];for(let d=0;d<n.length;d++)n[d][r]()}}const z3t=["x","y","borderWidth","radius","tension"],U3t=["color","borderColor","backgroundColor"];Ur.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const G3t=Object.keys(Ur.animation);Ur.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"});Ur.set("animations",{colors:{type:"color",properties:U3t},numbers:{type:"number",properties:z3t}});Ur.describe("animations",{_fallback:"animation"});Ur.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}});class nj{constructor(t,r){this._chart=t,this._properties=new Map,this.configure(r)}configure(t){if(!Wr(t))return;const r=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const d=t[n];if(!Wr(d))return;const S={};for(const s of G3t)S[s]=d[s];(es(d.properties)&&d.properties||[n]).forEach(s=>{(s===n||!r.has(s))&&r.set(s,S)})})}_animateOptions(t,r){const n=r.options,d=$3t(t,n);if(!d)return[];const S=this._createAnimations(d,n);return n.$shared&&H3t(t.options.$animations,n).then(()=>{t.options=n},()=>{}),S}_createAnimations(t,r){const n=this._properties,d=[],S=t.$animations||(t.$animations={}),s=Object.keys(r),g=Date.now();let i;for(i=s.length-1;i>=0;--i){const o=s[i];if(o.charAt(0)==="$")continue;if(o==="options"){d.push(...this._animateOptions(t,r));continue}const m=r[o];let c=S[o];const l=n.get(o);if(c)if(l&&c.active()){c.update(l,m,g);continue}else c.cancel();if(!l||!l.duration){t[o]=m;continue}S[o]=c=new j3t(l,t,o,m),d.push(c)}return d}update(t,r){if(this._properties.size===0){Object.assign(t,r);return}const n=this._createAnimations(t,r);if(n.length)return $u.add(this._chart,n),!0}}function H3t(e,t){const r=[],n=Object.keys(t);for(let d=0;d<n.length;d++){const S=e[n[d]];S&&S.active()&&r.push(S.wait())}return Promise.all(r)}function $3t(e,t){if(!t)return;let r=e.options;if(!r){e.options=t;return}return r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function nA(e,t){const r=e&&e.options||{},n=r.reverse,d=r.min===void 0?t:0,S=r.max===void 0?t:0;return{start:n?S:d,end:n?d:S}}function W3t(e,t,r){if(r===!1)return!1;const n=nA(e,r),d=nA(t,r);return{top:d.end,right:n.end,bottom:d.start,left:n.start}}function V3t(e){let t,r,n,d;return Wr(e)?(t=e.top,r=e.right,n=e.bottom,d=e.left):t=r=n=d=e,{top:t,right:r,bottom:n,left:d,disabled:e===!1}}function sj(e,t){const r=[],n=e._getSortedDatasetMetas(t);let d,S;for(d=0,S=n.length;d<S;++d)r.push(n[d].index);return r}function sA(e,t,r,n={}){const d=e.keys,S=n.mode==="single";let s,g,i,o;if(t!==null){for(s=0,g=d.length;s<g;++s){if(i=+d[s],i===r){if(n.all)continue;break}o=e.values[i],ra(o)&&(S||t===0||wu(t)===wu(o))&&(t+=o)}return t}}function Y3t(e){const t=Object.keys(e),r=new Array(t.length);let n,d,S;for(n=0,d=t.length;n<d;++n)S=t[n],r[n]={x:S,y:e[S]};return r}function aA(e,t){const r=e&&e.options.stacked;return r||r===void 0&&t.stack!==void 0}function X3t(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}function Q3t(e){const{min:t,max:r,minDefined:n,maxDefined:d}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:d?r:Number.POSITIVE_INFINITY}}function K3t(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function oA(e,t,r,n){for(const d of t.getMatchingVisibleMetas(n).reverse()){const S=e[d.index];if(r&&S>0||!r&&S<0)return d.index}return null}function lA(e,t){const{chart:r,_cachedMeta:n}=e,d=r._stacks||(r._stacks={}),{iScale:S,vScale:s,index:g}=n,i=S.axis,o=s.axis,m=X3t(S,s,n),c=t.length;let l;for(let h=0;h<c;++h){const a=t[h],{[i]:f,[o]:p}=a,u=a._stacks||(a._stacks={});l=u[o]=K3t(d,m,f),l[g]=p,l._top=oA(l,s,!0,n.type),l._bottom=oA(l,s,!1,n.type)}}function uw(e,t){const r=e.scales;return Object.keys(r).filter(n=>r[n].axis===t).shift()}function J3t(e,t){return Pc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Z3t(e,t,r){return Pc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}function ov(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const d of t){const S=d._stacks;if(!S||S[n]===void 0||S[n][r]===void 0)return;delete S[n][r]}}}const hw=e=>e==="reset"||e==="none",uA=(e,t)=>t?e:Object.assign({},e),q3t=(e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:sj(r,!0),values:null};class Yl{constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=aA(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&ov(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,r=this._cachedMeta,n=this.getDataset(),d=(c,l,h,a)=>c==="x"?l:c==="r"?a:h,S=r.xAxisID=$r(n.xAxisID,uw(t,"x")),s=r.yAxisID=$r(n.yAxisID,uw(t,"y")),g=r.rAxisID=$r(n.rAxisID,uw(t,"r")),i=r.indexAxis,o=r.iAxisID=d(i,S,s,g),m=r.vAxisID=d(i,s,S,g);r.xScale=this.getScaleForId(S),r.yScale=this.getScaleForId(s),r.rScale=this.getScaleForId(g),r.iScale=this.getScaleForId(o),r.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&jP(this._data,this),t._stacked&&ov(t)}_dataCheck(){const t=this.getDataset(),r=t.data||(t.data=[]),n=this._data;if(Wr(r))this._data=Y3t(r);else if(n!==r){if(n){jP(n,this);const d=this._cachedMeta;ov(d),d._parsed=[]}r&&Object.isExtensible(r)&&vCt(r,this),this._syncList=[],this._data=r}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const r=this._cachedMeta,n=this.getDataset();let d=!1;this._dataCheck();const S=r._stacked;r._stacked=aA(r.vScale,r),r.stack!==n.stack&&(d=!0,ov(r),r.stack=n.stack),this._resyncElements(t),(d||S!==r._stacked)&&lA(this,r._parsed)}configure(){const t=this.chart.config,r=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){const{_cachedMeta:n,_data:d}=this,{iScale:S,_stacked:s}=n,g=S.axis;let i=t===0&&r===d.length?!0:n._sorted,o=t>0&&n._parsed[t-1],m,c,l;if(this._parsing===!1)n._parsed=d,n._sorted=!0,l=d;else{es(d[t])?l=this.parseArrayData(n,d,t,r):Wr(d[t])?l=this.parseObjectData(n,d,t,r):l=this.parsePrimitiveData(n,d,t,r);const h=()=>c[g]===null||o&&c[g]<o[g];for(m=0;m<r;++m)n._parsed[m+t]=c=l[m],i&&(h()&&(i=!1),o=c);n._sorted=i}s&&lA(this,l)}parsePrimitiveData(t,r,n,d){const{iScale:S,vScale:s}=t,g=S.axis,i=s.axis,o=S.getLabels(),m=S===s,c=new Array(d);let l,h,a;for(l=0,h=d;l<h;++l)a=l+n,c[l]={[g]:m||S.parse(o[a],a),[i]:s.parse(r[a],a)};return c}parseArrayData(t,r,n,d){const{xScale:S,yScale:s}=t,g=new Array(d);let i,o,m,c;for(i=0,o=d;i<o;++i)m=i+n,c=r[m],g[i]={x:S.parse(c[0],m),y:s.parse(c[1],m)};return g}parseObjectData(t,r,n,d){const{xScale:S,yScale:s}=t,{xAxisKey:g="x",yAxisKey:i="y"}=this._parsing,o=new Array(d);let m,c,l,h;for(m=0,c=d;m<c;++m)l=m+n,h=r[l],o[m]={x:S.parse(yc(h,g),l),y:s.parse(yc(h,i),l)};return o}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,n){const d=this.chart,S=this._cachedMeta,s=r[t.axis],g={keys:sj(d,!0),values:r._stacks[t.axis]};return sA(g,s,S.index,{mode:n})}updateRangeFromParsed(t,r,n,d){const S=n[r.axis];let s=S===null?NaN:S;const g=d&&n._stacks[r.axis];d&&g&&(d.values=g,s=sA(d,S,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,r){const n=this._cachedMeta,d=n._parsed,S=n._sorted&&t===n.iScale,s=d.length,g=this._getOtherScale(t),i=q3t(r,n,this.chart),o={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:c}=Q3t(g);let l,h;function a(){h=d[l];const f=h[g.axis];return!ra(h[t.axis])||m>f||c<f}for(l=0;l<s&&!(!a()&&(this.updateRangeFromParsed(o,t,h,i),S));++l);if(S){for(l=s-1;l>=0;--l)if(!a()){this.updateRangeFromParsed(o,t,h,i);break}}return o}getAllParsedValues(t){const r=this._cachedMeta._parsed,n=[];let d,S,s;for(d=0,S=r.length;d<S;++d)s=r[d][t.axis],ra(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const r=this._cachedMeta,n=r.iScale,d=r.vScale,S=this.getParsed(t);return{label:n?""+n.getLabelForValue(S[n.axis]):"",value:d?""+d.getLabelForValue(S[d.axis]):""}}_update(t){const r=this._cachedMeta;this.update(t||"default"),r._clip=V3t($r(this.options.clip,W3t(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this.chart,n=this._cachedMeta,d=n.data||[],S=r.chartArea,s=[],g=this._drawStart||0,i=this._drawCount||d.length-g,o=this.options.drawActiveElementsOnTop;let m;for(n.dataset&&n.dataset.draw(t,S,g,i),m=g;m<g+i;++m){const c=d[m];c.hidden||(c.active&&o?s.push(c):c.draw(t,S))}for(m=0;m<s.length;++m)s[m].draw(t,S)}getStyle(t,r){const n=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,r,n){const d=this.getDataset();let S;if(t>=0&&t<this._cachedMeta.data.length){const s=this._cachedMeta.data[t];S=s.$context||(s.$context=Z3t(this.getContext(),t,s)),S.parsed=this.getParsed(t),S.raw=d.data[t],S.index=S.dataIndex=t}else S=this.$context||(this.$context=J3t(this.chart.getContext(),this.index)),S.dataset=d,S.index=S.datasetIndex=this.index;return S.active=!!r,S.mode=n,S}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",n){const d=r==="active",S=this._cachedDataOpts,s=t+"-"+r,g=S[s],i=this.enableOptionSharing&&Zo(n);if(g)return uA(g,i);const o=this.chart.config,m=o.datasetElementScopeKeys(this._type,t),c=d?[`${t}Hover`,"hover",t,""]:[t,""],l=o.getOptionScopes(this.getDataset(),m),h=Object.keys(Ur.elements[t]),a=()=>this.getContext(n,d),f=o.resolveNamedOptions(l,h,a,c);return f.$shared&&(f.$shared=i,S[s]=Object.freeze(uA(f,i))),f}_resolveAnimations(t,r,n){const d=this.chart,S=this._cachedDataOpts,s=`animation-${r}`,g=S[s];if(g)return g;let i;if(d.options.animation!==!1){const m=this.chart.config,c=m.datasetAnimationScopeKeys(this._type,r),l=m.getOptionScopes(this.getDataset(),c);i=m.createResolver(l,this.getContext(t,n,r))}const o=new nj(d,i&&i.animations);return i&&i._cacheable&&(S[s]=Object.freeze(o)),o}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||hw(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){const n=this.resolveDataElementOptions(t,r),d=this._sharedOptions,S=this.getSharedOptions(n),s=this.includeOptions(r,S)||S!==d;return this.updateSharedOptions(S,r,n),{sharedOptions:S,includeOptions:s}}updateElement(t,r,n,d){hw(d)?Object.assign(t,n):this._resolveAnimations(r,d).update(t,n)}updateSharedOptions(t,r,n){t&&!hw(r)&&this._resolveAnimations(void 0,r).update(t,n)}_setStyle(t,r,n,d){t.active=d;const S=this.getStyle(r,d);this._resolveAnimations(r,n,d).update(t,{options:!d&&this.getSharedOptions(S)||S})}removeHoverStyle(t,r,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,r,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const r=this._data,n=this._cachedMeta.data;for(const[g,i,o]of this._syncList)this[g](i,o);this._syncList=[];const d=n.length,S=r.length,s=Math.min(S,d);s&&this.parse(0,s),S>d?this._insertElements(d,S-d,t):S<d&&this._removeElements(S,d-S)}_insertElements(t,r,n=!0){const d=this._cachedMeta,S=d.data,s=t+r;let g;const i=o=>{for(o.length+=r,g=o.length-1;g>=s;g--)o[g]=o[g-r]};for(i(S),g=t;g<s;++g)S[g]=new this.dataElementType;this._parsing&&i(d._parsed),this.parse(t,r),n&&this.updateElements(S,t,r,"reset")}updateElements(t,r,n,d){}_removeElements(t,r){const n=this._cachedMeta;if(this._parsing){const d=n._parsed.splice(t,r);n._stacked&&ov(n,d)}n.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[r,n,d]=t;this[r](n,d)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Yl.defaults={};Yl.prototype.datasetElementType=null;Yl.prototype.dataElementType=null;function tEt(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let d=0,S=r.length;d<S;d++)n=n.concat(r[d].controller.getAllParsedValues(e));e._cache.$bar=D_(n.sort((d,S)=>d-S))}return e._cache.$bar}function eEt(e){const t=e.iScale,r=tEt(t,e.type);let n=t._length,d,S,s,g;const i=()=>{s===32767||s===-32768||(Zo(g)&&(n=Math.min(n,Math.abs(s-g)||n)),g=s)};for(d=0,S=r.length;d<S;++d)s=t.getPixelForValue(r[d]),i();for(g=void 0,d=0,S=t.ticks.length;d<S;++d)s=t.getPixelForTick(d),i();return n}function iEt(e,t,r,n){const d=r.barThickness;let S,s;return hn(d)?(S=t.min*r.categoryPercentage,s=r.barPercentage):(S=d*n,s=1),{chunk:S/n,ratio:s,start:t.pixels[e]-S/2}}function rEt(e,t,r,n){const d=t.pixels,S=d[e];let s=e>0?d[e-1]:null,g=e<d.length-1?d[e+1]:null;const i=r.categoryPercentage;s===null&&(s=S-(g===null?t.end-t.start:g-S)),g===null&&(g=S+S-s);const o=S-(S-Math.min(s,g))/2*i;return{chunk:Math.abs(g-s)/2*i/n,ratio:r.barPercentage,start:o}}function nEt(e,t,r,n){const d=r.parse(e[0],n),S=r.parse(e[1],n),s=Math.min(d,S),g=Math.max(d,S);let i=s,o=g;Math.abs(s)>Math.abs(g)&&(i=g,o=s),t[r.axis]=o,t._custom={barStart:i,barEnd:o,start:d,end:S,min:s,max:g}}function aj(e,t,r,n){return es(e)?nEt(e,t,r,n):t[r.axis]=r.parse(e,n),t}function hA(e,t,r,n){const d=e.iScale,S=e.vScale,s=d.getLabels(),g=d===S,i=[];let o,m,c,l;for(o=r,m=r+n;o<m;++o)l=t[o],c={},c[d.axis]=g||d.parse(s[o],o),i.push(aj(l,c,S,o));return i}function cw(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function sEt(e,t,r){return e!==0?wu(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}function aEt(e){let t,r,n,d,S;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(d="end",S="start"):(d="start",S="end"),{start:r,end:n,reverse:t,top:d,bottom:S}}function oEt(e,t,r,n){let d=t.borderSkipped;const S={};if(!d){e.borderSkipped=S;return}if(d===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:g,reverse:i,top:o,bottom:m}=aEt(e);d==="middle"&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?d=o:(r._bottom||0)===n?d=m:(S[cA(m,s,g,i)]=!0,d=o)),S[cA(d,s,g,i)]=!0,e.borderSkipped=S}function cA(e,t,r,n){return n?(e=lEt(e,t,r),e=dA(e,r,t)):e=dA(e,t,r),e}function lEt(e,t,r){return e===t?r:e===r?t:e}function dA(e,t,r){return e==="start"?t:e==="end"?r:e}function uEt(e,{inflateAmount:t},r){e.inflateAmount=t==="auto"?r===1?.33:0:t}class n4 extends Yl{parsePrimitiveData(t,r,n,d){return hA(t,r,n,d)}parseArrayData(t,r,n,d){return hA(t,r,n,d)}parseObjectData(t,r,n,d){const{iScale:S,vScale:s}=t,{xAxisKey:g="x",yAxisKey:i="y"}=this._parsing,o=S.axis==="x"?g:i,m=s.axis==="x"?g:i,c=[];let l,h,a,f;for(l=n,h=n+d;l<h;++l)f=r[l],a={},a[S.axis]=S.parse(yc(f,o),l),c.push(aj(yc(f,m),a,s,l));return c}updateRangeFromParsed(t,r,n,d){super.updateRangeFromParsed(t,r,n,d);const S=n._custom;S&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,S.min),t.max=Math.max(t.max,S.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const r=this._cachedMeta,{iScale:n,vScale:d}=r,S=this.getParsed(t),s=S._custom,g=cw(s)?"["+s.start+", "+s.end+"]":""+d.getLabelForValue(S[d.axis]);return{label:""+n.getLabelForValue(S[n.axis]),value:g}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,n,d){const S=d==="reset",{index:s,_cachedMeta:{vScale:g}}=this,i=g.getBasePixel(),o=g.isHorizontal(),m=this._getRuler(),{sharedOptions:c,includeOptions:l}=this._getSharedOptions(r,d);for(let h=r;h<r+n;h++){const a=this.getParsed(h),f=S||hn(a[g.axis])?{base:i,head:i}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,m),u=(a._stacks||{})[g.axis],v={horizontal:o,base:f.base,enableBorderRadius:!u||cw(a._custom)||s===u._top||s===u._bottom,x:o?f.head:p.center,y:o?p.center:f.head,height:o?p.size:Math.abs(f.size),width:o?Math.abs(f.size):p.size};l&&(v.options=c||this.resolveDataElementOptions(h,t[h].active?"active":d));const y=v.options||t[h].options;oEt(v,y,u,s),uEt(v,y,m.ratio),this.updateElement(t[h],h,v,d)}}_getStacks(t,r){const{iScale:n}=this._cachedMeta,d=n.getMatchingVisibleMetas(this._type).filter(i=>i.controller.options.grouped),S=n.options.stacked,s=[],g=i=>{const o=i.controller.getParsed(r),m=o&&o[i.vScale.axis];if(hn(m)||isNaN(m))return!0};for(const i of d)if(!(r!==void 0&&g(i))&&((S===!1||s.indexOf(i.stack)===-1||S===void 0&&i.stack===void 0)&&s.push(i.stack),i.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,r,n){const d=this._getStacks(t,n),S=r!==void 0?d.indexOf(r):-1;return S===-1?d.length-1:S}_getRuler(){const t=this.options,r=this._cachedMeta,n=r.iScale,d=[];let S,s;for(S=0,s=r.data.length;S<s;++S)d.push(n.getPixelForValue(this.getParsed(S)[n.axis],S));const g=t.barThickness;return{min:g||eEt(r),pixels:d,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:g?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:r,_stacked:n},options:{base:d,minBarLength:S}}=this,s=d||0,g=this.getParsed(t),i=g._custom,o=cw(i);let m=g[r.axis],c=0,l=n?this.applyStack(r,g,n):m,h,a;l!==m&&(c=l-m,l=m),o&&(m=i.barStart,l=i.barEnd-i.barStart,m!==0&&wu(m)!==wu(i.barEnd)&&(c=0),c+=m);const f=!hn(d)&&!o?d:c;let p=r.getPixelForValue(f);if(this.chart.getDataVisibility(t)?h=r.getPixelForValue(c+l):h=p,a=h-p,Math.abs(a)<S){a=sEt(a,r,s)*S,m===s&&(p-=a/2);const u=r.getPixelForDecimal(0),v=r.getPixelForDecimal(1),y=Math.min(u,v),x=Math.max(u,v);p=Math.max(Math.min(p,x),y),h=p+a}if(p===r.getPixelForValue(s)){const u=wu(a)*r.getLineWidthForValue(s)/2;p+=u,a-=u}return{size:a,base:p,head:h,center:h+a/2}}_calculateBarIndexPixels(t,r){const n=r.scale,d=this.options,S=d.skipNull,s=$r(d.maxBarThickness,1/0);let g,i;if(r.grouped){const o=S?this._getStackCount(t):r.stackCount,m=d.barThickness==="flex"?rEt(t,r,d,o):iEt(t,r,d,o),c=this._getStackIndex(this.index,this._cachedMeta.stack,S?t:void 0);g=m.start+m.chunk*c+m.chunk/2,i=Math.min(s,m.chunk*m.ratio)}else g=n.getPixelForValue(this.getParsed(t)[n.axis],t),i=Math.min(s,r.min*r.ratio);return{base:g-i/2,head:g+i/2,center:g,size:i}}draw(){const t=this._cachedMeta,r=t.vScale,n=t.data,d=n.length;let S=0;for(;S<d;++S)this.getParsed(S)[r.axis]!==null&&n[S].draw(this._ctx)}}n4.id="bar";n4.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};n4.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class s4 extends Yl{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,n,d){const S=super.parsePrimitiveData(t,r,n,d);for(let s=0;s<S.length;s++)S[s]._custom=this.resolveDataElementOptions(s+n).radius;return S}parseArrayData(t,r,n,d){const S=super.parseArrayData(t,r,n,d);for(let s=0;s<S.length;s++){const g=r[n+s];S[s]._custom=$r(g[2],this.resolveDataElementOptions(s+n).radius)}return S}parseObjectData(t,r,n,d){const S=super.parseObjectData(t,r,n,d);for(let s=0;s<S.length;s++){const g=r[n+s];S[s]._custom=$r(g&&g.r&&+g.r,this.resolveDataElementOptions(s+n).radius)}return S}getMaxOverflow(){const t=this._cachedMeta.data;let r=0;for(let n=t.length-1;n>=0;--n)r=Math.max(r,t[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(t){const r=this._cachedMeta,{xScale:n,yScale:d}=r,S=this.getParsed(t),s=n.getLabelForValue(S.x),g=d.getLabelForValue(S.y),i=S._custom;return{label:r.label,value:"("+s+", "+g+(i?", "+i:"")+")"}}update(t){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,n,d){const S=d==="reset",{iScale:s,vScale:g}=this._cachedMeta,{sharedOptions:i,includeOptions:o}=this._getSharedOptions(r,d),m=s.axis,c=g.axis;for(let l=r;l<r+n;l++){const h=t[l],a=!S&&this.getParsed(l),f={},p=f[m]=S?s.getPixelForDecimal(.5):s.getPixelForValue(a[m]),u=f[c]=S?g.getBasePixel():g.getPixelForValue(a[c]);f.skip=isNaN(p)||isNaN(u),o&&(f.options=i||this.resolveDataElementOptions(l,h.active?"active":d),S&&(f.options.radius=0)),this.updateElement(h,l,f,d)}}resolveDataElementOptions(t,r){const n=this.getParsed(t);let d=super.resolveDataElementOptions(t,r);d.$shared&&(d=Object.assign({},d,{$shared:!1}));const S=d.radius;return r!=="active"&&(d.radius=0),d.radius+=$r(n&&n._custom,S),d}}s4.id="bubble";s4.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};s4.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function hEt(e,t,r){let n=1,d=1,S=0,s=0;if(t<Pn){const g=e,i=g+t,o=Math.cos(g),m=Math.sin(g),c=Math.cos(i),l=Math.sin(i),h=(y,x,b)=>Pm(y,g,i,!0)?1:Math.max(x,x*r,b,b*r),a=(y,x,b)=>Pm(y,g,i,!0)?-1:Math.min(x,x*r,b,b*r),f=h(0,o,c),p=h(us,m,l),u=a(hs,o,c),v=a(hs+us,m,l);n=(f-u)/2,d=(p-v)/2,S=-(f+u)/2,s=-(p+v)/2}return{ratioX:n,ratioY:d,offsetX:S,offsetY:s}}class bp extends Yl{constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){const n=this.getDataset().data,d=this._cachedMeta;if(this._parsing===!1)d._parsed=n;else{let S=i=>+n[i];if(Wr(n[t])){const{key:i="value"}=this._parsing;S=o=>+yc(n[o],i)}let s,g;for(s=t,g=t+r;s<g;++s)d._parsed[s]=S(s)}}_getRotation(){return Nl(this.options.rotation-90)}_getCircumference(){return Nl(this.options.circumference)}_getRotationExtents(){let t=Pn,r=-Pn;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const d=this.chart.getDatasetMeta(n).controller,S=d._getRotation(),s=d._getCircumference();t=Math.min(t,S),r=Math.max(r,S+s)}return{rotation:t,circumference:r-t}}update(t){const r=this.chart,{chartArea:n}=r,d=this._cachedMeta,S=d.data,s=this.getMaxBorderWidth()+this.getMaxOffset(S)+this.options.spacing,g=Math.max((Math.min(n.width,n.height)-s)/2,0),i=Math.min(eCt(this.options.cutout,g),1),o=this._getRingWeight(this.index),{circumference:m,rotation:c}=this._getRotationExtents(),{ratioX:l,ratioY:h,offsetX:a,offsetY:f}=hEt(c,m,i),p=(n.width-s)/l,u=(n.height-s)/h,v=Math.max(Math.min(p,u)/2,0),y=B_(this.options.radius,v),x=Math.max(y*i,0),b=(y-x)/this._getVisibleDatasetWeightTotal();this.offsetX=a*y,this.offsetY=f*y,d.total=this.calculateTotal(),this.outerRadius=y-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*o,0),this.updateElements(S,0,S.length,t)}_circumference(t,r){const n=this.options,d=this._cachedMeta,S=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||d._parsed[t]===null||d.data[t].hidden?0:this.calculateCircumference(d._parsed[t]*S/Pn)}updateElements(t,r,n,d){const S=d==="reset",s=this.chart,g=s.chartArea,o=s.options.animation,m=(g.left+g.right)/2,c=(g.top+g.bottom)/2,l=S&&o.animateScale,h=l?0:this.innerRadius,a=l?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(r,d);let u=this._getRotation(),v;for(v=0;v<r;++v)u+=this._circumference(v,S);for(v=r;v<r+n;++v){const y=this._circumference(v,S),x=t[v],b={x:m+this.offsetX,y:c+this.offsetY,startAngle:u,endAngle:u+y,circumference:y,outerRadius:a,innerRadius:h};p&&(b.options=f||this.resolveDataElementOptions(v,x.active?"active":d)),u+=y,this.updateElement(x,v,b,d)}}calculateTotal(){const t=this._cachedMeta,r=t.data;let n=0,d;for(d=0;d<r.length;d++){const S=t._parsed[d];S!==null&&!isNaN(S)&&this.chart.getDataVisibility(d)&&!r[d].hidden&&(n+=Math.abs(S))}return n}calculateCircumference(t){const r=this._cachedMeta.total;return r>0&&!isNaN(t)?Pn*(Math.abs(t)/r):0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,d=n.data.labels||[],S=ug(r._parsed[t],n.options.locale);return{label:d[t]||"",value:S}}getMaxBorderWidth(t){let r=0;const n=this.chart;let d,S,s,g,i;if(!t){for(d=0,S=n.data.datasets.length;d<S;++d)if(n.isDatasetVisible(d)){s=n.getDatasetMeta(d),t=s.data,g=s.controller;break}}if(!t)return 0;for(d=0,S=t.length;d<S;++d)i=g.resolveDataElementOptions(d),i.borderAlign!=="inner"&&(r=Math.max(r,i.borderWidth||0,i.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let n=0,d=t.length;n<d;++n){const S=this.resolveDataElementOptions(n);r=Math.max(r,S.offset||0,S.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(t){return Math.max($r(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}bp.id="doughnut";bp.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};bp.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"};bp.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((n,d)=>{const s=e.getDatasetMeta(0).controller.getStyle(d);return{text:n,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(d),index:d}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label;const r=": "+e.formattedValue;return es(t)?(t=t.slice(),t[0]+=r):t+=r,t}}}}};class a4 extends Yl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const r=this._cachedMeta,{dataset:n,data:d=[],_dataset:S}=r,s=this.chart._animationsDisabled;let{start:g,count:i}=z_(r,d,s);this._drawStart=g,this._drawCount=i,U_(r)&&(g=0,i=d.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!S._decimated,n.points=d;const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0),o.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:o},t),this.updateElements(d,g,i,t)}updateElements(t,r,n,d){const S=d==="reset",{iScale:s,vScale:g,_stacked:i,_dataset:o}=this._cachedMeta,{sharedOptions:m,includeOptions:c}=this._getSharedOptions(r,d),l=s.axis,h=g.axis,{spanGaps:a,segment:f}=this.options,p=Qf(a)?a:Number.POSITIVE_INFINITY,u=this.chart._animationsDisabled||S||d==="none";let v=r>0&&this.getParsed(r-1);for(let y=r;y<r+n;++y){const x=t[y],b=this.getParsed(y),w=u?x:{},C=hn(b[h]),E=w[l]=s.getPixelForValue(b[l],y),T=w[h]=S||C?g.getBasePixel():g.getPixelForValue(i?this.applyStack(g,b,i):b[h],y);w.skip=isNaN(E)||isNaN(T)||C,w.stop=y>0&&Math.abs(b[l]-v[l])>p,f&&(w.parsed=b,w.raw=o.data[y]),c&&(w.options=m||this.resolveDataElementOptions(y,x.active?"active":d)),u||this.updateElement(x,y,w,d),v=b}}getMaxOverflow(){const t=this._cachedMeta,r=t.dataset,n=r.options&&r.options.borderWidth||0,d=t.data||[];if(!d.length)return n;const S=d[0].size(this.resolveDataElementOptions(0)),s=d[d.length-1].size(this.resolveDataElementOptions(d.length-1));return Math.max(n,S,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}a4.id="line";a4.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};a4.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class o4 extends Yl{constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this._cachedMeta,n=this.chart,d=n.data.labels||[],S=ug(r._parsed[t].r,n.options.locale);return{label:d[t]||"",value:S}}parseObjectData(t,r,n,d){return tj.bind(this)(t,r,n,d)}update(t){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){const t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,d)=>{const S=this.getParsed(d).r;!isNaN(S)&&this.chart.getDataVisibility(d)&&(S<r.min&&(r.min=S),S>r.max&&(r.max=S))}),r}_updateRadius(){const t=this.chart,r=t.chartArea,n=t.options,d=Math.min(r.right-r.left,r.bottom-r.top),S=Math.max(d/2,0),s=Math.max(n.cutoutPercentage?S/100*n.cutoutPercentage:1,0),g=(S-s)/t.getVisibleDatasetCount();this.outerRadius=S-g*this.index,this.innerRadius=this.outerRadius-g}updateElements(t,r,n,d){const S=d==="reset",s=this.chart,i=s.options.animation,o=this._cachedMeta.rScale,m=o.xCenter,c=o.yCenter,l=o.getIndexAngle(0)-.5*hs;let h=l,a;const f=360/this.countVisibleElements();for(a=0;a<r;++a)h+=this._computeAngle(a,d,f);for(a=r;a<r+n;a++){const p=t[a];let u=h,v=h+this._computeAngle(a,d,f),y=s.getDataVisibility(a)?o.getDistanceFromCenterForValue(this.getParsed(a).r):0;h=v,S&&(i.animateScale&&(y=0),i.animateRotate&&(u=v=l));const x={x:m,y:c,innerRadius:0,outerRadius:y,startAngle:u,endAngle:v,options:this.resolveDataElementOptions(a,p.active?"active":d)};this.updateElement(p,a,x,d)}}countVisibleElements(){const t=this._cachedMeta;let r=0;return t.data.forEach((n,d)=>{!isNaN(this.getParsed(d).r)&&this.chart.getDataVisibility(d)&&r++}),r}_computeAngle(t,r,n){return this.chart.getDataVisibility(t)?Nl(this.resolveDataElementOptions(t,r).angle||n):0}}o4.id="polarArea";o4.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};o4.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r}}=e.legend.options;return t.labels.map((n,d)=>{const s=e.getDatasetMeta(0).controller.getStyle(d);return{text:n,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(d),index:d}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class oj extends bp{}oj.id="pie";oj.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class l4 extends Yl{getLabelAndValue(t){const r=this._cachedMeta.vScale,n=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(t,r,n,d){return tj.bind(this)(t,r,n,d)}update(t){const r=this._cachedMeta,n=r.dataset,d=r.data||[],S=r.iScale.getLabels();if(n.points=d,t!=="resize"){const s=this.resolveDatasetElementOptions(t);this.options.showLine||(s.borderWidth=0);const g={_loop:!0,_fullLoop:S.length===d.length,options:s};this.updateElement(n,void 0,g,t)}this.updateElements(d,0,d.length,t)}updateElements(t,r,n,d){const S=this._cachedMeta.rScale,s=d==="reset";for(let g=r;g<r+n;g++){const i=t[g],o=this.resolveDataElementOptions(g,i.active?"active":d),m=S.getPointPositionForValue(g,this.getParsed(g).r),c=s?S.xCenter:m.x,l=s?S.yCenter:m.y,h={x:c,y:l,angle:m.angle,skip:isNaN(c)||isNaN(l),options:o};this.updateElement(i,g,h,d)}}}l4.id="radar";l4.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};l4.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};let wh=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}hasValue(){return Qf(this.x)&&Qf(this.y)}getProps(t,r){const n=this.$animations;if(!r||!n)return this;const d={};return t.forEach(S=>{d[S]=n[S]&&n[S].active()?n[S]._to:this[S]}),d}};wh.defaults={};wh.defaultRoutes=void 0;const lj={values(e){return es(e)?e:""+e},numeric(e,t,r){if(e===0)return"0";const n=this.chart.options.locale;let d,S=e;if(r.length>1){const o=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(o<1e-4||o>1e15)&&(d="scientific"),S=cEt(e,r)}const s=$o(Math.abs(S)),g=Math.max(Math.min(-1*Math.floor(s),20),0),i={notation:d,minimumFractionDigits:g,maximumFractionDigits:g};return Object.assign(i,this.options.ticks.format),ug(e,n,i)},logarithmic(e,t,r){if(e===0)return"0";const n=e/Math.pow(10,Math.floor($o(e)));return n===1||n===2||n===5?lj.numeric.call(this,e,t,r):""}};function cEt(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e)),r}var Xx={formatters:lj};Ur.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});Ur.route("scale.ticks","color","","color");Ur.route("scale.grid","color","","borderColor");Ur.route("scale.grid","borderColor","","borderColor");Ur.route("scale.title","color","","color");Ur.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"});Ur.describe("scales",{_fallback:"scale"});Ur.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"});function dEt(e,t){const r=e.options.ticks,n=r.maxTicksLimit||fEt(e),d=r.major.enabled?vEt(t):[],S=d.length,s=d[0],g=d[S-1],i=[];if(S>n)return mEt(t,i,d,S/n),i;const o=pEt(d,t,n);if(S>0){let m,c;const l=S>1?Math.round((g-s)/(S-1)):null;for(v0(t,i,o,hn(l)?0:s-l,s),m=0,c=S-1;m<c;m++)v0(t,i,o,d[m],d[m+1]);return v0(t,i,o,g,hn(l)?t.length:g+l),i}return v0(t,i,o),i}function fEt(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),d=e._maxLength/r;return Math.floor(Math.min(n,d))}function pEt(e,t,r){const n=gEt(e),d=t.length/r;if(!n)return Math.max(d,1);const S=uCt(n);for(let s=0,g=S.length-1;s<g;s++){const i=S[s];if(i>d)return i}return Math.max(d,1)}function vEt(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}function mEt(e,t,r,n){let d=0,S=r[0],s;for(n=Math.ceil(n),s=0;s<e.length;s++)s===S&&(t.push(e[s]),d++,S=r[d*n])}function v0(e,t,r,n,d){const S=$r(n,0),s=Math.min($r(d,e.length),e.length);let g=0,i,o,m;for(r=Math.ceil(r),d&&(i=d-n,r=i/Math.floor(i/r)),m=S;m<0;)g++,m=Math.round(S+g*r);for(o=Math.max(S,0);o<s;o++)o===m&&(t.push(e[o]),g++,m=Math.round(S+g*r))}function gEt(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}const yEt=e=>e==="left"?"right":e==="right"?"left":e,fA=(e,t,r)=>t==="top"||t==="left"?e[t]+r:e[t]-r;function pA(e,t){const r=[],n=e.length/t,d=e.length;let S=0;for(;S<d;S+=n)r.push(e[Math.floor(S)]);return r}function xEt(e,t,r){const n=e.ticks.length,d=Math.min(t,n-1),S=e._startPixel,s=e._endPixel,g=1e-6;let i=e.getPixelForTick(d),o;if(!(r&&(n===1?o=Math.max(i-S,s-i):t===0?o=(e.getPixelForTick(1)-i)/2:o=(i-e.getPixelForTick(d-1))/2,i+=d<t?o:-o,i<S-g||i>s+g)))return i}function bEt(e,t){un(e,r=>{const n=r.gc,d=n.length/2;let S;if(d>t){for(S=0;S<d;++S)delete r.data[n[S]];n.splice(0,d)}})}function lv(e){return e.drawTicks?e.tickLength:0}function vA(e,t){if(!e.display)return 0;const r=Co(e.font,t),n=qo(e.padding);return(es(e.text)?e.text.length:1)*r.lineHeight+n.height}function SEt(e,t){return Pc(e,{scale:t,type:"scale"})}function wEt(e,t,r){return Pc(e,{tick:r,index:t,type:"tick"})}function TEt(e,t,r){let n=gCt(e);return(r&&t!=="right"||!r&&t==="right")&&(n=yEt(n)),n}function CEt(e,t,r,n){const{top:d,left:S,bottom:s,right:g,chart:i}=e,{chartArea:o,scales:m}=i;let c=0,l,h,a;const f=s-d,p=g-S;if(e.isHorizontal()){if(h=zP(n,S,g),Wr(r)){const u=Object.keys(r)[0],v=r[u];a=m[u].getPixelForValue(v)+f-t}else r==="center"?a=(o.bottom+o.top)/2+f-t:a=fA(e,r,t);l=g-S}else{if(Wr(r)){const u=Object.keys(r)[0],v=r[u];h=m[u].getPixelForValue(v)-p+t}else r==="center"?h=(o.left+o.right)/2-p+t:h=fA(e,r,t);a=zP(n,s,d),c=r==="left"?-us:us}return{titleX:h,titleY:a,maxWidth:l,rotation:c}}class Nd extends wh{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,r){return t}getUserBounds(){let{_userMin:t,_userMax:r,_suggestedMin:n,_suggestedMax:d}=this;return t=jo(t,Number.POSITIVE_INFINITY),r=jo(r,Number.NEGATIVE_INFINITY),n=jo(n,Number.POSITIVE_INFINITY),d=jo(d,Number.NEGATIVE_INFINITY),{min:jo(t,n),max:jo(r,d),minDefined:ra(t),maxDefined:ra(r)}}getMinMax(t){let{min:r,max:n,minDefined:d,maxDefined:S}=this.getUserBounds(),s;if(d&&S)return{min:r,max:n};const g=this.getMatchingVisibleMetas();for(let i=0,o=g.length;i<o;++i)s=g[i].controller.getMinMax(this,t),d||(r=Math.min(r,s.min)),S||(n=Math.max(n,s.max));return r=S&&r>n?n:r,n=d&&r>n?r:n,{min:jo(r,jo(n,r)),max:jo(n,jo(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ns(this.options.beforeUpdate,[this])}update(t,r,n){const{beginAtZero:d,grace:S,ticks:s}=this.options,g=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ZCt(this,S,d),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const i=g<this.ticks.length;this._convertTicksToLabels(i?pA(this.ticks,g):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=dEt(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),i&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,t=!t),this._startPixel=r,this._endPixel=n,this._reversePixels=t,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ns(this.options.afterUpdate,[this])}beforeSetDimensions(){ns(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ns(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ns(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ns(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const r=this.options.ticks;let n,d,S;for(n=0,d=t.length;n<d;n++)S=t[n],S.label=ns(r.callback,[S.value,n,t],this)}afterTickToLabelConversion(){ns(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ns(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,r=t.ticks,n=this.ticks.length,d=r.minRotation||0,S=r.maxRotation;let s=d,g,i,o;if(!this._isVisible()||!r.display||d>=S||n<=1||!this.isHorizontal()){this.labelRotation=d;return}const m=this._getLabelSizes(),c=m.widest.width,l=m.highest.height,h=Sa(this.chart.width-c,0,this.maxWidth);g=t.offset?this.maxWidth/n:h/(n-1),c+6>g&&(g=h/(n-(t.offset?.5:1)),i=this.maxHeight-lv(t.grid)-r.padding-vA(t.title,this.chart.options.font),o=Math.sqrt(c*c+l*l),s=X5(Math.min(Math.asin(Sa((m.highest.height+6)/g,-1,1)),Math.asin(Sa(i/o,-1,1))-Math.asin(Sa(l/o,-1,1)))),s=Math.max(d,Math.min(S,s))),this.labelRotation=s}afterCalculateLabelRotation(){ns(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ns(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:r,options:{ticks:n,title:d,grid:S}}=this,s=this._isVisible(),g=this.isHorizontal();if(s){const i=vA(d,r.options.font);if(g?(t.width=this.maxWidth,t.height=lv(S)+i):(t.height=this.maxHeight,t.width=lv(S)+i),n.display&&this.ticks.length){const{first:o,last:m,widest:c,highest:l}=this._getLabelSizes(),h=n.padding*2,a=Nl(this.labelRotation),f=Math.cos(a),p=Math.sin(a);if(g){const u=n.mirror?0:p*c.width+f*l.height;t.height=Math.min(this.maxHeight,t.height+u+h)}else{const u=n.mirror?0:f*c.width+p*l.height;t.width=Math.min(this.maxWidth,t.width+u+h)}this._calculatePadding(o,m,p,f)}}this._handleMargins(),g?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,r,n,d){const{ticks:{align:S,padding:s},position:g}=this.options,i=this.labelRotation!==0,o=g!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let l=0,h=0;i?o?(l=d*t.width,h=n*r.height):(l=n*t.height,h=d*r.width):S==="start"?h=r.width:S==="end"?l=t.width:S!=="inner"&&(l=t.width/2,h=r.width/2),this.paddingLeft=Math.max((l-m+s)*this.width/(this.width-m),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let m=r.height/2,c=t.height/2;S==="start"?(m=0,c=t.height):S==="end"&&(m=r.height,c=0),this.paddingTop=m+s,this.paddingBottom=c+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ns(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:r}=this.options;return r==="top"||r==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let r,n;for(r=0,n=t.length;r<n;r++)hn(t[r].label)&&(t.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=pA(n,r)),this._labelSizes=t=this._computeLabelSizes(n,n.length)}return t}_computeLabelSizes(t,r){const{ctx:n,_longestTextCache:d}=this,S=[],s=[];let g=0,i=0,o,m,c,l,h,a,f,p,u,v,y;for(o=0;o<r;++o){if(l=t[o].label,h=this._resolveTickFontOptions(o),n.font=a=h.string,f=d[a]=d[a]||{data:{},gc:[]},p=h.lineHeight,u=v=0,!hn(l)&&!es(l))u=ky(n,f.data,f.gc,u,l),v=p;else if(es(l))for(m=0,c=l.length;m<c;++m)y=l[m],!hn(y)&&!es(y)&&(u=ky(n,f.data,f.gc,u,y),v+=p);S.push(u),s.push(v),g=Math.max(u,g),i=Math.max(v,i)}bEt(d,r);const x=S.indexOf(g),b=s.indexOf(i),w=C=>({width:S[C]||0,height:s[C]||0});return{first:w(0),last:w(r-1),widest:w(x),highest:w(b),widths:S,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,r){return NaN}getValueForPixel(t){}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const r=this._startPixel+t*this._length;return dCt(this._alignToPixels?Uc(this.chart,r,0):r)}getDecimalForPixel(t){const r=(t-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:r}=this;return t<0&&r<0?r:t>0&&r>0?t:0}getContext(t){const r=this.ticks||[];if(t>=0&&t<r.length){const n=r[t];return n.$context||(n.$context=wEt(this.getContext(),t,n))}return this.$context||(this.$context=SEt(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,r=Nl(this.labelRotation),n=Math.abs(Math.cos(r)),d=Math.abs(Math.sin(r)),S=this._getLabelSizes(),s=t.autoSkipPadding||0,g=S?S.widest.width+s:0,i=S?S.highest.height+s:0;return this.isHorizontal()?i*n>g*d?g/n:i/d:i*d<g*n?i/n:g/d}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const r=this.axis,n=this.chart,d=this.options,{grid:S,position:s}=d,g=S.offset,i=this.isHorizontal(),m=this.ticks.length+(g?1:0),c=lv(S),l=[],h=S.setContext(this.getContext()),a=h.drawBorder?h.borderWidth:0,f=a/2,p=function(O){return Uc(n,O,a)};let u,v,y,x,b,w,C,E,T,k,A,I;if(s==="top")u=p(this.bottom),w=this.bottom-c,E=u-f,k=p(t.top)+f,I=t.bottom;else if(s==="bottom")u=p(this.top),k=t.top,I=p(t.bottom)-f,w=u+f,E=this.top+c;else if(s==="left")u=p(this.right),b=this.right-c,C=u-f,T=p(t.left)+f,A=t.right;else if(s==="right")u=p(this.left),T=t.left,A=p(t.right)-f,b=u+f,C=this.left+c;else if(r==="x"){if(s==="center")u=p((t.top+t.bottom)/2+.5);else if(Wr(s)){const O=Object.keys(s)[0],P=s[O];u=p(this.chart.scales[O].getPixelForValue(P))}k=t.top,I=t.bottom,w=u+f,E=w+c}else if(r==="y"){if(s==="center")u=p((t.left+t.right)/2);else if(Wr(s)){const O=Object.keys(s)[0],P=s[O];u=p(this.chart.scales[O].getPixelForValue(P))}b=u-f,C=b-c,T=t.left,A=t.right}const B=$r(d.ticks.maxTicksLimit,m),M=Math.max(1,Math.ceil(m/B));for(v=0;v<m;v+=M){const O=S.setContext(this.getContext(v)),P=O.lineWidth,L=O.color,_=O.borderDash||[],G=O.borderDashOffset,$=O.tickWidth,W=O.tickColor,Y=O.tickBorderDash||[],z=O.tickBorderDashOffset;y=xEt(this,v,g),y!==void 0&&(x=Uc(n,y,P),i?b=C=T=A=x:w=E=k=I=x,l.push({tx1:b,ty1:w,tx2:C,ty2:E,x1:T,y1:k,x2:A,y2:I,width:P,color:L,borderDash:_,borderDashOffset:G,tickWidth:$,tickColor:W,tickBorderDash:Y,tickBorderDashOffset:z}))}return this._ticksLength=m,this._borderValue=u,l}_computeLabelItems(t){const r=this.axis,n=this.options,{position:d,ticks:S}=n,s=this.isHorizontal(),g=this.ticks,{align:i,crossAlign:o,padding:m,mirror:c}=S,l=lv(n.grid),h=l+m,a=c?-m:h,f=-Nl(this.labelRotation),p=[];let u,v,y,x,b,w,C,E,T,k,A,I,B="middle";if(d==="top")w=this.bottom-a,C=this._getXAxisLabelAlignment();else if(d==="bottom")w=this.top+a,C=this._getXAxisLabelAlignment();else if(d==="left"){const O=this._getYAxisLabelAlignment(l);C=O.textAlign,b=O.x}else if(d==="right"){const O=this._getYAxisLabelAlignment(l);C=O.textAlign,b=O.x}else if(r==="x"){if(d==="center")w=(t.top+t.bottom)/2+h;else if(Wr(d)){const O=Object.keys(d)[0],P=d[O];w=this.chart.scales[O].getPixelForValue(P)+h}C=this._getXAxisLabelAlignment()}else if(r==="y"){if(d==="center")b=(t.left+t.right)/2-h;else if(Wr(d)){const O=Object.keys(d)[0],P=d[O];b=this.chart.scales[O].getPixelForValue(P)}C=this._getYAxisLabelAlignment(l).textAlign}r==="y"&&(i==="start"?B="top":i==="end"&&(B="bottom"));const M=this._getLabelSizes();for(u=0,v=g.length;u<v;++u){y=g[u],x=y.label;const O=S.setContext(this.getContext(u));E=this.getPixelForTick(u)+S.labelOffset,T=this._resolveTickFontOptions(u),k=T.lineHeight,A=es(x)?x.length:1;const P=A/2,L=O.color,_=O.textStrokeColor,G=O.textStrokeWidth;let $=C;s?(b=E,C==="inner"&&(u===v-1?$=this.options.reverse?"left":"right":u===0?$=this.options.reverse?"right":"left":$="center"),d==="top"?o==="near"||f!==0?I=-A*k+k/2:o==="center"?I=-M.highest.height/2-P*k+k:I=-M.highest.height+k/2:o==="near"||f!==0?I=k/2:o==="center"?I=M.highest.height/2-P*k:I=M.highest.height-A*k,c&&(I*=-1)):(w=E,I=(1-A)*k/2);let W;if(O.showLabelBackdrop){const Y=qo(O.backdropPadding),z=M.heights[u],F=M.widths[u];let N=w+I-Y.top,j=b-Y.left;switch(B){case"middle":N-=z/2;break;case"bottom":N-=z;break}switch(C){case"center":j-=F/2;break;case"right":j-=F;break}W={left:j,top:N,width:F+Y.width,height:z+Y.height,color:O.backdropColor}}p.push({rotation:f,label:x,font:T,color:L,strokeColor:_,strokeWidth:G,textOffset:I,textAlign:$,textBaseline:B,translation:[b,w],backdrop:W})}return p}_getXAxisLabelAlignment(){const{position:t,ticks:r}=this.options;if(-Nl(this.labelRotation))return t==="top"?"left":"right";let d="center";return r.align==="start"?d="left":r.align==="end"?d="right":r.align==="inner"&&(d="inner"),d}_getYAxisLabelAlignment(t){const{position:r,ticks:{crossAlign:n,mirror:d,padding:S}}=this.options,s=this._getLabelSizes(),g=t+S,i=s.widest.width;let o,m;return r==="left"?d?(m=this.right+S,n==="near"?o="left":n==="center"?(o="center",m+=i/2):(o="right",m+=i)):(m=this.right-g,n==="near"?o="right":n==="center"?(o="center",m-=i/2):(o="left",m=this.left)):r==="right"?d?(m=this.left+S,n==="near"?o="right":n==="center"?(o="center",m-=i/2):(o="left",m-=i)):(m=this.left+g,n==="near"?o="left":n==="center"?(o="center",m+=i/2):(o="right",m=this.right)):o="right",{textAlign:o,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:r},left:n,top:d,width:S,height:s}=this;r&&(t.save(),t.fillStyle=r,t.fillRect(n,d,S,s),t.restore())}getLineWidthForValue(t){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const d=this.ticks.findIndex(S=>S.value===t);return d>=0?r.setContext(this.getContext(d)).lineWidth:0}drawGrid(t){const r=this.options.grid,n=this.ctx,d=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let S,s;const g=(i,o,m)=>{!m.width||!m.color||(n.save(),n.lineWidth=m.width,n.strokeStyle=m.color,n.setLineDash(m.borderDash||[]),n.lineDashOffset=m.borderDashOffset,n.beginPath(),n.moveTo(i.x,i.y),n.lineTo(o.x,o.y),n.stroke(),n.restore())};if(r.display)for(S=0,s=d.length;S<s;++S){const i=d[S];r.drawOnChartArea&&g({x:i.x1,y:i.y1},{x:i.x2,y:i.y2},i),r.drawTicks&&g({x:i.tx1,y:i.ty1},{x:i.tx2,y:i.ty2},{color:i.tickColor,width:i.tickWidth,borderDash:i.tickBorderDash,borderDashOffset:i.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:r,options:{grid:n}}=this,d=n.setContext(this.getContext()),S=n.drawBorder?d.borderWidth:0;if(!S)return;const s=n.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let i,o,m,c;this.isHorizontal()?(i=Uc(t,this.left,S)-S/2,o=Uc(t,this.right,s)+s/2,m=c=g):(m=Uc(t,this.top,S)-S/2,c=Uc(t,this.bottom,s)+s/2,i=o=g),r.save(),r.lineWidth=d.borderWidth,r.strokeStyle=d.borderColor,r.beginPath(),r.moveTo(i,m),r.lineTo(o,c),r.stroke(),r.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,d=this._computeLabelArea();d&&Y_(n,d);const S=this._labelItems||(this._labelItems=this._computeLabelItems(t));let s,g;for(s=0,g=S.length;s<g;++s){const i=S[s],o=i.font,m=i.label;i.backdrop&&(n.fillStyle=i.backdrop.color,n.fillRect(i.backdrop.left,i.backdrop.top,i.backdrop.width,i.backdrop.height));let c=i.textOffset;Py(n,m,0,c,o,i)}d&&X_(n)}drawTitle(){const{ctx:t,options:{position:r,title:n,reverse:d}}=this;if(!n.display)return;const S=Co(n.font),s=qo(n.padding),g=n.align;let i=S.lineHeight/2;r==="bottom"||r==="center"||Wr(r)?(i+=s.bottom,es(n.text)&&(i+=S.lineHeight*(n.text.length-1))):i+=s.top;const{titleX:o,titleY:m,maxWidth:c,rotation:l}=CEt(this,i,r,g);Py(t,n.text,0,0,S,{color:n.color,maxWidth:c,rotation:l,textAlign:TEt(g,r,d),textBaseline:"middle",translation:[o,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,r=t.ticks&&t.ticks.z||0,n=$r(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==Nd.prototype.draw?[{z:r,draw:d=>{this.draw(d)}}]:[{z:n,draw:d=>{this.drawBackground(),this.drawGrid(d),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:r,draw:d=>{this.drawLabels(d)}}]}getMatchingVisibleMetas(t){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",d=[];let S,s;for(S=0,s=r.length;S<s;++S){const g=r[S];g[n]===this.id&&(!t||g.type===t)&&d.push(g)}return d}_resolveTickFontOptions(t){const r=this.options.ticks.setContext(this.getContext(t));return Co(r.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class m0{constructor(t,r,n){this.type=t,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const r=Object.getPrototypeOf(t);let n;PEt(r)&&(n=this.register(r));const d=this.items,S=t.id,s=this.scope+"."+S;if(!S)throw new Error("class does not have id: "+t);return S in d||(d[S]=t,EEt(t,s,n),this.override&&Ur.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const r=this.items,n=t.id,d=this.scope;n in r&&delete r[n],d&&n in Ur[d]&&(delete Ur[d][n],this.override&&delete Ed[n])}}function EEt(e,t,r){const n=km(Object.create(null),[r?Ur.get(r):{},Ur.get(t),e.defaults]);Ur.set(t,n),e.defaultRoutes&&kEt(t,e.defaultRoutes),e.descriptors&&Ur.describe(t,e.descriptors)}function kEt(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),d=n.pop(),S=[e].concat(n).join("."),s=t[r].split("."),g=s.pop(),i=s.join(".");Ur.route(S,d,i,g)})}function PEt(e){return"id"in e&&"defaults"in e}class AEt{constructor(){this.controllers=new m0(Yl,"datasets",!0),this.elements=new m0(wh,"elements"),this.plugins=new m0(Object,"plugins"),this.scales=new m0(Nd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,r,n){[...r].forEach(d=>{const S=n||this._getRegistryForType(d);n||S.isForType(d)||S===this.plugins&&d.id?this._exec(t,S,d):un(d,s=>{const g=n||this._getRegistryForType(s);this._exec(t,g,s)})})}_exec(t,r,n){const d=Y5(t);ns(n["before"+d],[],n),r[t](n),ns(n["after"+d],[],n)}_getRegistryForType(t){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(t))return n}return this.plugins}_get(t,r,n){const d=r.get(t);if(d===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return d}}var yu=new AEt;class u4 extends Yl{update(t){const r=this._cachedMeta,{data:n=[]}=r,d=this.chart._animationsDisabled;let{start:S,count:s}=z_(r,n,d);if(this._drawStart=S,this._drawCount=s,U_(r)&&(S=0,s=n.length),this.options.showLine){const{dataset:g,_dataset:i}=r;g._chart=this.chart,g._datasetIndex=this.index,g._decimated=!!i._decimated,g.points=n;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(g,void 0,{animated:!d,options:o},t)}this.updateElements(n,S,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=yu.getElement("line")),super.addElements()}updateElements(t,r,n,d){const S=d==="reset",{iScale:s,vScale:g,_stacked:i,_dataset:o}=this._cachedMeta,m=this.resolveDataElementOptions(r,d),c=this.getSharedOptions(m),l=this.includeOptions(d,c),h=s.axis,a=g.axis,{spanGaps:f,segment:p}=this.options,u=Qf(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||S||d==="none";let y=r>0&&this.getParsed(r-1);for(let x=r;x<r+n;++x){const b=t[x],w=this.getParsed(x),C=v?b:{},E=hn(w[a]),T=C[h]=s.getPixelForValue(w[h],x),k=C[a]=S||E?g.getBasePixel():g.getPixelForValue(i?this.applyStack(g,w,i):w[a],x);C.skip=isNaN(T)||isNaN(k)||E,C.stop=x>0&&Math.abs(w[h]-y[h])>u,p&&(C.parsed=w,C.raw=o.data[x]),l&&(C.options=c||this.resolveDataElementOptions(x,b.active?"active":d)),v||this.updateElement(b,x,C,d),y=w}this.updateSharedOptions(c,d,m)}getMaxOverflow(){const t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let g=0;for(let i=r.length-1;i>=0;--i)g=Math.max(g,r[i].size(this.resolveDataElementOptions(i))/2);return g>0&&g}const n=t.dataset,d=n.options&&n.options.borderWidth||0;if(!r.length)return d;const S=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(d,S,s)/2}}u4.id="scatter";u4.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};u4.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function Gc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class PC{constructor(t){this.options=t||{}}init(t){}formats(){return Gc()}parse(t,r){return Gc()}format(t,r){return Gc()}add(t,r,n){return Gc()}diff(t,r,n){return Gc()}startOf(t,r,n){return Gc()}endOf(t,r){return Gc()}}PC.override=function(e){Object.assign(PC.prototype,e)};var REt={_date:PC};function IEt(e,t,r,n){const{controller:d,data:S,_sorted:s}=e,g=d._cachedMeta.iScale;if(g&&t===g.axis&&t!=="r"&&s&&S.length){const i=g._reversePixels?fCt:ad;if(n){if(d._sharedOptions){const o=S[0],m=typeof o.getRange=="function"&&o.getRange(t);if(m){const c=i(S,t,r-m),l=i(S,t,r+m);return{lo:c.lo,hi:l.hi}}}}else return i(S,t,r)}return{lo:0,hi:S.length-1}}function hg(e,t,r,n,d){const S=e.getSortedVisibleDatasetMetas(),s=r[t];for(let g=0,i=S.length;g<i;++g){const{index:o,data:m}=S[g],{lo:c,hi:l}=IEt(S[g],t,s,d);for(let h=c;h<=l;++h){const a=m[h];a.skip||n(a,o,h)}}}function MEt(e){const t=e.indexOf("x")!==-1,r=e.indexOf("y")!==-1;return function(n,d){const S=t?Math.abs(n.x-d.x):0,s=r?Math.abs(n.y-d.y):0;return Math.sqrt(Math.pow(S,2)+Math.pow(s,2))}}function dw(e,t,r,n,d){const S=[];return!d&&!e.isPointInArea(t)||hg(e,r,t,function(g,i,o){!d&&!Am(g,e.chartArea,0)||g.inRange(t.x,t.y,n)&&S.push({element:g,datasetIndex:i,index:o})},!0),S}function BEt(e,t,r,n){let d=[];function S(s,g,i){const{startAngle:o,endAngle:m}=s.getProps(["startAngle","endAngle"],n),{angle:c}=L_(s,{x:t.x,y:t.y});Pm(c,o,m)&&d.push({element:s,datasetIndex:g,index:i})}return hg(e,r,t,S),d}function OEt(e,t,r,n,d,S){let s=[];const g=MEt(r);let i=Number.POSITIVE_INFINITY;function o(m,c,l){const h=m.inRange(t.x,t.y,d);if(n&&!h)return;const a=m.getCenterPoint(d);if(!(!!S||e.isPointInArea(a))&&!h)return;const p=g(t,a);p<i?(s=[{element:m,datasetIndex:c,index:l}],i=p):p===i&&s.push({element:m,datasetIndex:c,index:l})}return hg(e,r,t,o),s}function fw(e,t,r,n,d,S){return!S&&!e.isPointInArea(t)?[]:r==="r"&&!n?BEt(e,t,r,d):OEt(e,t,r,n,d,S)}function mA(e,t,r,n,d){const S=[],s=r==="x"?"inXRange":"inYRange";let g=!1;return hg(e,r,t,(i,o,m)=>{i[s](t[r],d)&&(S.push({element:i,datasetIndex:o,index:m}),g=g||i.inRange(t.x,t.y,d))}),n&&!g?[]:S}var NEt={evaluateInteractionItems:hg,modes:{index(e,t,r,n){const d=Wc(t,e),S=r.axis||"x",s=r.includeInvisible||!1,g=r.intersect?dw(e,d,S,n,s):fw(e,d,S,!1,n,s),i=[];return g.length?(e.getSortedVisibleDatasetMetas().forEach(o=>{const m=g[0].index,c=o.data[m];c&&!c.skip&&i.push({element:c,datasetIndex:o.index,index:m})}),i):[]},dataset(e,t,r,n){const d=Wc(t,e),S=r.axis||"xy",s=r.includeInvisible||!1;let g=r.intersect?dw(e,d,S,n,s):fw(e,d,S,!1,n,s);if(g.length>0){const i=g[0].datasetIndex,o=e.getDatasetMeta(i).data;g=[];for(let m=0;m<o.length;++m)g.push({element:o[m],datasetIndex:i,index:m})}return g},point(e,t,r,n){const d=Wc(t,e),S=r.axis||"xy",s=r.includeInvisible||!1;return dw(e,d,S,n,s)},nearest(e,t,r,n){const d=Wc(t,e),S=r.axis||"xy",s=r.includeInvisible||!1;return fw(e,d,S,r.intersect,n,s)},x(e,t,r,n){const d=Wc(t,e);return mA(e,d,"x",r.intersect,n)},y(e,t,r,n){const d=Wc(t,e);return mA(e,d,"y",r.intersect,n)}}};const uj=["left","top","right","bottom"];function uv(e,t){return e.filter(r=>r.pos===t)}function gA(e,t){return e.filter(r=>uj.indexOf(r.pos)===-1&&r.box.axis===t)}function hv(e,t){return e.sort((r,n)=>{const d=t?n:r,S=t?r:n;return d.weight===S.weight?d.index-S.index:d.weight-S.weight})}function LEt(e){const t=[];let r,n,d,S,s,g;for(r=0,n=(e||[]).length;r<n;++r)d=e[r],{position:S,options:{stack:s,stackWeight:g=1}}=d,t.push({index:r,box:d,pos:S,horizontal:d.isHorizontal(),weight:d.weight,stack:s&&S+s,stackWeight:g});return t}function FEt(e){const t={};for(const r of e){const{stack:n,pos:d,stackWeight:S}=r;if(!n||!uj.includes(d))continue;const s=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=S}return t}function DEt(e,t){const r=FEt(e),{vBoxMaxWidth:n,hBoxMaxHeight:d}=t;let S,s,g;for(S=0,s=e.length;S<s;++S){g=e[S];const{fullSize:i}=g.box,o=r[g.stack],m=o&&g.stackWeight/o.weight;g.horizontal?(g.width=m?m*n:i&&t.availableWidth,g.height=d):(g.width=n,g.height=m?m*d:i&&t.availableHeight)}return r}function _Et(e){const t=LEt(e),r=hv(t.filter(o=>o.box.fullSize),!0),n=hv(uv(t,"left"),!0),d=hv(uv(t,"right")),S=hv(uv(t,"top"),!0),s=hv(uv(t,"bottom")),g=gA(t,"x"),i=gA(t,"y");return{fullSize:r,leftAndTop:n.concat(S),rightAndBottom:d.concat(i).concat(s).concat(g),chartArea:uv(t,"chartArea"),vertical:n.concat(d).concat(i),horizontal:S.concat(s).concat(g)}}function yA(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function hj(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function jEt(e,t,r,n){const{pos:d,box:S}=r,s=e.maxPadding;if(!Wr(d)){r.size&&(e[d]-=r.size);const c=n[r.stack]||{size:0,count:1};c.size=Math.max(c.size,r.horizontal?S.height:S.width),r.size=c.size/c.count,e[d]+=r.size}S.getPadding&&hj(s,S.getPadding());const g=Math.max(0,t.outerWidth-yA(s,e,"left","right")),i=Math.max(0,t.outerHeight-yA(s,e,"top","bottom")),o=g!==e.w,m=i!==e.h;return e.w=g,e.h=i,r.horizontal?{same:o,other:m}:{same:m,other:o}}function zEt(e){const t=e.maxPadding;function r(n){const d=Math.max(t[n]-e[n],0);return e[n]+=d,d}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}function UEt(e,t){const r=t.maxPadding;function n(d){const S={left:0,top:0,right:0,bottom:0};return d.forEach(s=>{S[s]=Math.max(t[s],r[s])}),S}return n(e?["left","right"]:["top","bottom"])}function Tv(e,t,r,n){const d=[];let S,s,g,i,o,m;for(S=0,s=e.length,o=0;S<s;++S){g=e[S],i=g.box,i.update(g.width||t.w,g.height||t.h,UEt(g.horizontal,t));const{same:c,other:l}=jEt(t,r,g,n);o|=c&&d.length,m=m||l,i.fullSize||d.push(g)}return o&&Tv(d,t,r,n)||m}function g0(e,t,r,n,d){e.top=r,e.left=t,e.right=t+n,e.bottom=r+d,e.width=n,e.height=d}function xA(e,t,r,n){const d=r.padding;let{x:S,y:s}=t;for(const g of e){const i=g.box,o=n[g.stack]||{count:1,placed:0,weight:1},m=g.stackWeight/o.weight||1;if(g.horizontal){const c=t.w*m,l=o.size||i.height;Zo(o.start)&&(s=o.start),i.fullSize?g0(i,d.left,s,r.outerWidth-d.right-d.left,l):g0(i,t.left+o.placed,s,c,l),o.start=s,o.placed+=c,s=i.bottom}else{const c=t.h*m,l=o.size||i.width;Zo(o.start)&&(S=o.start),i.fullSize?g0(i,S,d.top,l,r.outerHeight-d.bottom-d.top):g0(i,S,t.top+o.placed,l,c),o.start=S,o.placed+=c,S=i.right}}t.x=S,t.y=s}Ur.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var y0={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(r){t.draw(r)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;r!==-1&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const d=qo(e.options.layout.padding),S=Math.max(t-d.width,0),s=Math.max(r-d.height,0),g=_Et(e.boxes),i=g.vertical,o=g.horizontal;un(e.boxes,f=>{typeof f.beforeLayout=="function"&&f.beforeLayout()});const m=i.reduce((f,p)=>p.box.options&&p.box.options.display===!1?f:f+1,0)||1,c=Object.freeze({outerWidth:t,outerHeight:r,padding:d,availableWidth:S,availableHeight:s,vBoxMaxWidth:S/2/m,hBoxMaxHeight:s/2}),l=Object.assign({},d);hj(l,qo(n));const h=Object.assign({maxPadding:l,w:S,h:s,x:d.left,y:d.top},d),a=DEt(i.concat(o),c);Tv(g.fullSize,h,c,a),Tv(i,h,c,a),Tv(o,h,c,a)&&Tv(i,h,c,a),zEt(h),xA(g.leftAndTop,h,c,a),h.x+=h.w,h.y+=h.h,xA(g.rightAndBottom,h,c,a),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},un(g.chartArea,f=>{const p=f.box;Object.assign(p,e.chartArea),p.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class cj{acquireContext(t,r){}releaseContext(t){return!1}addEventListener(t,r,n){}removeEventListener(t,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,r,n,d){return r=Math.max(0,r||t.width),n=n||t.height,{width:r,height:Math.max(0,d?Math.floor(r/d):n)}}isAttached(t){return!0}updateConfig(t){}}class GEt extends cj{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const y1="$chartjs",HEt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bA=e=>e===null||e==="";function $Et(e,t){const r=e.style,n=e.getAttribute("height"),d=e.getAttribute("width");if(e[y1]={initial:{height:n,width:d,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",bA(d)){const S=ZP(e,"width");S!==void 0&&(e.width=S)}if(bA(n))if(e.style.height==="")e.height=e.width/(t||2);else{const S=ZP(e,"height");S!==void 0&&(e.height=S)}return e}const dj=S3t?{passive:!0}:!1;function WEt(e,t,r){e.addEventListener(t,r,dj)}function VEt(e,t,r){e.canvas.removeEventListener(t,r,dj)}function YEt(e,t){const r=HEt[e.type]||e.type,{x:n,y:d}=Wc(e,t);return{type:r,chart:t,native:e,x:n!==void 0?n:null,y:d!==void 0?d:null}}function Iy(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function XEt(e,t,r){const n=e.canvas,d=new MutationObserver(S=>{let s=!1;for(const g of S)s=s||Iy(g.addedNodes,n),s=s&&!Iy(g.removedNodes,n);s&&r()});return d.observe(document,{childList:!0,subtree:!0}),d}function QEt(e,t,r){const n=e.canvas,d=new MutationObserver(S=>{let s=!1;for(const g of S)s=s||Iy(g.removedNodes,n),s=s&&!Iy(g.addedNodes,n);s&&r()});return d.observe(document,{childList:!0,subtree:!0}),d}const Rm=new Map;let SA=0;function fj(){const e=window.devicePixelRatio;e!==SA&&(SA=e,Rm.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function KEt(e,t){Rm.size||window.addEventListener("resize",fj),Rm.set(e,t)}function JEt(e){Rm.delete(e),Rm.size||window.removeEventListener("resize",fj)}function ZEt(e,t,r){const n=e.canvas,d=n&&r4(n);if(!d)return;const S=j_((g,i)=>{const o=d.clientWidth;r(g,i),o<d.clientWidth&&r()},window),s=new ResizeObserver(g=>{const i=g[0],o=i.contentRect.width,m=i.contentRect.height;o===0&&m===0||S(o,m)});return s.observe(d),KEt(e,S),s}function pw(e,t,r){r&&r.disconnect(),t==="resize"&&JEt(e)}function qEt(e,t,r){const n=e.canvas,d=j_(S=>{e.ctx!==null&&r(YEt(S,e))},e,S=>{const s=S[0];return[s,s.offsetX,s.offsetY]});return WEt(n,t,d),d}class t5t extends cj{acquireContext(t,r){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?($Et(t,r),n):null}releaseContext(t){const r=t.canvas;if(!r[y1])return!1;const n=r[y1].initial;["height","width"].forEach(S=>{const s=n[S];hn(s)?r.removeAttribute(S):r.setAttribute(S,s)});const d=n.style||{};return Object.keys(d).forEach(S=>{r.style[S]=d[S]}),r.width=r.width,delete r[y1],!0}addEventListener(t,r,n){this.removeEventListener(t,r);const d=t.$proxies||(t.$proxies={}),s={attach:XEt,detach:QEt,resize:ZEt}[r]||qEt;d[r]=s(t,r,n)}removeEventListener(t,r){const n=t.$proxies||(t.$proxies={}),d=n[r];if(!d)return;({attach:pw,detach:pw,resize:pw}[r]||VEt)(t,r,d),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,r,n,d){return b3t(t,r,n,d)}isAttached(t){const r=r4(t);return!!(r&&r.isConnected)}}function e5t(e){return!ij()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?GEt:t5t}class i5t{constructor(){this._init=[]}notify(t,r,n,d){r==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const S=d?this._descriptors(t).filter(d):this._descriptors(t),s=this._notify(S,t,r,n);return r==="afterDestroy"&&(this._notify(S,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,r,n,d){d=d||{};for(const S of t){const s=S.plugin,g=s[n],i=[r,d,S.options];if(ns(g,i,s)===!1&&d.cancelable)return!1}return!0}invalidate(){hn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),r}_createDescriptors(t,r){const n=t&&t.config,d=$r(n.options&&n.options.plugins,{}),S=r5t(n);return d===!1&&!r?[]:s5t(t,S,d,r)}_notifyStateChanges(t){const r=this._oldCache||[],n=this._cache,d=(S,s)=>S.filter(g=>!s.some(i=>g.plugin.id===i.plugin.id));this._notify(d(r,n),t,"stop"),this._notify(d(n,r),t,"start")}}function r5t(e){const t={},r=[],n=Object.keys(yu.plugins.items);for(let S=0;S<n.length;S++)r.push(yu.getPlugin(n[S]));const d=e.plugins||[];for(let S=0;S<d.length;S++){const s=d[S];r.indexOf(s)===-1&&(r.push(s),t[s.id]=!0)}return{plugins:r,localIds:t}}function n5t(e,t){return!t&&e===!1?null:e===!0?{}:e}function s5t(e,{plugins:t,localIds:r},n,d){const S=[],s=e.getContext();for(const g of t){const i=g.id,o=n5t(n[i],d);o!==null&&S.push({plugin:g,options:a5t(e.config,{plugin:g,local:r[i]},o,s)})}return S}function a5t(e,{plugin:t,local:r},n,d){const S=e.pluginScopeKeys(t),s=e.getOptionScopes(n,S);return r&&t.defaults&&s.push(t.defaults),e.createResolver(s,d,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function AC(e,t){const r=Ur.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function o5t(e,t){let r=e;return e==="_index_"?r=t:e==="_value_"&&(r=t==="x"?"y":"x"),r}function l5t(e,t){return e===t?"_index_":"_value_"}function u5t(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function RC(e,t){return e==="x"||e==="y"?e:t.axis||u5t(t.position)||e.charAt(0).toLowerCase()}function h5t(e,t){const r=Ed[e.type]||{scales:{}},n=t.scales||{},d=AC(e.type,t),S=Object.create(null),s=Object.create(null);return Object.keys(n).forEach(g=>{const i=n[g];if(!Wr(i))return console.error(`Invalid scale configuration for scale: ${g}`);if(i._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${g}`);const o=RC(g,i),m=l5t(o,d),c=r.scales||{};S[o]=S[o]||g,s[g]=Vv(Object.create(null),[{axis:o},i,c[o],c[m]])}),e.data.datasets.forEach(g=>{const i=g.type||e.type,o=g.indexAxis||AC(i,t),c=(Ed[i]||{}).scales||{};Object.keys(c).forEach(l=>{const h=o5t(l,o),a=g[h+"AxisID"]||S[h]||h;s[a]=s[a]||Object.create(null),Vv(s[a],[{axis:h},n[a],c[l]])})}),Object.keys(s).forEach(g=>{const i=s[g];Vv(i,[Ur.scales[i.type],Ur.scale])}),s}function pj(e){const t=e.options||(e.options={});t.plugins=$r(t.plugins,{}),t.scales=h5t(e,t)}function vj(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function c5t(e){return e=e||{},e.data=vj(e.data),pj(e),e}const wA=new Map,mj=new Set;function x0(e,t){let r=wA.get(e);return r||(r=t(),wA.set(e,r),mj.add(r)),r}const cv=(e,t,r)=>{const n=yc(t,r);n!==void 0&&e.add(n)};class d5t{constructor(t){this._config=c5t(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=vj(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),pj(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return x0(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,r){return x0(`${t}.transition.${r}`,()=>[[`datasets.${t}.transitions.${r}`,`transitions.${r}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,r){return x0(`${t}-${r}`,()=>[[`datasets.${t}.elements.${r}`,`datasets.${t}`,`elements.${r}`,""]])}pluginScopeKeys(t){const r=t.id,n=this.type;return x0(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,r){const n=this._scopeCache;let d=n.get(t);return(!d||r)&&(d=new Map,n.set(t,d)),d}getOptionScopes(t,r,n){const{options:d,type:S}=this,s=this._cachedScopes(t,n),g=s.get(r);if(g)return g;const i=new Set;r.forEach(m=>{t&&(i.add(t),m.forEach(c=>cv(i,t,c))),m.forEach(c=>cv(i,d,c)),m.forEach(c=>cv(i,Ed[S]||{},c)),m.forEach(c=>cv(i,Ur,c)),m.forEach(c=>cv(i,EC,c))});const o=Array.from(i);return o.length===0&&o.push(Object.create(null)),mj.has(r)&&s.set(r,o),o}chartOptionScopes(){const{options:t,type:r}=this;return[t,Ed[r]||{},Ur.datasets[r]||{},{type:r},Ur,EC]}resolveNamedOptions(t,r,n,d=[""]){const S={$shared:!0},{resolver:s,subPrefixes:g}=TA(this._resolverCache,t,d);let i=s;if(p5t(s,r)){S.$shared=!1,n=xc(n)?n():n;const o=this.createResolver(t,n,g);i=Kf(s,n,o)}for(const o of r)S[o]=i[o];return S}createResolver(t,r,n=[""],d){const{resolver:S}=TA(this._resolverCache,t,n);return Wr(r)?Kf(S,r,void 0,d):S}}function TA(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const d=r.join();let S=n.get(d);return S||(S={resolver:t4(t,r),subPrefixes:r.filter(g=>!g.toLowerCase().includes("hover"))},n.set(d,S)),S}const f5t=e=>Wr(e)&&Object.getOwnPropertyNames(e).reduce((t,r)=>t||xc(e[r]),!1);function p5t(e,t){const{isScriptable:r,isIndexable:n}=K_(e);for(const d of t){const S=r(d),s=n(d),g=(s||S)&&e[d];if(S&&(xc(g)||f5t(g))||s&&es(g))return!0}return!1}var v5t="3.9.1";const m5t=["top","bottom","left","right","chartArea"];function CA(e,t){return e==="top"||e==="bottom"||m5t.indexOf(e)===-1&&t==="x"}function EA(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function kA(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),ns(r&&r.onComplete,[e],t)}function g5t(e){const t=e.chart,r=t.options.animation;ns(r&&r.onProgress,[e],t)}function gj(e){return ij()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const My={},yj=e=>{const t=gj(e);return Object.values(My).filter(r=>r.canvas===t).pop()};function y5t(e,t,r){const n=Object.keys(e);for(const d of n){const S=+d;if(S>=t){const s=e[d];delete e[d],(r>0||S>t)&&(e[S+r]=s)}}}function x5t(e,t,r,n){return!r||e.type==="mouseout"?null:n?t:e}let Sp=class{constructor(t,r){const n=this.config=new d5t(r),d=gj(t),S=yj(d);if(S)throw new Error("Canvas is already in use. Chart with ID '"+S.id+"' must be destroyed before the canvas with ID '"+S.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||e5t(d)),this.platform.updateConfig(n);const g=this.platform.acquireContext(d,s.aspectRatio),i=g&&g.canvas,o=i&&i.height,m=i&&i.width;if(this.id=tCt(),this.ctx=g,this.canvas=i,this.width=m,this.height=o,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new i5t,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mCt(c=>this.update(c),s.resizeDelay||0),this._dataChanges=[],My[this.id]=this,!g||!i){console.error("Failed to create chart: can't acquire context from the given item");return}$u.listen(this,"complete",kA),$u.listen(this,"progress",g5t),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:r},width:n,height:d,_aspectRatio:S}=this;return hn(t)?r&&S?S:d?n/d:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():JP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return XP(this.canvas,this.ctx),this}stop(){return $u.stop(this),this}resize(t,r){$u.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){const n=this.options,d=this.canvas,S=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(d,t,r,S),g=n.devicePixelRatio||this.platform.getDevicePixelRatio(),i=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,JP(this,g,!0)&&(this.notifyPlugins("resize",{size:s}),ns(n.onResize,[this,s],this),this.attached&&this._doResize(i)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};un(r,(n,d)=>{n.id=d})}buildOrUpdateScales(){const t=this.options,r=t.scales,n=this.scales,d=Object.keys(n).reduce((s,g)=>(s[g]=!1,s),{});let S=[];r&&(S=S.concat(Object.keys(r).map(s=>{const g=r[s],i=RC(s,g),o=i==="r",m=i==="x";return{options:g,dposition:o?"chartArea":m?"bottom":"left",dtype:o?"radialLinear":m?"category":"linear"}}))),un(S,s=>{const g=s.options,i=g.id,o=RC(i,g),m=$r(g.type,s.dtype);(g.position===void 0||CA(g.position,o)!==CA(s.dposition))&&(g.position=s.dposition),d[i]=!0;let c=null;if(i in n&&n[i].type===m)c=n[i];else{const l=yu.getScale(m);c=new l({id:i,type:m,ctx:this.ctx,chart:this}),n[c.id]=c}c.init(g,t)}),un(d,(s,g)=>{s||delete n[g]}),un(n,s=>{y0.configure(this,s,s.options),y0.addBox(this,s)})}_updateMetasets(){const t=this._metasets,r=this.data.datasets.length,n=t.length;if(t.sort((d,S)=>d.index-S.index),n>r){for(let d=r;d<n;++d)this._destroyDatasetMeta(d);t.splice(r,n-r)}this._sortedMetasets=t.slice(0).sort(EA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((n,d)=>{r.filter(S=>S===n._dataset).length===0&&this._destroyDatasetMeta(d)})}buildOrUpdateControllers(){const t=[],r=this.data.datasets;let n,d;for(this._removeUnreferencedMetasets(),n=0,d=r.length;n<d;n++){const S=r[n];let s=this.getDatasetMeta(n);const g=S.type||this.config.type;if(s.type&&s.type!==g&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=g,s.indexAxis=S.indexAxis||AC(g,this.options),s.order=S.order||0,s.index=n,s.label=""+S.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const i=yu.getController(g),{datasetElementType:o,dataElementType:m}=Ur.datasets[g];Object.assign(i.prototype,{dataElementType:yu.getElement(m),datasetElementType:o&&yu.getElement(o)}),s.controller=new i(this,n),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){un(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),d=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const S=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let o=0,m=this.data.datasets.length;o<m;o++){const{controller:c}=this.getDatasetMeta(o),l=!d&&S.indexOf(c)===-1;c.buildOrUpdateElements(l),s=Math.max(+c.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),d||un(S,o=>{o.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(EA("z","_idx"));const{_active:g,_lastEvent:i}=this;i?this._eventHandler(i,!0):g.length&&this._updateHoverStyles(g,g,!0),this.render()}_updateScales(){un(this.scales,t=>{y0.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!LP(r,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:d,count:S}of r){const s=n==="_removeElements"?-S:S;y5t(t,d,s)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=S=>new Set(t.filter(s=>s[0]===S).map((s,g)=>g+","+s.splice(1).join(","))),d=n(0);for(let S=1;S<r;S++)if(!LP(d,n(S)))return;return Array.from(d).map(S=>S.split(",")).map(S=>({method:S[1],start:+S[2],count:+S[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;y0.update(this,this.width,this.height,t);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],un(this.boxes,d=>{n&&d.position==="chartArea"||(d.configure&&d.configure(),this._layers.push(...d._layers()))},this),this._layers.forEach((d,S)=>{d._idx=S}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,xc(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){const n=this.getDatasetMeta(t),d={meta:n,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",d)!==!1&&(n.controller._update(r),d.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",d))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($u.has(this)?this.attached&&!$u.running(this)&&$u.start(this):(this.draw(),kA({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:d}=this._resizeBeforeDraw;this._resize(n,d),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const r=this._sortedMetasets,n=[];let d,S;for(d=0,S=r.length;d<S;++d){const s=r[d];(!t||s.visible)&&n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const r=this.ctx,n=t._clip,d=!n.disabled,S=this.chartArea,s={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(d&&Y_(r,{left:n.left===!1?0:S.left-n.left,right:n.right===!1?this.width:S.right+n.right,top:n.top===!1?0:S.top-n.top,bottom:n.bottom===!1?this.height:S.bottom+n.bottom}),t.controller.draw(),d&&X_(r),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Am(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,n,d){const S=NEt.modes[r];return typeof S=="function"?S(this,t,n,d):[]}getDatasetMeta(t){const r=this.data.datasets[t],n=this._metasets;let d=n.filter(S=>S&&S._dataset===r).pop();return d||(d={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},n.push(d)),d}getContext(){return this.$context||(this.$context=Pc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const r=this.data.datasets[t];if(!r)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(t,r){const n=this.getDatasetMeta(t);n.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,n){const d=n?"show":"hide",S=this.getDatasetMeta(t),s=S.controller._resolveAnimations(void 0,d);Zo(r)?(S.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(S,{visible:n}),this.update(g=>g.datasetIndex===t?d:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){const r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),$u.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),XP(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete My[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,r=this.platform,n=(S,s)=>{r.addEventListener(this,S,s),t[S]=s},d=(S,s,g)=>{S.offsetX=s,S.offsetY=g,this._eventHandler(S)};un(this.options.events,S=>n(S,d))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),t[i]=o},d=(i,o)=>{t[i]&&(r.removeEventListener(this,i,o),delete t[i])},S=(i,o)=>{this.canvas&&this.resize(i,o)};let s;const g=()=>{d("attach",g),this.attached=!0,this.resize(),n("resize",S),n("detach",s)};s=()=>{this.attached=!1,d("resize",S),this._stop(),this._resize(0,0),n("attach",g)},r.isAttached(this.canvas)?g():s()}unbindEvents(){un(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},un(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,n){const d=n?"set":"remove";let S,s,g,i;for(r==="dataset"&&(S=this.getDatasetMeta(t[0].datasetIndex),S.controller["_"+d+"DatasetHoverStyle"]()),g=0,i=t.length;g<i;++g){s=t[g];const o=s&&this.getDatasetMeta(s.datasetIndex).controller;o&&o[d+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const r=this._active||[],n=t.map(({datasetIndex:S,index:s})=>{const g=this.getDatasetMeta(S);if(!g)throw new Error("No dataset found at index "+S);return{datasetIndex:S,element:g.data[s],index:s}});!Sy(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(t,r,n){return this._plugins.notify(this,t,r,n)}_updateHoverStyles(t,r,n){const d=this.options.hover,S=(i,o)=>i.filter(m=>!o.some(c=>m.datasetIndex===c.datasetIndex&&m.index===c.index)),s=S(r,t),g=n?t:S(t,r);s.length&&this.updateHoverStyle(s,d.mode,!1),g.length&&d.mode&&this.updateHoverStyle(g,d.mode,!0)}_eventHandler(t,r){const n={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},d=s=>(s.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,d)===!1)return;const S=this._handleEvent(t,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,d),(S||n.changed)&&this.render(),this}_handleEvent(t,r,n){const{_active:d=[],options:S}=this,s=r,g=this._getActiveElements(t,d,n,s),i=aCt(t),o=x5t(t,this._lastEvent,n,i);n&&(this._lastEvent=null,ns(S.onHover,[t,g,this],this),i&&ns(S.onClick,[t,g,this],this));const m=!Sy(g,d);return(m||r)&&(this._active=g,this._updateHoverStyles(g,d,r)),this._lastEvent=o,m}_getActiveElements(t,r,n,d){if(t.type==="mouseout")return[];if(!n)return r;const S=this.options.hover;return this.getElementsAtEventForMode(t,S.mode,S,d)}};const PA=()=>un(Sp.instances,e=>e._plugins.invalidate()),Fh=!0;Object.defineProperties(Sp,{defaults:{enumerable:Fh,value:Ur},instances:{enumerable:Fh,value:My},overrides:{enumerable:Fh,value:Ed},registry:{enumerable:Fh,value:yu},version:{enumerable:Fh,value:v5t},getChart:{enumerable:Fh,value:yj},register:{enumerable:Fh,value:(...e)=>{yu.add(...e),PA()}},unregister:{enumerable:Fh,value:(...e)=>{yu.remove(...e),PA()}}});function xj(e,t,r){const{startAngle:n,pixelMargin:d,x:S,y:s,outerRadius:g,innerRadius:i}=t;let o=d/g;e.beginPath(),e.arc(S,s,g,n-o,r+o),i>d?(o=d/i,e.arc(S,s,i,r+o,n-o,!0)):e.arc(S,s,d,r+us,n-us),e.closePath(),e.clip()}function b5t(e){return q5(e,["outerStart","outerEnd","innerStart","innerEnd"])}function S5t(e,t,r,n){const d=b5t(e.options.borderRadius),S=(r-t)/2,s=Math.min(S,n*t/2),g=i=>{const o=(r-Math.min(S,i))*n/2;return Sa(i,0,Math.min(S,o))};return{outerStart:g(d.outerStart),outerEnd:g(d.outerEnd),innerStart:Sa(d.innerStart,0,s),innerEnd:Sa(d.innerEnd,0,s)}}function tf(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function IC(e,t,r,n,d,S){const{x:s,y:g,startAngle:i,pixelMargin:o,innerRadius:m}=t,c=Math.max(t.outerRadius+n+r-o,0),l=m>0?m+n+r+o:0;let h=0;const a=d-i;if(n){const O=m>0?m-n:0,P=c>0?c-n:0,L=(O+P)/2,_=L!==0?a*L/(L+n):a;h=(a-_)/2}const f=Math.max(.001,a*c-r/hs)/c,p=(a-f)/2,u=i+p+h,v=d-p-h,{outerStart:y,outerEnd:x,innerStart:b,innerEnd:w}=S5t(t,l,c,v-u),C=c-y,E=c-x,T=u+y/C,k=v-x/E,A=l+b,I=l+w,B=u+b/A,M=v-w/I;if(e.beginPath(),S){if(e.arc(s,g,c,T,k),x>0){const L=tf(E,k,s,g);e.arc(L.x,L.y,x,k,v+us)}const O=tf(I,v,s,g);if(e.lineTo(O.x,O.y),w>0){const L=tf(I,M,s,g);e.arc(L.x,L.y,w,v+us,M+Math.PI)}if(e.arc(s,g,l,v-w/l,u+b/l,!0),b>0){const L=tf(A,B,s,g);e.arc(L.x,L.y,b,B+Math.PI,u-us)}const P=tf(C,u,s,g);if(e.lineTo(P.x,P.y),y>0){const L=tf(C,T,s,g);e.arc(L.x,L.y,y,u-us,T)}}else{e.moveTo(s,g);const O=Math.cos(T)*c+s,P=Math.sin(T)*c+g;e.lineTo(O,P);const L=Math.cos(k)*c+s,_=Math.sin(k)*c+g;e.lineTo(L,_)}e.closePath()}function w5t(e,t,r,n,d){const{fullCircles:S,startAngle:s,circumference:g}=t;let i=t.endAngle;if(S){IC(e,t,r,n,s+Pn,d);for(let o=0;o<S;++o)e.fill();isNaN(g)||(i=s+g%Pn,g%Pn===0&&(i+=Pn))}return IC(e,t,r,n,i,d),e.fill(),i}function T5t(e,t,r){const{x:n,y:d,startAngle:S,pixelMargin:s,fullCircles:g}=t,i=Math.max(t.outerRadius-s,0),o=t.innerRadius+s;let m;for(r&&xj(e,t,S+Pn),e.beginPath(),e.arc(n,d,o,S+Pn,S,!0),m=0;m<g;++m)e.stroke();for(e.beginPath(),e.arc(n,d,i,S,S+Pn),m=0;m<g;++m)e.stroke()}function C5t(e,t,r,n,d,S){const{options:s}=t,{borderWidth:g,borderJoinStyle:i}=s,o=s.borderAlign==="inner";g&&(o?(e.lineWidth=g*2,e.lineJoin=i||"round"):(e.lineWidth=g,e.lineJoin=i||"bevel"),t.fullCircles&&T5t(e,t,o),o&&xj(e,t,d),IC(e,t,r,n,d,S),e.stroke())}class cg extends wh{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,n){const d=this.getProps(["x","y"],n),{angle:S,distance:s}=L_(d,{x:t,y:r}),{startAngle:g,endAngle:i,innerRadius:o,outerRadius:m,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),l=this.options.spacing/2,a=$r(c,i-g)>=Pn||Pm(S,g,i),f=Cy(s,o+l,m+l);return a&&f}getCenterPoint(t){const{x:r,y:n,startAngle:d,endAngle:S,innerRadius:s,outerRadius:g}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:i,spacing:o}=this.options,m=(d+S)/2,c=(s+g+o+i)/2;return{x:r+Math.cos(m)*c,y:n+Math.sin(m)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:n}=this,d=(r.offset||0)/2,S=(r.spacing||0)/2,s=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=n>Pn?Math.floor(n/Pn):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let g=0;if(d){g=d/2;const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*g,Math.sin(o)*g),this.circumference>=hs&&(g=d)}t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor;const i=w5t(t,this,g,S,s);C5t(t,this,g,S,i,s),t.restore()}}cg.id="arc";cg.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};cg.defaultRoutes={backgroundColor:"backgroundColor"};function bj(e,t,r=t){e.lineCap=$r(r.borderCapStyle,t.borderCapStyle),e.setLineDash($r(r.borderDash,t.borderDash)),e.lineDashOffset=$r(r.borderDashOffset,t.borderDashOffset),e.lineJoin=$r(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=$r(r.borderWidth,t.borderWidth),e.strokeStyle=$r(r.borderColor,t.borderColor)}function E5t(e,t,r){e.lineTo(r.x,r.y)}function k5t(e){return e.stepped?$Ct:e.tension||e.cubicInterpolationMode==="monotone"?WCt:E5t}function Sj(e,t,r={}){const n=e.length,{start:d=0,end:S=n-1}=r,{start:s,end:g}=t,i=Math.max(d,s),o=Math.min(S,g),m=d<s&&S<s||d>g&&S>g;return{count:n,start:i,loop:t.loop,ilen:o<i&&!m?n+o-i:o-i}}function P5t(e,t,r,n){const{points:d,options:S}=t,{count:s,start:g,loop:i,ilen:o}=Sj(d,r,n),m=k5t(S);let{move:c=!0,reverse:l}=n||{},h,a,f;for(h=0;h<=o;++h)a=d[(g+(l?o-h:h))%s],!a.skip&&(c?(e.moveTo(a.x,a.y),c=!1):m(e,f,a,l,S.stepped),f=a);return i&&(a=d[(g+(l?o:0))%s],m(e,f,a,l,S.stepped)),!!i}function A5t(e,t,r,n){const d=t.points,{count:S,start:s,ilen:g}=Sj(d,r,n),{move:i=!0,reverse:o}=n||{};let m=0,c=0,l,h,a,f,p,u;const v=x=>(s+(o?g-x:x))%S,y=()=>{f!==p&&(e.lineTo(m,p),e.lineTo(m,f),e.lineTo(m,u))};for(i&&(h=d[v(0)],e.moveTo(h.x,h.y)),l=0;l<=g;++l){if(h=d[v(l)],h.skip)continue;const x=h.x,b=h.y,w=x|0;w===a?(b<f?f=b:b>p&&(p=b),m=(c*m+x)/++c):(y(),e.lineTo(x,b),a=w,c=0,f=p=b),u=b}y()}function MC(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!r?A5t:P5t}function R5t(e){return e.stepped?w3t:e.tension||e.cubicInterpolationMode==="monotone"?T3t:Vc}function I5t(e,t,r,n){let d=t._path;d||(d=t._path=new Path2D,t.path(d,r,n)&&d.closePath()),bj(e,t.options),e.stroke(d)}function M5t(e,t,r,n){const{segments:d,options:S}=t,s=MC(t);for(const g of d)bj(e,S,g.style),e.beginPath(),s(e,t,g,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}const B5t=typeof Path2D=="function";function O5t(e,t,r,n){B5t&&!t.options.segment?I5t(e,t,r,n):M5t(e,t,r,n)}class Qx extends wh{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const d=n.spanGaps?this._loop:this._fullLoop;p3t(this._points,n,t,d,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=N3t(this,this.options.segment))}first(){const t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){const t=this.segments,r=this.points,n=t.length;return n&&r[t[n-1].end]}interpolate(t,r){const n=this.options,d=t[r],S=this.points,s=M3t(this,{property:r,start:d,end:d});if(!s.length)return;const g=[],i=R5t(n);let o,m;for(o=0,m=s.length;o<m;++o){const{start:c,end:l}=s[o],h=S[c],a=S[l];if(h===a){g.push(h);continue}const f=Math.abs((d-h[r])/(a[r]-h[r])),p=i(h,a,f,n.stepped);p[r]=t[r],g.push(p)}return g.length===1?g[0]:g}pathSegment(t,r,n){return MC(this)(t,this,r,n)}path(t,r,n){const d=this.segments,S=MC(this);let s=this._loop;r=r||0,n=n||this.points.length-r;for(const g of d)s&=S(t,this,g,{start:r,end:r+n-1});return!!s}draw(t,r,n,d){const S=this.options||{};(this.points||[]).length&&S.borderWidth&&(t.save(),O5t(t,this,n,d),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Qx.id="line";Qx.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Qx.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Qx.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};function AA(e,t,r,n){const d=e.options,{[r]:S}=e.getProps([r],n);return Math.abs(t-S)<d.radius+d.hitRadius}class h4 extends wh{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,n){const d=this.options,{x:S,y:s}=this.getProps(["x","y"],n);return Math.pow(t-S,2)+Math.pow(r-s,2)<Math.pow(d.hitRadius+d.radius,2)}inXRange(t,r){return AA(this,t,"x",r)}inYRange(t,r){return AA(this,t,"y",r)}getCenterPoint(t){const{x:r,y:n}=this.getProps(["x","y"],t);return{x:r,y:n}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const n=r&&t.borderWidth||0;return(r+n)*2}draw(t,r){const n=this.options;this.skip||n.radius<.1||!Am(this,r,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,kC(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}h4.id="point";h4.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};h4.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function wj(e,t){const{x:r,y:n,base:d,width:S,height:s}=e.getProps(["x","y","base","width","height"],t);let g,i,o,m,c;return e.horizontal?(c=s/2,g=Math.min(r,d),i=Math.max(r,d),o=n-c,m=n+c):(c=S/2,g=r-c,i=r+c,o=Math.min(n,d),m=Math.max(n,d)),{left:g,top:o,right:i,bottom:m}}function Qh(e,t,r,n){return e?0:Sa(t,r,n)}function N5t(e,t,r){const n=e.options.borderWidth,d=e.borderSkipped,S=Q_(n);return{t:Qh(d.top,S.top,0,r),r:Qh(d.right,S.right,0,t),b:Qh(d.bottom,S.bottom,0,r),l:Qh(d.left,S.left,0,t)}}function L5t(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),d=e.options.borderRadius,S=If(d),s=Math.min(t,r),g=e.borderSkipped,i=n||Wr(d);return{topLeft:Qh(!i||g.top||g.left,S.topLeft,0,s),topRight:Qh(!i||g.top||g.right,S.topRight,0,s),bottomLeft:Qh(!i||g.bottom||g.left,S.bottomLeft,0,s),bottomRight:Qh(!i||g.bottom||g.right,S.bottomRight,0,s)}}function F5t(e){const t=wj(e),r=t.right-t.left,n=t.bottom-t.top,d=N5t(e,r/2,n/2),S=L5t(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:S},inner:{x:t.left+d.l,y:t.top+d.t,w:r-d.l-d.r,h:n-d.t-d.b,radius:{topLeft:Math.max(0,S.topLeft-Math.max(d.t,d.l)),topRight:Math.max(0,S.topRight-Math.max(d.t,d.r)),bottomLeft:Math.max(0,S.bottomLeft-Math.max(d.b,d.l)),bottomRight:Math.max(0,S.bottomRight-Math.max(d.b,d.r))}}}}function vw(e,t,r,n){const d=t===null,S=r===null,g=e&&!(d&&S)&&wj(e,n);return g&&(d||Cy(t,g.left,g.right))&&(S||Cy(r,g.top,g.bottom))}function D5t(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function _5t(e,t){e.rect(t.x,t.y,t.w,t.h)}function mw(e,t,r={}){const n=e.x!==r.x?-t:0,d=e.y!==r.y?-t:0,S=(e.x+e.w!==r.x+r.w?t:0)-n,s=(e.y+e.h!==r.y+r.h?t:0)-d;return{x:e.x+n,y:e.y+d,w:e.w+S,h:e.h+s,radius:e.radius}}class c4 extends wh{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:r,options:{borderColor:n,backgroundColor:d}}=this,{inner:S,outer:s}=F5t(this),g=D5t(s.radius)?Ay:_5t;t.save(),(s.w!==S.w||s.h!==S.h)&&(t.beginPath(),g(t,mw(s,r,S)),t.clip(),g(t,mw(S,-r,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),g(t,mw(S,r)),t.fillStyle=d,t.fill(),t.restore()}inRange(t,r,n){return vw(this,t,r,n)}inXRange(t,r){return vw(this,t,null,r)}inYRange(t,r){return vw(this,null,t,r)}getCenterPoint(t){const{x:r,y:n,base:d,horizontal:S}=this.getProps(["x","y","base","horizontal"],t);return{x:S?(r+d)/2:r,y:S?n:(n+d)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}c4.id="bar";c4.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};c4.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const x1={average(e){if(!e.length)return!1;let t,r,n=0,d=0,S=0;for(t=0,r=e.length;t<r;++t){const s=e[t].element;if(s&&s.hasValue()){const g=s.tooltipPosition();n+=g.x,d+=g.y,++S}}return{x:n/S,y:d/S}},nearest(e,t){if(!e.length)return!1;let r=t.x,n=t.y,d=Number.POSITIVE_INFINITY,S,s,g;for(S=0,s=e.length;S<s;++S){const i=e[S].element;if(i&&i.hasValue()){const o=i.getCenterPoint(),m=TC(t,o);m<d&&(d=m,g=i)}}if(g){const i=g.tooltipPosition();r=i.x,n=i.y}return{x:r,y:n}}};function iu(e,t){return t&&(es(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Wu(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function j5t(e,t){const{element:r,datasetIndex:n,index:d}=t,S=e.getDatasetMeta(n).controller,{label:s,value:g}=S.getLabelAndValue(d);return{chart:e,label:s,parsed:S.getParsed(d),raw:e.data.datasets[n].data[d],formattedValue:g,dataset:S.getDataset(),dataIndex:d,datasetIndex:n,element:r}}function RA(e,t){const r=e.chart.ctx,{body:n,footer:d,title:S}=e,{boxWidth:s,boxHeight:g}=t,i=Co(t.bodyFont),o=Co(t.titleFont),m=Co(t.footerFont),c=S.length,l=d.length,h=n.length,a=qo(t.padding);let f=a.height,p=0,u=n.reduce((x,b)=>x+b.before.length+b.lines.length+b.after.length,0);if(u+=e.beforeBody.length+e.afterBody.length,c&&(f+=c*o.lineHeight+(c-1)*t.titleSpacing+t.titleMarginBottom),u){const x=t.displayColors?Math.max(g,i.lineHeight):i.lineHeight;f+=h*x+(u-h)*i.lineHeight+(u-1)*t.bodySpacing}l&&(f+=t.footerMarginTop+l*m.lineHeight+(l-1)*t.footerSpacing);let v=0;const y=function(x){p=Math.max(p,r.measureText(x).width+v)};return r.save(),r.font=o.string,un(e.title,y),r.font=i.string,un(e.beforeBody.concat(e.afterBody),y),v=t.displayColors?s+2+t.boxPadding:0,un(n,x=>{un(x.before,y),un(x.lines,y),un(x.after,y)}),v=0,r.font=m.string,un(e.footer,y),r.restore(),p+=a.width,{width:p,height:f}}function z5t(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}function U5t(e,t,r,n){const{x:d,width:S}=n,s=r.caretSize+r.caretPadding;if(e==="left"&&d+S+s>t.width||e==="right"&&d-S-s<0)return!0}function G5t(e,t,r,n){const{x:d,width:S}=r,{width:s,chartArea:{left:g,right:i}}=e;let o="center";return n==="center"?o=d<=(g+i)/2?"left":"right":d<=S/2?o="left":d>=s-S/2&&(o="right"),U5t(o,e,t,r)&&(o="center"),o}function IA(e,t,r){const n=r.yAlign||t.yAlign||z5t(e,r);return{xAlign:r.xAlign||t.xAlign||G5t(e,t,r,n),yAlign:n}}function H5t(e,t){let{x:r,width:n}=e;return t==="right"?r-=n:t==="center"&&(r-=n/2),r}function $5t(e,t,r){let{y:n,height:d}=e;return t==="top"?n+=r:t==="bottom"?n-=d+r:n-=d/2,n}function MA(e,t,r,n){const{caretSize:d,caretPadding:S,cornerRadius:s}=e,{xAlign:g,yAlign:i}=r,o=d+S,{topLeft:m,topRight:c,bottomLeft:l,bottomRight:h}=If(s);let a=H5t(t,g);const f=$5t(t,i,o);return i==="center"?g==="left"?a+=o:g==="right"&&(a-=o):g==="left"?a-=Math.max(m,l)+d:g==="right"&&(a+=Math.max(c,h)+d),{x:Sa(a,0,n.width-t.width),y:Sa(f,0,n.height-t.height)}}function b0(e,t,r){const n=qo(r.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function BA(e){return iu([],Wu(e))}function W5t(e,t,r){return Pc(e,{tooltip:t,tooltipItems:r,type:"tooltip"})}function OA(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}class V5t extends wh{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const r=this.chart,n=this.options.setContext(this.getContext()),d=n.enabled&&r.options.animation&&n.animations,S=new nj(this.chart,d);return d._cacheable&&(this._cachedAnimations=Object.freeze(S)),S}getContext(){return this.$context||(this.$context=W5t(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){const{callbacks:n}=r,d=n.beforeTitle.apply(this,[t]),S=n.title.apply(this,[t]),s=n.afterTitle.apply(this,[t]);let g=[];return g=iu(g,Wu(d)),g=iu(g,Wu(S)),g=iu(g,Wu(s)),g}getBeforeBody(t,r){return BA(r.callbacks.beforeBody.apply(this,[t]))}getBody(t,r){const{callbacks:n}=r,d=[];return un(t,S=>{const s={before:[],lines:[],after:[]},g=OA(n,S);iu(s.before,Wu(g.beforeLabel.call(this,S))),iu(s.lines,g.label.call(this,S)),iu(s.after,Wu(g.afterLabel.call(this,S))),d.push(s)}),d}getAfterBody(t,r){return BA(r.callbacks.afterBody.apply(this,[t]))}getFooter(t,r){const{callbacks:n}=r,d=n.beforeFooter.apply(this,[t]),S=n.footer.apply(this,[t]),s=n.afterFooter.apply(this,[t]);let g=[];return g=iu(g,Wu(d)),g=iu(g,Wu(S)),g=iu(g,Wu(s)),g}_createItems(t){const r=this._active,n=this.chart.data,d=[],S=[],s=[];let g=[],i,o;for(i=0,o=r.length;i<o;++i)g.push(j5t(this.chart,r[i]));return t.filter&&(g=g.filter((m,c,l)=>t.filter(m,c,l,n))),t.itemSort&&(g=g.sort((m,c)=>t.itemSort(m,c,n))),un(g,m=>{const c=OA(t.callbacks,m);d.push(c.labelColor.call(this,m)),S.push(c.labelPointStyle.call(this,m)),s.push(c.labelTextColor.call(this,m))}),this.labelColors=d,this.labelPointStyles=S,this.labelTextColors=s,this.dataPoints=g,g}update(t,r){const n=this.options.setContext(this.getContext()),d=this._active;let S,s=[];if(!d.length)this.opacity!==0&&(S={opacity:0});else{const g=x1[n.position].call(this,d,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const i=this._size=RA(this,n),o=Object.assign({},g,i),m=IA(this.chart,n,o),c=MA(n,o,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,S={opacity:1,x:c.x,y:c.y,width:i.width,height:i.height,caretX:g.x,caretY:g.y}}this._tooltipItems=s,this.$context=void 0,S&&this._resolveAnimations().update(this,S),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,n,d){const S=this.getCaretPosition(t,n,d);r.lineTo(S.x1,S.y1),r.lineTo(S.x2,S.y2),r.lineTo(S.x3,S.y3)}getCaretPosition(t,r,n){const{xAlign:d,yAlign:S}=this,{caretSize:s,cornerRadius:g}=n,{topLeft:i,topRight:o,bottomLeft:m,bottomRight:c}=If(g),{x:l,y:h}=t,{width:a,height:f}=r;let p,u,v,y,x,b;return S==="center"?(x=h+f/2,d==="left"?(p=l,u=p-s,y=x+s,b=x-s):(p=l+a,u=p+s,y=x-s,b=x+s),v=p):(d==="left"?u=l+Math.max(i,m)+s:d==="right"?u=l+a-Math.max(o,c)-s:u=this.caretX,S==="top"?(y=h,x=y-s,p=u-s,v=u+s):(y=h+f,x=y+s,p=u+s,v=u-s),b=y),{x1:p,x2:u,x3:v,y1:y,y2:x,y3:b}}drawTitle(t,r,n){const d=this.title,S=d.length;let s,g,i;if(S){const o=lw(n.rtl,this.x,this.width);for(t.x=b0(this,n.titleAlign,n),r.textAlign=o.textAlign(n.titleAlign),r.textBaseline="middle",s=Co(n.titleFont),g=n.titleSpacing,r.fillStyle=n.titleColor,r.font=s.string,i=0;i<S;++i)r.fillText(d[i],o.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+g,i+1===S&&(t.y+=n.titleMarginBottom-g)}}_drawColorBox(t,r,n,d,S){const s=this.labelColors[n],g=this.labelPointStyles[n],{boxHeight:i,boxWidth:o,boxPadding:m}=S,c=Co(S.bodyFont),l=b0(this,"left",S),h=d.x(l),a=i<c.lineHeight?(c.lineHeight-i)/2:0,f=r.y+a;if(S.usePointStyle){const p={radius:Math.min(o,i)/2,pointStyle:g.pointStyle,rotation:g.rotation,borderWidth:1},u=d.leftForLtr(h,o)+o/2,v=f+i/2;t.strokeStyle=S.multiKeyBackground,t.fillStyle=S.multiKeyBackground,kC(t,p,u,v),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,kC(t,p,u,v)}else{t.lineWidth=Wr(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const p=d.leftForLtr(h,o-m),u=d.leftForLtr(d.xPlus(h,1),o-m-2),v=If(s.borderRadius);Object.values(v).some(y=>y!==0)?(t.beginPath(),t.fillStyle=S.multiKeyBackground,Ay(t,{x:p,y:f,w:o,h:i,radius:v}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),Ay(t,{x:u,y:f+1,w:o-2,h:i-2,radius:v}),t.fill()):(t.fillStyle=S.multiKeyBackground,t.fillRect(p,f,o,i),t.strokeRect(p,f,o,i),t.fillStyle=s.backgroundColor,t.fillRect(u,f+1,o-2,i-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,r,n){const{body:d}=this,{bodySpacing:S,bodyAlign:s,displayColors:g,boxHeight:i,boxWidth:o,boxPadding:m}=n,c=Co(n.bodyFont);let l=c.lineHeight,h=0;const a=lw(n.rtl,this.x,this.width),f=function(E){r.fillText(E,a.x(t.x+h),t.y+l/2),t.y+=l+S},p=a.textAlign(s);let u,v,y,x,b,w,C;for(r.textAlign=s,r.textBaseline="middle",r.font=c.string,t.x=b0(this,p,n),r.fillStyle=n.bodyColor,un(this.beforeBody,f),h=g&&p!=="right"?s==="center"?o/2+m:o+2+m:0,x=0,w=d.length;x<w;++x){for(u=d[x],v=this.labelTextColors[x],r.fillStyle=v,un(u.before,f),y=u.lines,g&&y.length&&(this._drawColorBox(r,t,x,a,n),l=Math.max(c.lineHeight,i)),b=0,C=y.length;b<C;++b)f(y[b]),l=c.lineHeight;un(u.after,f)}h=0,l=c.lineHeight,un(this.afterBody,f),t.y-=S}drawFooter(t,r,n){const d=this.footer,S=d.length;let s,g;if(S){const i=lw(n.rtl,this.x,this.width);for(t.x=b0(this,n.footerAlign,n),t.y+=n.footerMarginTop,r.textAlign=i.textAlign(n.footerAlign),r.textBaseline="middle",s=Co(n.footerFont),r.fillStyle=n.footerColor,r.font=s.string,g=0;g<S;++g)r.fillText(d[g],i.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,r,n,d){const{xAlign:S,yAlign:s}=this,{x:g,y:i}=t,{width:o,height:m}=n,{topLeft:c,topRight:l,bottomLeft:h,bottomRight:a}=If(d.cornerRadius);r.fillStyle=d.backgroundColor,r.strokeStyle=d.borderColor,r.lineWidth=d.borderWidth,r.beginPath(),r.moveTo(g+c,i),s==="top"&&this.drawCaret(t,r,n,d),r.lineTo(g+o-l,i),r.quadraticCurveTo(g+o,i,g+o,i+l),s==="center"&&S==="right"&&this.drawCaret(t,r,n,d),r.lineTo(g+o,i+m-a),r.quadraticCurveTo(g+o,i+m,g+o-a,i+m),s==="bottom"&&this.drawCaret(t,r,n,d),r.lineTo(g+h,i+m),r.quadraticCurveTo(g,i+m,g,i+m-h),s==="center"&&S==="left"&&this.drawCaret(t,r,n,d),r.lineTo(g,i+c),r.quadraticCurveTo(g,i,g+c,i),r.closePath(),r.fill(),d.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){const r=this.chart,n=this.$animations,d=n&&n.x,S=n&&n.y;if(d||S){const s=x1[t.position].call(this,this._active,this._eventPosition);if(!s)return;const g=this._size=RA(this,t),i=Object.assign({},s,this._size),o=IA(r,t,i),m=MA(t,i,o,r);(d._to!==m.x||S._to!==m.y)&&(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=g.width,this.height=g.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const d={width:this.width,height:this.height},S={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=qo(r.padding),g=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&g&&(t.save(),t.globalAlpha=n,this.drawBackground(S,t,d,r),P3t(t,r.textDirection),S.y+=s.top,this.drawTitle(S,t,r),this.drawBody(S,t,r),this.drawFooter(S,t,r),A3t(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){const n=this._active,d=t.map(({datasetIndex:g,index:i})=>{const o=this.chart.getDatasetMeta(g);if(!o)throw new Error("Cannot find a dataset at index "+g);return{datasetIndex:g,element:o.data[i],index:i}}),S=!Sy(n,d),s=this._positionChanged(d,r);(S||s)&&(this._active=d,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const d=this.options,S=this._active||[],s=this._getActiveElements(t,S,r,n),g=this._positionChanged(s,t),i=r||!Sy(s,S)||g;return i&&(this._active=s,(d.enabled||d.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),i}_getActiveElements(t,r,n,d){const S=this.options;if(t.type==="mouseout")return[];if(!d)return r;const s=this.chart.getElementsAtEventForMode(t,S.mode,S,n);return S.reverse&&s.reverse(),s}_positionChanged(t,r){const{caretX:n,caretY:d,options:S}=this,s=x1[S.position].call(this,t,r);return s!==!1&&(n!==s.x||d!==s.y)}}V5t.positioners=x1;const Y5t=(e,t,r,n)=>(typeof t=="string"?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r);function X5t(e,t,r,n){const d=e.indexOf(t);if(d===-1)return Y5t(e,t,r,n);const S=e.lastIndexOf(t);return d!==S?r:d}const Q5t=(e,t)=>e===null?null:Sa(Math.round(e),0,t);class BC extends Nd{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:d,label:S}of r)n[d]===S&&n.splice(d,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(hn(t))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===t?r:X5t(n,t,$r(r,t),this._addedLabels),Q5t(r,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:d}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),r||(d=this.getLabels().length-1)),this.min=n,this.max=d}buildTicks(){const t=this.min,r=this.max,n=this.options.offset,d=[];let S=this.getLabels();S=t===0&&r===S.length-1?S:S.slice(t,r+1),this._valueRange=Math.max(S.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=r;s++)d.push({value:s});return d}getLabelForValue(t){const r=this.getLabels();return t>=0&&t<r.length?r[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}BC.id="category";BC.defaults={ticks:{callback:BC.prototype.getLabelForValue}};function K5t(e,t){const r=[],{bounds:d,step:S,min:s,max:g,precision:i,count:o,maxTicks:m,maxDigits:c,includeBounds:l}=e,h=S||1,a=m-1,{min:f,max:p}=t,u=!hn(s),v=!hn(g),y=!hn(o),x=(p-f)/(c+1);let b=DP((p-f)/a/h)*h,w,C,E,T;if(b<1e-14&&!u&&!v)return[{value:f},{value:p}];T=Math.ceil(p/b)-Math.floor(f/b),T>a&&(b=DP(T*b/a/h)*h),hn(i)||(w=Math.pow(10,i),b=Math.ceil(b*w)/w),d==="ticks"?(C=Math.floor(f/b)*b,E=Math.ceil(p/b)*b):(C=f,E=p),u&&v&&S&&hCt((g-s)/S,b/1e3)?(T=Math.round(Math.min((g-s)/b,m)),b=(g-s)/T,C=s,E=g):y?(C=u?s:C,E=v?g:E,T=o-1,b=(E-C)/T):(T=(E-C)/b,Yv(T,Math.round(T),b/1e3)?T=Math.round(T):T=Math.ceil(T));const k=Math.max(_P(b),_P(C));w=Math.pow(10,hn(i)?k:i),C=Math.round(C*w)/w,E=Math.round(E*w)/w;let A=0;for(u&&(l&&C!==s?(r.push({value:s}),C<s&&A++,Yv(Math.round((C+A*b)*w)/w,s,NA(s,x,e))&&A++):C<s&&A++);A<T;++A)r.push({value:Math.round((C+A*b)*w)/w});return v&&l&&E!==g?r.length&&Yv(r[r.length-1].value,g,NA(g,x,e))?r[r.length-1].value=g:r.push({value:g}):(!v||E===g)&&r.push({value:E}),r}function NA(e,t,{horizontal:r,minRotation:n}){const d=Nl(n),S=(r?Math.sin(d):Math.cos(d))||.001,s=.75*t*(""+e).length;return Math.min(t/S,s)}class By extends Nd{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,r){return hn(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:d,max:S}=this;const s=i=>d=r?d:i,g=i=>S=n?S:i;if(t){const i=wu(d),o=wu(S);i<0&&o<0?g(0):i>0&&o>0&&s(0)}if(d===S){let i=1;(S>=Number.MAX_SAFE_INTEGER||d<=Number.MIN_SAFE_INTEGER)&&(i=Math.abs(S*.05)),g(S+i),t||s(d-i)}this.min=d,this.max=S}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=t,d;return n?(d=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,d>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${d} ticks. Limiting to 1000.`),d=1e3)):(d=this.computeTickLimit(),r=r||11),r&&(d=Math.min(r,d)),d}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,r=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const d={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},S=this._range||this,s=K5t(d,S);return t.bounds==="ticks"&&N_(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const d=(n-r)/Math.max(t.length-1,1)/2;r-=d,n+=d}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(t){return ug(t,this.chart.options.locale,this.options.ticks.format)}}class Tj extends By{determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=ra(t)?t:0,this.max=ra(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),r=t?this.width:this.height,n=Nl(this.options.ticks.minRotation),d=(t?Math.sin(n):Math.cos(n))||.001,S=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,S.lineHeight/d))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Tj.id="linear";Tj.defaults={ticks:{callback:Xx.formatters.numeric}};function LA(e){return e/Math.pow(10,Math.floor($o(e)))===1}function J5t(e,t){const r=Math.floor($o(t.max)),n=Math.ceil(t.max/Math.pow(10,r)),d=[];let S=jo(e.min,Math.pow(10,Math.floor($o(t.min)))),s=Math.floor($o(S)),g=Math.floor(S/Math.pow(10,s)),i=s<0?Math.pow(10,Math.abs(s)):1;do d.push({value:S,major:LA(S)}),++g,g===10&&(g=1,++s,i=s>=0?1:i),S=Math.round(g*Math.pow(10,s)*i)/i;while(s<r||s===r&&g<n);const o=jo(e.max,S);return d.push({value:o,major:LA(S)}),d}class Cj extends Nd{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,r){const n=By.prototype.parse.apply(this,[t,r]);if(n===0){this._zero=!0;return}return ra(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!0);this.min=ra(t)?Math.max(0,t):null,this.max=ra(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:r}=this.getUserBounds();let n=this.min,d=this.max;const S=i=>n=t?n:i,s=i=>d=r?d:i,g=(i,o)=>Math.pow(10,Math.floor($o(i))+o);n===d&&(n<=0?(S(1),s(10)):(S(g(n,-1)),s(g(d,1)))),n<=0&&S(g(d,-1)),d<=0&&s(g(n,1)),this._zero&&this.min!==this._suggestedMin&&n===g(this.min,0)&&S(g(n,-1)),this.min=n,this.max=d}buildTicks(){const t=this.options,r={min:this._userMin,max:this._userMax},n=J5t(r,this);return t.bounds==="ticks"&&N_(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":ug(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=$o(t),this._valueRange=$o(this.max)-$o(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:($o(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const r=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+r*this._valueRange)}}Cj.id="logarithmic";Cj.defaults={ticks:{callback:Xx.formatters.logarithmic,major:{enabled:!0}}};function OC(e){const t=e.ticks;if(t.display&&e.display){const r=qo(t.backdropPadding);return $r(t.font&&t.font.size,Ur.font.size)+r.height}return 0}function Z5t(e,t,r){return r=es(r)?r:[r],{w:GCt(e,t.string,r),h:r.length*t.lineHeight}}function FA(e,t,r,n,d){return e===n||e===d?{start:t-r/2,end:t+r/2}:e<n||e>d?{start:t-r,end:t}:{start:t,end:t+r}}function q5t(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),n=[],d=[],S=e._pointLabels.length,s=e.options.pointLabels,g=s.centerPointLabels?hs/S:0;for(let i=0;i<S;i++){const o=s.setContext(e.getPointLabelContext(i));d[i]=o.padding;const m=e.getPointPosition(i,e.drawingArea+d[i],g),c=Co(o.font),l=Z5t(e.ctx,c,e._pointLabels[i]);n[i]=l;const h=fl(e.getIndexAngle(i)+g),a=Math.round(X5(h)),f=FA(a,m.x,l.w,0,180),p=FA(a,m.y,l.h,90,270);t4t(r,t,h,f,p)}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=e4t(e,n,d)}function t4t(e,t,r,n,d){const S=Math.abs(Math.sin(r)),s=Math.abs(Math.cos(r));let g=0,i=0;n.start<t.l?(g=(t.l-n.start)/S,e.l=Math.min(e.l,t.l-g)):n.end>t.r&&(g=(n.end-t.r)/S,e.r=Math.max(e.r,t.r+g)),d.start<t.t?(i=(t.t-d.start)/s,e.t=Math.min(e.t,t.t-i)):d.end>t.b&&(i=(d.end-t.b)/s,e.b=Math.max(e.b,t.b+i))}function e4t(e,t,r){const n=[],d=e._pointLabels.length,S=e.options,s=OC(S)/2,g=e.drawingArea,i=S.pointLabels.centerPointLabels?hs/d:0;for(let o=0;o<d;o++){const m=e.getPointPosition(o,g+s+r[o],i),c=Math.round(X5(fl(m.angle+us))),l=t[o],h=n4t(m.y,l.h,c),a=i4t(c),f=r4t(m.x,l.w,a);n.push({x:m.x,y:h,textAlign:a,left:f,top:h,right:f+l.w,bottom:h+l.h})}return n}function i4t(e){return e===0||e===180?"center":e<180?"left":"right"}function r4t(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function n4t(e,t,r){return r===90||r===270?e-=t/2:(r>270||r<90)&&(e-=t),e}function s4t(e,t){const{ctx:r,options:{pointLabels:n}}=e;for(let d=t-1;d>=0;d--){const S=n.setContext(e.getPointLabelContext(d)),s=Co(S.font),{x:g,y:i,textAlign:o,left:m,top:c,right:l,bottom:h}=e._pointLabelItems[d],{backdropColor:a}=S;if(!hn(a)){const f=If(S.borderRadius),p=qo(S.backdropPadding);r.fillStyle=a;const u=m-p.left,v=c-p.top,y=l-m+p.width,x=h-c+p.height;Object.values(f).some(b=>b!==0)?(r.beginPath(),Ay(r,{x:u,y:v,w:y,h:x,radius:f}),r.fill()):r.fillRect(u,v,y,x)}Py(r,e._pointLabels[d],g,i+s.lineHeight/2,s,{color:S.color,textAlign:o,textBaseline:"middle"})}}function Ej(e,t,r,n){const{ctx:d}=e;if(r)d.arc(e.xCenter,e.yCenter,t,0,Pn);else{let S=e.getPointPosition(0,t);d.moveTo(S.x,S.y);for(let s=1;s<n;s++)S=e.getPointPosition(s,t),d.lineTo(S.x,S.y)}}function a4t(e,t,r,n){const d=e.ctx,S=t.circular,{color:s,lineWidth:g}=t;!S&&!n||!s||!g||r<0||(d.save(),d.strokeStyle=s,d.lineWidth=g,d.setLineDash(t.borderDash),d.lineDashOffset=t.borderDashOffset,d.beginPath(),Ej(e,r,S,n),d.closePath(),d.stroke(),d.restore())}function o4t(e,t,r){return Pc(e,{label:r,index:t,type:"pointLabel"})}class Kx extends By{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=qo(OC(this.options)/2),r=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+r/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:t,max:r}=this.getMinMax(!1);this.min=ra(t)&&!isNaN(t)?t:0,this.max=ra(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/OC(this.options))}generateTickLabels(t){By.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((r,n)=>{const d=ns(this.options.pointLabels.callback,[r,n],this);return d||d===0?d:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?q5t(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,r,n,d){this.xCenter+=Math.floor((t-r)/2),this.yCenter+=Math.floor((n-d)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,r,n,d))}getIndexAngle(t){const r=Pn/(this._pointLabels.length||1),n=this.options.startAngle||0;return fl(t*r+Nl(n))}getDistanceFromCenterForValue(t){if(hn(t))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*r:(t-this.min)*r}getValueForDistanceFromCenter(t){if(hn(t))return NaN;const r=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(t){const r=this._pointLabels||[];if(t>=0&&t<r.length){const n=r[t];return o4t(this.getContext(),t,n)}}getPointPosition(t,r,n=0){const d=this.getIndexAngle(t)-us+n;return{x:Math.cos(d)*r+this.xCenter,y:Math.sin(d)*r+this.yCenter,angle:d}}getPointPositionForValue(t,r){return this.getPointPosition(t,this.getDistanceFromCenterForValue(r))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:r,top:n,right:d,bottom:S}=this._pointLabelItems[t];return{left:r,top:n,right:d,bottom:S}}drawBackground(){const{backgroundColor:t,grid:{circular:r}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Ej(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,r=this.options,{angleLines:n,grid:d}=r,S=this._pointLabels.length;let s,g,i;if(r.pointLabels.display&&s4t(this,S),d.display&&this.ticks.forEach((o,m)=>{if(m!==0){g=this.getDistanceFromCenterForValue(o.value);const c=d.setContext(this.getContext(m-1));a4t(this,c,g,S)}}),n.display){for(t.save(),s=S-1;s>=0;s--){const o=n.setContext(this.getPointLabelContext(s)),{color:m,lineWidth:c}=o;!c||!m||(t.lineWidth=c,t.strokeStyle=m,t.setLineDash(o.borderDash),t.lineDashOffset=o.borderDashOffset,g=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),i=this.getPointPosition(s,g),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(i.x,i.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const d=this.getIndexAngle(0);let S,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(d),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((g,i)=>{if(i===0&&!r.reverse)return;const o=n.setContext(this.getContext(i)),m=Co(o.font);if(S=this.getDistanceFromCenterForValue(this.ticks[i].value),o.showLabelBackdrop){t.font=m.string,s=t.measureText(g.label).width,t.fillStyle=o.backdropColor;const c=qo(o.backdropPadding);t.fillRect(-s/2-c.left,-S-m.size/2-c.top,s+c.width,m.size+c.height)}Py(t,g.label,0,-S,m,{color:o.color})}),t.restore()}drawTitle(){}}Kx.id="radialLinear";Kx.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Xx.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};Kx.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Kx.descriptors={angleLines:{_fallback:"grid"}};const Jx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},eo=Object.keys(Jx);function l4t(e,t){return e-t}function DA(e,t){if(hn(t))return null;const r=e._adapter,{parser:n,round:d,isoWeekday:S}=e._parseOpts;let s=t;return typeof n=="function"&&(s=n(s)),ra(s)||(s=typeof n=="string"?r.parse(s,n):r.parse(s)),s===null?null:(d&&(s=d==="week"&&(Qf(S)||S===!0)?r.startOf(s,"isoWeek",S):r.startOf(s,d)),+s)}function _A(e,t,r,n){const d=eo.length;for(let S=eo.indexOf(e);S<d-1;++S){const s=Jx[eo[S]],g=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((r-t)/(g*s.size))<=n)return eo[S]}return eo[d-1]}function u4t(e,t,r,n,d){for(let S=eo.length-1;S>=eo.indexOf(r);S--){const s=eo[S];if(Jx[s].common&&e._adapter.diff(d,n,s)>=t-1)return s}return eo[r?eo.indexOf(r):0]}function h4t(e){for(let t=eo.indexOf(e)+1,r=eo.length;t<r;++t)if(Jx[eo[t]].common)return eo[t]}function jA(e,t,r){if(!r)e[t]=!0;else if(r.length){const{lo:n,hi:d}=Q5(r,t),S=r[n]>=t?r[n]:r[d];e[S]=!0}}function c4t(e,t,r,n){const d=e._adapter,S=+d.startOf(t[0].value,n),s=t[t.length-1].value;let g,i;for(g=S;g<=s;g=+d.add(g,1,n))i=r[g],i>=0&&(t[i].major=!0);return t}function zA(e,t,r){const n=[],d={},S=t.length;let s,g;for(s=0;s<S;++s)g=t[s],d[g]=s,n.push({value:g,major:!1});return S===0||!r?n:c4t(e,n,d,r)}class Zx extends Nd{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r){const n=t.time||(t.time={}),d=this._adapter=new REt._date(t.adapters.date);d.init(r),Vv(n.displayFormats,d.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:DA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,r=this._adapter,n=t.time.unit||"day";let{min:d,max:S,minDefined:s,maxDefined:g}=this.getUserBounds();function i(o){!s&&!isNaN(o.min)&&(d=Math.min(d,o.min)),!g&&!isNaN(o.max)&&(S=Math.max(S,o.max))}(!s||!g)&&(i(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&i(this.getMinMax(!1))),d=ra(d)&&!isNaN(d)?d:+r.startOf(Date.now(),n),S=ra(S)&&!isNaN(S)?S:+r.endOf(Date.now(),n)+1,this.min=Math.min(d,S-1),this.max=Math.max(d+1,S)}_getLabelBounds(){const t=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],n=t[t.length-1]),{min:r,max:n}}buildTicks(){const t=this.options,r=t.time,n=t.ticks,d=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&d.length&&(this.min=this._userMin||d[0],this.max=this._userMax||d[d.length-1]);const S=this.min,s=this.max,g=pCt(d,S,s);return this._unit=r.unit||(n.autoSkip?_A(r.minUnit,this.min,this.max,this._getLabelCapacity(S)):u4t(this,g.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:h4t(this._unit),this.initOffsets(d),t.reverse&&g.reverse(),zA(this,g,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let r=0,n=0,d,S;this.options.offset&&t.length&&(d=this.getDecimalForValue(t[0]),t.length===1?r=1-d:r=(this.getDecimalForValue(t[1])-d)/2,S=this.getDecimalForValue(t[t.length-1]),t.length===1?n=S:n=(S-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;r=Sa(r,0,s),n=Sa(n,0,s),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const t=this._adapter,r=this.min,n=this.max,d=this.options,S=d.time,s=S.unit||_A(S.minUnit,r,n,this._getLabelCapacity(r)),g=$r(S.stepSize,1),i=s==="week"?S.isoWeekday:!1,o=Qf(i)||i===!0,m={};let c=r,l,h;if(o&&(c=+t.startOf(c,"isoWeek",i)),c=+t.startOf(c,o?"day":s),t.diff(n,r,s)>1e5*g)throw new Error(r+" and "+n+" are too far apart with stepSize of "+g+" "+s);const a=d.ticks.source==="data"&&this.getDataTimestamps();for(l=c,h=0;l<n;l=+t.add(l,g,s),h++)jA(m,l,a);return(l===n||d.bounds==="ticks"||h===1)&&jA(m,l,a),Object.keys(m).sort((f,p)=>f-p).map(f=>+f)}getLabelForValue(t){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(t,n.tooltipFormat):r.format(t,n.displayFormats.datetime)}_tickFormatFunction(t,r,n,d){const S=this.options,s=S.time.displayFormats,g=this._unit,i=this._majorUnit,o=g&&s[g],m=i&&s[i],c=n[r],l=i&&m&&c&&c.major,h=this._adapter.format(t,d||(l?m:o)),a=S.ticks.callback;return a?ns(a,[h,r,n],this):h}generateTickLabels(t){let r,n,d;for(r=0,n=t.length;r<n;++r)d=t[r],d.label=this._tickFormatFunction(d.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const r=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const r=this.options.ticks,n=this.ctx.measureText(t).width,d=Nl(this.isHorizontal()?r.maxRotation:r.minRotation),S=Math.cos(d),s=Math.sin(d),g=this._resolveTickFontOptions(0).size;return{w:n*S+g*s,h:n*s+g*S}}_getLabelCapacity(t){const r=this.options.time,n=r.displayFormats,d=n[r.unit]||n.millisecond,S=this._tickFormatFunction(t,0,zA(this,[t],this._majorUnit),d),s=this._getLabelSize(S),g=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return g>0?g:1}getDataTimestamps(){let t=this._cache.data||[],r,n;if(t.length)return t;const d=this.getMatchingVisibleMetas();if(this._normalized&&d.length)return this._cache.data=d[0].controller.getAllParsedValues(this);for(r=0,n=d.length;r<n;++r)t=t.concat(d[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let r,n;if(t.length)return t;const d=this.getLabels();for(r=0,n=d.length;r<n;++r)t.push(DA(this,d[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return D_(t.sort(l4t))}}Zx.id="time";Zx.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function S0(e,t,r){let n=0,d=e.length-1,S,s,g,i;r?(t>=e[n].pos&&t<=e[d].pos&&({lo:n,hi:d}=ad(e,"pos",t)),{pos:S,time:g}=e[n],{pos:s,time:i}=e[d]):(t>=e[n].time&&t<=e[d].time&&({lo:n,hi:d}=ad(e,"time",t)),{time:S,pos:g}=e[n],{time:s,pos:i}=e[d]);const o=s-S;return o?g+(i-g)*(t-S)/o:g}class kj extends Zx{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(t);this._minPos=S0(r,this.min),this._tableRange=S0(r,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:r,max:n}=this,d=[],S=[];let s,g,i,o,m;for(s=0,g=t.length;s<g;++s)o=t[s],o>=r&&o<=n&&d.push(o);if(d.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(s=0,g=d.length;s<g;++s)m=d[s+1],i=d[s-1],o=d[s],Math.round((m+i)/2)!==o&&S.push({time:o,pos:s/(g-1)});return S}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?t=this.normalize(r.concat(n)):t=r.length?r:n,t=this._cache.all=t,t}getDecimalForValue(t){return(S0(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const r=this._offsets,n=this.getDecimalForPixel(t)/r.factor-r.end;return S0(this._table,n*this._tableRange+this._minPos,!0)}}kj.id="timeseries";kj.defaults=Zx.defaults;const Pj="label";function UA(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function d4t(e,t){Object.assign(e.options,t)}function Aj(e,t){e.labels=t}function Rj(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pj;const n=[];e.datasets=t.map(d=>{const S=e.datasets.find(s=>s[r]===d[r]);return!S||!d.data||n.includes(S)?Fi({},d):(n.push(S),Object.assign(S,d),S)})}function f4t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pj;const r={labels:[],datasets:[]};return Aj(r,e.labels),Rj(r,e.datasets,t),r}function p4t(e,t){let u=e,{height:r=150,width:n=300,redraw:d=!1,datasetIdKey:S,type:s,data:g,options:i,plugins:o=[],fallbackContent:m,updateMode:c}=u,l=D4(u,["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"]);const h=_i.useRef(null),a=_i.useRef(),f=()=>{h.current&&(a.current=new Sp(h.current,{type:s,data:f4t(g,S),options:i&&Fi({},i),plugins:o}),UA(t,a.current))},p=()=>{UA(t,null),a.current&&(a.current.destroy(),a.current=null)};return _i.useEffect(()=>{!d&&a.current&&i&&d4t(a.current,i)},[d,i]),_i.useEffect(()=>{!d&&a.current&&Aj(a.current.config.data,g.labels)},[d,g.labels]),_i.useEffect(()=>{!d&&a.current&&g.datasets&&Rj(a.current.config.data,g.datasets,S)},[d,g.datasets]),_i.useEffect(()=>{a.current&&(d?(p(),setTimeout(f)):a.current.update(c))},[d,i,g.labels,g.datasets,c]),_i.useEffect(()=>{a.current&&(p(),setTimeout(f))},[s]),_i.useEffect(()=>(f(),()=>p()),[]),ti.createElement("canvas",Object.assign({ref:h,role:"img",height:r,width:n},l),m)}const v4t=_i.forwardRef(p4t);function m4t(e,t){return Sp.register(t),_i.forwardRef((r,n)=>ti.createElement(v4t,Object.assign({},r,{ref:n,type:e})))}const Kh=m4t("doughnut",bp);var g4t=1/0,y4t="[object Symbol]",Ij=/[&<>"'`]/g,x4t=RegExp(Ij.source),b4t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},S4t=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,w4t=typeof self=="object"&&self&&self.Object===Object&&self,T4t=S4t||w4t||Function("return this")();function C4t(e){return function(t){return e==null?void 0:e[t]}}var E4t=C4t(b4t),k4t=Object.prototype,P4t=k4t.toString,GA=T4t.Symbol,HA=GA?GA.prototype:void 0,$A=HA?HA.toString:void 0;function A4t(e){if(typeof e=="string")return e;if(I4t(e))return $A?$A.call(e):"";var t=e+"";return t=="0"&&1/e==-g4t?"-0":t}function R4t(e){return!!e&&typeof e=="object"}function I4t(e){return typeof e=="symbol"||R4t(e)&&P4t.call(e)==y4t}function M4t(e){return e==null?"":A4t(e)}function B4t(e){return e=M4t(e),e&&x4t.test(e)?e.replace(Ij,E4t):e}var O4t=B4t;const N4t=ks(O4t);var Fs={},qx={};qx.byteLength=D4t;qx.toByteArray=j4t;qx.fromByteArray=G4t;var fu=[],Uo=[],L4t=typeof Uint8Array!="undefined"?Uint8Array:Array,gw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ef=0,F4t=gw.length;ef<F4t;++ef)fu[ef]=gw[ef],Uo[gw.charCodeAt(ef)]=ef;Uo[45]=62;Uo[95]=63;function Mj(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function D4t(e){var t=Mj(e),r=t[0],n=t[1];return(r+n)*3/4-n}function _4t(e,t,r){return(t+r)*3/4-r}function j4t(e){var t,r=Mj(e),n=r[0],d=r[1],S=new L4t(_4t(e,n,d)),s=0,g=d>0?n-4:n,i;for(i=0;i<g;i+=4)t=Uo[e.charCodeAt(i)]<<18|Uo[e.charCodeAt(i+1)]<<12|Uo[e.charCodeAt(i+2)]<<6|Uo[e.charCodeAt(i+3)],S[s++]=t>>16&255,S[s++]=t>>8&255,S[s++]=t&255;return d===2&&(t=Uo[e.charCodeAt(i)]<<2|Uo[e.charCodeAt(i+1)]>>4,S[s++]=t&255),d===1&&(t=Uo[e.charCodeAt(i)]<<10|Uo[e.charCodeAt(i+1)]<<4|Uo[e.charCodeAt(i+2)]>>2,S[s++]=t>>8&255,S[s++]=t&255),S}function z4t(e){return fu[e>>18&63]+fu[e>>12&63]+fu[e>>6&63]+fu[e&63]}function U4t(e,t,r){for(var n,d=[],S=t;S<r;S+=3)n=(e[S]<<16&16711680)+(e[S+1]<<8&65280)+(e[S+2]&255),d.push(z4t(n));return d.join("")}function G4t(e){for(var t,r=e.length,n=r%3,d=[],S=16383,s=0,g=r-n;s<g;s+=S)d.push(U4t(e,s,s+S>g?g:s+S));return n===1?(t=e[r-1],d.push(fu[t>>2]+fu[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],d.push(fu[t>>10]+fu[t>>4&63]+fu[t<<2&63]+"=")),d.join("")}var d4={};d4.read=function(e,t,r,n,d){var S,s,g=d*8-n-1,i=(1<<g)-1,o=i>>1,m=-7,c=r?d-1:0,l=r?-1:1,h=e[t+c];for(c+=l,S=h&(1<<-m)-1,h>>=-m,m+=g;m>0;S=S*256+e[t+c],c+=l,m-=8);for(s=S&(1<<-m)-1,S>>=-m,m+=n;m>0;s=s*256+e[t+c],c+=l,m-=8);if(S===0)S=1-o;else{if(S===i)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,n),S=S-o}return(h?-1:1)*s*Math.pow(2,S-n)};d4.write=function(e,t,r,n,d,S){var s,g,i,o=S*8-d-1,m=(1<<o)-1,c=m>>1,l=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:S-1,a=n?1:-1,f=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,s=m):(s=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-s))<1&&(s--,i*=2),s+c>=1?t+=l/i:t+=l*Math.pow(2,1-c),t*i>=2&&(s++,i/=2),s+c>=m?(g=0,s=m):s+c>=1?(g=(t*i-1)*Math.pow(2,d),s=s+c):(g=t*Math.pow(2,c-1)*Math.pow(2,d),s=0));d>=8;e[r+h]=g&255,h+=a,g/=256,d-=8);for(s=s<<d|g,o+=d;o>0;e[r+h]=s&255,h+=a,s/=256,o-=8);e[r+h-a]|=f*128};(function(e){const t=qx,r=d4,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=m,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50;const d=2147483647;e.kMaxLength=d;const{Uint8Array:S,ArrayBuffer:s,SharedArrayBuffer:g}=globalThis;m.TYPED_ARRAY_SUPPORT=i(),!m.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const xt=new S(1),et={foo:function(){return 42}};return Object.setPrototypeOf(et,S.prototype),Object.setPrototypeOf(xt,et),xt.foo()===42}catch(xt){return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}});function o(xt){if(xt>d)throw new RangeError('The value "'+xt+'" is invalid for option "size"');const et=new S(xt);return Object.setPrototypeOf(et,m.prototype),et}function m(xt,et,tt){if(typeof xt=="number"){if(typeof et=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(xt)}return c(xt,et,tt)}m.poolSize=8192;function c(xt,et,tt){if(typeof xt=="string")return f(xt,et);if(s.isView(xt))return u(xt);if(xt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof xt);if(ve(xt,s)||xt&&ve(xt.buffer,s)||typeof g!="undefined"&&(ve(xt,g)||xt&&ve(xt.buffer,g)))return v(xt,et,tt);if(typeof xt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Nt=xt.valueOf&&xt.valueOf();if(Nt!=null&&Nt!==xt)return m.from(Nt,et,tt);const ie=y(xt);if(ie)return ie;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof xt[Symbol.toPrimitive]=="function")return m.from(xt[Symbol.toPrimitive]("string"),et,tt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof xt)}m.from=function(xt,et,tt){return c(xt,et,tt)},Object.setPrototypeOf(m.prototype,S.prototype),Object.setPrototypeOf(m,S);function l(xt){if(typeof xt!="number")throw new TypeError('"size" argument must be of type number');if(xt<0)throw new RangeError('The value "'+xt+'" is invalid for option "size"')}function h(xt,et,tt){return l(xt),xt<=0?o(xt):et!==void 0?typeof tt=="string"?o(xt).fill(et,tt):o(xt).fill(et):o(xt)}m.alloc=function(xt,et,tt){return h(xt,et,tt)};function a(xt){return l(xt),o(xt<0?0:x(xt)|0)}m.allocUnsafe=function(xt){return a(xt)},m.allocUnsafeSlow=function(xt){return a(xt)};function f(xt,et){if((typeof et!="string"||et==="")&&(et="utf8"),!m.isEncoding(et))throw new TypeError("Unknown encoding: "+et);const tt=w(xt,et)|0;let Nt=o(tt);const ie=Nt.write(xt,et);return ie!==tt&&(Nt=Nt.slice(0,ie)),Nt}function p(xt){const et=xt.length<0?0:x(xt.length)|0,tt=o(et);for(let Nt=0;Nt<et;Nt+=1)tt[Nt]=xt[Nt]&255;return tt}function u(xt){if(ve(xt,S)){const et=new S(xt);return v(et.buffer,et.byteOffset,et.byteLength)}return p(xt)}function v(xt,et,tt){if(et<0||xt.byteLength<et)throw new RangeError('"offset" is outside of buffer bounds');if(xt.byteLength<et+(tt||0))throw new RangeError('"length" is outside of buffer bounds');let Nt;return et===void 0&&tt===void 0?Nt=new S(xt):tt===void 0?Nt=new S(xt,et):Nt=new S(xt,et,tt),Object.setPrototypeOf(Nt,m.prototype),Nt}function y(xt){if(m.isBuffer(xt)){const et=x(xt.length)|0,tt=o(et);return tt.length===0||xt.copy(tt,0,0,et),tt}if(xt.length!==void 0)return typeof xt.length!="number"||Fe(xt.length)?o(0):p(xt);if(xt.type==="Buffer"&&Array.isArray(xt.data))return p(xt.data)}function x(xt){if(xt>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return xt|0}function b(xt){return+xt!=xt&&(xt=0),m.alloc(+xt)}m.isBuffer=function(et){return et!=null&&et._isBuffer===!0&&et!==m.prototype},m.compare=function(et,tt){if(ve(et,S)&&(et=m.from(et,et.offset,et.byteLength)),ve(tt,S)&&(tt=m.from(tt,tt.offset,tt.byteLength)),!m.isBuffer(et)||!m.isBuffer(tt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(et===tt)return 0;let Nt=et.length,ie=tt.length;for(let Ce=0,Le=Math.min(Nt,ie);Ce<Le;++Ce)if(et[Ce]!==tt[Ce]){Nt=et[Ce],ie=tt[Ce];break}return Nt<ie?-1:ie<Nt?1:0},m.isEncoding=function(et){switch(String(et).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(et,tt){if(!Array.isArray(et))throw new TypeError('"list" argument must be an Array of Buffers');if(et.length===0)return m.alloc(0);let Nt;if(tt===void 0)for(tt=0,Nt=0;Nt<et.length;++Nt)tt+=et[Nt].length;const ie=m.allocUnsafe(tt);let Ce=0;for(Nt=0;Nt<et.length;++Nt){let Le=et[Nt];if(ve(Le,S))Ce+Le.length>ie.length?(m.isBuffer(Le)||(Le=m.from(Le)),Le.copy(ie,Ce)):S.prototype.set.call(ie,Le,Ce);else if(m.isBuffer(Le))Le.copy(ie,Ce);else throw new TypeError('"list" argument must be an Array of Buffers');Ce+=Le.length}return ie};function w(xt,et){if(m.isBuffer(xt))return xt.length;if(s.isView(xt)||ve(xt,s))return xt.byteLength;if(typeof xt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof xt);const tt=xt.length,Nt=arguments.length>2&&arguments[2]===!0;if(!Nt&&tt===0)return 0;let ie=!1;for(;;)switch(et){case"ascii":case"latin1":case"binary":return tt;case"utf8":case"utf-8":return Ot(xt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt*2;case"hex":return tt>>>1;case"base64":return xe(xt).length;default:if(ie)return Nt?-1:Ot(xt).length;et=(""+et).toLowerCase(),ie=!0}}m.byteLength=w;function C(xt,et,tt){let Nt=!1;if((et===void 0||et<0)&&(et=0),et>this.length||((tt===void 0||tt>this.length)&&(tt=this.length),tt<=0)||(tt>>>=0,et>>>=0,tt<=et))return"";for(xt||(xt="utf8");;)switch(xt){case"hex":return Y(this,et,tt);case"utf8":case"utf-8":return L(this,et,tt);case"ascii":return $(this,et,tt);case"latin1":case"binary":return W(this,et,tt);case"base64":return P(this,et,tt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,et,tt);default:if(Nt)throw new TypeError("Unknown encoding: "+xt);xt=(xt+"").toLowerCase(),Nt=!0}}m.prototype._isBuffer=!0;function E(xt,et,tt){const Nt=xt[et];xt[et]=xt[tt],xt[tt]=Nt}m.prototype.swap16=function(){const et=this.length;if(et%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let tt=0;tt<et;tt+=2)E(this,tt,tt+1);return this},m.prototype.swap32=function(){const et=this.length;if(et%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let tt=0;tt<et;tt+=4)E(this,tt,tt+3),E(this,tt+1,tt+2);return this},m.prototype.swap64=function(){const et=this.length;if(et%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let tt=0;tt<et;tt+=8)E(this,tt,tt+7),E(this,tt+1,tt+6),E(this,tt+2,tt+5),E(this,tt+3,tt+4);return this},m.prototype.toString=function(){const et=this.length;return et===0?"":arguments.length===0?L(this,0,et):C.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(et){if(!m.isBuffer(et))throw new TypeError("Argument must be a Buffer");return this===et?!0:m.compare(this,et)===0},m.prototype.inspect=function(){let et="";const tt=e.INSPECT_MAX_BYTES;return et=this.toString("hex",0,tt).replace(/(.{2})/g,"$1 ").trim(),this.length>tt&&(et+=" ... "),"<Buffer "+et+">"},n&&(m.prototype[n]=m.prototype.inspect),m.prototype.compare=function(et,tt,Nt,ie,Ce){if(ve(et,S)&&(et=m.from(et,et.offset,et.byteLength)),!m.isBuffer(et))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof et);if(tt===void 0&&(tt=0),Nt===void 0&&(Nt=et?et.length:0),ie===void 0&&(ie=0),Ce===void 0&&(Ce=this.length),tt<0||Nt>et.length||ie<0||Ce>this.length)throw new RangeError("out of range index");if(ie>=Ce&&tt>=Nt)return 0;if(ie>=Ce)return-1;if(tt>=Nt)return 1;if(tt>>>=0,Nt>>>=0,ie>>>=0,Ce>>>=0,this===et)return 0;let Le=Ce-ie,Gi=Nt-tt;const Sr=Math.min(Le,Gi),lr=this.slice(ie,Ce),gr=et.slice(tt,Nt);for(let Cr=0;Cr<Sr;++Cr)if(lr[Cr]!==gr[Cr]){Le=lr[Cr],Gi=gr[Cr];break}return Le<Gi?-1:Gi<Le?1:0};function T(xt,et,tt,Nt,ie){if(xt.length===0)return-1;if(typeof tt=="string"?(Nt=tt,tt=0):tt>2147483647?tt=2147483647:tt<-2147483648&&(tt=-2147483648),tt=+tt,Fe(tt)&&(tt=ie?0:xt.length-1),tt<0&&(tt=xt.length+tt),tt>=xt.length){if(ie)return-1;tt=xt.length-1}else if(tt<0)if(ie)tt=0;else return-1;if(typeof et=="string"&&(et=m.from(et,Nt)),m.isBuffer(et))return et.length===0?-1:k(xt,et,tt,Nt,ie);if(typeof et=="number")return et=et&255,typeof S.prototype.indexOf=="function"?ie?S.prototype.indexOf.call(xt,et,tt):S.prototype.lastIndexOf.call(xt,et,tt):k(xt,[et],tt,Nt,ie);throw new TypeError("val must be string, number or Buffer")}function k(xt,et,tt,Nt,ie){let Ce=1,Le=xt.length,Gi=et.length;if(Nt!==void 0&&(Nt=String(Nt).toLowerCase(),Nt==="ucs2"||Nt==="ucs-2"||Nt==="utf16le"||Nt==="utf-16le")){if(xt.length<2||et.length<2)return-1;Ce=2,Le/=2,Gi/=2,tt/=2}function Sr(gr,Cr){return Ce===1?gr[Cr]:gr.readUInt16BE(Cr*Ce)}let lr;if(ie){let gr=-1;for(lr=tt;lr<Le;lr++)if(Sr(xt,lr)===Sr(et,gr===-1?0:lr-gr)){if(gr===-1&&(gr=lr),lr-gr+1===Gi)return gr*Ce}else gr!==-1&&(lr-=lr-gr),gr=-1}else for(tt+Gi>Le&&(tt=Le-Gi),lr=tt;lr>=0;lr--){let gr=!0;for(let Cr=0;Cr<Gi;Cr++)if(Sr(xt,lr+Cr)!==Sr(et,Cr)){gr=!1;break}if(gr)return lr}return-1}m.prototype.includes=function(et,tt,Nt){return this.indexOf(et,tt,Nt)!==-1},m.prototype.indexOf=function(et,tt,Nt){return T(this,et,tt,Nt,!0)},m.prototype.lastIndexOf=function(et,tt,Nt){return T(this,et,tt,Nt,!1)};function A(xt,et,tt,Nt){tt=Number(tt)||0;const ie=xt.length-tt;Nt?(Nt=Number(Nt),Nt>ie&&(Nt=ie)):Nt=ie;const Ce=et.length;Nt>Ce/2&&(Nt=Ce/2);let Le;for(Le=0;Le<Nt;++Le){const Gi=parseInt(et.substr(Le*2,2),16);if(Fe(Gi))return Le;xt[tt+Le]=Gi}return Le}function I(xt,et,tt,Nt){return ke(Ot(et,xt.length-tt),xt,tt,Nt)}function B(xt,et,tt,Nt){return ke(le(et),xt,tt,Nt)}function M(xt,et,tt,Nt){return ke(xe(et),xt,tt,Nt)}function O(xt,et,tt,Nt){return ke(_t(et,xt.length-tt),xt,tt,Nt)}m.prototype.write=function(et,tt,Nt,ie){if(tt===void 0)ie="utf8",Nt=this.length,tt=0;else if(Nt===void 0&&typeof tt=="string")ie=tt,Nt=this.length,tt=0;else if(isFinite(tt))tt=tt>>>0,isFinite(Nt)?(Nt=Nt>>>0,ie===void 0&&(ie="utf8")):(ie=Nt,Nt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ce=this.length-tt;if((Nt===void 0||Nt>Ce)&&(Nt=Ce),et.length>0&&(Nt<0||tt<0)||tt>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let Le=!1;for(;;)switch(ie){case"hex":return A(this,et,tt,Nt);case"utf8":case"utf-8":return I(this,et,tt,Nt);case"ascii":case"latin1":case"binary":return B(this,et,tt,Nt);case"base64":return M(this,et,tt,Nt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,et,tt,Nt);default:if(Le)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),Le=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(xt,et,tt){return et===0&&tt===xt.length?t.fromByteArray(xt):t.fromByteArray(xt.slice(et,tt))}function L(xt,et,tt){tt=Math.min(xt.length,tt);const Nt=[];let ie=et;for(;ie<tt;){const Ce=xt[ie];let Le=null,Gi=Ce>239?4:Ce>223?3:Ce>191?2:1;if(ie+Gi<=tt){let Sr,lr,gr,Cr;switch(Gi){case 1:Ce<128&&(Le=Ce);break;case 2:Sr=xt[ie+1],(Sr&192)===128&&(Cr=(Ce&31)<<6|Sr&63,Cr>127&&(Le=Cr));break;case 3:Sr=xt[ie+1],lr=xt[ie+2],(Sr&192)===128&&(lr&192)===128&&(Cr=(Ce&15)<<12|(Sr&63)<<6|lr&63,Cr>2047&&(Cr<55296||Cr>57343)&&(Le=Cr));break;case 4:Sr=xt[ie+1],lr=xt[ie+2],gr=xt[ie+3],(Sr&192)===128&&(lr&192)===128&&(gr&192)===128&&(Cr=(Ce&15)<<18|(Sr&63)<<12|(lr&63)<<6|gr&63,Cr>65535&&Cr<1114112&&(Le=Cr))}}Le===null?(Le=65533,Gi=1):Le>65535&&(Le-=65536,Nt.push(Le>>>10&1023|55296),Le=56320|Le&1023),Nt.push(Le),ie+=Gi}return G(Nt)}const _=4096;function G(xt){const et=xt.length;if(et<=_)return String.fromCharCode.apply(String,xt);let tt="",Nt=0;for(;Nt<et;)tt+=String.fromCharCode.apply(String,xt.slice(Nt,Nt+=_));return tt}function $(xt,et,tt){let Nt="";tt=Math.min(xt.length,tt);for(let ie=et;ie<tt;++ie)Nt+=String.fromCharCode(xt[ie]&127);return Nt}function W(xt,et,tt){let Nt="";tt=Math.min(xt.length,tt);for(let ie=et;ie<tt;++ie)Nt+=String.fromCharCode(xt[ie]);return Nt}function Y(xt,et,tt){const Nt=xt.length;(!et||et<0)&&(et=0),(!tt||tt<0||tt>Nt)&&(tt=Nt);let ie="";for(let Ce=et;Ce<tt;++Ce)ie+=Ze[xt[Ce]];return ie}function z(xt,et,tt){const Nt=xt.slice(et,tt);let ie="";for(let Ce=0;Ce<Nt.length-1;Ce+=2)ie+=String.fromCharCode(Nt[Ce]+Nt[Ce+1]*256);return ie}m.prototype.slice=function(et,tt){const Nt=this.length;et=~~et,tt=tt===void 0?Nt:~~tt,et<0?(et+=Nt,et<0&&(et=0)):et>Nt&&(et=Nt),tt<0?(tt+=Nt,tt<0&&(tt=0)):tt>Nt&&(tt=Nt),tt<et&&(tt=et);const ie=this.subarray(et,tt);return Object.setPrototypeOf(ie,m.prototype),ie};function F(xt,et,tt){if(xt%1!==0||xt<0)throw new RangeError("offset is not uint");if(xt+et>tt)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(et,tt,Nt){et=et>>>0,tt=tt>>>0,Nt||F(et,tt,this.length);let ie=this[et],Ce=1,Le=0;for(;++Le<tt&&(Ce*=256);)ie+=this[et+Le]*Ce;return ie},m.prototype.readUintBE=m.prototype.readUIntBE=function(et,tt,Nt){et=et>>>0,tt=tt>>>0,Nt||F(et,tt,this.length);let ie=this[et+--tt],Ce=1;for(;tt>0&&(Ce*=256);)ie+=this[et+--tt]*Ce;return ie},m.prototype.readUint8=m.prototype.readUInt8=function(et,tt){return et=et>>>0,tt||F(et,1,this.length),this[et]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(et,tt){return et=et>>>0,tt||F(et,2,this.length),this[et]|this[et+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(et,tt){return et=et>>>0,tt||F(et,2,this.length),this[et]<<8|this[et+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(et,tt){return et=et>>>0,tt||F(et,4,this.length),(this[et]|this[et+1]<<8|this[et+2]<<16)+this[et+3]*16777216},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(et,tt){return et=et>>>0,tt||F(et,4,this.length),this[et]*16777216+(this[et+1]<<16|this[et+2]<<8|this[et+3])},m.prototype.readBigUInt64LE=ei(function(et){et=et>>>0,Ft(et,"offset");const tt=this[et],Nt=this[et+7];(tt===void 0||Nt===void 0)&&dt(et,this.length-8);const ie=tt+this[++et]*gn(2,8)+this[++et]*gn(2,16)+this[++et]*gn(2,24),Ce=this[++et]+this[++et]*gn(2,8)+this[++et]*gn(2,16)+Nt*gn(2,24);return BigInt(ie)+(BigInt(Ce)<<BigInt(32))}),m.prototype.readBigUInt64BE=ei(function(et){et=et>>>0,Ft(et,"offset");const tt=this[et],Nt=this[et+7];(tt===void 0||Nt===void 0)&&dt(et,this.length-8);const ie=tt*gn(2,24)+this[++et]*gn(2,16)+this[++et]*gn(2,8)+this[++et],Ce=this[++et]*gn(2,24)+this[++et]*gn(2,16)+this[++et]*gn(2,8)+Nt;return(BigInt(ie)<<BigInt(32))+BigInt(Ce)}),m.prototype.readIntLE=function(et,tt,Nt){et=et>>>0,tt=tt>>>0,Nt||F(et,tt,this.length);let ie=this[et],Ce=1,Le=0;for(;++Le<tt&&(Ce*=256);)ie+=this[et+Le]*Ce;return Ce*=128,ie>=Ce&&(ie-=Math.pow(2,8*tt)),ie},m.prototype.readIntBE=function(et,tt,Nt){et=et>>>0,tt=tt>>>0,Nt||F(et,tt,this.length);let ie=tt,Ce=1,Le=this[et+--ie];for(;ie>0&&(Ce*=256);)Le+=this[et+--ie]*Ce;return Ce*=128,Le>=Ce&&(Le-=Math.pow(2,8*tt)),Le},m.prototype.readInt8=function(et,tt){return et=et>>>0,tt||F(et,1,this.length),this[et]&128?(255-this[et]+1)*-1:this[et]},m.prototype.readInt16LE=function(et,tt){et=et>>>0,tt||F(et,2,this.length);const Nt=this[et]|this[et+1]<<8;return Nt&32768?Nt|4294901760:Nt},m.prototype.readInt16BE=function(et,tt){et=et>>>0,tt||F(et,2,this.length);const Nt=this[et+1]|this[et]<<8;return Nt&32768?Nt|4294901760:Nt},m.prototype.readInt32LE=function(et,tt){return et=et>>>0,tt||F(et,4,this.length),this[et]|this[et+1]<<8|this[et+2]<<16|this[et+3]<<24},m.prototype.readInt32BE=function(et,tt){return et=et>>>0,tt||F(et,4,this.length),this[et]<<24|this[et+1]<<16|this[et+2]<<8|this[et+3]},m.prototype.readBigInt64LE=ei(function(et){et=et>>>0,Ft(et,"offset");const tt=this[et],Nt=this[et+7];(tt===void 0||Nt===void 0)&&dt(et,this.length-8);const ie=this[et+4]+this[et+5]*gn(2,8)+this[et+6]*gn(2,16)+(Nt<<24);return(BigInt(ie)<<BigInt(32))+BigInt(tt+this[++et]*gn(2,8)+this[++et]*gn(2,16)+this[++et]*gn(2,24))}),m.prototype.readBigInt64BE=ei(function(et){et=et>>>0,Ft(et,"offset");const tt=this[et],Nt=this[et+7];(tt===void 0||Nt===void 0)&&dt(et,this.length-8);const ie=(tt<<24)+this[++et]*gn(2,16)+this[++et]*gn(2,8)+this[++et];return(BigInt(ie)<<BigInt(32))+BigInt(this[++et]*gn(2,24)+this[++et]*gn(2,16)+this[++et]*gn(2,8)+Nt)}),m.prototype.readFloatLE=function(et,tt){return et=et>>>0,tt||F(et,4,this.length),r.read(this,et,!0,23,4)},m.prototype.readFloatBE=function(et,tt){return et=et>>>0,tt||F(et,4,this.length),r.read(this,et,!1,23,4)},m.prototype.readDoubleLE=function(et,tt){return et=et>>>0,tt||F(et,8,this.length),r.read(this,et,!0,52,8)},m.prototype.readDoubleBE=function(et,tt){return et=et>>>0,tt||F(et,8,this.length),r.read(this,et,!1,52,8)};function N(xt,et,tt,Nt,ie,Ce){if(!m.isBuffer(xt))throw new TypeError('"buffer" argument must be a Buffer instance');if(et>ie||et<Ce)throw new RangeError('"value" argument is out of bounds');if(tt+Nt>xt.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(et,tt,Nt,ie){if(et=+et,tt=tt>>>0,Nt=Nt>>>0,!ie){const Gi=Math.pow(2,8*Nt)-1;N(this,et,tt,Nt,Gi,0)}let Ce=1,Le=0;for(this[tt]=et&255;++Le<Nt&&(Ce*=256);)this[tt+Le]=et/Ce&255;return tt+Nt},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(et,tt,Nt,ie){if(et=+et,tt=tt>>>0,Nt=Nt>>>0,!ie){const Gi=Math.pow(2,8*Nt)-1;N(this,et,tt,Nt,Gi,0)}let Ce=Nt-1,Le=1;for(this[tt+Ce]=et&255;--Ce>=0&&(Le*=256);)this[tt+Ce]=et/Le&255;return tt+Nt},m.prototype.writeUint8=m.prototype.writeUInt8=function(et,tt,Nt){return et=+et,tt=tt>>>0,Nt||N(this,et,tt,1,255,0),this[tt]=et&255,tt+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(et,tt,Nt){return et=+et,tt=tt>>>0,Nt||N(this,et,tt,2,65535,0),this[tt]=et&255,this[tt+1]=et>>>8,tt+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(et,tt,Nt){return et=+et,tt=tt>>>0,Nt||N(this,et,tt,2,65535,0),this[tt]=et>>>8,this[tt+1]=et&255,tt+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(et,tt,Nt){return et=+et,tt=tt>>>0,Nt||N(this,et,tt,4,4294967295,0),this[tt+3]=et>>>24,this[tt+2]=et>>>16,this[tt+1]=et>>>8,this[tt]=et&255,tt+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(et,tt,Nt){return et=+et,tt=tt>>>0,Nt||N(this,et,tt,4,4294967295,0),this[tt]=et>>>24,this[tt+1]=et>>>16,this[tt+2]=et>>>8,this[tt+3]=et&255,tt+4};function j(xt,et,tt,Nt,ie){Mt(et,Nt,ie,xt,tt,7);let Ce=Number(et&BigInt(4294967295));xt[tt++]=Ce,Ce=Ce>>8,xt[tt++]=Ce,Ce=Ce>>8,xt[tt++]=Ce,Ce=Ce>>8,xt[tt++]=Ce;let Le=Number(et>>BigInt(32)&BigInt(4294967295));return xt[tt++]=Le,Le=Le>>8,xt[tt++]=Le,Le=Le>>8,xt[tt++]=Le,Le=Le>>8,xt[tt++]=Le,tt}function U(xt,et,tt,Nt,ie){Mt(et,Nt,ie,xt,tt,7);let Ce=Number(et&BigInt(4294967295));xt[tt+7]=Ce,Ce=Ce>>8,xt[tt+6]=Ce,Ce=Ce>>8,xt[tt+5]=Ce,Ce=Ce>>8,xt[tt+4]=Ce;let Le=Number(et>>BigInt(32)&BigInt(4294967295));return xt[tt+3]=Le,Le=Le>>8,xt[tt+2]=Le,Le=Le>>8,xt[tt+1]=Le,Le=Le>>8,xt[tt]=Le,tt+8}m.prototype.writeBigUInt64LE=ei(function(et,tt=0){return j(this,et,tt,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=ei(function(et,tt=0){return U(this,et,tt,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(et,tt,Nt,ie){if(et=+et,tt=tt>>>0,!ie){const Sr=Math.pow(2,8*Nt-1);N(this,et,tt,Nt,Sr-1,-Sr)}let Ce=0,Le=1,Gi=0;for(this[tt]=et&255;++Ce<Nt&&(Le*=256);)et<0&&Gi===0&&this[tt+Ce-1]!==0&&(Gi=1),this[tt+Ce]=(et/Le>>0)-Gi&255;return tt+Nt},m.prototype.writeIntBE=function(et,tt,Nt,ie){if(et=+et,tt=tt>>>0,!ie){const Sr=Math.pow(2,8*Nt-1);N(this,et,tt,Nt,Sr-1,-Sr)}let Ce=Nt-1,Le=1,Gi=0;for(this[tt+Ce]=et&255;--Ce>=0&&(Le*=256);)et<0&&Gi===0&&this[tt+Ce+1]!==0&&(Gi=1),this[tt+Ce]=(et/Le>>0)-Gi&255;return tt+Nt},m.prototype.writeInt8=function(et,tt,Nt){return et=+et,tt=tt>>>0,Nt||N(this,et,tt,1,127,-128),et<0&&(et=255+et+1),this[tt]=et&255,tt+1},m.prototype.writeInt16LE=function(et,tt,Nt){return et=+et,tt=tt>>>0,Nt||N(this,et,tt,2,32767,-32768),this[tt]=et&255,this[tt+1]=et>>>8,tt+2},m.prototype.writeInt16BE=function(et,tt,Nt){return et=+et,tt=tt>>>0,Nt||N(this,et,tt,2,32767,-32768),this[tt]=et>>>8,this[tt+1]=et&255,tt+2},m.prototype.writeInt32LE=function(et,tt,Nt){return et=+et,tt=tt>>>0,Nt||N(this,et,tt,4,2147483647,-2147483648),this[tt]=et&255,this[tt+1]=et>>>8,this[tt+2]=et>>>16,this[tt+3]=et>>>24,tt+4},m.prototype.writeInt32BE=function(et,tt,Nt){return et=+et,tt=tt>>>0,Nt||N(this,et,tt,4,2147483647,-2147483648),et<0&&(et=4294967295+et+1),this[tt]=et>>>24,this[tt+1]=et>>>16,this[tt+2]=et>>>8,this[tt+3]=et&255,tt+4},m.prototype.writeBigInt64LE=ei(function(et,tt=0){return j(this,et,tt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=ei(function(et,tt=0){return U(this,et,tt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function V(xt,et,tt,Nt,ie,Ce){if(tt+Nt>xt.length)throw new RangeError("Index out of range");if(tt<0)throw new RangeError("Index out of range")}function q(xt,et,tt,Nt,ie){return et=+et,tt=tt>>>0,ie||V(xt,et,tt,4),r.write(xt,et,tt,Nt,23,4),tt+4}m.prototype.writeFloatLE=function(et,tt,Nt){return q(this,et,tt,!0,Nt)},m.prototype.writeFloatBE=function(et,tt,Nt){return q(this,et,tt,!1,Nt)};function ot(xt,et,tt,Nt,ie){return et=+et,tt=tt>>>0,ie||V(xt,et,tt,8),r.write(xt,et,tt,Nt,52,8),tt+8}m.prototype.writeDoubleLE=function(et,tt,Nt){return ot(this,et,tt,!0,Nt)},m.prototype.writeDoubleBE=function(et,tt,Nt){return ot(this,et,tt,!1,Nt)},m.prototype.copy=function(et,tt,Nt,ie){if(!m.isBuffer(et))throw new TypeError("argument should be a Buffer");if(Nt||(Nt=0),!ie&&ie!==0&&(ie=this.length),tt>=et.length&&(tt=et.length),tt||(tt=0),ie>0&&ie<Nt&&(ie=Nt),ie===Nt||et.length===0||this.length===0)return 0;if(tt<0)throw new RangeError("targetStart out of bounds");if(Nt<0||Nt>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),et.length-tt<ie-Nt&&(ie=et.length-tt+Nt);const Ce=ie-Nt;return this===et&&typeof S.prototype.copyWithin=="function"?this.copyWithin(tt,Nt,ie):S.prototype.set.call(et,this.subarray(Nt,ie),tt),Ce},m.prototype.fill=function(et,tt,Nt,ie){if(typeof et=="string"){if(typeof tt=="string"?(ie=tt,tt=0,Nt=this.length):typeof Nt=="string"&&(ie=Nt,Nt=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!m.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(et.length===1){const Le=et.charCodeAt(0);(ie==="utf8"&&Le<128||ie==="latin1")&&(et=Le)}}else typeof et=="number"?et=et&255:typeof et=="boolean"&&(et=Number(et));if(tt<0||this.length<tt||this.length<Nt)throw new RangeError("Out of range index");if(Nt<=tt)return this;tt=tt>>>0,Nt=Nt===void 0?this.length:Nt>>>0,et||(et=0);let Ce;if(typeof et=="number")for(Ce=tt;Ce<Nt;++Ce)this[Ce]=et;else{const Le=m.isBuffer(et)?et:m.from(et,ie),Gi=Le.length;if(Gi===0)throw new TypeError('The value "'+et+'" is invalid for argument "value"');for(Ce=0;Ce<Nt-tt;++Ce)this[Ce+tt]=Le[Ce%Gi]}return this};const Q={};function rt(xt,et,tt){Q[xt]=class extends tt{constructor(){super(),Object.defineProperty(this,"message",{value:et.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${xt}]`,this.stack,delete this.name}get code(){return xt}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${xt}]: ${this.message}`}}}rt("ERR_BUFFER_OUT_OF_BOUNDS",function(xt){return xt?`${xt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rt("ERR_INVALID_ARG_TYPE",function(xt,et){return`The "${xt}" argument must be of type number. Received type ${typeof et}`},TypeError),rt("ERR_OUT_OF_RANGE",function(xt,et,tt){let Nt=`The value of "${xt}" is out of range.`,ie=tt;return Number.isInteger(tt)&&Math.abs(tt)>gn(2,32)?ie=Bt(String(tt)):typeof tt=="bigint"&&(ie=String(tt),(tt>gn(BigInt(2),BigInt(32))||tt<-gn(BigInt(2),BigInt(32)))&&(ie=Bt(ie)),ie+="n"),Nt+=` It must be ${et}. Received ${ie}`,Nt},RangeError);function Bt(xt){let et="",tt=xt.length;const Nt=xt[0]==="-"?1:0;for(;tt>=Nt+4;tt-=3)et=`_${xt.slice(tt-3,tt)}${et}`;return`${xt.slice(0,tt)}${et}`}function K(xt,et,tt){Ft(et,"offset"),(xt[et]===void 0||xt[et+tt]===void 0)&&dt(et,xt.length-(tt+1))}function Mt(xt,et,tt,Nt,ie,Ce){if(xt>tt||xt<et){const Le=typeof et=="bigint"?"n":"";let Gi;throw et===0||et===BigInt(0)?Gi=`>= 0${Le} and < 2${Le} ** ${(Ce+1)*8}${Le}`:Gi=`>= -(2${Le} ** ${(Ce+1)*8-1}${Le}) and < 2 ** ${(Ce+1)*8-1}${Le}`,new Q.ERR_OUT_OF_RANGE("value",Gi,xt)}K(Nt,ie,Ce)}function Ft(xt,et){if(typeof xt!="number")throw new Q.ERR_INVALID_ARG_TYPE(et,"number",xt)}function dt(xt,et,tt){throw Math.floor(xt)!==xt?(Ft(xt,tt),new Q.ERR_OUT_OF_RANGE("offset","an integer",xt)):et<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${et}`,xt)}const yt=/[^+/0-9A-Za-z-_]/g;function At(xt){if(xt=xt.split("=")[0],xt=xt.trim().replace(yt,""),xt.length<2)return"";for(;xt.length%4!==0;)xt=xt+"=";return xt}function Ot(xt,et){et=et||1/0;let tt;const Nt=xt.length;let ie=null;const Ce=[];for(let Le=0;Le<Nt;++Le){if(tt=xt.charCodeAt(Le),tt>55295&&tt<57344){if(!ie){if(tt>56319){(et-=3)>-1&&Ce.push(239,191,189);continue}else if(Le+1===Nt){(et-=3)>-1&&Ce.push(239,191,189);continue}ie=tt;continue}if(tt<56320){(et-=3)>-1&&Ce.push(239,191,189),ie=tt;continue}tt=(ie-55296<<10|tt-56320)+65536}else ie&&(et-=3)>-1&&Ce.push(239,191,189);if(ie=null,tt<128){if((et-=1)<0)break;Ce.push(tt)}else if(tt<2048){if((et-=2)<0)break;Ce.push(tt>>6|192,tt&63|128)}else if(tt<65536){if((et-=3)<0)break;Ce.push(tt>>12|224,tt>>6&63|128,tt&63|128)}else if(tt<1114112){if((et-=4)<0)break;Ce.push(tt>>18|240,tt>>12&63|128,tt>>6&63|128,tt&63|128)}else throw new Error("Invalid code point")}return Ce}function le(xt){const et=[];for(let tt=0;tt<xt.length;++tt)et.push(xt.charCodeAt(tt)&255);return et}function _t(xt,et){let tt,Nt,ie;const Ce=[];for(let Le=0;Le<xt.length&&!((et-=2)<0);++Le)tt=xt.charCodeAt(Le),Nt=tt>>8,ie=tt%256,Ce.push(ie),Ce.push(Nt);return Ce}function xe(xt){return t.toByteArray(At(xt))}function ke(xt,et,tt,Nt){let ie;for(ie=0;ie<Nt&&!(ie+tt>=et.length||ie>=xt.length);++ie)et[ie+tt]=xt[ie];return ie}function ve(xt,et){return xt instanceof et||xt!=null&&xt.constructor!=null&&xt.constructor.name!=null&&xt.constructor.name===et.name}function Fe(xt){return xt!==xt}const Ze=function(){const xt="0123456789abcdef",et=new Array(256);for(let tt=0;tt<16;++tt){const Nt=tt*16;for(let ie=0;ie<16;++ie)et[Nt+ie]=xt[tt]+xt[ie]}return et}();function ei(xt){return typeof BigInt=="undefined"?Ci:xt}function Ci(){throw new Error("BigInt not supported")}})(Fs);const Zi=Fs.Buffer,H4t=Fs.Blob,$4t=Fs.BlobOptions,W4t=Fs.Buffer,V4t=Fs.File,Y4t=Fs.FileOptions,X4t=Fs.INSPECT_MAX_BYTES,Q4t=Fs.SlowBuffer,K4t=Fs.TranscodeEncoding,J4t=Fs.atob,Z4t=Fs.btoa,q4t=Fs.constants,tkt=Fs.isAscii,ekt=Fs.isUtf8,ikt=Fs.kMaxLength,rkt=Fs.kStringMaxLength,nkt=Fs.resolveObjectURL,skt=Fs.transcode,akt=Object.freeze(Object.defineProperty({__proto__:null,Blob:H4t,BlobOptions:$4t,Buffer:W4t,File:V4t,FileOptions:Y4t,INSPECT_MAX_BYTES:X4t,SlowBuffer:Q4t,TranscodeEncoding:K4t,atob:J4t,btoa:Z4t,constants:q4t,default:Zi,isAscii:tkt,isUtf8:ekt,kMaxLength:ikt,kStringMaxLength:rkt,resolveObjectURL:nkt,transcode:skt},Symbol.toStringTag,{value:"Module"}));function w0(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Bj={exports:{}};(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,d,S){function s(o,m){if(!d[o]){if(!n[o]){var c=typeof w0=="function"&&w0;if(!m&&c)return c(o,!0);if(g)return g(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var h=d[o]={exports:{}};n[o][0].call(h.exports,function(a){var f=n[o][1][a];return s(f||a)},h,h.exports,r,n,d,S)}return d[o].exports}for(var g=typeof w0=="function"&&w0,i=0;i<S.length;i++)s(S[i]);return s}({1:[function(r,n,d){var S=r("./utils"),s=r("./support"),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";d.encode=function(i){for(var o,m,c,l,h,a,f,p=[],u=0,v=i.length,y=v,x=S.getTypeOf(i)!=="string";u<i.length;)y=v-u,c=x?(o=i[u++],m=u<v?i[u++]:0,u<v?i[u++]:0):(o=i.charCodeAt(u++),m=u<v?i.charCodeAt(u++):0,u<v?i.charCodeAt(u++):0),l=o>>2,h=(3&o)<<4|m>>4,a=1<y?(15&m)<<2|c>>6:64,f=2<y?63&c:64,p.push(g.charAt(l)+g.charAt(h)+g.charAt(a)+g.charAt(f));return p.join("")},d.decode=function(i){var o,m,c,l,h,a,f=0,p=0,u="data:";if(i.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var v,y=3*(i=i.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(i.charAt(i.length-1)===g.charAt(64)&&y--,i.charAt(i.length-2)===g.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=s.uint8array?new Uint8Array(0|y):new Array(0|y);f<i.length;)o=g.indexOf(i.charAt(f++))<<2|(l=g.indexOf(i.charAt(f++)))>>4,m=(15&l)<<4|(h=g.indexOf(i.charAt(f++)))>>2,c=(3&h)<<6|(a=g.indexOf(i.charAt(f++))),v[p++]=o,h!==64&&(v[p++]=m),a!==64&&(v[p++]=c);return v}},{"./support":30,"./utils":32}],2:[function(r,n,d){var S=r("./external"),s=r("./stream/DataWorker"),g=r("./stream/Crc32Probe"),i=r("./stream/DataLengthProbe");function o(m,c,l,h,a){this.compressedSize=m,this.uncompressedSize=c,this.crc32=l,this.compression=h,this.compressedContent=a}o.prototype={getContentWorker:function(){var m=new s(S.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),c=this;return m.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new s(S.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(m,c,l){return m.pipe(new g).pipe(new i("uncompressedSize")).pipe(c.compressWorker(l)).pipe(new i("compressedSize")).withStreamInfo("compression",c)},n.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,d){var S=r("./stream/GenericWorker");d.STORE={magic:"\0\0",compressWorker:function(){return new S("STORE compression")},uncompressWorker:function(){return new S("STORE decompression")}},d.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,d){var S=r("./utils"),s=function(){for(var g,i=[],o=0;o<256;o++){g=o;for(var m=0;m<8;m++)g=1&g?3988292384^g>>>1:g>>>1;i[o]=g}return i}();n.exports=function(g,i){return g!==void 0&&g.length?S.getTypeOf(g)!=="string"?function(o,m,c,l){var h=s,a=l+c;o^=-1;for(var f=l;f<a;f++)o=o>>>8^h[255&(o^m[f])];return-1^o}(0|i,g,g.length,0):function(o,m,c,l){var h=s,a=l+c;o^=-1;for(var f=l;f<a;f++)o=o>>>8^h[255&(o^m.charCodeAt(f))];return-1^o}(0|i,g,g.length,0):0}},{"./utils":32}],5:[function(r,n,d){d.base64=!1,d.binary=!1,d.dir=!1,d.createFolders=!0,d.date=null,d.compression=null,d.compressionOptions=null,d.comment=null,d.unixPermissions=null,d.dosPermissions=null},{}],6:[function(r,n,d){var S=null;S=typeof Promise!="undefined"?Promise:r("lie"),n.exports={Promise:S}},{lie:37}],7:[function(r,n,d){var S=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",s=r("pako"),g=r("./utils"),i=r("./stream/GenericWorker"),o=S?"uint8array":"array";function m(c,l){i.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=l,this.meta={}}d.magic="\b\0",g.inherits(m,i),m.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(g.transformTo(o,c.data),!1)},m.prototype.flush=function(){i.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(l){c.push({data:l,meta:c.meta})}},d.compressWorker=function(c){return new m("Deflate",c)},d.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,d){function S(h,a){var f,p="";for(f=0;f<a;f++)p+=String.fromCharCode(255&h),h>>>=8;return p}function s(h,a,f,p,u,v){var y,x,b=h.file,w=h.compression,C=v!==o.utf8encode,E=g.transformTo("string",v(b.name)),T=g.transformTo("string",o.utf8encode(b.name)),k=b.comment,A=g.transformTo("string",v(k)),I=g.transformTo("string",o.utf8encode(k)),B=T.length!==b.name.length,M=I.length!==k.length,O="",P="",L="",_=b.dir,G=b.date,$={crc32:0,compressedSize:0,uncompressedSize:0};a&&!f||($.crc32=h.crc32,$.compressedSize=h.compressedSize,$.uncompressedSize=h.uncompressedSize);var W=0;a&&(W|=8),C||!B&&!M||(W|=2048);var Y=0,z=0;_&&(Y|=16),u==="UNIX"?(z=798,Y|=function(N,j){var U=N;return N||(U=j?16893:33204),(65535&U)<<16}(b.unixPermissions,_)):(z=20,Y|=function(N){return 63&(N||0)}(b.dosPermissions)),y=G.getUTCHours(),y<<=6,y|=G.getUTCMinutes(),y<<=5,y|=G.getUTCSeconds()/2,x=G.getUTCFullYear()-1980,x<<=4,x|=G.getUTCMonth()+1,x<<=5,x|=G.getUTCDate(),B&&(P=S(1,1)+S(m(E),4)+T,O+="up"+S(P.length,2)+P),M&&(L=S(1,1)+S(m(A),4)+I,O+="uc"+S(L.length,2)+L);var F="";return F+=`
\0`,F+=S(W,2),F+=w.magic,F+=S(y,2),F+=S(x,2),F+=S($.crc32,4),F+=S($.compressedSize,4),F+=S($.uncompressedSize,4),F+=S(E.length,2),F+=S(O.length,2),{fileRecord:c.LOCAL_FILE_HEADER+F+E+O,dirRecord:c.CENTRAL_FILE_HEADER+S(z,2)+F+S(A.length,2)+"\0\0\0\0"+S(Y,4)+S(p,4)+E+O+A}}var g=r("../utils"),i=r("../stream/GenericWorker"),o=r("../utf8"),m=r("../crc32"),c=r("../signature");function l(h,a,f,p){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=a,this.zipPlatform=f,this.encodeFileName=p,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}g.inherits(l,i),l.prototype.push=function(h){var a=h.meta.percent||0,f=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,i.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:f?(a+100*(f-p-1))/f:100}}))},l.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var a=this.streamFiles&&!h.file.dir;if(a){var f=s(h,a,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(h){this.accumulate=!1;var a=this.streamFiles&&!h.file.dir,f=s(h,a,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),a)this.push({data:function(p){return c.DATA_DESCRIPTOR+S(p.crc32,4)+S(p.compressedSize,4)+S(p.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var h=this.bytesWritten,a=0;a<this.dirRecords.length;a++)this.push({data:this.dirRecords[a],meta:{percent:100}});var f=this.bytesWritten-h,p=function(u,v,y,x,b){var w=g.transformTo("string",b(x));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+S(u,2)+S(u,2)+S(v,4)+S(y,4)+S(w.length,2)+w}(this.dirRecords.length,f,h,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(h){this._sources.push(h);var a=this;return h.on("data",function(f){a.processChunk(f)}),h.on("end",function(){a.closedSource(a.previous.streamInfo),a._sources.length?a.prepareNextSource():a.end()}),h.on("error",function(f){a.error(f)}),this},l.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(h){var a=this._sources;if(!i.prototype.error.call(this,h))return!1;for(var f=0;f<a.length;f++)try{a[f].error(h)}catch(p){}return!0},l.prototype.lock=function(){i.prototype.lock.call(this);for(var h=this._sources,a=0;a<h.length;a++)h[a].lock()},n.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,d){var S=r("../compressions"),s=r("./ZipFileWorker");d.generateWorker=function(g,i,o){var m=new s(i.streamFiles,o,i.platform,i.encodeFileName),c=0;try{g.forEach(function(l,h){c++;var a=function(v,y){var x=v||y,b=S[x];if(!b)throw new Error(x+" is not a valid compression method !");return b}(h.options.compression,i.compression),f=h.options.compressionOptions||i.compressionOptions||{},p=h.dir,u=h.date;h._compressWorker(a,f).withStreamInfo("file",{name:l,dir:p,date:u,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(m)}),m.entriesCount=c}catch(l){m.error(l)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,d){function S(){if(!(this instanceof S))return new S;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new S;for(var g in this)typeof this[g]!="function"&&(s[g]=this[g]);return s}}(S.prototype=r("./object")).loadAsync=r("./load"),S.support=r("./support"),S.defaults=r("./defaults"),S.version="3.10.1",S.loadAsync=function(s,g){return new S().loadAsync(s,g)},S.external=r("./external"),n.exports=S},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,d){var S=r("./utils"),s=r("./external"),g=r("./utf8"),i=r("./zipEntries"),o=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function c(l){return new s.Promise(function(h,a){var f=l.decompressed.getContentWorker().pipe(new o);f.on("error",function(p){a(p)}).on("end",function(){f.streamInfo.crc32!==l.decompressed.crc32?a(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}n.exports=function(l,h){var a=this;return h=S.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:g.utf8decode}),m.isNode&&m.isStream(l)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):S.prepareContent("the loaded zip file",l,!0,h.optimizedBinaryString,h.base64).then(function(f){var p=new i(h);return p.load(f),p}).then(function(f){var p=[s.Promise.resolve(f)],u=f.files;if(h.checkCRC32)for(var v=0;v<u.length;v++)p.push(c(u[v]));return s.Promise.all(p)}).then(function(f){for(var p=f.shift(),u=p.files,v=0;v<u.length;v++){var y=u[v],x=y.fileNameStr,b=S.resolve(y.fileNameStr);a.file(b,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:h.createFolders}),y.dir||(a.file(b).unsafeOriginalName=x)}return p.zipComment.length&&(a.comment=p.zipComment),a})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,d){var S=r("../utils"),s=r("../stream/GenericWorker");function g(i,o){s.call(this,"Nodejs stream input adapter for "+i),this._upstreamEnded=!1,this._bindStream(o)}S.inherits(g,s),g.prototype._bindStream=function(i){var o=this;(this._stream=i).pause(),i.on("data",function(m){o.push({data:m,meta:{percent:0}})}).on("error",function(m){o.isPaused?this.generatedError=m:o.error(m)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},g.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},g.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=g},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,d){var S=r("readable-stream").Readable;function s(g,i,o){S.call(this,i),this._helper=g;var m=this;g.on("data",function(c,l){m.push(c)||m._helper.pause(),o&&o(l)}).on("error",function(c){m.emit("error",c)}).on("end",function(){m.push(null)})}r("../utils").inherits(s,S),s.prototype._read=function(){this._helper.resume()},n.exports=s},{"../utils":32,"readable-stream":16}],14:[function(r,n,d){n.exports={isNode:typeof Zi!="undefined",newBufferFrom:function(S,s){if(Zi.from&&Zi.from!==Uint8Array.from)return Zi.from(S,s);if(typeof S=="number")throw new Error('The "data" argument must not be a number');return new Zi(S,s)},allocBuffer:function(S){if(Zi.alloc)return Zi.alloc(S);var s=new Zi(S);return s.fill(0),s},isBuffer:function(S){return Zi.isBuffer(S)},isStream:function(S){return S&&typeof S.on=="function"&&typeof S.pause=="function"&&typeof S.resume=="function"}}},{}],15:[function(r,n,d){function S(b,w,C){var E,T=g.getTypeOf(w),k=g.extend(C||{},m);k.date=k.date||new Date,k.compression!==null&&(k.compression=k.compression.toUpperCase()),typeof k.unixPermissions=="string"&&(k.unixPermissions=parseInt(k.unixPermissions,8)),k.unixPermissions&&16384&k.unixPermissions&&(k.dir=!0),k.dosPermissions&&16&k.dosPermissions&&(k.dir=!0),k.dir&&(b=u(b)),k.createFolders&&(E=p(b))&&v.call(this,E,!0);var A=T==="string"&&k.binary===!1&&k.base64===!1;C&&C.binary!==void 0||(k.binary=!A),(w instanceof c&&w.uncompressedSize===0||k.dir||!w||w.length===0)&&(k.base64=!1,k.binary=!0,w="",k.compression="STORE",T="string");var I=null;I=w instanceof c||w instanceof i?w:a.isNode&&a.isStream(w)?new f(b,w):g.prepareContent(b,w,k.binary,k.optimizedBinaryString,k.base64);var B=new l(b,I,k);this.files[b]=B}var s=r("./utf8"),g=r("./utils"),i=r("./stream/GenericWorker"),o=r("./stream/StreamHelper"),m=r("./defaults"),c=r("./compressedObject"),l=r("./zipObject"),h=r("./generate"),a=r("./nodejsUtils"),f=r("./nodejs/NodejsStreamInputAdapter"),p=function(b){b.slice(-1)==="/"&&(b=b.substring(0,b.length-1));var w=b.lastIndexOf("/");return 0<w?b.substring(0,w):""},u=function(b){return b.slice(-1)!=="/"&&(b+="/"),b},v=function(b,w){return w=w!==void 0?w:m.createFolders,b=u(b),this.files[b]||S.call(this,b,null,{dir:!0,createFolders:w}),this.files[b]};function y(b){return Object.prototype.toString.call(b)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(b){var w,C,E;for(w in this.files)E=this.files[w],(C=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&b(C,E)},filter:function(b){var w=[];return this.forEach(function(C,E){b(C,E)&&w.push(E)}),w},file:function(b,w,C){if(arguments.length!==1)return b=this.root+b,S.call(this,b,w,C),this;if(y(b)){var E=b;return this.filter(function(k,A){return!A.dir&&E.test(k)})}var T=this.files[this.root+b];return T&&!T.dir?T:null},folder:function(b){if(!b)return this;if(y(b))return this.filter(function(T,k){return k.dir&&b.test(T)});var w=this.root+b,C=v.call(this,w),E=this.clone();return E.root=C.name,E},remove:function(b){b=this.root+b;var w=this.files[b];if(w||(b.slice(-1)!=="/"&&(b+="/"),w=this.files[b]),w&&!w.dir)delete this.files[b];else for(var C=this.filter(function(T,k){return k.name.slice(0,b.length)===b}),E=0;E<C.length;E++)delete this.files[C[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(b){var w,C={};try{if((C=g.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");g.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var E=C.comment||this.comment||"";w=h.generateWorker(this,C,E)}catch(T){(w=new i("error")).error(T)}return new o(w,C.type||"string",C.mimeType)},generateAsync:function(b,w){return this.generateInternalStream(b).accumulate(w)},generateNodeStream:function(b,w){return(b=b||{}).type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(w)}};n.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,d){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,d){var S=r("./DataReader");function s(g){S.call(this,g);for(var i=0;i<this.data.length;i++)g[i]=255&g[i]}r("../utils").inherits(s,S),s.prototype.byteAt=function(g){return this.data[this.zero+g]},s.prototype.lastIndexOfSignature=function(g){for(var i=g.charCodeAt(0),o=g.charCodeAt(1),m=g.charCodeAt(2),c=g.charCodeAt(3),l=this.length-4;0<=l;--l)if(this.data[l]===i&&this.data[l+1]===o&&this.data[l+2]===m&&this.data[l+3]===c)return l-this.zero;return-1},s.prototype.readAndCheckSignature=function(g){var i=g.charCodeAt(0),o=g.charCodeAt(1),m=g.charCodeAt(2),c=g.charCodeAt(3),l=this.readData(4);return i===l[0]&&o===l[1]&&m===l[2]&&c===l[3]},s.prototype.readData=function(g){if(this.checkOffset(g),g===0)return[];var i=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,i},n.exports=s},{"../utils":32,"./DataReader":18}],18:[function(r,n,d){var S=r("../utils");function s(g){this.data=g,this.length=g.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(g){this.checkIndex(this.index+g)},checkIndex:function(g){if(this.length<this.zero+g||g<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+g+"). Corrupted zip ?")},setIndex:function(g){this.checkIndex(g),this.index=g},skip:function(g){this.setIndex(this.index+g)},byteAt:function(){},readInt:function(g){var i,o=0;for(this.checkOffset(g),i=this.index+g-1;i>=this.index;i--)o=(o<<8)+this.byteAt(i);return this.index+=g,o},readString:function(g){return S.transformTo("string",this.readData(g))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var g=this.readInt(4);return new Date(Date.UTC(1980+(g>>25&127),(g>>21&15)-1,g>>16&31,g>>11&31,g>>5&63,(31&g)<<1))}},n.exports=s},{"../utils":32}],19:[function(r,n,d){var S=r("./Uint8ArrayReader");function s(g){S.call(this,g)}r("../utils").inherits(s,S),s.prototype.readData=function(g){this.checkOffset(g);var i=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,i},n.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,d){var S=r("./DataReader");function s(g){S.call(this,g)}r("../utils").inherits(s,S),s.prototype.byteAt=function(g){return this.data.charCodeAt(this.zero+g)},s.prototype.lastIndexOfSignature=function(g){return this.data.lastIndexOf(g)-this.zero},s.prototype.readAndCheckSignature=function(g){return g===this.readData(4)},s.prototype.readData=function(g){this.checkOffset(g);var i=this.data.slice(this.zero+this.index,this.zero+this.index+g);return this.index+=g,i},n.exports=s},{"../utils":32,"./DataReader":18}],21:[function(r,n,d){var S=r("./ArrayReader");function s(g){S.call(this,g)}r("../utils").inherits(s,S),s.prototype.readData=function(g){if(this.checkOffset(g),g===0)return new Uint8Array(0);var i=this.data.subarray(this.zero+this.index,this.zero+this.index+g);return this.index+=g,i},n.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,d){var S=r("../utils"),s=r("../support"),g=r("./ArrayReader"),i=r("./StringReader"),o=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");n.exports=function(c){var l=S.getTypeOf(c);return S.checkSupport(l),l!=="string"||s.uint8array?l==="nodebuffer"?new o(c):s.uint8array?new m(S.transformTo("uint8array",c)):new g(S.transformTo("array",c)):new i(c)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,d){d.LOCAL_FILE_HEADER="PK",d.CENTRAL_FILE_HEADER="PK",d.CENTRAL_DIRECTORY_END="PK",d.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",d.ZIP64_CENTRAL_DIRECTORY_END="PK",d.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,d){var S=r("./GenericWorker"),s=r("../utils");function g(i){S.call(this,"ConvertWorker to "+i),this.destType=i}s.inherits(g,S),g.prototype.processChunk=function(i){this.push({data:s.transformTo(this.destType,i.data),meta:i.meta})},n.exports=g},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,d){var S=r("./GenericWorker"),s=r("../crc32");function g(){S.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(g,S),g.prototype.processChunk=function(i){this.streamInfo.crc32=s(i.data,this.streamInfo.crc32||0),this.push(i)},n.exports=g},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,d){var S=r("../utils"),s=r("./GenericWorker");function g(i){s.call(this,"DataLengthProbe for "+i),this.propName=i,this.withStreamInfo(i,0)}S.inherits(g,s),g.prototype.processChunk=function(i){if(i){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+i.data.length}s.prototype.processChunk.call(this,i)},n.exports=g},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,d){var S=r("../utils"),s=r("./GenericWorker");function g(i){s.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,i.then(function(m){o.dataIsReady=!0,o.data=m,o.max=m&&m.length||0,o.type=S.getTypeOf(m),o.isPaused||o._tickAndRepeat()},function(m){o.error(m)})}S.inherits(g,s),g.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},g.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,S.delay(this._tickAndRepeat,[],this)),!0)},g.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(S.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},g.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var i=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":i=this.data.substring(this.index,o);break;case"uint8array":i=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":i=this.data.slice(this.index,o)}return this.index=o,this.push({data:i,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=g},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,d){function S(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}S.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,g){return this._listeners[s].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,g){if(this._listeners[s])for(var i=0;i<this._listeners[s].length;i++)this._listeners[s][i].call(this,g)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var g=this;return s.on("data",function(i){g.processChunk(i)}),s.on("end",function(){g.end()}),s.on("error",function(i){g.error(i)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,g){return this.extraStreamInfo[s]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},n.exports=S},{}],29:[function(r,n,d){var S=r("../utils"),s=r("./ConvertWorker"),g=r("./GenericWorker"),i=r("../base64"),o=r("../support"),m=r("../external"),c=null;if(o.nodestream)try{c=r("../nodejs/NodejsStreamOutputAdapter")}catch(a){}function l(a,f){return new m.Promise(function(p,u){var v=[],y=a._internalType,x=a._outputType,b=a._mimeType;a.on("data",function(w,C){v.push(w),f&&f(C)}).on("error",function(w){v=[],u(w)}).on("end",function(){try{var w=function(C,E,T){switch(C){case"blob":return S.newBlob(S.transformTo("arraybuffer",E),T);case"base64":return i.encode(E);default:return S.transformTo(C,E)}}(x,function(C,E){var T,k=0,A=null,I=0;for(T=0;T<E.length;T++)I+=E[T].length;switch(C){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(A=new Uint8Array(I),T=0;T<E.length;T++)A.set(E[T],k),k+=E[T].length;return A;case"nodebuffer":return Zi.concat(E);default:throw new Error("concat : unsupported type '"+C+"'")}}(y,v),b);p(w)}catch(C){u(C)}v=[]}).resume()})}function h(a,f,p){var u=f;switch(f){case"blob":case"arraybuffer":u="uint8array";break;case"base64":u="string"}try{this._internalType=u,this._outputType=f,this._mimeType=p,S.checkSupport(u),this._worker=a.pipe(new s(u)),a.lock()}catch(v){this._worker=new g("error"),this._worker.error(v)}}h.prototype={accumulate:function(a){return l(this,a)},on:function(a,f){var p=this;return a==="data"?this._worker.on(a,function(u){f.call(p,u.data,u.meta)}):this._worker.on(a,function(){S.delay(f,arguments,p)}),this},resume:function(){return S.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(a){if(S.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},a)}},n.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,d){if(d.base64=!0,d.array=!0,d.string=!0,d.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",d.nodebuffer=typeof Zi!="undefined",d.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")d.blob=!1;else{var S=new ArrayBuffer(0);try{d.blob=new Blob([S],{type:"application/zip"}).size===0}catch(g){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(S),d.blob=s.getBlob("application/zip").size===0}catch(i){d.blob=!1}}}try{d.nodestream=!!r("readable-stream").Readable}catch(g){d.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,d){for(var S=r("./utils"),s=r("./support"),g=r("./nodejsUtils"),i=r("./stream/GenericWorker"),o=new Array(256),m=0;m<256;m++)o[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;o[254]=o[254]=1;function c(){i.call(this,"utf-8 decode"),this.leftOver=null}function l(){i.call(this,"utf-8 encode")}d.utf8encode=function(h){return s.nodebuffer?g.newBufferFrom(h,"utf-8"):function(a){var f,p,u,v,y,x=a.length,b=0;for(v=0;v<x;v++)(64512&(p=a.charCodeAt(v)))==55296&&v+1<x&&(64512&(u=a.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(u-56320),v++),b+=p<128?1:p<2048?2:p<65536?3:4;for(f=s.uint8array?new Uint8Array(b):new Array(b),v=y=0;y<b;v++)(64512&(p=a.charCodeAt(v)))==55296&&v+1<x&&(64512&(u=a.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(u-56320),v++),p<128?f[y++]=p:(p<2048?f[y++]=192|p>>>6:(p<65536?f[y++]=224|p>>>12:(f[y++]=240|p>>>18,f[y++]=128|p>>>12&63),f[y++]=128|p>>>6&63),f[y++]=128|63&p);return f}(h)},d.utf8decode=function(h){return s.nodebuffer?S.transformTo("nodebuffer",h).toString("utf-8"):function(a){var f,p,u,v,y=a.length,x=new Array(2*y);for(f=p=0;f<y;)if((u=a[f++])<128)x[p++]=u;else if(4<(v=o[u]))x[p++]=65533,f+=v-1;else{for(u&=v===2?31:v===3?15:7;1<v&&f<y;)u=u<<6|63&a[f++],v--;1<v?x[p++]=65533:u<65536?x[p++]=u:(u-=65536,x[p++]=55296|u>>10&1023,x[p++]=56320|1023&u)}return x.length!==p&&(x.subarray?x=x.subarray(0,p):x.length=p),S.applyFromCharCode(x)}(h=S.transformTo(s.uint8array?"uint8array":"array",h))},S.inherits(c,i),c.prototype.processChunk=function(h){var a=S.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var f=a;(a=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),a.set(f,this.leftOver.length)}else a=this.leftOver.concat(a);this.leftOver=null}var p=function(v,y){var x;for((y=y||v.length)>v.length&&(y=v.length),x=y-1;0<=x&&(192&v[x])==128;)x--;return x<0||x===0?y:x+o[v[x]]>y?x:y}(a),u=a;p!==a.length&&(s.uint8array?(u=a.subarray(0,p),this.leftOver=a.subarray(p,a.length)):(u=a.slice(0,p),this.leftOver=a.slice(p,a.length))),this.push({data:d.utf8decode(u),meta:h.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:d.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},d.Utf8DecodeWorker=c,S.inherits(l,i),l.prototype.processChunk=function(h){this.push({data:d.utf8encode(h.data),meta:h.meta})},d.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,d){var S=r("./support"),s=r("./base64"),g=r("./nodejsUtils"),i=r("./external");function o(f){return f}function m(f,p){for(var u=0;u<f.length;++u)p[u]=255&f.charCodeAt(u);return p}r("setimmediate"),d.newBlob=function(f,p){d.checkSupport("blob");try{return new Blob([f],{type:p})}catch(v){try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return u.append(f),u.getBlob(p)}catch(y){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(f,p,u){var v=[],y=0,x=f.length;if(x<=u)return String.fromCharCode.apply(null,f);for(;y<x;)p==="array"||p==="nodebuffer"?v.push(String.fromCharCode.apply(null,f.slice(y,Math.min(y+u,x)))):v.push(String.fromCharCode.apply(null,f.subarray(y,Math.min(y+u,x)))),y+=u;return v.join("")},stringifyByChar:function(f){for(var p="",u=0;u<f.length;u++)p+=String.fromCharCode(f[u]);return p},applyCanBeUsed:{uint8array:function(){try{return S.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(f){return!1}}(),nodebuffer:function(){try{return S.nodebuffer&&String.fromCharCode.apply(null,g.allocBuffer(1)).length===1}catch(f){return!1}}()}};function l(f){var p=65536,u=d.getTypeOf(f),v=!0;if(u==="uint8array"?v=c.applyCanBeUsed.uint8array:u==="nodebuffer"&&(v=c.applyCanBeUsed.nodebuffer),v)for(;1<p;)try{return c.stringifyByChunk(f,u,p)}catch(y){p=Math.floor(p/2)}return c.stringifyByChar(f)}function h(f,p){for(var u=0;u<f.length;u++)p[u]=f[u];return p}d.applyFromCharCode=l;var a={};a.string={string:o,array:function(f){return m(f,new Array(f.length))},arraybuffer:function(f){return a.string.uint8array(f).buffer},uint8array:function(f){return m(f,new Uint8Array(f.length))},nodebuffer:function(f){return m(f,g.allocBuffer(f.length))}},a.array={string:l,array:o,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return g.newBufferFrom(f)}},a.arraybuffer={string:function(f){return l(new Uint8Array(f))},array:function(f){return h(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:o,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return g.newBufferFrom(new Uint8Array(f))}},a.uint8array={string:l,array:function(f){return h(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:o,nodebuffer:function(f){return g.newBufferFrom(f)}},a.nodebuffer={string:l,array:function(f){return h(f,new Array(f.length))},arraybuffer:function(f){return a.nodebuffer.uint8array(f).buffer},uint8array:function(f){return h(f,new Uint8Array(f.length))},nodebuffer:o},d.transformTo=function(f,p){if(p=p||"",!f)return p;d.checkSupport(f);var u=d.getTypeOf(p);return a[u][f](p)},d.resolve=function(f){for(var p=f.split("/"),u=[],v=0;v<p.length;v++){var y=p[v];y==="."||y===""&&v!==0&&v!==p.length-1||(y===".."?u.pop():u.push(y))}return u.join("/")},d.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":S.nodebuffer&&g.isBuffer(f)?"nodebuffer":S.uint8array&&f instanceof Uint8Array?"uint8array":S.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},d.checkSupport=function(f){if(!S[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},d.MAX_VALUE_16BITS=65535,d.MAX_VALUE_32BITS=-1,d.pretty=function(f){var p,u,v="";for(u=0;u<(f||"").length;u++)v+="\\x"+((p=f.charCodeAt(u))<16?"0":"")+p.toString(16).toUpperCase();return v},d.delay=function(f,p,u){setImmediate(function(){f.apply(u||null,p||[])})},d.inherits=function(f,p){function u(){}u.prototype=p.prototype,f.prototype=new u},d.extend=function(){var f,p,u={};for(f=0;f<arguments.length;f++)for(p in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],p)&&u[p]===void 0&&(u[p]=arguments[f][p]);return u},d.prepareContent=function(f,p,u,v,y){return i.Promise.resolve(p).then(function(x){return S.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader!="undefined"?new i.Promise(function(b,w){var C=new FileReader;C.onload=function(E){b(E.target.result)},C.onerror=function(E){w(E.target.error)},C.readAsArrayBuffer(x)}):x}).then(function(x){var b=d.getTypeOf(x);return b?(b==="arraybuffer"?x=d.transformTo("uint8array",x):b==="string"&&(y?x=s.decode(x):u&&v!==!0&&(x=function(w){return m(w,S.uint8array?new Uint8Array(w.length):new Array(w.length))}(x))),x):i.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,d){var S=r("./reader/readerFor"),s=r("./utils"),g=r("./signature"),i=r("./zipEntry"),o=r("./support");function m(c){this.files=[],this.loadOptions=c}m.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var l=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(l)+", expected "+s.pretty(c)+")")}},isSignature:function(c,l){var h=this.reader.index;this.reader.setIndex(c);var a=this.reader.readString(4)===l;return this.reader.setIndex(h),a},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),l=o.uint8array?"uint8array":"array",h=s.transformTo(l,c);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c,l,h,a=this.zip64EndOfCentralSize-44;0<a;)c=this.reader.readInt(2),l=this.reader.readInt(4),h=this.reader.readData(l),this.zip64ExtensibleData[c]={id:c,length:l,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,l;for(c=0;c<this.files.length;c++)l=this.files[c],this.reader.setIndex(l.localHeaderOffset),this.checkSignature(g.LOCAL_FILE_HEADER),l.readLocalPart(this.reader),l.handleUTF8(),l.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(g.CENTRAL_FILE_HEADER);)(c=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(g.CENTRAL_DIRECTORY_END);if(c<0)throw this.isSignature(0,g.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(c);var l=c;if(this.checkSignature(g.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(c=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,g.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(g.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var a=l-h;if(0<a)this.isSignature(l,g.CENTRAL_FILE_HEADER)||(this.reader.zero=a);else if(a<0)throw new Error("Corrupted zip: missing "+Math.abs(a)+" bytes.")},prepareReader:function(c){this.reader=S(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,d){var S=r("./reader/readerFor"),s=r("./utils"),g=r("./compressedObject"),i=r("./crc32"),o=r("./utf8"),m=r("./compressions"),c=r("./support");function l(h,a){this.options=h,this.loadOptions=a}l.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var a,f;if(h.skip(22),this.fileNameLength=h.readInt(2),f=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((a=function(p){for(var u in m)if(Object.prototype.hasOwnProperty.call(m,u)&&m[u].magic===p)return m[u];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new g(this.compressedSize,this.uncompressedSize,this.crc32,a,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var a=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(a),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=S(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var a,f,p,u=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<u;)a=h.readInt(2),f=h.readInt(2),p=h.readData(f),this.extraFields[a]={id:a,length:f,value:p};h.setIndex(u)},handleUTF8:function(){var h=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var a=this.findExtraFieldUnicodePath();if(a!==null)this.fileNameStr=a;else{var f=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var u=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(u)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var a=S(h.value);return a.readInt(1)!==1||i(this.fileName)!==a.readInt(4)?null:o.utf8decode(a.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var a=S(h.value);return a.readInt(1)!==1||i(this.fileComment)!==a.readInt(4)?null:o.utf8decode(a.readData(h.length-5))}return null}},n.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,d){function S(a,f,p){this.name=a,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=f,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var s=r("./stream/StreamHelper"),g=r("./stream/DataWorker"),i=r("./utf8"),o=r("./compressedObject"),m=r("./stream/GenericWorker");S.prototype={internalStream:function(a){var f=null,p="string";try{if(!a)throw new Error("No output type specified.");var u=(p=a.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),f=this._decompressWorker();var v=!this._dataBinary;v&&!u&&(f=f.pipe(new i.Utf8EncodeWorker)),!v&&u&&(f=f.pipe(new i.Utf8DecodeWorker))}catch(y){(f=new m("error")).error(y)}return new s(f,p,"")},async:function(a,f){return this.internalStream(a).accumulate(f)},nodeStream:function(a,f){return this.internalStream(a||"nodebuffer").toNodejsStream(f)},_compressWorker:function(a,f){if(this._data instanceof o&&this._data.compression.magic===a.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new i.Utf8EncodeWorker)),o.createWorkerFrom(p,a,f)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof m?this._data:new g(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)S.prototype[c[h]]=l;n.exports=S},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,d){(function(S){var s,g,i=S.MutationObserver||S.WebKitMutationObserver;if(i){var o=0,m=new i(a),c=S.document.createTextNode("");m.observe(c,{characterData:!0}),s=function(){c.data=o=++o%2}}else if(S.setImmediate||S.MessageChannel===void 0)s="document"in S&&"onreadystatechange"in S.document.createElement("script")?function(){var f=S.document.createElement("script");f.onreadystatechange=function(){a(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},S.document.documentElement.appendChild(f)}:function(){setTimeout(a,0)};else{var l=new S.MessageChannel;l.port1.onmessage=a,s=function(){l.port2.postMessage(0)}}var h=[];function a(){var f,p;g=!0;for(var u=h.length;u;){for(p=h,h=[],f=-1;++f<u;)p[f]();u=h.length}g=!1}n.exports=function(f){h.push(f)!==1||g||s()}}).call(this,typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(r,n,d){var S=r("immediate");function s(){}var g={},i=["REJECTED"],o=["FULFILLED"],m=["PENDING"];function c(u){if(typeof u!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,u!==s&&f(this,u)}function l(u,v,y){this.promise=u,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function h(u,v,y){S(function(){var x;try{x=v(y)}catch(b){return g.reject(u,b)}x===u?g.reject(u,new TypeError("Cannot resolve promise with itself")):g.resolve(u,x)})}function a(u){var v=u&&u.then;if(u&&(typeof u=="object"||typeof u=="function")&&typeof v=="function")return function(){v.apply(u,arguments)}}function f(u,v){var y=!1;function x(C){y||(y=!0,g.reject(u,C))}function b(C){y||(y=!0,g.resolve(u,C))}var w=p(function(){v(b,x)});w.status==="error"&&x(w.value)}function p(u,v){var y={};try{y.value=u(v),y.status="success"}catch(x){y.status="error",y.value=x}return y}(n.exports=c).prototype.finally=function(u){if(typeof u!="function")return this;var v=this.constructor;return this.then(function(y){return v.resolve(u()).then(function(){return y})},function(y){return v.resolve(u()).then(function(){throw y})})},c.prototype.catch=function(u){return this.then(null,u)},c.prototype.then=function(u,v){if(typeof u!="function"&&this.state===o||typeof v!="function"&&this.state===i)return this;var y=new this.constructor(s);return this.state!==m?h(y,this.state===o?u:v,this.outcome):this.queue.push(new l(y,u,v)),y},l.prototype.callFulfilled=function(u){g.resolve(this.promise,u)},l.prototype.otherCallFulfilled=function(u){h(this.promise,this.onFulfilled,u)},l.prototype.callRejected=function(u){g.reject(this.promise,u)},l.prototype.otherCallRejected=function(u){h(this.promise,this.onRejected,u)},g.resolve=function(u,v){var y=p(a,v);if(y.status==="error")return g.reject(u,y.value);var x=y.value;if(x)f(u,x);else{u.state=o,u.outcome=v;for(var b=-1,w=u.queue.length;++b<w;)u.queue[b].callFulfilled(v)}return u},g.reject=function(u,v){u.state=i,u.outcome=v;for(var y=-1,x=u.queue.length;++y<x;)u.queue[y].callRejected(v);return u},c.resolve=function(u){return u instanceof this?u:g.resolve(new this(s),u)},c.reject=function(u){var v=new this(s);return g.reject(v,u)},c.all=function(u){var v=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=u.length,x=!1;if(!y)return this.resolve([]);for(var b=new Array(y),w=0,C=-1,E=new this(s);++C<y;)T(u[C],C);return E;function T(k,A){v.resolve(k).then(function(I){b[A]=I,++w!==y||x||(x=!0,g.resolve(E,b))},function(I){x||(x=!0,g.reject(E,I))})}},c.race=function(u){var v=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=u.length,x=!1;if(!y)return this.resolve([]);for(var b=-1,w=new this(s);++b<y;)C=u[b],v.resolve(C).then(function(E){x||(x=!0,g.resolve(w,E))},function(E){x||(x=!0,g.reject(w,E))});var C;return w}},{immediate:36}],38:[function(r,n,d){var S={};(0,r("./lib/utils/common").assign)(S,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=S},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,d){var S=r("./zlib/deflate"),s=r("./utils/common"),g=r("./utils/strings"),i=r("./zlib/messages"),o=r("./zlib/zstream"),m=Object.prototype.toString,c=0,l=-1,h=0,a=8;function f(u){if(!(this instanceof f))return new f(u);this.options=s.assign({level:l,method:a,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},u||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var y=S.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(y!==c)throw new Error(i[y]);if(v.header&&S.deflateSetHeader(this.strm,v.header),v.dictionary){var x;if(x=typeof v.dictionary=="string"?g.string2buf(v.dictionary):m.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(y=S.deflateSetDictionary(this.strm,x))!==c)throw new Error(i[y]);this._dict_set=!0}}function p(u,v){var y=new f(v);if(y.push(u,!0),y.err)throw y.msg||i[y.err];return y.result}f.prototype.push=function(u,v){var y,x,b=this.strm,w=this.options.chunkSize;if(this.ended)return!1;x=v===~~v?v:v===!0?4:0,typeof u=="string"?b.input=g.string2buf(u):m.call(u)==="[object ArrayBuffer]"?b.input=new Uint8Array(u):b.input=u,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new s.Buf8(w),b.next_out=0,b.avail_out=w),(y=S.deflate(b,x))!==1&&y!==c)return this.onEnd(y),!(this.ended=!0);b.avail_out!==0&&(b.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(s.shrinkBuf(b.output,b.next_out))):this.onData(s.shrinkBuf(b.output,b.next_out)))}while((0<b.avail_in||b.avail_out===0)&&y!==1);return x===4?(y=S.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===c):x!==2||(this.onEnd(c),!(b.avail_out=0))},f.prototype.onData=function(u){this.chunks.push(u)},f.prototype.onEnd=function(u){u===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},d.Deflate=f,d.deflate=p,d.deflateRaw=function(u,v){return(v=v||{}).raw=!0,p(u,v)},d.gzip=function(u,v){return(v=v||{}).gzip=!0,p(u,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,d){var S=r("./zlib/inflate"),s=r("./utils/common"),g=r("./utils/strings"),i=r("./zlib/constants"),o=r("./zlib/messages"),m=r("./zlib/zstream"),c=r("./zlib/gzheader"),l=Object.prototype.toString;function h(f){if(!(this instanceof h))return new h(f);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},f||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||f&&f.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&!(15&p.windowBits)&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var u=S.inflateInit2(this.strm,p.windowBits);if(u!==i.Z_OK)throw new Error(o[u]);this.header=new c,S.inflateGetHeader(this.strm,this.header)}function a(f,p){var u=new h(p);if(u.push(f,!0),u.err)throw u.msg||o[u.err];return u.result}h.prototype.push=function(f,p){var u,v,y,x,b,w,C=this.strm,E=this.options.chunkSize,T=this.options.dictionary,k=!1;if(this.ended)return!1;v=p===~~p?p:p===!0?i.Z_FINISH:i.Z_NO_FLUSH,typeof f=="string"?C.input=g.binstring2buf(f):l.call(f)==="[object ArrayBuffer]"?C.input=new Uint8Array(f):C.input=f,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(E),C.next_out=0,C.avail_out=E),(u=S.inflate(C,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&T&&(w=typeof T=="string"?g.string2buf(T):l.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,u=S.inflateSetDictionary(this.strm,w)),u===i.Z_BUF_ERROR&&k===!0&&(u=i.Z_OK,k=!1),u!==i.Z_STREAM_END&&u!==i.Z_OK)return this.onEnd(u),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&u!==i.Z_STREAM_END&&(C.avail_in!==0||v!==i.Z_FINISH&&v!==i.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=g.utf8border(C.output,C.next_out),x=C.next_out-y,b=g.buf2string(C.output,y),C.next_out=x,C.avail_out=E-x,x&&s.arraySet(C.output,C.output,y,x,0),this.onData(b)):this.onData(s.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(k=!0)}while((0<C.avail_in||C.avail_out===0)&&u!==i.Z_STREAM_END);return u===i.Z_STREAM_END&&(v=i.Z_FINISH),v===i.Z_FINISH?(u=S.inflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===i.Z_OK):v!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),!(C.avail_out=0))},h.prototype.onData=function(f){this.chunks.push(f)},h.prototype.onEnd=function(f){f===i.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},d.Inflate=h,d.inflate=a,d.inflateRaw=function(f,p){return(p=p||{}).raw=!0,a(f,p)},d.ungzip=a},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,d){var S=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";d.assign=function(i){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var m=o.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var c in m)m.hasOwnProperty(c)&&(i[c]=m[c])}}return i},d.shrinkBuf=function(i,o){return i.length===o?i:i.subarray?i.subarray(0,o):(i.length=o,i)};var s={arraySet:function(i,o,m,c,l){if(o.subarray&&i.subarray)i.set(o.subarray(m,m+c),l);else for(var h=0;h<c;h++)i[l+h]=o[m+h]},flattenChunks:function(i){var o,m,c,l,h,a;for(o=c=0,m=i.length;o<m;o++)c+=i[o].length;for(a=new Uint8Array(c),o=l=0,m=i.length;o<m;o++)h=i[o],a.set(h,l),l+=h.length;return a}},g={arraySet:function(i,o,m,c,l){for(var h=0;h<c;h++)i[l+h]=o[m+h]},flattenChunks:function(i){return[].concat.apply([],i)}};d.setTyped=function(i){i?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,s)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,g))},d.setTyped(S)},{}],42:[function(r,n,d){var S=r("./common"),s=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch(c){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){g=!1}for(var i=new S.Buf8(256),o=0;o<256;o++)i[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function m(c,l){if(l<65537&&(c.subarray&&g||!c.subarray&&s))return String.fromCharCode.apply(null,S.shrinkBuf(c,l));for(var h="",a=0;a<l;a++)h+=String.fromCharCode(c[a]);return h}i[254]=i[254]=1,d.string2buf=function(c){var l,h,a,f,p,u=c.length,v=0;for(f=0;f<u;f++)(64512&(h=c.charCodeAt(f)))==55296&&f+1<u&&(64512&(a=c.charCodeAt(f+1)))==56320&&(h=65536+(h-55296<<10)+(a-56320),f++),v+=h<128?1:h<2048?2:h<65536?3:4;for(l=new S.Buf8(v),f=p=0;p<v;f++)(64512&(h=c.charCodeAt(f)))==55296&&f+1<u&&(64512&(a=c.charCodeAt(f+1)))==56320&&(h=65536+(h-55296<<10)+(a-56320),f++),h<128?l[p++]=h:(h<2048?l[p++]=192|h>>>6:(h<65536?l[p++]=224|h>>>12:(l[p++]=240|h>>>18,l[p++]=128|h>>>12&63),l[p++]=128|h>>>6&63),l[p++]=128|63&h);return l},d.buf2binstring=function(c){return m(c,c.length)},d.binstring2buf=function(c){for(var l=new S.Buf8(c.length),h=0,a=l.length;h<a;h++)l[h]=c.charCodeAt(h);return l},d.buf2string=function(c,l){var h,a,f,p,u=l||c.length,v=new Array(2*u);for(h=a=0;h<u;)if((f=c[h++])<128)v[a++]=f;else if(4<(p=i[f]))v[a++]=65533,h+=p-1;else{for(f&=p===2?31:p===3?15:7;1<p&&h<u;)f=f<<6|63&c[h++],p--;1<p?v[a++]=65533:f<65536?v[a++]=f:(f-=65536,v[a++]=55296|f>>10&1023,v[a++]=56320|1023&f)}return m(v,a)},d.utf8border=function(c,l){var h;for((l=l||c.length)>c.length&&(l=c.length),h=l-1;0<=h&&(192&c[h])==128;)h--;return h<0||h===0?l:h+i[c[h]]>l?h:l}},{"./common":41}],43:[function(r,n,d){n.exports=function(S,s,g,i){for(var o=65535&S|0,m=S>>>16&65535|0,c=0;g!==0;){for(g-=c=2e3<g?2e3:g;m=m+(o=o+s[i++]|0)|0,--c;);o%=65521,m%=65521}return o|m<<16|0}},{}],44:[function(r,n,d){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,d){var S=function(){for(var s,g=[],i=0;i<256;i++){s=i;for(var o=0;o<8;o++)s=1&s?3988292384^s>>>1:s>>>1;g[i]=s}return g}();n.exports=function(s,g,i,o){var m=S,c=o+i;s^=-1;for(var l=o;l<c;l++)s=s>>>8^m[255&(s^g[l])];return-1^s}},{}],46:[function(r,n,d){var S,s=r("../utils/common"),g=r("./trees"),i=r("./adler32"),o=r("./crc32"),m=r("./messages"),c=0,l=4,h=0,a=-2,f=-1,p=4,u=2,v=8,y=9,x=286,b=30,w=19,C=2*x+1,E=15,T=3,k=258,A=k+T+1,I=42,B=113,M=1,O=2,P=3,L=4;function _(K,Mt){return K.msg=m[Mt],Mt}function G(K){return(K<<1)-(4<K?9:0)}function $(K){for(var Mt=K.length;0<=--Mt;)K[Mt]=0}function W(K){var Mt=K.state,Ft=Mt.pending;Ft>K.avail_out&&(Ft=K.avail_out),Ft!==0&&(s.arraySet(K.output,Mt.pending_buf,Mt.pending_out,Ft,K.next_out),K.next_out+=Ft,Mt.pending_out+=Ft,K.total_out+=Ft,K.avail_out-=Ft,Mt.pending-=Ft,Mt.pending===0&&(Mt.pending_out=0))}function Y(K,Mt){g._tr_flush_block(K,0<=K.block_start?K.block_start:-1,K.strstart-K.block_start,Mt),K.block_start=K.strstart,W(K.strm)}function z(K,Mt){K.pending_buf[K.pending++]=Mt}function F(K,Mt){K.pending_buf[K.pending++]=Mt>>>8&255,K.pending_buf[K.pending++]=255&Mt}function N(K,Mt){var Ft,dt,yt=K.max_chain_length,At=K.strstart,Ot=K.prev_length,le=K.nice_match,_t=K.strstart>K.w_size-A?K.strstart-(K.w_size-A):0,xe=K.window,ke=K.w_mask,ve=K.prev,Fe=K.strstart+k,Ze=xe[At+Ot-1],ei=xe[At+Ot];K.prev_length>=K.good_match&&(yt>>=2),le>K.lookahead&&(le=K.lookahead);do if(xe[(Ft=Mt)+Ot]===ei&&xe[Ft+Ot-1]===Ze&&xe[Ft]===xe[At]&&xe[++Ft]===xe[At+1]){At+=2,Ft++;do;while(xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&xe[++At]===xe[++Ft]&&At<Fe);if(dt=k-(Fe-At),At=Fe-k,Ot<dt){if(K.match_start=Mt,le<=(Ot=dt))break;Ze=xe[At+Ot-1],ei=xe[At+Ot]}}while((Mt=ve[Mt&ke])>_t&&--yt!=0);return Ot<=K.lookahead?Ot:K.lookahead}function j(K){var Mt,Ft,dt,yt,At,Ot,le,_t,xe,ke,ve=K.w_size;do{if(yt=K.window_size-K.lookahead-K.strstart,K.strstart>=ve+(ve-A)){for(s.arraySet(K.window,K.window,ve,ve,0),K.match_start-=ve,K.strstart-=ve,K.block_start-=ve,Mt=Ft=K.hash_size;dt=K.head[--Mt],K.head[Mt]=ve<=dt?dt-ve:0,--Ft;);for(Mt=Ft=ve;dt=K.prev[--Mt],K.prev[Mt]=ve<=dt?dt-ve:0,--Ft;);yt+=ve}if(K.strm.avail_in===0)break;if(Ot=K.strm,le=K.window,_t=K.strstart+K.lookahead,xe=yt,ke=void 0,ke=Ot.avail_in,xe<ke&&(ke=xe),Ft=ke===0?0:(Ot.avail_in-=ke,s.arraySet(le,Ot.input,Ot.next_in,ke,_t),Ot.state.wrap===1?Ot.adler=i(Ot.adler,le,ke,_t):Ot.state.wrap===2&&(Ot.adler=o(Ot.adler,le,ke,_t)),Ot.next_in+=ke,Ot.total_in+=ke,ke),K.lookahead+=Ft,K.lookahead+K.insert>=T)for(At=K.strstart-K.insert,K.ins_h=K.window[At],K.ins_h=(K.ins_h<<K.hash_shift^K.window[At+1])&K.hash_mask;K.insert&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[At+T-1])&K.hash_mask,K.prev[At&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=At,At++,K.insert--,!(K.lookahead+K.insert<T)););}while(K.lookahead<A&&K.strm.avail_in!==0)}function U(K,Mt){for(var Ft,dt;;){if(K.lookahead<A){if(j(K),K.lookahead<A&&Mt===c)return M;if(K.lookahead===0)break}if(Ft=0,K.lookahead>=T&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+T-1])&K.hash_mask,Ft=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),Ft!==0&&K.strstart-Ft<=K.w_size-A&&(K.match_length=N(K,Ft)),K.match_length>=T)if(dt=g._tr_tally(K,K.strstart-K.match_start,K.match_length-T),K.lookahead-=K.match_length,K.match_length<=K.max_lazy_match&&K.lookahead>=T){for(K.match_length--;K.strstart++,K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+T-1])&K.hash_mask,Ft=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart,--K.match_length!=0;);K.strstart++}else K.strstart+=K.match_length,K.match_length=0,K.ins_h=K.window[K.strstart],K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+1])&K.hash_mask;else dt=g._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++;if(dt&&(Y(K,!1),K.strm.avail_out===0))return M}return K.insert=K.strstart<T-1?K.strstart:T-1,Mt===l?(Y(K,!0),K.strm.avail_out===0?P:L):K.last_lit&&(Y(K,!1),K.strm.avail_out===0)?M:O}function V(K,Mt){for(var Ft,dt,yt;;){if(K.lookahead<A){if(j(K),K.lookahead<A&&Mt===c)return M;if(K.lookahead===0)break}if(Ft=0,K.lookahead>=T&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+T-1])&K.hash_mask,Ft=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),K.prev_length=K.match_length,K.prev_match=K.match_start,K.match_length=T-1,Ft!==0&&K.prev_length<K.max_lazy_match&&K.strstart-Ft<=K.w_size-A&&(K.match_length=N(K,Ft),K.match_length<=5&&(K.strategy===1||K.match_length===T&&4096<K.strstart-K.match_start)&&(K.match_length=T-1)),K.prev_length>=T&&K.match_length<=K.prev_length){for(yt=K.strstart+K.lookahead-T,dt=g._tr_tally(K,K.strstart-1-K.prev_match,K.prev_length-T),K.lookahead-=K.prev_length-1,K.prev_length-=2;++K.strstart<=yt&&(K.ins_h=(K.ins_h<<K.hash_shift^K.window[K.strstart+T-1])&K.hash_mask,Ft=K.prev[K.strstart&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=K.strstart),--K.prev_length!=0;);if(K.match_available=0,K.match_length=T-1,K.strstart++,dt&&(Y(K,!1),K.strm.avail_out===0))return M}else if(K.match_available){if((dt=g._tr_tally(K,0,K.window[K.strstart-1]))&&Y(K,!1),K.strstart++,K.lookahead--,K.strm.avail_out===0)return M}else K.match_available=1,K.strstart++,K.lookahead--}return K.match_available&&(dt=g._tr_tally(K,0,K.window[K.strstart-1]),K.match_available=0),K.insert=K.strstart<T-1?K.strstart:T-1,Mt===l?(Y(K,!0),K.strm.avail_out===0?P:L):K.last_lit&&(Y(K,!1),K.strm.avail_out===0)?M:O}function q(K,Mt,Ft,dt,yt){this.good_length=K,this.max_lazy=Mt,this.nice_length=Ft,this.max_chain=dt,this.func=yt}function ot(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*C),this.dyn_dtree=new s.Buf16(2*(2*b+1)),this.bl_tree=new s.Buf16(2*(2*w+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(E+1),this.heap=new s.Buf16(2*x+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*x+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(K){var Mt;return K&&K.state?(K.total_in=K.total_out=0,K.data_type=u,(Mt=K.state).pending=0,Mt.pending_out=0,Mt.wrap<0&&(Mt.wrap=-Mt.wrap),Mt.status=Mt.wrap?I:B,K.adler=Mt.wrap===2?0:1,Mt.last_flush=c,g._tr_init(Mt),h):_(K,a)}function rt(K){var Mt=Q(K);return Mt===h&&function(Ft){Ft.window_size=2*Ft.w_size,$(Ft.head),Ft.max_lazy_match=S[Ft.level].max_lazy,Ft.good_match=S[Ft.level].good_length,Ft.nice_match=S[Ft.level].nice_length,Ft.max_chain_length=S[Ft.level].max_chain,Ft.strstart=0,Ft.block_start=0,Ft.lookahead=0,Ft.insert=0,Ft.match_length=Ft.prev_length=T-1,Ft.match_available=0,Ft.ins_h=0}(K.state),Mt}function Bt(K,Mt,Ft,dt,yt,At){if(!K)return a;var Ot=1;if(Mt===f&&(Mt=6),dt<0?(Ot=0,dt=-dt):15<dt&&(Ot=2,dt-=16),yt<1||y<yt||Ft!==v||dt<8||15<dt||Mt<0||9<Mt||At<0||p<At)return _(K,a);dt===8&&(dt=9);var le=new ot;return(K.state=le).strm=K,le.wrap=Ot,le.gzhead=null,le.w_bits=dt,le.w_size=1<<le.w_bits,le.w_mask=le.w_size-1,le.hash_bits=yt+7,le.hash_size=1<<le.hash_bits,le.hash_mask=le.hash_size-1,le.hash_shift=~~((le.hash_bits+T-1)/T),le.window=new s.Buf8(2*le.w_size),le.head=new s.Buf16(le.hash_size),le.prev=new s.Buf16(le.w_size),le.lit_bufsize=1<<yt+6,le.pending_buf_size=4*le.lit_bufsize,le.pending_buf=new s.Buf8(le.pending_buf_size),le.d_buf=1*le.lit_bufsize,le.l_buf=3*le.lit_bufsize,le.level=Mt,le.strategy=At,le.method=Ft,rt(K)}S=[new q(0,0,0,0,function(K,Mt){var Ft=65535;for(Ft>K.pending_buf_size-5&&(Ft=K.pending_buf_size-5);;){if(K.lookahead<=1){if(j(K),K.lookahead===0&&Mt===c)return M;if(K.lookahead===0)break}K.strstart+=K.lookahead,K.lookahead=0;var dt=K.block_start+Ft;if((K.strstart===0||K.strstart>=dt)&&(K.lookahead=K.strstart-dt,K.strstart=dt,Y(K,!1),K.strm.avail_out===0)||K.strstart-K.block_start>=K.w_size-A&&(Y(K,!1),K.strm.avail_out===0))return M}return K.insert=0,Mt===l?(Y(K,!0),K.strm.avail_out===0?P:L):(K.strstart>K.block_start&&(Y(K,!1),K.strm.avail_out),M)}),new q(4,4,8,4,U),new q(4,5,16,8,U),new q(4,6,32,32,U),new q(4,4,16,16,V),new q(8,16,32,32,V),new q(8,16,128,128,V),new q(8,32,128,256,V),new q(32,128,258,1024,V),new q(32,258,258,4096,V)],d.deflateInit=function(K,Mt){return Bt(K,Mt,v,15,8,0)},d.deflateInit2=Bt,d.deflateReset=rt,d.deflateResetKeep=Q,d.deflateSetHeader=function(K,Mt){return K&&K.state?K.state.wrap!==2?a:(K.state.gzhead=Mt,h):a},d.deflate=function(K,Mt){var Ft,dt,yt,At;if(!K||!K.state||5<Mt||Mt<0)return K?_(K,a):a;if(dt=K.state,!K.output||!K.input&&K.avail_in!==0||dt.status===666&&Mt!==l)return _(K,K.avail_out===0?-5:a);if(dt.strm=K,Ft=dt.last_flush,dt.last_flush=Mt,dt.status===I)if(dt.wrap===2)K.adler=0,z(dt,31),z(dt,139),z(dt,8),dt.gzhead?(z(dt,(dt.gzhead.text?1:0)+(dt.gzhead.hcrc?2:0)+(dt.gzhead.extra?4:0)+(dt.gzhead.name?8:0)+(dt.gzhead.comment?16:0)),z(dt,255&dt.gzhead.time),z(dt,dt.gzhead.time>>8&255),z(dt,dt.gzhead.time>>16&255),z(dt,dt.gzhead.time>>24&255),z(dt,dt.level===9?2:2<=dt.strategy||dt.level<2?4:0),z(dt,255&dt.gzhead.os),dt.gzhead.extra&&dt.gzhead.extra.length&&(z(dt,255&dt.gzhead.extra.length),z(dt,dt.gzhead.extra.length>>8&255)),dt.gzhead.hcrc&&(K.adler=o(K.adler,dt.pending_buf,dt.pending,0)),dt.gzindex=0,dt.status=69):(z(dt,0),z(dt,0),z(dt,0),z(dt,0),z(dt,0),z(dt,dt.level===9?2:2<=dt.strategy||dt.level<2?4:0),z(dt,3),dt.status=B);else{var Ot=v+(dt.w_bits-8<<4)<<8;Ot|=(2<=dt.strategy||dt.level<2?0:dt.level<6?1:dt.level===6?2:3)<<6,dt.strstart!==0&&(Ot|=32),Ot+=31-Ot%31,dt.status=B,F(dt,Ot),dt.strstart!==0&&(F(dt,K.adler>>>16),F(dt,65535&K.adler)),K.adler=1}if(dt.status===69)if(dt.gzhead.extra){for(yt=dt.pending;dt.gzindex<(65535&dt.gzhead.extra.length)&&(dt.pending!==dt.pending_buf_size||(dt.gzhead.hcrc&&dt.pending>yt&&(K.adler=o(K.adler,dt.pending_buf,dt.pending-yt,yt)),W(K),yt=dt.pending,dt.pending!==dt.pending_buf_size));)z(dt,255&dt.gzhead.extra[dt.gzindex]),dt.gzindex++;dt.gzhead.hcrc&&dt.pending>yt&&(K.adler=o(K.adler,dt.pending_buf,dt.pending-yt,yt)),dt.gzindex===dt.gzhead.extra.length&&(dt.gzindex=0,dt.status=73)}else dt.status=73;if(dt.status===73)if(dt.gzhead.name){yt=dt.pending;do{if(dt.pending===dt.pending_buf_size&&(dt.gzhead.hcrc&&dt.pending>yt&&(K.adler=o(K.adler,dt.pending_buf,dt.pending-yt,yt)),W(K),yt=dt.pending,dt.pending===dt.pending_buf_size)){At=1;break}At=dt.gzindex<dt.gzhead.name.length?255&dt.gzhead.name.charCodeAt(dt.gzindex++):0,z(dt,At)}while(At!==0);dt.gzhead.hcrc&&dt.pending>yt&&(K.adler=o(K.adler,dt.pending_buf,dt.pending-yt,yt)),At===0&&(dt.gzindex=0,dt.status=91)}else dt.status=91;if(dt.status===91)if(dt.gzhead.comment){yt=dt.pending;do{if(dt.pending===dt.pending_buf_size&&(dt.gzhead.hcrc&&dt.pending>yt&&(K.adler=o(K.adler,dt.pending_buf,dt.pending-yt,yt)),W(K),yt=dt.pending,dt.pending===dt.pending_buf_size)){At=1;break}At=dt.gzindex<dt.gzhead.comment.length?255&dt.gzhead.comment.charCodeAt(dt.gzindex++):0,z(dt,At)}while(At!==0);dt.gzhead.hcrc&&dt.pending>yt&&(K.adler=o(K.adler,dt.pending_buf,dt.pending-yt,yt)),At===0&&(dt.status=103)}else dt.status=103;if(dt.status===103&&(dt.gzhead.hcrc?(dt.pending+2>dt.pending_buf_size&&W(K),dt.pending+2<=dt.pending_buf_size&&(z(dt,255&K.adler),z(dt,K.adler>>8&255),K.adler=0,dt.status=B)):dt.status=B),dt.pending!==0){if(W(K),K.avail_out===0)return dt.last_flush=-1,h}else if(K.avail_in===0&&G(Mt)<=G(Ft)&&Mt!==l)return _(K,-5);if(dt.status===666&&K.avail_in!==0)return _(K,-5);if(K.avail_in!==0||dt.lookahead!==0||Mt!==c&&dt.status!==666){var le=dt.strategy===2?function(_t,xe){for(var ke;;){if(_t.lookahead===0&&(j(_t),_t.lookahead===0)){if(xe===c)return M;break}if(_t.match_length=0,ke=g._tr_tally(_t,0,_t.window[_t.strstart]),_t.lookahead--,_t.strstart++,ke&&(Y(_t,!1),_t.strm.avail_out===0))return M}return _t.insert=0,xe===l?(Y(_t,!0),_t.strm.avail_out===0?P:L):_t.last_lit&&(Y(_t,!1),_t.strm.avail_out===0)?M:O}(dt,Mt):dt.strategy===3?function(_t,xe){for(var ke,ve,Fe,Ze,ei=_t.window;;){if(_t.lookahead<=k){if(j(_t),_t.lookahead<=k&&xe===c)return M;if(_t.lookahead===0)break}if(_t.match_length=0,_t.lookahead>=T&&0<_t.strstart&&(ve=ei[Fe=_t.strstart-1])===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]){Ze=_t.strstart+k;do;while(ve===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]&&ve===ei[++Fe]&&Fe<Ze);_t.match_length=k-(Ze-Fe),_t.match_length>_t.lookahead&&(_t.match_length=_t.lookahead)}if(_t.match_length>=T?(ke=g._tr_tally(_t,1,_t.match_length-T),_t.lookahead-=_t.match_length,_t.strstart+=_t.match_length,_t.match_length=0):(ke=g._tr_tally(_t,0,_t.window[_t.strstart]),_t.lookahead--,_t.strstart++),ke&&(Y(_t,!1),_t.strm.avail_out===0))return M}return _t.insert=0,xe===l?(Y(_t,!0),_t.strm.avail_out===0?P:L):_t.last_lit&&(Y(_t,!1),_t.strm.avail_out===0)?M:O}(dt,Mt):S[dt.level].func(dt,Mt);if(le!==P&&le!==L||(dt.status=666),le===M||le===P)return K.avail_out===0&&(dt.last_flush=-1),h;if(le===O&&(Mt===1?g._tr_align(dt):Mt!==5&&(g._tr_stored_block(dt,0,0,!1),Mt===3&&($(dt.head),dt.lookahead===0&&(dt.strstart=0,dt.block_start=0,dt.insert=0))),W(K),K.avail_out===0))return dt.last_flush=-1,h}return Mt!==l?h:dt.wrap<=0?1:(dt.wrap===2?(z(dt,255&K.adler),z(dt,K.adler>>8&255),z(dt,K.adler>>16&255),z(dt,K.adler>>24&255),z(dt,255&K.total_in),z(dt,K.total_in>>8&255),z(dt,K.total_in>>16&255),z(dt,K.total_in>>24&255)):(F(dt,K.adler>>>16),F(dt,65535&K.adler)),W(K),0<dt.wrap&&(dt.wrap=-dt.wrap),dt.pending!==0?h:1)},d.deflateEnd=function(K){var Mt;return K&&K.state?(Mt=K.state.status)!==I&&Mt!==69&&Mt!==73&&Mt!==91&&Mt!==103&&Mt!==B&&Mt!==666?_(K,a):(K.state=null,Mt===B?_(K,-3):h):a},d.deflateSetDictionary=function(K,Mt){var Ft,dt,yt,At,Ot,le,_t,xe,ke=Mt.length;if(!K||!K.state||(At=(Ft=K.state).wrap)===2||At===1&&Ft.status!==I||Ft.lookahead)return a;for(At===1&&(K.adler=i(K.adler,Mt,ke,0)),Ft.wrap=0,ke>=Ft.w_size&&(At===0&&($(Ft.head),Ft.strstart=0,Ft.block_start=0,Ft.insert=0),xe=new s.Buf8(Ft.w_size),s.arraySet(xe,Mt,ke-Ft.w_size,Ft.w_size,0),Mt=xe,ke=Ft.w_size),Ot=K.avail_in,le=K.next_in,_t=K.input,K.avail_in=ke,K.next_in=0,K.input=Mt,j(Ft);Ft.lookahead>=T;){for(dt=Ft.strstart,yt=Ft.lookahead-(T-1);Ft.ins_h=(Ft.ins_h<<Ft.hash_shift^Ft.window[dt+T-1])&Ft.hash_mask,Ft.prev[dt&Ft.w_mask]=Ft.head[Ft.ins_h],Ft.head[Ft.ins_h]=dt,dt++,--yt;);Ft.strstart=dt,Ft.lookahead=T-1,j(Ft)}return Ft.strstart+=Ft.lookahead,Ft.block_start=Ft.strstart,Ft.insert=Ft.lookahead,Ft.lookahead=0,Ft.match_length=Ft.prev_length=T-1,Ft.match_available=0,K.next_in=le,K.input=_t,K.avail_in=Ot,Ft.wrap=At,h},d.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,d){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,d){n.exports=function(S,s){var g,i,o,m,c,l,h,a,f,p,u,v,y,x,b,w,C,E,T,k,A,I,B,M,O;g=S.state,i=S.next_in,M=S.input,o=i+(S.avail_in-5),m=S.next_out,O=S.output,c=m-(s-S.avail_out),l=m+(S.avail_out-257),h=g.dmax,a=g.wsize,f=g.whave,p=g.wnext,u=g.window,v=g.hold,y=g.bits,x=g.lencode,b=g.distcode,w=(1<<g.lenbits)-1,C=(1<<g.distbits)-1;t:do{y<15&&(v+=M[i++]<<y,y+=8,v+=M[i++]<<y,y+=8),E=x[v&w];e:for(;;){if(v>>>=T=E>>>24,y-=T,(T=E>>>16&255)===0)O[m++]=65535&E;else{if(!(16&T)){if(!(64&T)){E=x[(65535&E)+(v&(1<<T)-1)];continue e}if(32&T){g.mode=12;break t}S.msg="invalid literal/length code",g.mode=30;break t}k=65535&E,(T&=15)&&(y<T&&(v+=M[i++]<<y,y+=8),k+=v&(1<<T)-1,v>>>=T,y-=T),y<15&&(v+=M[i++]<<y,y+=8,v+=M[i++]<<y,y+=8),E=b[v&C];i:for(;;){if(v>>>=T=E>>>24,y-=T,!(16&(T=E>>>16&255))){if(!(64&T)){E=b[(65535&E)+(v&(1<<T)-1)];continue i}S.msg="invalid distance code",g.mode=30;break t}if(A=65535&E,y<(T&=15)&&(v+=M[i++]<<y,(y+=8)<T&&(v+=M[i++]<<y,y+=8)),h<(A+=v&(1<<T)-1)){S.msg="invalid distance too far back",g.mode=30;break t}if(v>>>=T,y-=T,(T=m-c)<A){if(f<(T=A-T)&&g.sane){S.msg="invalid distance too far back",g.mode=30;break t}if(B=u,(I=0)===p){if(I+=a-T,T<k){for(k-=T;O[m++]=u[I++],--T;);I=m-A,B=O}}else if(p<T){if(I+=a+p-T,(T-=p)<k){for(k-=T;O[m++]=u[I++],--T;);if(I=0,p<k){for(k-=T=p;O[m++]=u[I++],--T;);I=m-A,B=O}}}else if(I+=p-T,T<k){for(k-=T;O[m++]=u[I++],--T;);I=m-A,B=O}for(;2<k;)O[m++]=B[I++],O[m++]=B[I++],O[m++]=B[I++],k-=3;k&&(O[m++]=B[I++],1<k&&(O[m++]=B[I++]))}else{for(I=m-A;O[m++]=O[I++],O[m++]=O[I++],O[m++]=O[I++],2<(k-=3););k&&(O[m++]=O[I++],1<k&&(O[m++]=O[I++]))}break}}break}}while(i<o&&m<l);i-=k=y>>3,v&=(1<<(y-=k<<3))-1,S.next_in=i,S.next_out=m,S.avail_in=i<o?o-i+5:5-(i-o),S.avail_out=m<l?l-m+257:257-(m-l),g.hold=v,g.bits=y}},{}],49:[function(r,n,d){var S=r("../utils/common"),s=r("./adler32"),g=r("./crc32"),i=r("./inffast"),o=r("./inftrees"),m=1,c=2,l=0,h=-2,a=1,f=852,p=592;function u(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new S.Buf16(320),this.work=new S.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(I){var B;return I&&I.state?(B=I.state,I.total_in=I.total_out=B.total=0,I.msg="",B.wrap&&(I.adler=1&B.wrap),B.mode=a,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new S.Buf32(f),B.distcode=B.distdyn=new S.Buf32(p),B.sane=1,B.back=-1,l):h}function x(I){var B;return I&&I.state?((B=I.state).wsize=0,B.whave=0,B.wnext=0,y(I)):h}function b(I,B){var M,O;return I&&I.state?(O=I.state,B<0?(M=0,B=-B):(M=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?h:(O.window!==null&&O.wbits!==B&&(O.window=null),O.wrap=M,O.wbits=B,x(I))):h}function w(I,B){var M,O;return I?(O=new v,(I.state=O).window=null,(M=b(I,B))!==l&&(I.state=null),M):h}var C,E,T=!0;function k(I){if(T){var B;for(C=new S.Buf32(512),E=new S.Buf32(32),B=0;B<144;)I.lens[B++]=8;for(;B<256;)I.lens[B++]=9;for(;B<280;)I.lens[B++]=7;for(;B<288;)I.lens[B++]=8;for(o(m,I.lens,0,288,C,0,I.work,{bits:9}),B=0;B<32;)I.lens[B++]=5;o(c,I.lens,0,32,E,0,I.work,{bits:5}),T=!1}I.lencode=C,I.lenbits=9,I.distcode=E,I.distbits=5}function A(I,B,M,O){var P,L=I.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new S.Buf8(L.wsize)),O>=L.wsize?(S.arraySet(L.window,B,M-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(O<(P=L.wsize-L.wnext)&&(P=O),S.arraySet(L.window,B,M-O,P,L.wnext),(O-=P)?(S.arraySet(L.window,B,M-O,O,0),L.wnext=O,L.whave=L.wsize):(L.wnext+=P,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=P))),0}d.inflateReset=x,d.inflateReset2=b,d.inflateResetKeep=y,d.inflateInit=function(I){return w(I,15)},d.inflateInit2=w,d.inflate=function(I,B){var M,O,P,L,_,G,$,W,Y,z,F,N,j,U,V,q,ot,Q,rt,Bt,K,Mt,Ft,dt,yt=0,At=new S.Buf8(4),Ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return h;(M=I.state).mode===12&&(M.mode=13),_=I.next_out,P=I.output,$=I.avail_out,L=I.next_in,O=I.input,G=I.avail_in,W=M.hold,Y=M.bits,z=G,F=$,Mt=l;t:for(;;)switch(M.mode){case a:if(M.wrap===0){M.mode=13;break}for(;Y<16;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}if(2&M.wrap&&W===35615){At[M.check=0]=255&W,At[1]=W>>>8&255,M.check=g(M.check,At,2,0),Y=W=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&W)<<8)+(W>>8))%31){I.msg="incorrect header check",M.mode=30;break}if((15&W)!=8){I.msg="unknown compression method",M.mode=30;break}if(Y-=4,K=8+(15&(W>>>=4)),M.wbits===0)M.wbits=K;else if(K>M.wbits){I.msg="invalid window size",M.mode=30;break}M.dmax=1<<K,I.adler=M.check=1,M.mode=512&W?10:12,Y=W=0;break;case 2:for(;Y<16;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}if(M.flags=W,(255&M.flags)!=8){I.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){I.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=W>>8&1),512&M.flags&&(At[0]=255&W,At[1]=W>>>8&255,M.check=g(M.check,At,2,0)),Y=W=0,M.mode=3;case 3:for(;Y<32;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}M.head&&(M.head.time=W),512&M.flags&&(At[0]=255&W,At[1]=W>>>8&255,At[2]=W>>>16&255,At[3]=W>>>24&255,M.check=g(M.check,At,4,0)),Y=W=0,M.mode=4;case 4:for(;Y<16;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}M.head&&(M.head.xflags=255&W,M.head.os=W>>8),512&M.flags&&(At[0]=255&W,At[1]=W>>>8&255,M.check=g(M.check,At,2,0)),Y=W=0,M.mode=5;case 5:if(1024&M.flags){for(;Y<16;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}M.length=W,M.head&&(M.head.extra_len=W),512&M.flags&&(At[0]=255&W,At[1]=W>>>8&255,M.check=g(M.check,At,2,0)),Y=W=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(G<(N=M.length)&&(N=G),N&&(M.head&&(K=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),S.arraySet(M.head.extra,O,L,N,K)),512&M.flags&&(M.check=g(M.check,O,N,L)),G-=N,L+=N,M.length-=N),M.length))break t;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(G===0)break t;for(N=0;K=O[L+N++],M.head&&K&&M.length<65536&&(M.head.name+=String.fromCharCode(K)),K&&N<G;);if(512&M.flags&&(M.check=g(M.check,O,N,L)),G-=N,L+=N,K)break t}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(G===0)break t;for(N=0;K=O[L+N++],M.head&&K&&M.length<65536&&(M.head.comment+=String.fromCharCode(K)),K&&N<G;);if(512&M.flags&&(M.check=g(M.check,O,N,L)),G-=N,L+=N,K)break t}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;Y<16;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}if(W!==(65535&M.check)){I.msg="header crc mismatch",M.mode=30;break}Y=W=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),I.adler=M.check=0,M.mode=12;break;case 10:for(;Y<32;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}I.adler=M.check=u(W),Y=W=0,M.mode=11;case 11:if(M.havedict===0)return I.next_out=_,I.avail_out=$,I.next_in=L,I.avail_in=G,M.hold=W,M.bits=Y,2;I.adler=M.check=1,M.mode=12;case 12:if(B===5||B===6)break t;case 13:if(M.last){W>>>=7&Y,Y-=7&Y,M.mode=27;break}for(;Y<3;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}switch(M.last=1&W,Y-=1,3&(W>>>=1)){case 0:M.mode=14;break;case 1:if(k(M),M.mode=20,B!==6)break;W>>>=2,Y-=2;break t;case 2:M.mode=17;break;case 3:I.msg="invalid block type",M.mode=30}W>>>=2,Y-=2;break;case 14:for(W>>>=7&Y,Y-=7&Y;Y<32;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}if((65535&W)!=(W>>>16^65535)){I.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&W,Y=W=0,M.mode=15,B===6)break t;case 15:M.mode=16;case 16:if(N=M.length){if(G<N&&(N=G),$<N&&(N=$),N===0)break t;S.arraySet(P,O,L,N,_),G-=N,L+=N,$-=N,_+=N,M.length-=N;break}M.mode=12;break;case 17:for(;Y<14;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}if(M.nlen=257+(31&W),W>>>=5,Y-=5,M.ndist=1+(31&W),W>>>=5,Y-=5,M.ncode=4+(15&W),W>>>=4,Y-=4,286<M.nlen||30<M.ndist){I.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;Y<3;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}M.lens[Ot[M.have++]]=7&W,W>>>=3,Y-=3}for(;M.have<19;)M.lens[Ot[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,Ft={bits:M.lenbits},Mt=o(0,M.lens,0,19,M.lencode,0,M.work,Ft),M.lenbits=Ft.bits,Mt){I.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;q=(yt=M.lencode[W&(1<<M.lenbits)-1])>>>16&255,ot=65535&yt,!((V=yt>>>24)<=Y);){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}if(ot<16)W>>>=V,Y-=V,M.lens[M.have++]=ot;else{if(ot===16){for(dt=V+2;Y<dt;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}if(W>>>=V,Y-=V,M.have===0){I.msg="invalid bit length repeat",M.mode=30;break}K=M.lens[M.have-1],N=3+(3&W),W>>>=2,Y-=2}else if(ot===17){for(dt=V+3;Y<dt;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}Y-=V,K=0,N=3+(7&(W>>>=V)),W>>>=3,Y-=3}else{for(dt=V+7;Y<dt;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}Y-=V,K=0,N=11+(127&(W>>>=V)),W>>>=7,Y-=7}if(M.have+N>M.nlen+M.ndist){I.msg="invalid bit length repeat",M.mode=30;break}for(;N--;)M.lens[M.have++]=K}}if(M.mode===30)break;if(M.lens[256]===0){I.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,Ft={bits:M.lenbits},Mt=o(m,M.lens,0,M.nlen,M.lencode,0,M.work,Ft),M.lenbits=Ft.bits,Mt){I.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,Ft={bits:M.distbits},Mt=o(c,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,Ft),M.distbits=Ft.bits,Mt){I.msg="invalid distances set",M.mode=30;break}if(M.mode=20,B===6)break t;case 20:M.mode=21;case 21:if(6<=G&&258<=$){I.next_out=_,I.avail_out=$,I.next_in=L,I.avail_in=G,M.hold=W,M.bits=Y,i(I,F),_=I.next_out,P=I.output,$=I.avail_out,L=I.next_in,O=I.input,G=I.avail_in,W=M.hold,Y=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;q=(yt=M.lencode[W&(1<<M.lenbits)-1])>>>16&255,ot=65535&yt,!((V=yt>>>24)<=Y);){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}if(q&&!(240&q)){for(Q=V,rt=q,Bt=ot;q=(yt=M.lencode[Bt+((W&(1<<Q+rt)-1)>>Q)])>>>16&255,ot=65535&yt,!(Q+(V=yt>>>24)<=Y);){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}W>>>=Q,Y-=Q,M.back+=Q}if(W>>>=V,Y-=V,M.back+=V,M.length=ot,q===0){M.mode=26;break}if(32&q){M.back=-1,M.mode=12;break}if(64&q){I.msg="invalid literal/length code",M.mode=30;break}M.extra=15&q,M.mode=22;case 22:if(M.extra){for(dt=M.extra;Y<dt;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}M.length+=W&(1<<M.extra)-1,W>>>=M.extra,Y-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;q=(yt=M.distcode[W&(1<<M.distbits)-1])>>>16&255,ot=65535&yt,!((V=yt>>>24)<=Y);){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}if(!(240&q)){for(Q=V,rt=q,Bt=ot;q=(yt=M.distcode[Bt+((W&(1<<Q+rt)-1)>>Q)])>>>16&255,ot=65535&yt,!(Q+(V=yt>>>24)<=Y);){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}W>>>=Q,Y-=Q,M.back+=Q}if(W>>>=V,Y-=V,M.back+=V,64&q){I.msg="invalid distance code",M.mode=30;break}M.offset=ot,M.extra=15&q,M.mode=24;case 24:if(M.extra){for(dt=M.extra;Y<dt;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}M.offset+=W&(1<<M.extra)-1,W>>>=M.extra,Y-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){I.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if($===0)break t;if(N=F-$,M.offset>N){if((N=M.offset-N)>M.whave&&M.sane){I.msg="invalid distance too far back",M.mode=30;break}j=N>M.wnext?(N-=M.wnext,M.wsize-N):M.wnext-N,N>M.length&&(N=M.length),U=M.window}else U=P,j=_-M.offset,N=M.length;for($<N&&(N=$),$-=N,M.length-=N;P[_++]=U[j++],--N;);M.length===0&&(M.mode=21);break;case 26:if($===0)break t;P[_++]=M.length,$--,M.mode=21;break;case 27:if(M.wrap){for(;Y<32;){if(G===0)break t;G--,W|=O[L++]<<Y,Y+=8}if(F-=$,I.total_out+=F,M.total+=F,F&&(I.adler=M.check=M.flags?g(M.check,P,F,_-F):s(M.check,P,F,_-F)),F=$,(M.flags?W:u(W))!==M.check){I.msg="incorrect data check",M.mode=30;break}Y=W=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;Y<32;){if(G===0)break t;G--,W+=O[L++]<<Y,Y+=8}if(W!==(4294967295&M.total)){I.msg="incorrect length check",M.mode=30;break}Y=W=0}M.mode=29;case 29:Mt=1;break t;case 30:Mt=-3;break t;case 31:return-4;case 32:default:return h}return I.next_out=_,I.avail_out=$,I.next_in=L,I.avail_in=G,M.hold=W,M.bits=Y,(M.wsize||F!==I.avail_out&&M.mode<30&&(M.mode<27||B!==4))&&A(I,I.output,I.next_out,F-I.avail_out)?(M.mode=31,-4):(z-=I.avail_in,F-=I.avail_out,I.total_in+=z,I.total_out+=F,M.total+=F,M.wrap&&F&&(I.adler=M.check=M.flags?g(M.check,P,F,I.next_out-F):s(M.check,P,F,I.next_out-F)),I.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(z==0&&F===0||B===4)&&Mt===l&&(Mt=-5),Mt)},d.inflateEnd=function(I){if(!I||!I.state)return h;var B=I.state;return B.window&&(B.window=null),I.state=null,l},d.inflateGetHeader=function(I,B){var M;return I&&I.state&&2&(M=I.state).wrap?((M.head=B).done=!1,l):h},d.inflateSetDictionary=function(I,B){var M,O=B.length;return I&&I.state?(M=I.state).wrap!==0&&M.mode!==11?h:M.mode===11&&s(1,B,O,0)!==M.check?-3:A(I,B,O,O)?(M.mode=31,-4):(M.havedict=1,l):h},d.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,d){var S=r("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(m,c,l,h,a,f,p,u){var v,y,x,b,w,C,E,T,k,A=u.bits,I=0,B=0,M=0,O=0,P=0,L=0,_=0,G=0,$=0,W=0,Y=null,z=0,F=new S.Buf16(16),N=new S.Buf16(16),j=null,U=0;for(I=0;I<=15;I++)F[I]=0;for(B=0;B<h;B++)F[c[l+B]]++;for(P=A,O=15;1<=O&&F[O]===0;O--);if(O<P&&(P=O),O===0)return a[f++]=20971520,a[f++]=20971520,u.bits=1,0;for(M=1;M<O&&F[M]===0;M++);for(P<M&&(P=M),I=G=1;I<=15;I++)if(G<<=1,(G-=F[I])<0)return-1;if(0<G&&(m===0||O!==1))return-1;for(N[1]=0,I=1;I<15;I++)N[I+1]=N[I]+F[I];for(B=0;B<h;B++)c[l+B]!==0&&(p[N[c[l+B]]++]=B);if(C=m===0?(Y=j=p,19):m===1?(Y=s,z-=257,j=g,U-=257,256):(Y=i,j=o,-1),I=M,w=f,_=B=W=0,x=-1,b=($=1<<(L=P))-1,m===1&&852<$||m===2&&592<$)return 1;for(;;){for(E=I-_,k=p[B]<C?(T=0,p[B]):p[B]>C?(T=j[U+p[B]],Y[z+p[B]]):(T=96,0),v=1<<I-_,M=y=1<<L;a[w+(W>>_)+(y-=v)]=E<<24|T<<16|k|0,y!==0;);for(v=1<<I-1;W&v;)v>>=1;if(v!==0?(W&=v-1,W+=v):W=0,B++,--F[I]==0){if(I===O)break;I=c[l+p[B]]}if(P<I&&(W&b)!==x){for(_===0&&(_=P),w+=M,G=1<<(L=I-_);L+_<O&&!((G-=F[L+_])<=0);)L++,G<<=1;if($+=1<<L,m===1&&852<$||m===2&&592<$)return 1;a[x=W&b]=P<<24|L<<16|w-f|0}}return W!==0&&(a[w+W]=I-_<<24|64<<16|0),u.bits=P,0}},{"../utils/common":41}],51:[function(r,n,d){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,d){var S=r("../utils/common"),s=0,g=1;function i(yt){for(var At=yt.length;0<=--At;)yt[At]=0}var o=0,m=29,c=256,l=c+1+m,h=30,a=19,f=2*l+1,p=15,u=16,v=7,y=256,x=16,b=17,w=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=new Array(2*(l+2));i(A);var I=new Array(2*h);i(I);var B=new Array(512);i(B);var M=new Array(256);i(M);var O=new Array(m);i(O);var P,L,_,G=new Array(h);function $(yt,At,Ot,le,_t){this.static_tree=yt,this.extra_bits=At,this.extra_base=Ot,this.elems=le,this.max_length=_t,this.has_stree=yt&&yt.length}function W(yt,At){this.dyn_tree=yt,this.max_code=0,this.stat_desc=At}function Y(yt){return yt<256?B[yt]:B[256+(yt>>>7)]}function z(yt,At){yt.pending_buf[yt.pending++]=255&At,yt.pending_buf[yt.pending++]=At>>>8&255}function F(yt,At,Ot){yt.bi_valid>u-Ot?(yt.bi_buf|=At<<yt.bi_valid&65535,z(yt,yt.bi_buf),yt.bi_buf=At>>u-yt.bi_valid,yt.bi_valid+=Ot-u):(yt.bi_buf|=At<<yt.bi_valid&65535,yt.bi_valid+=Ot)}function N(yt,At,Ot){F(yt,Ot[2*At],Ot[2*At+1])}function j(yt,At){for(var Ot=0;Ot|=1&yt,yt>>>=1,Ot<<=1,0<--At;);return Ot>>>1}function U(yt,At,Ot){var le,_t,xe=new Array(p+1),ke=0;for(le=1;le<=p;le++)xe[le]=ke=ke+Ot[le-1]<<1;for(_t=0;_t<=At;_t++){var ve=yt[2*_t+1];ve!==0&&(yt[2*_t]=j(xe[ve]++,ve))}}function V(yt){var At;for(At=0;At<l;At++)yt.dyn_ltree[2*At]=0;for(At=0;At<h;At++)yt.dyn_dtree[2*At]=0;for(At=0;At<a;At++)yt.bl_tree[2*At]=0;yt.dyn_ltree[2*y]=1,yt.opt_len=yt.static_len=0,yt.last_lit=yt.matches=0}function q(yt){8<yt.bi_valid?z(yt,yt.bi_buf):0<yt.bi_valid&&(yt.pending_buf[yt.pending++]=yt.bi_buf),yt.bi_buf=0,yt.bi_valid=0}function ot(yt,At,Ot,le){var _t=2*At,xe=2*Ot;return yt[_t]<yt[xe]||yt[_t]===yt[xe]&&le[At]<=le[Ot]}function Q(yt,At,Ot){for(var le=yt.heap[Ot],_t=Ot<<1;_t<=yt.heap_len&&(_t<yt.heap_len&&ot(At,yt.heap[_t+1],yt.heap[_t],yt.depth)&&_t++,!ot(At,le,yt.heap[_t],yt.depth));)yt.heap[Ot]=yt.heap[_t],Ot=_t,_t<<=1;yt.heap[Ot]=le}function rt(yt,At,Ot){var le,_t,xe,ke,ve=0;if(yt.last_lit!==0)for(;le=yt.pending_buf[yt.d_buf+2*ve]<<8|yt.pending_buf[yt.d_buf+2*ve+1],_t=yt.pending_buf[yt.l_buf+ve],ve++,le===0?N(yt,_t,At):(N(yt,(xe=M[_t])+c+1,At),(ke=C[xe])!==0&&F(yt,_t-=O[xe],ke),N(yt,xe=Y(--le),Ot),(ke=E[xe])!==0&&F(yt,le-=G[xe],ke)),ve<yt.last_lit;);N(yt,y,At)}function Bt(yt,At){var Ot,le,_t,xe=At.dyn_tree,ke=At.stat_desc.static_tree,ve=At.stat_desc.has_stree,Fe=At.stat_desc.elems,Ze=-1;for(yt.heap_len=0,yt.heap_max=f,Ot=0;Ot<Fe;Ot++)xe[2*Ot]!==0?(yt.heap[++yt.heap_len]=Ze=Ot,yt.depth[Ot]=0):xe[2*Ot+1]=0;for(;yt.heap_len<2;)xe[2*(_t=yt.heap[++yt.heap_len]=Ze<2?++Ze:0)]=1,yt.depth[_t]=0,yt.opt_len--,ve&&(yt.static_len-=ke[2*_t+1]);for(At.max_code=Ze,Ot=yt.heap_len>>1;1<=Ot;Ot--)Q(yt,xe,Ot);for(_t=Fe;Ot=yt.heap[1],yt.heap[1]=yt.heap[yt.heap_len--],Q(yt,xe,1),le=yt.heap[1],yt.heap[--yt.heap_max]=Ot,yt.heap[--yt.heap_max]=le,xe[2*_t]=xe[2*Ot]+xe[2*le],yt.depth[_t]=(yt.depth[Ot]>=yt.depth[le]?yt.depth[Ot]:yt.depth[le])+1,xe[2*Ot+1]=xe[2*le+1]=_t,yt.heap[1]=_t++,Q(yt,xe,1),2<=yt.heap_len;);yt.heap[--yt.heap_max]=yt.heap[1],function(ei,Ci){var xt,et,tt,Nt,ie,Ce,Le=Ci.dyn_tree,Gi=Ci.max_code,Sr=Ci.stat_desc.static_tree,lr=Ci.stat_desc.has_stree,gr=Ci.stat_desc.extra_bits,Cr=Ci.stat_desc.extra_base,Oo=Ci.stat_desc.max_length,za=0;for(Nt=0;Nt<=p;Nt++)ei.bl_count[Nt]=0;for(Le[2*ei.heap[ei.heap_max]+1]=0,xt=ei.heap_max+1;xt<f;xt++)Oo<(Nt=Le[2*Le[2*(et=ei.heap[xt])+1]+1]+1)&&(Nt=Oo,za++),Le[2*et+1]=Nt,Gi<et||(ei.bl_count[Nt]++,ie=0,Cr<=et&&(ie=gr[et-Cr]),Ce=Le[2*et],ei.opt_len+=Ce*(Nt+ie),lr&&(ei.static_len+=Ce*(Sr[2*et+1]+ie)));if(za!==0){do{for(Nt=Oo-1;ei.bl_count[Nt]===0;)Nt--;ei.bl_count[Nt]--,ei.bl_count[Nt+1]+=2,ei.bl_count[Oo]--,za-=2}while(0<za);for(Nt=Oo;Nt!==0;Nt--)for(et=ei.bl_count[Nt];et!==0;)Gi<(tt=ei.heap[--xt])||(Le[2*tt+1]!==Nt&&(ei.opt_len+=(Nt-Le[2*tt+1])*Le[2*tt],Le[2*tt+1]=Nt),et--)}}(yt,At),U(xe,Ze,yt.bl_count)}function K(yt,At,Ot){var le,_t,xe=-1,ke=At[1],ve=0,Fe=7,Ze=4;for(ke===0&&(Fe=138,Ze=3),At[2*(Ot+1)+1]=65535,le=0;le<=Ot;le++)_t=ke,ke=At[2*(le+1)+1],++ve<Fe&&_t===ke||(ve<Ze?yt.bl_tree[2*_t]+=ve:_t!==0?(_t!==xe&&yt.bl_tree[2*_t]++,yt.bl_tree[2*x]++):ve<=10?yt.bl_tree[2*b]++:yt.bl_tree[2*w]++,xe=_t,Ze=(ve=0)===ke?(Fe=138,3):_t===ke?(Fe=6,3):(Fe=7,4))}function Mt(yt,At,Ot){var le,_t,xe=-1,ke=At[1],ve=0,Fe=7,Ze=4;for(ke===0&&(Fe=138,Ze=3),le=0;le<=Ot;le++)if(_t=ke,ke=At[2*(le+1)+1],!(++ve<Fe&&_t===ke)){if(ve<Ze)for(;N(yt,_t,yt.bl_tree),--ve!=0;);else _t!==0?(_t!==xe&&(N(yt,_t,yt.bl_tree),ve--),N(yt,x,yt.bl_tree),F(yt,ve-3,2)):ve<=10?(N(yt,b,yt.bl_tree),F(yt,ve-3,3)):(N(yt,w,yt.bl_tree),F(yt,ve-11,7));xe=_t,Ze=(ve=0)===ke?(Fe=138,3):_t===ke?(Fe=6,3):(Fe=7,4)}}i(G);var Ft=!1;function dt(yt,At,Ot,le){F(yt,(o<<1)+(le?1:0),3),function(_t,xe,ke,ve){q(_t),z(_t,ke),z(_t,~ke),S.arraySet(_t.pending_buf,_t.window,xe,ke,_t.pending),_t.pending+=ke}(yt,At,Ot)}d._tr_init=function(yt){Ft||(function(){var At,Ot,le,_t,xe,ke=new Array(p+1);for(_t=le=0;_t<m-1;_t++)for(O[_t]=le,At=0;At<1<<C[_t];At++)M[le++]=_t;for(M[le-1]=_t,_t=xe=0;_t<16;_t++)for(G[_t]=xe,At=0;At<1<<E[_t];At++)B[xe++]=_t;for(xe>>=7;_t<h;_t++)for(G[_t]=xe<<7,At=0;At<1<<E[_t]-7;At++)B[256+xe++]=_t;for(Ot=0;Ot<=p;Ot++)ke[Ot]=0;for(At=0;At<=143;)A[2*At+1]=8,At++,ke[8]++;for(;At<=255;)A[2*At+1]=9,At++,ke[9]++;for(;At<=279;)A[2*At+1]=7,At++,ke[7]++;for(;At<=287;)A[2*At+1]=8,At++,ke[8]++;for(U(A,l+1,ke),At=0;At<h;At++)I[2*At+1]=5,I[2*At]=j(At,5);P=new $(A,C,c+1,l,p),L=new $(I,E,0,h,p),_=new $(new Array(0),T,0,a,v)}(),Ft=!0),yt.l_desc=new W(yt.dyn_ltree,P),yt.d_desc=new W(yt.dyn_dtree,L),yt.bl_desc=new W(yt.bl_tree,_),yt.bi_buf=0,yt.bi_valid=0,V(yt)},d._tr_stored_block=dt,d._tr_flush_block=function(yt,At,Ot,le){var _t,xe,ke=0;0<yt.level?(yt.strm.data_type===2&&(yt.strm.data_type=function(ve){var Fe,Ze=4093624447;for(Fe=0;Fe<=31;Fe++,Ze>>>=1)if(1&Ze&&ve.dyn_ltree[2*Fe]!==0)return s;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return g;for(Fe=32;Fe<c;Fe++)if(ve.dyn_ltree[2*Fe]!==0)return g;return s}(yt)),Bt(yt,yt.l_desc),Bt(yt,yt.d_desc),ke=function(ve){var Fe;for(K(ve,ve.dyn_ltree,ve.l_desc.max_code),K(ve,ve.dyn_dtree,ve.d_desc.max_code),Bt(ve,ve.bl_desc),Fe=a-1;3<=Fe&&ve.bl_tree[2*k[Fe]+1]===0;Fe--);return ve.opt_len+=3*(Fe+1)+5+5+4,Fe}(yt),_t=yt.opt_len+3+7>>>3,(xe=yt.static_len+3+7>>>3)<=_t&&(_t=xe)):_t=xe=Ot+5,Ot+4<=_t&&At!==-1?dt(yt,At,Ot,le):yt.strategy===4||xe===_t?(F(yt,2+(le?1:0),3),rt(yt,A,I)):(F(yt,4+(le?1:0),3),function(ve,Fe,Ze,ei){var Ci;for(F(ve,Fe-257,5),F(ve,Ze-1,5),F(ve,ei-4,4),Ci=0;Ci<ei;Ci++)F(ve,ve.bl_tree[2*k[Ci]+1],3);Mt(ve,ve.dyn_ltree,Fe-1),Mt(ve,ve.dyn_dtree,Ze-1)}(yt,yt.l_desc.max_code+1,yt.d_desc.max_code+1,ke+1),rt(yt,yt.dyn_ltree,yt.dyn_dtree)),V(yt),le&&q(yt)},d._tr_tally=function(yt,At,Ot){return yt.pending_buf[yt.d_buf+2*yt.last_lit]=At>>>8&255,yt.pending_buf[yt.d_buf+2*yt.last_lit+1]=255&At,yt.pending_buf[yt.l_buf+yt.last_lit]=255&Ot,yt.last_lit++,At===0?yt.dyn_ltree[2*Ot]++:(yt.matches++,At--,yt.dyn_ltree[2*(M[Ot]+c+1)]++,yt.dyn_dtree[2*Y(At)]++),yt.last_lit===yt.lit_bufsize-1},d._tr_align=function(yt){F(yt,2,3),N(yt,y,A),function(At){At.bi_valid===16?(z(At,At.bi_buf),At.bi_buf=0,At.bi_valid=0):8<=At.bi_valid&&(At.pending_buf[At.pending++]=255&At.bi_buf,At.bi_buf>>=8,At.bi_valid-=8)}(yt)}},{"../utils/common":41}],53:[function(r,n,d){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,d){(function(S){(function(s,g){if(!s.setImmediate){var i,o,m,c,l=1,h={},a=!1,f=s.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(s);p=p&&p.setTimeout?p:s,i={}.toString.call(s.process)==="[object process]"?function(x){hr.nextTick(function(){v(x)})}:function(){if(s.postMessage&&!s.importScripts){var x=!0,b=s.onmessage;return s.onmessage=function(){x=!1},s.postMessage("","*"),s.onmessage=b,x}}()?(c="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",y,!1):s.attachEvent("onmessage",y),function(x){s.postMessage(c+x,"*")}):s.MessageChannel?((m=new MessageChannel).port1.onmessage=function(x){v(x.data)},function(x){m.port2.postMessage(x)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,function(x){var b=f.createElement("script");b.onreadystatechange=function(){v(x),b.onreadystatechange=null,o.removeChild(b),b=null},o.appendChild(b)}):function(x){setTimeout(v,0,x)},p.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var b=new Array(arguments.length-1),w=0;w<b.length;w++)b[w]=arguments[w+1];var C={callback:x,args:b};return h[l]=C,i(l),l++},p.clearImmediate=u}function u(x){delete h[x]}function v(x){if(a)setTimeout(v,0,x);else{var b=h[x];if(b){a=!0;try{(function(w){var C=w.callback,E=w.args;switch(E.length){case 0:C();break;case 1:C(E[0]);break;case 2:C(E[0],E[1]);break;case 3:C(E[0],E[1],E[2]);break;default:C.apply(g,E)}})(b)}finally{u(x),a=!1}}}}function y(x){x.source===s&&typeof x.data=="string"&&x.data.indexOf(c)===0&&v(+x.data.slice(c.length))}})(typeof self=="undefined"?S===void 0?this:S:self)}).call(this,typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(Bj);var okt=Bj.exports;const lkt=ks(okt);var Oj={exports:{}};(function(e,t){(function(r,n){n()})(Bm,function(){function r(o,m){return typeof m=="undefined"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function n(o,m,c){var l=new XMLHttpRequest;l.open("GET",o),l.responseType="blob",l.onload=function(){i(l.response,m,c)},l.onerror=function(){console.error("could not download file")},l.send()}function d(o){var m=new XMLHttpRequest;m.open("HEAD",o,!1);try{m.send()}catch(c){}return 200<=m.status&&299>=m.status}function S(o){try{o.dispatchEvent(new MouseEvent("click"))}catch(c){var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(m)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof globalThis=="object"&&globalThis.global===globalThis?globalThis:void 0,g=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!g?function(o,m,c){var l=s.URL||s.webkitURL,h=document.createElement("a");m=m||o.name||"download",h.download=m,h.rel="noopener",typeof o=="string"?(h.href=o,h.origin===location.origin?S(h):d(h.href)?n(o,m,c):S(h,h.target="_blank")):(h.href=l.createObjectURL(o),setTimeout(function(){l.revokeObjectURL(h.href)},4e4),setTimeout(function(){S(h)},0))}:"msSaveOrOpenBlob"in navigator?function(o,m,c){if(m=m||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(r(o,c),m);else if(d(o))n(o,m,c);else{var l=document.createElement("a");l.href=o,l.target="_blank",setTimeout(function(){S(l)})}}:function(o,m,c,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),typeof o=="string")return n(o,m,c);var h=o.type==="application/octet-stream",a=/constructor/i.test(s.HTMLElement)||s.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||h&&a||g)&&typeof FileReader!="undefined"){var p=new FileReader;p.onloadend=function(){var y=p.result;y=f?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=y:location=y,l=null},p.readAsDataURL(o)}else{var u=s.URL||s.webkitURL,v=u.createObjectURL(o);l?l.location=v:location.href=v,l=null,setTimeout(function(){u.revokeObjectURL(v)},4e4)}});s.saveAs=i.saveAs=i,e.exports=i})})(Oj);var Nj=Oj.exports;const ukt=ks(Nj),NC="string",hkt="number",ckt=[NC,hkt],dkt="Zipclex config missing property filename",fkt="Zipclex filename can only be of type string",pkt="Zipcelx sheet data is not of type array",vkt="Zipclex sheet data childs is not of type array",mkt='Invalid type supplied in cell config, falling back to "string"',gkt=e=>e.every(t=>Array.isArray(t));var ykt=e=>e.filename?typeof e.filename!="string"?(console.error(fkt),!1):Array.isArray(e.sheet.data)?gkt(e.sheet.data)?!0:(console.error(vkt),!1):(console.error(pkt),!1):(console.error(dkt),!1);const Lj=e=>{if(typeof e!="number")return"";const t=Math.floor(e/26),r=String.fromCharCode(97+e%26).toUpperCase();return t===0?r:Lj(t-1)+r};var Fj=(e,t)=>`${Lj(e)}${t}`,xkt=(e,t,r)=>`<c r="${Fj(e,r)}" t="inlineStr"><is><t>${N4t(t)}</t></is></c>`,bkt=(e,t,r)=>`<c r="${Fj(e,r)}"><v>${t}</v></c>`,Skt=(e,t,r)=>(ckt.indexOf(e.type)===-1&&(console.warn(mkt),e.type=NC),e.type===NC?xkt(t,e.value,r):bkt(t,e.value,r)),wkt=(e,t)=>{const r=t+1,n=e.map((d,S)=>Skt(d,S,r)).join("");return`<row r="${r}">${n}</row>`},Tkt=e=>e.map((t,r)=>wkt(t,r)).join(""),Ckt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mx="http://schemas.microsoft.com/office/mac/excel/2008/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mv="urn:schemas-microsoft-com:mac:vml" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xm="http://schemas.microsoft.com/office/excel/2006/main"><workbookPr/><sheets><sheet state="visible" name="Sheet1" sheetId="1" r:id="rId3"/></sheets><definedNames/><calcPr/></workbook>`,Ekt=`<?xml version="1.0" ?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
<Relationship Id="rId3" Target="worksheets/sheet1.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet"/>
</Relationships>`,kkt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>`,Pkt=`<?xml version="1.0" ?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
<Default ContentType="application/xml" Extension="xml"/>
<Default ContentType="application/vnd.openxmlformats-package.relationships+xml" Extension="rels"/>
<Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" PartName="/xl/worksheets/sheet1.xml"/>
<Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" PartName="/xl/workbook.xml"/>
</Types>`,Akt=`<?xml version="1.0" ?>
<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mv="urn:schemas-microsoft-com:mac:vml" xmlns:mx="http://schemas.microsoft.com/office/mac/excel/2008/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xm="http://schemas.microsoft.com/office/excel/2006/main"><sheetData>{placeholder}</sheetData></worksheet>`;const Rkt=e=>{const t=Tkt(e);return Akt.replace("{placeholder}",t)};var f4=e=>{if(!ykt(e))throw new Error("Validation failed.");const t=new lkt,r=t.folder("xl");r.file("workbook.xml",Ckt),r.file("_rels/workbook.xml.rels",Ekt),t.file("_rels/.rels",kkt),t.file("[Content_Types].xml",Pkt);const n=Rkt(e.sheet.data);return r.file("worksheets/sheet1.xml",n),t.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}).then(d=>{ukt.saveAs(d,`${e.filename}.xlsx`)})};const Ikt="_fullContainer_14lrz_1",Mkt="_setContainer_14lrz_9",Bkt="_setText_14lrz_20",Okt="_row_14lrz_30",Nkt="_miniTopContainer_14lrz_38",Lkt="_miniTopText_14lrz_50",Fkt="_chartContainer_14lrz_60",Dkt="_chartPercentage_14lrz_75",_kt="_chartPercentageSub_14lrz_89",jkt="_column_14lrz_94",zkt="_correctContainer_14lrz_102",Ukt="_correctText_14lrz_114",Gkt="_textGreen_14lrz_123",Hkt="_textRed_14lrz_127",$kt="_deleteButton_14lrz_131",Wkt="_iconRight_14lrz_156",Vkt="_downloadButton_14lrz_160",Ykt="_headerContainer_14lrz_185",Xkt="_headerText_14lrz_197",Qkt="_sortedContainer_14lrz_206",Kkt="_sortedText_14lrz_214",Jkt="_sortedButton_14lrz_222",Zkt="_sortedSelected_14lrz_244",qkt="_qHolder_14lrz_249",t6t="_questionContainer_14lrz_255",e6t="_questionImageContainer_14lrz_270",i6t="_questionImageButton_14lrz_286",r6t="_questionImage_14lrz_270",n6t="_imageNumber_14lrz_297",s6t="_imageNumberLeft_14lrz_311",a6t="_questionFunc_14lrz_315",o6t="_qMathField_14lrz_323",l6t="_questionCenterContainer_14lrz_331",u6t="_questionWithFunc_14lrz_339",h6t="_questionStatsContainer_14lrz_343",c6t="_questionStats_14lrz_343",d6t="_questionStatsSub_14lrz_371",f6t="_questionText_14lrz_376",p6t="_answerText_14lrz_385",v6t="_questionStatText_14lrz_395",m6t="_standingContainer_14lrz_403",g6t="_playerContainer_14lrz_423",y6t="_accuracyText_14lrz_444",x6t="_accuracySmallText_14lrz_459",b6t="_leftEarlyText_14lrz_465",S6t="_blookImage_14lrz_475",w6t="_nameText_14lrz_482",T6t="_barContainer_14lrz_493",C6t="_correctBar_14lrz_506",E6t="_minBar_14lrz_514",k6t="_barText_14lrz_518",P6t="_scoreRow_14lrz_533",A6t="_pointsText_14lrz_542",R6t="_scoreIcon_14lrz_552",I6t="_fossilIcon_14lrz_559",M6t="_candyImage_14lrz_567",B6t="_image40_14lrz_574",O6t="_image60_14lrz_578",N6t="_standingBlook_14lrz_582",L6t="_cashText_14lrz_588",F6t="_standingQuestion_14lrz_602",D6t="_standingQuestionText_14lrz_615",_6t="_standingAnswer_14lrz_624",j6t="_plusContainer_14lrz_637",z6t="_plusModalContainer_14lrz_649",U6t="_plusTimes_14lrz_662",G6t="_plusText_14lrz_676",H6t="_smallPlus_14lrz_685",$6t="_upgradeButton_14lrz_689",W6t="_standingModalContainer_14lrz_712",V6t="_modalRow_14lrz_744",Y6t="_modalBlook_14lrz_752",X6t="_modalColumn_14lrz_757",Q6t="_modalDesc_14lrz_772",K6t="_modalStats_14lrz_777",J6t="_modalQuestionStats_14lrz_783",Z6t="_modalStatsText_14lrz_790",q6t="_modalStatsCorrect_14lrz_802",t9t="_modalQuestionColumn_14lrz_807",e9t="_modalQuestionBottom_14lrz_814",i9t="_modalQuestionRow_14lrz_818",r9t="_modalQuestionNum_14lrz_827",n9t="_modalQuestionText_14lrz_832",s9t="_modalQuestionImage_14lrz_839",a9t="_modalFuncContainer_14lrz_845",o9t="_qModalMathField_14lrz_853",l9t="_mainDivider_14lrz_861",u9t="_divider_14lrz_870",h9t="_modalButton_14lrz_879",c9t="_spacer_14lrz_890",Be={fullContainer:Ikt,setContainer:Mkt,setText:Bkt,row:Okt,miniTopContainer:Nkt,miniTopText:Lkt,chartContainer:Fkt,chartPercentage:Dkt,chartPercentageSub:_kt,column:jkt,correctContainer:zkt,correctText:Ukt,textGreen:Gkt,textRed:Hkt,deleteButton:$kt,iconRight:Wkt,downloadButton:Vkt,headerContainer:Ykt,headerText:Xkt,sortedContainer:Qkt,sortedText:Kkt,sortedButton:Jkt,sortedSelected:Zkt,qHolder:qkt,questionContainer:t6t,questionImageContainer:e6t,questionImageButton:i6t,questionImage:r6t,imageNumber:n6t,imageNumberLeft:s6t,questionFunc:a6t,qMathField:o6t,questionCenterContainer:l6t,questionWithFunc:u6t,questionStatsContainer:h6t,questionStats:c6t,questionStatsSub:d6t,questionText:f6t,answerText:p6t,questionStatText:v6t,standingContainer:m6t,playerContainer:g6t,accuracyText:y6t,accuracySmallText:x6t,leftEarlyText:b6t,blookImage:S6t,nameText:w6t,barContainer:T6t,correctBar:C6t,minBar:E6t,barText:k6t,scoreRow:P6t,pointsText:A6t,scoreIcon:R6t,fossilIcon:I6t,candyImage:M6t,image40:B6t,image60:O6t,standingBlook:N6t,cashText:L6t,standingQuestion:F6t,standingQuestionText:D6t,standingAnswer:_6t,plusContainer:j6t,plusModalContainer:z6t,plusTimes:U6t,plusText:G6t,smallPlus:H6t,upgradeButton:$6t,standingModalContainer:W6t,modalRow:V6t,modalBlook:Y6t,modalColumn:X6t,modalDesc:Q6t,modalStats:K6t,modalQuestionStats:J6t,modalStatsText:Z6t,modalStatsCorrect:q6t,modalQuestionColumn:t9t,modalQuestionBottom:e9t,modalQuestionRow:i9t,modalQuestionNum:r9t,modalQuestionText:n9t,modalQuestionImage:s9t,modalFuncContainer:a9t,qModalMathField:o9t,mainDivider:l9t,divider:u9t,modalButton:h9t,spacer:c9t};Fn.addStyles();Sp.register(cg);const T0=(e,t)=>({datasets:[{data:[e,t,!e&&!t?1:0],backgroundColor:["#4bc22e","#c43a35","#737373"],hoverBackgroundColor:["#4bc22e","#c43a35","#737373"]}]});class Dj extends ti.Component{constructor(t){super(t),this.state={ready:!1,set:"",date:"",type:"",numPlayers:0,corrects:0,incorrects:0,questions:[],stdQuestions:[],standings:[],plus:!1,deleteCheck:!1,loading:!1,sortedBy:"number",plusModal:!1,standingShown:{},zoomedImage:"",user:null},this.here=!0,this.loading=!1,this.id="",this.onDeleteConfirm=this.onDeleteConfirm.bind(this),this.changeSort=this.changeSort.bind(this),this.downloadResult=this.downloadResult.bind(this)}componentDidMount(){return ci(this,null,function*(){if(!this.props.match.params.id)return;this.id=this.props.match.params.id;const t=yield this.props.user.getData();if(!t){Ve.logError("HistoryGamePage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}this.setState({user:t}),vi.get("/api/history/byid",{params:{id:this.props.match.params.id}}).then(r=>{const n=r.data;if(!n||!n.date){this.setState({ready:!0});return}const d=n.settings.type;let S=0;n.settings.mode==="Teams"||n.settings.team?n.standings.forEach(c=>{S+=Object.keys(c.players).length}):S=n.standings.length;let s=0,g=0;const i={};for(let c=0;c<n.questions.length;c++)i[n.questions[c].num]=[0,0];const o=[];n.standings.forEach(c=>{if(n.settings.mode==="Teams"){let l=0,h=0;const a={},f={},p=[];c.players.forEach(u=>{let v=0;u.corrects&&Object.entries(u.corrects).forEach(([x,b])=>{s+=b,i[x][0]+=b,a[x]+=b,v+=b,l+=b});let y=0;u.incorrects&&Object.entries(u.incorrects).forEach(([x,b])=>{g+=b,i[x][1]+=b,f[x]+=b,y+=b,h+=b}),p.push(Fr(Fi({},u),{place:c.place,numCorrects:v,numIncorrects:y}))}),o.push(Fr(Fi({},c),{corrects:a,incorrects:f,numCorrects:l,numIncorrects:h,players:p}))}else{let l=0;c.corrects&&Object.entries(c.corrects).forEach(([a,f])=>{s+=f,i[a]!==void 0&&(i[a][0]+=f),l+=f});let h=0;c.incorrects&&Object.entries(c.incorrects).forEach(([a,f])=>{g+=f,i[a]!==void 0&&(i[a][1]+=f),h+=f}),o.push(Fr(Fi({},c),{numCorrects:l,numIncorrects:h}))}});const m=n.questions.map(c=>Fr(Fi({},c),{corrects:i[c.num][0],incorrects:i[c.num][1]}));m.sort((c,l)=>c.num-l.num),this.here&&this.setState({ready:!0,set:n.set,date:li(n.date).format("MM/DD/YY"),numPlayers:S,corrects:s,incorrects:g,standings:o,questions:m,stdQuestions:m,type:d})}).catch(r=>{this.setState({ready:!0}),Ve.logError(r)}),vi.get("/api/users/plan").then(r=>{this.here&&this.setState({plus:r.data.hasPlus})}).catch(r=>{Ve.logError(r)})})}componentWillUnmount(){this.here=!1}onDeleteConfirm(t){this.loading||(this.loading=!0,t?(this.setState({loading:!0}),vi.delete("/api/history",{params:{id:this.id,name:this.state.user.name}}).then(()=>{this.here&&this.props.history.push("/history")}).catch(r=>{Ve.logError(r)})):(this.loading=!1,this.setState({deleteCheck:!1})))}changeSort(t){const r=JSON.parse(JSON.stringify(this.state.questions));t==="number"?r.sort((n,d)=>n.num-d.num):t==="incorrects"&&r.sort((n,d)=>{const S=n.corrects/Math.max(n.corrects+n.incorrects,1),s=d.corrects/Math.max(d.corrects+d.incorrects,1);return S===1&&s===1?n.corrects-d.corrects:S===s?d.incorrects-n.incorrects:S-s}),this.setState({questions:r,sortedBy:t})}downloadResult(){const t=[[{value:"Name"},{value:"Blook"},{value:"Corrects"},{value:"Incorrects"},{value:"Percentage"},{value:this.state.type==="Racing"?"Meters":this.state.type==="Royale"?"Wins":this.state.type==="Classic"?"Points":this.state.type==="Candy"?"Candy":this.state.type==="Gold"?"Gold":this.state.type==="Shamrock"?"Shamrocks":this.state.type==="Snow"?"Snow":this.state.type==="Toy"?"Toys":this.state.type==="Defense"||this.state.type==="Defense2"?"Damage":this.state.type==="Hack"?"Crypto":this.state.type==="Fish"?"Weight":this.state.type==="Pirate"?"Doubloons":this.state.type==="Rush"?"Blooks":this.state.type==="Dino"||this.state.type==="Dinos"?"Fossils":this.state.type==="Brawl"?"XP":this.state.type==="TagOrTreat"||this.state.type==="Laser"||this.state.type==="Cocoa"||this.state.type==="Coco"||this.state.type==="Eggs"||this.state.type==="Bees"||this.state.type==="Mining"||this.state.type==="Planets"?"Score":"Cash"}]];this.state.standings.forEach(n=>{t.push([{value:n.name},{value:pd(n.blook)},{value:n.numCorrects,type:"number"},{value:n.numIncorrects,type:"number"},{value:Math.round(n.numCorrects/(n.numCorrects+n.numIncorrects||1)*100),type:"number"},{value:this.state.type==="Racing"?n.progress||n.score:this.state.type==="Royale"?n.wins||n.score:this.state.type==="Classic"?n.points||n.score:this.state.type==="Gold"||this.state.type==="Candy"?n.gold:this.state.type==="Shamrock"?n.shamrocks:this.state.type==="Snow"?n.health:this.state.type==="Toy"?n.toys:this.state.type==="Defense"||this.state.type==="Defense2"?n.dmg||n.score:this.state.type==="Hack"?n.crypto:this.state.type==="Fish"?n.weight:this.state.type==="Pirate"?n.doubloons:this.state.type==="Rush"?n.numBlooks||n.score:this.state.type==="Dino"?n.fossils:this.state.type==="Dinos"?n.score:this.state.type==="Brawl"?n.xp||n.score:this.state.type==="TagOrTreat"||this.state.type==="Laser"||this.state.type==="Cocoa"||this.state.type==="Coco"||this.state.type==="Eggs"||this.state.type==="Bees"||this.state.type==="Mining"||this.state.type==="Planets"?n.score:n.cash||n.score,type:"number"}])});const r={filename:this.state.date&&this.state.date.includes("/")?`Blooket Results - ${this.state.date.replaceAll("/","-")}`:"Blooket Results",sheet:{data:t}};f4(r)}render(){if(!this.props.match.params.id){Ve.logError("HistoryGamePage cannot be rendered without id"),window.location.href=`${ar.id}/login`;return}if(this.state.ready&&!this.state.set)return Ve.logError("HistoryGamePage cannot be rendered without this.state.set"),R.jsx(Td,{to:"/404"});let t={},r={};return this.state.standingShown.name&&(t=this.state.standingShown.corrects||{},r=this.state.standingShown.incorrects||{}),R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"History | Blooket",desc:"View your recent games and review how the players performed and what questions were most missed."}),R.jsx(la,{user:this.state.user,page:"History"}),R.jsx("div",{className:Qe.profileBodyMax,children:this.state.ready?R.jsxs("div",{className:Be.fullContainer,children:[R.jsx("div",{className:Be.setContainer,children:R.jsx("div",{className:Be.setText,children:this.state.set})}),R.jsxs("div",{className:Be.row,children:[R.jsxs("div",{className:Be.column,children:[R.jsx("div",{className:Be.miniTopContainer,children:R.jsx("div",{className:Be.miniTopText,children:this.state.date})}),R.jsxs("div",{className:Be.chartContainer,children:[R.jsx(Kh,{data:T0(this.state.corrects,this.state.incorrects),options:{maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:1500,easing:"easeInQuint"},layout:{padding:15}}}),R.jsxs("div",{className:Be.chartPercentage,children:[`${Math.round(this.state.corrects/Math.max(this.state.corrects+this.state.incorrects,1)*100)}%`,R.jsx("div",{className:Be.chartPercentageSub,children:"Correct"})]})]})]}),R.jsxs("div",{className:Be.column,children:[R.jsx("div",{className:Be.correctContainer,children:R.jsx("div",{className:Be.correctText,children:`${this.state.numPlayers} ${this.state.numPlayers===1?"Player":"Players"}`})}),R.jsx("div",{className:Be.correctContainer,children:R.jsx("div",{className:Ct(Be.correctText,Be.textGreen),children:`${$i(this.state.corrects)} Correct`})}),R.jsx("div",{className:Be.correctContainer,children:R.jsx("div",{className:Ct(Be.correctText,Be.textRed),children:`${$i(this.state.incorrects)} Incorrect`})}),R.jsxs("div",{className:Be.deleteButton,role:"button",tabIndex:0,onClick:()=>this.setState({deleteCheck:!0}),children:[R.jsx("i",{className:Ct("fas fa-trash-alt",Be.iconRight)}),"Delete"]}),this.state.plus?R.jsxs("div",{className:Be.downloadButton,role:"button",tabIndex:0,onClick:this.downloadResult,children:[R.jsx("i",{className:Ct("fas fa-table",Be.iconRight)}),"Download"]}):null]})]}),this.state.standings.length>0?R.jsxs("div",{className:Be.qHolder,children:[R.jsx("div",{className:Be.headerContainer,children:R.jsx("div",{className:Be.headerText,children:"Leaderboard"})}),this.state.standings.map(n=>R.jsxs("div",{className:Be.qHolder,children:[R.jsxs("div",{className:Be.standingContainer,role:"button",tabIndex:0,onClick:()=>this.setState({plusModal:!this.state.plus,standingShown:this.state.plus?n:{}}),children:[n.numCorrects||n.numIncorrects?R.jsxs("div",{className:Be.accuracyText,children:[`${Math.round(n.numCorrects/(n.numCorrects+n.numIncorrects)*100)}%`,R.jsx("div",{className:Be.accuracySmallText,children:"Correct"})]}):R.jsxs("div",{className:Be.leftEarlyText,children:["Left",R.jsx("br",{}),"Early"]}),R.jsx(kn,{name:n.blook,className:Be.blookImage}),R.jsx(wC,{className:Be.nameText,mode:"single",forceSingleModeWidth:!1,min:1,max:26,children:n.name}),R.jsxs("div",{className:Be.barContainer,children:[R.jsx("div",{className:Ct(Be.correctBar,{[Be.minBar]:n.numCorrects}),style:{width:!n.numCorrects&&!n.numIncorrects?"100%":`${n.numCorrects/(n.numCorrects+n.numIncorrects)*100}%`},children:n.numCorrects?R.jsx("div",{className:Be.barText,children:n.numCorrects}):null}),n.numIncorrects?R.jsx("div",{className:Be.barText,children:n.numIncorrects}):null]}),this.state.type==="Racing"?R.jsx("div",{className:Be.cashText,children:n.progress||n.score}):this.state.type==="Royale"?R.jsx("div",{className:Be.cashText,children:`${n.wins||n.score} ${(n.wins||n.score)===1?"Win":"Wins"}`}):this.state.type==="Classic"?R.jsx("div",{className:Be.cashText,children:`${$i(n.points||n.score)} ${(n.points||n.score)===1?"Point":"Points"}`}):this.state.type==="Factory"||this.state.type==="Cafe"?R.jsx("div",{className:Be.cashText,children:`$${$i(n.cash||n.score)}`}):this.state.type==="Hack"?R.jsx("div",{className:Be.cashText,children:` ${$i(n.crypto)}`}):this.state.type==="Fish"?R.jsx("div",{className:Be.cashText,children:`${$i(n.weight)} lbs`}):this.state.type==="TagOrTreat"||this.state.type==="Laser"||this.state.type==="Cocoa"||this.state.type==="Coco"||this.state.type==="Eggs"||this.state.type==="Bees"||this.state.type==="Mining"||this.state.type==="Planets"?R.jsx("div",{className:Be.cashText,children:`Score: ${$i(n.score)}`}):this.state.type==="Defense"?R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.dmg||n.score)}),R.jsx("i",{className:Ct(Be.scoreIcon,"fas fa-splotch")})]}):this.state.type==="Defense2"?R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.dmg||n.score)}),R.jsx("img",{src:Ee.basic.DamageIcon,alt:"Damage",className:Be.candyImage,draggable:!1})]}):this.state.type==="Pirate"?R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.doubloons)}),R.jsx("img",{src:Ee.basic.doubloon,alt:"Doubloons",className:Be.candyImage,draggable:!1})]}):this.state.type==="Snow"?R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.health)}),R.jsx("i",{className:Ct(Be.scoreIcon,"far fa-snowflake")})]}):this.state.type==="Dino"?R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.fossils)}),R.jsx("i",{className:Ct(Be.fossilIcon,"fas fa-bone")})]}):this.state.type==="Dinos"?R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.score)}),R.jsx("i",{className:Ct(Be.fossilIcon,"fas fa-bone")})]}):this.state.type==="Shamrock"?R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.shamrocks)}),R.jsx("img",{src:Ee.shamrock.shamrockBlack,alt:"Shamrock",className:Be.candyImage,draggable:!1})]}):this.state.type==="Gold"?R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.gold)}),R.jsx("img",{src:Ee.basic.gold,alt:"Gold",className:Ct(Be.candyImage,Be.image40),draggable:!1})]}):this.state.type==="Candy"?R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.gold)}),R.jsx("img",{src:Ee.basic.candy,alt:"Candy",className:Ct(Be.candyImage,Be.image40),draggable:!1})]}):this.state.type==="Brawl"?R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.xp||n.score)}),R.jsx("img",{src:Ee.basic.xp,alt:"Xp",className:Ct(Be.candyImage,Be.image60),draggable:!1})]}):this.state.type==="Toy"?R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.toys)}),R.jsx("img",{src:Ee.basic.toy,alt:"Toy",className:Be.candyImage,draggable:!1})]}):this.state.type==="Rush"?R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.numBlooks||n.score)}),R.jsx(kn,{name:n.blook,className:Be.standingBlook})]}):R.jsxs("div",{className:Be.scoreRow,children:[R.jsx("div",{className:Be.pointsText,children:$i(n.candy)}),R.jsx("img",{src:Ee.basic.candyDark,alt:"Candy",className:Be.candyImage,draggable:!1})]})]}),n.players?n.players.map(d=>R.jsxs("div",{className:Be.playerContainer,role:"button",tabIndex:0,onClick:()=>this.setState({plusModal:!this.state.plus,standingShown:this.state.plus?d:{}}),children:[d.numCorrects||d.numIncorrects?R.jsxs("div",{className:Be.accuracyText,children:[`${Math.round(d.numCorrects/(d.numCorrects+d.numIncorrects)*100)}%`,R.jsx("div",{className:Be.accuracySmallText,children:"Correct"})]}):R.jsxs("div",{className:Be.leftEarlyText,children:["Left",R.jsx("br",{}),"Early"]}),R.jsx(kn,{name:d.blook,className:Be.blookImage}),R.jsx(wC,{className:Be.nameText,mode:"single",forceSingleModeWidth:!1,min:1,max:26,children:d.name}),R.jsxs("div",{className:Be.barContainer,children:[R.jsx("div",{className:Ct(Be.correctBar,{[Be.minBar]:d.numCorrects}),style:{width:!d.numCorrects&&!d.numIncorrects?"100%":`${d.numCorrects/(d.numCorrects+d.numIncorrects)*100}%`},children:d.numCorrects?R.jsx("div",{className:Be.barText,children:d.numCorrects}):null}),d.numIncorrects?R.jsx("div",{className:Be.barText,children:d.numIncorrects}):null]})]},d.name)):null]},n.name))]}):null,this.state.plus?R.jsxs("div",{className:Be.qHolder,children:[R.jsx("div",{className:Be.headerContainer,children:R.jsx("div",{className:Be.headerText,children:"Questions"})}),R.jsxs("div",{className:Be.sortedContainer,children:[R.jsx("div",{className:Be.sortedText,children:"Sorted By:"}),R.jsx("div",{className:Ct(Be.sortedButton,{[Be.sortedSelected]:this.state.sortedBy==="number"}),role:"button",tabIndex:0,onClick:()=>this.changeSort("number"),children:"Question #"}),R.jsx("div",{className:Ct(Be.sortedButton,{[Be.sortedSelected]:this.state.sortedBy==="incorrects"}),role:"button",tabIndex:0,onClick:()=>this.changeSort("incorrects"),children:"Incorrect %"})]}),this.state.questions.map(n=>R.jsxs("div",{className:Be.questionContainer,children:[R.jsx("div",{className:Ct(Be.questionImageContainer,{[Be.questionImageButton]:n.image}),role:"button",tabIndex:0,onClick:n.image?()=>this.setState({zoomedImage:n.image}):()=>{},children:n.image?R.jsx(Ul,{height:130,width:170,children:R.jsx("img",{src:En(n.image),alt:"Question Background",className:Be.questionImage})}):R.jsx("div",{className:Ct(Be.imageNumber,{[Be.imageNumberLeft]:n.image}),children:n.num})}),n.audio?R.jsx("div",{className:Be.questionFunc,children:R.jsx(fh,{audioUrl:n.audio,width:"45%"})}):n.text.includes("`*`")?R.jsx("div",{className:Be.questionFunc,children:R.jsx(Fn.StaticMathField,{className:Be.qMathField,children:n.text.slice(n.text.indexOf("`*`")+3,n.text.length-3)})}):null,R.jsxs("div",{className:Ct(Be.questionCenterContainer,{[Be.questionWithFunc]:n.text.includes("`*`")||n.audio}),children:[R.jsx("div",{className:Be.questionText,children:n.text.includes("`*`")?n.text.slice(0,n.text.indexOf("`*`")):n.text}),n.answers&&n.answers.length>0&&R.jsxs("div",{className:Be.answerText,children:["Answer: ",EL(n.answers)]})]}),R.jsxs("div",{className:Be.questionStatsContainer,children:[R.jsx(Kh,{data:T0(n.corrects,n.incorrects),options:{cutout:"75%",maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:0},layout:{padding:2}}}),R.jsxs("div",{className:Be.questionStats,children:[`${n.corrects}/${n.incorrects+n.corrects}`,R.jsx("div",{className:Be.questionStatsSub,children:"Correct"})]})]})]},n.num))]}):R.jsxs("div",{className:Be.plusContainer,children:[R.jsx("div",{className:Be.plusText,children:"Get Blooket Plus For Detailed Game Reports!"}),R.jsx(xa,{className:Be.upgradeButton,to:"/upgrade",children:"Upgrade"})]}),R.jsx("div",{className:Be.spacer})]}):null}),this.state.zoomedImage?R.jsx("div",{className:Ct(Qe.modal,Qe.modalButton),role:"button",tabIndex:0,onClick:()=>this.setState({zoomedImage:""}),children:R.jsx("img",{src:En(this.state.zoomedImage,!0),alt:"Upload",className:Qe.bigImage,draggable:!1})}):null,this.state.deleteCheck?R.jsx(xr,{text:"Do you really want to delete this history?",loading:this.state.loading,buttonOne:{text:"Yes",click:()=>this.onDeleteConfirm(!0),color:"red"},buttonTwo:{text:"No",click:()=>this.onDeleteConfirm(!1),color:"blue"}}):this.state.plusModal?R.jsx("div",{className:Qe.modal,children:R.jsxs("div",{className:Be.plusModalContainer,children:[R.jsx("i",{className:Ct("fas fa-times",Be.plusTimes),role:"button",tabIndex:0,onClick:()=>this.setState({plusModal:!1})}),R.jsx("div",{className:Ct(Be.plusText,Be.smallPlus),children:"Get Blooket Plus For Detailed Game Reports!"}),R.jsx(xa,{className:Be.upgradeButton,to:"/upgrade",children:"Upgrade"})]})}):this.state.standingShown.name?R.jsxs("div",{className:Qe.modal,children:[R.jsx("div",{className:Be.modalButton,role:"button",tabIndex:0,onClick:()=>this.setState({standingShown:{}})}),R.jsxs("div",{className:Be.standingModalContainer,children:[R.jsx("i",{className:Ct("fas fa-times",Be.plusTimes),role:"button",tabIndex:0,onClick:()=>this.setState({standingShown:{}})}),R.jsxs("div",{className:Be.modalRow,children:[R.jsx(kn,{name:this.state.standingShown.blook,className:Be.modalBlook}),R.jsxs("div",{className:Be.modalColumn,children:[this.state.standingShown.name,R.jsx("div",{className:Be.modalDesc,children:`${this.state.standingShown.place}${CL(this.state.standingShown.place)} Place`})]}),R.jsxs("div",{className:Be.modalStats,children:[R.jsx(Kh,{data:T0(this.state.standingShown.numCorrects,this.state.standingShown.numIncorrects),options:{cutout:"75%",maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:0},layout:{padding:0}}}),R.jsxs("div",{className:Be.modalStatsText,children:[this.state.standingShown.numCorrects||this.state.standingShown.numIncorrects?`${Math.round(this.state.standingShown.numCorrects/(this.state.standingShown.numCorrects+this.state.standingShown.numIncorrects)*100)}%`:"0%",R.jsx("div",{className:Be.modalStatsCorrect,children:"Correct"})]})]})]}),R.jsx("div",{className:Be.mainDivider,children:" "}),this.state.stdQuestions.map((n,d)=>R.jsxs("div",{className:Ct(Be.modalQuestionColumn,{[Be.modalQuestionBottom]:d+1===this.state.stdQuestions.length}),children:[R.jsxs("div",{className:Be.modalQuestionRow,children:[n.audio?R.jsx("div",{className:Be.modalFuncContainer,children:R.jsx(fh,{audioUrl:n.audio,width:"55%"})}):n.image?R.jsx(Ul,{height:70,width:80,children:R.jsx("img",{src:En(n.image),alt:"Question Background",className:Be.modalQuestionImage})}):n.text.includes("`*`")?R.jsx("div",{className:Be.modalFuncContainer,children:R.jsx(Fn.StaticMathField,{className:Be.qModalMathField,children:n.text.slice(n.text.indexOf("`*`")+3,n.text.length-3)})}):null,R.jsx("div",{className:Be.modalQuestionNum,children:`${n.num}.`}),R.jsx("div",{className:Be.modalQuestionText,children:n.text.includes("`*`")?n.text.slice(0,n.text.indexOf("`*`")):n.text}),R.jsxs("div",{className:Be.modalQuestionStats,children:[R.jsx(Kh,{data:T0(Object.keys(t).includes(n.num.toString())?t[n.num]:0,Object.keys(r).includes(n.num.toString())?["Royale","Classic"].includes(this.state.type)?1:r[n.num]:0),options:{cutout:"75%",maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:0},layout:{padding:0}}}),R.jsx("div",{className:Be.modalStatsText,children:`${Object.keys(t).includes(n.num.toString())?t[n.num]:0}/${(Object.keys(t).includes(n.num.toString())?t[n.num]:0)+(Object.keys(r).includes(n.num.toString())?["Royale","Classic"].includes(this.state.type)?1:r[n.num]:0)}`})]})]}),d+1!==this.state.stdQuestions.length?R.jsx("div",{className:Be.divider,children:" "}):null]},n.num))]})]}):null]})}}Dj.propTypes={match:Xt.object,history:Xt.object.isRequired,user:Xt.object};const d9t=()=>({}),f9t=e=>Ns({},e),p9t=jn(Ls(Qs(d9t,f9t)(Dj)));var tb={},_j={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},v9t=_j;function jj(e){this.mode=v9t.MODE_8BIT_BYTE,this.data=e}jj.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var m9t=jj,zj={L:1,M:0,Q:3,H:2},C0=zj;function pu(e,t){this.totalCount=e,this.dataCount=t}pu.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];pu.getRSBlocks=function(e,t){var r=pu.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,d=new Array,S=0;S<n;S++)for(var s=r[S*3+0],g=r[S*3+1],i=r[S*3+2],o=0;o<s;o++)d.push(new pu(g,i));return d};pu.getRsBlockTable=function(e,t){switch(t){case C0.L:return pu.RS_BLOCK_TABLE[(e-1)*4+0];case C0.M:return pu.RS_BLOCK_TABLE[(e-1)*4+1];case C0.Q:return pu.RS_BLOCK_TABLE[(e-1)*4+2];case C0.H:return pu.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var g9t=pu;function Uj(){this.buffer=new Array,this.length=0}Uj.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var y9t=Uj,gl={glog:function(e){if(e<1)throw new Error("glog("+e+")");return gl.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return gl.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ea=0;ea<8;ea++)gl.EXP_TABLE[ea]=1<<ea;for(var ea=8;ea<256;ea++)gl.EXP_TABLE[ea]=gl.EXP_TABLE[ea-4]^gl.EXP_TABLE[ea-5]^gl.EXP_TABLE[ea-6]^gl.EXP_TABLE[ea-8];for(var ea=0;ea<255;ea++)gl.LOG_TABLE[gl.EXP_TABLE[ea]]=ea;var Gj=gl,Hc=Gj;function b1(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}b1.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=Hc.gexp(Hc.glog(this.get(r))+Hc.glog(e.get(n)));return new b1(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Hc.glog(this.get(0))-Hc.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=Hc.gexp(Hc.glog(e.get(n))+t);return new b1(r,0).mod(e)}};var Hj=b1,Fo=_j,WA=Hj,x9t=Gj,Dh={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Zs={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Zs.getBCHDigit(t)-Zs.getBCHDigit(Zs.G15)>=0;)t^=Zs.G15<<Zs.getBCHDigit(t)-Zs.getBCHDigit(Zs.G15);return(e<<10|t)^Zs.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Zs.getBCHDigit(t)-Zs.getBCHDigit(Zs.G18)>=0;)t^=Zs.G18<<Zs.getBCHDigit(t)-Zs.getBCHDigit(Zs.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Zs.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case Dh.PATTERN000:return(t+r)%2==0;case Dh.PATTERN001:return t%2==0;case Dh.PATTERN010:return r%3==0;case Dh.PATTERN011:return(t+r)%3==0;case Dh.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case Dh.PATTERN101:return t*r%2+t*r%3==0;case Dh.PATTERN110:return(t*r%2+t*r%3)%2==0;case Dh.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new WA([1],0),r=0;r<e;r++)t=t.multiply(new WA([1,x9t.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Fo.MODE_NUMBER:return 10;case Fo.MODE_ALPHA_NUM:return 9;case Fo.MODE_8BIT_BYTE:return 8;case Fo.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Fo.MODE_NUMBER:return 12;case Fo.MODE_ALPHA_NUM:return 11;case Fo.MODE_8BIT_BYTE:return 16;case Fo.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Fo.MODE_NUMBER:return 14;case Fo.MODE_ALPHA_NUM:return 13;case Fo.MODE_8BIT_BYTE:return 16;case Fo.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var d=0;d<t;d++){for(var S=0,s=e.isDark(n,d),g=-1;g<=1;g++)if(!(n+g<0||t<=n+g))for(var i=-1;i<=1;i++)d+i<0||t<=d+i||g==0&&i==0||s==e.isDark(n+g,d+i)&&S++;S>5&&(r+=3+S-5)}for(var n=0;n<t-1;n++)for(var d=0;d<t-1;d++){var o=0;e.isDark(n,d)&&o++,e.isDark(n+1,d)&&o++,e.isDark(n,d+1)&&o++,e.isDark(n+1,d+1)&&o++,(o==0||o==4)&&(r+=3)}for(var n=0;n<t;n++)for(var d=0;d<t-6;d++)e.isDark(n,d)&&!e.isDark(n,d+1)&&e.isDark(n,d+2)&&e.isDark(n,d+3)&&e.isDark(n,d+4)&&!e.isDark(n,d+5)&&e.isDark(n,d+6)&&(r+=40);for(var d=0;d<t;d++)for(var n=0;n<t-6;n++)e.isDark(n,d)&&!e.isDark(n+1,d)&&e.isDark(n+2,d)&&e.isDark(n+3,d)&&e.isDark(n+4,d)&&!e.isDark(n+5,d)&&e.isDark(n+6,d)&&(r+=40);for(var m=0,d=0;d<t;d++)for(var n=0;n<t;n++)e.isDark(n,d)&&m++;var c=Math.abs(100*m/t/t-50)/5;return r+=c*10,r}},b9t=Zs,S9t=m9t,$j=g9t,Wj=y9t,Ac=b9t,w9t=Hj;function xu(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Bo=xu.prototype;Bo.addData=function(e){var t=new S9t(e);this.dataList.push(t),this.dataCache=null};Bo.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Bo.getModuleCount=function(){return this.moduleCount};Bo.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=$j.getRSBlocks(e,this.errorCorrectLevel),r=new Wj,n=0,d=0;d<t.length;d++)n+=t[d].dataCount;for(var d=0;d<this.dataList.length;d++){var S=this.dataList[d];r.put(S.mode,4),r.put(S.getLength(),Ac.getLengthInBits(S.mode,e)),S.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Bo.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=xu.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Bo.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)};Bo.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ac.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t};Bo.createMovieClip=function(e,t,r){var n=e.createEmptyMovieClip(t,r),d=1;this.make();for(var S=0;S<this.modules.length;S++)for(var s=S*d,g=0;g<this.modules[S].length;g++){var i=g*d,o=this.modules[S][g];o&&(n.beginFill(0,100),n.moveTo(i,s),n.lineTo(i+d,s),n.lineTo(i+d,s+d),n.lineTo(i,s+d),n.endFill())}return n};Bo.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Bo.setupPositionAdjustPattern=function(){for(var e=Ac.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],d=e[r];if(this.modules[n][d]==null)for(var S=-2;S<=2;S++)for(var s=-2;s<=2;s++)S==-2||S==2||s==-2||s==2||S==0&&s==0?this.modules[n+S][d+s]=!0:this.modules[n+S][d+s]=!1}};Bo.setupTypeNumber=function(e){for(var t=Ac.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};Bo.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=Ac.getBCHTypeInfo(r),d=0;d<15;d++){var S=!e&&(n>>d&1)==1;d<6?this.modules[d][8]=S:d<8?this.modules[d+1][8]=S:this.modules[this.moduleCount-15+d][8]=S}for(var d=0;d<15;d++){var S=!e&&(n>>d&1)==1;d<8?this.modules[8][this.moduleCount-d-1]=S:d<9?this.modules[8][15-d-1+1]=S:this.modules[8][15-d-1]=S}this.modules[this.moduleCount-8][8]=!e};Bo.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,d=7,S=0,s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(var g=0;g<2;g++)if(this.modules[n][s-g]==null){var i=!1;S<e.length&&(i=(e[S]>>>d&1)==1);var o=Ac.getMask(t,n,s-g);o&&(i=!i),this.modules[n][s-g]=i,d--,d==-1&&(S++,d=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};xu.PAD0=236;xu.PAD1=17;xu.createData=function(e,t,r){for(var n=$j.getRSBlocks(e,t),d=new Wj,S=0;S<r.length;S++){var s=r[S];d.put(s.mode,4),d.put(s.getLength(),Ac.getLengthInBits(s.mode,e)),s.write(d)}for(var g=0,S=0;S<n.length;S++)g+=n[S].dataCount;if(d.getLengthInBits()>g*8)throw new Error("code length overflow. ("+d.getLengthInBits()+">"+g*8+")");for(d.getLengthInBits()+4<=g*8&&d.put(0,4);d.getLengthInBits()%8!=0;)d.putBit(!1);for(;!(d.getLengthInBits()>=g*8||(d.put(xu.PAD0,8),d.getLengthInBits()>=g*8));)d.put(xu.PAD1,8);return xu.createBytes(d,n)};xu.createBytes=function(e,t){for(var r=0,n=0,d=0,S=new Array(t.length),s=new Array(t.length),g=0;g<t.length;g++){var i=t[g].dataCount,o=t[g].totalCount-i;n=Math.max(n,i),d=Math.max(d,o),S[g]=new Array(i);for(var m=0;m<S[g].length;m++)S[g][m]=255&e.buffer[m+r];r+=i;var c=Ac.getErrorCorrectPolynomial(o),l=new w9t(S[g],c.getLength()-1),h=l.mod(c);s[g]=new Array(c.getLength()-1);for(var m=0;m<s[g].length;m++){var a=m+h.getLength()-s[g].length;s[g][m]=a>=0?h.get(a):0}}for(var f=0,m=0;m<t.length;m++)f+=t[m].totalCount;for(var p=new Array(f),u=0,m=0;m<n;m++)for(var g=0;g<t.length;g++)m<S[g].length&&(p[u++]=S[g][m]);for(var m=0;m<d;m++)for(var g=0;g<t.length;g++)m<s[g].length&&(p[u++]=s[g][m]);return p};var T9t=xu,p4={};Object.defineProperty(p4,"__esModule",{value:!0});var C9t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E9t=ip,Do=Yj(E9t),Vj=_i,E0=Yj(Vj);function Yj(e){return e&&e.__esModule?e:{default:e}}function k9t(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var P9t={bgColor:Do.default.oneOfType([Do.default.object,Do.default.string]).isRequired,bgD:Do.default.string.isRequired,fgColor:Do.default.oneOfType([Do.default.object,Do.default.string]).isRequired,fgD:Do.default.string.isRequired,size:Do.default.number.isRequired,title:Do.default.string,viewBoxSize:Do.default.number.isRequired,xmlns:Do.default.string},A9t={title:void 0,xmlns:"http://www.w3.org/2000/svg"},eb=(0,Vj.forwardRef)(function(e,t){var r=e.bgColor,n=e.bgD,d=e.fgD,S=e.fgColor,s=e.size,g=e.title,i=e.viewBoxSize,o=k9t(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return E0.default.createElement("svg",C9t({},o,{height:s,ref:t,viewBox:"0 0 "+i+" "+i,width:s}),g?E0.default.createElement("title",null,g):null,E0.default.createElement("path",{d:n,fill:r}),E0.default.createElement("path",{d,fill:S}))});eb.displayName="QRCodeSvg";eb.propTypes=P9t;eb.defaultProps=A9t;p4.default=eb;Object.defineProperty(tb,"__esModule",{value:!0});tb.QRCode=void 0;var R9t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I9t=T9t,M9t=dg(I9t),B9t=zj,O9t=dg(B9t),N9t=ip,Uu=dg(N9t),Xj=_i,L9t=dg(Xj),F9t=p4,D9t=dg(F9t);function dg(e){return e&&e.__esModule?e:{default:e}}function _9t(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var j9t={bgColor:Uu.default.oneOfType([Uu.default.object,Uu.default.string]),fgColor:Uu.default.oneOfType([Uu.default.object,Uu.default.string]),level:Uu.default.string,size:Uu.default.number,value:Uu.default.string.isRequired},z9t={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},fg=(0,Xj.forwardRef)(function(e,t){var r=e.bgColor,n=e.fgColor,d=e.level,S=e.size,s=e.value,g=_9t(e,["bgColor","fgColor","level","size","value"]),i=new M9t.default(-1,O9t.default[d]);i.addData(s),i.make();var o=i.modules;return L9t.default.createElement(D9t.default,R9t({},g,{bgColor:r,bgD:o.map(function(m,c){return m.map(function(l,h){return l?"":"M "+h+" "+c+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:n,fgD:o.map(function(m,c){return m.map(function(l,h){return l?"M "+h+" "+c+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:S,viewBoxSize:o.length}))});tb.QRCode=fg;fg.displayName="QRCode";fg.propTypes=j9t;fg.defaultProps=z9t;var U9t=tb.default=fg;const G9t="_fullContainer_1ou1z_1",H9t="_hwContainer_1ou1z_9",$9t="_hwText_1ou1z_19",W9t="_joinText_1ou1z_36",V9t="_smallJoinText_1ou1z_46",Y9t="_linkContainer_1ou1z_54",X9t="_linkText_1ou1z_75",Q9t="_copiedNotification_1ou1z_83",K9t="_qrContainer_1ou1z_96",J9t="_endDateText_1ou1z_109",Z9t="_downIcon_1ou1z_119",q9t="_refreshButton_1ou1z_129",t8t="_refreshIcon_1ou1z_155",e8t="_refreshRed_1ou1z_160",i8t="_refreshPurple_1ou1z_164",r8t="_setText_1ou1z_168",n8t="_row_1ou1z_186",s8t="_miniTopContainer_1ou1z_194",a8t="_miniTopText_1ou1z_206",o8t="_chartContainer_1ou1z_216",l8t="_chartPercentage_1ou1z_231",u8t="_chartPercentageSub_1ou1z_245",h8t="_column_1ou1z_250",c8t="_correctContainer_1ou1z_258",d8t="_correctText_1ou1z_270",f8t="_textGreen_1ou1z_279",p8t="_textRed_1ou1z_283",v8t="_iconRight_1ou1z_287",m8t="_downloadButton_1ou1z_291",g8t="_headerContainer_1ou1z_316",y8t="_headerText_1ou1z_328",x8t="_sortedContainer_1ou1z_337",b8t="_sortedText_1ou1z_345",S8t="_sortedButton_1ou1z_353",w8t="_sortedSelected_1ou1z_375",T8t="_qHolder_1ou1z_380",C8t="_questionContainer_1ou1z_386",E8t="_questionImageContainer_1ou1z_401",k8t="_questionImageButton_1ou1z_417",P8t="_questionImage_1ou1z_401",A8t="_imageNumber_1ou1z_428",R8t="_imageNumberLeft_1ou1z_442",I8t="_questionFunc_1ou1z_446",M8t="_qMathField_1ou1z_454",B8t="_questionCenterContainer_1ou1z_462",O8t="_questionWithFunc_1ou1z_470",N8t="_questionStatsContainer_1ou1z_474",L8t="_questionStats_1ou1z_474",F8t="_questionStatsSub_1ou1z_502",D8t="_questionText_1ou1z_507",_8t="_answerText_1ou1z_516",j8t="_questionStatText_1ou1z_526",z8t="_keyContainer_1ou1z_534",U8t="_keyGroup_1ou1z_549",G8t="_keyIcon_1ou1z_559",H8t="_standingHolder_1ou1z_564",$8t="_deleteStanding_1ou1z_572",W8t="_deleteIcon_1ou1z_596",V8t="_standingContainer_1ou1z_602",Y8t="_accuracyText_1ou1z_626",X8t="_accuracySmallText_1ou1z_641",Q8t="_leftEarlyText_1ou1z_647",K8t="_blookImage_1ou1z_657",J8t="_standingIcon_1ou1z_664",Z8t="_nameText_1ou1z_672",q8t="_barContainer_1ou1z_683",tPt="_correctBar_1ou1z_696",ePt="_minBar_1ou1z_704",iPt="_barText_1ou1z_708",rPt="_scoreRow_1ou1z_723",nPt="_pointsText_1ou1z_732",sPt="_scoreIcon_1ou1z_742",aPt="_statText_1ou1z_749",oPt="_statIcon_1ou1z_763",lPt="_standingQuestion_1ou1z_768",uPt="_standingQuestionText_1ou1z_781",hPt="_standingAnswer_1ou1z_790",cPt="_plusContainer_1ou1z_803",dPt="_plusModalContainer_1ou1z_815",fPt="_plusTimes_1ou1z_829",pPt="_plusText_1ou1z_843",vPt="_upgradeButton_1ou1z_852",mPt="_standingModalContainer_1ou1z_875",gPt="_modalRow_1ou1z_907",yPt="_modalBlook_1ou1z_915",xPt="_modalIcon_1ou1z_920",bPt="_modalColumn_1ou1z_930",SPt="_modalDesc_1ou1z_945",wPt="_modalStats_1ou1z_950",TPt="_modalQuestionStats_1ou1z_956",CPt="_modalStatsText_1ou1z_963",EPt="_modalStatsCorrect_1ou1z_975",kPt="_modalQuestionColumn_1ou1z_980",PPt="_modalQuestionBottom_1ou1z_987",APt="_modalQuestionRow_1ou1z_991",RPt="_modalQuestionNum_1ou1z_1000",IPt="_modalQuestionText_1ou1z_1005",MPt="_modalQuestionImage_1ou1z_1012",BPt="_modalFuncContainer_1ou1z_1018",OPt="_qModalMathField_1ou1z_1026",NPt="_mainDivider_1ou1z_1034",LPt="_divider_1ou1z_1043",FPt="_modalButton_1ou1z_1052",Ke={fullContainer:G9t,hwContainer:H9t,hwText:$9t,joinText:W9t,smallJoinText:V9t,linkContainer:Y9t,linkText:X9t,copiedNotification:Q9t,qrContainer:K9t,endDateText:J9t,downIcon:Z9t,refreshButton:q9t,refreshIcon:t8t,refreshRed:e8t,refreshPurple:i8t,setText:r8t,row:n8t,miniTopContainer:s8t,miniTopText:a8t,chartContainer:o8t,chartPercentage:l8t,chartPercentageSub:u8t,column:h8t,correctContainer:c8t,correctText:d8t,textGreen:f8t,textRed:p8t,iconRight:v8t,downloadButton:m8t,headerContainer:g8t,headerText:y8t,sortedContainer:x8t,sortedText:b8t,sortedButton:S8t,sortedSelected:w8t,qHolder:T8t,questionContainer:C8t,questionImageContainer:E8t,questionImageButton:k8t,questionImage:P8t,imageNumber:A8t,imageNumberLeft:R8t,questionFunc:I8t,qMathField:M8t,questionCenterContainer:B8t,questionWithFunc:O8t,questionStatsContainer:N8t,questionStats:L8t,questionStatsSub:F8t,questionText:D8t,answerText:_8t,questionStatText:j8t,keyContainer:z8t,keyGroup:U8t,keyIcon:G8t,standingHolder:H8t,deleteStanding:$8t,deleteIcon:W8t,standingContainer:V8t,accuracyText:Y8t,accuracySmallText:X8t,leftEarlyText:Q8t,blookImage:K8t,standingIcon:J8t,nameText:Z8t,barContainer:q8t,correctBar:tPt,minBar:ePt,barText:iPt,scoreRow:rPt,pointsText:nPt,scoreIcon:sPt,statText:aPt,statIcon:oPt,standingQuestion:lPt,standingQuestionText:uPt,standingAnswer:hPt,plusContainer:cPt,plusModalContainer:dPt,plusTimes:fPt,plusText:pPt,upgradeButton:vPt,standingModalContainer:mPt,modalRow:gPt,modalBlook:yPt,modalIcon:xPt,modalColumn:bPt,modalDesc:SPt,modalStats:wPt,modalQuestionStats:TPt,modalStatsText:CPt,modalStatsCorrect:EPt,modalQuestionColumn:kPt,modalQuestionBottom:PPt,modalQuestionRow:APt,modalQuestionNum:RPt,modalQuestionText:IPt,modalQuestionImage:MPt,modalFuncContainer:BPt,qModalMathField:OPt,mainDivider:NPt,divider:LPt,modalButton:FPt};Fn.addStyles();Sp.register(cg);const DPt=[...Object.keys(XL),...Object.keys(QL),...Object.keys(KL),...Object.keys(JL),...Object.keys(ZL),...Object.keys(qL)],VA=e=>{e.sort((t,r)=>{const n=t.corrects/Math.max(t.corrects+t.incorrects,1),d=r.corrects/Math.max(r.corrects+r.incorrects,1);return n===1&&d===1?t.corrects-r.corrects:n===d?r.incorrects-t.incorrects:n-d})},k0=(e,t)=>({datasets:[{data:[e,t,!e&&!t?1:0],backgroundColor:["#4bc22e","#c43a35","#737373"],hoverBackgroundColor:["#4bc22e","#c43a35","#737373"]}]}),dv=14,fv=365;let Qj=class extends ti.Component{constructor(t){super(t),this.state={ready:!1,set:"",type:"",date:"",endDate:"",id:"",hwTitle:"",isEnded:!1,daysLeft:0,numPlayers:0,corrects:0,incorrects:0,stdQuestions:[],questions:[],standings:[],deleteCheck:!1,loading:!1,plus:!1,justCopied:!1,sortedBy:"number",plusModal:!1,standingShown:{},deleteStanding:{},extendPop:!1,extendAmount:0,zoomedImage:"",user:null},this.id=this.props.match.params.id,this.loading=!1,this.here=!0,this.onDeleteConfirm=this.onDeleteConfirm.bind(this),this.onDeleteStanding=this.onDeleteStanding.bind(this),this.extendHW=this.extendHW.bind(this),this.refresh=this.refresh.bind(this),this.copyToClipboard=this.copyToClipboard.bind(this),this.changeSort=this.changeSort.bind(this),this.downloadResult=this.downloadResult.bind(this)}componentDidMount(){return ci(this,null,function*(){if(!this.id)return;const t=yield this.props.user.getData();if(!t){Ve.logError("HomeworkPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}this.setState({user:t}),this.refresh(),vi.get("/api/users/plan").then(r=>{this.here&&this.setState({plus:r.data.hasPlus})}).catch(r=>{Ve.logError(r)})})}componentWillUnmount(){this.here=!1,clearTimeout(this.copyTimeout)}onDeleteConfirm(t){this.loading||(this.loading=!0,t?(this.setState({loading:!0}),vi.delete("/api/homeworks",{params:{id:this.id}}).then(()=>{this.here&&this.props.history.push("/homeworks")}).catch(r=>{Ve.logError(r)})):(this.loading=!1,this.setState({deleteCheck:!1})))}onDeleteStanding(){this.loading||(this.loading=!0,this.setState({loading:!0}),vi.put("/api/homeworks/delete-result",{resultId:this.state.deleteStanding._id,hwId:this.state.deleteStanding.hwId,name:this.state.deleteStanding.name}).then(()=>{this.here&&(this.loading=!1,this.setState({deleteStanding:{}},this.refresh))}).catch(t=>{Ve.logError(t)}))}extendHW(t){if(t.preventDefault(),!this.loading){if(this.state.extendAmount<=0){this.setState({extendPop:!1});return}this.loading=!0,this.setState({loading:!0}),vi.put("/api/homeworks/extend",{hwId:this.id,minutes:this.state.extendAmount*24*60,plus:this.state.plus}).then(()=>{this.here&&(this.loading=!1,this.setState({extendPop:!1},this.refresh))}).catch(r=>{this.loading=!1,this.setState({extendPop:!1}),Ve.logError(r)})}}refresh(){this.setState({standings:[]}),vi.get("/api/homeworks/byid/results",{params:{id:this.id}}).then(t=>{if(!this.here)return;if(!t.data||!t.data.metaData){this.setState({ready:!0});return}const r=t.data.metaData,n=t.data.results;let d=0,S=0;const s={};for(let m=0;m<r.questions.length;m++)s[r.questions[m].number]=[0,0];const g=[];n.forEach(m=>{if(!m.data||!m.name)return;let c=0;m.data&&m.data.corrects&&Object.entries(m.data.corrects).forEach(([a,f])=>{d+=f,s[a]&&(s[a][0]+=f),c+=f});let l=0;m.data&&m.data.incorrects&&Object.entries(m.data.incorrects).forEach(([a,f])=>{S+=f,s[a]&&(s[a][1]+=f),l+=f});const h=G2(DPt);g.push(Fr(Fi({},m),{blook:h,numCorrects:c,numIncorrects:l}))});const i=r.questions.map(m=>Fr(Fi({},m),{corrects:s[m.number][0],incorrects:s[m.number][1]})),o=r.gameMode||r.settings.type;o==="Tower"?g.sort((m,c)=>(c.data.stage||0)-(m.data.stage||0)):o==="Factory"?g.sort((m,c)=>(c.data.cash||0)-(m.data.cash||0)):o==="Cafe"?g.sort((m,c)=>(c.data.day||0)-(m.data.day||0)):o==="Defense"||o==="Defense2"?g.sort((m,c)=>(c.data.round||0)-(m.data.round||0)):o==="Kingdom"?g.sort((m,c)=>(c.data.guests||0)-(m.data.guests||0)):o==="Brawl"&&g.sort((m,c)=>(c.data.level||0)-(m.data.level||0)),this.state.sortedBy==="number"?i.sort((m,c)=>m.number-c.number):this.state.sortedBy==="incorrects"&&VA(i),this.setState({ready:!0,set:r.title,type:o,date:li(r.startTime).format("MM/DD/YY"),endDate:li(r.startTime).add(r.duration,"minutes").format("MM/DD/YY - h:mm a"),id:r._id,hwTitle:r.title,isEnded:li(r.startTime).add(r.duration,"minutes").isBefore(li.utc())||r.noEnd,daysLeft:li(r.startTime).add(r.duration,"minutes").diff(li.utc(),"days"),numPlayers:g.length,corrects:d,incorrects:S,standings:g,questions:i,stdQuestions:i,loading:!1})}).catch(t=>{this.setState({ready:!0}),Ve.logError(t)})}copyToClipboard(){const t=document.createElement("textarea");t.value=`${ar.play}/play?hwId=${this.state.id}`,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const r=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;t.select(),document.execCommand("copy"),document.body.removeChild(t),r&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r)),clearTimeout(this.copyTimeout),this.setState({justCopied:!0},()=>{this.copyTimeout=setTimeout(()=>{this.setState({justCopied:!1})},1500)})}changeSort(t){const r=JSON.parse(JSON.stringify(this.state.questions));t==="number"?r.sort((n,d)=>n.number-d.number):t==="incorrects"&&VA(r),this.setState({questions:r,sortedBy:t})}downloadResult(){const t=[[{value:"Name"},{value:"Corrects"},{value:"Incorrects"},{value:"Percentage"},{value:this.state.type==="Tower"?"Stages":this.state.type==="Defense"||this.state.type==="Defense2"?"Rounds":this.state.type==="Kingdom"?"Guests":this.state.type==="Brawl"?"Level":this.state.type==="Cafe"?"Days":"Cash"}]];this.state.standings.forEach(n=>{t.push([{value:n.name},{value:n.numCorrects,type:"number"},{value:n.numIncorrects,type:"number"},{value:Math.round(n.numCorrects/(n.numCorrects+n.numIncorrects||1)*100),type:"number"},{value:this.state.type==="Tower"?n.data.stage:this.state.type==="Defense"||this.state.type==="Defense2"?n.data.round:this.state.type==="Kingdom"?n.data.guests:this.state.type==="Brawl"?n.data.level:this.state.type==="Cafe"?n.data.day:n.data.cash,type:"number"}])});const r={filename:this.state.date&&this.state.date.includes("/")?`Blooket Results - ${this.state.date.replaceAll("/","-")}`:"Blooket Results",sheet:{data:t}};f4(r)}render(){if(!this.props.match.params.id){Ve.logError("HomeworkPage cannot be rendered without id"),window.location.href=`${ar.id}/login`;return}if(this.state.ready&&!this.state.set)return Ve.logError("HomeworkPage cannot be rendered without this.state.set"),R.jsx(Td,{to:"/404"});let t={},r={};return this.state.standingShown.name&&(t=this.state.standingShown.data.corrects||{},r=this.state.standingShown.data.incorrects||{}),R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Homework | Blooket",desc:"View your recent homework and review how the players performed and what questions were most missed."}),R.jsx(la,{user:this.state.user,page:"Homework"}),R.jsx("div",{className:Qe.profileBodyMax,children:this.state.ready?R.jsxs("div",{className:Ke.fullContainer,children:[this.state.isEnded?R.jsxs("div",{children:[R.jsx("div",{className:Ke.hwText,children:this.state.hwTitle}),R.jsx("div",{className:Ke.joinText,children:`This HW closed on ${this.state.endDate}`})]}):R.jsxs("div",{className:Ke.hwContainer,children:[R.jsx("div",{className:Ke.hwText,children:this.state.hwTitle}),R.jsx("div",{className:Ke.joinText,children:"Players can join at:"}),R.jsx("div",{className:Ke.smallJoinText,children:"(Click to copy and share the link or just scan the QR code to join)"}),R.jsx("div",{className:Ke.linkContainer,role:"button",tabIndex:0,onClick:this.copyToClipboard,children:R.jsxs("div",{className:Ke.linkText,children:[`${ar.play}/play?hwId=${this.state.id}`,this.state.justCopied?R.jsx("div",{className:Ke.copiedNotification,children:"Copied!"}):null]})}),R.jsx("div",{className:Ke.qrContainer,children:R.jsx(U9t,{value:`${ar.play}/play?hwId=${this.state.id}`,size:200})}),R.jsx("div",{className:Ke.endDateText,children:`HW Closes At: ${this.state.endDate}`}),R.jsx("i",{className:Ct("fas fa-angle-down",Ke.downIcon)})]}),R.jsx("div",{className:Ke.setText,children:this.state.set}),R.jsxs("div",{className:Ke.row,children:[R.jsxs("div",{className:Ke.column,children:[R.jsx("div",{className:Ke.miniTopContainer,children:R.jsx("div",{className:Ke.miniTopText,children:this.state.date})}),R.jsxs("div",{className:Ke.chartContainer,children:[R.jsx(Kh,{data:k0(this.state.corrects,this.state.incorrects),options:{maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:1500,easing:"easeInQuint"},layout:{padding:15}}}),R.jsxs("div",{className:Ke.chartPercentage,children:[`${Math.round(this.state.corrects/Math.max(this.state.corrects+this.state.incorrects,1)*100)}%`,R.jsx("div",{className:Ke.chartPercentageSub,children:"Correct"})]})]})]}),R.jsxs("div",{className:Ke.column,children:[R.jsx("div",{className:Ke.correctContainer,children:R.jsx("div",{className:Ke.correctText,children:`${this.state.numPlayers} ${this.state.numPlayers===1?"Player":"Players"}`})}),R.jsx("div",{className:Ke.correctContainer,children:R.jsx("div",{className:Ct(Ke.correctText,Ke.textGreen),children:`${$i(this.state.corrects)} Correct`})}),R.jsx("div",{className:Ke.correctContainer,children:R.jsx("div",{className:Ct(Ke.correctText,Ke.textRed),children:`${$i(this.state.incorrects)} Incorrect`})}),this.state.plus?R.jsxs("div",{className:Ke.downloadButton,role:"button",tabIndex:0,onClick:this.downloadResult,children:[R.jsx("i",{className:Ct("fas fa-table",Ke.iconRight)}),"Download"]}):null]})]}),R.jsxs("div",{className:Ke.row,children:[R.jsxs("div",{className:Ct(Ke.refreshButton,Ke.refreshRed),role:"button",tabIndex:0,onClick:()=>this.setState({deleteCheck:!0}),children:[R.jsx("i",{className:Ct(Ke.refreshIcon,"fas fa-trash-alt")}),"Delete"]}),R.jsxs("div",{className:Ct(Ke.refreshButton,Ke.refreshPurple),role:"button",tabIndex:0,onClick:()=>this.setState({extendPop:!0,extendAmount:1}),children:[R.jsx("i",{className:Ct(Ke.refreshIcon,"fas fa-history")}),this.state.isEnded?"Reopen":"Extend"]}),R.jsxs("div",{className:Ke.refreshButton,role:"button",tabIndex:0,onClick:this.refresh,children:[R.jsx("i",{className:Ct("fas fa-sync-alt",Ke.refreshIcon)}),"Refresh"]})]}),this.state.standings.length>0?R.jsxs("div",{className:Ke.qHolder,children:[R.jsx("div",{className:Ke.headerContainer,children:R.jsx("div",{className:Ke.headerText,children:"Leaderboard"})}),["Tower","Cafe","Defense","Defense2"].includes(this.state.type)?R.jsxs("div",{className:Ke.keyContainer,children:[R.jsxs("div",{className:Ke.keyGroup,children:[R.jsx("i",{className:Ct("fas fa-user",Ke.keyIcon,Ke.textGreen)}),this.state.type==="Cafe"?"Caf Open":"Alive"]}),R.jsxs("div",{className:Ke.keyGroup,children:[R.jsx("i",{className:Ct("fas fa-user-slash",Ke.keyIcon,Ke.textRed)}),this.state.type==="Cafe"?"Closed Down":"Dead"]})]}):null,this.state.standings.filter(n=>!!n.name).map(n=>R.jsxs("div",{className:Ke.standingHolder,children:[R.jsxs("div",{className:Ke.standingContainer,role:"button",tabIndex:0,onClick:()=>this.setState({plusModal:!this.state.plus,standingShown:this.state.plus&&(n.numCorrects||n.numIncorrects)?n:{}}),children:[n.numCorrects||n.numIncorrects?R.jsxs("div",{className:Ke.accuracyText,children:[`${Math.round(n.numCorrects/(n.numCorrects+n.numIncorrects)*100)}%`,R.jsx("div",{className:Ke.accuracySmallText,children:"Correct"})]}):R.jsxs("div",{className:Ke.leftEarlyText,children:["No",R.jsx("br",{}),"Progress"]}),["Tower","Cafe","Defense","Defense2"].includes(this.state.type)?R.jsx("i",{className:Ct(n.data.alive?"fas fa-user":"fas fa-user-slash",Ke.standingIcon,n.data.alive?Ke.textGreen:Ke.textRed)}):R.jsx(kn,{name:n.blook,className:Ke.blookImage}),R.jsx(wC,{className:Ke.nameText,mode:"single",forceSingleModeWidth:!1,min:1,max:26,children:n.name}),R.jsxs("div",{className:Ke.barContainer,children:[R.jsx("div",{className:Ct(Ke.correctBar,{[Ke.minBar]:n.numCorrects}),style:{width:!n.numCorrects&&!n.numIncorrects?"100%":`${n.numCorrects/(n.numCorrects+n.numIncorrects)*100}%`},children:n.numCorrects?R.jsx("div",{className:Ke.barText,children:n.numCorrects}):null}),n.numIncorrects?R.jsx("div",{className:Ke.barText,children:n.numIncorrects}):null]}),this.state.type==="Tower"?R.jsx("div",{className:Ke.statText,children:n.data.stage===34?"Ascended the Tower!":`Cleared ${n.data.stage||0} ${n.data.stage===1?"Stage":"Stages"}`}):this.state.type==="Factory"?R.jsx("div",{className:Ke.statText,children:`$${$i(n.data.cash||0)}`}):this.state.type==="Cafe"?R.jsx("div",{className:Ke.statText,children:`Day ${n.data.day||0}`}):this.state.type==="Defense"||this.state.type==="Defense2"?R.jsx("div",{className:Ke.statText,children:`Round ${n.data.round-1||0}`}):this.state.type==="Kingdom"?R.jsxs("div",{className:Ke.statText,children:[$i(n.data.guests||0),R.jsx("i",{className:Ct("fas fa-users",Ke.statIcon)})]}):this.state.type==="Brawl"?R.jsx("div",{className:Ke.statText,children:`Level ${n.data.level||0}`}):null]}),R.jsxs("div",{className:Ke.deleteStanding,role:"button",tabIndex:0,onClick:()=>this.setState({deleteStanding:n}),children:[R.jsx("i",{className:Ct("fas fa-trash-alt",Ke.deleteIcon)}),"Delete"]})]},n._id))]}):null,R.jsxs("div",{className:Ke.qHolder,children:[R.jsx("div",{className:Ke.headerContainer,children:R.jsx("div",{className:Ke.headerText,children:"Questions"})}),R.jsxs("div",{className:Ke.sortedContainer,children:[R.jsx("div",{className:Ke.sortedText,children:"Sorted By:"}),R.jsx("div",{className:Ct(Ke.sortedButton,{[Ke.sortedSelected]:this.state.sortedBy==="number"}),role:"button",tabIndex:0,onClick:()=>this.changeSort("number"),children:"Question #"}),R.jsx("div",{className:Ct(Ke.sortedButton,{[Ke.sortedSelected]:this.state.sortedBy==="incorrects"}),role:"button",tabIndex:0,onClick:()=>this.changeSort("incorrects"),children:"Incorrect %"})]}),this.state.questions.map(n=>R.jsxs("div",{className:Ke.questionContainer,children:[R.jsx("div",{className:Ct(Ke.questionImageContainer,{[Ke.questionImageButton]:n.image}),role:"button",tabIndex:0,onClick:n.image?()=>this.setState({zoomedImage:n.image}):()=>{},children:n.image?R.jsx(Ul,{height:130,width:170,children:R.jsx("img",{src:En(n.image),alt:"Question Background",className:Ke.questionImage})}):R.jsx("div",{className:Ct(Ke.imageNumber,{[Ke.imageNumberLeft]:n.image}),children:n.number})}),n.audio?R.jsx("div",{className:Ke.questionFunc,children:R.jsx(fh,{audioUrl:n.audio,width:"45%"})}):n.text.includes("`*`")?R.jsx("div",{className:Ke.questionFunc,children:R.jsx(Fn.StaticMathField,{className:Ke.qMathField,children:n.text.slice(n.text.indexOf("`*`")+3,n.text.length-3)})}):null,R.jsxs("div",{className:Ct(Ke.questionCenterContainer,{[Ke.questionWithFunc]:n.text.includes("`*`")||n.audio}),children:[R.jsx("div",{className:Ke.questionText,children:n.text.includes("`*`")?n.text.slice(0,n.text.indexOf("`*`")):n.text}),R.jsxs("div",{className:Ke.answerText,children:["Answer: ",EL(n.qType==="typing"?n.answers:n.correctAnswers)]})]}),R.jsxs("div",{className:Ke.questionStatsContainer,children:[R.jsx(Kh,{data:k0(n.corrects,n.incorrects),options:{cutout:"75%",maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:0},layout:{padding:2}}}),R.jsxs("div",{className:Ke.questionStats,children:[`${n.corrects}/${n.incorrects+n.corrects}`,R.jsx("div",{className:Ke.questionStatsSub,children:"Correct"})]})]})]},n.number))]})]}):null}),this.state.zoomedImage?R.jsx("div",{className:Ct(Qe.modal,Qe.modalButton),role:"button",tabIndex:0,onClick:()=>this.setState({zoomedImage:""}),children:R.jsx("img",{src:En(this.state.zoomedImage,!0),alt:"Upload",className:Qe.bigImage,draggable:!1})}):null,this.state.deleteCheck?R.jsx(xr,{text:"Do you really want to delete this HW?",loading:this.state.loading,buttonOne:{text:"Yes",click:()=>this.onDeleteConfirm(!0),color:"red"},buttonTwo:{text:"No",click:()=>this.onDeleteConfirm(!1),color:"blue"}}):this.state.plusModal?R.jsx("div",{className:Qe.modal,children:R.jsxs("div",{className:Ke.plusModalContainer,children:[R.jsx("i",{className:Ct("fas fa-times",Ke.plusTimes),role:"button",tabIndex:0,onClick:()=>this.setState({plusModal:!1})}),R.jsx("div",{className:Ke.plusText,children:"Get Blooket Plus For Detailed Game Reports!"}),R.jsx(xa,{className:Ke.upgradeButton,to:"/upgrade",children:"Upgrade"})]})}):this.state.deleteStanding.name?R.jsx(xr,{text:`Do you want to delete "${this.state.deleteStanding.name}"?`,loading:this.state.loading,buttonOne:{text:"Yes",click:this.onDeleteStanding,color:"red"},buttonTwo:{text:"No",click:()=>this.setState({deleteStanding:{}}),color:"blue"}}):this.state.extendPop?R.jsx(xr,{text:this.state.loading?"Processing...":!this.state.isEnded&&(this.state.plus?fv:dv)-this.state.daysLeft<=0?`Homework is already open for the max time (${this.state.plus?fv:dv} days).`:`How long would you like to ${this.state.isEnded?"reopen":"extend"} this homework for (in days)?`,loading:this.state.loading,timeValue:!this.state.isEnded&&(this.state.plus?fv:dv)-this.state.daysLeft<=0?void 0:this.state.extendAmount,timeChange:n=>this.setState({extendAmount:Math.min(this.state.plus?fv-(this.state.isEnded?0:this.state.daysLeft):dv-(this.state.isEnded?0:this.state.daysLeft),Math.max(0,Math.round(n.target.value)))}),onSubmit:this.extendHW,buttonOne:!this.state.isEnded&&(this.state.plus?fv:dv)-this.state.daysLeft<=0?null:{text:"Confirm",click:this.extendHW,color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({extendPop:!1}),color:"blue"}}):this.state.standingShown.name?R.jsxs("div",{className:Qe.modal,children:[R.jsx("div",{className:Ke.modalButton,role:"button",tabIndex:0,onClick:()=>this.setState({standingShown:{}})}),R.jsxs("div",{className:Ke.standingModalContainer,children:[R.jsx("i",{className:Ct("fas fa-times",Ke.plusTimes),role:"button",tabIndex:0,onClick:()=>this.setState({standingShown:{}})}),R.jsxs("div",{className:Ke.modalRow,children:[["Tower","Cafe","Defense"].includes(this.state.type)?R.jsx("i",{className:Ct(this.state.standingShown.data.alive?"fas fa-user":"fas fa-user-slash",Ke.modalIcon,this.state.standingShown.data.alive?Ke.textGreen:Ke.textRed)}):R.jsx(kn,{name:this.state.standingShown.blook,className:Ke.modalBlook}),R.jsxs("div",{className:Ke.modalColumn,children:[this.state.standingShown.name,R.jsx("div",{className:Ke.modalDesc,children:this.state.type==="Tower"?this.state.standingShown.data.stage===34?"Ascended the Tower!":`Cleared ${this.state.standingShown.data.stage} ${this.state.standingShown.data.stage===1?"Stage":"Stages"}`:this.state.type==="Factory"?`$${$i(this.state.standingShown.data.cash)}`:this.state.type==="Cafe"?`Day ${this.state.standingShown.data.day}`:this.state.type==="Defense"||this.state.type==="Defense2"?`Round ${this.state.standingShown.data.round-1}`:this.state.type==="Kingdom"?`${$i(this.state.standingShown.data.guests)} ${this.state.standingShown.data.guests===1?"Guest":"Guests"}`:this.state.type==="Kingdom"?`Level ${this.state.standingShown.data.level}`:null})]}),R.jsxs("div",{className:Ke.modalStats,children:[R.jsx(Kh,{data:k0(this.state.standingShown.numCorrects,this.state.standingShown.numIncorrects),options:{cutout:"75%",maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:0},layout:{padding:0}}}),R.jsxs("div",{className:Ke.modalStatsText,children:[this.state.standingShown.numCorrects||this.state.standingShown.numIncorrects?`${Math.round(this.state.standingShown.numCorrects/(this.state.standingShown.numCorrects+this.state.standingShown.numIncorrects)*100)}%`:"0%",R.jsx("div",{className:Ke.modalStatsCorrect,children:"Correct"})]})]})]}),R.jsx("div",{className:Ke.mainDivider,children:" "}),this.state.stdQuestions.map((n,d)=>R.jsxs("div",{className:Ct(Ke.modalQuestionColumn,{[Ke.modalQuestionBottom]:d+1===this.state.stdQuestions.length}),children:[R.jsxs("div",{className:Ke.modalQuestionRow,children:[n.audio?R.jsx("div",{className:Ke.modalFuncContainer,children:R.jsx(fh,{audioUrl:n.audio,width:"55%"})}):n.image?R.jsx(Ul,{height:70,width:80,children:R.jsx("img",{src:En(n.image),alt:"Question Background",className:Ke.modalQuestionImage})}):n.text.includes("`*`")?R.jsx("div",{className:Ke.modalFuncContainer,children:R.jsx(Fn.StaticMathField,{className:Ke.qModalMathField,children:n.text.slice(n.text.indexOf("`*`")+3,n.text.length-3)})}):null,R.jsx("div",{className:Ke.modalQuestionNum,children:`${n.number}.`}),R.jsx("div",{className:Ke.modalQuestionText,children:n.text.includes("`*`")?n.text.slice(0,n.text.indexOf("`*`")):n.text}),R.jsxs("div",{className:Ke.modalQuestionStats,children:[R.jsx(Kh,{data:k0(Object.keys(t).includes(n.number.toString())?t[n.number]:0,Object.keys(r).includes(n.number.toString())?r[n.number]:0),options:{cutout:"75%",maintainAspectRatio:!1,responsive:!0,legend:{display:!1},tooltips:{enabled:!1},animation:{duration:0},layout:{padding:0}}}),R.jsx("div",{className:Ke.modalStatsText,children:`${Object.keys(t).includes(n.number.toString())?t[n.number]:0}/${(Object.keys(t).includes(n.number.toString())?t[n.number]:0)+(Object.keys(r).includes(n.number.toString())?r[n.number]:0)}`})]})]}),d+1!==this.state.stdQuestions.length?R.jsx("div",{className:Ke.divider,children:" "}):null]},n.num))]})]}):null]})}};Qj.propTypes={match:Xt.object,history:Xt.object.isRequired,user:Xt.object};const _Pt=()=>({}),jPt=e=>Ns({},e),zPt=jn(Ls(Qs(_Pt,jPt)(Qj))),UPt=e=>{if(!e||e.includes("#"))return"#0bc2cf";const t=ss[e];if(!t)throw new Error(`no blook named '${e}' found in allBlooks`);return t.color},GPt="_background_1c2jf_1",HPt="_blooksBackground_1c2jf_11",$Pt="_bodyMaxWidth_1c2jf_23",WPt="_fullContainer_1c2jf_27",VPt="_headerRow_1c2jf_35",YPt="_headerLeft_1c2jf_43",XPt="_headerLeftRow_1c2jf_49",QPt="_headerBlookContainer_1c2jf_57",KPt="_headerBlook_1c2jf_57",JPt="_headerBanner_1c2jf_74",ZPt="_headerInfo_1c2jf_69",qPt="_headerFiller_1c2jf_91",tAt="_headerBg_1c2jf_103",eAt="_headerName_1c2jf_112",iAt="_headerTitle_1c2jf_118",rAt="_editHeaderContainer_1c2jf_124",nAt="_editHeaderRow_1c2jf_143",sAt="_editHeaderButtonInside_1c2jf_152",aAt="_editHeaderColumn_1c2jf_158",oAt="_editBanner_1c2jf_181",lAt="_editBannerImg_1c2jf_190",uAt="_editTitle_1c2jf_194",hAt="_noBannersText_1c2jf_213",cAt="_levelBarContainer_1c2jf_221",dAt="_levelStarContainer_1c2jf_227",fAt="_levelStar_1c2jf_227",pAt="_levelStarText_1c2jf_246",vAt="_levelBar_1c2jf_221",mAt="_levelBarInside_1c2jf_265",gAt="_headerLeftButtons_1c2jf_277",yAt="_headerButtonInside_1c2jf_286",xAt="_headerButtonIcon_1c2jf_296",bAt="_featuredBlooksContainer_1c2jf_302",SAt="_featuredBlooksBg_1c2jf_309",wAt="_contestContainer_1c2jf_315",TAt="_contestHeader_1c2jf_331",CAt="_contestDesc_1c2jf_336",EAt="_bottomContainer_1c2jf_342",kAt="_left_1c2jf_350",PAt="_right_1c2jf_354",AAt="_customBlookContainer_1c2jf_358",RAt="_containerHeader_1c2jf_373",IAt="_containerHeaderInside_1c2jf_385",MAt="_noBlookContainer_1c2jf_407",BAt="_noBlookIcon_1c2jf_427",OAt="_blookContainer_1c2jf_432",NAt="_customBlook_1c2jf_358",LAt="_customIconRow_1c2jf_447",FAt="_customIcon_1c2jf_447",DAt="_blookUsageContainer_1c2jf_480",_At="_blookUsageRow_1c2jf_490",jAt="_blookUsageBlook_1c2jf_499",zAt="_blookUsageBarContainer_1c2jf_503",UAt="_blookUsageBar_1c2jf_503",GAt="_blookUsageScale_1c2jf_521",HAt="_blookUsageNum_1c2jf_531",$At="_blookUsageScaleBar_1c2jf_538",WAt="_blookUsageText_1c2jf_544",VAt="_historyContainer_1c2jf_553",YAt="_historyNoTop_1c2jf_564",XAt="_historyGameContainer_1c2jf_568",QAt="_historyBlook_1c2jf_583",KAt="_historyInfo_1c2jf_587",JAt="_historyName_1c2jf_595",ZAt="_historyNothing_1c2jf_600",qAt="_gameStatContainer_1c2jf_608",t7t="_gameStatText_1c2jf_616",e7t="_snowIcon_1c2jf_622",i7t="_fossilIcon_1c2jf_626",r7t="_gameStatImg_1c2jf_631",n7t="_smallGameStatImg_1c2jf_636",s7t="_gameStatBlook_1c2jf_640",a7t="_pointsText_1c2jf_644",o7t="_statsContainer_1c2jf_651",l7t="_statsWrapper_1c2jf_670",u7t="_topStats_1c2jf_663",h7t="_statContainer_1c2jf_677",c7t="_statTitle_1c2jf_692",d7t="_statNum_1c2jf_697",f7t="_statImg_1c2jf_703",p7t="_tokenImg_1c2jf_712",v7t="_headerButton_1c2jf_286",m7t="_contestInfo_1c2jf_774",We={background:GPt,blooksBackground:HPt,bodyMaxWidth:$Pt,fullContainer:WPt,headerRow:VPt,headerLeft:YPt,headerLeftRow:XPt,headerBlookContainer:QPt,headerBlook:KPt,headerBanner:JPt,headerInfo:ZPt,headerFiller:qPt,headerBg:tAt,headerName:eAt,headerTitle:iAt,editHeaderContainer:rAt,editHeaderRow:nAt,editHeaderButtonInside:sAt,editHeaderColumn:aAt,editBanner:oAt,editBannerImg:lAt,editTitle:uAt,noBannersText:hAt,levelBarContainer:cAt,levelStarContainer:dAt,levelStar:fAt,levelStarText:pAt,levelBar:vAt,levelBarInside:mAt,headerLeftButtons:gAt,headerButtonInside:yAt,headerButtonIcon:xAt,featuredBlooksContainer:bAt,featuredBlooksBg:SAt,contestContainer:wAt,contestHeader:TAt,contestDesc:CAt,bottomContainer:EAt,left:kAt,right:PAt,customBlookContainer:AAt,containerHeader:RAt,containerHeaderInside:IAt,noBlookContainer:MAt,noBlookIcon:BAt,blookContainer:OAt,customBlook:NAt,customIconRow:LAt,customIcon:FAt,blookUsageContainer:DAt,blookUsageRow:_At,blookUsageBlook:jAt,blookUsageBarContainer:zAt,blookUsageBar:UAt,blookUsageScale:GAt,blookUsageNum:HAt,blookUsageScaleBar:$At,blookUsageText:WAt,historyContainer:VAt,historyNoTop:YAt,historyGameContainer:XAt,historyBlook:QAt,historyInfo:KAt,historyName:JAt,historyNothing:ZAt,gameStatContainer:qAt,gameStatText:t7t,snowIcon:e7t,fossilIcon:i7t,gameStatImg:r7t,smallGameStatImg:n7t,gameStatBlook:s7t,pointsText:a7t,statsContainer:o7t,statsWrapper:l7t,topStats:u7t,statContainer:h7t,statTitle:c7t,statNum:d7t,statImg:f7t,tokenImg:p7t,headerButton:v7t,contestInfo:m7t},g7t="_mainContainer_1ionx_1",y7t="_centerContainer_1ionx_13",x7t="_centerInside_1ionx_27",b7t="_blook_1ionx_38",S7t="_circle_1ionx_45",w7t="_leftSide_1ionx_57",T7t="_rightSide_1ionx_57",C7t="_partContainer_1ionx_74",E7t="_partImg_1ionx_93",k7t="_noPart_1ionx_98",P7t="_partText_1ionx_103",A7t="_choiceHeader_1ionx_108",R7t="_colorRow_1ionx_113",I7t="_colorButton_1ionx_121",M7t="_choicesContainer_1ionx_136",B7t="_choiceContainerWithColors_1ionx_160",O7t="_partChoice_1ionx_164",N7t="_partChosen_1ionx_183",L7t="_partLocked_1ionx_187",F7t="_choiceImg_1ionx_195",D7t="_noChoice_1ionx_200",_7t="_lockedIcon_1ionx_204",j7t="_buttonRow_1ionx_219",z7t="_button_1ionx_219",U7t="_buttonIcon_1ionx_251",Hr={mainContainer:g7t,centerContainer:y7t,centerInside:x7t,blook:b7t,circle:S7t,leftSide:w7t,rightSide:T7t,partContainer:C7t,partImg:E7t,noPart:k7t,partText:P7t,choiceHeader:A7t,colorRow:R7t,colorButton:I7t,choicesContainer:M7t,choiceContainerWithColors:B7t,partChoice:O7t,partChosen:N7t,partLocked:L7t,choiceImg:F7t,noChoice:D7t,lockedIcon:_7t,buttonRow:j7t,button:z7t,buttonIcon:U7t},Ku=[{xp:5,partType:"hat",part:122},{xp:5,partType:"item",part:68},{xp:5,partType:"clothing",part:113},{xp:5,partType:"hat",part:123},{xp:5,partType:"item",part:69},{xp:5,partType:"clothing",part:114},{xp:5,partType:"hat",part:124},{xp:5,partType:"hat",part:125},{xp:5,partType:"clothing",part:115},{xp:10,partType:"item",part:70},{xp:10,partType:"eyes",part:20},{xp:10,partType:"clothing",part:116},{xp:10,partType:"clothing",part:117},{xp:10,partType:"hat",part:126},{xp:10,partType:"mouth",part:31},{xp:10,partType:"glasses",part:34},{xp:10,partType:"eyes",part:21},{xp:10,partType:"item",part:71},{xp:10,partType:"hat",part:127},{xp:20,partType:"clothing",part:118},{xp:20,partType:"glasses",part:35},{xp:20,partType:"hat",part:128},{xp:20,partType:"item",part:72},{xp:20,partType:"hat",part:129},{xp:20,partType:"hair",part:35},{xp:20,partType:"clothing",part:119},{xp:20,partType:"item",part:73},{xp:20,partType:"hat",part:130},{xp:20,partType:"hat",part:131},{xp:25,partType:"clothing",part:120},{xp:25,partType:"glasses",part:36},{xp:25,partType:"hat",part:132},{xp:25,partType:"clothing",part:121},{xp:25,partType:"glasses",part:37},{xp:25,partType:"hair",part:36},{xp:25,partType:"hat",part:133},{xp:25,partType:"glasses",part:38},{xp:25,partType:"hat",part:134},{xp:25,partType:"clothing",part:122},{xp:40,partType:"clothing",part:123},{xp:40,partType:"hat",part:135},{xp:40,partType:"clothing",part:124},{xp:40,partType:"item",part:74},{xp:40,partType:"clothing",part:125},{xp:40,partType:"hat",part:136},{xp:40,partType:"item",part:75},{xp:40,partType:"item",part:76},{xp:40,partType:"clothing",part:126},{xp:40,partType:"hat",part:137},{xp:50,partType:"glasses",part:39},{xp:50,partType:"item",part:77},{xp:50,partType:"clothing",part:127},{xp:50,partType:"item",part:78},{xp:50,partType:"mouth",part:32},{xp:50,partType:"clothing",part:128},{xp:50,partType:"hat",part:138},{xp:50,partType:"hat",part:139},{xp:50,partType:"glasses",part:40},{xp:50,partType:"clothing",part:129},{xp:60,partType:"clothing",part:130},{xp:60,partType:"hat",part:140},{xp:60,partType:"hat",part:141},{xp:60,partType:"clothing",part:131},{xp:60,partType:"clothing",part:132},{xp:60,partType:"hat",part:142},{xp:60,partType:"clothing",part:133},{xp:60,partType:"hat",part:143},{xp:60,partType:"clothing",part:134},{xp:60,partType:"hat",part:144},{xp:65,partType:"item",part:79},{xp:65,partType:"hat",part:145},{xp:65,partType:"clothing",part:135},{xp:65,partType:"hat",part:146},{xp:65,partType:"clothing",part:136},{xp:65,partType:"hat",part:147},{xp:65,partType:"mouth",part:33},{xp:65,partType:"eyebrows",part:13},{xp:65,partType:"clothing",part:137},{xp:65,partType:"hat",part:148},{xp:75,partType:"glasses",part:41},{xp:75,partType:"hat",part:149},{xp:75,partType:"",part:0},{xp:75,partType:"clothing",part:138},{xp:75,partType:"hat",part:150},{xp:75,partType:"item",part:80},{xp:75,partType:"",part:0},{xp:75,partType:"clothing",part:139},{xp:75,partType:"hat",part:151},{xp:75,partType:"",part:0},{xp:100,partType:"clothing",part:140},{xp:100,partType:"hat",part:152},{xp:100,partType:"",part:0},{xp:100,partType:"clothing",part:141},{xp:100,partType:"hair",part:37},{xp:100,partType:"hat",part:153},{xp:100,partType:"",part:0},{xp:100,partType:"clothing",part:142},{xp:100,partType:"hat",part:154},{xp:100,partType:"",part:0},{xp:100,partType:"hat",part:155}],G7t=e=>{let t=Math.min(e,4595),r=0;return Ku.forEach(n=>{t-n.xp>=0&&(r+=1,t-=n.xp)}),{level:r,xp:t}},H7t=["base","hair","nose","cheeks","mouth","item"],$7t=["hat","eyebrows","eyes","glasses","clothing"];class Kj extends ti.Component{constructor(t){super(t),this.state={base:0,clothing:0,eyes:0,glasses:0,hair:0,hairColor:0,hat:0,item:0,mouth:0,nose:0,cheeks:0,eyebrows:0,eyebrowsColor:0,partSelected:"",unlocks:[]},this.randomBlook=this.randomBlook.bind(this)}componentDidMount(){if(this.props.startCode&&nF(this.props.startCode)){const r=this.props.startCode.split("#");this.setState({base:r[0],clothing:r[1],eyes:r[2],glasses:r[3],hair:r[4].split("$")[0],hairColor:r[4].split("$")[1],hat:r[5],item:r[6],mouth:r[7],nose:r[8],cheeks:r[9],eyebrows:r[10].split("$")[0],eyebrowsColor:r[10].split("$")[1]})}const t={clothing:[0],eyes:[0],glasses:[0],hair:[0],hat:[0],item:[0],mouth:[0],nose:[0],cheeks:[0],eyebrows:[0]};this.props.blookParts&&Object.entries(this.props.blookParts).forEach(([r,n])=>{n.forEach(d=>{t[r].push(d)})}),this.setState({unlocks:t})}componentWillUnmount(){}randomBlook(){this.setState({base:Za(0,pr.base.length),clothing:Za(0,pr.clothing.length),eyes:Za(0,pr.eyes.length),glasses:Za(0,pr.glasses.length),hair:Za(0,pr.hair.length),hairColor:Za(0,hu.length),hat:Za(0,pr.hat.length),item:Za(0,pr.item.length),mouth:Za(0,pr.mouth.length),nose:Za(0,pr.nose.length),cheeks:Za(0,pr.cheeks.length),eyebrows:Za(0,pr.eyebrows.length),eyebrowsColor:Za(0,hu.length)})}render(){const{base:t,clothing:r,eyes:n,glasses:d,hair:S,hairColor:s,hat:g,item:i,mouth:o,nose:m,cheeks:c,eyebrows:l,eyebrowsColor:h}=this.state,a=`${t}#${r}#${n}#${d}#${S}$${s}#${g}#${i}#${o}#${m}#${c}#${l}$${h}`,f=Ku.filter(p=>p.partType).map(p=>`${p.partType}-${p.part}`);return R.jsxs("div",{className:Qe.modal,children:[R.jsxs("div",{className:Hr.mainContainer,children:[R.jsx("div",{className:Hr.leftSide,children:H7t.map(p=>R.jsxs("div",{className:Hr.partContainer,role:"button",tabIndex:0,onClick:()=>this.setState({partSelected:this.state.partSelected!==p?p:""}),children:[pr[p][this.state[p]].url?R.jsx("img",{src:pr[p][this.state[p]].url,alt:`Blook ${p}`,className:Hr.partImg,draggable:!1}):R.jsx("i",{className:Ct("fas fa-ban",Hr.noPart)}),R.jsx("div",{className:Hr.partText,children:p.charAt(0).toUpperCase()+p.slice(1)})]},p))}),R.jsx("div",{className:Hr.rightSide,children:$7t.map(p=>R.jsxs("div",{className:Hr.partContainer,role:"button",tabIndex:0,onClick:()=>this.setState({partSelected:this.state.partSelected!==p?p:""}),children:[pr[p][this.state[p]].url?R.jsx("img",{src:pr[p][this.state[p]].url,alt:`Blook ${p}`,className:Hr.partImg,draggable:!1}):R.jsx("i",{className:Ct("fas fa-ban",Hr.noPart)}),R.jsx("div",{className:Hr.partText,children:p.charAt(0).toUpperCase()+p.slice(1)})]},p))}),R.jsx("div",{className:Hr.centerContainer,children:this.state.partSelected?R.jsxs("div",{className:Hr.centerInside,children:[R.jsx("div",{className:Hr.choiceHeader,children:`Choose ${this.state.partSelected.charAt(0).toUpperCase()+this.state.partSelected.slice(1)}`}),["hair","eyebrows"].includes(this.state.partSelected)?R.jsx("div",{className:Hr.colorRow,children:hu.map((p,u)=>R.jsx("div",{className:Hr.colorButton,style:{backgroundColor:p[0]},role:"button",tabIndex:0,onClick:()=>this.setState({[`${this.state.partSelected}Color`]:u,partSelected:""}),children:this.state[`${this.state.partSelected}Color`]===u?R.jsx("i",{className:"fas fa-check"}):null},p[0]))}):null,R.jsx("div",{className:Ct(Hr.choicesContainer,{[Hr.choiceContainerWithColors]:["hair","eyebrows"].includes(this.state.partSelected)}),children:pr[this.state.partSelected].map((p,u)=>this.state.partSelected==="base"||this.state.unlocks[this.state.partSelected].includes(u)||f.includes(`${this.state.partSelected}-${u}`)?R.jsxs("div",{className:Ct(Hr.partChoice,{[Hr.partChosen]:this.state[this.state.partSelected]===u,[Hr.partLocked]:this.state.partSelected!=="base"&&!this.state.unlocks[this.state.partSelected].includes(u)}),role:"button",tabIndex:0,onClick:this.state.partSelected!=="base"&&!this.state.unlocks[this.state.partSelected].includes(u)?()=>{}:()=>this.setState({[this.state.partSelected]:u,partSelected:""}),children:[p.url&&!["base","clothing","mouth","item","glasses","hat"].includes(this.state.partSelected)?R.jsx(af,{src:p.url,title:`Blook ${this.state.partSelected}`,className:Hr.choiceImg,preProcessor:v=>{let y=v;return p.changes&&Object.entries(p.changes).forEach(([x,b])=>{y=y.replaceAll(x,pr.base[this.state.base].tones[b])}),["hair","eyebrows"].includes(this.state.partSelected)&&(y=y.replaceAll(Y2,hu[this.state[`${this.state.partSelected}Color`]][0]),p.hasHighlight&&(y=y.replaceAll(rF,hu[this.state[`${this.state.partSelected}Color`]][1]))),y}}):p.url?R.jsx("img",{src:p.url,alt:`Blook ${this.state.partSelected}`,className:Hr.choiceImg,draggable:!1}):R.jsx("i",{className:Ct("fas fa-ban",Hr.noChoice)}),this.state.partSelected!=="base"&&!this.state.unlocks[this.state.partSelected].includes(u)?R.jsx("div",{className:Hr.lockedIcon,children:R.jsx("i",{className:"fas fa-lock"})}):null]},u):null)})]}):R.jsxs("div",{className:Hr.centerInside,children:[R.jsx("div",{className:Hr.circle}),R.jsx(Ax,{code:a,className:Hr.blook})]})})]}),R.jsxs("div",{className:Hr.buttonRow,children:[R.jsxs("div",{className:Hr.button,role:"button",tabIndex:0,onClick:()=>this.props.close(!0,a),children:[R.jsx("i",{className:Ct("fas fa-save",Hr.buttonIcon)}),"Save"]}),R.jsxs("div",{className:Hr.button,role:"button",tabIndex:0,onClick:()=>this.props.close(!1),children:[R.jsx("i",{className:Ct("fas fa-reply",Hr.buttonIcon)}),"Exit"]})]})]})}}Kj.propTypes={startCode:Xt.string,blookParts:Xt.object,close:Xt.func};const W7t="_passContainer_1wta0_2",V7t="_smallPassContainer_1wta0_19",Y7t="_passInside_1wta0_23",X7t="_passBarWrapper_1wta0_37",Q7t="_passBar_1wta0_37",K7t="_passBarInside_1wta0_59",J7t="_passBarLevel_1wta0_65",Z7t="_passBarLevelLocked_1wta0_91",q7t="_passPrize_1wta0_97",tRt="_passPart_1wta0_114",eRt="_passPrizeText_1wta0_119",iRt="_passPrizeLocked_1wta0_132",rRt="_passHeader_1wta0_138",nRt="_passHeaderRight_1wta0_138",sRt="_passHeaderInside_1wta0_155",aRt="_smallPassHeader_1wta0_176",oRt="_smallPassHeaderRight_1wta0_179",Hs={passContainer:W7t,smallPassContainer:V7t,passInside:Y7t,passBarWrapper:X7t,passBar:Q7t,passBarInside:K7t,passBarLevel:J7t,passBarLevelLocked:Z7t,passPrize:q7t,passPart:tRt,passPrizeText:eRt,passPrizeLocked:iRt,passHeader:rRt,passHeaderRight:nRt,passHeaderInside:sRt,smallPassHeader:aRt,smallPassHeaderRight:oRt};class Jj extends ti.Component{constructor(t){super(t),this.state={}}componentDidMount(){const t=document.getElementById("pass"),n=(this.props.level===100?this.props.level*100:(this.props.level+this.props.xp/Ku[this.props.level].xp)*100)-t.offsetWidth/2;t.scrollLeft=n;let d=!1,S,s;t.addEventListener("mousedown",g=>{d=!0,S=g.pageX-t.offsetLeft,s=t.scrollLeft,t.style.cursor="grabbing"}),t.addEventListener("mouseleave",()=>{d=!1,t.style.cursor="grab"}),t.addEventListener("mouseup",()=>{d=!1,t.style.cursor="grab"}),t.addEventListener("mousemove",g=>{if(!d)return;g.preventDefault();const o=(g.pageX-t.offsetLeft-S)*2;t.scrollLeft=s-o})}render(){return R.jsxs("div",{className:Ct(Hs.passContainer,{[Hs.smallPassContainer]:this.props.isSmall}),children:[R.jsxs("div",{className:Hs.passInside,id:"pass",children:[R.jsx("div",{className:Hs.passBarWrapper,style:{width:`${Ku.length*100}px`},children:R.jsx("div",{className:Hs.passBar,style:{width:this.props.level===100?"100%":`${(this.props.level+this.props.xp/Ku[this.props.level].xp)*100}px`},children:R.jsx("div",{className:Hs.passBarInside})})}),Ku.map((t,r)=>R.jsx("div",{className:Ct(Hs.passBarLevel,{[Hs.passBarLevelLocked]:this.props.level<=r}),style:{left:`${(r+1)*100}px`},children:r+1},r)),Ku.map((t,r)=>t.partType?R.jsxs("div",{className:Ct(Hs.passPrize,{[Hs.passPrizeLocked]:this.props.level<=r}),style:{left:`${(r+1)*100}px`},children:[R.jsx("img",{src:pr[t.partType][t.part].url,alt:t.partType,className:Hs.passPart,draggable:!1}),R.jsx("div",{className:Hs.passPrizeText,children:t.partType.charAt(0).toUpperCase()+t.partType.slice(1)})]},r):null)]}),R.jsx("div",{className:Ct(Hs.passHeader,{[Hs.smallPassHeader]:this.props.isSmall}),children:R.jsx("div",{className:Hs.passHeaderInside,children:"Class Pass"})}),this.props.level!==100?R.jsx("div",{className:Ct(Hs.passHeaderRight,{[Hs.smallPassHeaderRight]:this.props.isSmall}),children:R.jsx("div",{className:Hs.passHeaderInside,children:`${this.props.xp} / ${Ku[this.props.level].xp} XP`})}):null]})}}Jj.propTypes={xp:Xt.number,level:Xt.number,isSmall:Xt.bool};const lRt="_container_sxo9c_1",uRt="_blooksHolder_sxo9c_17",hRt="_blookContainer_sxo9c_43",cRt="_blook_sxo9c_17",P0={container:lRt,blooksHolder:uRt,blookContainer:hRt,blook:cRt},_o=["Chick","Chicken","Cow","Goat","Horse","Pig","Sheep","Duck","Alpaca","Dog","Cat","Rabbit","Goldfish","Hamster","Turtle","Kitten","Puppy","Bear","Moose","Fox","Raccoon","Squirrel","Owl","Hedgehog","Deer","Wolf","Beaver","Tiger","Orangutan","Cockatoo","Parrot","Anaconda","Jaguar","Macaw","Toucan","Panther","Capuchin","Gorilla","Hippo","Rhino","Giraffe","Snowy Owl","Polar Bear","Arctic Fox","Baby Penguin","Penguin","Arctic Hare","Seal","Walrus"],Zj=({unlocks:e,onSelect:t,onClose:r})=>R.jsxs("div",{className:Qe.modal,children:[R.jsx("div",{className:Qe.modalButton,role:"button",tabIndex:0,onClick:r}),R.jsx("div",{className:P0.container,children:R.jsx("div",{className:P0.blooksHolder,children:Object.keys(ss).filter(n=>_o.includes(n)||e[n]).map(n=>R.jsx("div",{className:P0.blookContainer,role:"button",tabIndex:0,onClick:()=>t(n),children:R.jsx(kn,{name:n,className:P0.blook})},n))})})]});Zj.propTypes={unlocks:Xt.object.isRequired,onSelect:Xt.func,onClose:Xt.func};const YA=[{name:"Total Tokens",desc:"Total Tokens Earned at Any Time",stat:"totalTokens",url:Ee.basic.token,topStat:!0},{name:"Blooks Unlocked",desc:"Total Unique Blooks Unlocked in the Market",stat:"numUnlocks",url:Ee.profile.BlooksUnlocked,topStat:!0},{name:"Wins",desc:"1st Place Finishes in Any Game Mode",stat:"wins",url:Ee.profile.Wins},{name:"Top 5s",desc:"Top 5 Finishes in Any Game Mode",stat:"topFives",url:Ee.profile.Top5s},{name:"Total Points",desc:"Total Points Earned in Classic",stat:"classicPoints",url:Ee.profile.Points},{name:"Racing Progress",desc:"Total Correct Answers in Racing",stat:"racingProgress",url:Ee.profile.RacingProgress},{name:"Total Cash",desc:"Total Cash at the end of Factory Games",stat:"totalCash",url:Ee.profile.TotalCash},{name:"Players Defeated",desc:"Players You've Placed Ahead of in Any Game Mode",stat:"playersDefeated",url:Ee.profile.PlayersDefeated},{name:"Correct Answers",desc:"Total Correct Answers in Any Game Mode",stat:"correctAnswers",url:Ee.profile.CorrectAnswers},{name:"Games Played",desc:"Total Games Played in Any Game Mode",stat:"gamesPlayed",url:Ee.profile.GamesPlayed},{name:"Showdown Wins",desc:"Wins in Showdowns during Battle Royale",stat:"showdownWins",url:Ee.profile.ShowdownWins},{name:"Total Crypto",desc:"Total Crypto at the end of Crypto Hack Games",stat:"totalCrypto",url:Ee.profile.CryptoIcon},{name:"Total Gold",desc:"Total Gold at the end of Gold Quest Games",stat:"totalGold",url:Ee.profile.Gold},{name:"Total Fish Weight",desc:"Total weight (lbs) of fish caught in Fishing Frenzy",stat:"totalFishWeight",url:Ee.profile.FishWeight},{name:"Daily Tokens Available",desc:"Remaining Tokens before reaching Daily Limit",stat:"tokensAvailable",url:Ee.profile.Days,nonUser:!0},{name:"Time Before Reset",desc:"Time before Daily Token Limit resets",stat:"timeLeft",url:Ee.profile.TimeBeforeReset,nonUser:!0}],XA={newbie:{name:"Newbie",price:0,rarity:"Common"},earlyBird:{name:"Early Bird",price:100,rarity:"Uncommon"},lineLeader:{name:"Line Leader",price:250,rarity:"Uncommon"},studious:{name:"Studious",price:100,rarity:"Uncommon"},smartyPants:{name:"Smarty Pants",price:250,rarity:"Uncommon"},thoughtful:{name:"Thoughtful",price:100,rarity:"Uncommon"},starStudent:{name:"Star Student",price:250,rarity:"Uncommon"},creative:{name:"Creative",price:100,rarity:"Uncommon"},pumpkinSpice:{name:"Pumpkin Spice",price:500,rarity:"Rare"},spooky:{name:"Spooky",price:500,rarity:"Rare"},trickOrTreat:{name:"Trick or Treat",price:500,rarity:"Rare"},harvester:{name:"Harvester",price:250,rarity:"Uncommon"},thankful:{name:"Thankful",price:50,rarity:"Uncommon"},jolly:{name:"Jolly",price:100,rarity:"Uncommon"},merry:{name:"Merry",price:200,rarity:"Rare"},freezing:{name:"Freezing",price:300,rarity:"Rare"},honorRoll:{name:"Honor Roll",price:100,rarity:"Uncommon"},gamer:{name:"Gamer",price:750,rarity:"Epic"},happy:{name:"Happy",price:100,rarity:"Uncommon"},athlete:{name:"Athlete",price:200,rarity:"Rare"},musician:{name:"Musician",price:150,rarity:"Uncommon"},artist:{name:"Artist",price:500,rarity:"Rare"},scientist:{name:"Scientist",price:150,rarity:"Uncommon"},allStar:{name:"All-Star",price:500,rarity:"Rare"},friend:{name:"Friend",price:150,rarity:"Uncommon"},lover:{name:"Lover",price:500,rarity:"Rare"},farmer:{name:"Farmer",price:150,rarity:"Uncommon"},hungry:{name:"Hungry",price:300,rarity:"Rare"},coder:{name:"Coder",price:150,rarity:"Uncommon"},inspired:{name:"Inspired",price:150,rarity:"Uncommon"},prodigy:{name:"Prodigy",price:300,rarity:"Rare"},leprechaun:{name:"Leprechaun",price:500,rarity:"Rare"},chef:{name:"Chef",price:300,rarity:"Rare"},gardener:{name:"Gardener",price:100,rarity:"Uncommon"},eggHunter:{name:"Egg Hunter",price:150,rarity:"Uncommon"},bunnyRabbit:{name:"Bunny Rabbit",price:500,rarity:"Rare"},tired:{name:"Tired",price:300,rarity:"Rare"},competitor:{name:"Competitor",price:100,rarity:"Uncommon"},duckling:{name:"Duckling",price:500,rarity:"Rare"},baker:{name:"Baker",price:150,rarity:"Uncommon"},surfer:{name:"Surfer",price:150,rarity:"Uncommon"},adventurer:{name:"Adventurer",price:150,rarity:"Uncommon"},skater:{name:"Skater",price:150,rarity:"Uncommon"},chill:{name:"Chill",price:500,rarity:"Rare"},busy:{name:"Busy",price:150,rarity:"Uncommon"},pirate:{name:"Pirate",price:750,rarity:"Epic"},vampire:{name:"Vampire",price:750,rarity:"Epic"},justForFun:{name:"Just For Fun",price:300,rarity:"Rare"},fullSpeed:{name:"Full Speed",price:150,rarity:"Uncommon"},spicy:{name:"Spicy",price:500,rarity:"Rare"},partyAnimal:{name:"Party Animal",price:750,rarity:"Epic"}};class qj extends ti.Component{constructor(t){super(t),this.state={ready:!1,user:null,mostUsedBlook:"Light Blue",level:0,xp:0,tokensAvailable:0,timeLeft:"",blookUsage:[],gameHistory:[],customBlooks:["","","","",""],editingBlook:-1,editHeader:"",currentBanner:null,ownedBanners:null,currentSeason:S_()},this.here=!0,this.stopEditing=this.stopEditing.bind(this),this.deleteBlook=this.deleteBlook.bind(this),this.changeBlook=this.changeBlook.bind(this),this.changeBanner=this.changeBanner.bind(this),this.changeTitle=this.changeTitle.bind(this),this.loadData=this.loadData.bind(this)}componentDidMount(){return ci(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ve.logError("StatsPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}this.setState({user:t}),this.loadData()})}componentWillUnmount(){this.here=!1,clearInterval(this.timeInterval)}loadData(){return ci(this,null,function*(){const t=this.state.user,r=yield Yr.userBanners({});vi.get("/api/users/stats").then(n=>{if(!n.data)return;const S=[...n.data.gameHistory.slice(Math.max(n.data.gameHistory.length-7,0),n.data.gameHistory.length)];S.reverse();let s="Light Blue",g=[...Object.entries(n.data.blookUsage).map(([c,l])=>({name:c,uses:l}))];g.sort((c,l)=>l.uses-c.uses),g=g.slice(0,5),g.length>0&&(s=g[0].name);const i=n.data.xp||0,o=G7t(i);if(!this.here)return;const m=li.duration(li.utc().add(1,"day").startOf("day").diff(li.utc()));this.setState({ready:!0,level:o.level,xp:o.xp,mostUsedBlook:s,user:Fi(Fi({},t),n.data),customBlooks:n.data.customBlooks.length===5?n.data.customBlooks:this.state.customBlooks,tokensAvailable:li.utc(n.data.lastTokenDay).isSame(li.utc(),"d")?n.data.tokensAvailable:500,timeLeft:`${m.hours()}:${m.minutes()<10?"0":""}${m.minutes()}`,gameHistory:S,blookUsage:g,currentBanner:r.currentBanner,ownedBanners:r.ownedBanners},()=>{this.timeInterval=setInterval(()=>{const c=li.duration(li.utc().add(1,"day").startOf("day").diff(li.utc()));this.setState({timeLeft:`${c.hours()}:${c.minutes()<10?"0":""}${c.minutes()}`})},6e4)})}).catch(n=>{Ve.logError(n)})})}stopEditing(t,r){return ci(this,null,function*(){if(!t)return this.setState({editingBlook:-1});const n=[...this.state.customBlooks];n[this.state.editingBlook]="",this.setState({customBlooks:n},()=>{n[this.state.editingBlook]=r,this.setState({customBlooks:n,editingBlook:-1})});try{yield Yr.saveCustomBlook({customCode:r,saveSlotIndex:this.state.editingBlook})}catch(d){Ve.logError(d)}})}deleteBlook(t){return ci(this,null,function*(){const r=[...this.state.customBlooks];r[t]="",this.setState({customBlooks:r,editingBlook:-1});try{yield Yr.saveCustomBlook({customCode:"",saveSlotIndex:t})}catch(n){Ve.logError(n)}})}changeBlook(t){return ci(this,null,function*(){if(t===this.state.user.blook)return this.setState({isChangingBlook:!1});this.setState({user:Fr(Fi({},this.state.user),{blook:t}),isChangingBlook:!1});try{yield Yr.changeUserBlook({blook:t}),this.props.user.getLoggedIn()}catch(r){Ve.logError(r)}})}changeBanner(t){if(t===this.state.user.banner)return this.setState({editHeader:""});vi.put("/api/users/change/banner",{banner:t}).then(()=>{ci(this,null,function*(){const r=yield Yr.userBanners({});this.setState({user:Fr(Fi({},this.state.user),{banner:t}),editHeader:"",currentBanner:r.currentBanner})})}).catch(r=>{Ve.logError(r)})}changeTitle(t){if(t===this.state.user.title)return this.setState({editHeader:""});this.setState({user:Fr(Fi({},this.state.user),{title:t}),editHeader:""}),vi.put("/api/users/change/title",{title:t}).then(()=>{}).catch(r=>{Ve.logError(r)})}render(){return R.jsxs("div",{className:mr?We.mBody:We.body,children:[R.jsx(pn,{title:`${this.state.user?this.state.user.name:"Stats"} | Blooket`}),R.jsx(la,{user:this.state.user,page:"Stats"}),R.jsx("div",{className:We.background,children:R.jsx("div",{className:We.blooksBackground,style:{backgroundImage:`url(${Ee.basic.blookCheckers})`}})}),R.jsx("div",{className:Ct(Qe.profileBodyMax,We.bodyMaxWidth),children:this.state.ready?R.jsxs("div",{className:We.fullContainer,children:[R.jsx("div",{className:We.headerRow,children:R.jsxs("div",{className:We.headerLeft,children:[R.jsxs("div",{className:We.headerLeftRow,children:[R.jsx("div",{className:We.headerBlookContainer,role:"button",tabIndex:0,onClick:()=>this.setState({isChangingBlook:!0}),children:R.jsx(kn,{name:this.state.user.blook||"Chick",className:We.headerBlook})}),R.jsxs("div",{className:We.headerInfo,children:[R.jsxs("div",{className:We.headerBanner,role:"button",tabIndex:0,onClick:()=>this.setState({editHeader:"banner"}),children:[this.state.currentBanner&&R.jsx("img",{src:this.state.currentBanner.url,alt:this.state.currentBanner.name,className:We.headerBg,draggable:!1}),R.jsx("div",{className:We.headerName,children:this.state.user.name}),R.jsx("div",{className:We.headerTitle,children:this.state.user.title?XA[this.state.user.title].name:"Newbie"})]}),R.jsxs("div",{className:We.levelBarContainer,children:[R.jsx("div",{className:We.levelBar,children:R.jsx("div",{className:We.levelBarInside,style:{transform:`scaleX(${this.state.level===100?1:this.state.xp/Ku[this.state.level].xp})`}})}),R.jsxs("div",{className:We.levelStarContainer,children:[R.jsx("img",{src:Ee.profile.LevelStar,alt:"Star",className:We.levelStar,draggable:!1}),R.jsx("div",{className:We.levelStarText,children:this.state.level})]})]})]})]}),R.jsxs("div",{className:We.headerLeftButtons,children:[R.jsx(Ri,{color:"#9a49aa",outsideClass:We.headerButton,onClick:()=>{window.location.href=ar.play},children:R.jsxs("div",{className:We.headerButtonInside,children:[R.jsx("i",{className:Ct(We.headerButtonIcon,"fas fa-play")}),"Play Now!"]})}),R.jsx(Ri,{color:"#ffa31e",outsideClass:We.headerButton,onClick:()=>this.props.history.push("/market"),children:R.jsxs("div",{className:We.headerButtonInside,children:[R.jsx("i",{className:Ct(We.headerButtonIcon,"fas fa-store")}),"Unlock Blooks"]})}),R.jsx(Ri,{color:"#1e92ff",outsideClass:We.headerButton,realLinkTo:"/blooks",children:R.jsxs("div",{className:We.headerButtonInside,children:[R.jsx("i",{className:Ct(We.headerButtonIcon,"fas fa-suitcase")}),"Manage Blooks"]})})]})]})}),R.jsx(Jj,{level:this.state.level,xp:this.state.xp}),R.jsxs("div",{className:We.bottomContainer,children:[R.jsxs("div",{className:We.left,children:[this.state.blookUsage.length>0?R.jsxs("div",{className:We.blookUsageContainer,children:[R.jsx("div",{className:We.containerHeader,children:R.jsx("div",{className:We.containerHeaderInside,children:"Blook Usage"})}),this.state.blookUsage.map(t=>R.jsxs("div",{className:We.blookUsageRow,children:[R.jsx(kn,{name:t.name,className:We.blookUsageBlook}),R.jsx("div",{className:We.blookUsageBarContainer,children:R.jsx("div",{className:We.blookUsageBar,style:{transform:`scaleX(${t.uses/this.state.blookUsage[0].uses})`,backgroundColor:UPt(t.name)}})})]},t.name)),R.jsxs("div",{className:We.blookUsageScale,children:[R.jsx("div",{className:We.blookUsageNum,children:"0"}),R.jsx("div",{className:We.blookUsageScaleBar}),R.jsx("div",{className:We.blookUsageNum,children:this.state.blookUsage[0].uses})]}),R.jsx("div",{className:We.blookUsageText,children:"Plays"})]}):null,R.jsxs("div",{className:Ct(We.historyContainer,{[We.historyNoTop]:this.state.blookUsage.length===0}),children:[R.jsx("div",{className:We.containerHeader,children:R.jsx("div",{className:We.containerHeaderInside,children:"History"})}),this.state.gameHistory.length>0?this.state.gameHistory.map((t,r)=>R.jsxs("div",{className:We.historyGameContainer,children:[R.jsx(kn,{name:t.blookUsed,className:We.historyBlook}),R.jsxs("div",{className:We.historyInfo,children:[R.jsx("div",{className:We.historyName,children:t.name}),R.jsx("div",{className:We.historyPlace,children:`${t.place}${CL(t.place)} Place`})]}),t.candy!==void 0?R.jsxs("div",{className:We.gameStatContainer,children:[R.jsx("div",{className:We.gameStatText,children:yo(t.candy)}),R.jsx("img",{src:Ee.basic.candyDark,alt:"Candy",className:We.gameStatImg,draggable:!1})]}):t.gold!==void 0?R.jsxs("div",{className:We.gameStatContainer,children:[R.jsx("div",{className:We.gameStatText,children:yo(t.gold)}),R.jsx("img",{src:this.state.currentSeason===Xu.SPOOKY?Ee.basic.candy:Ee.basic.gold,alt:"Gold",className:We.gameStatImg,draggable:!1})]}):t.xp!==void 0?R.jsxs("div",{className:We.gameStatContainer,children:[R.jsx("div",{className:We.gameStatText,children:yo(t.xp)}),R.jsx("img",{src:Ee.basic.xp,alt:"Xp",className:Ct(We.gameStatImg,We.smallGameStatImg),draggable:!1})]}):t.toys!==void 0?R.jsxs("div",{className:We.gameStatContainer,children:[R.jsx("div",{className:We.gameStatText,children:yo(t.toys)}),R.jsx("img",{src:Ee.basic.toy,alt:"Toy",className:We.gameStatImg,draggable:!1})]}):t.shamrocks!==void 0?R.jsxs("div",{className:We.gameStatContainer,children:[R.jsx("div",{className:We.gameStatText,children:yo(t.shamrocks)}),R.jsx("img",{src:Ee.shamrock.shamrockBlack,alt:"Shamrock",className:We.gameStatImg,draggable:!1})]}):t.snow!==void 0?R.jsxs("div",{className:We.gameStatContainer,children:[R.jsx("div",{className:We.gameStatText,children:yo(t.snow)}),R.jsx("i",{className:Ct(We.snowIcon,"fas fa-snowflake")})]}):t.cash!==void 0?R.jsx("div",{className:We.pointsText,children:`$${yo(t.cash)}`}):t.racingProgress!==void 0?R.jsx("div",{className:We.pointsText,children:`${$i(t.racingProgress)}m`}):t.crypto!==void 0?R.jsx("div",{className:We.pointsText,children:` ${yo(t.crypto)}`}):t.weight!==void 0?R.jsx("div",{className:We.pointsText,children:`${yo(t.weight)} lbs`}):t.classicPoints!==void 0?R.jsxs("div",{className:We.gameStatContainer,children:[R.jsx("div",{className:We.gameStatText,children:$i(t.classicPoints)}),R.jsx("i",{className:Ct(We.snowIcon,"far fa-check-square")})]}):t.wins!==void 0?R.jsx("div",{className:We.pointsText,children:`${t.wins} ${t.wins===1?"Win":"Wins"}`}):t.result!==void 0?R.jsx("div",{className:We.pointsText,children:t.result}):t.guests!==void 0?R.jsxs("div",{className:We.gameStatContainer,children:[R.jsx("div",{className:We.gameStatText,children:$i(t.guests)}),R.jsx("i",{className:Ct(We.snowIcon,"fas fa-users")})]}):t.dmg!==void 0?R.jsxs("div",{className:We.gameStatContainer,children:[R.jsx("div",{className:We.gameStatText,children:$i(t.dmg)}),R.jsx("img",{src:Ee.basic.DamageIcon,alt:"Damage",className:Ct(We.gameStatImg,We.smallGameStatImg),draggable:!1})]}):t.doubloons!==void 0?R.jsxs("div",{className:We.gameStatContainer,children:[R.jsx("div",{className:We.gameStatText,children:$i(t.doubloons)}),R.jsx("img",{src:Ee.basic.doubloon,alt:"Doubloon",className:Ct(We.gameStatImg,We.smallGameStatImg),draggable:!1})]}):t.numBlooks!==void 0?R.jsxs("div",{className:We.gameStatContainer,children:[R.jsx("div",{className:We.gameStatText,children:$i(t.numBlooks)}),R.jsx(kn,{name:t.blookUsed,className:We.gameStatBlook})]}):t.fossils!==void 0?R.jsxs("div",{className:We.gameStatContainer,children:[R.jsx("div",{className:We.gameStatText,children:$i(t.fossils)}),R.jsx("i",{className:Ct(We.fossilIcon,"fas fa-bone")})]}):null]},r)):R.jsx("div",{className:We.historyNothing,children:"No Games Played Yet"})]})]}),R.jsxs("div",{className:We.right,children:[R.jsxs("div",{className:We.customBlookContainer,children:[R.jsx("div",{className:We.containerHeader,children:R.jsx("div",{className:We.containerHeaderInside,children:"Custom Blooks"})}),this.state.customBlooks.map((t,r)=>t?R.jsxs("div",{className:We.blookContainer,children:[R.jsx(Ax,{code:t,className:We.customBlook}),R.jsxs("div",{className:We.customIconRow,children:[R.jsx("i",{className:Ct("fas fa-pencil-alt",We.customIcon),role:"button",tabIndex:0,onClick:()=>this.setState({editingBlook:r})}),R.jsx("i",{className:Ct("fas fa-trash-alt",We.customIcon),role:"button",tabIndex:0,onClick:()=>this.deleteBlook(r)})]})]},r):R.jsxs("div",{className:We.noBlookContainer,role:"button",tabIndex:0,onClick:()=>this.setState({editingBlook:r}),children:[R.jsx("i",{className:Ct("fas fa-plus-square",We.noBlookIcon)}),"New Blook"]},r))]}),R.jsxs("div",{className:We.statsContainer,children:[R.jsx("div",{className:We.containerHeader,children:R.jsx("div",{className:We.containerHeaderInside,children:"Stats"})}),R.jsxs("div",{className:We.topStats,children:[R.jsx(kc,{place:"bottom",effect:"solid",className:Qe.tooltip}),YA.filter(t=>t.topStat).map(t=>R.jsxs("div",{className:We.statContainer,"data-tip":t.desc,children:[R.jsx("div",{className:We.statTitle,children:t.name}),R.jsx("div",{className:We.statNum,children:this.state.user[t.stat]>9999999999?yo(this.state.user[t.stat]):$i(this.state.user[t.stat])}),t.url?R.jsx("img",{src:t.url,alt:t.name,className:t.name==="Total Tokens"?We.tokenImg:We.statImg,draggable:!1}):null]},t.name))]}),R.jsx("div",{className:We.statsWrapper,children:YA.filter(t=>!t.topStat).map(t=>R.jsxs("div",{className:We.statContainer,children:[R.jsx("div",{className:We.statTitle,children:t.name}),R.jsx("div",{className:We.statNum,children:t.nonUser?this.state[t.stat]:this.state.user[t.stat]>9999999999?yo(this.state.user[t.stat]):$i(this.state.user[t.stat])}),t.url?R.jsx("img",{src:t.url,alt:t.name,className:We.statImg,draggable:!1}):null]},t.name))})]})]})]})]}):null}),this.state.editingBlook>=0?R.jsx(Kj,{startCode:this.state.customBlooks[this.state.editingBlook],blookParts:this.state.user.blookParts,close:this.stopEditing}):this.state.isChangingBlook?R.jsx(Zj,{unlocks:this.state.user.unlocks||{},onSelect:t=>this.changeBlook(t),onClose:()=>this.setState({isChangingBlook:!1})}):this.state.editHeader?R.jsxs("div",{className:Qe.modal,children:[R.jsx("div",{className:Qe.modalButton,role:"button",tabIndex:0,onClick:()=>this.setState({editHeader:""})}),R.jsxs("div",{className:We.editHeaderContainer,children:[R.jsxs("div",{className:We.editHeaderRow,children:[R.jsx(Ri,{color:"#0bc2cf",insideClass:We.editHeaderButtonInside,onClick:()=>this.setState({editHeader:"banner"}),children:"Banners"}),R.jsx(Ri,{color:"#0bc2cf",insideClass:We.editHeaderButtonInside,onClick:()=>this.setState({editHeader:"title"}),children:"Titles"})]}),R.jsx("div",{className:We.editHeaderColumn,children:this.state.editHeader==="banner"?this.state.ownedBanners?this.state.ownedBanners.map(t=>R.jsx("div",{className:We.editBanner,role:"button",tabIndex:0,onClick:()=>this.changeBanner(t.slug),children:R.jsx("img",{src:t.url,alt:t.name,className:We.editBannerImg,draggable:!1})},t.slug)):R.jsx("div",{className:We.noBannersText,children:"No Banners Unlocked Yet"}):this.state.user.titles?Object.entries(XA).filter(([t])=>t==="newbie"||this.state.user.titles.includes(t)).map(([t,r])=>R.jsx("div",{className:We.editTitle,role:"button",tabIndex:0,onClick:()=>this.changeTitle(t),children:r.name},t)):R.jsx("div",{className:We.noBannersText,children:"No Titles Unlocked Yet"})})]})]}):null]})}}qj.propTypes={history:Xt.object.isRequired,user:Xt.object};const dRt=()=>({}),fRt=e=>Ns({},e),pRt=jn(Ls(Qs(dRt,fRt)(qj)));var tz={exports:{}};var vl=Ny,eh=_i;function Wn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _a=typeof Symbol=="function"&&Symbol.for,ez=_a?Symbol.for("react.portal"):60106,LC=_a?Symbol.for("react.fragment"):60107,iz=_a?Symbol.for("react.strict_mode"):60108,rz=_a?Symbol.for("react.profiler"):60114,FC=_a?Symbol.for("react.provider"):60109,nz=_a?Symbol.for("react.context"):60110,vRt=_a?Symbol.for("react.concurrent_mode"):60111,sz=_a?Symbol.for("react.forward_ref"):60112,DC=_a?Symbol.for("react.suspense"):60113,az=_a?Symbol.for("react.suspense_list"):60120,oz=_a?Symbol.for("react.memo"):60115,lz=_a?Symbol.for("react.lazy"):60116,mRt=_a?Symbol.for("react.block"):60121,gRt=_a?Symbol.for("react.fundamental"):60117,yRt=_a?Symbol.for("react.scope"):60119;function xRt(e){if(e._status===-1){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}}function Kv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case LC:return"Fragment";case ez:return"Portal";case rz:return"Profiler";case iz:return"StrictMode";case DC:return"Suspense";case az:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nz:return"Context.Consumer";case FC:return"Context.Provider";case sz:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case oz:return Kv(e.type);case mRt:return Kv(e.render);case lz:if(e=e._status===1?e._result:null)return Kv(e)}return null}var Im=eh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Im.hasOwnProperty("ReactCurrentDispatcher")||(Im.ReactCurrentDispatcher={current:null});Im.hasOwnProperty("ReactCurrentBatchConfig")||(Im.ReactCurrentBatchConfig={suspense:null});var uz={};function Mm(e,t){for(var r=e._threadCount|0;r<=t;r++)e[r]=e._currentValue2,e._threadCount=r+1}function bRt(e,t,r,n){if(n&&(n=e.contextType,typeof n=="object"&&n!==null))return Mm(n,r),n[r];if(e=e.contextTypes){r={};for(var d in e)r[d]=t[d];t=r}else t=uz;return t}for(var va=new Uint16Array(16),A0=0;15>A0;A0++)va[A0]=A0+1;va[15]=0;var SRt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QA=Object.prototype.hasOwnProperty,KA={},JA={};function hz(e){return QA.call(JA,e)?!0:QA.call(KA,e)?!1:SRt.test(e)?JA[e]=!0:(KA[e]=!0,!1)}function wRt(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function TRt(e,t,r,n){if(t===null||typeof t=="undefined"||wRt(e,t,r))return!0;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ja(e,t,r,n,d,S){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=d,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=S}var aa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){aa[e]=new ja(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];aa[t]=new ja(t,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){aa[e]=new ja(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){aa[e]=new ja(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){aa[e]=new ja(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){aa[e]=new ja(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){aa[e]=new ja(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){aa[e]=new ja(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){aa[e]=new ja(e,5,!1,e.toLowerCase(),null,!1)});var v4=/[\-:]([a-z])/g;function m4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v4,m4);aa[t]=new ja(t,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v4,m4);aa[t]=new ja(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v4,m4);aa[t]=new ja(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){aa[e]=new ja(e,1,!1,e.toLowerCase(),null,!1)});aa.xlinkHref=new ja("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){aa[e]=new ja(e,1,!1,e.toLowerCase(),null,!0)});var CRt=/["'&<>]/;function Zc(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=CRt.exec(e);if(t){var r="",n,d=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}d!==n&&(r+=e.substring(d,n)),d=n+1,r+=t}e=d!==n?r+e.substring(d,n):r}return e}function ERt(e,t){var r=aa.hasOwnProperty(e)?aa[e]:null,n;return(n=e!=="style")&&(n=r!==null?r.type===0:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")),n||TRt(e,t,r)?"":r!==null?(e=r.attributeName,n=r.type,n===3||n===4&&t===!0?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+(Zc(t)+'"'))):hz(e)?e+'="'+(Zc(t)+'"'):""}function kRt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PRt=typeof Object.is=="function"?Object.is:kRt,Eu=null,S1=null,Cn=null,Cv=!1,_C=!1,Jh=null,Oy=0;function lf(){if(Eu===null)throw Error(Wn(321));return Eu}function ZA(){if(0<Oy)throw Error(Wn(312));return{memoizedState:null,queue:null,next:null}}function jC(){return Cn===null?S1===null?(Cv=!1,S1=Cn=ZA()):(Cv=!0,Cn=S1):Cn.next===null?(Cv=!1,Cn=Cn.next=ZA()):(Cv=!0,Cn=Cn.next),Cn}function cz(e,t,r,n){for(;_C;)_C=!1,Oy+=1,Cn=null,r=e(t,n);return S1=Eu=null,Oy=0,Cn=Jh=null,r}function dz(e,t){return typeof t=="function"?t(e):t}function qA(e,t,r){if(Eu=lf(),Cn=jC(),Cv){var n=Cn.queue;if(t=n.dispatch,Jh!==null&&(r=Jh.get(n),r!==void 0)){Jh.delete(n),n=Cn.memoizedState;do n=e(n,r.action),r=r.next;while(r!==null);return Cn.memoizedState=n,[n,t]}return[Cn.memoizedState,t]}return e=e===dz?typeof t=="function"?t():t:r!==void 0?r(t):t,Cn.memoizedState=e,e=Cn.queue={last:null,dispatch:null},e=e.dispatch=ARt.bind(null,Eu,e),[Cn.memoizedState,e]}function ARt(e,t,r){if(!(25>Oy))throw Error(Wn(301));if(e===Eu)if(_C=!0,e={action:r,next:null},Jh===null&&(Jh=new Map),r=Jh.get(t),r===void 0)Jh.set(t,e);else{for(t=r;t.next!==null;)t=t.next;t.next=e}}function yw(){}var Jv=0,RRt={readContext:function(e){var t=Jv;return Mm(e,t),e[t]},useContext:function(e){lf();var t=Jv;return Mm(e,t),e[t]},useMemo:function(e,t){if(Eu=lf(),Cn=jC(),t=t===void 0?null:t,Cn!==null){var r=Cn.memoizedState;if(r!==null&&t!==null){t:{var n=r[1];if(n===null)n=!1;else{for(var d=0;d<n.length&&d<t.length;d++)if(!PRt(t[d],n[d])){n=!1;break t}n=!0}}if(n)return r[0]}}return e=e(),Cn.memoizedState=[e,t],e},useReducer:qA,useRef:function(e){Eu=lf(),Cn=jC();var t=Cn.memoizedState;return t===null?(e={current:e},Cn.memoizedState=e):t},useState:function(e){return qA(dz,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:yw,useEffect:yw,useDebugValue:yw,useResponder:function(e,t){return{props:t,responder:e}},useDeferredValue:function(e){return lf(),e},useTransition:function(){return lf(),[function(e){e()},!1]}},IRt={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function MRt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var fz={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},BRt=vl({menuitem:!0},fz),Zv={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ORt=["Webkit","ms","Moz","O"];Object.keys(Zv).forEach(function(e){ORt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zv[t]=Zv[e]})});var NRt=/([A-Z])/g,LRt=/^ms-/,_h=eh.Children.toArray,xw=Im.ReactCurrentDispatcher,FRt={listing:!0,pre:!0,textarea:!0},DRt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,t7={},bw={};function _Rt(e){if(e==null)return e;var t="";return eh.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}var jRt=Object.prototype.hasOwnProperty,zRt={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function e7(e,t){if(e===void 0)throw Error(Wn(152,Kv(t)||"Component"))}function URt(e,t,r){function n(s,g){var i=g.prototype&&g.prototype.isReactComponent,o=bRt(g,t,r,i),m=[],c=!1,l={isMounted:function(){return!1},enqueueForceUpdate:function(){if(m===null)return null},enqueueReplaceState:function(y,x){c=!0,m=[x]},enqueueSetState:function(y,x){if(m===null)return null;m.push(x)}};if(i){if(i=new g(s.props,o,l),typeof g.getDerivedStateFromProps=="function"){var h=g.getDerivedStateFromProps.call(null,s.props,i.state);h!=null&&(i.state=vl({},i.state,h))}}else if(Eu={},i=g(s.props,o,l),i=cz(g,s.props,i,o),i==null||i.render==null){e=i,e7(e,g);return}if(i.props=s.props,i.context=o,i.updater=l,l=i.state,l===void 0&&(i.state=l=null),typeof i.UNSAFE_componentWillMount=="function"||typeof i.componentWillMount=="function")if(typeof i.componentWillMount=="function"&&typeof g.getDerivedStateFromProps!="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&typeof g.getDerivedStateFromProps!="function"&&i.UNSAFE_componentWillMount(),m.length){l=m;var a=c;if(m=null,c=!1,a&&l.length===1)i.state=l[0];else{h=a?l[0]:i.state;var f=!0;for(a=a?1:0;a<l.length;a++){var p=l[a];p=typeof p=="function"?p.call(i,h,s.props,o):p,p!=null&&(f?(f=!1,h=vl({},h,p)):vl(h,p))}i.state=h}}else m=null;if(e=i.render(),e7(e,g),typeof i.getChildContext=="function"&&(s=g.childContextTypes,typeof s=="object")){var u=i.getChildContext();for(var v in u)if(!(v in s))throw Error(Wn(108,Kv(g)||"Unknown",v))}u&&(t=vl({},t,u))}for(;eh.isValidElement(e);){var d=e,S=d.type;if(typeof S!="function")break;n(d,S)}return{child:e,context:t}}var i7=function(){function e(r,n){eh.isValidElement(r)?r.type!==LC?r=[r]:(r=r.props.children,r=eh.isValidElement(r)?[r]:_h(r)):r=_h(r),r={type:null,domNamespace:IRt.html,children:r,childIndex:0,context:uz,footer:""};var d=va[0];if(d===0){var S=va;d=S.length;var s=2*d;if(!(65536>=s))throw Error(Wn(304));var g=new Uint16Array(s);for(g.set(S),va=g,va[0]=d+1,S=d;S<s-1;S++)va[S]=S+1;va[s-1]=0}else va[0]=va[d];this.threadID=d,this.stack=[r],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var r=this.threadID;va[r]=va[0],va[0]=r}},t.pushProvider=function(r){var n=++this.contextIndex,d=r.type._context,S=this.threadID;Mm(d,S);var s=d[S];this.contextStack[n]=d,this.contextValueStack[n]=s,d[S]=r.props.value},t.popProvider=function(){var r=this.contextIndex,n=this.contextStack[r],d=this.contextValueStack[r];this.contextStack[r]=null,this.contextValueStack[r]=null,this.contextIndex--,n[this.threadID]=d},t.clearProviders=function(){for(var r=this.contextIndex;0<=r;r--)this.contextStack[r][this.threadID]=this.contextValueStack[r]},t.read=function(r){if(this.exhausted)return null;var n=Jv;Jv=this.threadID;var d=xw.current;xw.current=RRt;try{for(var S=[""],s=!1;S[0].length<r;){if(this.stack.length===0){this.exhausted=!0;var g=this.threadID;va[g]=va[0],va[0]=g;break}var i=this.stack[this.stack.length-1];if(s||i.childIndex>=i.children.length){var o=i.footer;if(o!==""&&(this.previousWasTextNode=!1),this.stack.pop(),i.type==="select")this.currentSelectValue=null;else if(i.type!=null&&i.type.type!=null&&i.type.type.$$typeof===FC)this.popProvider(i.type);else if(i.type===DC){this.suspenseDepth--;var m=S.pop();if(s){s=!1;var c=i.fallbackFrame;if(!c)throw Error(Wn(303));this.stack.push(c),S[this.suspenseDepth]+="<!--$!-->";continue}else S[this.suspenseDepth]+=m}S[this.suspenseDepth]+=o}else{var l=i.children[i.childIndex++],h="";try{h+=this.render(l,i.context,i.domNamespace)}catch(a){throw a!=null&&typeof a.then=="function"?Error(Wn(294)):a}finally{}S.length<=this.suspenseDepth&&S.push(""),S[this.suspenseDepth]+=h}}return S[0]}finally{xw.current=d,Jv=n}},t.render=function(r,n,d){if(typeof r=="string"||typeof r=="number")return d=""+r,d===""?"":this.makeStaticMarkup?Zc(d):this.previousWasTextNode?"<!-- -->"+Zc(d):(this.previousWasTextNode=!0,Zc(d));if(n=URt(r,n,this.threadID),r=n.child,n=n.context,r===null||r===!1)return"";if(!eh.isValidElement(r)){if(r!=null&&r.$$typeof!=null)throw d=r.$$typeof,Error(d===ez?Wn(257):Wn(258,d.toString()));return r=_h(r),this.stack.push({type:null,domNamespace:d,children:r,childIndex:0,context:n,footer:""}),""}var S=r.type;if(typeof S=="string")return this.renderDOM(r,n,d);switch(S){case iz:case vRt:case rz:case az:case LC:return r=_h(r.props.children),this.stack.push({type:null,domNamespace:d,children:r,childIndex:0,context:n,footer:""}),"";case DC:throw Error(Wn(294))}if(typeof S=="object"&&S!==null)switch(S.$$typeof){case sz:Eu={};var s=S.render(r.props,r.ref);return s=cz(S.render,r.props,s,r.ref),s=_h(s),this.stack.push({type:null,domNamespace:d,children:s,childIndex:0,context:n,footer:""}),"";case oz:return r=[eh.createElement(S.type,vl({ref:r.ref},r.props))],this.stack.push({type:null,domNamespace:d,children:r,childIndex:0,context:n,footer:""}),"";case FC:return S=_h(r.props.children),d={type:r,domNamespace:d,children:S,childIndex:0,context:n,footer:""},this.pushProvider(r),this.stack.push(d),"";case nz:S=r.type,s=r.props;var g=this.threadID;return Mm(S,g),S=_h(s.children(S[g])),this.stack.push({type:r,domNamespace:d,children:S,childIndex:0,context:n,footer:""}),"";case gRt:throw Error(Wn(338));case lz:switch(S=r.type,xRt(S),S._status){case 1:return r=[eh.createElement(S._result,vl({ref:r.ref},r.props))],this.stack.push({type:null,domNamespace:d,children:r,childIndex:0,context:n,footer:""}),"";case 2:throw S._result;default:throw Error(Wn(295))}case yRt:throw Error(Wn(343))}throw Error(Wn(130,S==null?S:typeof S,""))},t.renderDOM=function(r,n,d){var S=r.type.toLowerCase();if(!t7.hasOwnProperty(S)){if(!DRt.test(S))throw Error(Wn(65,S));t7[S]=!0}var s=r.props;if(S==="input")s=vl({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:s.value!=null?s.value:s.defaultValue,checked:s.checked!=null?s.checked:s.defaultChecked});else if(S==="textarea"){var g=s.value;if(g==null){g=s.defaultValue;var i=s.children;if(i!=null){if(g!=null)throw Error(Wn(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(Wn(93));i=i[0]}g=""+i}g==null&&(g="")}s=vl({},s,{value:void 0,children:""+g})}else if(S==="select")this.currentSelectValue=s.value!=null?s.value:s.defaultValue,s=vl({},s,{value:void 0});else if(S==="option"){i=this.currentSelectValue;var o=_Rt(s.children);if(i!=null){var m=s.value!=null?s.value+"":o;if(g=!1,Array.isArray(i)){for(var c=0;c<i.length;c++)if(""+i[c]===m){g=!0;break}}else g=""+i===m;s=vl({selected:void 0,children:void 0},s,{selected:g,children:o})}}if(g=s){if(BRt[S]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(Wn(137,S,""));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(Wn(60));if(!(typeof g.dangerouslySetInnerHTML=="object"&&"__html"in g.dangerouslySetInnerHTML))throw Error(Wn(61))}if(g.style!=null&&typeof g.style!="object")throw Error(Wn(62,""))}g=s,i=this.makeStaticMarkup,o=this.stack.length===1,m="<"+r.type;for(y in g)if(jRt.call(g,y)){var l=g[y];if(l!=null){if(y==="style"){c=void 0;var h="",a="";for(c in l)if(l.hasOwnProperty(c)){var f=c.indexOf("--")===0,p=l[c];if(p!=null){if(f)var u=c;else if(u=c,bw.hasOwnProperty(u))u=bw[u];else{var v=u.replace(NRt,"-$1").toLowerCase().replace(LRt,"-ms-");u=bw[u]=v}h+=a+u+":",a=c,f=p==null||typeof p=="boolean"||p===""?"":f||typeof p!="number"||p===0||Zv.hasOwnProperty(a)&&Zv[a]?(""+p).trim():p+"px",h+=f,a=";"}}l=h||null}c=null;t:if(f=S,p=g,f.indexOf("-")===-1)f=typeof p.is=="string";else switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":f=!1;break t;default:f=!0}f?zRt.hasOwnProperty(y)||(c=y,c=hz(c)&&l!=null?c+'="'+(Zc(l)+'"'):""):c=ERt(y,l),c&&(m+=" "+c)}}i||o&&(m+=' data-reactroot=""');var y=m;g="",fz.hasOwnProperty(S)?y+="/>":(y+=">",g="</"+r.type+">");t:{if(i=s.dangerouslySetInnerHTML,i!=null){if(i.__html!=null){i=i.__html;break t}}else if(i=s.children,typeof i=="string"||typeof i=="number"){i=Zc(i);break t}i=null}return i!=null?(s=[],FRt.hasOwnProperty(S)&&i.charAt(0)===`
`&&(y+=`
`),y+=i):s=_h(s.children),r=r.type,d=d==null||d==="http://www.w3.org/1999/xhtml"?MRt(r):d==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":d,this.stack.push({domNamespace:d,type:S,children:s,childIndex:0,context:n,footer:g}),this.previousWasTextNode=!1,y},e}(),r7={renderToString:function(e){e=new i7(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new i7(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw Error(Wn(207))},renderToStaticNodeStream:function(){throw Error(Wn(208))},version:"16.14.0"},GRt=r7.default||r7;tz.exports=GRt;var HRt=tz.exports;const $Rt=ks(HRt),WRt={Monday:"Pink Astronaut",Tuesday:"Yellow Astronaut",Wednesday:"Black Astronaut",Thursday:"Orange Astronaut",Friday:"Red Astronaut",Saturday:"Brown Astronaut",Sunday:"Green Astronaut"},pz=e=>e==="Medieval"?[["Elf",13.4],["Witch",13.4],["Wizard",13.4],["Fairy",13.4],["Slime Monster",13.4],["Jester",9],["Dragon",9],["Queen",9],["Unicorn",5],["King",1]]:e==="Blizzard"?[["Snow Globe",14.5],["Holiday Gift",14.5],["Hot Chocolate",14.5],["Holiday Wreath",14.5],["Stocking",14.5],["Gingerbread Man",5.55],["Gingerbread House",5.55],["Reindeer",5.55],["Santa's Sleigh",5.55],["Snowman",4.25],["Santa Claus",1],["Peppermint Bark",.03],["Chilly Chameleon",.02]]:e==="Wonderland"?[["Two of Spades",15.2],["Eat Me",15],["Drink Me",15],["Alice",15],["Queen of Hearts",15],["Dormouse",6.5],["White Rabbit",6.5],["Cheshire Cat",6.5],["Caterpillar",2.5],["Mad Hatter",2.5],["King of Hearts",.3]]:e==="Breakfast"?[["Toast",12.5],["Cereal",12.5],["Yogurt",12.5],["Breakfast Combo",12.5],["Orange Juice",12.5],["Milk",12.5],["Waffle",9],["Pancakes",9],["French Toast",5],["Pizza",2]]:e==="Spooky"?[["Pumpkin",15.2],["Swamp Monster",15.2],["Frankenstein",15.2],["Vampire",15.2],["Zombie",15.2],["Mummy",4],["Caramel Apple",4],["Candy Corn",4],["Crow",4],["Vampire Bat",4],["Werewolf",3.29],["Ghost",.65],["Skeleton Fish",.04],["Super Glider",.02]]:e==="Space"?[["Earth",18.75],["Meteor",18.75],["Stars",18.75],["Alien",18.75],["Planet",10],["UFO",10],["Spaceship",4.5],["Astronaut",.45],[WRt[li.utc().format("dddd")],.05]]:e==="Bot"?[["Lil Bot",19.5],["Lovely Bot",19.5],["Angry Bot",19.5],["Happy Bot",19.5],["Watson",9],["Buddy Bot",9],["Brainy Bot",3.7],["Mega Bot",.3]]:e==="Aquatic"?[["Old Boot",15],["Jellyfish",15],["Clownfish",15],["Frog",15],["Crab",15],["Pufferfish",6.1],["Blobfish",6.1],["Octopus",6.1],["Narwhal",3],["Dolphin",3],["Baby Shark",.5],["Megalodon",.2]]:e==="Safari"?[["Panda",15],["Sloth",15],["Tenrec",15],["Flamingo",15],["Zebra",15],["Elephant",7],["Lemur",7],["Peacock",7],["Chameleon",3.48],["Lion",.5],["Rainbow Panda",.02]]:e==="Dino"?[["Amber",19.5],["Dino Egg",19.5],["Dino Fossil",19.5],["Stegosaurus",19.5],["Velociraptor",9],["Brontosaurus",9],["Triceratops",3.7],["Tyrannosaurus Rex",.3]]:e==="Ice Monster"?[["Ice Bat",19.5],["Ice Bug",19.5],["Ice Elemental",19.5],["Rock Monster",19.5],["Dink",8.5],["Donk",8.5],["Bush Monster",4.5],["Yeti",.35],["Ice Slime",.08],["Frozen Fossil",.05],["Ice Crab",.02]]:e==="Outback"?[["Dingo",18.75],["Echidna",18.75],["Koala",18.75],["Kookaburra",18.75],["Platypus",7],["Joey",7],["Kangaroo",7],["Crocodile",3.6],["Sugar Glider",.37],["Teal Platypus",.03]]:e==="Pirate"?[["Deckhand",16],["Buccaneer",16],["Swashbuckler",16],["Treasure Map",16],["Seagull",16],["Jolly Pirate",8],["Pirate Ship",8],["Kraken",3.67],["Captain Blackbeard",.3],["Pirate Pufferfish",.03]]:e==="Autumn"?[["Black Bear",19.5],["Pumpkin Pie",19.5],["Chipmunk",19.5],["Cornucopia",19.5],["Autumn Cat",6],["Pumpkin Puppy",6],["Red Squirrel",6],["Autumn Crow",2.95],["Turkey",1],["Goldfinch",.05]]:e==="Bug"?[["Ant",19.625],["Rhino Beetle",19.625],["Ladybug",19.625],["Fly",19.625],["Worm",9],["Bee",9],["Mantis",2.97],["Butterfly",.5],["Blue Butterfly",.03]]:e==="Lunch"?[["Bananas",18.75],["Watermelon",18.75],["Cheese",18.75],["Doughnut",18.75],["Taco",7],["Bao",7],["Sushi",7],["Cheeseburger",3.31],["Sandwich",.65],["Half a Sandwich",.04]]:[],rf={Medieval:20,Breakfast:20,Wonderland:20,Spooky:25,Blizzard:25,Space:20,Bot:20,Aquatic:20,Safari:20,Dino:25,"Ice Monster":25,Outback:25,Pirate:25,Autumn:25,Bug:25,Lunch:25},ou=e=>ss[e]?ss[e].rarity:"Common",VRt="_header_fabe0_1",YRt="_rateIcon_fabe0_9",XRt="_tooltip_fabe0_22",QRt="_flex_fabe0_30",KRt="_tokenBalance_fabe0_34",JRt="_mTokenBalance_fabe0_51",ZRt="_tokenBalanceIcon_fabe0_70",qRt="_leftColumn_fabe0_76",tIt="_packsWrapper_fabe0_82",eIt="_packContainer_fabe0_89",iIt="_packImgContainer_fabe0_109",rIt="_packShadow_fabe0_114",nIt="_packImg_fabe0_109",sIt="_packBottom_fabe0_132",aIt="_packPriceImg_fabe0_151",oIt="_subheader_fabe0_157",lIt="_weeklyWrapper_fabe0_163",uIt="_weeklyContainer_fabe0_170",hIt="_weeklyName_fabe0_193",cIt="_weeklyTitle_fabe0_205",dIt="_weeklyBanner_fabe0_215",fIt="_weeklyPart_fabe0_219",pIt="_weeklyBottom_fabe0_223",vIt="_weeklyRarity_fabe0_242",mIt="_storeContainer_fabe0_259",gIt="_storeImg_fabe0_270",yIt="_cashierBlook_fabe0_278",xIt="_fallStoreImg_fabe0_286",bIt="_fallCashierBlook_fabe0_295",SIt="_spookyCashierBlook_fabe0_303",wIt="_blizzardCashierBlook_fabe0_311",TIt="_instantButton_fabe0_319",CIt="_openBackground_fabe0_343",EIt="_openContainer_fabe0_353",kIt="_openingContainer_fabe0_372",PIt="_growIn_fabe0_1",AIt="_openingContainerEpic_fabe0_384",RIt="_epicOpen_fabe0_1",IIt="_openingContainerLegendary_fabe0_425",MIt="_legendaryOpen_fabe0_1",BIt="_openingContainerChroma_fabe0_449",OIt="_chromaOpen_fabe0_1",NIt="_blookBackground_fabe0_488",LIt="_openingPackContainer_fabe0_494",FIt="_openPackContainer_fabe0_493",DIt="_fadeIn_fabe0_1",_It="_dropPack_fabe0_1",jIt="_openPackTop_fabe0_532",zIt="_isOpeningPackTop_fabe0_542",UIt="_openTop_fabe0_1",GIt="_openPack_fabe0_493",HIt="_isOpeningPack_fabe0_542",$It="_open_fabe0_343",WIt="_unlockedBlookImage_fabe0_575",VIt="_unlockedText_fabe0_582",YIt="_unlockedBlook_fabe0_575",XIt="_rarityText_fabe0_599",QIt="_bottomText_fabe0_604",KIt="_bottomShadow_fabe0_616",JIt="_cornerIcon_fabe0_627",ZIt="_openBigButton_fabe0_645",qIt="_phaserContainer_fabe0_637",tMt="_canOpen_fabe0_656",eMt="_mInstantButton_fabe0_660",Ni={header:VRt,rateIcon:YRt,tooltip:XRt,flex:QRt,tokenBalance:KRt,mTokenBalance:JRt,tokenBalanceIcon:ZRt,leftColumn:qRt,packsWrapper:tIt,packContainer:eIt,packImgContainer:iIt,packShadow:rIt,packImg:nIt,packBottom:sIt,packPriceImg:aIt,subheader:oIt,weeklyWrapper:lIt,weeklyContainer:uIt,weeklyName:hIt,weeklyTitle:cIt,weeklyBanner:dIt,weeklyPart:fIt,weeklyBottom:pIt,weeklyRarity:vIt,storeContainer:mIt,storeImg:gIt,cashierBlook:yIt,fallStoreImg:xIt,fallCashierBlook:bIt,spookyCashierBlook:SIt,blizzardCashierBlook:wIt,instantButton:TIt,openBackground:CIt,openContainer:EIt,openingContainer:kIt,growIn:PIt,openingContainerEpic:AIt,epicOpen:RIt,openingContainerLegendary:IIt,legendaryOpen:MIt,openingContainerChroma:BIt,chromaOpen:OIt,blookBackground:NIt,openingPackContainer:LIt,openPackContainer:FIt,fadeIn:DIt,dropPack:_It,openPackTop:jIt,isOpeningPackTop:zIt,openTop:UIt,openPack:GIt,isOpeningPack:HIt,open:$It,unlockedBlookImage:WIt,unlockedText:VIt,unlockedBlook:YIt,rarityText:XIt,bottomText:QIt,bottomShadow:KIt,cornerIcon:JIt,openBigButton:ZIt,phaserContainer:qIt,canOpen:tMt,mInstantButton:eMt},iMt="_right_1iaus_1",rMt="_rightBackground_1iaus_14",nMt="_rightBottom_1iaus_19",sMt="_rightBlook_1iaus_30",aMt="_rightTopText_1iaus_37",oMt="_highlightedName_1iaus_47",lMt="_highlightedRarity_1iaus_54",uMt="_highlightedBottom_1iaus_59",hMt="_rightButtonRow_1iaus_71",cMt="_rightButton_1iaus_71",dMt="_rightButtonInside_1iaus_87",fMt="_rightButtonImg_1iaus_99",pMt="_rightButtonIcon_1iaus_106",vMt="_topButtonRow_1iaus_111",mMt="_settingButton_1iaus_122",gMt="_left_1iaus_142",yMt="_blooksHolder_1iaus_156",xMt="_soloBlooksHolder_1iaus_178",bMt="_setHolder_1iaus_204",SMt="_setTop_1iaus_209",wMt="_setTopBackground_1iaus_218",TMt="_setText_1iaus_228",CMt="_setDivider_1iaus_236",EMt="_setBlooks_1iaus_243",kMt="_blookContainer_1iaus_249",PMt="_blook_1iaus_156",AMt="_lockedBlook_1iaus_268",RMt="_blookLock_1iaus_272",IMt="_blookText_1iaus_282",MMt="_mBlooksButton_1iaus_352",BMt="_mBlooksButtonInside_1iaus_360",OMt="_mShowLeft_1iaus_397",Mr={right:iMt,rightBackground:rMt,rightBottom:nMt,rightBlook:sMt,rightTopText:aMt,highlightedName:oMt,highlightedRarity:lMt,highlightedBottom:uMt,rightButtonRow:hMt,rightButton:cMt,rightButtonInside:dMt,rightButtonImg:fMt,rightButtonIcon:pMt,topButtonRow:vMt,settingButton:mMt,left:gMt,blooksHolder:yMt,soloBlooksHolder:xMt,setHolder:bMt,setTop:SMt,setTopBackground:wMt,setText:TMt,setDivider:CMt,setBlooks:EMt,blookContainer:kMt,blook:PMt,lockedBlook:AMt,blookLock:RMt,blookText:IMt,mBlooksButton:MMt,mBlooksButtonInside:BMt,mShowLeft:OMt},n7=["Lucky Hamster","Lucky Bee","Chocolate Rabbit","Spring Rabbit","Spring Deer","Lovely Fox","Lovely Rabbit","Wise Owl","Wise Caterpillar","Snow Globe","Holiday Gift","Hot Chocolate","Holiday Wreath","Stocking","Gingerbread Man","Gingerbread House","Reindeer","Santa's Sleigh","Snowman","Santa Claus","Frost Wreath","Tropical Globe","New York Snow Globe","London Snow Globe","Japan Snow Globe","Egypt Snow Globe","Paris Snow Globe","Red Sweater Snowman","Blue Sweater Snowman","Elf Sweater Snowman","Holiday Elf","Cozy Baby Penguin","Peppermint Bark","Chilly Chameleon","Santa Claws","Cookies Combo","Chilly Flamingo","Snowy Bush Monster","Nutcracker Koala","Hamsta Claus","Light Blue","Black","Red","Purple","Pink","Orange","Lime","Green","Teal","Tan","Maroon","Gray","Mint","Salmon","Burgandy","Baby Blue","Dust","Brown","Dull Blue","Yellow","Blue","Pumpkin","Swamp Monster","Frankenstein","Vampire","Zombie","Mummy","Caramel Apple","Candy Corn","Crow","Werewolf","Ghost","Haunted Pumpkin","Pumpkin Cookie","Ghost Cookie","Red Gummy Bear","Green Gummy Bear","Blue Gummy Bear","Skeleton Fish","Super Glider","Chick Chicken","Chicken Chick","Raccoon Bandit","Owl Sheriff","Vampire Frog","Pumpkin King","Anaconda Wizard","Spooky Pumpkin","Spooky Mummy","Spooky Ghost","Red Astronaut","Blue Astronaut","Green Astronaut","Pink Astronaut","Orange Astronaut","Yellow Astronaut","Black Astronaut","Purple Astronaut","Brown Astronaut","Cyan Astronaut","Lime Astronaut","Lovely Planet","Tim the Alien","Rainbow Astronaut","Rainbow Jellyfish","Blizzard Clownfish","Lovely Frog","Lucky Frog","Spring Frog","Poison Dart Frog","Lemon Crab","Pirate Pufferfish","Donut Blobfish","Crimson Octopus","Rainbow Narwhal","Agent Owl","Party Pig","Master Elf","Phantom King","Leprechaun","Rainbow Panda","White Peacock","Tiger Zebra","Lovely Peacock","Ice Slime","Frozen Fossil","Ice Crab","Teal Platypus","Blue Butterfly","Half a Sandwich","Black Bear","Pumpkin Pie","Chipmunk","Cornucopia","Autumn Cat","Pumpkin Puppy","Red Squirrel","Autumn Crow","Turkey","Golden Pumpkin Pie","Goldfinch"],vz={Spooky:Ee.setBackgrounds.Spooky,Safari:Ee.setBackgrounds.Safari,"Forest Animal":Ee.setBackgrounds.Forest,Space:Ee.setBackgrounds.Space,"Arctic Animal":Ee.setBackgrounds.Arctic,Breakfast:Ee.setBackgrounds.Breakfast,Dino:Ee.setBackgrounds.Dino,Aquatic:Ee.setBackgrounds.Aquatic,Blizzard:Ee.setBackgrounds.Blizzard,Medieval:Ee.setBackgrounds.Medieval,Pet:Ee.setBackgrounds.Pets,Wonderland:Ee.setBackgrounds.Wonderland,Bot:Ee.setBackgrounds.Bots,"Farm Animal":Ee.setBackgrounds.Farm,"Tropical Animal":Ee.setBackgrounds.Tropical,"Ice Monster":Ee.setBackgrounds.IceMonster,Outback:Ee.setBackgrounds.Outback,Pirate:Ee.setBackgrounds.Pirate,Autumn:Ee.setBackgrounds.Autumn,Bug:Ee.setBackgrounds.Bug,Lunch:Ee.setBackgrounds.Lunch},NMt=Ee.setBackgrounds.Generic,LMt={Spooky:Ee.setTextures.Spooky,Safari:Ee.setTextures.Safari,"Forest Animal":Ee.setTextures.Forest,Space:Ee.setTextures.Space,"Arctic Animal":Ee.setTextures.Arctic,Breakfast:Ee.setTextures.Breakfast,Dino:Ee.setTextures.Dino,Aquatic:Ee.setTextures.Aquatic,Blizzard:Ee.setTextures.Blizzard,Medieval:Ee.setTextures.Medieval,Pet:Ee.setTextures.Pets,Wonderland:Ee.setTextures.Wonderland,Bot:Ee.setTextures.Bots,"Farm Animal":Ee.setTextures.Farm,"Tropical Animal":Ee.setTextures.Tropical,"Ice Monster":Ee.setTextures.IceMonster,Hidden:Ee.setTextures.Hidden,Outback:Ee.setTextures.Outback,Pirate:Ee.setTextures.Pirate,Autumn:Ee.setTextures.Autumn,Bug:Ee.setTextures.Bug,Lunch:Ee.setTextures.Lunch},FMt={Spooky:Ee.setIcons.Spooky,Safari:Ee.setIcons.Safari,"Forest Animal":Ee.setIcons.Forest,Space:Ee.setIcons.Space,"Arctic Animal":Ee.setIcons.Arctic,Breakfast:Ee.setIcons.Breakfast,Dino:Ee.setIcons.Dino,Aquatic:Ee.setIcons.Aquatic,Blizzard:Ee.setIcons.Blizzard,Medieval:Ee.setIcons.Medieval,Pet:Ee.setIcons.Pets,Wonderland:Ee.setIcons.Wonderland,Bot:Ee.setIcons.Bots,"Farm Animal":Ee.setIcons.Farm,"Tropical Animal":Ee.setIcons.Tropical,"Ice Monster":Ee.setIcons.IceMonster,Outback:Ee.setIcons.Outback,Pirate:Ee.setIcons.Pirate,Autumn:Ee.setIcons.Autumn,Bug:Ee.setIcons.Bug,Lunch:Ee.setIcons.Lunch},Sw={Spooky:{visible:!1,free:!1},Safari:{visible:!0,free:!1},"Forest Animal":{visible:!0,free:!0},Space:{visible:!0,free:!1},"Arctic Animal":{visible:!0,free:!0},Breakfast:{visible:!0,free:!1},Dino:{visible:!0,free:!1},Aquatic:{visible:!0,free:!1},Blizzard:{visible:!1,free:!1},Medieval:{visible:!0,free:!1},Pet:{visible:!0,free:!0},Wonderland:{visible:!0,free:!1},Bot:{visible:!0,free:!1},"Farm Animal":{visible:!0,free:!0},"Tropical Animal":{visible:!0,free:!0},"Ice Monster":{visible:!0,free:!1},Outback:{visible:!0,free:!1},Pirate:{visible:!0,free:!1},Bug:{visible:!0,free:!1},Lunch:{visible:!0,free:!1},Autumn:{visible:!1,free:!1},Hidden:{visible:!1,free:!1},Color:{visible:!1}};class mz extends ti.Component{constructor(t){super(t),this.state={user:null,blookData:{},allSets:[],ready:!1,blook:"",selling:!1,loadingSell:!1,numToSell:0,showFree:!1,showPacks:!0,showMobileBlooks:!1,blookSalePrices:{}},this.here=!0,this.setBlook=this.setBlook.bind(this),this.setNewBlooks=this.setNewBlooks.bind(this),this.sellBlook=this.sellBlook.bind(this),this.ensureBlookPrice=this.ensureBlookPrice.bind(this)}componentDidMount(){return ci(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ve.logError("BlooksPage cannot mount without user"),window.location.href=`${ar.id}/login`;return}this.setState({user:t});try{const r=yield Yr.listUnlockedBlooks({});if(r&&r.blooks){const n={};r.blooks.forEach(d=>{n[d.name]=d.numOwned}),this.setNewBlooks(n,this.state.showFree)}}catch(r){Ve.logError(r)}})}componentWillUnmount(){this.here=!1,clearTimeout(this.timeout)}setBlook(t){!this.state.blookData[t]&&!_o.includes(t)||(this.ensureBlookPrice(t),this.setState({blook:t,showMobileBlooks:!1,showFree:this.state.showMobileBlooks?!0:this.state.showFree,showPacks:this.state.showMobileBlooks?!1:this.state.showPacks}))}setNewBlooks(t,r){const n=[];Object.entries(ss).forEach(([S,s])=>{!n.includes(s.set)&&(t[S]||Sw[s.set].visible)&&!(Sw[s.set].free&&!r)&&n.push(s.set)});let d=this.state.blook;if(!this.state.blook||!t[this.state.blook]){const S=Object.keys(t);S.length===0?d=G2(_o):d=G2(S),this.ensureBlookPrice(d)}this.setState({blook:d,ready:!0,selling:!1,loadingSell:!1,blookData:t,allSets:n,showFree:r})}ensureBlookPrice(t){return ci(this,null,function*(){if(!this.state.blookSalePrices[t]&&!_o.includes(t)){const r=yield Yr.blookSalePrice({blook:t}),n=this.state.blookSalePrices;n[t]=r.tokens,this.setState({blookSalePrices:n})}})}sellBlook(t,r){return ci(this,null,function*(){if(t.preventDefault(),!r||!this.state.numToSell||!this.here)return this.setState({selling:!1});this.setState({selling:!1})})}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,id:"body",children:[R.jsx(pn,{title:"My Blooks | Blooket",desc:"Blooks represent players and compete in races during games. Use this page to view, sell, and manage your Blooks."}),R.jsx(la,{user:this.state.user,page:"Blooks"}),this.state.ready?R.jsxs("div",{className:Qe.profileBody,children:[R.jsxs("div",{className:Mr.topButtonRow,children:[R.jsx("div",{className:Mr.settingButton,role:"button",tabIndex:0,onClick:()=>this.setNewBlooks(this.state.blookData,!this.state.showFree),children:this.state.showFree?"Hide Free Blooks":"Show Free Blooks"}),R.jsx("div",{className:Mr.settingButton,role:"button",tabIndex:0,onClick:()=>this.setState({showPacks:!this.state.showPacks}),children:this.state.showPacks?"Hide Packs":"Show Packs"})]}),R.jsx("div",{className:Ct(Mr.left,{[Mr.mShowLeft]:this.state.showMobileBlooks}),children:this.state.showPacks?R.jsx("div",{className:Mr.blooksHolder,children:this.state.allSets.map(t=>R.jsxs("div",{className:Mr.setHolder,children:[R.jsxs("div",{className:Mr.setTop,children:[R.jsx("div",{className:Mr.setTopBackground,style:{backgroundImage:`url(${LMt[t]})`}}),R.jsx("div",{className:Mr.setText,children:t==="Hidden"?"Hidden Blooks":`${t} Pack`}),R.jsx("div",{className:Mr.setDivider})]}),R.jsx("div",{className:Mr.setBlooks,children:Object.entries(ss).filter(([r,n])=>n.set===t&&(this.state.blookData[r]||!n7.includes(r))).map(([r])=>R.jsxs("div",{className:Mr.blookContainer,role:"button",tabIndex:0,onClick:()=>this.setBlook(r),children:[R.jsx(kn,{name:r,className:Ct(Mr.blook,{[Mr.lockedBlook]:!_o.includes(r)&&!this.state.blookData[r]})}),!_o.includes(r)&&!this.state.blookData[r]?R.jsx("i",{className:Ct("fas fa-lock",Mr.blookLock)}):_o.includes(r)?null:R.jsx("div",{className:Mr.blookText,style:{backgroundColor:Gv[ou(r)]},children:this.state.blookData[r]?$i(this.state.blookData[r]):0})]},r))})]},t))}):R.jsx("div",{className:Mr.soloBlooksHolder,children:Object.entries(ss).filter(([t,r])=>!(Sw[r.set].free&&!this.state.showFree)&&(this.state.blookData[t]||!n7.includes(t))).map(([t])=>R.jsxs("div",{className:Mr.blookContainer,role:"button",tabIndex:0,onClick:()=>this.setBlook(t),children:[R.jsx(kn,{name:t,className:Ct(Mr.blook,{[Mr.lockedBlook]:!_o.includes(t)&&!this.state.blookData[t]})}),!_o.includes(t)&&!this.state.blookData[t]?R.jsx("i",{className:Ct("fas fa-lock",Mr.blookLock)}):_o.includes(t)?null:R.jsx("div",{className:Mr.blookText,style:{backgroundColor:Gv[ou(t)]},children:this.state.blookData[t]?$i(this.state.blookData[t]):0})]},t))})}),R.jsx(Ri,{outsideClass:Mr.mBlooksButton,onClick:()=>this.setState({showMobileBlooks:!0,showFree:!0,showPacks:!1}),color:"#9a49aa",children:R.jsx("div",{className:Mr.mBlooksButtonInside,children:"Change Blook"})}),R.jsxs("div",{className:Mr.right,children:[R.jsx("img",{src:vz[ss[this.state.blook].realSet||ss[this.state.blook].set]||NMt,alt:"Background",className:Mr.rightBackground,draggable:!1}),R.jsxs("div",{className:Mr.rightTopText,children:[R.jsx(Vx,{className:Mr.highlightedName,mode:"single",forceSingleModeWidth:!1,min:1,max:40,children:pd(this.state.blook)}),R.jsx("div",{className:Mr.highlightedRarity,style:{color:Gv[ou(this.state.blook)]},children:ou(this.state.blook)})]}),R.jsx(kn,{name:this.state.blook,className:Mr.rightBlook}),R.jsx("div",{className:Mr.highlightedBottom,children:_o.includes(this.state.blook)?"Free Blook":this.state.blookData[this.state.blook]?`${$i(this.state.blookData[this.state.blook])} Owned`:"Locked"}),R.jsx("div",{className:Mr.rightBottom})]}),R.jsx("div",{className:Mr.rightButtonRow,children:!_o.includes(this.state.blook)&&this.state.blookSalePrices[this.state.blook]>0?R.jsx(Ri,{outsideClass:Mr.rightButton,onClick:()=>this.setState({selling:!0,numToSell:1}),color:"#1f77b4",children:R.jsxs("div",{className:Mr.rightButtonInside,children:[R.jsx("img",{src:Ee.basic.token,alt:"Token",className:Mr.rightButtonImg,draggable:!1}),"Sell"]})}):null})]}):null,this.state.selling?R.jsx(xr,{text:`Sell ${pd(this.state.blook)} Blooks for ${this.state.blookSalePrices[this.state.blook]||0} tokens each:`,loading:this.state.loadingSell,numValue:this.state.numToSell,numChange:t=>this.setState({numToSell:Math.max(Math.min(t.target.value,this.state.blookData[this.state.blook]),0)}),numTotal:this.state.blookData[this.state.blook],buttonOne:{text:"Yes",click:t=>this.sellBlook(t,!0),color:"red"},buttonTwo:{text:"No",click:t=>this.sellBlook(t,!1),color:"blue"}}):null]})}}mz.propTypes={user:Xt.object};const DMt=()=>({}),_Mt=e=>Ns({},e),jMt=jn(Ls(Qs(DMt,_Mt)(mz)));var gz={exports:{}};(function(e,t){(function(n,d){e.exports=d()})(Bm,()=>(()=>{var r={50792:s=>{var g=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function m(a,f,p){this.fn=a,this.context=f,this.once=p||!1}function c(a,f,p,u,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new m(p,u||a,v),x=i?i+f:f;return a._events[x]?a._events[x].fn?a._events[x]=[a._events[x],y]:a._events[x].push(y):(a._events[x]=y,a._eventsCount++),a}function l(a,f){--a._eventsCount===0?a._events=new o:delete a._events[f]}function h(){this._events=new o,this._eventsCount=0}h.prototype.eventNames=function(){var f=[],p,u;if(this._eventsCount===0)return f;for(u in p=this._events)g.call(p,u)&&f.push(i?u.slice(1):u);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},h.prototype.listeners=function(f){var p=i?i+f:f,u=this._events[p];if(!u)return[];if(u.fn)return[u.fn];for(var v=0,y=u.length,x=new Array(y);v<y;v++)x[v]=u[v].fn;return x},h.prototype.listenerCount=function(f){var p=i?i+f:f,u=this._events[p];return u?u.fn?1:u.length:0},h.prototype.emit=function(f,p,u,v,y,x){var b=i?i+f:f;if(!this._events[b])return!1;var w=this._events[b],C=arguments.length,E,T;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,u),!0;case 4:return w.fn.call(w.context,p,u,v),!0;case 5:return w.fn.call(w.context,p,u,v,y),!0;case 6:return w.fn.call(w.context,p,u,v,y,x),!0}for(T=1,E=new Array(C-1);T<C;T++)E[T-1]=arguments[T];w.fn.apply(w.context,E)}else{var k=w.length,A;for(T=0;T<k;T++)switch(w[T].once&&this.removeListener(f,w[T].fn,void 0,!0),C){case 1:w[T].fn.call(w[T].context);break;case 2:w[T].fn.call(w[T].context,p);break;case 3:w[T].fn.call(w[T].context,p,u);break;case 4:w[T].fn.call(w[T].context,p,u,v);break;default:if(!E)for(A=1,E=new Array(C-1);A<C;A++)E[A-1]=arguments[A];w[T].fn.apply(w[T].context,E)}}return!0},h.prototype.on=function(f,p,u){return c(this,f,p,u,!1)},h.prototype.once=function(f,p,u){return c(this,f,p,u,!0)},h.prototype.removeListener=function(f,p,u,v){var y=i?i+f:f;if(!this._events[y])return this;if(!p)return l(this,y),this;var x=this._events[y];if(x.fn)x.fn===p&&(!v||x.once)&&(!u||x.context===u)&&l(this,y);else{for(var b=0,w=[],C=x.length;b<C;b++)(x[b].fn!==p||v&&!x[b].once||u&&x[b].context!==u)&&w.push(x[b]);w.length?this._events[y]=w.length===1?w[0]:w:l(this,y)}return this},h.prototype.removeAllListeners=function(f){var p;return f?(p=i?i+f:f,this._events[p]&&l(this,p)):(this._events=new o,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=i,h.EventEmitter=h,s.exports=h},11517:(s,g,i)=>{var o=i(38829),m=function(c,l,h,a){for(var f=c[0],p=1;p<c.length;p++){var u=c[p];o(u,f,l,h,a),f=u}return c};s.exports=m},80318:(s,g,i)=>{var o=i(66979),m=function(c,l,h,a,f){return o(c,"angle",l,h,a,f)};s.exports=m},60757:s=>{var g=function(i,o,m){for(var c=0;c<i.length;c++){var l=i[c];o.call(m,l)}return i};s.exports=g},69927:s=>{var g=function(i,o,m){m===void 0&&(m=0);for(var c=m;c<i.length;c++){var l=i[c],h=!0;for(var a in o)l[a]!==o[a]&&(h=!1);if(h)return l}return null};s.exports=g},32265:s=>{var g=function(i,o,m){m===void 0&&(m=0);for(var c=i.length-1;c>=m;c--){var l=i[c],h=!0;for(var a in o)l[a]!==o[a]&&(h=!1);if(h)return l}return null};s.exports=g},94420:(s,g,i)=>{var o=i(11879),m=i(60461),c=i(95540),l=i(29747),h=i(41481),a=new h({sys:{queueDepthSort:l,events:{once:l}}},0,0,1,1).setOrigin(0,0),f=function(p,u){u===void 0&&(u={});var v=u.hasOwnProperty("width"),y=u.hasOwnProperty("height"),x=c(u,"width",-1),b=c(u,"height",-1),w=c(u,"cellWidth",1),C=c(u,"cellHeight",w),E=c(u,"position",m.TOP_LEFT),T=c(u,"x",0),k=c(u,"y",0),A=0,I=0,B=x*w,M=b*C;a.setPosition(T,k),a.setSize(w,C);for(var O=0;O<p.length;O++)if(o(p[O],a,E),v&&x===-1)a.x+=w;else if(y&&b===-1)a.y+=C;else if(y&&!v){if(I+=C,a.y+=C,I===M&&(I=0,A+=w,a.y=k,a.x+=w,A===B))break}else if(A+=w,a.x+=w,A===B&&(A=0,I+=C,a.x=T,a.y+=C,I===M))break;return p};s.exports=f},41721:(s,g,i)=>{var o=i(66979),m=function(c,l,h,a,f){return o(c,"alpha",l,h,a,f)};s.exports=m},67285:(s,g,i)=>{var o=i(66979),m=function(c,l,h,a,f){return o(c,"x",l,h,a,f)};s.exports=m},9074:(s,g,i)=>{var o=i(66979),m=function(c,l,h,a,f,p,u){return h==null&&(h=l),o(c,"x",l,a,p,u),o(c,"y",h,f,p,u)};s.exports=m},75222:(s,g,i)=>{var o=i(66979),m=function(c,l,h,a,f){return o(c,"y",l,h,a,f)};s.exports=m},22983:s=>{var g=function(i,o,m,c){m===void 0&&(m=0),c===void 0&&(c=6.28);for(var l=m,h=(c-m)/i.length,a=o.x,f=o.y,p=o.radius,u=0;u<i.length;u++)i[u].x=a+p*Math.cos(l),i[u].y=f+p*Math.sin(l),l+=h;return i};s.exports=g},95253:s=>{var g=function(i,o,m,c){m===void 0&&(m=0),c===void 0&&(c=6.28);for(var l=m,h=(c-m)/i.length,a=o.width/2,f=o.height/2,p=0;p<i.length;p++)i[p].x=o.x+a*Math.cos(l),i[p].y=o.y+f*Math.sin(l),l+=h;return i};s.exports=g},88505:(s,g,i)=>{var o=i(15258),m=i(26708),c=function(l,h,a){var f;a?f=m(h,a,l.length):f=o(h,l.length);for(var p=0;p<l.length;p++){var u=l[p],v=f[p];u.x=v.x,u.y=v.y}return l};s.exports=c},41346:(s,g,i)=>{var o=i(14649),m=i(86003),c=i(49498),l=function(h,a,f){f===void 0&&(f=0);var p=o(a,!1,h.length);f>0?m(p,f):f<0&&c(p,Math.abs(f));for(var u=0;u<h.length;u++)h[u].x=p[u].x,h[u].y=p[u].y;return h};s.exports=l},11575:(s,g,i)=>{var o=i(84993),m=function(c,l,h){var a=o({x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},h),f=o({x1:l.x2,y1:l.y2,x2:l.x3,y2:l.y3},h),p=o({x1:l.x3,y1:l.y3,x2:l.x1,y2:l.y1},h);a.pop(),f.pop(),p.pop(),a=a.concat(f,p);for(var u=a.length/c.length,v=0,y=0;y<c.length;y++){var x=c[y],b=a[Math.floor(v)];x.x=b.x,x.y=b.y,v+=u}return c};s.exports=m},29953:s=>{var g=function(i,o,m){for(var c=0;c<i.length;c++){var l=i[c];l.anims&&l.anims.play(o,m)}return i};s.exports=g},66979:s=>{var g=function(i,o,m,c,l,h){c===void 0&&(c=0),l===void 0&&(l=0),h===void 0&&(h=1);var a,f=0,p=i.length;if(h===1)for(a=l;a<p;a++)i[a][o]+=m+f*c,f++;else for(a=l;a>=0;a--)i[a][o]+=m+f*c,f++;return i};s.exports=g},43967:s=>{var g=function(i,o,m,c,l,h){c===void 0&&(c=0),l===void 0&&(l=0),h===void 0&&(h=1);var a,f=0,p=i.length;if(h===1)for(a=l;a<p;a++)i[a][o]=m+f*c,f++;else for(a=l;a>=0;a--)i[a][o]=m+f*c,f++;return i};s.exports=g},88926:(s,g,i)=>{var o=i(28176),m=function(c,l){for(var h=0;h<c.length;h++)o(l,c[h]);return c};s.exports=m},33286:(s,g,i)=>{var o=i(24820),m=function(c,l){for(var h=0;h<c.length;h++)o(l,c[h]);return c};s.exports=m},96e3:(s,g,i)=>{var o=i(65822),m=function(c,l){for(var h=0;h<c.length;h++)o(l,c[h]);return c};s.exports=m},28789:(s,g,i)=>{var o=i(26597),m=function(c,l){for(var h=0;h<c.length;h++)o(l,c[h]);return c};s.exports=m},97154:(s,g,i)=>{var o=i(90260),m=function(c,l){for(var h=0;h<c.length;h++)o(l,c[h]);return c};s.exports=m},20510:(s,g,i)=>{var o=i(66979),m=function(c,l,h,a,f){return o(c,"rotation",l,h,a,f)};s.exports=m},91051:(s,g,i)=>{var o=i(1163),m=i(20339),c=function(l,h,a){for(var f=h.x,p=h.y,u=0;u<l.length;u++){var v=l[u];o(v,f,p,a,Math.max(1,m(v.x,v.y,f,p)))}return l};s.exports=c},76332:(s,g,i)=>{var o=i(1163),m=function(c,l,h,a){var f=l.x,p=l.y;if(a===0)return c;for(var u=0;u<c.length;u++)o(c[u],f,p,h,a);return c};s.exports=m},61619:(s,g,i)=>{var o=i(66979),m=function(c,l,h,a,f){return o(c,"scaleX",l,h,a,f)};s.exports=m},94868:(s,g,i)=>{var o=i(66979),m=function(c,l,h,a,f,p,u){return h==null&&(h=l),o(c,"scaleX",l,a,p,u),o(c,"scaleY",h,f,p,u)};s.exports=m},95532:(s,g,i)=>{var o=i(66979),m=function(c,l,h,a,f){return o(c,"scaleY",l,h,a,f)};s.exports=m},8689:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f){return o(c,"alpha",l,h,a,f)};s.exports=m},2645:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a){return o(c,"blendMode",l,0,h,a)};s.exports=m},32372:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f){return o(c,"depth",l,h,a,f)};s.exports=m},85373:s=>{var g=function(i,o,m){for(var c=0;c<i.length;c++)i[c].setInteractive(o,m);return i};s.exports=g},81583:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f,p,u){return h==null&&(h=l),o(c,"originX",l,a,p,u),o(c,"originY",h,f,p,u),c.forEach(function(v){v.updateDisplayOrigin()}),c};s.exports=m},79939:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f){return o(c,"rotation",l,h,a,f)};s.exports=m},2699:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f,p,u){return h==null&&(h=l),o(c,"scaleX",l,a,p,u),o(c,"scaleY",h,f,p,u)};s.exports=m},98739:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f){return o(c,"scaleX",l,h,a,f)};s.exports=m},98476:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f){return o(c,"scaleY",l,h,a,f)};s.exports=m},6207:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f,p,u){return h==null&&(h=l),o(c,"scrollFactorX",l,a,p,u),o(c,"scrollFactorY",h,f,p,u)};s.exports=m},6607:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f){return o(c,"scrollFactorX",l,h,a,f)};s.exports=m},72248:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f){return o(c,"scrollFactorY",l,h,a,f)};s.exports=m},14036:s=>{var g=function(i,o,m,c,l){for(var h=0;h<i.length;h++)i[h].setTint(o,m,c,l);return i};s.exports=g},50159:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a){return o(c,"visible",l,0,h,a)};s.exports=m},77597:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f){return o(c,"x",l,h,a,f)};s.exports=m},83194:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f,p,u){return h==null&&(h=l),o(c,"x",l,a,p,u),o(c,"y",h,f,p,u)};s.exports=m},67678:(s,g,i)=>{var o=i(43967),m=function(c,l,h,a,f){return o(c,"y",l,h,a,f)};s.exports=m},35850:(s,g,i)=>{var o=i(26099),m=function(c,l,h,a,f){a===void 0&&(a=0),f===void 0&&(f=new o);var p,u,v=c.length;if(v===1)p=c[0].x,u=c[0].y,c[0].x=l,c[0].y=h;else{var y=1,x=0;a===0&&(x=v-1,y=v-2),p=c[x].x,u=c[x].y,c[x].x=l,c[x].y=h;for(var b=0;b<v;b++)if(!(y>=v||y===-1)){var w=c[y],C=w.x,E=w.y;w.x=p,w.y=u,p=C,u=E,a===0?y--:y++}}return f.x=p,f.y=u,f};s.exports=m},8628:(s,g,i)=>{var o=i(33680),m=function(c){return o(c)};s.exports=m},21837:(s,g,i)=>{var o=i(7602),m=function(c,l,h,a,f){f===void 0&&(f=!1);var p=Math.abs(a-h)/c.length,u;if(f)for(u=0;u<c.length;u++)c[u][l]+=o(u*p,h,a);else for(u=0;u<c.length;u++)c[u][l]=o(u*p,h,a);return c};s.exports=m},21910:(s,g,i)=>{var o=i(54261),m=function(c,l,h,a,f){f===void 0&&(f=!1);var p=Math.abs(a-h)/c.length,u;if(f)for(u=0;u<c.length;u++)c[u][l]+=o(u*p,h,a);else for(u=0;u<c.length;u++)c[u][l]=o(u*p,h,a);return c};s.exports=m},62054:s=>{var g=function(i,o,m,c,l){if(l===void 0&&(l=!1),i.length===0)return i;if(i.length===1)return l?i[0][o]+=(c+m)/2:i[0][o]=(c+m)/2,i;var h=Math.abs(c-m)/(i.length-1),a;if(l)for(a=0;a<i.length;a++)i[a][o]+=a*h+m;else for(a=0;a<i.length;a++)i[a][o]=a*h+m;return i};s.exports=g},79815:s=>{var g=function(i){for(var o=0;o<i.length;o++)i[o].visible=!i[o].visible;return i};s.exports=g},39665:(s,g,i)=>{var o=i(15994),m=function(c,l,h){h===void 0&&(h=0);for(var a=0;a<c.length;a++){var f=c[a];f.x=o(f.x,l.left-h,l.right+h),f.y=o(f.y,l.top-h,l.bottom+h)}return c};s.exports=m},61061:(s,g,i)=>{s.exports={AlignTo:i(11517),Angle:i(80318),Call:i(60757),GetFirst:i(69927),GetLast:i(32265),GridAlign:i(94420),IncAlpha:i(41721),IncX:i(67285),IncXY:i(9074),IncY:i(75222),PlaceOnCircle:i(22983),PlaceOnEllipse:i(95253),PlaceOnLine:i(88505),PlaceOnRectangle:i(41346),PlaceOnTriangle:i(11575),PlayAnimation:i(29953),PropertyValueInc:i(66979),PropertyValueSet:i(43967),RandomCircle:i(88926),RandomEllipse:i(33286),RandomLine:i(96e3),RandomRectangle:i(28789),RandomTriangle:i(97154),Rotate:i(20510),RotateAround:i(91051),RotateAroundDistance:i(76332),ScaleX:i(61619),ScaleXY:i(94868),ScaleY:i(95532),SetAlpha:i(8689),SetBlendMode:i(2645),SetDepth:i(32372),SetHitArea:i(85373),SetOrigin:i(81583),SetRotation:i(79939),SetScale:i(2699),SetScaleX:i(98739),SetScaleY:i(98476),SetScrollFactor:i(6207),SetScrollFactorX:i(6607),SetScrollFactorY:i(72248),SetTint:i(14036),SetVisible:i(50159),SetX:i(77597),SetXY:i(83194),SetY:i(67678),ShiftPosition:i(35850),Shuffle:i(8628),SmootherStep:i(21910),SmoothStep:i(21837),Spread:i(62054),ToggleVisible:i(79815),WrapInRectangle:i(39665)}},42099:(s,g,i)=>{var o=i(45319),m=i(83419),c=i(74943),l=i(81957),h=i(41138),a=i(35154),f=i(90126),p=new m({initialize:function(v,y,x){this.manager=v,this.key=y,this.type="frame",this.frames=this.getFrames(v.textureManager,a(x,"frames",[]),a(x,"defaultTextureKey",null),a(x,"sortFrames",!0)),this.frameRate=a(x,"frameRate",null),this.duration=a(x,"duration",null),this.msPerFrame,this.skipMissedFrames=a(x,"skipMissedFrames",!0),this.delay=a(x,"delay",0),this.repeat=a(x,"repeat",0),this.repeatDelay=a(x,"repeatDelay",0),this.yoyo=a(x,"yoyo",!1),this.showBeforeDelay=a(x,"showBeforeDelay",!1),this.showOnStart=a(x,"showOnStart",!1),this.hideOnComplete=a(x,"hideOnComplete",!1),this.randomFrame=a(x,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(c.PAUSE_ALL,this.pause,this),this.manager.on(c.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(u,v,y,x){y===null&&x===null?(u.frameRate=24,u.duration=24/v*1e3):y&&x===null?(u.duration=y,u.frameRate=v/(y/1e3)):(u.frameRate=x,u.duration=v/x*1e3),u.msPerFrame=1e3/u.frameRate},addFrame:function(u){return this.addFrameAt(this.frames.length,u)},addFrameAt:function(u,v){var y=this.getFrames(this.manager.textureManager,v);if(y.length>0){if(u===0)this.frames=y.concat(this.frames);else if(u===this.frames.length)this.frames=this.frames.concat(y);else{var x=this.frames.slice(0,u),b=this.frames.slice(u);this.frames=x.concat(y,b)}this.updateFrameSequence()}return this},checkFrame:function(u){return u>=0&&u<this.frames.length},getFirstTick:function(u){u.accumulator=0,u.nextTick=u.currentFrame.duration?u.currentFrame.duration:u.msPerFrame},getFrameAt:function(u){return this.frames[u]},getFrames:function(u,v,y,x){x===void 0&&(x=!0);var b=[],w,C,E=1,T,k;if(typeof v=="string"){if(k=v,!u.exists(k))return console.warn('Texture "%s" not found',k),b;var A=u.get(k),I=A.getFrameNames();x&&f(I),v=[],I.forEach(function(_){v.push({key:k,frame:_})})}if(!Array.isArray(v)||v.length===0)return b;for(T=0;T<v.length;T++){var B=v[T],M=a(B,"key",y);if(M){var O=a(B,"frame",0),P=u.getFrame(M,O);if(!P){console.warn('Texture "%s" not found',M);continue}C=new h(M,O,E,P),C.duration=a(B,"duration",0),C.isFirst=!w,w&&(w.nextFrame=C,C.prevFrame=w),b.push(C),w=C,E++}}if(b.length>0){C.isLast=!0,C.nextFrame=b[0],b[0].prevFrame=C;var L=1/(b.length-1);for(T=0;T<b.length;T++)b[T].progress=T*L}return b},getNextTick:function(u){u.accumulator-=u.nextTick,u.nextTick=u.currentFrame.duration?u.currentFrame.duration:u.msPerFrame},getFrameByProgress:function(u){return u=o(u,0,1),l(u,this.frames,"progress")},nextFrame:function(u){var v=u.currentFrame;v.isLast?u.yoyo?this.handleYoyoFrame(u,!1):u.repeatCounter>0?u.inReverse&&u.forward?u.forward=!1:this.repeatAnimation(u):u.complete():this.updateAndGetNextTick(u,v.nextFrame)},handleYoyoFrame:function(u,v){if(v||(v=!1),u.inReverse===!v&&u.repeatCounter>0){(u.repeatDelay===0||u.pendingRepeat)&&(u.forward=v),this.repeatAnimation(u);return}if(u.inReverse!==v&&u.repeatCounter===0){u.complete();return}u.forward=v;var y=v?u.currentFrame.nextFrame:u.currentFrame.prevFrame;this.updateAndGetNextTick(u,y)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(u){var v=u.currentFrame;v.isFirst?u.yoyo?this.handleYoyoFrame(u,!0):u.repeatCounter>0?u.inReverse&&!u.forward?this.repeatAnimation(u):(u.forward=!0,this.repeatAnimation(u)):u.complete():this.updateAndGetNextTick(u,v.prevFrame)},updateAndGetNextTick:function(u,v){u.setCurrentFrame(v),this.getNextTick(u)},removeFrame:function(u){var v=this.frames.indexOf(u);return v!==-1&&this.removeFrameAt(v),this},removeFrameAt:function(u){return this.frames.splice(u,1),this.updateFrameSequence(),this},repeatAnimation:function(u){if(u._pendingStop===2){if(u._pendingStopValue===0)return u.stop();u._pendingStopValue--}u.repeatDelay>0&&!u.pendingRepeat?(u.pendingRepeat=!0,u.accumulator-=u.nextTick,u.nextTick+=u.repeatDelay):(u.repeatCounter--,u.forward?u.setCurrentFrame(u.currentFrame.nextFrame):u.setCurrentFrame(u.currentFrame.prevFrame),u.isPlaying&&(this.getNextTick(u),u.handleRepeat()))},toJSON:function(){var u={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(v){u.frames.push(v.toJSON())}),u},updateFrameSequence:function(){for(var u=this.frames.length,v=1/(u-1),y,x=0;x<u;x++)y=this.frames[x],y.index=x+1,y.isFirst=!1,y.isLast=!1,y.progress=x*v,x===0?(y.isFirst=!0,u===1?(y.isLast=!0,y.nextFrame=y,y.prevFrame=y):(y.isLast=!1,y.prevFrame=this.frames[u-1],y.nextFrame=this.frames[x+1])):x===u-1&&u>1?(y.isLast=!0,y.prevFrame=this.frames[u-2],y.nextFrame=this.frames[0]):u>1&&(y.prevFrame=this.frames[x-1],y.nextFrame=this.frames[x+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(c.PAUSE_ALL,this.pause,this),this.manager.off(c.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var u=0;u<this.frames.length;u++)this.frames[u].destroy();this.frames=[],this.manager=null}});s.exports=p},41138:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h,a,f,p){p===void 0&&(p=!1),this.textureKey=l,this.textureFrame=h,this.index=a,this.frame=f,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=p},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});s.exports=m},60848:(s,g,i)=>{var o=i(42099),m=i(83419),c=i(90330),l=i(50792),h=i(74943),a=i(8443),f=i(95540),p=i(35154),u=i(36383),v=i(20283),y=i(41836),x=new m({Extends:l,initialize:function(w){l.call(this),this.game=w,this.textureManager=null,this.globalTimeScale=1,this.anims=new c,this.mixes=new c,this.paused=!1,this.name="AnimationManager",w.events.once(a.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(a.DESTROY,this.destroy,this)},addMix:function(b,w,C){var E=this.anims,T=this.mixes,k=typeof b=="string"?b:b.key,A=typeof w=="string"?w:w.key;if(E.has(k)&&E.has(A)){var I=T.get(k);I||(I={}),I[A]=C,T.set(k,I)}return this},removeMix:function(b,w){var C=this.mixes,E=typeof b=="string"?b:b.key,T=C.get(E);if(T)if(w){var k=typeof w=="string"?w:w.key;T.hasOwnProperty(k)&&delete T[k]}else w||C.delete(E);return this},getMix:function(b,w){var C=this.mixes,E=typeof b=="string"?b:b.key,T=typeof w=="string"?w:w.key,k=C.get(E);return k&&k.hasOwnProperty(T)?k[T]:0},add:function(b,w){return this.anims.has(b)?(console.warn("Animation key exists: "+b),this):(w.key=b,this.anims.set(b,w),this.emit(h.ADD_ANIMATION,b,w),this)},exists:function(b){return this.anims.has(b)},createFromAseprite:function(b,w,C){var E=[],T=this.game.cache.json.get(b);if(!T)return console.warn("No Aseprite data found for: "+b),E;var k=this,A=p(T,"meta",null),I=p(T,"frames",null);if(A&&I){var B=p(A,"frameTags",[]);B.forEach(function(M){var O=[],P=f(M,"name",null),L=f(M,"from",0),_=f(M,"to",0),G=f(M,"direction","forward");if(P&&(!w||w&&w.indexOf(P)>-1)){for(var $=0,W=L;W<=_;W++){var Y=W.toString(),z=I[Y];if(z){var F=f(z,"duration",u.MAX_SAFE_INTEGER);O.push({key:b,frame:Y,duration:F}),$+=F}}G==="reverse"&&(O=O.reverse());var N={key:P,frames:O,duration:$,yoyo:G==="pingpong"},j;C?C.anims&&(j=C.anims.create(N)):j=k.create(N),j&&E.push(j)}})}return E},create:function(b){var w=b.key,C=!1;return w&&(C=this.get(w),C?console.warn("AnimationManager key already exists: "+w):(C=new o(this,w,b),this.anims.set(w,C),this.emit(h.ADD_ANIMATION,w,C))),C},fromJSON:function(b,w){w===void 0&&(w=!1),w&&this.anims.clear(),typeof b=="string"&&(b=JSON.parse(b));var C=[];if(b.hasOwnProperty("anims")&&Array.isArray(b.anims)){for(var E=0;E<b.anims.length;E++)C.push(this.create(b.anims[E]));b.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=b.globalTimeScale)}else b.hasOwnProperty("key")&&b.type==="frame"&&C.push(this.create(b));return C},generateFrameNames:function(b,w){var C=p(w,"prefix",""),E=p(w,"start",0),T=p(w,"end",0),k=p(w,"suffix",""),A=p(w,"zeroPad",0),I=p(w,"outputArray",[]),B=p(w,"frames",!1);if(!this.textureManager.exists(b))return console.warn('Texture "%s" not found',b),I;var M=this.textureManager.get(b);if(!M)return I;var O;if(w)for(B||(B=v(E,T)),O=0;O<B.length;O++){var P=C+y(B[O],A,"0",1)+k;M.has(P)?I.push({key:b,frame:P}):console.warn('Frame "%s" not found in texture "%s"',P,b)}else for(B=M.getFrameNames(),O=0;O<B.length;O++)I.push({key:b,frame:B[O]});return I},generateFrameNumbers:function(b,w){var C=p(w,"start",0),E=p(w,"end",-1),T=p(w,"first",!1),k=p(w,"outputArray",[]),A=p(w,"frames",!1);if(!this.textureManager.exists(b))return console.warn('Texture "%s" not found',b),k;var I=this.textureManager.get(b);if(!I)return k;T&&I.has(T)&&k.push({key:b,frame:T}),A||(E===-1&&(E=I.frameTotal-2),A=v(C,E));for(var B=0;B<A.length;B++){var M=A[B];I.has(M)?k.push({key:b,frame:M}):console.warn('Frame "%s" not found in texture "%s"',M,b)}return k},get:function(b){return this.anims.get(b)},getAnimsFromTexture:function(b){for(var w=this.textureManager.get(b),C=w.key,E=this.anims.getArray(),T=[],k=0;k<E.length;k++)for(var A=E[k],I=A.frames,B=0;B<I.length;B++)if(I[B].textureKey===C){T.push(A.key);break}return T},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(h.PAUSE_ALL)),this},play:function(b,w){Array.isArray(w)||(w=[w]);for(var C=0;C<w.length;C++)w[C].anims.play(b);return this},staggerPlay:function(b,w,C,E){C===void 0&&(C=0),E===void 0&&(E=!0),Array.isArray(w)||(w=[w]);var T=w.length;E||T--;for(var k=0;k<w.length;k++){var A=C<0?Math.abs(C)*(T-k):C*k;w[k].anims.playAfterDelay(b,A)}return this},remove:function(b){var w=this.get(b);return w&&(this.emit(h.REMOVE_ANIMATION,b,w),this.anims.delete(b),this.removeMix(b)),w},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(h.RESUME_ALL)),this},toJSON:function(b){var w={anims:[],globalTimeScale:this.globalTimeScale};return b!==void 0&&b!==""?w.anims.push(this.anims.get(b).toJSON()):this.anims.each(function(C,E){w.anims.push(E.toJSON())}),w},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});s.exports=x},9674:(s,g,i)=>{var o=i(42099),m=i(30976),c=i(83419),l=i(90330),h=i(74943),a=i(95540),f=new c({initialize:function(u){this.parent=u,this.animationManager=u.scene.sys.anims,this.animationManager.on(h.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(p){var u=this.parent;if(p===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,u;Array.isArray(p)||(p=[p]);for(var v=0;v<p.length;v++){var y=p[v];this.nextAnim?this.nextAnimsQueue.push(y):this.nextAnim=y}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(p){this.isPlaying&&this.stop();var u=this.animationManager,v=typeof p=="string"?p:a(p,"key",null),y=this.exists(v)?this.get(v):u.get(v);if(!y)console.warn("Missing animation: "+v);else{this.currentAnim=y;var x=y.getTotalFrames(),b=a(p,"frameRate",y.frameRate),w=a(p,"duration",y.duration);y.calculateDuration(this,x,w,b),this.delay=a(p,"delay",y.delay),this.repeat=a(p,"repeat",y.repeat),this.repeatDelay=a(p,"repeatDelay",y.repeatDelay),this.yoyo=a(p,"yoyo",y.yoyo),this.showBeforeDelay=a(p,"showBeforeDelay",y.showBeforeDelay),this.showOnStart=a(p,"showOnStart",y.showOnStart),this.hideOnComplete=a(p,"hideOnComplete",y.hideOnComplete),this.skipMissedFrames=a(p,"skipMissedFrames",y.skipMissedFrames),this.randomFrame=a(p,"randomFrame",y.randomFrame),this.timeScale=a(p,"timeScale",this.timeScale);var C=a(p,"startFrame",0);C>x&&(C=0),this.randomFrame&&(C=m(0,x-1));var E=y.frames[C];C===0&&!this.forward&&(E=y.getLastFrame()),this.currentFrame=E}return this.parent},pause:function(p){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),p!==void 0&&this.setCurrentFrame(p),this.parent},resume:function(p){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),p!==void 0&&this.setCurrentFrame(p),this.parent},playAfterDelay:function(p,u){if(!this.isPlaying)this.delayCounter=u,this.play(p,!0);else{var v=this.nextAnim,y=this.nextAnimsQueue;v&&y.unshift(v),this.nextAnim=p,this._pendingStop=1,this._pendingStopValue=u}return this.parent},playAfterRepeat:function(p,u){if(u===void 0&&(u=1),!this.isPlaying)this.play(p);else{var v=this.nextAnim,y=this.nextAnimsQueue;v&&y.unshift(v),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this.nextAnim=p,this._pendingStop=2,this._pendingStopValue=u}return this.parent},play:function(p,u){u===void 0&&(u=!1);var v=this.currentAnim,y=this.parent,x=typeof p=="string"?p:p.key;if(u&&this.isPlaying&&v.key===x)return y;if(v&&this.isPlaying){var b=this.animationManager.getMix(v.key,p);if(b>0)return this.playAfterDelay(p,b)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p)},playReverse:function(p,u){u===void 0&&(u=!1);var v=typeof p=="string"?p:p.key;return u&&this.isPlaying&&this.currentAnim.key===v?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p))},startAnimation:function(p){this.load(p);var u=this.currentAnim,v=this.parent;return u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,u.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),v},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(h.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(h.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(h.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(h.ANIMATION_COMPLETE,h.ANIMATION_COMPLETE_KEY)},emitEvents:function(p,u){var v=this.currentAnim;if(v){var y=this.currentFrame,x=this.parent,b=y.textureFrame;x.emit(p,v,y,x,b),u&&x.emit(u+v.key,v,y,x,b)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var p=this.currentFrame;if(!p)return 0;var u=p.progress;return this.inReverse&&(u*=-1),u},setProgress:function(p){return this.forward||(p=1-p),this.setCurrentFrame(this.currentAnim.getFrameByProgress(p)),this.parent},setRepeat:function(p){return this.repeatCounter=p===-1?Number.MAX_VALUE:p,this.parent},globalRemove:function(p,u){u===void 0&&(u=this.currentAnim),this.isPlaying&&u.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(p,u){p===void 0&&(p=!1),u===void 0&&(u=!1);var v=this.currentAnim,y=this.parent;return v?(u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),v.getFirstTick(this),this.emitEvents(h.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!p,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(v.frames[0]),this.parent):y},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(p)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(p)}return this.parent},stopAfterDelay:function(p){return this._pendingStop=1,this._pendingStopValue=p,this.parent},stopAfterRepeat:function(p){return p===void 0&&(p=1),this.repeatCounter!==-1&&p>this.repeatCounter&&(p=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=p,this.parent},stopOnFrame:function(p){return this._pendingStop=3,this._pendingStopValue=p,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(p,u){var v=this.currentAnim;if(!(!this.isPlaying||!v||v.paused)){if(this.accumulator+=u*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=u,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?v.nextFrame(this):v.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var y=0;do this.forward?v.nextFrame(this):v.previousFrame(this),y++;while(this.isPlaying&&this.accumulator>this.nextTick&&y<60)}}},setCurrentFrame:function(p){var u=this.parent;return this.currentFrame=p,u.texture=p.frame.texture,u.frame=p.frame,u.isCropped&&u.frame.updateCropUVs(u._crop,u.flipX,u.flipY),p.setAlpha&&(u.alpha=p.alpha),u.setSizeToFrame(),u._originComponent&&(p.frame.customPivot?u.setOrigin(p.frame.pivotX,p.frame.pivotY):u.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(h.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===p&&this.stop()),u},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(p){return this.anims?this.anims.get(p):null},exists:function(p){return this.anims?this.anims.has(p):!1},create:function(p){var u=p.key,v=!1;return u&&(v=this.get(u),v?console.warn("Animation key already exists: "+u):(v=new o(this,u,p),this.anims||(this.anims=new l),this.anims.set(u,v))),v},createFromAseprite:function(p,u){return this.animationManager.createFromAseprite(p,u,this.parent)},generateFrameNames:function(p,u){return this.animationManager.generateFrameNames(p,u)},generateFrameNumbers:function(p,u){return this.animationManager.generateFrameNumbers(p,u)},remove:function(p){var u=this.get(p);return u&&(this.currentAnim===u&&this.stop(),this.anims.delete(p)),u},destroy:function(){this.animationManager.off(h.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});s.exports=f},57090:s=>{s.exports="add"},25312:s=>{s.exports="animationcomplete"},89580:s=>{s.exports="animationcomplete-"},52860:s=>{s.exports="animationrepeat"},63850:s=>{s.exports="animationrestart"},99085:s=>{s.exports="animationstart"},28087:s=>{s.exports="animationstop"},1794:s=>{s.exports="animationupdate"},52562:s=>{s.exports="pauseall"},57953:s=>{s.exports="remove"},68339:s=>{s.exports="resumeall"},74943:(s,g,i)=>{s.exports={ADD_ANIMATION:i(57090),ANIMATION_COMPLETE:i(25312),ANIMATION_COMPLETE_KEY:i(89580),ANIMATION_REPEAT:i(52860),ANIMATION_RESTART:i(63850),ANIMATION_START:i(99085),ANIMATION_STOP:i(28087),ANIMATION_UPDATE:i(1794),PAUSE_ALL:i(52562),REMOVE_ANIMATION:i(57953),RESUME_ALL:i(68339)}},60421:(s,g,i)=>{s.exports={Animation:i(42099),AnimationFrame:i(41138),AnimationManager:i(60848),AnimationState:i(9674),Events:i(74943)}},2161:(s,g,i)=>{var o=i(83419),m=i(90330),c=i(50792),l=i(24736),h=new o({initialize:function(){this.entries=new m,this.events=new c},add:function(a,f){return this.entries.set(a,f),this.events.emit(l.ADD,this,a,f),this},has:function(a){return this.entries.has(a)},exists:function(a){return this.entries.has(a)},get:function(a){return this.entries.get(a)},remove:function(a){var f=this.get(a);return f&&(this.entries.delete(a),this.events.emit(l.REMOVE,this,a,f.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});s.exports=h},24047:(s,g,i)=>{var o=i(2161),m=i(83419),c=i(8443),l=new m({initialize:function(a){this.game=a,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(c.DESTROY,this.destroy,this)},addCustom:function(h){return this.custom.hasOwnProperty(h)||(this.custom[h]=new o),this.custom[h]},destroy:function(){for(var h=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],a=0;a<h.length;a++)this[h[a]].destroy(),this[h[a]]=null;for(var f in this.custom)this.custom[f].destroy();this.custom=null,this.game=null}});s.exports=l},51464:s=>{s.exports="add"},59261:s=>{s.exports="remove"},24736:(s,g,i)=>{s.exports={ADD:i(51464),REMOVE:i(59261)}},83388:(s,g,i)=>{s.exports={BaseCache:i(2161),CacheManager:i(24047),Events:i(24736)}},71911:(s,g,i)=>{var o=i(83419),m=i(31401),c=i(39506),l=i(50792),h=i(19715),a=i(87841),f=i(61340),p=i(80333),u=i(26099),v=new o({Extends:l,Mixins:[m.AlphaSingle,m.Visible],initialize:function(x,b,w,C){x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=0),C===void 0&&(C=0),l.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new a,this.dirty=!0,this._x=x,this._y=b,this._width=w,this._height=C,this._bounds=new a,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new f,this.transparent=!0,this.backgroundColor=p("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new u(w/2,C/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(y){this.renderList.push(y)},setOrigin:function(y,x){return y===void 0&&(y=.5),x===void 0&&(x=y),this.originX=y,this.originY=x,this},getScroll:function(y,x,b){b===void 0&&(b=new u);var w=this.width*.5,C=this.height*.5;return b.x=y-w,b.y=x-C,this.useBounds&&(b.x=this.clampX(b.x),b.y=this.clampY(b.y)),b},centerOnX:function(y){var x=this.width*.5;return this.midPoint.x=y,this.scrollX=y-x,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(y){var x=this.height*.5;return this.midPoint.y=y,this.scrollY=y-x,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(y,x){return this.centerOnX(y),this.centerOnY(x),this},centerToBounds:function(){if(this.useBounds){var y=this._bounds,x=this.width*.5,b=this.height*.5;this.midPoint.set(y.centerX,y.centerY),this.scrollX=y.centerX-x,this.scrollY=y.centerY-b}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(y){if(this.disableCull)return y;var x=this.matrix.matrix,b=x[0],w=x[1],C=x[2],E=x[3],T=b*E-w*C;if(!T)return y;var k=x[4],A=x[5],I=this.scrollX,B=this.scrollY,M=this.width,O=this.height,P=this.y,L=P+O,_=this.x,G=_+M,$=this.culledObjects,W=y.length;T=1/T,$.length=0;for(var Y=0;Y<W;++Y){var z=y[Y];if(!z.hasOwnProperty("width")||z.parentContainer){$.push(z);continue}var F=z.width,N=z.height,j=z.x-I*z.scrollFactorX-F*z.originX,U=z.y-B*z.scrollFactorY-N*z.originY,V=j*b+U*C+k,q=j*w+U*E+A,ot=(j+F)*b+(U+N)*C+k,Q=(j+F)*w+(U+N)*E+A;ot>_&&V<G&&Q>P&&q<L&&$.push(z)}return $},getWorldPoint:function(y,x,b){b===void 0&&(b=new u);var w=this.matrix.matrix,C=w[0],E=w[1],T=w[2],k=w[3],A=w[4],I=w[5],B=C*k-E*T;if(!B)return b.x=y,b.y=x,b;B=1/B;var M=k*B,O=-E*B,P=-T*B,L=C*B,_=(T*I-k*A)*B,G=(E*A-C*I)*B,$=Math.cos(this.rotation),W=Math.sin(this.rotation),Y=this.zoomX,z=this.zoomY,F=this.scrollX,N=this.scrollY,j=y+(F*$-N*W)*Y,U=x+(F*W+N*$)*z;return b.x=j*M+U*P+_,b.y=j*O+U*L+G,b},ignore:function(y){var x=this.id;Array.isArray(y)||(y=[y]);for(var b=0;b<y.length;b++){var w=y[b];Array.isArray(w)?this.ignore(w):w.isParent?this.ignore(w.getChildren()):w.cameraFilter|=x}return this},preRender:function(){this.renderList.length=0;var y=this.width,x=this.height,b=y*.5,w=x*.5,C=this.zoomX,E=this.zoomY,T=this.matrix,k=y*this.originX,A=x*this.originY,I=this.scrollX,B=this.scrollY;this.useBounds&&(I=this.clampX(I),B=this.clampY(B)),this.scrollX=I,this.scrollY=B;var M=I+b,O=B+w;this.midPoint.set(M,O);var P=y/C,L=x/E;this.worldView.setTo(M-P/2,O-L/2,P,L),T.applyITRS(this.x+k,this.y+A,this.rotation,C,E),T.translate(-k,-A)},clampX:function(y){var x=this._bounds,b=this.displayWidth,w=x.x+(b-this.width)/2,C=Math.max(w,w+x.width-b);return y<w?y=w:y>C&&(y=C),y},clampY:function(y){var x=this._bounds,b=this.displayHeight,w=x.y+(b-this.height)/2,C=Math.max(w,w+x.height-b);return y<w?y=w:y>C&&(y=C),y},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(y){return y===void 0&&(y=0),this.rotation=c(y),this},setBackgroundColor:function(y){return y===void 0&&(y="rgba(0,0,0,0)"),this.backgroundColor=p(y),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(y,x,b,w,C){return C===void 0&&(C=!1),this._bounds.setTo(y,x,b,w),this.dirty=!0,this.useBounds=!0,C?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(y){y===void 0&&(y=new a);var x=this._bounds;return y.setTo(x.x,x.y,x.width,x.height),y},setName:function(y){return y===void 0&&(y=""),this.name=y,this},setPosition:function(y,x){return x===void 0&&(x=y),this.x=y,this.y=x,this},setRotation:function(y){return y===void 0&&(y=0),this.rotation=y,this},setRoundPixels:function(y){return this.roundPixels=y,this},setScene:function(y,x){x===void 0&&(x=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=y,this.isSceneCamera=x;var b=y.sys;return this.sceneManager=b.game.scene,this.scaleManager=b.scale,this.cameraManager=b.cameras,this.updateSystem(),this},setScroll:function(y,x){return x===void 0&&(x=y),this.scrollX=y,this.scrollY=x,this},setSize:function(y,x){return x===void 0&&(x=y),this.width=y,this.height=x,this},setViewport:function(y,x,b,w){return this.x=y,this.y=x,this.width=b,this.height=w,this},setZoom:function(y,x){return y===void 0&&(y=1),x===void 0&&(x=y),y===0&&(y=.001),x===0&&(x=.001),this.zoomX=y,this.zoomY=x,this},setMask:function(y,x){return x===void 0&&(x=!0),this.mask=y,this._maskCamera=x?this.cameraManager.default:this,this},clearMask:function(y){return y===void 0&&(y=!1),y&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var y={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(y.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),y},update:function(){},setIsSceneCamera:function(y){return this.isSceneCamera=y,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var y=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,x=this.sceneManager;y&&!this._customViewport?x.customViewports++:!y&&this._customViewport&&x.customViewports--,this.dirty=!0,this._customViewport=y}},destroy:function(){this.emit(h.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(y){this._x=y,this.updateSystem()}},y:{get:function(){return this._y},set:function(y){this._y=y,this.updateSystem()}},width:{get:function(){return this._width},set:function(y){this._width=y,this.updateSystem()}},height:{get:function(){return this._height},set:function(y){this._height=y,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(y){y!==this._scrollX&&(this._scrollX=y,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(y){y!==this._scrollY&&(this._scrollY=y,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(y){this._zoomX=y,this._zoomY=y,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(y){this._zoomX=y,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(y){this._zoomY=y,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(y){this._rotation=y,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});s.exports=v},38058:(s,g,i)=>{var o=i(71911),m=i(67502),c=i(45319),l=i(83419),h=i(31401),a=i(20052),f=i(19715),p=i(28915),u=i(87841),v=i(26099),y=new l({Extends:o,Mixins:[h.PostPipeline],initialize:function(b,w,C,E){o.call(this,b,w,C,E),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new a.Fade(this),this.flashEffect=new a.Flash(this),this.shakeEffect=new a.Shake(this),this.panEffect=new a.Pan(this),this.rotateToEffect=new a.RotateTo(this),this.zoomEffect=new a.Zoom(this),this.lerp=new v(1,1),this.followOffset=new v,this.deadzone=null,this._follow=null},setDeadzone:function(x,b){if(x===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=x,this.deadzone.height=b):this.deadzone=new u(0,0,x,b),this._follow){var w=this.width/2,C=this.height/2,E=this._follow.x-this.followOffset.x,T=this._follow.y-this.followOffset.y;this.midPoint.set(E,T),this.scrollX=E-w,this.scrollY=T-C}m(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(x,b,w,C,E,T){return this.fadeEffect.start(!1,x,b,w,C,!0,E,T)},fadeOut:function(x,b,w,C,E,T){return this.fadeEffect.start(!0,x,b,w,C,!0,E,T)},fadeFrom:function(x,b,w,C,E,T,k){return this.fadeEffect.start(!1,x,b,w,C,E,T,k)},fade:function(x,b,w,C,E,T,k){return this.fadeEffect.start(!0,x,b,w,C,E,T,k)},flash:function(x,b,w,C,E,T,k){return this.flashEffect.start(x,b,w,C,E,T,k)},shake:function(x,b,w,C,E){return this.shakeEffect.start(x,b,w,C,E)},pan:function(x,b,w,C,E,T,k){return this.panEffect.start(x,b,w,C,E,T,k)},rotateTo:function(x,b,w,C,E,T,k){return this.rotateToEffect.start(x,b,w,C,E,T,k)},zoomTo:function(x,b,w,C,E,T){return this.zoomEffect.start(x,b,w,C,E,T)},preRender:function(){this.renderList.length=0;var x=this.width,b=this.height,w=x*.5,C=b*.5,E=this.zoom,T=this.matrix,k=x*this.originX,A=b*this.originY,I=this._follow,B=this.deadzone,M=this.scrollX,O=this.scrollY;B&&m(B,this.midPoint.x,this.midPoint.y);var P=!1;if(I&&!this.panEffect.isRunning){var L=this.lerp,_=I.x-this.followOffset.x,G=I.y-this.followOffset.y;B?(_<B.x?M=p(M,M-(B.x-_),L.x):_>B.right&&(M=p(M,M+(_-B.right),L.x)),G<B.y?O=p(O,O-(B.y-G),L.y):G>B.bottom&&(O=p(O,O+(G-B.bottom),L.y))):(M=p(M,_-k,L.x),O=p(O,G-A,L.y)),P=!0}this.useBounds&&(M=this.clampX(M),O=this.clampY(O)),this.scrollX=M,this.scrollY=O;var $=M+w,W=O+C;this.midPoint.set($,W);var Y=x/E,z=b/E,F=Math.floor($-Y/2),N=Math.floor(W-z/2);this.worldView.setTo(F,N,Y,z),T.applyITRS(Math.floor(this.x+k),Math.floor(this.y+A),this.rotation,E,E),T.translate(-k,-A),this.shakeEffect.preRender(),P&&this.emit(f.FOLLOW_UPDATE,this,I)},setLerp:function(x,b){return x===void 0&&(x=1),b===void 0&&(b=x),this.lerp.set(x,b),this},setFollowOffset:function(x,b){return x===void 0&&(x=0),b===void 0&&(b=0),this.followOffset.set(x,b),this},startFollow:function(x,b,w,C,E,T){b===void 0&&(b=!1),w===void 0&&(w=1),C===void 0&&(C=w),E===void 0&&(E=0),T===void 0&&(T=E),this._follow=x,this.roundPixels=b,w=c(w,0,1),C=c(C,0,1),this.lerp.set(w,C),this.followOffset.set(E,T);var k=this.width/2,A=this.height/2,I=x.x-E,B=x.y-T;return this.midPoint.set(I,B),this.scrollX=I-k,this.scrollY=B-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(x,b){this.visible&&(this.rotateToEffect.update(x,b),this.panEffect.update(x,b),this.zoomEffect.update(x,b),this.shakeEffect.update(x,b),this.flashEffect.update(x,b),this.fadeEffect.update(x,b))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});s.exports=y},32743:(s,g,i)=>{var o=i(38058),m=i(83419),c=i(95540),l=i(37277),h=i(37303),a=i(97480),f=i(44594),p=new m({initialize:function(v){this.scene=v,this.systems=v.sys,this.roundPixels=v.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,v.sys.events.once(f.BOOT,this.boot,this),v.sys.events.on(f.START,this.start,this)},boot:function(){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,u.scale.width,u.scale.height).setScene(this.scene),u.game.scale.on(a.RESIZE,this.onResize,this),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){if(!this.main){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0]}var v=this.systems.events;v.on(f.UPDATE,this.update,this),v.once(f.SHUTDOWN,this.shutdown,this)},add:function(u,v,y,x,b,w){u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y=this.scene.sys.scale.width),x===void 0&&(x=this.scene.sys.scale.height),b===void 0&&(b=!1),w===void 0&&(w="");var C=new o(u,v,y,x);return C.setName(w),C.setScene(this.scene),C.setRoundPixels(this.roundPixels),C.id=this.getNextID(),this.cameras.push(C),b&&(this.main=C),C},addExisting:function(u,v){v===void 0&&(v=!1);var y=this.cameras.indexOf(u);return y===-1?(u.id=this.getNextID(),u.setRoundPixels(this.roundPixels),this.cameras.push(u),v&&(this.main=u),u):null},getNextID:function(){for(var u=this.cameras,v=1,y=0;y<32;y++){for(var x=!1,b=0;b<u.length;b++){var w=u[b];if(w&&w.id===v){x=!0;continue}}if(x)v=v<<1;else return v}return 0},getTotal:function(u){u===void 0&&(u=!1);for(var v=0,y=this.cameras,x=0;x<y.length;x++){var b=y[x];(!u||u&&b.visible)&&v++}return v},fromJSON:function(u){Array.isArray(u)||(u=[u]);for(var v=this.scene.sys.scale.width,y=this.scene.sys.scale.height,x=0;x<u.length;x++){var b=u[x],w=c(b,"x",0),C=c(b,"y",0),E=c(b,"width",v),T=c(b,"height",y),k=this.add(w,C,E,T);k.name=c(b,"name",""),k.zoom=c(b,"zoom",1),k.rotation=c(b,"rotation",0),k.scrollX=c(b,"scrollX",0),k.scrollY=c(b,"scrollY",0),k.roundPixels=c(b,"roundPixels",!1),k.visible=c(b,"visible",!0);var A=c(b,"backgroundColor",!1);A&&k.setBackgroundColor(A);var I=c(b,"bounds",null);if(I){var B=c(I,"x",0),M=c(I,"y",0),O=c(I,"width",v),P=c(I,"height",y);k.setBounds(B,M,O,P)}}return this},getCamera:function(u){for(var v=this.cameras,y=0;y<v.length;y++)if(v[y].name===u)return v[y];return null},getCamerasBelowPointer:function(u){for(var v=this.cameras,y=u.x,x=u.y,b=[],w=0;w<v.length;w++){var C=v[w];C.visible&&C.inputEnabled&&h(C,y,x)&&b.unshift(C)}return b},remove:function(u,v){v===void 0&&(v=!0),Array.isArray(u)||(u=[u]);for(var y=0,x=this.cameras,b=0;b<u.length;b++){var w=x.indexOf(u[b]);w!==-1&&(v?x[w].destroy():x[w].renderList=[],x.splice(w,1),y++)}return!this.main&&x[0]&&(this.main=x[0]),y},render:function(u,v){for(var y=this.scene,x=this.cameras,b=0;b<x.length;b++){var w=x[b];if(w.visible&&w.alpha>0){w.preRender();var C=this.getVisibleChildren(v.getChildren(),w);u.render(y,C,w)}}},getVisibleChildren:function(u,v){return u.filter(function(y){return y.willRender(v)})},resetAll:function(){for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(u,v){for(var y=0;y<this.cameras.length;y++)this.cameras[y].update(u,v)},onResize:function(u,v,y,x,b){for(var w=0;w<this.cameras.length;w++){var C=this.cameras[w];C._x===0&&C._y===0&&C._width===x&&C._height===b&&C.setSize(v.width,v.height)}},resize:function(u,v){for(var y=0;y<this.cameras.length;y++)this.cameras[y].setSize(u,v)},shutdown:function(){this.main=void 0;for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();this.cameras=[];var v=this.systems.events;v.off(f.UPDATE,this.update,this),v.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(f.START,this.start,this),this.systems.events.off(f.DESTROY,this.destroy,this),this.systems.game.scale.off(a.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});l.register("CameraManager",p,"cameras"),s.exports=p},5020:(s,g,i)=>{var o=i(45319),m=i(83419),c=i(19715),l=new m({initialize:function(a){this.camera=a,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(h,a,f,p,u,v,y,x){if(h===void 0&&(h=!0),a===void 0&&(a=1e3),f===void 0&&(f=0),p===void 0&&(p=0),u===void 0&&(u=0),v===void 0&&(v=!1),y===void 0&&(y=null),x===void 0&&(x=this.camera.scene),!v&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=a,this.direction=h,this.progress=0,this.red=f,this.green=p,this.blue=u,this.alpha=h?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=y,this._onUpdateScope=x;var b=h?c.FADE_OUT_START:c.FADE_IN_START;return this.camera.emit(b,this.camera,this,a,f,p,u),this.camera},update:function(h,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(h){if(!this.isRunning&&!this.isComplete)return!1;var a=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(h,a){if(!this.isRunning&&!this.isComplete)return!1;var f=this.camera,p=this.red/255,u=this.green/255,v=this.blue/255;return h.drawFillRect(f.x,f.y,f.width,f.height,a(v,u,p,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var h=this.direction?c.FADE_OUT_COMPLETE:c.FADE_IN_COMPLETE;this.camera.emit(h,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});s.exports=l},10662:(s,g,i)=>{var o=i(45319),m=i(83419),c=i(19715),l=new m({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(h,a,f,p,u,v,y){return h===void 0&&(h=250),a===void 0&&(a=255),f===void 0&&(f=255),p===void 0&&(p=255),u===void 0&&(u=!1),v===void 0&&(v=null),y===void 0&&(y=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=h,this.progress=0,this.red=a,this.green=f,this.blue=p,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=y,this.camera.emit(c.FLASH_START,this.camera,this,h,a,f,p),this.camera)},update:function(h,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(h){if(!this.isRunning)return!1;var a=this.camera;return h.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",h.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(h,a){if(!this.isRunning)return!1;var f=this.camera,p=this.red/255,u=this.green/255,v=this.blue/255;return h.drawFillRect(f.x,f.y,f.width,f.height,a(v,u,p,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});s.exports=l},20359:(s,g,i)=>{var o=i(45319),m=i(83419),c=i(62640),l=i(19715),h=i(26099),a=new m({initialize:function(p){this.camera=p,this.isRunning=!1,this.duration=0,this.source=new h,this.current=new h,this.destination=new h,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(f,p,u,v,y,x,b){u===void 0&&(u=1e3),v===void 0&&(v=c.Linear),y===void 0&&(y=!1),x===void 0&&(x=null),b===void 0&&(b=this.camera.scene);var w=this.camera;return!y&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source.set(w.scrollX,w.scrollY),this.destination.set(f,p),w.getScroll(f,p,this.current),typeof v=="string"&&c.hasOwnProperty(v)?this.ease=c[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=x,this._onUpdateScope=b,this.camera.emit(l.PAN_START,this.camera,this,u,f,p)),w},update:function(f,p){if(this.isRunning){this._elapsed+=p;var u=o(this._elapsed/this.duration,0,1);this.progress=u;var v=this.camera;if(this._elapsed<this.duration){var y=this.ease(u);v.getScroll(this.destination.x,this.destination.y,this.current);var x=this.source.x+(this.current.x-this.source.x)*y,b=this.source.y+(this.current.y-this.source.y)*y;v.setScroll(x,b),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,u,x,b)}else v.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,u,v.scrollX,v.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});s.exports=a},34208:(s,g,i)=>{var o=i(45319),m=i(83419),c=i(19715),l=i(62640),h=new m({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(a,f,p,u,v,y,x){p===void 0&&(p=1e3),u===void 0&&(u=l.Linear),v===void 0&&(v=!1),y===void 0&&(y=null),x===void 0&&(x=this.camera.scene),f===void 0&&(f=!1),this.shortestPath=f;var b=a;a<0?(b=-1*a,this.clockwise=!1):this.clockwise=!0;var w=360*Math.PI/180;b=b-Math.floor(b/w)*w;var C=this.camera;if(!v&&this.isRunning)return C;if(this.isRunning=!0,this.duration=p,this.progress=0,this.source=C.rotation,this.destination=b,typeof u=="string"&&l.hasOwnProperty(u)?this.ease=l[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=y,this._onUpdateScope=x,this.shortestPath){var E=0,T=0;this.destination>this.source?E=Math.abs(this.destination-this.source):E=Math.abs(this.destination+w)-this.source,this.source>this.destination?T=Math.abs(this.source-this.destination):T=Math.abs(this.source+w)-this.destination,E<T?this.clockwise=!0:E>T&&(this.clockwise=!1)}return this.camera.emit(c.ROTATE_START,this.camera,this,p,b),C},update:function(a,f){if(this.isRunning){this._elapsed+=f;var p=o(this._elapsed/this.duration,0,1);this.progress=p;var u=this.camera;if(this._elapsed<this.duration){var v=this.ease(p);this.current=u.rotation;var y=0,x=360*Math.PI/180,b=this.destination,w=this.current;this.clockwise===!1&&(b=this.current,w=this.destination),b>=w?y=Math.abs(b-w):y=Math.abs(b+x)-w;var C=0;this.clockwise?C=u.rotation+y*v:C=u.rotation-y*v,u.rotation=C,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,p,C)}else u.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,p,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});s.exports=h},30330:(s,g,i)=>{var o=i(45319),m=i(83419),c=i(19715),l=i(26099),h=new m({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.intensity=new l,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(a,f,p,u,v){return a===void 0&&(a=100),f===void 0&&(f=.05),p===void 0&&(p=!1),u===void 0&&(u=null),v===void 0&&(v=this.camera.scene),!p&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,typeof f=="number"?this.intensity.set(f):this.intensity.set(f.x,f.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=u,this._onUpdateScope=v,this.camera.emit(c.SHAKE_START,this.camera,this,a,f),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(a,f){if(this.isRunning)if(this._elapsed+=f,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var p=this.intensity,u=this.camera.width,v=this.camera.height,y=this.camera.zoom;this._offsetX=(Math.random()*p.x*u*2-p.x*u)*y,this._offsetY=(Math.random()*p.y*v*2-p.y*v)*y,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(c.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});s.exports=h},45641:(s,g,i)=>{var o=i(45319),m=i(83419),c=i(62640),l=i(19715),h=new m({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,f,p,u,v,y){f===void 0&&(f=1e3),p===void 0&&(p=c.Linear),u===void 0&&(u=!1),v===void 0&&(v=null),y===void 0&&(y=this.camera.scene);var x=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=f,this.progress=0,this.source=x.zoom,this.destination=a,typeof p=="string"&&c.hasOwnProperty(p)?this.ease=c[p]:typeof p=="function"&&(this.ease=p),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=y,this.camera.emit(l.ZOOM_START,this.camera,this,f,a)),x},update:function(a,f){this.isRunning&&(this._elapsed+=f,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});s.exports=h},20052:(s,g,i)=>{s.exports={Fade:i(5020),Flash:i(10662),Pan:i(20359),Shake:i(30330),RotateTo:i(34208),Zoom:i(45641)}},16438:s=>{s.exports="cameradestroy"},32726:s=>{s.exports="camerafadeincomplete"},87807:s=>{s.exports="camerafadeinstart"},45917:s=>{s.exports="camerafadeoutcomplete"},95666:s=>{s.exports="camerafadeoutstart"},47056:s=>{s.exports="cameraflashcomplete"},91261:s=>{s.exports="cameraflashstart"},45047:s=>{s.exports="followupdate"},81927:s=>{s.exports="camerapancomplete"},74264:s=>{s.exports="camerapanstart"},54419:s=>{s.exports="postrender"},79330:s=>{s.exports="prerender"},93183:s=>{s.exports="camerarotatecomplete"},80112:s=>{s.exports="camerarotatestart"},62252:s=>{s.exports="camerashakecomplete"},86017:s=>{s.exports="camerashakestart"},539:s=>{s.exports="camerazoomcomplete"},51892:s=>{s.exports="camerazoomstart"},19715:(s,g,i)=>{s.exports={DESTROY:i(16438),FADE_IN_COMPLETE:i(32726),FADE_IN_START:i(87807),FADE_OUT_COMPLETE:i(45917),FADE_OUT_START:i(95666),FLASH_COMPLETE:i(47056),FLASH_START:i(91261),FOLLOW_UPDATE:i(45047),PAN_COMPLETE:i(81927),PAN_START:i(74264),POST_RENDER:i(54419),PRE_RENDER:i(79330),ROTATE_COMPLETE:i(93183),ROTATE_START:i(80112),SHAKE_COMPLETE:i(62252),SHAKE_START:i(86017),ZOOM_COMPLETE:i(539),ZOOM_START:i(51892)}},87969:(s,g,i)=>{s.exports={Camera:i(38058),BaseCamera:i(71911),CameraManager:i(32743),Effects:i(20052),Events:i(19715)}},63091:(s,g,i)=>{var o=i(83419),m=i(35154),c=new o({initialize:function(h){this.camera=m(h,"camera",null),this.left=m(h,"left",null),this.right=m(h,"right",null),this.up=m(h,"up",null),this.down=m(h,"down",null),this.zoomIn=m(h,"zoomIn",null),this.zoomOut=m(h,"zoomOut",null),this.zoomSpeed=m(h,"zoomSpeed",.01),this.minZoom=m(h,"minZoom",.001),this.maxZoom=m(h,"maxZoom",1e3),this.speedX=0,this.speedY=0;var a=m(h,"speed",null);typeof a=="number"?(this.speedX=a,this.speedY=a):(this.speedX=m(h,"speed.x",0),this.speedY=m(h,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var h=this.camera;this.up&&this.up.isDown?h.scrollY-=this.speedY*l|0:this.down&&this.down.isDown&&(h.scrollY+=this.speedY*l|0),this.left&&this.left.isDown?h.scrollX-=this.speedX*l|0:this.right&&this.right.isDown&&(h.scrollX+=this.speedX*l|0),this.zoomIn&&this.zoomIn.isDown?(h.zoom-=this.zoomSpeed,h.zoom<this.minZoom&&(h.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(h.zoom+=this.zoomSpeed,h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});s.exports=c},58818:(s,g,i)=>{var o=i(83419),m=i(35154),c=new o({initialize:function(h){this.camera=m(h,"camera",null),this.left=m(h,"left",null),this.right=m(h,"right",null),this.up=m(h,"up",null),this.down=m(h,"down",null),this.zoomIn=m(h,"zoomIn",null),this.zoomOut=m(h,"zoomOut",null),this.zoomSpeed=m(h,"zoomSpeed",.01),this.minZoom=m(h,"minZoom",.001),this.maxZoom=m(h,"maxZoom",1e3),this.accelX=0,this.accelY=0;var a=m(h,"acceleration",null);typeof a=="number"?(this.accelX=a,this.accelY=a):(this.accelX=m(h,"acceleration.x",0),this.accelY=m(h,"acceleration.y",0)),this.dragX=0,this.dragY=0;var f=m(h,"drag",null);typeof f=="number"?(this.dragX=f,this.dragY=f):(this.dragX=m(h,"drag.x",0),this.dragY=m(h,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var p=m(h,"maxSpeed",null);typeof p=="number"?(this.maxSpeedX=p,this.maxSpeedY=p):(this.maxSpeedX=m(h,"maxSpeed.x",0),this.maxSpeedY=m(h,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var h=this.camera;this._speedX>0?(this._speedX-=this.dragX*l,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*l,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*l,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*l,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(h.scrollX-=this._speedX*l|0),this._speedY!==0&&(h.scrollY-=this._speedY*l|0),this._zoom!==0&&(h.zoom+=this._zoom,h.zoom<this.minZoom?h.zoom=this.minZoom:h.zoom>this.maxZoom&&(h.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});s.exports=c},38865:(s,g,i)=>{s.exports={FixedKeyControl:i(63091),SmoothedKeyControl:i(58818)}},26638:(s,g,i)=>{s.exports={Controls:i(38865),Scene2D:i(87969)}},8054:(s,g,i)=>{var o={VERSION:"3.80.1",BlendModes:i(10312),ScaleModes:i(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};s.exports=o},69547:(s,g,i)=>{var o=i(83419),m=i(8054),c=i(42363),l=i(82264),h=i(95540),a=i(35154),f=i(41212),p=i(29747),u=i(75508),v=i(36060),y=i(80333),x=new o({initialize:function(w){w===void 0&&(w={});var C=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],E="#ffffff",T=a(w,"scale",null);this.width=a(T,"width",1024,w),this.height=a(T,"height",768,w),this.zoom=a(T,"zoom",1,w),this.parent=a(T,"parent",void 0,w),this.scaleMode=a(T,T?"mode":"scaleMode",0,w),this.expandParent=a(T,"expandParent",!0,w),this.autoRound=a(T,"autoRound",!1,w),this.autoCenter=a(T,"autoCenter",0,w),this.resizeInterval=a(T,"resizeInterval",500,w),this.fullscreenTarget=a(T,"fullscreenTarget",null,w),this.minWidth=a(T,"min.width",0,w),this.maxWidth=a(T,"max.width",0,w),this.minHeight=a(T,"min.height",0,w),this.maxHeight=a(T,"max.height",0,w),this.snapWidth=a(T,"snap.width",0,w),this.snapHeight=a(T,"snap.height",0,w),this.renderType=a(w,"type",m.AUTO),this.canvas=a(w,"canvas",null),this.context=a(w,"context",null),this.canvasStyle=a(w,"canvasStyle",null),this.customEnvironment=a(w,"customEnvironment",!1),this.sceneConfig=a(w,"scene",null),this.seed=a(w,"seed",[(Date.now()*Math.random()).toString()]),u.RND=new u.RandomDataGenerator(this.seed),this.gameTitle=a(w,"title",""),this.gameURL=a(w,"url","https://phaser.io"),this.gameVersion=a(w,"version",""),this.autoFocus=a(w,"autoFocus",!0),this.stableSort=a(w,"stableSort",-1),this.stableSort===-1&&(this.stableSort=l.browser.es2019?1:0),l.features.stableSort=this.stableSort,this.domCreateContainer=a(w,"dom.createContainer",!1),this.domPointerEvents=a(w,"dom.pointerEvents","none"),this.inputKeyboard=a(w,"input.keyboard",!0),this.inputKeyboardEventTarget=a(w,"input.keyboard.target",window),this.inputKeyboardCapture=a(w,"input.keyboard.capture",[]),this.inputMouse=a(w,"input.mouse",!0),this.inputMouseEventTarget=a(w,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(w,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(w,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(w,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(w,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(w,"input.touch",l.input.touch),this.inputTouchEventTarget=a(w,"input.touch.target",null),this.inputTouchCapture=a(w,"input.touch.capture",!0),this.inputActivePointers=a(w,"input.activePointers",1),this.inputSmoothFactor=a(w,"input.smoothFactor",0),this.inputWindowEvents=a(w,"input.windowEvents",!0),this.inputGamepad=a(w,"input.gamepad",!1),this.inputGamepadEventTarget=a(w,"input.gamepad.target",window),this.disableContextMenu=a(w,"disableContextMenu",!1),this.audio=a(w,"audio",{}),this.hideBanner=a(w,"banner",null)===!1,this.hidePhaser=a(w,"banner.hidePhaser",!1),this.bannerTextColor=a(w,"banner.text",E),this.bannerBackgroundColor=a(w,"banner.background",C),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(w,"fps",null),this.disablePreFX=a(w,"disablePreFX",!1),this.disablePostFX=a(w,"disablePostFX",!1);var k=a(w,"render",null);this.pipeline=a(k,"pipeline",null,w),this.autoMobilePipeline=a(k,"autoMobilePipeline",!0,w),this.defaultPipeline=a(k,"defaultPipeline",v.MULTI_PIPELINE,w),this.antialias=a(k,"antialias",!0,w),this.antialiasGL=a(k,"antialiasGL",!0,w),this.mipmapFilter=a(k,"mipmapFilter","",w),this.desynchronized=a(k,"desynchronized",!1,w),this.roundPixels=a(k,"roundPixels",!0,w),this.pixelArt=a(k,"pixelArt",this.zoom!==1,w),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(k,"transparent",!1,w),this.clearBeforeRender=a(k,"clearBeforeRender",!0,w),this.preserveDrawingBuffer=a(k,"preserveDrawingBuffer",!1,w),this.premultipliedAlpha=a(k,"premultipliedAlpha",!0,w),this.failIfMajorPerformanceCaveat=a(k,"failIfMajorPerformanceCaveat",!1,w),this.powerPreference=a(k,"powerPreference","default",w),this.batchSize=a(k,"batchSize",4096,w),this.maxTextures=a(k,"maxTextures",-1,w),this.maxLights=a(k,"maxLights",10,w);var A=a(w,"backgroundColor",0);this.backgroundColor=y(A),this.transparent&&(this.backgroundColor=y(0),this.backgroundColor.alpha=0),this.preBoot=a(w,"callbacks.preBoot",p),this.postBoot=a(w,"callbacks.postBoot",p),this.physics=a(w,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(w,"loader.baseURL",""),this.loaderPath=a(w,"loader.path",""),this.loaderMaxParallelDownloads=a(w,"loader.maxParallelDownloads",l.os.android?6:32),this.loaderCrossOrigin=a(w,"loader.crossOrigin",void 0),this.loaderResponseType=a(w,"loader.responseType",""),this.loaderAsync=a(w,"loader.async",!0),this.loaderUser=a(w,"loader.user",""),this.loaderPassword=a(w,"loader.password",""),this.loaderTimeout=a(w,"loader.timeout",0),this.loaderWithCredentials=a(w,"loader.withCredentials",!1),this.loaderImageLoadType=a(w,"loader.imageLoadType","XHR"),this.loaderLocalScheme=a(w,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=a(w,"fx.glow.quality",.1),this.glowFXDistance=a(w,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var I=a(w,"plugins",null),B=c.DefaultScene;I&&(Array.isArray(I)?this.defaultPlugins=I:f(I)&&(this.installGlobalPlugins=h(I,"global",[]),this.installScenePlugins=h(I,"scene",[]),Array.isArray(I.default)?B=I.default:Array.isArray(I.defaultMerge)&&(B=B.concat(I.defaultMerge)))),this.defaultPlugins=B;var M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(w,"images.default",M+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(w,"images.missing",M+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(w,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=m.WEBGL:window.FORCE_CANVAS&&(this.renderType=m.CANVAS))}});s.exports=x},86054:(s,g,i)=>{var o=i(20623),m=i(27919),c=i(8054),l=i(89357),h=function(a){var f=a.config;if((f.customEnvironment||f.canvas)&&f.renderType===c.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!f.customEnvironment&&!f.canvas&&f.renderType!==c.HEADLESS)if(f.renderType===c.AUTO&&(f.renderType=l.webGL?c.WEBGL:c.CANVAS),f.renderType===c.WEBGL){if(!l.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(f.renderType===c.CANVAS){if(!l.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+f.renderType);f.antialias||m.disableSmoothing();var p=a.scale.baseSize,u=p.width,v=p.height;if(f.canvas?(a.canvas=f.canvas,a.canvas.width=u,a.canvas.height=v):a.canvas=m.create(a,u,v,f.renderType),f.canvasStyle&&(a.canvas.style=f.canvasStyle),f.antialias||o.setCrisp(a.canvas),f.renderType!==c.HEADLESS){var y,x;y=i(68627),x=i(74797),f.renderType===c.WEBGL?a.renderer=new x(a):(a.renderer=new y(a),a.context=a.renderer.gameContext)}};s.exports=h},96391:(s,g,i)=>{var o=i(8054),m=function(c){var l=c.config;if(!l.hideBanner){var h="WebGL";l.renderType===o.CANVAS?h="Canvas":l.renderType===o.HEADLESS&&(h="Headless");var a=l.audio,f=c.device.audio,p;if(f.webAudio&&!a.disableWebAudio?p="Web Audio":a.noAudio||!f.webAudio&&!f.audioData?p="No Audio":p="HTML5 Audio",c.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var u="",v=[u];if(Array.isArray(l.bannerBackgroundColor)){var y;l.bannerBackgroundColor.forEach(function(b){u=u.concat("%c "),v.push("background: "+b),y=b}),v[v.length-1]="color: "+l.bannerTextColor+"; background: "+y}else u=u.concat("%c "),v.push("color: "+l.bannerTextColor+"; background: "+l.bannerBackgroundColor);v.push("background: transparent"),l.gameTitle&&(u=u.concat(l.gameTitle),l.gameVersion&&(u=u.concat(" v"+l.gameVersion)),l.hidePhaser||(u=u.concat(" / ")));var x="";l.hidePhaser||(u=u.concat("Phaser v"+o.VERSION+x+" ("+h+" | "+p+")")),u=u.concat(" %c "+l.gameURL),v[0]=u,console.log.apply(console,v)}}};s.exports=m},50127:(s,g,i)=>{var o=i(40366),m=i(60848),c=i(24047),l=i(27919),h=i(83419),a=i(69547),f=i(83719),p=i(86054),u=i(45893),v=i(96391),y=i(82264),x=i(57264),b=i(50792),w=i(8443),C=i(7003),E=i(37277),T=i(77332),k=i(76531),A=i(60903),I=i(69442),B=i(17130),M=i(65898),O=i(51085),P=i(14747),L=new h({initialize:function(G){this.config=new a(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new b,this.anims=new m(this),this.textures=new B(this),this.cache=new c(this),this.registry=new u(this,new b),this.input=new C(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=y,this.scale=new k(this,this.config),this.sound=null,this.sound=P.create(this),this.loop=new M(this,this.config.fps),this.plugins=new T(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,x(this.boot.bind(this))},boot:function(){if(!E.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),p(this),f(this),v(this),o(this.canvas,this.config.parent),this.textures.once(I.READY,this.texturesReady,this),this.events.emit(w.BOOT)},texturesReady:function(){this.events.emit(w.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),O(this);var _=this.events;_.on(w.HIDDEN,this.onHidden,this),_.on(w.VISIBLE,this.onVisible,this),_.on(w.BLUR,this.onBlur,this),_.on(w.FOCUS,this.onFocus,this)},step:function(_,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var $=this.events;$.emit(w.PRE_STEP,_,G),$.emit(w.STEP,_,G),this.scene.update(_,G),$.emit(w.POST_STEP,_,G);var W=this.renderer;W.preRender(),$.emit(w.PRE_RENDER,W,_,G),this.scene.render(W),W.postRender(),$.emit(w.POST_RENDER,W,_,G)}},headlessStep:function(_,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var $=this.events;$.emit(w.PRE_STEP,_,G),$.emit(w.STEP,_,G),this.scene.update(_,G),$.emit(w.POST_STEP,_,G),this.scene.isProcessing=!1,$.emit(w.PRE_RENDER,null,_,G),$.emit(w.POST_RENDER,null,_,G)}},onHidden:function(){this.loop.pause(),this.events.emit(w.PAUSE)},pause:function(){var _=this.isPaused;this.isPaused=!0,_||this.events.emit(w.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(w.RESUME)},resume:function(){var _=this.isPaused;this.isPaused=!1,_&&this.events.emit(w.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(_,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=_,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(w.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(l.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});s.exports=L},65898:(s,g,i)=>{var o=i(83419),m=i(35154),c=i(29747),l=i(43092),h=new o({initialize:function(f,p){this.game=f,this.raf=new l,this.started=!1,this.running=!1,this.minFps=m(p,"min",5),this.targetFps=m(p,"target",60),this.fpsLimit=m(p,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=c,this.forceSetTimeOut=m(p,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=m(p,"deltaHistory",10),this.panicMax=m(p,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=m(p,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var a=window.performance.now();this.time=a,this.lastTime=a,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=Math.min(this._target,this.deltaHistory[f]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(a){if(this.started)return this;this.started=!0,this.running=!0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=a;var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target)},smoothDelta:function(a){var f=this.deltaIndex,p=this.deltaHistory,u=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=p[f],a=Math.min(a,this._min)),p[f]=a,this.deltaIndex++,this.deltaIndex>=u&&(this.deltaIndex=0);for(var v=0,y=0;y<u;y++)v+=p[y];return v/=u,v},updateFPS:function(a){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0},stepLimitFPS:function(a){this.now=a;var f=Math.max(0,a-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta+=f,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(a,this.delta),this.delta=0),this.lastTime=a,this.frame++},step:function(a){this.now=a;var f=Math.max(0,a-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta=f,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.callback(a,f),this.lastTime=a,this.frame++},tick:function(){var a=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(a):this.step(a)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(a){a===void 0&&(a=!1);var f=window.performance.now();if(!this.running){a&&(this.startTime+=-this.lastTime+(this.lastTime+f));var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=f+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});s.exports=h},51085:(s,g,i)=>{var o=i(8443),m=function(c){var l,h=c.events;if(document.hidden!==void 0)l="visibilitychange";else{var a=["webkit","moz","ms"];a.forEach(function(p){document[p+"Hidden"]!==void 0&&(document.hidden=function(){return document[p+"Hidden"]},l=p+"visibilitychange")})}var f=function(p){document.hidden||p.type==="pause"?h.emit(o.HIDDEN):h.emit(o.VISIBLE)};l&&document.addEventListener(l,f,!1),window.onblur=function(){h.emit(o.BLUR)},window.onfocus=function(){h.emit(o.FOCUS)},window.focus&&c.config.autoFocus&&window.focus()};s.exports=m},97217:s=>{s.exports="blur"},47548:s=>{s.exports="boot"},19814:s=>{s.exports="contextlost"},68446:s=>{s.exports="destroy"},41700:s=>{s.exports="focus"},25432:s=>{s.exports="hidden"},65942:s=>{s.exports="pause"},59211:s=>{s.exports="postrender"},47789:s=>{s.exports="poststep"},39066:s=>{s.exports="prerender"},460:s=>{s.exports="prestep"},16175:s=>{s.exports="ready"},42331:s=>{s.exports="resume"},11966:s=>{s.exports="step"},32969:s=>{s.exports="systemready"},94830:s=>{s.exports="visible"},8443:(s,g,i)=>{s.exports={BLUR:i(97217),BOOT:i(47548),CONTEXT_LOST:i(19814),DESTROY:i(68446),FOCUS:i(41700),HIDDEN:i(25432),PAUSE:i(65942),POST_RENDER:i(59211),POST_STEP:i(47789),PRE_RENDER:i(39066),PRE_STEP:i(460),READY:i(16175),RESUME:i(42331),STEP:i(11966),SYSTEM_READY:i(32969),VISIBLE:i(94830)}},42857:(s,g,i)=>{s.exports={Config:i(69547),CreateRenderer:i(86054),DebugHeader:i(96391),Events:i(8443),TimeStep:i(65898),VisibilityHandler:i(51085)}},99584:(s,g,i)=>{var o=i(5290),m=i(27919),c=i(35154),l=function(h){var a=c(h,"data",[]),f=c(h,"canvas",null),p=c(h,"palette",o),u=c(h,"pixelWidth",1),v=c(h,"pixelHeight",u),y=c(h,"resizeCanvas",!0),x=c(h,"clearCanvas",!0),b=c(h,"preRender",null),w=c(h,"postRender",null),C=Math.floor(Math.abs(a[0].length*u)),E=Math.floor(Math.abs(a.length*v));f||(f=m.create2D(this,C,E),y=!1,x=!1),y&&(f.width=C,f.height=E);var T=f.getContext("2d",{willReadFrequently:!0});x&&T.clearRect(0,0,C,E),b&&b(f,T);for(var k=0;k<a.length;k++)for(var A=a[k],I=0;I<A.length;I++){var B=A[I];B!=="."&&B!==" "&&(T.fillStyle=p[B],T.fillRect(I*u,k*v,u,v))}return w&&w(f,T),f};s.exports=l},15822:(s,g,i)=>{s.exports={GenerateTexture:i(99584),Palettes:i(57763)}},5290:s=>{s.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:s=>{s.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:s=>{s.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:s=>{s.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:s=>{s.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(s,g,i)=>{s.exports={ARNE16:i(5290),C64:i(23816),CGA:i(9866),JMP:i(77552),MSX:i(92259)}},46728:(s,g,i)=>{var o=i(83419),m=i(36316),c=i(80021),l=i(26099),h=new o({Extends:c,initialize:function(f,p,u,v){c.call(this,"CubicBezierCurve"),Array.isArray(f)&&(v=new l(f[6],f[7]),u=new l(f[4],f[5]),p=new l(f[2],f[3]),f=new l(f[0],f[1])),this.p0=f,this.p1=p,this.p2=u,this.p3=v},getStartPoint:function(a){return a===void 0&&(a=new l),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,f){f===void 0&&(f=new l);var p=this.p0,u=this.p1,v=this.p2,y=this.p3;return f.set(m(a,p.x,u.x,v.x,y.x),m(a,p.y,u.y,v.y,y.y))},draw:function(a,f){f===void 0&&(f=32);var p=this.getPoints(f);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var u=1;u<p.length;u++)a.lineTo(p[u].x,p[u].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});h.fromJSON=function(a){var f=a.points,p=new l(f[0],f[1]),u=new l(f[2],f[3]),v=new l(f[4],f[5]),y=new l(f[6],f[7]);return new h(p,u,v,y)},s.exports=h},80021:(s,g,i)=>{var o=i(83419),m=i(19217),c=i(87841),l=i(26099),h=new o({initialize:function(f){this.type=f,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new l,this._tmpVec2B=new l},draw:function(a,f){return f===void 0&&(f=32),a.strokePoints(this.getPoints(f))},getBounds:function(a,f){a||(a=new c),f===void 0&&(f=16);var p=this.getLength();f>p&&(f=p/2);var u=Math.max(1,Math.round(p/f));return m(this.getSpacedPoints(u),a)},getDistancePoints:function(a){var f=this.getLength(),p=Math.max(1,f/a);return this.getSpacedPoints(p)},getEndPoint:function(a){return a===void 0&&(a=new l),this.getPointAt(1,a)},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){if(a===void 0&&(a=this.arcLengthDivisions),this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var f=[],p,u=this.getPoint(0,this._tmpVec2A),v=0;f.push(0);for(var y=1;y<=a;y++)p=this.getPoint(y/a,this._tmpVec2B),v+=p.distance(u),f.push(v),u.copy(p);return this.cacheArcLengths=f,f},getPointAt:function(a,f){var p=this.getUtoTmapping(a);return this.getPoint(p,f)},getPoints:function(a,f,p){p===void 0&&(p=[]),a||(f?a=this.getLength()/f:a=this.defaultDivisions);for(var u=0;u<=a;u++)p.push(this.getPoint(u/a));return p},getRandomPoint:function(a){return a===void 0&&(a=new l),this.getPoint(Math.random(),a)},getSpacedPoints:function(a,f,p){p===void 0&&(p=[]),a||(f?a=this.getLength()/f:a=this.defaultDivisions);for(var u=0;u<=a;u++){var v=this.getUtoTmapping(u/a,null,a);p.push(this.getPoint(v))}return p},getStartPoint:function(a){return a===void 0&&(a=new l),this.getPointAt(0,a)},getTangent:function(a,f){f===void 0&&(f=new l);var p=1e-4,u=a-p,v=a+p;return u<0&&(u=0),v>1&&(v=1),this.getPoint(u,this._tmpVec2A),this.getPoint(v,f),f.subtract(this._tmpVec2A).normalize()},getTangentAt:function(a,f){var p=this.getUtoTmapping(a);return this.getTangent(p,f)},getTFromDistance:function(a,f){return a<=0?0:this.getUtoTmapping(0,a,f)},getUtoTmapping:function(a,f,p){var u=this.getLengths(p),v=0,y=u.length,x;f?x=Math.min(f,u[y-1]):x=a*u[y-1];for(var b=0,w=y-1,C;b<=w;)if(v=Math.floor(b+(w-b)/2),C=u[v]-x,C<0)b=v+1;else if(C>0)w=v-1;else{w=v;break}if(v=w,u[v]===x)return v/(y-1);var E=u[v],T=u[v+1],k=T-E,A=(x-E)/k;return(v+A)/(y-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});s.exports=h},73825:(s,g,i)=>{var o=i(83419),m=i(80021),c=i(39506),l=i(35154),h=i(43396),a=i(26099),f=new o({Extends:m,initialize:function(u,v,y,x,b,w,C,E){if(typeof u=="object"){var T=u;u=l(T,"x",0),v=l(T,"y",0),y=l(T,"xRadius",0),x=l(T,"yRadius",y),b=l(T,"startAngle",0),w=l(T,"endAngle",360),C=l(T,"clockwise",!1),E=l(T,"rotation",0)}else x===void 0&&(x=y),b===void 0&&(b=0),w===void 0&&(w=360),C===void 0&&(C=!1),E===void 0&&(E=0);m.call(this,"EllipseCurve"),this.p0=new a(u,v),this._xRadius=y,this._yRadius=x,this._startAngle=c(b),this._endAngle=c(w),this._clockwise=C,this._rotation=c(E)},getStartPoint:function(p){return p===void 0&&(p=new a),this.getPoint(0,p)},getResolution:function(p){return p*2},getPoint:function(p,u){u===void 0&&(u=new a);for(var v=Math.PI*2,y=this._endAngle-this._startAngle,x=Math.abs(y)<Number.EPSILON;y<0;)y+=v;for(;y>v;)y-=v;y<Number.EPSILON&&(x?y=0:y=v),this._clockwise&&!x&&(y===v?y=-v:y=y-v);var b=this._startAngle+p*y,w=this.p0.x+this._xRadius*Math.cos(b),C=this.p0.y+this._yRadius*Math.sin(b);if(this._rotation!==0){var E=Math.cos(this._rotation),T=Math.sin(this._rotation),k=w-this.p0.x,A=C-this.p0.y;w=k*E-A*T+this.p0.x,C=k*T+A*E+this.p0.y}return u.set(w,C)},setXRadius:function(p){return this.xRadius=p,this},setYRadius:function(p){return this.yRadius=p,this},setWidth:function(p){return this.xRadius=p/2,this},setHeight:function(p){return this.yRadius=p/2,this},setStartAngle:function(p){return this.startAngle=p,this},setEndAngle:function(p){return this.endAngle=p,this},setClockwise:function(p){return this.clockwise=p,this},setRotation:function(p){return this.rotation=p,this},x:{get:function(){return this.p0.x},set:function(p){this.p0.x=p}},y:{get:function(){return this.p0.y},set:function(p){this.p0.y=p}},xRadius:{get:function(){return this._xRadius},set:function(p){this._xRadius=p}},yRadius:{get:function(){return this._yRadius},set:function(p){this._yRadius=p}},startAngle:{get:function(){return h(this._startAngle)},set:function(p){this._startAngle=c(p)}},endAngle:{get:function(){return h(this._endAngle)},set:function(p){this._endAngle=c(p)}},clockwise:{get:function(){return this._clockwise},set:function(p){this._clockwise=p}},angle:{get:function(){return h(this._rotation)},set:function(p){this._rotation=c(p)}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:h(this._startAngle),endAngle:h(this._endAngle),clockwise:this._clockwise,rotation:h(this._rotation)}}});f.fromJSON=function(p){return new f(p)},s.exports=f},33951:(s,g,i)=>{var o=i(83419),m=i(80021),c=i(19217),l=i(87841),h=i(26099),a=new o({Extends:m,initialize:function(p,u){m.call(this,"LineCurve"),Array.isArray(p)&&(u=new h(p[2],p[3]),p=new h(p[0],p[1])),this.p0=p,this.p1=u,this.arcLengthDivisions=1},getBounds:function(f){return f===void 0&&(f=new l),c([this.p0,this.p1],f)},getStartPoint:function(f){return f===void 0&&(f=new h),f.copy(this.p0)},getResolution:function(f){return f===void 0&&(f=1),f},getPoint:function(f,p){return p===void 0&&(p=new h),f===1?p.copy(this.p1):(p.copy(this.p1).subtract(this.p0).scale(f).add(this.p0),p)},getPointAt:function(f,p){return this.getPoint(f,p)},getTangent:function(f,p){return p===void 0&&(p=new h),p.copy(this.p1).subtract(this.p0).normalize(),p},getUtoTmapping:function(f,p,u){var v;if(p){var y=this.getLengths(u),x=y[y.length-1],b=Math.min(p,x);v=b/x}else v=f;return v},draw:function(f){return f.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),f},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});a.fromJSON=function(f){var p=f.points,u=new h(p[0],p[1]),v=new h(p[2],p[3]);return new a(u,v)},s.exports=a},14744:(s,g,i)=>{var o=i(83419),m=i(80021),c=i(32112),l=i(26099),h=new o({Extends:m,initialize:function(f,p,u){m.call(this,"QuadraticBezierCurve"),Array.isArray(f)&&(u=new l(f[4],f[5]),p=new l(f[2],f[3]),f=new l(f[0],f[1])),this.p0=f,this.p1=p,this.p2=u},getStartPoint:function(a){return a===void 0&&(a=new l),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,f){f===void 0&&(f=new l);var p=this.p0,u=this.p1,v=this.p2;return f.set(c(a,p.x,u.x,v.x),c(a,p.y,u.y,v.y))},draw:function(a,f){f===void 0&&(f=32);var p=this.getPoints(f);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var u=1;u<p.length;u++)a.lineTo(p[u].x,p[u].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});h.fromJSON=function(a){var f=a.points,p=new l(f[0],f[1]),u=new l(f[2],f[3]),v=new l(f[4],f[5]);return new h(p,u,v)},s.exports=h},42534:(s,g,i)=>{var o=i(87842),m=i(83419),c=i(80021),l=i(26099),h=new m({Extends:c,initialize:function(f){f===void 0&&(f=[]),c.call(this,"SplineCurve"),this.points=[],this.addPoints(f)},addPoints:function(a){for(var f=0;f<a.length;f++){var p=new l;typeof a[f]=="number"?(p.x=a[f],p.y=a[f+1],f++):Array.isArray(a[f])?(p.x=a[f][0],p.y=a[f][1]):(p.x=a[f].x,p.y=a[f].y),this.points.push(p)}return this},addPoint:function(a,f){var p=new l(a,f);return this.points.push(p),p},getStartPoint:function(a){return a===void 0&&(a=new l),a.copy(this.points[0])},getResolution:function(a){return a*this.points.length},getPoint:function(a,f){f===void 0&&(f=new l);var p=this.points,u=(p.length-1)*a,v=Math.floor(u),y=u-v,x=p[v===0?v:v-1],b=p[v],w=p[v>p.length-2?p.length-1:v+1],C=p[v>p.length-3?p.length-1:v+2];return f.set(o(y,x.x,b.x,w.x,C.x),o(y,x.y,b.y,w.y,C.y))},toJSON:function(){for(var a=[],f=0;f<this.points.length;f++)a.push(this.points[f].x),a.push(this.points[f].y);return{type:this.type,points:a}}});h.fromJSON=function(a){return new h(a.points)},s.exports=h},25410:(s,g,i)=>{s.exports={Path:i(46669),MoveTo:i(68618),CubicBezier:i(46728),Curve:i(80021),Ellipse:i(73825),Line:i(33951),QuadraticBezier:i(14744),Spline:i(42534)}},68618:(s,g,i)=>{var o=i(83419),m=i(26099),c=new o({initialize:function(h,a){this.active=!1,this.p0=new m(h,a)},getPoint:function(l,h){return h===void 0&&(h=new m),h.copy(this.p0)},getPointAt:function(l,h){return this.getPoint(l,h)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});s.exports=c},46669:(s,g,i)=>{var o=i(83419),m=i(46728),c=i(73825),l=i(39429),h=i(33951),a=i(68618),f=i(14744),p=i(87841),u=i(42534),v=i(26099),y=i(36383),x=new o({initialize:function(w,C){w===void 0&&(w=0),C===void 0&&(C=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new v,this._tmpVec2A=new v,this._tmpVec2B=new v,typeof w=="object"?this.fromJSON(w):this.startPoint.set(w,C)},add:function(b){return this.curves.push(b),this},circleTo:function(b,w,C){return w===void 0&&(w=!1),this.ellipseTo(b,b,0,360,w,C)},closePath:function(){var b=this.curves[0].getPoint(0),w=this.curves[this.curves.length-1].getPoint(1);return b.equals(w)||this.curves.push(new h(w,b)),this},cubicBezierTo:function(b,w,C,E,T,k){var A=this.getEndPoint(),I,B,M;return b instanceof v?(I=b,B=w,M=C):(I=new v(C,E),B=new v(T,k),M=new v(b,w)),this.add(new m(A,I,B,M))},quadraticBezierTo:function(b,w,C,E){var T=this.getEndPoint(),k,A;return b instanceof v?(k=b,A=w):(k=new v(C,E),A=new v(b,w)),this.add(new f(T,k,A))},draw:function(b,w){for(var C=0;C<this.curves.length;C++){var E=this.curves[C];E.active&&E.draw(b,w)}return b},ellipseTo:function(b,w,C,E,T,k){var A=new c(0,0,b,w,C,E,T,k),I=this.getEndPoint(this._tmpVec2A),B=A.getStartPoint(this._tmpVec2B);return I.subtract(B),A.x=I.x,A.y=I.y,this.add(A)},fromJSON:function(b){this.curves=[],this.cacheLengths=[],this.startPoint.set(b.x,b.y),this.autoClose=b.autoClose;for(var w=0;w<b.curves.length;w++){var C=b.curves[w];switch(C.type){case"LineCurve":this.add(h.fromJSON(C));break;case"EllipseCurve":this.add(c.fromJSON(C));break;case"SplineCurve":this.add(u.fromJSON(C));break;case"CubicBezierCurve":this.add(m.fromJSON(C));break;case"QuadraticBezierCurve":this.add(f.fromJSON(C));break}}return this},getBounds:function(b,w){b===void 0&&(b=new p),w===void 0&&(w=16),b.x=Number.MAX_VALUE,b.y=Number.MAX_VALUE;for(var C=new p,E=y.MIN_SAFE_INTEGER,T=y.MIN_SAFE_INTEGER,k=0;k<this.curves.length;k++){var A=this.curves[k];A.active&&(A.getBounds(C,w),b.x=Math.min(b.x,C.x),b.y=Math.min(b.y,C.y),E=Math.max(E,C.right),T=Math.max(T,C.bottom))}return b.right=E,b.bottom=T,b},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var b=[],w=0,C=0;C<this.curves.length;C++)w+=this.curves[C].getLength(),b.push(w);return this.cacheLengths=b,b},getCurveAt:function(b){for(var w=b*this.getLength(),C=this.getCurveLengths(),E=0;E<C.length;){if(C[E]>=w)return this.curves[E];E++}return null},getEndPoint:function(b){return b===void 0&&(b=new v),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,b):b.copy(this.startPoint),b},getLength:function(){var b=this.getCurveLengths();return b[b.length-1]},getPoint:function(b,w){w===void 0&&(w=new v);for(var C=b*this.getLength(),E=this.getCurveLengths(),T=0;T<E.length;){if(E[T]>=C){var k=E[T]-C,A=this.curves[T],I=A.getLength(),B=I===0?0:1-k/I;return A.getPointAt(B,w)}T++}return null},getPoints:function(b,w){!b&&!w&&(b=this.defaultDivisions);for(var C=[],E,T=0;T<this.curves.length;T++){var k=this.curves[T];if(k.active)for(var A=k.getResolution(b),I=k.getPoints(A,w),B=0;B<I.length;B++){var M=I[B];E&&E.equals(M)||(C.push(M),E=M)}}return this.autoClose&&C.length>1&&!C[C.length-1].equals(C[0])&&C.push(C[0]),C},getRandomPoint:function(b){return b===void 0&&(b=new v),this.getPoint(Math.random(),b)},getSpacedPoints:function(b){b===void 0&&(b=40);for(var w=[],C=0;C<=b;C++)w.push(this.getPoint(C/b));return this.autoClose&&w.push(w[0]),w},getStartPoint:function(b){return b===void 0&&(b=new v),b.copy(this.startPoint)},getTangent:function(b,w){w===void 0&&(w=new v);for(var C=b*this.getLength(),E=this.getCurveLengths(),T=0;T<E.length;){if(E[T]>=C){var k=E[T]-C,A=this.curves[T],I=A.getLength(),B=I===0?0:1-k/I;return A.getTangentAt(B,w)}T++}return null},lineTo:function(b,w){b instanceof v?this._tmpVec2B.copy(b):typeof b=="object"?this._tmpVec2B.setFromObject(b):this._tmpVec2B.set(b,w);var C=this.getEndPoint(this._tmpVec2A);return this.add(new h([C.x,C.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(b){return b.unshift(this.getEndPoint()),this.add(new u(b))},moveTo:function(b,w){return b instanceof v?this.add(new a(b.x,b.y)):this.add(new a(b,w))},toJSON:function(){for(var b=[],w=0;w<this.curves.length;w++)b.push(this.curves[w].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:b}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});l.register("path",function(b,w){return new x(b,w)}),s.exports=x},45893:(s,g,i)=>{var o=i(83419),m=i(24882),c=new o({initialize:function(h,a){this.parent=h,this.events=a,a||(this.events=h.events?h.events:h),this.list={},this.values={},this._frozen=!1,!h.hasOwnProperty("sys")&&this.events&&this.events.once(m.DESTROY,this.destroy,this)},get:function(l){var h=this.list;if(Array.isArray(l)){for(var a=[],f=0;f<l.length;f++)a.push(h[l[f]]);return a}else return h[l]},getAll:function(){var l={};for(var h in this.list)this.list.hasOwnProperty(h)&&(l[h]=this.list[h]);return l},query:function(l){var h={};for(var a in this.list)this.list.hasOwnProperty(a)&&a.match(l)&&(h[a]=this.list[a]);return h},set:function(l,h){if(this._frozen)return this;if(typeof l=="string")return this.setValue(l,h);for(var a in l)this.setValue(a,l[a]);return this},inc:function(l,h){if(this._frozen)return this;h===void 0&&(h=1);var a=this.get(l);return a===void 0&&(a=0),this.set(l,a+h),this},toggle:function(l){return this._frozen?this:(this.set(l,!this.get(l)),this)},setValue:function(l,h){if(this._frozen)return this;if(this.has(l))this.values[l]=h;else{var a=this,f=this.list,p=this.events,u=this.parent;Object.defineProperty(this.values,l,{enumerable:!0,configurable:!0,get:function(){return f[l]},set:function(v){if(!a._frozen){var y=f[l];f[l]=v,p.emit(m.CHANGE_DATA,u,l,v,y),p.emit(m.CHANGE_DATA_KEY+l,u,v,y)}}}),f[l]=h,p.emit(m.SET_DATA,u,l,h)}return this},each:function(l,h){for(var a=[this.parent,null,void 0],f=1;f<arguments.length;f++)a.push(arguments[f]);for(var p in this.list)a[1]=p,a[2]=this.list[p],l.apply(h,a);return this},merge:function(l,h){h===void 0&&(h=!0);for(var a in l)l.hasOwnProperty(a)&&(h||!h&&!this.has(a))&&this.setValue(a,l[a]);return this},remove:function(l){if(this._frozen)return this;if(Array.isArray(l))for(var h=0;h<l.length;h++)this.removeValue(l[h]);else return this.removeValue(l);return this},removeValue:function(l){if(this.has(l)){var h=this.list[l];delete this.list[l],delete this.values[l],this.events.emit(m.REMOVE_DATA,this.parent,l,h)}return this},pop:function(l){var h=void 0;return!this._frozen&&this.has(l)&&(h=this.list[l],delete this.list[l],delete this.values[l],this.events.emit(m.REMOVE_DATA,this.parent,l,h)),h},has:function(l){return this.list.hasOwnProperty(l)},setFreeze:function(l){return this._frozen=l,this},reset:function(){for(var l in this.list)delete this.list[l],delete this.values[l];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(m.CHANGE_DATA),this.events.off(m.SET_DATA),this.events.off(m.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(l){this._frozen=!!l}},count:{get:function(){var l=0;for(var h in this.list)this.list[h]!==void 0&&l++;return l}}});s.exports=c},63646:(s,g,i)=>{var o=i(83419),m=i(45893),c=i(37277),l=i(44594),h=new o({Extends:m,initialize:function(f){m.call(this,f,f.sys.events),this.scene=f,this.systems=f.sys,f.sys.events.once(l.BOOT,this.boot,this),f.sys.events.on(l.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){m.prototype.destroy.call(this),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});c.register("DataManagerPlugin",h,"data"),s.exports=h},10700:s=>{s.exports="changedata"},93608:s=>{s.exports="changedata-"},60883:s=>{s.exports="destroy"},69780:s=>{s.exports="removedata"},22166:s=>{s.exports="setdata"},24882:(s,g,i)=>{s.exports={CHANGE_DATA:i(10700),CHANGE_DATA_KEY:i(93608),DESTROY:i(60883),REMOVE_DATA:i(69780),SET_DATA:i(22166)}},44965:(s,g,i)=>{s.exports={DataManager:i(45893),DataManagerPlugin:i(63646),Events:i(24882)}},7098:(s,g,i)=>{var o=i(84148),m={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function c(){if(typeof importScripts=="function")return m;m.audioData=!!window.Audio,m.webAudio=!!(window.AudioContext||window.webkitAudioContext);var l=document.createElement("audio"),h=!!l.canPlayType;try{if(h){var a=function(u,v){var y=l.canPlayType("audio/"+u).replace(/^no$/,"");return v?!!(y||l.canPlayType("audio/"+v).replace(/^no$/,"")):!!y};if(m.ogg=a('ogg; codecs="vorbis"'),m.opus=a('ogg; codecs="opus"',"opus"),m.mp3=a("mpeg"),m.wav=a("wav"),m.m4a=a("x-m4a"),m.aac=a("aac"),m.flac=a("flac","x-flac"),m.webm=a('webm; codecs="vorbis"'),l.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)m.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var f=parseInt(RegExp.$1,10),p=parseInt(RegExp.$2,10);(f===10&&p>=11||f>10)&&(m.dolby=!0)}}}}catch(u){}return m}s.exports=c()},84148:(s,g,i)=>{var o=i(25892),m={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function c(){var l=navigator.userAgent;return/Edg\/\d+/.test(l)?(m.edge=!0,m.es2019=!0):/OPR/.test(l)?(m.opera=!0,m.es2019=!0):/Chrome\/(\d+)/.test(l)&&!o.windowsPhone?(m.chrome=!0,m.chromeVersion=parseInt(RegExp.$1,10),m.es2019=m.chromeVersion>69):/Firefox\D+(\d+)/.test(l)?(m.firefox=!0,m.firefoxVersion=parseInt(RegExp.$1,10),m.es2019=m.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(l)&&o.iOS?(m.mobileSafari=!0,m.es2019=!0):/MSIE (\d+\.\d+);/.test(l)?(m.ie=!0,m.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(l)&&!o.windowsPhone?(m.safari=!0,m.safariVersion=parseInt(RegExp.$1,10),m.es2019=m.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(l)&&(m.ie=!0,m.trident=!0,m.tridentVersion=parseInt(RegExp.$1,10),m.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(l)&&(m.silk=!0),m}s.exports=c()},89289:(s,g,i)=>{var o=i(27919),m={supportInverseAlpha:!1,supportNewBlendModes:!1};function c(){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",f="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",p=new Image;return p.onload=function(){var u=new Image;u.onload=function(){var v=o.create2D(u,6),y=v.getContext("2d",{willReadFrequently:!0});if(y.globalCompositeOperation="multiply",y.drawImage(p,0,0),y.drawImage(u,2,0),!y.getImageData(2,0,1,1))return!1;var x=y.getImageData(2,0,1,1).data;o.remove(u),m.supportNewBlendModes=x[0]===255&&x[1]===0&&x[2]===0},u.src=a+"/wCKxvRF"+f},p.src=a+"AP804Oa6"+f,!1}function l(){var a=o.create2D(this,2),f=a.getContext("2d",{willReadFrequently:!0});f.fillStyle="rgba(10, 20, 30, 0.5)",f.fillRect(0,0,1,1);var p=f.getImageData(0,0,1,1);if(p===null)return!1;f.putImageData(p,1,0);var u=f.getImageData(1,0,1,1),v=u.data[0]===p.data[0]&&u.data[1]===p.data[1]&&u.data[2]===p.data[2]&&u.data[3]===p.data[3];return o.remove(this),v}function h(){return typeof importScripts!="function"&&document!==void 0&&(m.supportNewBlendModes=c(),m.supportInverseAlpha=l()),m}s.exports=h()},89357:(s,g,i)=>{var o=i(25892),m=i(84148),c=i(27919),l={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function h(){var f=new ArrayBuffer(4),p=new Uint8Array(f),u=new Uint32Array(f);return p[0]=161,p[1]=178,p[2]=195,p[3]=212,u[0]===3569595041?!0:u[0]===2712847316?!1:null}function a(){if(typeof importScripts=="function")return l;l.canvas=!!window.CanvasRenderingContext2D;try{l.localStorage=!!localStorage.getItem}catch(u){l.localStorage=!1}l.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,l.fileSystem=!!window.requestFileSystem;var f=!1,p=function(){if(window.WebGLRenderingContext)try{var u=c.createWebGL(this),v=u.getContext("webgl")||u.getContext("experimental-webgl"),y=c.create2D(this),x=y.getContext("2d",{willReadFrequently:!0}),b=x.createImageData(1,1);return f=b.data instanceof Uint8ClampedArray,c.remove(u),c.remove(y),!!v}catch(w){return!1}return!1};return l.webGL=p(),l.worker=!!window.Worker,l.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,l.getUserMedia=l.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,m.firefox&&m.firefoxVersion<21&&(l.getUserMedia=!1),!o.iOS&&(m.ie||m.firefox||m.chrome)&&(l.canvasBitBltShift=!0),(m.safari||m.mobileSafari)&&(l.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(l.vibration=!0),typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint32Array!="undefined"&&(l.littleEndian=h()),l.support32bit=typeof ArrayBuffer!="undefined"&&typeof Uint8ClampedArray!="undefined"&&typeof Int32Array!="undefined"&&l.littleEndian!==null&&f,l}s.exports=a()},91639:s=>{var g={available:!1,cancel:"",keyboard:!1,request:""};function i(){if(typeof importScripts=="function")return g;var o,m="Fullscreen",c="FullScreen",l=["request"+m,"request"+c,"webkitRequest"+m,"webkitRequest"+c,"msRequest"+m,"msRequest"+c,"mozRequest"+c,"mozRequest"+m];for(o=0;o<l.length;o++)if(document.documentElement[l[o]]){g.available=!0,g.request=l[o];break}var h=["cancel"+c,"exit"+m,"webkitCancel"+c,"webkitExit"+m,"msCancel"+c,"msExit"+m,"mozCancel"+c,"mozExit"+m];if(g.available){for(o=0;o<h.length;o++)if(document[h[o]]){g.cancel=h[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(g.keyboard=!0),Object.defineProperty(g,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),g}s.exports=i()},31784:(s,g,i)=>{var o=i(84148),m={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function c(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(m.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(m.mspointer=!0),navigator.getGamepads&&(m.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?m.wheelEvent="wheel":"onmousewheel"in window?m.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(m.wheelEvent="DOMMouseScroll")),m}s.exports=c()},25892:s=>{var g={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){if(typeof importScripts=="function")return g;var o=navigator.userAgent;/Windows/.test(o)?g.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(g.iOS=!0,g.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),g.iOSVersion=parseInt(RegExp.$1,10)):g.macOS=!0:/Android/.test(o)?g.android=!0:/Linux/.test(o)?g.linux=!0:/iP[ao]d|iPhone/i.test(o)?(g.iOS=!0,navigator.appVersion.match(/OS (\d+)/),g.iOSVersion=parseInt(RegExp.$1,10),g.iPhone=o.toLowerCase().indexOf("iphone")!==-1,g.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?g.kindle=!0:/CrOS/.test(o)&&(g.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(g.android=!1,g.iOS=!1,g.macOS=!1,g.windows=!0,g.windowsPhone=!0);var m=/Silk/.test(o);return(g.windows||g.macOS||g.linux&&!m||g.chromeOS)&&(g.desktop=!0),(g.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(g.desktop=!1),navigator.standalone&&(g.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(g.cordova=!0),window.ejecta!==void 0&&(g.ejecta=!0)),typeof hr!="undefined"&&hr.versions&&hr.versions.node&&(g.node=!0),g.node&&typeof hr.versions=="object"&&(g.nodeWebkit=!!hr.versions["node-webkit"],g.electron=!!hr.versions.electron),/Crosswalk/.test(o)&&(g.crosswalk=!0),g.pixelRatio=window.devicePixelRatio||1,g}s.exports=i()},43267:(s,g,i)=>{var o=i(95540),m={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function c(){if(typeof importScripts=="function")return m;var l=document.createElement("video"),h=!!l.canPlayType,a=/^no$/;try{h&&(l.canPlayType('video/ogg; codecs="theora"').replace(a,"")&&(m.ogg=!0),l.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(a,"")&&(m.h264=!0,m.mp4=!0),l.canPlayType("video/x-m4v").replace(a,"")&&(m.m4v=!0),l.canPlayType('video/webm; codecs="vp8, vorbis"').replace(a,"")&&(m.webm=!0),l.canPlayType('video/webm; codecs="vp9"').replace(a,"")&&(m.vp9=!0),l.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(a,"")&&(m.hls=!0))}catch(f){}return l.parentNode&&l.parentNode.removeChild(l),m.getVideoURL=function(f){Array.isArray(f)||(f=[f]);for(var p=0;p<f.length;p++){var u=o(f[p],"url",f[p]);if(u.indexOf("blob:")===0)return{url:u,type:""};var v;if(u.indexOf("data:")===0?v=u.split(",")[0].match(/\/(.*?);/):v=u.match(/\.([a-zA-Z0-9]+)($|\?)/),v=o(f[p],"type",v?v[1]:"").toLowerCase(),m[v])return{url:u,type:v}}return null},m}s.exports=c()},82264:(s,g,i)=>{s.exports={os:i(25892),browser:i(84148),features:i(89357),input:i(31784),audio:i(7098),video:i(43267),fullscreen:i(91639),canvasFeatures:i(89289)}},89422:(s,g,i)=>{var o=i(83419),m=new Float32Array(20),c=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(l){return this._matrix.set(l),this._dirty=!0,this},reset:function(){var l=this._matrix;return l.fill(0),l[0]=1,l[6]=1,l[12]=1,l[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var l=this._data;return this._dirty&&(l.set(this._matrix),l[4]/=255,l[9]/=255,l[14]/=255,l[19]/=255,this._dirty=!1),l},brightness:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1);var a=l;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],h)},saturate:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1);var a=l*2/3+1,f=(a-1)*-.5;return this.multiply([a,f,f,0,0,f,a,f,0,0,f,f,a,0,0,0,0,0,1,0],h)},desaturate:function(l){return l===void 0&&(l=!1),this.saturate(-1,l)},hue:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1),l=l/180*Math.PI;var a=Math.cos(l),f=Math.sin(l),p=.213,u=.715,v=.072;return this.multiply([p+a*(1-p)+f*-p,u+a*-u+f*-u,v+a*-v+f*(1-v),0,0,p+a*-p+f*.143,u+a*(1-u)+f*.14,v+a*-v+f*-.283,0,0,p+a*-p+f*-(1-p),u+a*-u+f*u,v+a*(1-v)+f*v,0,0,0,0,0,1,0],h)},grayscale:function(l,h){return l===void 0&&(l=1),h===void 0&&(h=!1),this.saturate(-l,h)},blackWhite:function(l){return l===void 0&&(l=!1),this.multiply(c.BLACK_WHITE,l)},contrast:function(l,h){l===void 0&&(l=0),h===void 0&&(h=!1);var a=l+1,f=-.5*(a-1);return this.multiply([a,0,0,0,f,0,a,0,0,f,0,0,a,0,f,0,0,0,1,0],h)},negative:function(l){return l===void 0&&(l=!1),this.multiply(c.NEGATIVE,l)},desaturateLuminance:function(l){return l===void 0&&(l=!1),this.multiply(c.DESATURATE_LUMINANCE,l)},sepia:function(l){return l===void 0&&(l=!1),this.multiply(c.SEPIA,l)},night:function(l,h){return l===void 0&&(l=.1),h===void 0&&(h=!1),this.multiply([l*-2,-l,0,0,0,-l,0,l,0,0,0,l,l*2,0,0,0,0,0,1,0],h)},lsd:function(l){return l===void 0&&(l=!1),this.multiply(c.LSD,l)},brown:function(l){return l===void 0&&(l=!1),this.multiply(c.BROWN,l)},vintagePinhole:function(l){return l===void 0&&(l=!1),this.multiply(c.VINTAGE,l)},kodachrome:function(l){return l===void 0&&(l=!1),this.multiply(c.KODACHROME,l)},technicolor:function(l){return l===void 0&&(l=!1),this.multiply(c.TECHNICOLOR,l)},polaroid:function(l){return l===void 0&&(l=!1),this.multiply(c.POLAROID,l)},shiftToBGR:function(l){return l===void 0&&(l=!1),this.multiply(c.SHIFT_BGR,l)},multiply:function(l,h){h===void 0&&(h=!1),h||this.reset();var a=this._matrix,f=m;return f.set(a),a.set([f[0]*l[0]+f[1]*l[5]+f[2]*l[10]+f[3]*l[15],f[0]*l[1]+f[1]*l[6]+f[2]*l[11]+f[3]*l[16],f[0]*l[2]+f[1]*l[7]+f[2]*l[12]+f[3]*l[17],f[0]*l[3]+f[1]*l[8]+f[2]*l[13]+f[3]*l[18],f[0]*l[4]+f[1]*l[9]+f[2]*l[14]+f[3]*l[19]+f[4],f[5]*l[0]+f[6]*l[5]+f[7]*l[10]+f[8]*l[15],f[5]*l[1]+f[6]*l[6]+f[7]*l[11]+f[8]*l[16],f[5]*l[2]+f[6]*l[7]+f[7]*l[12]+f[8]*l[17],f[5]*l[3]+f[6]*l[8]+f[7]*l[13]+f[8]*l[18],f[5]*l[4]+f[6]*l[9]+f[7]*l[14]+f[8]*l[19]+f[9],f[10]*l[0]+f[11]*l[5]+f[12]*l[10]+f[13]*l[15],f[10]*l[1]+f[11]*l[6]+f[12]*l[11]+f[13]*l[16],f[10]*l[2]+f[11]*l[7]+f[12]*l[12]+f[13]*l[17],f[10]*l[3]+f[11]*l[8]+f[12]*l[13]+f[13]*l[18],f[10]*l[4]+f[11]*l[9]+f[12]*l[14]+f[13]*l[19]+f[14],f[15]*l[0]+f[16]*l[5]+f[17]*l[10]+f[18]*l[15],f[15]*l[1]+f[16]*l[6]+f[17]*l[11]+f[18]*l[16],f[15]*l[2]+f[16]*l[7]+f[17]*l[12]+f[18]*l[17],f[15]*l[3]+f[16]*l[8]+f[17]*l[13]+f[18]*l[18],f[15]*l[4]+f[16]*l[9]+f[17]*l[14]+f[18]*l[19]+f[19]]),this._dirty=!0,this}});c.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],c.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],c.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],c.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],c.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],c.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],c.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],c.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],c.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],c.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],c.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],s.exports=c},51767:(s,g,i)=>{var o=i(83419),m=i(29747),c=new o({initialize:function(h,a,f){this._rgb=[0,0,0],this.onChangeCallback=m,this.dirty=!1,this.set(h,a,f)},set:function(l,h,a){return l===void 0&&(l=0),h===void 0&&(h=0),a===void 0&&(a=0),this._rgb=[l,h,a],this.onChange(),this},equals:function(l,h,a){var f=this._rgb;return f[0]===l&&f[1]===h&&f[2]===a},onChange:function(){this.dirty=!0;var l=this._rgb;this.onChangeCallback.call(this,l[0],l[1],l[2])},r:{get:function(){return this._rgb[0]},set:function(l){this._rgb[0]=l,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(l){this._rgb[1]=l,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(l){this._rgb[2]=l,this.onChange()}},destroy:function(){this.onChangeCallback=null}});s.exports=c},60461:s=>{var g={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};s.exports=g},54312:(s,g,i)=>{var o=i(62235),m=i(35893),c=i(86327),l=i(88417),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),l(a,m(f)+p),c(a,o(f)+u),a};s.exports=h},46768:(s,g,i)=>{var o=i(62235),m=i(26541),c=i(86327),l=i(385),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),l(a,m(f)-p),c(a,o(f)+u),a};s.exports=h},35827:(s,g,i)=>{var o=i(62235),m=i(54380),c=i(86327),l=i(40136),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),l(a,m(f)+p),c(a,o(f)+u),a};s.exports=h},46871:(s,g,i)=>{var o=i(66786),m=i(35893),c=i(7702),l=function(h,a,f,p){return f===void 0&&(f=0),p===void 0&&(p=0),o(h,m(a)+f,c(a)+p),h};s.exports=l},5198:(s,g,i)=>{var o=i(7702),m=i(26541),c=i(20786),l=i(385),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),l(a,m(f)-p),c(a,o(f)+u),a};s.exports=h},11879:(s,g,i)=>{var o=i(60461),m=[];m[o.BOTTOM_CENTER]=i(54312),m[o.BOTTOM_LEFT]=i(46768),m[o.BOTTOM_RIGHT]=i(35827),m[o.CENTER]=i(46871),m[o.LEFT_CENTER]=i(5198),m[o.RIGHT_CENTER]=i(80503),m[o.TOP_CENTER]=i(89698),m[o.TOP_LEFT]=i(922),m[o.TOP_RIGHT]=i(21373),m[o.LEFT_BOTTOM]=m[o.BOTTOM_LEFT],m[o.LEFT_TOP]=m[o.TOP_LEFT],m[o.RIGHT_BOTTOM]=m[o.BOTTOM_RIGHT],m[o.RIGHT_TOP]=m[o.TOP_RIGHT];var c=function(l,h,a,f,p){return m[a](l,h,f,p)};s.exports=c},80503:(s,g,i)=>{var o=i(7702),m=i(54380),c=i(20786),l=i(40136),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),l(a,m(f)+p),c(a,o(f)+u),a};s.exports=h},89698:(s,g,i)=>{var o=i(35893),m=i(17717),c=i(88417),l=i(66737),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),c(a,o(f)+p),l(a,m(f)-u),a};s.exports=h},922:(s,g,i)=>{var o=i(26541),m=i(17717),c=i(385),l=i(66737),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),c(a,o(f)-p),l(a,m(f)-u),a};s.exports=h},21373:(s,g,i)=>{var o=i(54380),m=i(17717),c=i(40136),l=i(66737),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),c(a,o(f)+p),l(a,m(f)-u),a};s.exports=h},91660:(s,g,i)=>{s.exports={BottomCenter:i(54312),BottomLeft:i(46768),BottomRight:i(35827),Center:i(46871),LeftCenter:i(5198),QuickSet:i(11879),RightCenter:i(80503),TopCenter:i(89698),TopLeft:i(922),TopRight:i(21373)}},71926:(s,g,i)=>{var o=i(60461),m=i(79291),c={In:i(91660),To:i(16694)};c=m(!1,c,o),s.exports=c},21578:(s,g,i)=>{var o=i(62235),m=i(35893),c=i(88417),l=i(66737),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),c(a,m(f)+p),l(a,o(f)+u),a};s.exports=h},10210:(s,g,i)=>{var o=i(62235),m=i(26541),c=i(385),l=i(66737),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),c(a,m(f)-p),l(a,o(f)+u),a};s.exports=h},82341:(s,g,i)=>{var o=i(62235),m=i(54380),c=i(40136),l=i(66737),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),c(a,m(f)+p),l(a,o(f)+u),a};s.exports=h},87958:(s,g,i)=>{var o=i(62235),m=i(26541),c=i(86327),l=i(40136),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),l(a,m(f)-p),c(a,o(f)+u),a};s.exports=h},40080:(s,g,i)=>{var o=i(7702),m=i(26541),c=i(20786),l=i(40136),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),l(a,m(f)-p),c(a,o(f)+u),a};s.exports=h},88466:(s,g,i)=>{var o=i(26541),m=i(17717),c=i(40136),l=i(66737),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),c(a,o(f)-p),l(a,m(f)-u),a};s.exports=h},38829:(s,g,i)=>{var o=i(60461),m=[];m[o.BOTTOM_CENTER]=i(21578),m[o.BOTTOM_LEFT]=i(10210),m[o.BOTTOM_RIGHT]=i(82341),m[o.LEFT_BOTTOM]=i(87958),m[o.LEFT_CENTER]=i(40080),m[o.LEFT_TOP]=i(88466),m[o.RIGHT_BOTTOM]=i(19211),m[o.RIGHT_CENTER]=i(34609),m[o.RIGHT_TOP]=i(48741),m[o.TOP_CENTER]=i(49440),m[o.TOP_LEFT]=i(81288),m[o.TOP_RIGHT]=i(61323);var c=function(l,h,a,f,p){return m[a](l,h,f,p)};s.exports=c},19211:(s,g,i)=>{var o=i(62235),m=i(54380),c=i(86327),l=i(385),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),l(a,m(f)+p),c(a,o(f)+u),a};s.exports=h},34609:(s,g,i)=>{var o=i(7702),m=i(54380),c=i(20786),l=i(385),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),l(a,m(f)+p),c(a,o(f)+u),a};s.exports=h},48741:(s,g,i)=>{var o=i(54380),m=i(17717),c=i(385),l=i(66737),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),c(a,o(f)+p),l(a,m(f)-u),a};s.exports=h},49440:(s,g,i)=>{var o=i(35893),m=i(17717),c=i(86327),l=i(88417),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),l(a,o(f)+p),c(a,m(f)-u),a};s.exports=h},81288:(s,g,i)=>{var o=i(26541),m=i(17717),c=i(86327),l=i(385),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),l(a,o(f)-p),c(a,m(f)-u),a};s.exports=h},61323:(s,g,i)=>{var o=i(54380),m=i(17717),c=i(86327),l=i(40136),h=function(a,f,p,u){return p===void 0&&(p=0),u===void 0&&(u=0),l(a,o(f)+p),c(a,m(f)-u),a};s.exports=h},16694:(s,g,i)=>{s.exports={BottomCenter:i(21578),BottomLeft:i(10210),BottomRight:i(82341),LeftBottom:i(87958),LeftCenter:i(40080),LeftTop:i(88466),QuickSet:i(38829),RightBottom:i(19211),RightCenter:i(34609),RightTop:i(48741),TopCenter:i(49440),TopLeft:i(81288),TopRight:i(61323)}},66786:(s,g,i)=>{var o=i(88417),m=i(20786),c=function(l,h,a){return o(l,h),m(l,a)};s.exports=c},62235:s=>{var g=function(i){return i.y+i.height-i.height*i.originY};s.exports=g},72873:(s,g,i)=>{var o=i(62235),m=i(26541),c=i(54380),l=i(17717),h=i(87841),a=function(f,p){p===void 0&&(p=new h);var u=m(f),v=l(f);return p.x=u,p.y=v,p.width=c(f)-u,p.height=o(f)-v,p};s.exports=a},35893:s=>{var g=function(i){return i.x-i.width*i.originX+i.width*.5};s.exports=g},7702:s=>{var g=function(i){return i.y-i.height*i.originY+i.height*.5};s.exports=g},26541:s=>{var g=function(i){return i.x-i.width*i.originX};s.exports=g},87431:s=>{var g=function(i){return i.width*i.originX};s.exports=g},46928:s=>{var g=function(i){return i.height*i.originY};s.exports=g},54380:s=>{var g=function(i){return i.x+i.width-i.width*i.originX};s.exports=g},17717:s=>{var g=function(i){return i.y-i.height*i.originY};s.exports=g},86327:s=>{var g=function(i,o){return i.y=o-i.height+i.height*i.originY,i};s.exports=g},88417:s=>{var g=function(i,o){var m=i.width*i.originX;return i.x=o+m-i.width*.5,i};s.exports=g},20786:s=>{var g=function(i,o){var m=i.height*i.originY;return i.y=o+m-i.height*.5,i};s.exports=g},385:s=>{var g=function(i,o){return i.x=o+i.width*i.originX,i};s.exports=g},40136:s=>{var g=function(i,o){return i.x=o-i.width+i.width*i.originX,i};s.exports=g},66737:s=>{var g=function(i,o){return i.y=o+i.height*i.originY,i};s.exports=g},58724:(s,g,i)=>{s.exports={CenterOn:i(66786),GetBottom:i(62235),GetBounds:i(72873),GetCenterX:i(35893),GetCenterY:i(7702),GetLeft:i(26541),GetOffsetX:i(87431),GetOffsetY:i(46928),GetRight:i(54380),GetTop:i(17717),SetBottom:i(86327),SetCenterX:i(88417),SetCenterY:i(20786),SetLeft:i(385),SetRight:i(40136),SetTop:i(66737)}},20623:s=>{var g={setCrisp:function(i){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(m){i.style["image-rendering"]=m}),i.style.msInterpolationMode="nearest-neighbor",i},setBicubic:function(i){return i.style["image-rendering"]="auto",i.style.msInterpolationMode="bicubic",i}};s.exports=g},27919:(s,g,i)=>{var o=i(8054),m=i(68703),c=[],l=!1,h=function(){var a=function(C,E,T,k,A){E===void 0&&(E=1),T===void 0&&(T=1),k===void 0&&(k=o.CANVAS),A===void 0&&(A=!1);var I,B=u(k);return B===null?(B={parent:C,canvas:document.createElement("canvas"),type:k},k===o.CANVAS&&c.push(B),I=B.canvas):(B.parent=C,I=B.canvas),A&&(B.parent=I),I.width=E,I.height=T,l&&k===o.CANVAS&&m.disable(I.getContext("2d",{willReadFrequently:!1})),I},f=function(C,E,T){return a(C,E,T,o.CANVAS)},p=function(C,E,T){return a(C,E,T,o.WEBGL)},u=function(C){if(C===void 0&&(C=o.CANVAS),C===o.WEBGL)return null;for(var E=0;E<c.length;E++){var T=c[E];if(!T.parent&&T.type===C)return T}return null},v=function(C){var E=C instanceof HTMLCanvasElement;c.forEach(function(T){(E&&T.canvas===C||!E&&T.parent===C)&&(T.parent=null,T.canvas.width=1,T.canvas.height=1)})},y=function(){var C=0;return c.forEach(function(E){E.parent&&C++}),C},x=function(){return c.length-y()},b=function(){l=!0},w=function(){l=!1};return{create2D:f,create:a,createWebGL:p,disableSmoothing:b,enableSmoothing:w,first:u,free:x,pool:c,remove:v,total:y}};s.exports=h()},68703:s=>{var g="",i=function(){var o=function(h){for(var a=["i","webkitI","msI","mozI","oI"],f=0;f<a.length;f++){var p=a[f]+"mageSmoothingEnabled";if(p in h)return p}return null},m=function(h){return g===""&&(g=o(h)),g&&(h[g]=!0),h},c=function(h){return g===""&&(g=o(h)),g&&(h[g]=!1),h},l=function(h){return g!==null?h[g]:null};return{disable:c,enable:m,getPrefix:o,isEnabled:l}};s.exports=i()},65208:s=>{var g=function(i,o){return o===void 0&&(o="none"),i.style.msTouchAction=o,i.style["ms-touch-action"]=o,i.style["touch-action"]=o,i};s.exports=g},91610:s=>{var g=function(i,o){o===void 0&&(o="none");var m=["-webkit-","-khtml-","-moz-","-ms-",""];return m.forEach(function(c){i.style[c+"user-select"]=o}),i.style["-webkit-touch-callout"]=o,i.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",i};s.exports=g},26253:(s,g,i)=>{s.exports={CanvasInterpolation:i(20623),CanvasPool:i(27919),Smoothing:i(68703),TouchAction:i(65208),UserSelect:i(91610)}},40987:(s,g,i)=>{var o=i(83419),m=i(37589),c=i(1e3),l=i(7537),h=i(87837),a=new o({initialize:function(p,u,v,y){p===void 0&&(p=0),u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(p,u,v,y)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(f,p,u,v,y){return v===void 0&&(v=255),y===void 0&&(y=!0),this._locked=!0,this.red=f,this.green=p,this.blue=u,this.alpha=v,this._locked=!1,this.update(y)},setGLTo:function(f,p,u,v){return v===void 0&&(v=1),this._locked=!0,this.redGL=f,this.greenGL=p,this.blueGL=u,this.alphaGL=v,this._locked=!1,this.update(!0)},setFromRGB:function(f){return this._locked=!0,this.red=f.r,this.green=f.g,this.blue=f.b,f.hasOwnProperty("a")&&(this.alpha=f.a),this._locked=!1,this.update(!0)},setFromHSV:function(f,p,u){return l(f,p,u,this)},update:function(f){if(f===void 0&&(f=!1),this._locked)return this;var p=this.r,u=this.g,v=this.b,y=this.a;return this._color=m(p,u,v),this._color32=c(p,u,v,y),this._rgba="rgba("+p+","+u+","+v+","+y/255+")",f&&h(p,u,v,this),this},updateHSV:function(){var f=this.r,p=this.g,u=this.b;return h(f,p,u,this),this},clone:function(){return new a(this.r,this.g,this.b,this.a)},gray:function(f){return this.setTo(f,f,f)},random:function(f,p){f===void 0&&(f=0),p===void 0&&(p=255);var u=Math.floor(f+Math.random()*(p-f)),v=Math.floor(f+Math.random()*(p-f)),y=Math.floor(f+Math.random()*(p-f));return this.setTo(u,v,y)},randomGray:function(f,p){f===void 0&&(f=0),p===void 0&&(p=255);var u=Math.floor(f+Math.random()*(p-f));return this.setTo(u,u,u)},saturate:function(f){return this.s+=f/100,this},desaturate:function(f){return this.s-=f/100,this},lighten:function(f){return this.v+=f/100,this},darken:function(f){return this.v-=f/100,this},brighten:function(f){var p=this.r,u=this.g,v=this.b;return p=Math.max(0,Math.min(255,p-Math.round(255*-(f/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(f/100)))),v=Math.max(0,Math.min(255,v-Math.round(255*-(f/100)))),this.setTo(p,u,v)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(f){this.gl[0]=Math.min(Math.abs(f),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(f){this.gl[1]=Math.min(Math.abs(f),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(f){this.gl[2]=Math.min(Math.abs(f),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(f){this.gl[3]=Math.min(Math.abs(f),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(f){f=Math.floor(Math.abs(f)),this.r=Math.min(f,255),this.gl[0]=f/255,this.update(!0)}},green:{get:function(){return this.g},set:function(f){f=Math.floor(Math.abs(f)),this.g=Math.min(f,255),this.gl[1]=f/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(f){f=Math.floor(Math.abs(f)),this.b=Math.min(f,255),this.gl[2]=f/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(f){f=Math.floor(Math.abs(f)),this.a=Math.min(f,255),this.gl[3]=f/255,this.update()}},h:{get:function(){return this._h},set:function(f){this._h=f,l(f,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(f){this._s=f,l(this._h,f,this._v,this)}},v:{get:function(){return this._v},set:function(f){this._v=f,l(this._h,this._s,f,this)}}});s.exports=a},92728:(s,g,i)=>{var o=i(37589),m=function(c){c===void 0&&(c=1024);var l=[],h=255,a,f=255,p=0,u=0;for(a=0;a<=h;a++)l.push({r:f,g:a,b:u,color:o(f,a,u)});for(p=255,a=h;a>=0;a--)l.push({r:a,g:p,b:u,color:o(a,p,u)});for(f=0,a=0;a<=h;a++,p--)l.push({r:f,g:p,b:a,color:o(f,p,a)});for(p=0,u=255,a=0;a<=h;a++,u--,f++)l.push({r:f,g:p,b:u,color:o(f,p,u)});if(c===1024)return l;var v=[],y=0,x=1024/c;for(a=0;a<c;a++)v.push(l[Math.floor(y)]),y+=x;return v};s.exports=m},91588:s=>{var g=function(i){var o={r:i>>16&255,g:i>>8&255,b:i&255,a:255};return i>16777215&&(o.a=i>>>24),o};s.exports=g},62957:s=>{var g=function(i){var o=i.toString(16);return o.length===1?"0"+o:o};s.exports=g},37589:s=>{var g=function(i,o,m){return i<<16|o<<8|m};s.exports=g},1e3:s=>{var g=function(i,o,m,c){return c<<24|i<<16|o<<8|m};s.exports=g},62183:(s,g,i)=>{var o=i(40987),m=i(89528),c=function(l,h,a){var f=a,p=a,u=a;if(h!==0){var v=a<.5?a*(1+h):a+h-a*h,y=2*a-v;f=m(y,v,l+1/3),p=m(y,v,l),u=m(y,v,l-1/3)}var x=new o;return x.setGLTo(f,p,u,1)};s.exports=c},27939:(s,g,i)=>{var o=i(7537),m=function(c,l){c===void 0&&(c=1),l===void 0&&(l=1);for(var h=[],a=0;a<=359;a++)h.push(o(a/359,c,l));return h};s.exports=m},7537:(s,g,i)=>{var o=i(37589);function m(l,h,a,f){var p=(l+h*6)%6,u=Math.min(p,4-p,1);return Math.round(255*(f-f*a*Math.max(0,u)))}var c=function(l,h,a,f){h===void 0&&(h=1),a===void 0&&(a=1);var p=m(5,l,h,a),u=m(3,l,h,a),v=m(1,l,h,a);return f?f.setTo?f.setTo(p,u,v,f.alpha,!0):(f.r=p,f.g=u,f.b=v,f.color=o(p,u,v),f):{r:p,g:u,b:v,color:o(p,u,v)}};s.exports=c},70238:(s,g,i)=>{var o=i(40987),m=function(c){var l=new o;c=c.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(u,v,y,x){return v+v+y+y+x+x});var h=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);if(h){var a=parseInt(h[1],16),f=parseInt(h[2],16),p=parseInt(h[3],16);l.setTo(a,f,p)}return l};s.exports=m},89528:s=>{var g=function(i,o,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?i+(o-i)*6*m:m<.5?o:m<.6666666666666666?i+(o-i)*(.6666666666666666-m)*6:i};s.exports=g},30100:(s,g,i)=>{var o=i(40987),m=i(90664),c=function(l){var h=m(l);return new o(h.r,h.g,h.b,h.a)};s.exports=c},90664:s=>{var g=function(i){return i>16777215?{a:i>>>24,r:i>>16&255,g:i>>8&255,b:i&255}:{a:255,r:i>>16&255,g:i>>8&255,b:i&255}};s.exports=g},13699:(s,g,i)=>{var o=i(28915),m=function(h,a,f,p,u,v,y,x){y===void 0&&(y=100),x===void 0&&(x=0);var b=x/y;return{r:o(h,p,b),g:o(a,u,b),b:o(f,v,b)}},c=function(h,a,f,p){return f===void 0&&(f=100),p===void 0&&(p=0),m(h.r,h.g,h.b,a.r,a.g,a.b,f,p)},l=function(h,a,f,p,u,v){return u===void 0&&(u=100),v===void 0&&(v=0),m(h.r,h.g,h.b,a,f,p,u,v)};s.exports={RGBWithRGB:m,ColorWithRGB:l,ColorWithColor:c}},68957:(s,g,i)=>{var o=i(40987),m=function(c){return new o(c.r,c.g,c.b,c.a)};s.exports=m},87388:(s,g,i)=>{var o=i(40987),m=function(c){var l=new o,h=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(c.toLowerCase());if(h){var a=parseInt(h[1],10),f=parseInt(h[2],10),p=parseInt(h[3],10),u=h[4]!==void 0?parseFloat(h[4]):1;l.setTo(a,f,p,u*255)}return l};s.exports=m},87837:s=>{var g=function(i,o,m,c){c===void 0&&(c={h:0,s:0,v:0}),i/=255,o/=255,m/=255;var l=Math.min(i,o,m),h=Math.max(i,o,m),a=h-l,f=0,p=h===0?0:a/h,u=h;return h!==l&&(h===i?f=(o-m)/a+(o<m?6:0):h===o?f=(m-i)/a+2:h===m&&(f=(i-o)/a+4),f/=6),c.hasOwnProperty("_h")?(c._h=f,c._s=p,c._v=u):(c.h=f,c.s=p,c.v=u),c};s.exports=g},75723:(s,g,i)=>{var o=i(62957),m=function(c,l,h,a,f){return a===void 0&&(a=255),f===void 0&&(f="#"),f==="#"?"#"+((1<<24)+(c<<16)+(l<<8)+h).toString(16).slice(1,7):"0x"+o(a)+o(c)+o(l)+o(h)};s.exports=m},85386:(s,g,i)=>{var o=i(30976),m=i(40987),c=function(l,h){return l===void 0&&(l=0),h===void 0&&(h=255),new m(o(l,h),o(l,h),o(l,h))};s.exports=c},80333:(s,g,i)=>{var o=i(70238),m=i(30100),c=i(68957),l=i(87388),h=function(a){var f=typeof a;switch(f){case"string":return a.substr(0,3).toLowerCase()==="rgb"?l(a):o(a);case"number":return m(a);case"object":return c(a)}};s.exports=h},3956:(s,g,i)=>{var o=i(40987);o.ColorSpectrum=i(92728),o.ColorToRGBA=i(91588),o.ComponentToHex=i(62957),o.GetColor=i(37589),o.GetColor32=i(1e3),o.HexStringToColor=i(70238),o.HSLToColor=i(62183),o.HSVColorWheel=i(27939),o.HSVToRGB=i(7537),o.HueToComponent=i(89528),o.IntegerToColor=i(30100),o.IntegerToRGB=i(90664),o.Interpolate=i(13699),o.ObjectToColor=i(68957),o.RandomRGB=i(85386),o.RGBStringToColor=i(87388),o.RGBToHSV=i(87837),o.RGBToString=i(75723),o.ValueToColor=i(80333),s.exports=o},27460:(s,g,i)=>{s.exports={Align:i(71926),BaseShader:i(73894),Bounds:i(58724),Canvas:i(26253),Color:i(3956),ColorMatrix:i(89422),Masks:i(69781),RGB:i(51767)}},6858:(s,g,i)=>{var o=i(83419),m=i(39429),c=new o({initialize:function(h,a,f,p,u,v){a||(a=h.sys.make.image({x:f,y:p,key:u,frame:v,add:!1})),this.bitmapMask=a,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(l){this.bitmapMask=l},preRenderWebGL:function(l,h,a){l.pipelines.BITMAPMASK_PIPELINE.beginMask(this,h,a)},postRenderWebGL:function(l,h,a){l.pipelines.BITMAPMASK_PIPELINE.endMask(this,h,a)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});m.register("bitmapMask",function(l,h,a,f,p){return new c(this.scene,l,h,a,f,p)}),s.exports=c},80661:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h){this.geometryMask=h,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(c){return this.geometryMask=c,this},setInvertAlpha:function(c){return c===void 0&&(c=!0),this.invertAlpha=c,this},preRenderWebGL:function(c,l,h){var a=c.gl;c.flush(),c.maskStack.length===0&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),c.maskCount=0),c.currentCameraMask.mask!==this&&(c.currentMask.mask=this),c.maskStack.push({mask:this,camera:h}),this.applyStencil(c,h,!0),c.maskCount++},applyStencil:function(c,l,h){var a=c.gl,f=this.geometryMask,p=c.maskCount,u=255;a.colorMask(!1,!1,!1,!1),h?(a.stencilFunc(a.EQUAL,p,u),a.stencilOp(a.KEEP,a.KEEP,a.INCR),p++):(a.stencilFunc(a.EQUAL,p+1,u),a.stencilOp(a.KEEP,a.KEEP,a.DECR)),this.level=p,f.renderWebGL(c,f,l),c.flush(),a.colorMask(!0,!0,!0,!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),this.invertAlpha?a.stencilFunc(a.NOTEQUAL,p,u):a.stencilFunc(a.EQUAL,p,u)},postRenderWebGL:function(c){var l=c.gl;c.maskStack.pop(),c.maskCount--,c.flush();var h=c.currentMask;if(c.maskStack.length===0)h.mask=null,l.disable(l.STENCIL_TEST);else{var a=c.maskStack[c.maskStack.length-1];a.mask.applyStencil(c,a.camera,!1),c.currentCameraMask.mask!==a.mask?(h.mask=a.mask,h.camera=a.camera):h.mask=null}},preRenderCanvas:function(c,l,h){var a=this.geometryMask;c.currentContext.save(),a.renderCanvas(c,a,h,null,null,!0),c.currentContext.clip()},postRenderCanvas:function(c){c.currentContext.restore()},destroy:function(){this.geometryMask=null}});s.exports=m},69781:(s,g,i)=>{s.exports={BitmapMask:i(6858),GeometryMask:i(80661)}},73894:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h,a,f){(!h||h==="")&&(h=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!a||a==="")&&(a=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),f===void 0&&(f=null),this.key=l,this.fragmentSrc=h,this.vertexSrc=a,this.uniforms=f}});s.exports=m},40366:s=>{var g=function(i,o){var m;if(o)typeof o=="string"?m=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(m=o);else if(i.parentElement||o===null)return i;return m||(m=document.body),m.appendChild(i),i};s.exports=g},83719:(s,g,i)=>{var o=i(40366),m=function(c){var l=c.config;if(!(!l.parent||!l.domCreateContainer)){var h=document.createElement("div");h.style.cssText=["display: block;","width: "+c.scale.width+"px;","height: "+c.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+l.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),c.domContainer=h,o(h,l.parent)}};s.exports=m},57264:(s,g,i)=>{var o=i(25892),m=function(c){if(document.readyState==="complete"||document.readyState==="interactive"){c();return}var l=function(){document.removeEventListener("deviceready",l,!0),document.removeEventListener("DOMContentLoaded",l,!0),window.removeEventListener("load",l,!0),c()};document.body?o.cordova?document.addEventListener("deviceready",l,!1):(document.addEventListener("DOMContentLoaded",l,!0),window.addEventListener("load",l,!0)):window.setTimeout(l,20)};s.exports=m},57811:s=>{var g=function(i){if(!i)return window.innerHeight;var o=Math.abs(window.orientation),m={w:0,h:0},c=document.createElement("div");return c.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(c),m.w=o===90?c.offsetHeight:window.innerWidth,m.h=o===90?window.innerWidth:c.offsetHeight,document.documentElement.removeChild(c),c=null,Math.abs(window.orientation)!==90?m.h:m.w};s.exports=g},45818:(s,g,i)=>{var o=i(13560),m=function(c,l){var h=window.screen,a=h?h.orientation||h.mozOrientation||h.msOrientation:!1;if(a&&typeof a.type=="string")return a.type;if(typeof a=="string")return a;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return l>c?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};s.exports=m},74403:s=>{var g=function(i){var o;return i!==""&&(typeof i=="string"?o=document.getElementById(i):i&&i.nodeType===1&&(o=i)),o||(o=document.body),o};s.exports=g},56836:s=>{var g=function(i){var o="";try{if(window.DOMParser){var m=new DOMParser;o=m.parseFromString(i,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(i)}catch(c){o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};s.exports=g},35846:s=>{var g=function(i){i.parentNode&&i.parentNode.removeChild(i)};s.exports=g},43092:(s,g,i)=>{var o=i(83419),m=i(29747),c=new o({initialize:function(){this.isRunning=!1,this.callback=m,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var h=this;this.step=function a(f){h.callback(f),h.isRunning&&(h.timeOutID=window.requestAnimationFrame(a))},this.stepTimeout=function a(){h.isRunning&&(h.timeOutID=window.setTimeout(a,h.delay)),h.callback(window.performance.now())}},start:function(l,h,a){this.isRunning||(this.callback=l,this.isSetTimeOut=h,this.delay=a,this.isRunning=!0,this.timeOutID=h?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=m}});s.exports=c},84902:(s,g,i)=>{var o={AddToDOM:i(40366),DOMContentLoaded:i(57264),GetInnerHeight:i(57811),GetScreenOrientation:i(45818),GetTarget:i(74403),ParseXML:i(56836),RemoveFromDOM:i(35846),RequestAnimationFrame:i(43092)};s.exports=o},47565:(s,g,i)=>{var o=i(83419),m=i(50792),c=i(37277),l=new o({Extends:m,initialize:function(){m.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});c.register("EventEmitter",l,"events"),s.exports=l},93055:(s,g,i)=>{s.exports={EventEmitter:i(47565)}},20122:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f){f===void 0&&(f=1),m.call(this,c.BARREL,a),this.amount=f}});s.exports=l},32251:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f,p,u,v,y,x){p===void 0&&(p=1),u===void 0&&(u=1),v===void 0&&(v=1),y===void 0&&(y=1),x===void 0&&(x=4),m.call(this,c.BLOOM,a),this.steps=x,this.offsetX=p,this.offsetY=u,this.blurStrength=v,this.strength=y,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}}});s.exports=l},9047:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f,p,u,v,y,x){f===void 0&&(f=0),p===void 0&&(p=2),u===void 0&&(u=2),v===void 0&&(v=1),x===void 0&&(x=4),m.call(this,c.BLUR,a),this.quality=f,this.x=p,this.y=u,this.steps=x,this.strength=v,this.glcolor=[1,1,1],y!=null&&(this.color=y)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}}});s.exports=l},27885:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f,p,u,v,y,x,b){f===void 0&&(f=.5),p===void 0&&(p=1),u===void 0&&(u=.2),v===void 0&&(v=!1),y===void 0&&(y=1),x===void 0&&(x=1),b===void 0&&(b=1),m.call(this,c.BOKEH,a),this.radius=f,this.amount=p,this.contrast=u,this.isTiltShift=v,this.strength=b,this.blurX=y,this.blurY=x}});s.exports=l},12578:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f,p,u,v,y){f===void 0&&(f=8),v===void 0&&(v=1),y===void 0&&(y=.005),m.call(this,c.CIRCLE,a),this.scale=v,this.feather=y,this.thickness=f,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],p!=null&&(this.color=p),u!=null&&(this.backgroundColor=u)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}},backgroundColor:{get:function(){var h=this.glcolor2;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor2;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(h){this.glcolor2[3]=h}}});s.exports=l},15802:(s,g,i)=>{var o=i(83419),m=i(89422),c=i(14811),l=new o({Extends:m,initialize:function(a){m.call(this),this.type=c.COLOR_MATRIX,this.gameObject=a,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});s.exports=l},72898:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h){this.type=l,this.gameObject=h,this.active=!0},setActive:function(c){return this.active=c,this},destroy:function(){this.gameObject=null,this.active=!1}});s.exports=m},44553:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f,p,u){f===void 0&&(f="__WHITE"),p===void 0&&(p=.005),u===void 0&&(u=.005),m.call(this,c.DISPLACEMENT,a),this.x=p,this.y=u,this.glTexture,this.setTexture(f)},setTexture:function(h){var a=this.gameObject.scene.sys.textures.getFrame(h);return a&&(this.glTexture=a.glTexture),this}});s.exports=l},68531:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f,p,u,v){p===void 0&&(p=4),u===void 0&&(u=0),v===void 0&&(v=!1),m.call(this,c.GLOW,a),this.outerStrength=p,this.innerStrength=u,this.knockout=v,this.glcolor=[1,1,1,1],f!==void 0&&(this.color=f)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}}});s.exports=l},37102:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f,p,u,v,y,x,b,w){u===void 0&&(u=.2),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=1),w===void 0&&(w=0),m.call(this,c.GRADIENT,a),this.alpha=u,this.size=w,this.fromX=v,this.fromY=y,this.toX=x,this.toY=b,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],f!=null&&(this.color1=f),p!=null&&(this.color2=p)},color1:{get:function(){var h=this.glcolor1;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var a=this.glcolor1;a[0]=h>>16&255,a[1]=h>>8&255,a[2]=h&255}},color2:{get:function(){var h=this.glcolor2;return(h[0]<<16)+(h[1]<<8)+(h[2]|0)},set:function(h){var a=this.glcolor2;a[0]=h>>16&255,a[1]=h>>8&255,a[2]=h&255}}});s.exports=l},86886:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f){f===void 0&&(f=1),m.call(this,c.PIXELATE,a),this.amount=f}});s.exports=l},92322:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f,p,u,v,y,x,b){f===void 0&&(f=0),p===void 0&&(p=0),u===void 0&&(u=.1),v===void 0&&(v=1),x===void 0&&(x=6),b===void 0&&(b=1),m.call(this,c.SHADOW,a),this.x=f,this.y=p,this.decay=u,this.power=v,this.glcolor=[0,0,0,1],this.samples=x,this.intensity=b,y!==void 0&&(this.color=y)},color:{get:function(){var h=this.glcolor;return(h[0]*255<<16)+(h[1]*255<<8)+(h[2]*255|0)},set:function(h){var a=this.glcolor;a[0]=(h>>16&255)/255,a[1]=(h>>8&255)/255,a[2]=(h&255)/255}}});s.exports=l},39563:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f,p,u,v){f===void 0&&(f=.5),p===void 0&&(p=.5),u===void 0&&(u=3),v===void 0&&(v=!1),m.call(this,c.SHINE,a),this.speed=f,this.lineWidth=p,this.gradient=u,this.reveal=v}});s.exports=l},56448:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f,p,u,v){f===void 0&&(f=.5),p===void 0&&(p=.5),u===void 0&&(u=.5),v===void 0&&(v=.5),m.call(this,c.VIGNETTE,a),this.x=f,this.y=p,this.radius=u,this.strength=v}});s.exports=l},38433:(s,g,i)=>{var o=i(83419),m=i(72898),c=i(14811),l=new o({Extends:m,initialize:function(a,f,p,u,v){f===void 0&&(f=.1),p===void 0&&(p=0),u===void 0&&(u=0),v===void 0&&(v=!1),m.call(this,c.WIPE,a),this.progress=0,this.wipeWidth=f,this.direction=p,this.axis=u,this.reveal=v}});s.exports=l},14811:s=>{var g={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};s.exports=g},66064:(s,g,i)=>{var o=i(79291),m=i(14811),c={Barrel:i(20122),Controller:i(72898),Bloom:i(32251),Blur:i(9047),Bokeh:i(27885),Circle:i(12578),ColorMatrix:i(15802),Displacement:i(44553),Glow:i(68531),Gradient:i(37102),Pixelate:i(86886),Shadow:i(92322),Shine:i(39563),Vignette:i(56448),Wipe:i(38433)};c=o(!1,c,m),s.exports=c},25305:(s,g,i)=>{var o=i(10312),m=i(23568),c=function(l,h,a){h.x=m(a,"x",0),h.y=m(a,"y",0),h.depth=m(a,"depth",0),h.flipX=m(a,"flipX",!1),h.flipY=m(a,"flipY",!1);var f=m(a,"scale",null);typeof f=="number"?h.setScale(f):f!==null&&(h.scaleX=m(f,"x",1),h.scaleY=m(f,"y",1));var p=m(a,"scrollFactor",null);typeof p=="number"?h.setScrollFactor(p):p!==null&&(h.scrollFactorX=m(p,"x",1),h.scrollFactorY=m(p,"y",1)),h.rotation=m(a,"rotation",0);var u=m(a,"angle",null);u!==null&&(h.angle=u),h.alpha=m(a,"alpha",1);var v=m(a,"origin",null);if(typeof v=="number")h.setOrigin(v);else if(v!==null){var y=m(v,"x",.5),x=m(v,"y",.5);h.setOrigin(y,x)}h.blendMode=m(a,"blendMode",o.NORMAL),h.visible=m(a,"visible",!0);var b=m(a,"add",!0);return b&&l.sys.displayList.add(h),h.preUpdate&&l.sys.updateList.add(h),h};s.exports=c},13059:(s,g,i)=>{var o=i(23568),m=function(c,l){var h=o(l,"anims",null);if(h===null)return c;if(typeof h=="string")c.anims.play(h);else if(typeof h=="object"){var a=c.anims,f=o(h,"key",void 0);if(f){var p=o(h,"startFrame",void 0),u=o(h,"delay",0),v=o(h,"repeat",0),y=o(h,"repeatDelay",0),x=o(h,"yoyo",!1),b=o(h,"play",!1),w=o(h,"delayedPlay",0),C={key:f,delay:u,repeat:v,repeatDelay:y,yoyo:x,startFrame:p};b?a.play(C):w>0?a.playAfterDelay(C,w):a.load(C)}}return c};s.exports=m},8050:(s,g,i)=>{var o=i(83419),m=i(73162),c=i(37277),l=i(51708),h=i(44594),a=i(19186),f=new o({Extends:m,initialize:function(u){m.call(this,u),this.sortChildrenFlag=!1,this.scene=u,this.systems=u.sys,this.events=u.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(h.BOOT,this.boot,this),this.events.on(h.START,this.start,this)},boot:function(){this.events.once(h.DESTROY,this.destroy,this)},addChildCallback:function(p){p.displayList&&p.displayList!==this&&p.removeFromDisplayList(),p.parentContainer&&p.parentContainer.remove(p),p.displayList||(this.queueDepthSort(),p.displayList=this,p.emit(l.ADDED_TO_SCENE,p,this.scene),this.events.emit(h.ADDED_TO_SCENE,p,this.scene))},removeChildCallback:function(p){this.queueDepthSort(),p.displayList=null,p.emit(l.REMOVED_FROM_SCENE,p,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,p,this.scene)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(a(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(p,u){return p._depth-u._depth},getChildren:function(){return this.list},shutdown:function(){for(var p=this.list;p.length;)p[0].destroy(!0);this.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});c.register("DisplayList",f,"displayList"),s.exports=f},95643:(s,g,i)=>{var o=i(83419),m=i(53774),c=i(45893),l=i(50792),h=i(51708),a=i(44594),f=new o({Extends:l,initialize:function(u,v){l.call(this),this.scene=u,this.displayList=null,this.type=v,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(h.ADDED_TO_SCENE,this.addedToScene,this),this.on(h.REMOVED_FROM_SCENE,this.removedFromScene,this),u.sys.queueDepthSort()},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},setState:function(p){return this.state=p,this},setDataEnabled:function(){return this.data||(this.data=new c(this)),this},setData:function(p,u){return this.data||(this.data=new c(this)),this.data.set(p,u),this},incData:function(p,u){return this.data||(this.data=new c(this)),this.data.inc(p,u),this},toggleData:function(p){return this.data||(this.data=new c(this)),this.data.toggle(p),this},getData:function(p){return this.data||(this.data=new c(this)),this.data.get(p)},setInteractive:function(p,u,v){return this.scene.sys.input.enable(this,p,u,v),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return m(this)},willRender:function(p){var u=this.displayList&&this.displayList.active?this.displayList.willRender(p):!0;return!(!u||f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&p.id)},getIndexList:function(){for(var p=this,u=this.parentContainer,v=[];u&&(v.unshift(u.getIndex(p)),p=u,u.parentContainer);)u=u.parentContainer;return this.displayList?v.unshift(this.displayList.getIndex(p)):v.unshift(this.scene.sys.displayList.getIndex(p)),v},addToDisplayList:function(p){return p===void 0&&(p=this.scene.sys.displayList),this.displayList&&this.displayList!==p&&this.removeFromDisplayList(),p.exists(this)||(this.displayList=p,p.add(this,!0),p.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),p.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var p=this.displayList||this.scene.sys.displayList;return p&&p.exists(this)&&(p.remove(this,!0),p.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),p.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(p){!this.scene||this.ignoreDestroy||(p===void 0&&(p=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(h.DESTROY,this,p),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});f.RENDER_MASK=15,s.exports=f},44603:(s,g,i)=>{var o=i(83419),m=i(37277),c=i(44594),l=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(h,a){l.prototype.hasOwnProperty(h)||(l.prototype[h]=a)},l.remove=function(h){l.prototype.hasOwnProperty(h)&&delete l.prototype[h]},m.register("GameObjectCreator",l,"make"),s.exports=l},39429:(s,g,i)=>{var o=i(83419),m=i(37277),c=i(44594),l=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(c.BOOT,this.boot,this),this.events.on(c.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(c.DESTROY,this.destroy,this)},start:function(){this.events.once(c.SHUTDOWN,this.shutdown,this)},existing:function(h){return(h.renderCanvas||h.renderWebGL)&&this.displayList.add(h),h.preUpdate&&this.updateList.add(h),h},shutdown:function(){this.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(h,a){l.prototype.hasOwnProperty(h)||(l.prototype[h]=a)},l.remove=function(h){l.prototype.hasOwnProperty(h)&&delete l.prototype[h]},m.register("GameObjectFactory",l,"add"),s.exports=l},91296:(s,g,i)=>{var o=i(61340),m=new o,c=new o,l=new o,h={camera:m,sprite:c,calc:l},a=function(f,p,u){var v=m,y=c,x=l;return y.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),v.copyFrom(p.matrix),u?(v.multiplyWithOffset(u,-p.scrollX*f.scrollFactorX,-p.scrollY*f.scrollFactorY),y.e=f.x,y.f=f.y):(y.e-=p.scrollX*f.scrollFactorX,y.f-=p.scrollY*f.scrollFactorY),v.multiply(y,x),h};s.exports=a},45027:(s,g,i)=>{var o=i(83419),m=i(25774),c=i(37277),l=i(44594),h=new o({Extends:m,initialize:function(f){m.call(this),this.checkQueue=!0,this.scene=f,this.systems=f.sys,f.sys.events.once(l.BOOT,this.boot,this),f.sys.events.on(l.START,this.start,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){var a=this.systems.events;a.on(l.PRE_UPDATE,this.update,this),a.on(l.UPDATE,this.sceneUpdate,this),a.once(l.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(a,f){for(var p=this._active,u=p.length,v=0;v<u;v++){var y=p[v];y.active&&y.preUpdate.call(y,a,f)}},shutdown:function(){for(var a=this._active.length;a--;)this._active[a].destroy(!0);for(a=this._pending.length;a--;)this._pending[a].destroy(!0);for(a=this._destroy.length;a--;)this._destroy[a].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var f=this.systems.events;f.off(l.PRE_UPDATE,this.update,this),f.off(l.UPDATE,this.sceneUpdate,this),f.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});c.register("UpdateList",h,"updateList"),s.exports=h},3217:s=>{var g=function(i,o,m,c,l,h,a,f,p,u,v,y,x,b,w){var C=m.x-o.displayOriginX+l,E=m.y-o.displayOriginY+h,T=C+m.w,k=E+m.h,A=a.getXRound(C,E,f),I=a.getYRound(C,E,f),B=a.getXRound(C,k,f),M=a.getYRound(C,k,f),O=a.getXRound(T,k,f),P=a.getYRound(T,k,f),L=a.getXRound(T,E,f),_=a.getYRound(T,E,f);i.batchQuad(o,A,I,B,M,O,P,L,_,c.u0,c.v0,c.u1,c.v1,p,u,v,y,x,b,w)};s.exports=g},53048:s=>{var g=function(i,o,m,c){if(m===void 0&&(m=!1),c===void 0)return c={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},c;var l=i.text,h=l.length,a=i.maxWidth,f=i.wordWrapCharCode,p=Number.MAX_VALUE,u=Number.MAX_VALUE,v=0,y=0,x=i.fontData.chars,b=i.fontData.lineHeight,w=i.letterSpacing,C=i.lineSpacing,E=0,T=0,k=0,A=null,I=i._align,B=0,M=0,O=i.fontSize/i.fontData.size,P=O*i.scaleX,L=O*i.scaleY,_=null,G=0,$=[],W=Number.MAX_VALUE,Y=0,z=0,F=0,N,j=[],U=[],V=null;if(a>0){for(N=0;N<h;N++){if(k=l.charCodeAt(N),k===10){V!==null&&(j.push({word:V.word,i:V.i,x:V.x*P,y:V.y*L,w:V.w*P,h:V.h*L,cr:!0}),V=null),E=0,T+=b+C,_=null;continue}if(A=x[k],!!A){if(_!==null)var q=A.kerning[G];k===f?V!==null&&(j.push({word:V.word,i:V.i,x:V.x*P,y:V.y*L,w:V.w*P,h:V.h*L,cr:!1}),V=null):(V===null&&(V={word:"",i:N,x:E,y:T,w:0,h:b,cr:!1}),V.word=V.word.concat(l[N]),V.w+=A.xOffset+A.xAdvance+(q!==void 0?q:0)),E+=A.xAdvance+w,_=A,G=k}}V!==null&&j.push({word:V.word,i:V.i,x:V.x*P,y:V.y*L,w:V.w*P,h:V.h*L,cr:!1}),E=0,T=0,_=null,G=0;var ot,Q=0,rt=[];for(N=0;N<j.length;N++){var Bt=j[N],K=Bt.x,Mt=Bt.x+Bt.w;if(ot){var Ft=K-(ot.x+ot.w);Q=K-(Ft+ot.w),ot=null}var dt=K-Q,yt=Mt-Q;dt>a||yt>a?(rt.push(Bt.i-1),Bt.cr?(rt.push(Bt.i+Bt.word.length),Q=0,ot=null):ot=Bt):Bt.cr&&(rt.push(Bt.i+Bt.word.length),Q=0,ot=null)}var At=function(tt,Nt,ie){return tt.substr(0,Nt)+ie+tt.substr(Nt+1)};for(N=rt.length-1;N>=0;N--)l=At(l,rt[N],`
`);c.wrappedText=l,h=l.length,j=[],V=null}var Ot=0;for(N=0;N<h;N++){if(k=l.charCodeAt(N),k===10){V!==null&&(j.push({word:V.word,i:V.i,x:V.x*P,y:V.y*L,w:V.w*P,h:V.h*L}),V=null),E=0,T+=b+C,_=null,$[z]=F,F>Y&&(Y=F),F<W&&(W=F),z++,F=0;continue}if(A=x[k],!!A){if(B=E,M=T,_!==null){var le=A.kerning[G];B+=le!==void 0?le:0}p>B&&(p=B),u>M&&(u=M);var _t=B+A.xAdvance,xe=M+b;v<_t&&(v=_t),y<xe&&(y=xe);var ke=A.xOffset+A.xAdvance+(le!==void 0?le:0);k===f?V!==null&&(j.push({word:V.word,i:V.i,x:V.x*P,y:V.y*L,w:V.w*P,h:V.h*L}),V=null):(V===null&&(V={word:"",i:Ot,x:E,y:T,w:0,h:b}),V.word=V.word.concat(l[N]),V.w+=ke),U.push({i:Ot,idx:N,char:l[N],code:k,x:(A.xOffset+B)*O,y:(A.yOffset+T)*O,w:A.width*O,h:A.height*O,t:T*O,r:_t*O,b:b*O,line:z,glyph:A}),E+=A.xAdvance+w+(le!==void 0?le:0),_=A,G=k,F=_t*O,Ot++}}if(V!==null&&j.push({word:V.word,i:V.i,x:V.x*P,y:V.y*L,w:V.w*P,h:V.h*L}),$[z]=F,F>Y&&(Y=F),F<W&&(W=F),I>0)for(var ve=0;ve<U.length;ve++){var Fe=U[ve];if(I===1){var Ze=(Y-$[Fe.line])/2;Fe.x+=Ze,Fe.r+=Ze}else if(I===2){var ei=Y-$[Fe.line];Fe.x+=ei,Fe.r+=ei}}var Ci=c.local,xt=c.global,et=c.lines;return Ci.x=p*O,Ci.y=u*O,Ci.width=v*O,Ci.height=y*O,xt.x=i.x-i._displayOriginX+p*P,xt.y=i.y-i._displayOriginY+u*L,xt.width=v*P,xt.height=y*L,et.shortest=W,et.longest=Y,et.lengths=$,o&&(Ci.x=Math.ceil(Ci.x),Ci.y=Math.ceil(Ci.y),Ci.width=Math.ceil(Ci.width),Ci.height=Math.ceil(Ci.height),xt.x=Math.ceil(xt.x),xt.y=Math.ceil(xt.y),xt.width=Math.ceil(xt.width),xt.height=Math.ceil(xt.height),et.shortest=Math.ceil(W),et.longest=Math.ceil(Y)),m&&(i._displayOriginX=i.originX*Ci.width,i._displayOriginY=i.originY*Ci.height,xt.x=i.x-i._displayOriginX*i.scaleX,xt.y=i.y-i._displayOriginY*i.scaleY,o&&(xt.x=Math.ceil(xt.x),xt.y=Math.ceil(xt.y))),c.words=j,c.characters=U,c.lines.height=b,c.scale=O,c.scaleX=i.scaleX,c.scaleY=i.scaleY,c};s.exports=g},61327:(s,g,i)=>{var o=i(21859),m=function(c,l,h,a,f,p,u){var v=c.sys.textures.get(h),y=v.get(a),x=c.sys.cache.xml.get(f);if(y&&x){var b=o(x,y,p,u,v);return c.sys.cache.bitmapFont.add(l,{data:b,texture:h,frame:a,fromAtlas:!0}),!0}else return!1};s.exports=m},6925:(s,g,i)=>{var o=i(35154),m=function(c,l){var h=l.width,a=l.height,f=Math.floor(h/2),p=Math.floor(a/2),u=o(l,"chars","");if(u!==""){var v=o(l,"image",""),y=c.sys.textures.getFrame(v),x=y.cutX,b=y.cutY,w=y.source.width,C=y.source.height,E=o(l,"offset.x",0),T=o(l,"offset.y",0),k=o(l,"spacing.x",0),A=o(l,"spacing.y",0),I=o(l,"lineSpacing",0),B=o(l,"charsPerRow",null);B===null&&(B=w/h,B>u.length&&(B=u.length));for(var M=E,O=T,P={retroFont:!0,font:v,size:h,lineHeight:a+I,chars:{}},L=0,_=0;_<u.length;_++){var G=u.charCodeAt(_),$=(x+M)/w,W=(b+O)/C,Y=(x+M+h)/w,z=(b+O+a)/C;P.chars[G]={x:M,y:O,width:h,height:a,centerX:f,centerY:p,xOffset:0,yOffset:0,xAdvance:h,data:{},kerning:{},u0:$,v0:W,u1:Y,v1:z},L++,L===B?(L=0,M=E,O+=a+A):M+=h+k}var F={data:P,frame:null,texture:v};return F}};s.exports=m},21859:s=>{function g(o,m){return parseInt(o.getAttribute(m),10)}var i=function(o,m,c,l,h){c===void 0&&(c=0),l===void 0&&(l=0);var a=m.cutX,f=m.cutY,p=m.source.width,u=m.source.height,v=m.sourceIndex,y={},x=o.getElementsByTagName("info")[0],b=o.getElementsByTagName("common")[0];y.font=x.getAttribute("face"),y.size=g(x,"size"),y.lineHeight=g(b,"lineHeight")+l,y.chars={};var w=o.getElementsByTagName("char"),C=m!==void 0&&m.trimmed;if(C)var E=m.height,T=m.width;for(var k=0;k<w.length;k++){var A=w[k],I=g(A,"id"),B=String.fromCharCode(I),M=g(A,"x"),O=g(A,"y"),P=g(A,"width"),L=g(A,"height");C&&(M<T&&(T=M),O<E&&(E=O)),C&&E!==0&&T!==0&&(M-=m.x,O-=m.y);var _=(a+M)/p,G=(f+O)/u,$=(a+M+P)/p,W=(f+O+L)/u;if(y.chars[I]={x:M,y:O,width:P,height:L,centerX:Math.floor(P/2),centerY:Math.floor(L/2),xOffset:g(A,"xoffset"),yOffset:g(A,"yoffset"),xAdvance:g(A,"xadvance")+c,data:{},kerning:{},u0:_,v0:G,u1:$,v1:W},h&&P!==0&&L!==0){var Y=h.add(B,v,M,O,P,L);Y&&Y.setUVs(P,L,_,G,$,W)}}var z=o.getElementsByTagName("kerning");for(k=0;k<z.length;k++){var F=z[k],N=g(F,"first"),j=g(F,"second"),U=g(F,"amount");y.chars[j].kerning[N]=U}return y};s.exports=i},196:(s,g,i)=>{var o=i(87662),m=i(79291),c={Parse:i(6925)};c=m(!1,c,o),s.exports=c},87662:s=>{var g={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};s.exports=g},2638:(s,g,i)=>{var o=i(22186),m=i(83419),c=i(12310),l=new m({Extends:o,Mixins:[c],initialize:function(a,f,p,u,v,y,x){o.call(this,a,f,p,u,v,y,x),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(h,a){return this.cropWidth=h,this.cropHeight=a,this},setDisplayCallback:function(h){return this.displayCallback=h,this},setScrollX:function(h){return this.scrollX=h,this},setScrollY:function(h){return this.scrollY=h,this}});s.exports=l},86741:(s,g,i)=>{var o=i(20926),m=function(c,l,h,a){var f=l._text,p=f.length,u=c.currentContext;if(!(p===0||!o(c,u,l,h,a))){h.addToRenderList(l);var v=l.fromAtlas?l.frame:l.texture.frames.__BASE,y=l.displayCallback,x=l.callbackData,b=l.fontData.chars,w=l.fontData.lineHeight,C=l._letterSpacing,E=0,T=0,k=0,A=null,I=0,B=0,M=0,O=0,P=0,L=0,_=null,G=0,$=l.frame.source.image,W=v.cutX,Y=v.cutY,z=0,F=0,N=l._fontSize/l.fontData.size,j=l._align,U=0,V=0;l.getTextBounds(!1);var q=l._bounds.lines;j===1?V=(q.longest-q.lengths[0])/2:j===2&&(V=q.longest-q.lengths[0]),u.translate(-l.displayOriginX,-l.displayOriginY);var ot=h.roundPixels;l.cropWidth>0&&l.cropHeight>0&&(u.beginPath(),u.rect(0,0,l.cropWidth,l.cropHeight),u.clip());for(var Q=0;Q<p;Q++){if(F=N,z=0,k=f.charCodeAt(Q),k===10){U++,j===1?V=(q.longest-q.lengths[U])/2:j===2&&(V=q.longest-q.lengths[U]),E=0,T+=w,_=null;continue}if(A=b[k],!!A){if(I=W+A.x,B=Y+A.y,M=A.width,O=A.height,P=A.xOffset+E-l.scrollX,L=A.yOffset+T-l.scrollY,_!==null){var rt=A.kerning[G];P+=rt!==void 0?rt:0}if(y){x.index=Q,x.charCode=k,x.x=P,x.y=L,x.scale=F,x.rotation=z,x.data=A.data;var Bt=y(x);P=Bt.x,L=Bt.y,F=Bt.scale,z=Bt.rotation}P*=F,L*=F,P+=V,E+=A.xAdvance+C+(rt!==void 0?rt:0),_=A,G=k,!(M===0||O===0||k===32)&&(ot&&(P=Math.round(P),L=Math.round(L)),u.save(),u.translate(P,L),u.rotate(z),u.scale(F,F),u.drawImage($,I,B,M,O,0,0,M,O),u.restore())}}u.restore()}};s.exports=m},11164:(s,g,i)=>{var o=i(2638),m=i(25305),c=i(44603),l=i(23568);c.register("dynamicBitmapText",function(h,a){h===void 0&&(h={});var f=l(h,"font",""),p=l(h,"text",""),u=l(h,"size",!1),v=new o(this.scene,0,0,f,p,u);return a!==void 0&&(h.add=a),m(this.scene,v,h),v})},72566:(s,g,i)=>{var o=i(2638),m=i(39429);m.register("dynamicBitmapText",function(c,l,h,a,f){return this.displayList.add(new o(this.scene,c,l,h,a,f))})},12310:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(73482),c=i(86741),s.exports={renderWebGL:m,renderCanvas:c}},73482:(s,g,i)=>{var o=i(91296),m=i(61340),c=i(70554),l=new m,h=function(a,f,p,u){var v=f.text,y=v.length;if(y!==0){p.addToRenderList(f);var x=a.pipelines.set(f.pipeline,f),b=o(f,p,u);a.pipelines.preBatch(f);var w=b.sprite,C=b.calc,E=l,T=f.cropWidth>0||f.cropHeight>0;T&&(x.flush(),a.pushScissor(C.tx,C.ty,f.cropWidth*C.scaleX,f.cropHeight*C.scaleY));var k=f.frame,A=k.glTexture,I=f.tintFill,B=c.getTintAppendFloatAlpha(f.tintTopLeft,p.alpha*f._alphaTL),M=c.getTintAppendFloatAlpha(f.tintTopRight,p.alpha*f._alphaTR),O=c.getTintAppendFloatAlpha(f.tintBottomLeft,p.alpha*f._alphaBL),P=c.getTintAppendFloatAlpha(f.tintBottomRight,p.alpha*f._alphaBR),L=x.setGameObject(f),_=0,G=0,$=0,W=0,Y=f.letterSpacing,z,F=0,N=0,j,U=f.scrollX,V=f.scrollY,q=f.fontData,ot=q.chars,Q=q.lineHeight,rt=f.fontSize/q.size,Bt=0,K=f._align,Mt=0,Ft=0,dt=f.getTextBounds(!1);f.maxWidth>0&&(v=dt.wrappedText,y=v.length);var yt=f._bounds.lines;K===1?Ft=(yt.longest-yt.lengths[0])/2:K===2&&(Ft=yt.longest-yt.lengths[0]);for(var At=p.roundPixels,Ot=f.displayCallback,le=f.callbackData,_t=0;_t<y;_t++){if($=v.charCodeAt(_t),$===10){Mt++,K===1?Ft=(yt.longest-yt.lengths[Mt])/2:K===2&&(Ft=yt.longest-yt.lengths[Mt]),_=0,G+=Q,j=null;continue}if(z=ot[$],!!z){F=z.width,N=z.height;var xe=z.xOffset+_-U,ke=z.yOffset+G-V;if(j!==null){var ve=z.kerning[W];xe+=ve!==void 0?ve:0}if(_+=z.xAdvance+Y,j=z,W=$,!(F===0||N===0||$===32)){if(rt=f.fontSize/f.fontData.size,Bt=0,Ot){le.color=0,le.tint.topLeft=B,le.tint.topRight=M,le.tint.bottomLeft=O,le.tint.bottomRight=P,le.index=_t,le.charCode=$,le.x=xe,le.y=ke,le.scale=rt,le.rotation=Bt,le.data=z.data;var Fe=Ot(le);xe=Fe.x,ke=Fe.y,rt=Fe.scale,Bt=Fe.rotation,Fe.color?(B=Fe.color,M=Fe.color,O=Fe.color,P=Fe.color):(B=Fe.tint.topLeft,M=Fe.tint.topRight,O=Fe.tint.bottomLeft,P=Fe.tint.bottomRight),B=c.getTintAppendFloatAlpha(B,p.alpha*f._alphaTL),M=c.getTintAppendFloatAlpha(M,p.alpha*f._alphaTR),O=c.getTintAppendFloatAlpha(O,p.alpha*f._alphaBL),P=c.getTintAppendFloatAlpha(P,p.alpha*f._alphaBR)}xe*=rt,ke*=rt,xe-=f.displayOriginX,ke-=f.displayOriginY,xe+=Ft,E.applyITRS(xe,ke,Bt,rt,rt),C.multiply(E,w);var Ze=z.u0,ei=z.v0,Ci=z.u1,xt=z.v1,et=F,tt=N,Nt=w.e,ie=w.f,Ce=tt*w.c+w.e,Le=tt*w.d+w.f,Gi=et*w.a+tt*w.c+w.e,Sr=et*w.b+tt*w.d+w.f,lr=et*w.a+w.e,gr=et*w.b+w.f;At&&(Nt=Math.round(Nt),ie=Math.round(ie),Ce=Math.round(Ce),Le=Math.round(Le),Gi=Math.round(Gi),Sr=Math.round(Sr),lr=Math.round(lr),gr=Math.round(gr)),x.shouldFlush(6)&&(x.flush(),L=x.setGameObject(f)),x.batchQuad(f,Nt,ie,Ce,Le,Gi,Sr,lr,gr,Ze,ei,Ci,xt,B,M,O,P,I,A,L)}}}T&&(x.flush(),a.popScissor()),a.pipelines.postBatch(f)}};s.exports=h},22186:(s,g,i)=>{var o=i(83419),m=i(45319),c=i(31401),l=i(95643),h=i(53048),a=i(61327),f=i(21859),p=i(87841),u=i(18658),v=new o({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Texture,c.Tint,c.Transform,c.Visible,u],initialize:function(x,b,w,C,E,T,k){E===void 0&&(E=""),k===void 0&&(k=0),l.call(this,x,"BitmapText"),this.font=C;var A=this.scene.sys.cache.bitmapFont.get(C);A||console.warn("Invalid BitmapText key: "+C),this.fontData=A.data,this._text="",this._fontSize=T||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=k,this._bounds=h(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(b,w),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(E)},setLeftAlign:function(){return this._align=v.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=v.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=v.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(y){return this._fontSize=y,this._dirty=!0,this},setLetterSpacing:function(y){return y===void 0&&(y=0),this._letterSpacing=y,this._dirty=!0,this},setLineSpacing:function(y){return y===void 0&&(y=0),this.lineSpacing=y,this},setText:function(y){return!y&&y!==0&&(y=""),Array.isArray(y)&&(y=y.join(`
`)),y!==this.text&&(this._text=y.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(y,x,b,w){return y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=.5),this.dropShadowX=y,this.dropShadowY=x,this.dropShadowColor=b,this.dropShadowAlpha=w,this},setCharacterTint:function(y,x,b,w,C,E,T){y===void 0&&(y=0),x===void 0&&(x=1),b===void 0&&(b=!1),w===void 0&&(w=-1),C===void 0&&(C=w,E=w,T=w);var k=this.text.length;x===-1&&(x=k),y<0&&(y=k+y),y=m(y,0,k-1);for(var A=m(y+x,y,k),I=this.charColors,B=y;B<A;B++){var M=I[B];if(w===-1)I[B]=null;else{var O=b?1:0;M?(M.tintEffect=O,M.tintTL=w,M.tintTR=C,M.tintBL=E,M.tintBR=T):I[B]={tintEffect:O,tintTL:w,tintTR:C,tintBL:E,tintBR:T}}}return this},setWordTint:function(y,x,b,w,C,E,T){x===void 0&&(x=1);for(var k=this.getTextBounds(),A=k.words,I=typeof y=="number",B=0,M=0;M<A.length;M++){var O=A[M];if((I&&M===y||!I&&O.word===y)&&(this.setCharacterTint(O.i,O.word.length,b,w,C,E,T),B++,B===x))return this}return this},getTextBounds:function(y){var x=this._bounds;return(this._dirty||y||this.scaleX!==x.scaleX||this.scaleY!==x.scaleY)&&(h(this,y,!0,x),this._dirty=!1),x},getCharacterAt:function(y,x,b){for(var w=this.getLocalPoint(y,x,null,b),C=this.getTextBounds(),E=C.characters,T=new p,k=0;k<E.length;k++){var A=E[k];if(T.setTo(A.x,A.t,A.r-A.x,A.b),T.contains(w.x,w.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(y,x,b){x===void 0&&(x=this._fontSize),b===void 0&&(b=this._align);var w=this.scene.sys.cache.bitmapFont.get(y);return w&&(this.font=y,this.fontData=w.data,this._fontSize=x,this._align=b,this.fromAtlas=w.fromAtlas===!0,this.setTexture(w.texture,w.frame),h(this,!1,!0,this._bounds)),this},setMaxWidth:function(y,x){return this._maxWidth=y,this._dirty=!0,x!==void 0&&(this.wordWrapCharCode=x),this},align:{set:function(y){this._align=y,this._dirty=!0},get:function(){return this._align}},text:{set:function(y){this.setText(y)},get:function(){return this._text}},fontSize:{set:function(y){this._fontSize=y,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(y){this._letterSpacing=y,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(y){this._lineSpacing=y,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(y){this._maxWidth=y,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var y=c.ToJSON(this),x={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return y.data=x,y},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});v.ALIGN_LEFT=0,v.ALIGN_CENTER=1,v.ALIGN_RIGHT=2,v.ParseFromAtlas=a,v.ParseXMLBitmapFont=f,s.exports=v},37289:(s,g,i)=>{var o=i(20926),m=function(c,l,h,a){var f=l._text,p=f.length,u=c.currentContext;if(!(p===0||!o(c,u,l,h,a))){h.addToRenderList(l);var v=l.fromAtlas?l.frame:l.texture.frames.__BASE,y=l.fontData.chars,x=l.fontData.lineHeight,b=l._letterSpacing,w=l._lineSpacing,C=0,E=0,T=0,k=null,A=0,I=0,B=0,M=0,O=0,P=0,L=null,_=0,G=v.source.image,$=v.cutX,W=v.cutY,Y=l._fontSize/l.fontData.size,z=l._align,F=0,N=0,j=l.getTextBounds(!1);l.maxWidth>0&&(f=j.wrappedText,p=f.length);var U=l._bounds.lines;z===1?N=(U.longest-U.lengths[0])/2:z===2&&(N=U.longest-U.lengths[0]),u.translate(-l.displayOriginX,-l.displayOriginY);for(var V=h.roundPixels,q=0;q<p;q++){if(T=f.charCodeAt(q),T===10){F++,z===1?N=(U.longest-U.lengths[F])/2:z===2&&(N=U.longest-U.lengths[F]),C=0,E+=x+w,L=null;continue}if(k=y[T],!!k){if(A=$+k.x,I=W+k.y,B=k.width,M=k.height,O=k.xOffset+C,P=k.yOffset+E,L!==null){var ot=k.kerning[_];O+=ot!==void 0?ot:0}O*=Y,P*=Y,O+=N,C+=k.xAdvance+b+(ot!==void 0?ot:0),L=k,_=T,!(B===0||M===0||T===32)&&(V&&(O=Math.round(O),P=Math.round(P)),u.save(),u.translate(O,P),u.scale(Y,Y),u.drawImage(G,A,I,B,M,0,0,B,M),u.restore())}}u.restore()}};s.exports=m},57336:(s,g,i)=>{var o=i(22186),m=i(25305),c=i(44603),l=i(23568),h=i(35154);c.register("bitmapText",function(a,f){a===void 0&&(a={});var p=h(a,"font",""),u=l(a,"text",""),v=l(a,"size",!1),y=h(a,"align",0),x=new o(this.scene,0,0,p,u,v,y);return f!==void 0&&(a.add=f),m(this.scene,x,a),x})},34914:(s,g,i)=>{var o=i(22186),m=i(39429);m.register("bitmapText",function(c,l,h,a,f,p){return this.displayList.add(new o(this.scene,c,l,h,a,f,p))})},18658:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(33590),c=i(37289),s.exports={renderWebGL:m,renderCanvas:c}},33590:(s,g,i)=>{var o=i(3217),m=i(91296),c=i(70554),l=function(h,a,f,p){var u=a._text,v=u.length;if(v!==0){f.addToRenderList(a);var y=h.pipelines.set(a.pipeline,a),x=m(a,f,p).calc;h.pipelines.preBatch(a);var b=f.roundPixels,w=f.alpha,C=a.charColors,E=a.tintFill,T=c.getTintAppendFloatAlpha,k=T(a.tintTopLeft,w*a._alphaTL),A=T(a.tintTopRight,w*a._alphaTR),I=T(a.tintBottomLeft,w*a._alphaBL),B=T(a.tintBottomRight,w*a._alphaBR),M=a.frame.glTexture,O=y.setGameObject(a),P=a.getTextBounds(!1),L,_,G,$=P.characters,W=a.dropShadowX,Y=a.dropShadowY,z=W!==0||Y!==0;if(z){var F=a.dropShadowColor,N=a.dropShadowAlpha,j=T(F,w*N*a._alphaTL),U=T(F,w*N*a._alphaTR),V=T(F,w*N*a._alphaBL),q=T(F,w*N*a._alphaBR);for(L=0;L<$.length;L++)_=$[L],G=_.glyph,!(_.code===32||G.width===0||G.height===0)&&o(y,a,_,G,W,Y,x,b,j,U,V,q,1,M,O)}for(L=0;L<$.length;L++)if(_=$[L],G=_.glyph,!(_.code===32||G.width===0||G.height===0))if(y.shouldFlush(6)&&(y.flush(),O=y.setGameObject(a)),C[_.i]){var ot=C[_.i],Q=ot.tintEffect,rt=T(ot.tintTL,w*a._alphaTL),Bt=T(ot.tintTR,w*a._alphaTR),K=T(ot.tintBL,w*a._alphaBL),Mt=T(ot.tintBR,w*a._alphaBR);o(y,a,_,G,0,0,x,b,rt,Bt,K,Mt,Q,M,O)}else o(y,a,_,G,0,0,x,b,k,A,I,B,E,M,O);h.pipelines.postBatch(a)}};s.exports=l},6107:(s,g,i)=>{var o=i(48011),m=i(46590),c=i(83419),l=i(31401),h=i(4327),a=i(95643),f=i(73162),p=new c({Extends:a,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.Texture,l.Transform,l.Visible,o],initialize:function(v,y,x,b,w){a.call(this,v,"Blitter"),this.setTexture(b,w),this.setPosition(y,x),this.initPipeline(),this.initPostPipeline(),this.children=new f,this.renderList=[],this.dirty=!1},create:function(u,v,y,x,b){x===void 0&&(x=!0),b===void 0&&(b=this.children.length),y===void 0?y=this.frame:y instanceof h||(y=this.texture.get(y));var w=new m(this,u,v,y,x);return this.children.addAt(w,b,!1),this.dirty=!0,w},createFromCallback:function(u,v,y,x){for(var b=this.createMultiple(v,y,x),w=0;w<b.length;w++){var C=b[w];u.call(this,C,w)}return b},createMultiple:function(u,v,y){v===void 0&&(v=this.frame.name),y===void 0&&(y=!0),Array.isArray(v)||(v=[v]);var x=[],b=this;return v.forEach(function(w){for(var C=0;C<u;C++)x.push(b.create(0,0,w,y))}),x},childCanRender:function(u){return u.visible&&u.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});s.exports=p},72396:s=>{var g=function(i,o,m,c){var l=o.getRenderList();if(l.length!==0){var h=i.currentContext,a=m.alpha*o.alpha;if(a!==0){m.addToRenderList(o),h.globalCompositeOperation=i.blendModes[o.blendMode],h.imageSmoothingEnabled=!o.frame.source.scaleMode;var f=o.x-m.scrollX*o.scrollFactorX,p=o.y-m.scrollY*o.scrollFactorY;h.save(),c&&c.copyToContext(h);for(var u=m.roundPixels,v=0;v<l.length;v++){var y=l[v],x=y.flipX||y.flipY,b=y.frame,w=b.canvasData,C=b.x,E=b.y,T=1,k=1,A=y.alpha*a;A!==0&&(h.globalAlpha=A,x?(y.flipX&&(T=-1,C-=w.width),y.flipY&&(k=-1,E-=w.height),w.width>0&&w.height>0&&(h.save(),h.translate(y.x+f,y.y+p),h.scale(T,k),h.drawImage(b.source.image,w.x,w.y,w.width,w.height,C,E,w.width,w.height),h.restore())):(u&&(C=Math.round(C),E=Math.round(E)),w.width>0&&w.height>0&&h.drawImage(b.source.image,w.x,w.y,w.width,w.height,C+y.x+f,E+y.y+p,w.width,w.height)))}h.restore()}}};s.exports=g},9403:(s,g,i)=>{var o=i(6107),m=i(25305),c=i(44603),l=i(23568);c.register("blitter",function(h,a){h===void 0&&(h={});var f=l(h,"key",null),p=l(h,"frame",null),u=new o(this.scene,0,0,f,p);return a!==void 0&&(h.add=a),m(this.scene,u,h),u})},12709:(s,g,i)=>{var o=i(6107),m=i(39429);m.register("blitter",function(c,l,h,a){return this.displayList.add(new o(this.scene,c,l,h,a))})},48011:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(99485),c=i(72396),s.exports={renderWebGL:m,renderCanvas:c}},99485:(s,g,i)=>{var o=i(61340),m=i(70554),c=new o,l=function(h,a,f,p){var u=a.getRenderList(),v=f.alpha*a.alpha;if(!(u.length===0||v===0)){f.addToRenderList(a);var y=h.pipelines.set(this.pipeline,a),x=f.scrollX*a.scrollFactorX,b=f.scrollY*a.scrollFactorY,w=c.copyFrom(f.matrix);p&&(w.multiplyWithOffset(p,-x,-b),x=0,b=0);var C=a.x-x,E=a.y-b,T=-1,k=!1;h.pipelines.preBatch(a);for(var A=0;A<u.length;A++){var I=u[A],B=I.frame,M=I.alpha*v;if(M!==0){var O=B.width,P=B.height,L=C+I.x+B.x,_=E+I.y+B.y;I.flipX&&(O*=-1,L+=B.width),I.flipY&&(P*=-1,_+=B.height);var G=w.setQuad(L,_,L+O,_+P),$=m.getTintAppendFloatAlpha(I.tint,M);if(B.sourceIndex!==T){var W=y.setGameObject(a,B);T=B.sourceIndex}y.batchQuad(a,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],B.u0,B.v0,B.u1,B.v1,$,$,$,$,k,B.glTexture,W)&&(T=-1)}}h.pipelines.postBatch(a)}};s.exports=l},46590:(s,g,i)=>{var o=i(83419),m=i(4327),c=new o({initialize:function(h,a,f,p,u){this.parent=h,this.x=a,this.y=f,this.frame=p,this.data={},this.tint=16777215,this._visible=u,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(l){return l===void 0?this.frame=this.parent.frame:l instanceof m&&l.texture===this.parent.texture?this.frame=l:this.frame=this.parent.texture.get(l),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(l,h,a){return this.x=l,this.y=h,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,a&&this.setFrame(a),this},setPosition:function(l,h){return this.x=l,this.y=h,this},setFlipX:function(l){return this.flipX=l,this},setFlipY:function(l){return this.flipY=l,this},setFlip:function(l,h){return this.flipX=l,this.flipY=h,this},setVisible:function(l){return this.visible=l,this},setAlpha:function(l){return this.alpha=l,this},setTint:function(l){return this.tint=l,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(l){this.parent.dirty|=this._visible!==l,this._visible=l}},alpha:{get:function(){return this._alpha},set:function(l){this.parent.dirty|=this._alpha>0!=l>0,this._alpha=l}}});s.exports=c},16005:(s,g,i)=>{var o=i(45319),m=2,c={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l,h,a,f){return l===void 0&&(l=1),h===void 0?this.alpha=l:(this._alphaTL=o(l,0,1),this._alphaTR=o(h,0,1),this._alphaBL=o(a,0,1),this._alphaBR=o(f,0,1)),this},alpha:{get:function(){return this._alpha},set:function(l){var h=o(l,0,1);this._alpha=h,this._alphaTL=h,this._alphaTR=h,this._alphaBL=h,this._alphaBR=h,h===0?this.renderFlags&=~m:this.renderFlags|=m}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(l){var h=o(l,0,1);this._alphaTL=h,h!==0&&(this.renderFlags|=m)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(l){var h=o(l,0,1);this._alphaTR=h,h!==0&&(this.renderFlags|=m)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(l){var h=o(l,0,1);this._alphaBL=h,h!==0&&(this.renderFlags|=m)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(l){var h=o(l,0,1);this._alphaBR=h,h!==0&&(this.renderFlags|=m)}}};s.exports=c},88509:(s,g,i)=>{var o=i(45319),m=2,c={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l){return l===void 0&&(l=1),this.alpha=l,this},alpha:{get:function(){return this._alpha},set:function(l){var h=o(l,0,1);this._alpha=h,h===0?this.renderFlags&=~m:this.renderFlags|=m}}};s.exports=c},90065:(s,g,i)=>{var o=i(10312),m={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(c){typeof c=="string"&&(c=o[c]),c|=0,c>=-1&&(this._blendMode=c)}},setBlendMode:function(c){return this.blendMode=c,this}};s.exports=m},94215:s=>{var g={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}},setSize:function(i,o){return this.width=i,this.height=o,this},setDisplaySize:function(i,o){return this.displayWidth=i,this.displayHeight=o,this}};s.exports=g},61683:s=>{var g={texture:null,frame:null,isCropped:!1,setCrop:function(i,o,m,c){if(i===void 0)this.isCropped=!1;else if(this.frame){if(typeof i=="number")this.frame.setCropUVs(this._crop,i,o,m,c,this.flipX,this.flipY);else{var l=i;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};s.exports=g},89272:s=>{var g={_depth:0,depth:{get:function(){return this._depth},set:function(i){this.displayList&&this.displayList.queueDepthSort(),this._depth=i}},setDepth:function(i){return i===void 0&&(i=0),this.depth=i,this}};s.exports=g},47059:(s,g,i)=>{var o=i(83419),m=i(66064),c=i(19133),l=new o({initialize:function(a,f){this.gameObject=a,this.isPost=f,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(h){return h===void 0&&(h=0),this.padding=h,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(h){if(!this.isPost){var a=this.gameObject.scene.sys.renderer;a&&a.pipelines?(this.gameObject.pipeline=a.pipelines.FX_PIPELINE,h!==void 0&&(this.padding=h),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var h=this.list,a=0;a<h.length;a++)h[a].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(h){var a;if(this.isPost){var f=this.gameObject.getPostPipeline(String(h.type));for(Array.isArray(f)||(f=[f]),a=0;a<f.length;a++){var p=f[a];if(p.controller===h){this.gameObject.removePostPipeline(p),h.destroy();break}}}else{var u=this.list;for(a=0;a<u.length;a++)u[a]===h&&(c(u,a),h.destroy())}return this.gameObject},disable:function(h){return h===void 0&&(h=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,h&&this.clear(),this.gameObject},add:function(h,a){if(this.isPost){var f=String(h.type);this.gameObject.setPostPipeline(f,a);var p=this.gameObject.getPostPipeline(f);if(p)return Array.isArray(p)&&(p=p.pop()),p.controller=h,h}else return this.enabled||this.enable(),this.list.push(h),h},addGlow:function(h,a,f,p,u,v){return this.add(new m.Glow(this.gameObject,h,a,f,p),{quality:u,distance:v})},addShadow:function(h,a,f,p,u,v,y){return this.add(new m.Shadow(this.gameObject,h,a,f,p,u,v,y))},addPixelate:function(h){return this.add(new m.Pixelate(this.gameObject,h))},addVignette:function(h,a,f,p){return this.add(new m.Vignette(this.gameObject,h,a,f,p))},addShine:function(h,a,f,p){return this.add(new m.Shine(this.gameObject,h,a,f,p))},addBlur:function(h,a,f,p,u,v){return this.add(new m.Blur(this.gameObject,h,a,f,p,u,v))},addGradient:function(h,a,f,p,u,v,y,x){return this.add(new m.Gradient(this.gameObject,h,a,f,p,u,v,y,x))},addBloom:function(h,a,f,p,u,v){return this.add(new m.Bloom(this.gameObject,h,a,f,p,u,v))},addColorMatrix:function(){return this.add(new m.ColorMatrix(this.gameObject))},addCircle:function(h,a,f,p,u){return this.add(new m.Circle(this.gameObject,h,a,f,p,u))},addBarrel:function(h){return this.add(new m.Barrel(this.gameObject,h))},addDisplacement:function(h,a,f){return this.add(new m.Displacement(this.gameObject,h,a,f))},addWipe:function(h,a,f){return this.add(new m.Wipe(this.gameObject,h,a,f))},addReveal:function(h,a,f){return this.add(new m.Wipe(this.gameObject,h,a,f,!0))},addBokeh:function(h,a,f){return this.add(new m.Bokeh(this.gameObject,h,a,f))},addTiltShift:function(h,a,f,p,u,v){return this.add(new m.Bokeh(this.gameObject,h,a,f,!0,p,u,v))},destroy:function(){this.clear(),this.gameObject=null}});s.exports=l},54434:s=>{var g={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,o){return this.flipX=i,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};s.exports=g},8004:(s,g,i)=>{var o=i(87841),m=i(11520),c=i(26099),l={prepareBoundsOutput:function(h,a){if(a===void 0&&(a=!1),this.rotation!==0&&m(h,this.x,this.y,this.rotation),a&&this.parentContainer){var f=this.parentContainer.getBoundsTransformMatrix();f.transformPoint(h.x,h.y,h)}return h},getCenter:function(h,a){return h===void 0&&(h=new c),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,a)},getTopLeft:function(h,a){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,a)},getTopCenter:function(h,a){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,a)},getTopRight:function(h,a){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(h,a)},getLeftCenter:function(h,a){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,a)},getRightCenter:function(h,a){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(h,a)},getBottomLeft:function(h,a){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,a)},getBottomCenter:function(h,a){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,a)},getBottomRight:function(h,a){return h||(h=new c),h.x=this.x-this.displayWidth*this.originX+this.displayWidth,h.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(h,a)},getBounds:function(h){h===void 0&&(h=new o);var a,f,p,u,v,y,x,b;if(this.parentContainer){var w=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(h),w.transformPoint(h.x,h.y,h),a=h.x,f=h.y,this.getTopRight(h),w.transformPoint(h.x,h.y,h),p=h.x,u=h.y,this.getBottomLeft(h),w.transformPoint(h.x,h.y,h),v=h.x,y=h.y,this.getBottomRight(h),w.transformPoint(h.x,h.y,h),x=h.x,b=h.y}else this.getTopLeft(h),a=h.x,f=h.y,this.getTopRight(h),p=h.x,u=h.y,this.getBottomLeft(h),v=h.x,y=h.y,this.getBottomRight(h),x=h.x,b=h.y;return h.x=Math.min(a,p,v,x),h.y=Math.min(f,u,y,b),h.width=Math.max(a,p,v,x)-h.x,h.height=Math.max(f,u,y,b)-h.y,h}};s.exports=l},8573:(s,g,i)=>{var o=i(6858),m=i(80661),c={mask:null,setMask:function(l){return this.mask=l,this},clearMask:function(l){return l===void 0&&(l=!1),l&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(l,h,a,f,p){return l===void 0&&(this.texture||this.shader||this.geom)&&(l=this),new o(this.scene,l,h,a,f,p)},createGeometryMask:function(l){return l===void 0&&(this.type==="Graphics"||this.geom)&&(l=this),new m(this.scene,l)}};s.exports=c},27387:s=>{var g={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(i){this._displayOriginX=i,this.originX=i/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(i){this._displayOriginY=i,this.originY=i/this.height}},setOrigin:function(i,o){return i===void 0&&(i=.5),o===void 0&&(o=i),this.originX=i,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(i,o){return i===void 0&&(i=0),o===void 0&&(o=i),this.displayOriginX=i,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};s.exports=g},37640:(s,g,i)=>{var o=i(39506),m=i(57355),c=i(35154),l=i(86353),h=i(26099),a={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:l.PLAYING_FORWARD,setPath:function(f,p){p===void 0&&(p=this.pathConfig);var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this.path=f,p&&this.startFollow(p),this},setRotateToPath:function(f,p){return p===void 0&&(p=0),this.rotateToPath=f,this.pathRotationOffset=p,this},isFollowing:function(){var f=this.pathTween;return f&&f.isPlaying()},startFollow:function(f,p){f===void 0&&(f={}),p===void 0&&(p=0);var u=this.pathTween;u&&u.isPlaying()&&u.stop(),typeof f=="number"&&(f={duration:f}),f.from=c(f,"from",0),f.to=c(f,"to",1);var v=m(f,"positionOnPath",!1);this.rotateToPath=m(f,"rotateToPath",!1),this.pathRotationOffset=c(f,"rotationOffset",0);var y=c(f,"startAt",p);if(y&&(f.onStart=function(b){var w=b.data[0];w.progress=y,w.elapsed=w.duration*y;var C=w.ease(w.progress);w.current=w.start+(w.end-w.start)*C,w.setTargetValue()}),this.pathOffset||(this.pathOffset=new h(this.x,this.y)),this.pathVector||(this.pathVector=new h),this.pathDelta||(this.pathDelta=new h),this.pathDelta.reset(),f.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(f),this.path.getStartPoint(this.pathOffset),v&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=l.PLAYING_FORWARD,this.rotateToPath){var x=this.path.getPoint(.1);this.rotation=Math.atan2(x.y-this.y,x.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=f,this},pauseFollow:function(){var f=this.pathTween;return f&&f.isPlaying()&&f.pause(),this},resumeFollow:function(){var f=this.pathTween;return f&&f.isPaused()&&f.resume(),this},stopFollow:function(){var f=this.pathTween;return f&&f.isPlaying()&&f.stop(),this},pathUpdate:function(){var f=this.pathTween;if(f&&f.data){var p=f.data[0],u=this.pathDelta,v=this.pathVector;if(u.copy(v).negate(),p.state===l.COMPLETE){this.path.getPoint(p.end,v),u.add(v),v.add(this.pathOffset),this.setPosition(v.x,v.y);return}else if(p.state!==l.PLAYING_FORWARD&&p.state!==l.PLAYING_BACKWARD)return;this.path.getPoint(f.getValue(),v),u.add(v),v.add(this.pathOffset);var y=this.x,x=this.y;this.setPosition(v.x,v.y);var b=this.x-y,w=this.y-x;if(b===0&&w===0)return;if(p.state!==this._prevDirection){this._prevDirection=p.state;return}this.rotateToPath&&(this.rotation=Math.atan2(w,b)+o(this.pathRotationOffset))}}};s.exports=a},72699:(s,g,i)=>{var o=i(62644),m={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(c){this.pipelineData={};var l=this.scene.sys.renderer;if(!l)return!1;var h=l.pipelines;if(h){c===void 0&&(c=h.default);var a=h.get(c);if(a)return this.defaultPipeline=a,this.pipeline=a,!0}return!1},setPipeline:function(c,l,h){var a=this.scene.sys.renderer;if(!a)return this;var f=a.pipelines;if(f){var p=f.get(c);p&&(this.pipeline=p),l&&(this.pipelineData=h?o(l):l)}return this},setPipelineData:function(c,l){var h=this.pipelineData;return l===void 0?delete h[c]:h[c]=l,this},resetPipeline:function(c){return c===void 0&&(c=!1),this.pipeline=this.defaultPipeline,c&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};s.exports=m},17581:(s,g,i)=>{var o=i(62644),m=i(47059),c=i(19133),l={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(h){this.postPipelines=[],this.postPipelineData={},this.postFX=new m(this,!0),h&&(this.preFX=new m(this,!1))},setPostPipeline:function(h,a,f){var p=this.scene.sys.renderer;if(!p)return this;var u=p.pipelines;if(u){Array.isArray(h)||(h=[h]);for(var v=0;v<h.length;v++){var y=u.getPostPipeline(h[v],this,a);y&&this.postPipelines.push(y)}a&&(this.postPipelineData=f?o(a):a)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(h,a){var f=this.postPipelineData;return a===void 0?delete f[h]:f[h]=a,this},getPostPipeline:function(h){for(var a=typeof h=="string",f=this.postPipelines,p=[],u=0;u<f.length;u++){var v=f[u];(a&&v.name===h||!a&&v instanceof h)&&p.push(v)}return p.length===1?p[0]:p},resetPostPipeline:function(h){h===void 0&&(h=!1);for(var a=this.postPipelines,f=0;f<a.length;f++)a[f].destroy();this.postPipelines=[],this.hasPostPipeline=!1,h&&(this.postPipelineData={})},removePostPipeline:function(h){for(var a=typeof h=="string",f=this.postPipelines,p=f.length-1;p>=0;p--){var u=f[p];(a&&u.name===h||!a&&u===h)&&(u.destroy(),c(f,p))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};s.exports=l},80227:s=>{var g={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(i,o){return o===void 0&&(o=i),this.scrollFactorX=i,this.scrollFactorY=o,this}};s.exports=g},16736:s=>{var g={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(i){this.scaleX=i/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(i){this.scaleY=i/this.frame.realHeight}},setSizeToFrame:function(i){i||(i=this.frame),this.width=i.realWidth,this.height=i.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(i,o){return this.width=i,this.height=o,this},setDisplaySize:function(i,o){return this.displayWidth=i,this.displayHeight=o,this}};s.exports=g},37726:(s,g,i)=>{var o=i(4327),m=8,c={texture:null,frame:null,isCropped:!1,setTexture:function(l,h,a,f){return this.texture=this.scene.sys.textures.get(l),this.setFrame(h,a,f)},setFrame:function(l,h,a){return h===void 0&&(h=!0),a===void 0&&(a=!0),l instanceof o?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};s.exports=c},79812:(s,g,i)=>{var o=i(4327),m=8,c={texture:null,frame:null,isCropped:!1,setCrop:function(l,h,a,f){if(l===void 0)this.isCropped=!1;else if(this.frame){if(typeof l=="number")this.frame.setCropUVs(this._crop,l,h,a,f,this.flipX,this.flipY);else{var p=l;this.frame.setCropUVs(this._crop,p.x,p.y,p.width,p.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(l,h){return this.texture=this.scene.sys.textures.get(l),this.setFrame(h)},setFrame:function(l,h,a){return h===void 0&&(h=!0),a===void 0&&(a=!0),l instanceof o?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~m:this.renderFlags|=m,this._sizeComponent&&h&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};s.exports=c},27472:s=>{var g={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(i,o,m,c){return i===void 0&&(i=16777215),o===void 0&&(o=i,m=i,c=i),this.tintTopLeft=i,this.tintTopRight=o,this.tintBottomLeft=m,this.tintBottomRight=c,this.tintFill=!1,this},setTintFill:function(i,o,m,c){return this.setTint(i,o,m,c),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(i){this.setTint(i,i,i,i)}},isTinted:{get:function(){var i=16777215;return this.tintFill||this.tintTopLeft!==i||this.tintTopRight!==i||this.tintBottomLeft!==i||this.tintBottomRight!==i}}};s.exports=g},53774:s=>{var g=function(i){var o={name:i.name,type:i.type,x:i.x,y:i.y,depth:i.depth,scale:{x:i.scaleX,y:i.scaleY},origin:{x:i.originX,y:i.originY},flipX:i.flipX,flipY:i.flipY,rotation:i.rotation,alpha:i.alpha,visible:i.visible,blendMode:i.blendMode,textureKey:"",frameKey:"",data:{}};return i.texture&&(o.textureKey=i.texture.key,o.frameKey=i.frame.name),o};s.exports=g},16901:(s,g,i)=>{var o=i(36383),m=i(61340),c=i(85955),l=i(86554),h=i(30954),a=i(26099),f=4,p={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(u){this._scaleX=u,this._scaleY=u,u===0?this.renderFlags&=~f:this.renderFlags|=f}},scaleX:{get:function(){return this._scaleX},set:function(u){this._scaleX=u,u===0?this.renderFlags&=~f:this._scaleY!==0&&(this.renderFlags|=f)}},scaleY:{get:function(){return this._scaleY},set:function(u){this._scaleY=u,u===0?this.renderFlags&=~f:this._scaleX!==0&&(this.renderFlags|=f)}},angle:{get:function(){return h(this._rotation*o.RAD_TO_DEG)},set:function(u){this.rotation=h(u)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=l(u)}},setPosition:function(u,v,y,x){return u===void 0&&(u=0),v===void 0&&(v=u),y===void 0&&(y=0),x===void 0&&(x=0),this.x=u,this.y=v,this.z=y,this.w=x,this},copyPosition:function(u){return u.x!==void 0&&(this.x=u.x),u.y!==void 0&&(this.y=u.y),u.z!==void 0&&(this.z=u.z),u.w!==void 0&&(this.w=u.w),this},setRandomPosition:function(u,v,y,x){return u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y=this.scene.sys.scale.width),x===void 0&&(x=this.scene.sys.scale.height),this.x=u+Math.random()*y,this.y=v+Math.random()*x,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setAngle:function(u){return u===void 0&&(u=0),this.angle=u,this},setScale:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=u),this.scaleX=u,this.scaleY=v,this},setX:function(u){return u===void 0&&(u=0),this.x=u,this},setY:function(u){return u===void 0&&(u=0),this.y=u,this},setZ:function(u){return u===void 0&&(u=0),this.z=u,this},setW:function(u){return u===void 0&&(u=0),this.w=u,this},getLocalTransformMatrix:function(u){return u===void 0&&(u=new m),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(u,v){u===void 0&&(u=new m);var y=this.parentContainer;if(!y)return this.getLocalTransformMatrix(u);for(v||(v=new m),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);y;)v.applyITRS(y.x,y.y,y._rotation,y._scaleX,y._scaleY),v.multiply(u,u),y=y.parentContainer;return u},getLocalPoint:function(u,v,y,x){y||(y=new a),x||(x=this.scene.sys.cameras.main);var b=x.scrollX,w=x.scrollY,C=u+b*this.scrollFactorX-b,E=v+w*this.scrollFactorY-w;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(C,E,y):c(C,E,this.x,this.y,this.rotation,this.scaleX,this.scaleY,y),this._originComponent&&(y.x+=this._displayOriginX,y.y+=this._displayOriginY),y},getParentRotation:function(){for(var u=0,v=this.parentContainer;v;)u+=v.rotation,v=v.parentContainer;return u}};s.exports=p},61340:(s,g,i)=>{var o=i(83419),m=i(36383),c=i(26099),l=new o({initialize:function(a,f,p,u,v,y){a===void 0&&(a=1),f===void 0&&(f=0),p===void 0&&(p=0),u===void 0&&(u=1),v===void 0&&(v=0),y===void 0&&(y=0),this.matrix=new Float32Array([a,f,p,u,v,y,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(h){this.matrix[0]=h}},b:{get:function(){return this.matrix[1]},set:function(h){this.matrix[1]=h}},c:{get:function(){return this.matrix[2]},set:function(h){this.matrix[2]=h}},d:{get:function(){return this.matrix[3]},set:function(h){this.matrix[3]=h}},e:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},f:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},tx:{get:function(){return this.matrix[4]},set:function(h){this.matrix[4]=h}},ty:{get:function(){return this.matrix[5]},set:function(h){this.matrix[5]=h}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var h=this.matrix,a=h[0],f=h[1],p=h[2],u=h[3];return a||f?f>0?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):p||u?m.TAU-(u>0?Math.acos(-p/this.scaleY):-Math.acos(p/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var h=this.matrix;return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,this},translate:function(h,a){var f=this.matrix;return f[4]=f[0]*h+f[2]*a+f[4],f[5]=f[1]*h+f[3]*a+f[5],this},scale:function(h,a){var f=this.matrix;return f[0]*=h,f[1]*=h,f[2]*=a,f[3]*=a,this},rotate:function(h){var a=Math.sin(h),f=Math.cos(h),p=this.matrix,u=p[0],v=p[1],y=p[2],x=p[3];return p[0]=u*f+y*a,p[1]=v*f+x*a,p[2]=u*-a+y*f,p[3]=v*-a+x*f,this},multiply:function(h,a){var f=this.matrix,p=h.matrix,u=f[0],v=f[1],y=f[2],x=f[3],b=f[4],w=f[5],C=p[0],E=p[1],T=p[2],k=p[3],A=p[4],I=p[5],B=a===void 0?f:a.matrix;return B[0]=C*u+E*y,B[1]=C*v+E*x,B[2]=T*u+k*y,B[3]=T*v+k*x,B[4]=A*u+I*y+b,B[5]=A*v+I*x+w,B},multiplyWithOffset:function(h,a,f){var p=this.matrix,u=h.matrix,v=p[0],y=p[1],x=p[2],b=p[3],w=p[4],C=p[5],E=a*v+f*x+w,T=a*y+f*b+C,k=u[0],A=u[1],I=u[2],B=u[3],M=u[4],O=u[5];return p[0]=k*v+A*x,p[1]=k*y+A*b,p[2]=I*v+B*x,p[3]=I*y+B*b,p[4]=M*v+O*x+E,p[5]=M*y+O*b+T,this},transform:function(h,a,f,p,u,v){var y=this.matrix,x=y[0],b=y[1],w=y[2],C=y[3],E=y[4],T=y[5];return y[0]=h*x+a*w,y[1]=h*b+a*C,y[2]=f*x+p*w,y[3]=f*b+p*C,y[4]=u*x+v*w+E,y[5]=u*b+v*C+T,this},transformPoint:function(h,a,f){f===void 0&&(f={x:0,y:0});var p=this.matrix,u=p[0],v=p[1],y=p[2],x=p[3],b=p[4],w=p[5];return f.x=h*u+a*y+b,f.y=h*v+a*x+w,f},invert:function(){var h=this.matrix,a=h[0],f=h[1],p=h[2],u=h[3],v=h[4],y=h[5],x=a*u-f*p;return h[0]=u/x,h[1]=-f/x,h[2]=-p/x,h[3]=a/x,h[4]=(p*y-u*v)/x,h[5]=-(a*y-f*v)/x,this},copyFrom:function(h){var a=this.matrix;return a[0]=h.a,a[1]=h.b,a[2]=h.c,a[3]=h.d,a[4]=h.e,a[5]=h.f,this},copyFromArray:function(h){var a=this.matrix;return a[0]=h[0],a[1]=h[1],a[2]=h[2],a[3]=h[3],a[4]=h[4],a[5]=h[5],this},copyToContext:function(h){var a=this.matrix;return h.transform(a[0],a[1],a[2],a[3],a[4],a[5]),h},setToContext:function(h){return h.setTransform(this),h},copyToArray:function(h){var a=this.matrix;return h===void 0?h=[a[0],a[1],a[2],a[3],a[4],a[5]]:(h[0]=a[0],h[1]=a[1],h[2]=a[2],h[3]=a[3],h[4]=a[4],h[5]=a[5]),h},setTransform:function(h,a,f,p,u,v){var y=this.matrix;return y[0]=h,y[1]=a,y[2]=f,y[3]=p,y[4]=u,y[5]=v,this},decomposeMatrix:function(){var h=this.decomposedMatrix,a=this.matrix,f=a[0],p=a[1],u=a[2],v=a[3],y=f*v-p*u;if(h.translateX=a[4],h.translateY=a[5],f||p){var x=Math.sqrt(f*f+p*p);h.rotation=p>0?Math.acos(f/x):-Math.acos(f/x),h.scaleX=x,h.scaleY=y/x}else if(u||v){var b=Math.sqrt(u*u+v*v);h.rotation=Math.PI*.5-(v>0?Math.acos(-u/b):-Math.acos(u/b)),h.scaleX=y/b,h.scaleY=b}else h.rotation=0,h.scaleX=0,h.scaleY=0;return h},applyITRS:function(h,a,f,p,u){var v=this.matrix,y=Math.sin(f),x=Math.cos(f);return v[4]=h,v[5]=a,v[0]=x*p,v[1]=y*p,v[2]=-y*u,v[3]=x*u,this},applyInverse:function(h,a,f){f===void 0&&(f=new c);var p=this.matrix,u=p[0],v=p[1],y=p[2],x=p[3],b=p[4],w=p[5],C=1/(u*x+y*-v);return f.x=x*C*h+-y*C*a+(w*y-b*x)*C,f.y=u*C*a+-v*C*h+(-w*u+b*v)*C,f},setQuad:function(h,a,f,p,u,v){u===void 0&&(u=!1),v===void 0&&(v=this.quad);var y=this.matrix,x=y[0],b=y[1],w=y[2],C=y[3],E=y[4],T=y[5];return u?(v[0]=Math.round(h*x+a*w+E),v[1]=Math.round(h*b+a*C+T),v[2]=Math.round(h*x+p*w+E),v[3]=Math.round(h*b+p*C+T),v[4]=Math.round(f*x+p*w+E),v[5]=Math.round(f*b+p*C+T),v[6]=Math.round(f*x+a*w+E),v[7]=Math.round(f*b+a*C+T)):(v[0]=h*x+a*w+E,v[1]=h*b+a*C+T,v[2]=h*x+p*w+E,v[3]=h*b+p*C+T,v[4]=f*x+p*w+E,v[5]=f*b+p*C+T,v[6]=f*x+a*w+E,v[7]=f*b+a*C+T),v},getX:function(h,a){return h*this.a+a*this.c+this.e},getY:function(h,a){return h*this.b+a*this.d+this.f},getXRound:function(h,a,f){var p=this.getX(h,a);return f&&(p=Math.round(p)),p},getYRound:function(h,a,f){var p=this.getY(h,a);return f&&(p=Math.round(p)),p},getCSSMatrix:function(){var h=this.matrix;return"matrix("+h[0]+","+h[1]+","+h[2]+","+h[3]+","+h[4]+","+h[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});s.exports=l},59715:s=>{var g=1,i={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=g):(this._visible=!1,this.renderFlags&=~g)}},setVisible:function(o){return this.visible=o,this}};s.exports=i},31401:(s,g,i)=>{s.exports={Alpha:i(16005),AlphaSingle:i(88509),BlendMode:i(90065),ComputedSize:i(94215),Crop:i(61683),Depth:i(89272),Flip:i(54434),FX:i(47059),GetBounds:i(8004),Mask:i(8573),Origin:i(27387),PathFollower:i(37640),Pipeline:i(72699),PostPipeline:i(17581),ScrollFactor:i(80227),Size:i(16736),Texture:i(37726),TextureCrop:i(79812),Tint:i(27472),ToJSON:i(53774),Transform:i(16901),TransformMatrix:i(61340),Visible:i(59715)}},31559:(s,g,i)=>{var o=i(37105),m=i(10312),c=i(83419),l=i(31401),h=i(51708),a=i(95643),f=i(87841),p=i(29959),u=i(36899),v=i(26099),y=new c({Extends:a,Mixins:[l.AlphaSingle,l.BlendMode,l.ComputedSize,l.Depth,l.Mask,l.PostPipeline,l.Transform,l.Visible,p],initialize:function(b,w,C,E){a.call(this,b,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new l.TransformMatrix,this.tempTransformMatrix=new l.TransformMatrix,this._sortKey="",this._sysEvents=b.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(w,C),this.setBlendMode(m.SKIP_CHECK),E&&this.add(E)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(x){return x===void 0&&(x=!0),this.exclusive=x,this},getBounds:function(x){if(x===void 0&&(x=new f),x.setTo(this.x,this.y,0,0),this.parentContainer){var b=this.parentContainer.getBoundsTransformMatrix(),w=b.transformPoint(this.x,this.y);x.setTo(w.x,w.y,0,0)}if(this.list.length>0){var C=this.list,E=new f,T=!1;x.setEmpty();for(var k=0;k<C.length;k++){var A=C[k];A.getBounds&&(A.getBounds(E),T?u(E,x,x):(x.setTo(E.x,E.y,E.width,E.height),T=!0))}}return x},addHandler:function(x){x.once(h.DESTROY,this.onChildDestroyed,this),this.exclusive&&(x.parentContainer&&x.parentContainer.remove(x),x.parentContainer=this,x.removeFromDisplayList(),x.addedToScene())},removeHandler:function(x){x.off(h.DESTROY,this.remove,this),this.exclusive&&(x.parentContainer=null,x.removedFromScene(),x.addToDisplayList())},pointToContainer:function(x,b){b===void 0&&(b=new v),this.parentContainer?this.parentContainer.pointToContainer(x,b):(b.x=x.x,b.y=x.y);var w=this.tempTransformMatrix;return w.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),w.invert(),w.transformPoint(x.x,x.y,b),b},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(x){return o.Add(this.list,x,this.maxSize,this.addHandler,this),this},addAt:function(x,b){return o.AddAt(this.list,x,b,this.maxSize,this.addHandler,this),this},getAt:function(x){return this.list[x]},getIndex:function(x){return this.list.indexOf(x)},sort:function(x,b){return x?(b===void 0&&(b=function(w,C){return w[x]-C[x]}),o.StableSort(this.list,b),this):this},getByName:function(x){return o.GetFirst(this.list,"name",x)},getRandom:function(x,b){return o.GetRandom(this.list,x,b)},getFirst:function(x,b,w,C){return o.GetFirst(this.list,x,b,w,C)},getAll:function(x,b,w,C){return o.GetAll(this.list,x,b,w,C)},count:function(x,b,w,C){return o.CountAllMatching(this.list,x,b,w,C)},swap:function(x,b){return o.Swap(this.list,x,b),this},moveTo:function(x,b){return o.MoveTo(this.list,x,b),this},moveAbove:function(x,b){return o.MoveAbove(this.list,x,b),this},moveBelow:function(x,b){return o.MoveBelow(this.list,x,b),this},remove:function(x,b){var w=o.Remove(this.list,x,this.removeHandler,this);if(b&&w){Array.isArray(w)||(w=[w]);for(var C=0;C<w.length;C++)w[C].destroy()}return this},removeAt:function(x,b){var w=o.RemoveAt(this.list,x,this.removeHandler,this);return b&&w&&w.destroy(),this},removeBetween:function(x,b,w){var C=o.RemoveBetween(this.list,x,b,this.removeHandler,this);if(w)for(var E=0;E<C.length;E++)C[E].destroy();return this},removeAll:function(x){var b=this.list;if(x){for(var w=0;w<b.length;w++)b[w]&&b[w].scene&&(b[w].off(h.DESTROY,this.onChildDestroyed,this),b[w].destroy());this.list=[]}else o.RemoveBetween(b,0,b.length,this.removeHandler,this);return this},bringToTop:function(x){return o.BringToTop(this.list,x),this},sendToBack:function(x){return o.SendToBack(this.list,x),this},moveUp:function(x){return o.MoveUp(this.list,x),this},moveDown:function(x){return o.MoveDown(this.list,x),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(x,b,w){var C=o.Replace(this.list,x,b);return C&&(this.addHandler(b),this.removeHandler(x),w&&x.destroy()),this},exists:function(x){return this.list.indexOf(x)>-1},setAll:function(x,b,w,C){return o.SetAll(this.list,x,b,w,C),this},each:function(x,b){var w=[null],C,E=this.list.slice(),T=E.length;for(C=2;C<arguments.length;C++)w.push(arguments[C]);for(C=0;C<T;C++)w[0]=E[C],x.apply(b,w);return this},iterate:function(x,b){var w=[null],C;for(C=2;C<arguments.length;C++)w.push(arguments[C]);for(C=0;C<this.list.length;C++)w[0]=this.list[C],x.apply(b,w);return this},setScrollFactor:function(x,b,w){return b===void 0&&(b=x),w===void 0&&(w=!1),this.scrollFactorX=x,this.scrollFactorY=b,w&&(o.SetAll(this.list,"scrollFactorX",x),o.SetAll(this.list,"scrollFactorY",b)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(x){o.Remove(this.list,x),this.exclusive&&(x.parentContainer=null,x.removedFromScene())}});s.exports=y},53584:s=>{var g=function(i,o,m,c){m.addToRenderList(o);var l=o.list;if(l.length!==0){var h=o.localTransform;c?(h.loadIdentity(),h.multiply(c),h.translate(o.x,o.y),h.rotate(o.rotation),h.scale(o.scaleX,o.scaleY)):h.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var a=o.blendMode!==-1;a||i.setBlendMode(0);var f=o._alpha,p=o.scrollFactorX,u=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(i,null,m);for(var v=0;v<l.length;v++){var y=l[v];if(y.willRender(m)){var x=y.alpha,b=y.scrollFactorX,w=y.scrollFactorY;!a&&y.blendMode!==i.currentBlendMode&&i.setBlendMode(y.blendMode),y.setScrollFactor(b*p,w*u),y.setAlpha(x*f),y.renderCanvas(i,y,m,h),y.setAlpha(x),y.setScrollFactor(b,w)}}o.mask&&o.mask.postRenderCanvas(i)}};s.exports=g},77143:(s,g,i)=>{var o=i(25305),m=i(31559),c=i(44603),l=i(23568),h=i(95540);c.register("container",function(a,f){a===void 0&&(a={});var p=l(a,"x",0),u=l(a,"y",0),v=h(a,"children",null),y=new m(this.scene,p,u,v);return f!==void 0&&(a.add=f),o(this.scene,y,a),y})},24961:(s,g,i)=>{var o=i(31559),m=i(39429);m.register("container",function(c,l,h){return this.displayList.add(new o(this.scene,c,l,h))})},29959:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(72249),c=i(53584),s.exports={renderWebGL:m,renderCanvas:c}},72249:s=>{var g=function(i,o,m,c){m.addToRenderList(o);var l=o.list,h=l.length;if(h!==0){var a=o.localTransform;c?(a.loadIdentity(),a.multiply(c),a.translate(o.x,o.y),a.rotate(o.rotation),a.scale(o.scaleX,o.scaleY)):a.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),i.pipelines.preBatch(o);var f=o.blendMode!==-1;f||i.setBlendMode(0);for(var p=o.alpha,u=o.scrollFactorX,v=o.scrollFactorY,y=0;y<h;y++){var x=l[y];if(x.willRender(m)){var b,w,C,E;if(x.alphaTopLeft!==void 0)b=x.alphaTopLeft,w=x.alphaTopRight,C=x.alphaBottomLeft,E=x.alphaBottomRight;else{var T=x.alpha;b=T,w=T,C=T,E=T}var k=x.scrollFactorX,A=x.scrollFactorY;!f&&x.blendMode!==i.currentBlendMode&&i.setBlendMode(x.blendMode);var I=x.mask;I&&I.preRenderWebGL(i,x,m);var B=x.type;B!==i.currentType&&(i.newType=!0,i.currentType=B),i.nextTypeMatch=y<h-1?l[y+1].type===i.currentType:!1,x.setScrollFactor(k*u,A*v),x.setAlpha(b*p,w*p,C*p,E*p),x.renderWebGL(i,x,m,a,o),x.setAlpha(b,w,C,E),x.setScrollFactor(k,A),I&&I.postRenderWebGL(i,m),i.newType=!1}}i.pipelines.postBatch(o)}};s.exports=g},47407:s=>{s.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(s,g,i)=>{var o=i(83419),m=i(31401),c=i(441),l=i(95643),h=i(41212),a=i(35846),f=i(44594),p=i(61369),u=new o({Extends:l,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Origin,m.ScrollFactor,m.Transform,m.Visible,c],initialize:function(y,x,b,w,C,E){l.call(this,y,"DOMElement"),this.parent=y.sys.game.domContainer,this.cache=y.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new p,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(x,b),typeof w=="string"?w[0]==="#"?this.setElement(w.substr(1),C,E):this.createElement(w,C,E):w&&this.setElement(w,C,E),y.sys.events.on(f.SLEEP,this.handleSceneEvent,this),y.sys.events.on(f.WAKE,this.handleSceneEvent,this),y.sys.events.on(f.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(v){var y=this.node,x=y.style;y&&(x.display=v.settings.visible?"block":"none")},setSkew:function(v,y){return v===void 0&&(v=0),y===void 0&&(y=v),this.skewX=v,this.skewY=y,this},setPerspective:function(v){return this.parent.style.perspective=v+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(v){this.parent.style.perspective=v+"px"}},addListener:function(v){if(this.node){v=v.split(" ");for(var y=0;y<v.length;y++)this.node.addEventListener(v[y],this.handler,!1)}return this},removeListener:function(v){if(this.node){v=v.split(" ");for(var y=0;y<v.length;y++)this.node.removeEventListener(v[y],this.handler)}return this},dispatchNativeEvent:function(v){this.emit(v.type,v)},createElement:function(v,y,x){return this.setElement(document.createElement(v),y,x)},setElement:function(v,y,x){this.removeElement();var b;if(typeof v=="string"?(v[0]==="#"&&(v=v.substr(1)),b=document.getElementById(v)):typeof v=="object"&&v.nodeType===1&&(b=v),!b)return this;if(this.node=b,y&&h(y))for(var w in y)b.style[w]=y[w];else typeof y=="string"&&(b.style=y);return b.style.zIndex="0",b.style.display="inline",b.style.position="absolute",b.phaser=this,this.parent&&this.parent.appendChild(b),x&&(b.innerText=x),this.updateSize()},createFromCache:function(v,y){var x=this.cache.get(v);return x&&this.createFromHTML(x,y),this},createFromHTML:function(v,y){y===void 0&&(y="div"),this.removeElement();var x=document.createElement(y);return this.node=x,x.style.zIndex="0",x.style.display="inline",x.style.position="absolute",x.phaser=this,this.parent&&this.parent.appendChild(x),x.innerHTML=v,this.updateSize()},removeElement:function(){return this.node&&(a(this.node),this.node=null),this},updateSize:function(){var v=this.node,y=v.getBoundingClientRect();return this.width=v.clientWidth,this.height=v.clientHeight,this.displayWidth=y.width||0,this.displayHeight=y.height||0,this},getChildByProperty:function(v,y){if(this.node){for(var x=this.node.querySelectorAll("*"),b=0;b<x.length;b++)if(x[b][v]===y)return x[b]}return null},getChildByID:function(v){return this.getChildByProperty("id",v)},getChildByName:function(v){return this.getChildByProperty("name",v)},setClassName:function(v){return this.node&&(this.node.className=v,this.updateSize()),this},setText:function(v){return this.node&&(this.node.innerText=v,this.updateSize()),this},setHTML:function(v){return this.node&&(this.node.innerHTML=v,this.updateSize()),this},preRender:function(){var v=this.parentContainer,y=this.node;y&&v&&!v.willRender()&&(y.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(f.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(f.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(f.PRE_RENDER,this.preRender,this)}});s.exports=u},49381:(s,g,i)=>{var o=i(47407),m=i(95643),c=i(61340),l=new c,h=new c,a=new c,f=function(p,u,v,y){if(u.node){var x=u.node.style,b=u.scene.sys.settings;if(!x||!b.visible||m.RENDER_MASK!==u.renderFlags||u.cameraFilter!==0&&u.cameraFilter&v.id||u.parentContainer&&!u.parentContainer.willRender()){x.display="none";return}var w=u.parentContainer,C=v.alpha*u.alpha;w&&(C*=w.alpha);var E=l,T=h,k=a,A=0,I=0,B="0%",M="0%";y?(A=u.width*u.scaleX*u.originX,I=u.height*u.scaleY*u.originY,T.applyITRS(u.x-A,u.y-I,u.rotation,u.scaleX,u.scaleY),E.copyFrom(v.matrix),E.multiplyWithOffset(y,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),T.e=u.x-A,T.f=u.y-I,E.multiply(T,k)):(A=u.width*u.originX,I=u.height*u.originY,T.applyITRS(u.x-A,u.y-I,u.rotation,u.scaleX,u.scaleY),E.copyFrom(v.matrix),B=100*u.originX+"%",M=100*u.originY+"%",T.e-=v.scrollX*u.scrollFactorX,T.f-=v.scrollY*u.scrollFactorY,E.multiply(T,k)),u.transformOnly||(x.display="block",x.opacity=C,x.zIndex=u._depth,x.pointerEvents=u.pointerEvents,x.mixBlendMode=o[u._blendMode]),x.transform=k.getCSSMatrix()+" skew("+u.skewX+"rad, "+u.skewY+"rad) rotate3d("+u.rotate3d.x+","+u.rotate3d.y+","+u.rotate3d.z+","+u.rotate3d.w+u.rotate3dAngle+")",x.transformOrigin=B+" "+M}};s.exports=f},2611:(s,g,i)=>{var o=i(3069),m=i(39429);m.register("dom",function(c,l,h,a,f){var p=new o(this.scene,c,l,h,a,f);return this.displayList.add(p),p})},441:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(49381),c=i(49381),s.exports={renderWebGL:m,renderCanvas:c}},62980:s=>{s.exports="addedtoscene"},41337:s=>{s.exports="destroy"},44947:s=>{s.exports="removedfromscene"},49358:s=>{s.exports="complete"},35163:s=>{s.exports="created"},97249:s=>{s.exports="error"},19483:s=>{s.exports="locked"},56059:s=>{s.exports="loop"},26772:s=>{s.exports="metadata"},64437:s=>{s.exports="playing"},83411:s=>{s.exports="play"},75780:s=>{s.exports="seeked"},67799:s=>{s.exports="seeking"},63500:s=>{s.exports="stalled"},55541:s=>{s.exports="stop"},53208:s=>{s.exports="textureready"},4992:s=>{s.exports="unlocked"},12:s=>{s.exports="unsupported"},51708:(s,g,i)=>{s.exports={ADDED_TO_SCENE:i(62980),DESTROY:i(41337),REMOVED_FROM_SCENE:i(44947),VIDEO_COMPLETE:i(49358),VIDEO_CREATED:i(35163),VIDEO_ERROR:i(97249),VIDEO_LOCKED:i(19483),VIDEO_LOOP:i(56059),VIDEO_METADATA:i(26772),VIDEO_PLAY:i(83411),VIDEO_PLAYING:i(64437),VIDEO_SEEKED:i(75780),VIDEO_SEEKING:i(67799),VIDEO_STALLED:i(63500),VIDEO_STOP:i(55541),VIDEO_TEXTURE:i(53208),VIDEO_UNLOCKED:i(4992),VIDEO_UNSUPPORTED:i(12)}},42421:(s,g,i)=>{var o=i(83419),m=i(31401),c=i(95643),l=i(64993),h=new o({Extends:c,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.Origin,m.ScrollFactor,m.Size,m.Texture,m.Tint,m.Transform,m.Visible,l],initialize:function(f){c.call(this,f,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});s.exports=h},70217:()=>{},56315:(s,g,i)=>{var o=i(42421),m=i(39429);m.register("extern",function(){var c=new o(this.scene);return this.displayList.add(c),c})},64993:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(80287),c=i(70217),s.exports={renderWebGL:m,renderCanvas:c}},80287:(s,g,i)=>{var o=i(91296),m=function(c,l,h,a){c.pipelines.clear();var f=o(l,h,a).calc;l.render.call(l,c,h,f),c.pipelines.rebind()};s.exports=m},85592:s=>{s.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(s,g,i)=>{var o=i(71911),m=i(83419),c=i(85592),l=i(31401),h=i(8497),a=i(95643),f=i(95540),p=i(35154),u=i(36383),v=i(84503),y=new m({Extends:a,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,v],initialize:function(b,w){var C=p(w,"x",0),E=p(w,"y",0);a.call(this,b,"Graphics"),this.setPosition(C,E),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(w)},setDefaultStyles:function(x){return p(x,"lineStyle",null)&&(this.defaultStrokeWidth=p(x,"lineStyle.width",1),this.defaultStrokeColor=p(x,"lineStyle.color",16777215),this.defaultStrokeAlpha=p(x,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),p(x,"fillStyle",null)&&(this.defaultFillColor=p(x,"fillStyle.color",16777215),this.defaultFillAlpha=p(x,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(x,b,w){return w===void 0&&(w=1),this.commandBuffer.push(c.LINE_STYLE,x,b,w),this._lineWidth=x,this},fillStyle:function(x,b){return b===void 0&&(b=1),this.commandBuffer.push(c.FILL_STYLE,x,b),this},fillGradientStyle:function(x,b,w,C,E,T,k,A){return E===void 0&&(E=1),T===void 0&&(T=E),k===void 0&&(k=E),A===void 0&&(A=E),this.commandBuffer.push(c.GRADIENT_FILL_STYLE,E,T,k,A,x,b,w,C),this},lineGradientStyle:function(x,b,w,C,E,T){return T===void 0&&(T=1),this.commandBuffer.push(c.GRADIENT_LINE_STYLE,x,T,b,w,C,E),this},beginPath:function(){return this.commandBuffer.push(c.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(c.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(c.FILL_PATH),this},fill:function(){return this.commandBuffer.push(c.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(c.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(c.STROKE_PATH),this},fillCircleShape:function(x){return this.fillCircle(x.x,x.y,x.radius)},strokeCircleShape:function(x){return this.strokeCircle(x.x,x.y,x.radius)},fillCircle:function(x,b,w){return this.beginPath(),this.arc(x,b,w,0,u.PI2),this.fillPath(),this},strokeCircle:function(x,b,w){return this.beginPath(),this.arc(x,b,w,0,u.PI2),this.strokePath(),this},fillRectShape:function(x){return this.fillRect(x.x,x.y,x.width,x.height)},strokeRectShape:function(x){return this.strokeRect(x.x,x.y,x.width,x.height)},fillRect:function(x,b,w,C){return this.commandBuffer.push(c.FILL_RECT,x,b,w,C),this},strokeRect:function(x,b,w,C){var E=this._lineWidth/2,T=x-E,k=x+E;return this.beginPath(),this.moveTo(x,b),this.lineTo(x,b+C),this.strokePath(),this.beginPath(),this.moveTo(x+w,b),this.lineTo(x+w,b+C),this.strokePath(),this.beginPath(),this.moveTo(T,b),this.lineTo(k+w,b),this.strokePath(),this.beginPath(),this.moveTo(T,b+C),this.lineTo(k+w,b+C),this.strokePath(),this},fillRoundedRect:function(x,b,w,C,E){E===void 0&&(E=20);var T=E,k=E,A=E,I=E;typeof E!="number"&&(T=f(E,"tl",20),k=f(E,"tr",20),A=f(E,"bl",20),I=f(E,"br",20));var B=T>=0,M=k>=0,O=A>=0,P=I>=0;return T=Math.abs(T),k=Math.abs(k),A=Math.abs(A),I=Math.abs(I),this.beginPath(),this.moveTo(x+T,b),this.lineTo(x+w-k,b),M?this.arc(x+w-k,b+k,k,-u.TAU,0):this.arc(x+w,b,k,Math.PI,u.TAU,!0),this.lineTo(x+w,b+C-I),P?this.arc(x+w-I,b+C-I,I,0,u.TAU):this.arc(x+w,b+C,I,-u.TAU,Math.PI,!0),this.lineTo(x+A,b+C),O?this.arc(x+A,b+C-A,A,u.TAU,Math.PI):this.arc(x,b+C,A,0,-u.TAU,!0),this.lineTo(x,b+T),B?this.arc(x+T,b+T,T,-Math.PI,-u.TAU):this.arc(x,b,T,u.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(x,b,w,C,E){E===void 0&&(E=20);var T=E,k=E,A=E,I=E,B=Math.min(w,C)/2;typeof E!="number"&&(T=f(E,"tl",20),k=f(E,"tr",20),A=f(E,"bl",20),I=f(E,"br",20));var M=T>=0,O=k>=0,P=A>=0,L=I>=0;return T=Math.min(Math.abs(T),B),k=Math.min(Math.abs(k),B),A=Math.min(Math.abs(A),B),I=Math.min(Math.abs(I),B),this.beginPath(),this.moveTo(x+T,b),this.lineTo(x+w-k,b),this.moveTo(x+w-k,b),O?this.arc(x+w-k,b+k,k,-u.TAU,0):this.arc(x+w,b,k,Math.PI,u.TAU,!0),this.lineTo(x+w,b+C-I),this.moveTo(x+w,b+C-I),L?this.arc(x+w-I,b+C-I,I,0,u.TAU):this.arc(x+w,b+C,I,-u.TAU,Math.PI,!0),this.lineTo(x+A,b+C),this.moveTo(x+A,b+C),P?this.arc(x+A,b+C-A,A,u.TAU,Math.PI):this.arc(x,b+C,A,0,-u.TAU,!0),this.lineTo(x,b+T),this.moveTo(x,b+T),M?this.arc(x+T,b+T,T,-Math.PI,-u.TAU):this.arc(x,b,T,u.TAU,0,!0),this.strokePath(),this},fillPointShape:function(x,b){return this.fillPoint(x.x,x.y,b)},fillPoint:function(x,b,w){return!w||w<1?w=1:(x-=w/2,b-=w/2),this.commandBuffer.push(c.FILL_RECT,x,b,w,w),this},fillTriangleShape:function(x){return this.fillTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},strokeTriangleShape:function(x){return this.strokeTriangle(x.x1,x.y1,x.x2,x.y2,x.x3,x.y3)},fillTriangle:function(x,b,w,C,E,T){return this.commandBuffer.push(c.FILL_TRIANGLE,x,b,w,C,E,T),this},strokeTriangle:function(x,b,w,C,E,T){return this.commandBuffer.push(c.STROKE_TRIANGLE,x,b,w,C,E,T),this},strokeLineShape:function(x){return this.lineBetween(x.x1,x.y1,x.x2,x.y2)},lineBetween:function(x,b,w,C){return this.beginPath(),this.moveTo(x,b),this.lineTo(w,C),this.strokePath(),this},lineTo:function(x,b){return this.commandBuffer.push(c.LINE_TO,x,b),this},moveTo:function(x,b){return this.commandBuffer.push(c.MOVE_TO,x,b),this},strokePoints:function(x,b,w,C){b===void 0&&(b=!1),w===void 0&&(w=!1),C===void 0&&(C=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var E=1;E<C;E++)this.lineTo(x[E].x,x[E].y);return b&&this.lineTo(x[0].x,x[0].y),w&&this.closePath(),this.strokePath(),this},fillPoints:function(x,b,w,C){b===void 0&&(b=!1),w===void 0&&(w=!1),C===void 0&&(C=x.length),this.beginPath(),this.moveTo(x[0].x,x[0].y);for(var E=1;E<C;E++)this.lineTo(x[E].x,x[E].y);return b&&this.lineTo(x[0].x,x[0].y),w&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(x,b){b===void 0&&(b=32);var w=x.getPoints(b);return this.strokePoints(w,!0)},strokeEllipse:function(x,b,w,C,E){E===void 0&&(E=32);var T=new h(x,b,w,C),k=T.getPoints(E);return this.strokePoints(k,!0)},fillEllipseShape:function(x,b){b===void 0&&(b=32);var w=x.getPoints(b);return this.fillPoints(w,!0)},fillEllipse:function(x,b,w,C,E){E===void 0&&(E=32);var T=new h(x,b,w,C),k=T.getPoints(E);return this.fillPoints(k,!0)},arc:function(x,b,w,C,E,T,k){return T===void 0&&(T=!1),k===void 0&&(k=0),this.commandBuffer.push(c.ARC,x,b,w,C,E,T,k),this},slice:function(x,b,w,C,E,T,k){return T===void 0&&(T=!1),k===void 0&&(k=0),this.commandBuffer.push(c.BEGIN_PATH),this.commandBuffer.push(c.MOVE_TO,x,b),this.commandBuffer.push(c.ARC,x,b,w,C,E,T,k),this.commandBuffer.push(c.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(c.SAVE),this},restore:function(){return this.commandBuffer.push(c.RESTORE),this},translateCanvas:function(x,b){return this.commandBuffer.push(c.TRANSLATE,x,b),this},scaleCanvas:function(x,b){return this.commandBuffer.push(c.SCALE,x,b),this},rotateCanvas:function(x){return this.commandBuffer.push(c.ROTATE,x),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(x,b,w){var C=this.scene.sys,E=C.game.renderer;b===void 0&&(b=C.scale.width),w===void 0&&(w=C.scale.height),y.TargetCamera.setScene(this.scene),y.TargetCamera.setViewport(0,0,b,w),y.TargetCamera.scrollX=this.x,y.TargetCamera.scrollY=this.y;var T,k,A={willReadFrequently:!0};if(typeof x=="string")if(C.textures.exists(x)){T=C.textures.get(x);var I=T.getSourceImage();I instanceof HTMLCanvasElement&&(k=I.getContext("2d",A))}else T=C.textures.createCanvas(x,b,w),k=T.getSourceImage().getContext("2d",A);else x instanceof HTMLCanvasElement&&(k=x.getContext("2d",A));return k&&(this.renderCanvas(E,this,y.TargetCamera,null,k,!1),T&&T.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});y.TargetCamera=new o,s.exports=y},32768:(s,g,i)=>{var o=i(85592),m=i(20926),c=function(l,h,a,f,p,u){var v=h.commandBuffer,y=v.length,x=p||l.currentContext;if(!(y===0||!m(l,x,h,a,f))){a.addToRenderList(h);var b=1,w=1,C=0,E=0,T=1,k=0,A=0,I=0;x.beginPath();for(var B=0;B<y;++B){var M=v[B];switch(M){case o.ARC:x.arc(v[B+1],v[B+2],v[B+3],v[B+4],v[B+5],v[B+6]),B+=7;break;case o.LINE_STYLE:T=v[B+1],C=v[B+2],b=v[B+3],k=(C&16711680)>>>16,A=(C&65280)>>>8,I=C&255,x.strokeStyle="rgba("+k+","+A+","+I+","+b+")",x.lineWidth=T,B+=3;break;case o.FILL_STYLE:E=v[B+1],w=v[B+2],k=(E&16711680)>>>16,A=(E&65280)>>>8,I=E&255,x.fillStyle="rgba("+k+","+A+","+I+","+w+")",B+=2;break;case o.BEGIN_PATH:x.beginPath();break;case o.CLOSE_PATH:x.closePath();break;case o.FILL_PATH:u||x.fill();break;case o.STROKE_PATH:u||x.stroke();break;case o.FILL_RECT:u?x.rect(v[B+1],v[B+2],v[B+3],v[B+4]):x.fillRect(v[B+1],v[B+2],v[B+3],v[B+4]),B+=4;break;case o.FILL_TRIANGLE:x.beginPath(),x.moveTo(v[B+1],v[B+2]),x.lineTo(v[B+3],v[B+4]),x.lineTo(v[B+5],v[B+6]),x.closePath(),u||x.fill(),B+=6;break;case o.STROKE_TRIANGLE:x.beginPath(),x.moveTo(v[B+1],v[B+2]),x.lineTo(v[B+3],v[B+4]),x.lineTo(v[B+5],v[B+6]),x.closePath(),u||x.stroke(),B+=6;break;case o.LINE_TO:x.lineTo(v[B+1],v[B+2]),B+=2;break;case o.MOVE_TO:x.moveTo(v[B+1],v[B+2]),B+=2;break;case o.LINE_FX_TO:x.lineTo(v[B+1],v[B+2]),B+=5;break;case o.MOVE_FX_TO:x.moveTo(v[B+1],v[B+2]),B+=5;break;case o.SAVE:x.save();break;case o.RESTORE:x.restore();break;case o.TRANSLATE:x.translate(v[B+1],v[B+2]),B+=2;break;case o.SCALE:x.scale(v[B+1],v[B+2]),B+=2;break;case o.ROTATE:x.rotate(v[B+1]),B+=1;break;case o.GRADIENT_FILL_STYLE:B+=5;break;case o.GRADIENT_LINE_STYLE:B+=6;break}}x.restore()}};s.exports=c},87079:(s,g,i)=>{var o=i(44603),m=i(43831);o.register("graphics",function(c,l){c===void 0&&(c={}),l!==void 0&&(c.add=l);var h=new m(this.scene,c);return c.add&&this.scene.sys.displayList.add(h),h})},1201:(s,g,i)=>{var o=i(43831),m=i(39429);m.register("graphics",function(c){return this.displayList.add(new o(this.scene,c))})},84503:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(77545),c=i(32768),c=i(32768),s.exports={renderWebGL:m,renderCanvas:c}},77545:(s,g,i)=>{var o=i(85592),m=i(91296),c=i(61340),l=i(70554),h=function(v,y,x){this.x=v,this.y=y,this.width=x},a=function(v,y,x){this.points=[],this.pointsLength=1,this.points[0]=new h(v,y,x)},f=[],p=new c,u=function(v,y,x,b){if(y.commandBuffer.length!==0){x.addToRenderList(y);var w=v.pipelines.set(y.pipeline,y);v.pipelines.preBatch(y);for(var C=m(y,x,b).calc,E=p.loadIdentity(),T=y.commandBuffer,k=x.alpha*y.alpha,A=1,I=w.fillTint,B=w.strokeTint,M=0,O=0,P=0,L=.01,_=Math.PI*2,G,$=[],W=0,Y=!0,z=null,F=l.getTintAppendFloatAlpha,N=0;N<T.length;N++)switch(G=T[N],G){case o.BEGIN_PATH:{$.length=0,z=null,Y=!0;break}case o.CLOSE_PATH:{Y=!1,z&&z.points.length&&z.points.push(z.points[0]);break}case o.FILL_PATH:{for(W=0;W<$.length;W++)w.batchFillPath($[W].points,E,C);break}case o.STROKE_PATH:{for(W=0;W<$.length;W++)w.batchStrokePath($[W].points,A,Y,E,C);break}case o.LINE_STYLE:{A=T[++N];var j=T[++N],U=T[++N]*k,V=F(j,U);B.TL=V,B.TR=V,B.BL=V,B.BR=V;break}case o.FILL_STYLE:{var q=T[++N],ot=T[++N]*k,Q=F(q,ot);I.TL=Q,I.TR=Q,I.BL=Q,I.BR=Q;break}case o.GRADIENT_FILL_STYLE:{var rt=T[++N]*k,Bt=T[++N]*k,K=T[++N]*k,Mt=T[++N]*k;I.TL=F(T[++N],rt),I.TR=F(T[++N],Bt),I.BL=F(T[++N],K),I.BR=F(T[++N],Mt);break}case o.GRADIENT_LINE_STYLE:{A=T[++N];var Ft=T[++N]*k;B.TL=F(T[++N],Ft),B.TR=F(T[++N],Ft),B.BL=F(T[++N],Ft),B.BR=F(T[++N],Ft);break}case o.ARC:{var dt=0,yt=T[++N],At=T[++N],Ot=T[++N],le=T[++N],_t=T[++N],xe=T[++N],ke=T[++N];for(_t-=le,xe?_t<-_?_t=-_:_t>0&&(_t=-_+_t%_):_t>_?_t=_:_t<0&&(_t=_+_t%_),z===null&&(z=new a(yt+Math.cos(le)*Ot,At+Math.sin(le)*Ot,A),$.push(z),dt+=L);dt<1+ke;)P=_t*dt+le,M=yt+Math.cos(P)*Ot,O=At+Math.sin(P)*Ot,z.points.push(new h(M,O,A)),dt+=L;P=_t+le,M=yt+Math.cos(P)*Ot,O=At+Math.sin(P)*Ot,z.points.push(new h(M,O,A));break}case o.FILL_RECT:{w.batchFillRect(T[++N],T[++N],T[++N],T[++N],E,C);break}case o.FILL_TRIANGLE:{w.batchFillTriangle(T[++N],T[++N],T[++N],T[++N],T[++N],T[++N],E,C);break}case o.STROKE_TRIANGLE:{w.batchStrokeTriangle(T[++N],T[++N],T[++N],T[++N],T[++N],T[++N],A,E,C);break}case o.LINE_TO:{z!==null?z.points.push(new h(T[++N],T[++N],A)):(z=new a(T[++N],T[++N],A),$.push(z));break}case o.MOVE_TO:{z=new a(T[++N],T[++N],A),$.push(z);break}case o.SAVE:{f.push(E.copyToArray());break}case o.RESTORE:{E.copyFromArray(f.pop());break}case o.TRANSLATE:{yt=T[++N],At=T[++N],E.translate(yt,At);break}case o.SCALE:{yt=T[++N],At=T[++N],E.scale(yt,At);break}case o.ROTATE:{E.rotate(T[++N]);break}}v.pipelines.postBatch(y)}};s.exports=u},26479:(s,g,i)=>{var o=i(61061),m=i(83419),c=i(51708),l=i(50792),h=i(46710),a=i(95540),f=i(35154),p=i(97022),u=i(41212),v=i(88492),y=i(35072),x=i(68287),b=new m({Extends:l,initialize:function(C,E,T){l.call(this),T?E&&!Array.isArray(E)&&(E=[E]):Array.isArray(E)?u(E[0])&&(T=E,E=null):u(E)&&(T=E,E=null),this.scene=C,this.children=new y,this.isParent=!0,this.type="Group",this.classType=a(T,"classType",x),this.name=a(T,"name",""),this.active=a(T,"active",!0),this.maxSize=a(T,"maxSize",-1),this.defaultKey=a(T,"defaultKey",null),this.defaultFrame=a(T,"defaultFrame",null),this.runChildUpdate=a(T,"runChildUpdate",!1),this.createCallback=a(T,"createCallback",null),this.removeCallback=a(T,"removeCallback",null),this.createMultipleCallback=a(T,"createMultipleCallback",null),this.internalCreateCallback=a(T,"internalCreateCallback",null),this.internalRemoveCallback=a(T,"internalRemoveCallback",null),E&&this.addMultiple(E),T&&this.createMultiple(T),this.on(c.ADDED_TO_SCENE,this.addedToScene,this),this.on(c.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(w,C,E,T,k,A){if(w===void 0&&(w=0),C===void 0&&(C=0),E===void 0&&(E=this.defaultKey),T===void 0&&(T=this.defaultFrame),k===void 0&&(k=!0),A===void 0&&(A=!0),this.isFull())return null;var I=new this.classType(this.scene,w,C,E,T);return I.addToDisplayList(this.scene.sys.displayList),I.addToUpdateList(),I.visible=k,I.setActive(A),this.add(I),I},createMultiple:function(w){if(this.isFull())return[];Array.isArray(w)||(w=[w]);var C=[];if(w[0].key)for(var E=0;E<w.length;E++){var T=this.createFromConfig(w[E]);C=C.concat(T)}return C},createFromConfig:function(w){if(this.isFull())return[];this.classType=a(w,"classType",this.classType);var C=a(w,"key",void 0),E=a(w,"frame",null),T=a(w,"visible",!0),k=a(w,"active",!0),A=[];if(C===void 0)return A;Array.isArray(C)||(C=[C]),Array.isArray(E)||(E=[E]);var I=a(w,"repeat",0),B=a(w,"randomKey",!1),M=a(w,"randomFrame",!1),O=a(w,"yoyo",!1),P=a(w,"quantity",!1),L=a(w,"frameQuantity",1),_=a(w,"max",0),G=v(C,E,{max:_,qty:P||L,random:B,randomB:M,repeat:I,yoyo:O});w.createCallback&&(this.createCallback=w.createCallback),w.removeCallback&&(this.removeCallback=w.removeCallback),w.internalCreateCallback&&(this.internalCreateCallback=w.internalCreateCallback),w.internalRemoveCallback&&(this.internalRemoveCallback=w.internalRemoveCallback);for(var $=0;$<G.length;$++){var W=this.create(0,0,G[$].a,G[$].b,T,k);if(!W)break;A.push(W)}if(p(w,"setXY")){var Y=f(w,"setXY.x",0),z=f(w,"setXY.y",0),F=f(w,"setXY.stepX",0),N=f(w,"setXY.stepY",0);o.SetXY(A,Y,z,F,N)}if(p(w,"setRotation")){var j=f(w,"setRotation.value",0),U=f(w,"setRotation.step",0);o.SetRotation(A,j,U)}if(p(w,"setScale")){var V=f(w,"setScale.x",1),q=f(w,"setScale.y",V),ot=f(w,"setScale.stepX",0),Q=f(w,"setScale.stepY",0);o.SetScale(A,V,q,ot,Q)}if(p(w,"setOrigin")){var rt=f(w,"setOrigin.x",.5),Bt=f(w,"setOrigin.y",rt),K=f(w,"setOrigin.stepX",0),Mt=f(w,"setOrigin.stepY",0);o.SetOrigin(A,rt,Bt,K,Mt)}if(p(w,"setAlpha")){var Ft=f(w,"setAlpha.value",1),dt=f(w,"setAlpha.step",0);o.SetAlpha(A,Ft,dt)}if(p(w,"setDepth")){var yt=f(w,"setDepth.value",0),At=f(w,"setDepth.step",0);o.SetDepth(A,yt,At)}if(p(w,"setScrollFactor")){var Ot=f(w,"setScrollFactor.x",1),le=f(w,"setScrollFactor.y",Ot),_t=f(w,"setScrollFactor.stepX",0),xe=f(w,"setScrollFactor.stepY",0);o.SetScrollFactor(A,Ot,le,_t,xe)}var ke=a(w,"hitArea",null),ve=a(w,"hitAreaCallback",null);ke&&o.SetHitArea(A,ke,ve);var Fe=a(w,"gridAlign",!1);return Fe&&o.GridAlign(A,Fe),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(w,C){if(!(!this.runChildUpdate||this.children.size===0))for(var E=this.children.entries.slice(),T=0;T<E.length;T++){var k=E[T];k.active&&k.update(w,C)}},add:function(w,C){return C===void 0&&(C=!1),this.isFull()?this:(this.children.set(w),this.internalCreateCallback&&this.internalCreateCallback.call(this,w),this.createCallback&&this.createCallback.call(this,w),C&&(w.addToDisplayList(this.scene.sys.displayList),w.addToUpdateList()),w.on(c.DESTROY,this.remove,this),this)},addMultiple:function(w,C){if(C===void 0&&(C=!1),Array.isArray(w))for(var E=0;E<w.length;E++)this.add(w[E],C);return this},remove:function(w,C,E){return C===void 0&&(C=!1),E===void 0&&(E=!1),this.children.contains(w)?(this.children.delete(w),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,w),this.removeCallback&&this.removeCallback.call(this,w),w.off(c.DESTROY,this.remove,this),E?w.destroy():C&&(w.removeFromDisplayList(),w.removeFromUpdateList()),this):this},clear:function(w,C){w===void 0&&(w=!1),C===void 0&&(C=!1);for(var E=this.children,T=0;T<E.size;T++){var k=E.entries[T];k.off(c.DESTROY,this.remove,this),C?k.destroy():w&&(k.removeFromDisplayList(),k.removeFromUpdateList())}return this.children.clear(),this},contains:function(w){return this.children.contains(w)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(w,C,E,T){return h(this.children.entries,w,C,E,T)},getFirst:function(w,C,E,T,k,A,I){return this.getHandler(!0,1,w,C,E,T,k,A,I)},getFirstNth:function(w,C,E,T,k,A,I,B){return this.getHandler(!0,w,C,E,T,k,A,I,B)},getLast:function(w,C,E,T,k,A,I){return this.getHandler(!1,1,w,C,E,T,k,A,I)},getLastNth:function(w,C,E,T,k,A,I,B){return this.getHandler(!1,w,C,E,T,k,A,I,B)},getHandler:function(w,C,E,T,k,A,I,B,M){E===void 0&&(E=!1),T===void 0&&(T=!1);var O,P,L=0,_=this.children.entries;if(w)for(P=0;P<_.length;P++)if(O=_[P],O.active===E){if(L++,L===C)break}else O=null;else for(P=_.length-1;P>=0;P--)if(O=_[P],O.active===E){if(L++,L===C)break}else O=null;return O?(typeof k=="number"&&(O.x=k),typeof A=="number"&&(O.y=A),O):T?this.create(k,A,I,B,M):null},get:function(w,C,E,T,k){return this.getFirst(!1,!0,w,C,E,T,k)},getFirstAlive:function(w,C,E,T,k,A){return this.getFirst(!0,w,C,E,T,k,A)},getFirstDead:function(w,C,E,T,k,A){return this.getFirst(!1,w,C,E,T,k,A)},playAnimation:function(w,C){return o.PlayAnimation(this.children.entries,w,C),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(w){w===void 0&&(w=!0);for(var C=0,E=0;E<this.children.size;E++)this.children.entries[E].active===w&&C++;return C},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var w=this.getTotalUsed(),C=this.maxSize===-1?999999999999:this.maxSize;return C-w},setActive:function(w){return this.active=w,this},setName:function(w){return this.name=w,this},propertyValueSet:function(w,C,E,T,k){return o.PropertyValueSet(this.children.entries,w,C,E,T,k),this},propertyValueInc:function(w,C,E,T,k){return o.PropertyValueInc(this.children.entries,w,C,E,T,k),this},setX:function(w,C){return o.SetX(this.children.entries,w,C),this},setY:function(w,C){return o.SetY(this.children.entries,w,C),this},setXY:function(w,C,E,T){return o.SetXY(this.children.entries,w,C,E,T),this},incX:function(w,C){return o.IncX(this.children.entries,w,C),this},incY:function(w,C){return o.IncY(this.children.entries,w,C),this},incXY:function(w,C,E,T){return o.IncXY(this.children.entries,w,C,E,T),this},shiftPosition:function(w,C,E){return o.ShiftPosition(this.children.entries,w,C,E),this},angle:function(w,C){return o.Angle(this.children.entries,w,C),this},rotate:function(w,C){return o.Rotate(this.children.entries,w,C),this},rotateAround:function(w,C){return o.RotateAround(this.children.entries,w,C),this},rotateAroundDistance:function(w,C,E){return o.RotateAroundDistance(this.children.entries,w,C,E),this},setAlpha:function(w,C){return o.SetAlpha(this.children.entries,w,C),this},setTint:function(w,C,E,T){return o.SetTint(this.children.entries,w,C,E,T),this},setOrigin:function(w,C,E,T){return o.SetOrigin(this.children.entries,w,C,E,T),this},scaleX:function(w,C){return o.ScaleX(this.children.entries,w,C),this},scaleY:function(w,C){return o.ScaleY(this.children.entries,w,C),this},scaleXY:function(w,C,E,T){return o.ScaleXY(this.children.entries,w,C,E,T),this},setDepth:function(w,C){return o.SetDepth(this.children.entries,w,C),this},setBlendMode:function(w){return o.SetBlendMode(this.children.entries,w),this},setHitArea:function(w,C){return o.SetHitArea(this.children.entries,w,C),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(w){this.children.contains(w)&&w.setActive(!1)},killAndHide:function(w){this.children.contains(w)&&(w.setActive(!1),w.setVisible(!1))},setVisible:function(w,C,E){return o.SetVisible(this.children.entries,w,C,E),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(w,C){w===void 0&&(w=!1),C===void 0&&(C=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(c.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(C,w),this.scene=void 0,this.children=void 0)}});s.exports=b},94975:(s,g,i)=>{var o=i(44603),m=i(26479);o.register("group",function(c){return new m(this.scene,null,c)})},3385:(s,g,i)=>{var o=i(26479),m=i(39429);m.register("group",function(c,l){return this.updateList.add(new o(this.scene,c,l))})},88571:(s,g,i)=>{var o=i(83419),m=i(31401),c=i(95643),l=i(59819),h=new o({Extends:c,Mixins:[m.Alpha,m.BlendMode,m.Depth,m.Flip,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.TextureCrop,m.Tint,m.Transform,m.Visible,l],initialize:function(f,p,u,v,y){c.call(this,f,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,y),this.setPosition(p,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});s.exports=h},40652:s=>{var g=function(i,o,m,c){m.addToRenderList(o),i.batchSprite(o,o.frame,m,c)};s.exports=g},82459:(s,g,i)=>{var o=i(25305),m=i(44603),c=i(23568),l=i(88571);m.register("image",function(h,a){h===void 0&&(h={});var f=c(h,"key",null),p=c(h,"frame",null),u=new l(this.scene,0,0,f,p);return a!==void 0&&(h.add=a),o(this.scene,u,h),u})},2117:(s,g,i)=>{var o=i(88571),m=i(39429);m.register("image",function(c,l,h,a){return this.displayList.add(new o(this.scene,c,l,h,a))})},59819:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(99517),c=i(40652),s.exports={renderWebGL:m,renderCanvas:c}},99517:s=>{var g=function(i,o,m,c){m.addToRenderList(o),this.pipeline.batchSprite(o,m,c)};s.exports=g},77856:(s,g,i)=>{var o={Events:i(51708),DisplayList:i(8050),GameObjectCreator:i(44603),GameObjectFactory:i(39429),UpdateList:i(45027),Components:i(31401),GetCalcMatrix:i(91296),BuildGameObject:i(25305),BuildGameObjectAnimation:i(13059),GameObject:i(95643),BitmapText:i(22186),Blitter:i(6107),Bob:i(46590),Container:i(31559),DOMElement:i(3069),DynamicBitmapText:i(2638),Extern:i(42421),Graphics:i(43831),Group:i(26479),Image:i(88571),Layer:i(93595),Particles:i(18404),PathFollower:i(1159),RenderTexture:i(591),RetroFont:i(196),Rope:i(77757),Sprite:i(68287),Text:i(50171),GetTextSize:i(14220),MeasureText:i(79557),TextStyle:i(35762),TileSprite:i(20839),Zone:i(41481),Video:i(18471),Shape:i(17803),Arc:i(23629),Curve:i(89),Ellipse:i(19921),Grid:i(30479),IsoBox:i(61475),IsoTriangle:i(16933),Line:i(57847),Polygon:i(24949),Rectangle:i(74561),Star:i(55911),Triangle:i(36931),Factories:{Blitter:i(12709),Container:i(24961),DOMElement:i(2611),DynamicBitmapText:i(72566),Extern:i(56315),Graphics:i(1201),Group:i(3385),Image:i(2117),Layer:i(20005),Particles:i(676),PathFollower:i(90145),RenderTexture:i(60505),Rope:i(96819),Sprite:i(46409),StaticBitmapText:i(34914),Text:i(68005),TileSprite:i(91681),Zone:i(84175),Video:i(89025),Arc:i(42563),Curve:i(40511),Ellipse:i(1543),Grid:i(34137),IsoBox:i(3933),IsoTriangle:i(49803),Line:i(2481),Polygon:i(64827),Rectangle:i(87959),Star:i(93697),Triangle:i(45245)},Creators:{Blitter:i(9403),Container:i(77143),DynamicBitmapText:i(11164),Graphics:i(87079),Group:i(94975),Image:i(82459),Layer:i(25179),Particles:i(92730),RenderTexture:i(34495),Rope:i(26209),Sprite:i(15567),StaticBitmapText:i(57336),Text:i(71259),TileSprite:i(14167),Zone:i(95261),Video:i(11511)}};o.Shader=i(20071),o.Mesh=i(4703),o.NineSlice=i(28103),o.PointLight=i(80321),o.Plane=i(33663),o.Factories.Shader=i(74177),o.Factories.Mesh=i(9225),o.Factories.NineSlice=i(47521),o.Factories.PointLight=i(71255),o.Factories.Plane=i(30985),o.Creators.Shader=i(54935),o.Creators.Mesh=i(20527),o.Creators.NineSlice=i(28279),o.Creators.PointLight=i(39829),o.Creators.Plane=i(56015),o.Light=i(41432),o.LightsManager=i(61356),o.LightsPlugin=i(88992),s.exports=o},93595:(s,g,i)=>{var o=i(10312),m=i(83419),c=i(31401),l=i(53774),h=i(45893),a=i(50792),f=i(51708),p=i(73162),u=i(33963),v=i(44594),y=i(19186),x=new m({Extends:p,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Mask,c.PostPipeline,c.Visible,a,u],initialize:function(w,C){p.call(this,w),a.call(this),this.scene=w,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=w.sys,this.events=w.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),C&&this.add(C),w.sys.queueDepthSort()},setActive:function(b){return this.active=b,this},setName:function(b){return this.name=b,this},setState:function(b){return this.state=b,this},setDataEnabled:function(){return this.data||(this.data=new h(this)),this},setData:function(b,w){return this.data||(this.data=new h(this)),this.data.set(b,w),this},incData:function(b,w){return this.data||(this.data=new h(this)),this.data.inc(b,w),this},toggleData:function(b){return this.data||(this.data=new h(this)),this.data.toggle(b),this},getData:function(b){return this.data||(this.data=new h(this)),this.data.get(b)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return l(this)},willRender:function(b){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&b.id)},getIndexList:function(){for(var b=this,w=this.parentContainer,C=[];w&&(C.unshift(w.getIndex(b)),b=w,w.parentContainer);)w=w.parentContainer;return C.unshift(this.displayList.getIndex(b)),C},addChildCallback:function(b){var w=b.displayList;w&&w!==this&&b.removeFromDisplayList(),b.displayList||(this.queueDepthSort(),b.displayList=this,b.emit(f.ADDED_TO_SCENE,b,this.scene),this.events.emit(v.ADDED_TO_SCENE,b,this.scene))},removeChildCallback:function(b){this.queueDepthSort(),b.displayList=null,b.emit(f.REMOVED_FROM_SCENE,b,this.scene),this.events.emit(v.REMOVED_FROM_SCENE,b,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(y(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(b,w){return b._depth-w._depth},getChildren:function(){return this.list},addToDisplayList:function(b){return b===void 0&&(b=this.scene.sys.displayList),this.displayList&&this.displayList!==b&&this.removeFromDisplayList(),b.exists(this)||(this.displayList=b,b.add(this,!0),b.queueDepthSort(),this.emit(f.ADDED_TO_SCENE,this,this.scene),b.events.emit(v.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var b=this.displayList||this.scene.sys.displayList;return b.exists(this)&&(b.remove(this,!0),b.queueDepthSort(),this.displayList=null,this.emit(f.REMOVED_FROM_SCENE,this,this.scene),b.events.emit(v.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(b){if(!(!this.scene||this.ignoreDestroy)){this.emit(f.DESTROY,this);for(var w=this.list;w.length;)w[0].destroy(b);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});s.exports=x},2956:s=>{var g=function(i,o,m){var c=o.list;if(c.length!==0){o.depthSort();var l=o.blendMode!==-1;l||i.setBlendMode(0);var h=o._alpha;o.mask&&o.mask.preRenderCanvas(i,null,m);for(var a=0;a<c.length;a++){var f=c[a];if(f.willRender(m)){var p=f.alpha;!l&&f.blendMode!==i.currentBlendMode&&i.setBlendMode(f.blendMode),f.setAlpha(p*h),f.renderCanvas(i,f,m),f.setAlpha(p)}}o.mask&&o.mask.postRenderCanvas(i)}};s.exports=g},25179:(s,g,i)=>{var o=i(25305),m=i(93595),c=i(44603),l=i(23568);c.register("layer",function(h,a){h===void 0&&(h={});var f=l(h,"children",null),p=new m(this.scene,f);return a!==void 0&&(h.add=a),o(this.scene,p,h),p})},20005:(s,g,i)=>{var o=i(93595),m=i(39429);m.register("layer",function(c){return this.displayList.add(new o(this.scene,c))})},33963:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(15869),c=i(2956),s.exports={renderWebGL:m,renderCanvas:c}},15869:s=>{var g=function(i,o,m){var c=o.list,l=c.length;if(l!==0){o.depthSort(),i.pipelines.preBatch(o);var h=o.blendMode!==-1;h||i.setBlendMode(0);for(var a=o.alpha,f=0;f<l;f++){var p=c[f];if(p.willRender(m)){var u,v,y,x;if(p.alphaTopLeft!==void 0)u=p.alphaTopLeft,v=p.alphaTopRight,y=p.alphaBottomLeft,x=p.alphaBottomRight;else{var b=p.alpha;u=b,v=b,y=b,x=b}!h&&p.blendMode!==i.currentBlendMode&&i.setBlendMode(p.blendMode);var w=p.mask;w&&w.preRenderWebGL(i,p,m);var C=p.type;C!==i.currentType&&(i.newType=!0,i.currentType=C),i.nextTypeMatch=f<l-1?c[f+1].type===i.currentType:!1,p.setAlpha(u*a,v*a,y*a,x*a),p.renderWebGL(i,p,m),p.setAlpha(u,v,y,x),w&&w.postRenderWebGL(i,m),i.newType=!1}}i.pipelines.postBatch(o)}};s.exports=g},41432:(s,g,i)=>{var o=i(96503),m=i(83419),c=i(31401),l=i(51767),h=i(70554),a=new m({Extends:o,Mixins:[c.Origin,c.ScrollFactor,c.Visible],initialize:function(p,u,v,y,x,b,w){o.call(this,p,u,v),this.color=new l(y,x,b),this.intensity=w,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(v)},displayWidth:{get:function(){return this.diameter},set:function(f){this.diameter=f}},displayHeight:{get:function(){return this.diameter},set:function(f){this.diameter=f}},width:{get:function(){return this.diameter},set:function(f){this.diameter=f}},height:{get:function(){return this.diameter},set:function(f){this.diameter=f}},willRender:function(f){return!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},setColor:function(f){var p=h.getFloatsFromUintRGB(f);return this.color.set(p[0],p[1],p[2]),this},setIntensity:function(f){return this.intensity=f,this},setRadius:function(f){return this.radius=f,this}});a.RENDER_MASK=15,s.exports=a},61356:(s,g,i)=>{var o=i(81491),m=i(83419),c=i(20339),l=i(41432),h=i(80321),a=i(51767),f=i(19133),p=i(19186),u=i(70554),v=new m({initialize:function(){this.lights=[],this.ambientColor=new a(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(y,x,b,w,C,E){return this.systems.displayList.add(new h(this.scene,y,x,b,w,C,E))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(y){for(var x=this.lights,b=y.worldView,w=[],C=0;C<x.length;C++){var E=x[C];E.willRender(y)&&o(E,b)&&w.push({light:E,distance:c(E.x,E.y,b.centerX,b.centerY)})}return w.length>this.maxLights&&(p(w,this.sortByDistance),w=w.slice(0,this.maxLights)),this.visibleLights=w.length,w},sortByDistance:function(y,x){return y.distance>=x.distance},setAmbientColor:function(y){var x=u.getFloatsFromUintRGB(y);return this.ambientColor.set(x[0],x[1],x[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(y,x,b,w,C){y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=128),w===void 0&&(w=16777215),C===void 0&&(C=1);var E=u.getFloatsFromUintRGB(w),T=new l(y,x,b,E[0],E[1],E[2],C);return this.lights.push(T),T},removeLight:function(y){var x=this.lights.indexOf(y);return x>=0&&f(this.lights,x),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});s.exports=v},88992:(s,g,i)=>{var o=i(83419),m=i(61356),c=i(37277),l=i(44594),h=new o({Extends:m,initialize:function(f){this.scene=f,this.systems=f.sys,f.sys.settings.isBooted||f.sys.events.once(l.BOOT,this.boot,this),m.call(this)},boot:function(){var a=this.systems.events;a.on(l.SHUTDOWN,this.shutdown,this),a.on(l.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});c.register("LightsPlugin",h,"lights"),s.exports=h},4703:(s,g,i)=>{var o=i(83419),m=i(31401),c=i(39506),l=i(83997),h=i(95643),a=i(34684),f=i(92515),p=i(91296),u=i(37867),v=i(29807),y=i(43396),x=i(19186),b=i(25836),w=i(39318),C=new o({Extends:h,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Size,m.Texture,m.Transform,m.Visible,v],initialize:function(T,k,A,I,B,M,O,P,L,_,G,$){k===void 0&&(k=0),A===void 0&&(A=0),I===void 0&&(I="__WHITE"),h.call(this,T,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new b,this.modelScale=new b(1,1,1),this.modelRotation=new b,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new u,this.viewPosition=new b,this.viewMatrix=new u,this.projectionMatrix=new u,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var W=T.sys.renderer;this.setPosition(k,A),this.setTexture(I,B),this.setSize(W.width,W.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(W.width,W.height),M&&this.addVertices(M,O,P,L,_,G,$)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(E){return this.viewPosition.addScale(b.LEFT,E),this.dirtyCache[10]=1,this},panY:function(E){return this.viewPosition.y+=b.DOWN.y*E,this.dirtyCache[10]=1,this},panZ:function(E){return this.viewPosition.z+=E,this.dirtyCache[10]=1,this},setPerspective:function(E,T,k,A,I){return k===void 0&&(k=45),A===void 0&&(A=.01),I===void 0&&(I=1e3),this.fov=k,this.projectionMatrix.perspective(c(k),E/T,A,I),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(E,T,k,A){return E===void 0&&(E=this.scene.sys.renderer.getAspectRatio()),T===void 0&&(T=1),k===void 0&&(k=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-E,E,-T,T,k,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(E){E.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(E,T,k,A,I,B,M,O,P){var L=this.scene.sys.cache.obj.get(E),_;return L&&(_=a(L,this,T,k,A,I,B,M,O,P)),(!_||_.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",E),this},sortByDepth:function(E,T){return E.depth-T.depth},depthSort:function(){return x(this.faces,this.sortByDepth),this},addVertex:function(E,T,k,A,I,B,M){var O=new w(E,T,k,A,I,B,M);return this.vertices.push(O),O},addFace:function(E,T,k){var A=new l(E,T,k);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(E,T,k,A,I,B,M){var O=f(E,T,k,A,I,B,M);return O?(this.faces=this.faces.concat(O.faces),this.vertices=this.vertices.concat(O.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(E){return this.faces[E]},hasFaceAt:function(E,T,k){k===void 0&&(k=this.scene.sys.cameras.main);for(var A=p(this,k).calc,I=this.faces,B=0;B<I.length;B++){var M=I[B];if(M.contains(E,T,A))return!0}return!1},getFaceAt:function(E,T,k){k===void 0&&(k=this.scene.sys.cameras.main);for(var A=p(this,k).calc,I=this.faces,B=[],M=0;M<I.length;M++){var O=I[M];O.contains(E,T,A)&&B.push(O)}return x(B,this.sortByDepth)},setDebug:function(E,T){return this.debugGraphic=E,!E&&!T?this.debugCallback=null:T?this.debugCallback=T:this.debugCallback=this.renderDebug,this},isDirty:function(){var E=this.modelPosition,T=this.modelRotation,k=this.modelScale,A=this.dirtyCache,I=E.x,B=E.y,M=E.z,O=T.x,P=T.y,L=T.z,_=k.x,G=k.y,$=k.z,W=this.getFaceCount(),Y=A[0],z=A[1],F=A[2],N=A[3],j=A[4],U=A[5],V=A[6],q=A[7],ot=A[8],Q=A[9];return A[0]=I,A[1]=B,A[2]=M,A[3]=O,A[4]=P,A[5]=L,A[6]=_,A[7]=G,A[8]=$,A[9]=W,Y!==I||z!==B||F!==M||N!==O||j!==P||U!==L||V!==_||q!==G||ot!==$||Q!==W},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var E=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!E[10]&&!this.isDirty())){var T=this.width,k=this.height,A=this.viewMatrix,I=this.viewPosition;E[10]&&(A.identity(),A.translate(I),A.invert(),E[10]=0);var B=this.transformMatrix;B.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var M=I.z,O=this.faces,P=0;P<O.length;P++)O[P].transformCoordinatesLocal(B,T,k,M);this.depthSort()}},renderDebug:function(E,T){for(var k=E.debugGraphic,A=0;A<T.length;A++){var I=T[A],B=I.vertex1.tx,M=I.vertex1.ty,O=I.vertex2.tx,P=I.vertex2.ty,L=I.vertex3.tx,_=I.vertex3.ty;k.strokeTriangle(B,M,O,P,L,_)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(E){E===void 0&&(E={});var T=function(k,A,I){for(var B=this.faces,M=0;M<B.length;M++){var O=B[M];if(O.contains(A,I))return!0}return!1}.bind(this);return this.scene.sys.input.enable(this,E,T),this},setTint:function(E){E===void 0&&(E=16777215);for(var T=this.vertices,k=0;k<T.length;k++)T[k].color=E;return this},uvScroll:function(E,T){for(var k=this.faces,A=0;A<k.length;A++)k[A].scrollUV(E,T);return this},uvScale:function(E,T){for(var k=this.faces,A=0;A<k.length;A++)k[A].scaleUV(E,T);return this},tint:{set:function(E){this.setTint(E)}},rotateX:{get:function(){return y(this.modelRotation.x)},set:function(E){this.modelRotation.x=c(E)}},rotateY:{get:function(){return y(this.modelRotation.y)},set:function(E){this.modelRotation.y=c(E)}},rotateZ:{get:function(){return y(this.modelRotation.z)},set:function(E){this.modelRotation.z=c(E)}}});s.exports=C},36488:s=>{var g=function(){};s.exports=g},20527:(s,g,i)=>{var o=i(25305),m=i(44603),c=i(23568),l=i(35154),h=i(4703);m.register("mesh",function(a,f){a===void 0&&(a={});var p=c(a,"key",null),u=c(a,"frame",null),v=l(a,"vertices",[]),y=l(a,"uvs",[]),x=l(a,"indicies",[]),b=l(a,"containsZ",!1),w=l(a,"normals",[]),C=l(a,"colors",16777215),E=l(a,"alphas",1),T=new h(this.scene,0,0,p,u,v,y,x,b,w,C,E);return f!==void 0&&(a.add=f),o(this.scene,T,a),T})},9225:(s,g,i)=>{var o=i(4703),m=i(39429);m.register("mesh",function(c,l,h,a,f,p,u,v,y,x,b){return this.displayList.add(new o(this.scene,c,l,h,a,f,p,u,v,y,x,b))})},29807:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(48833),c=i(36488),s.exports={renderWebGL:m,renderCanvas:c}},48833:(s,g,i)=>{var o=i(91296),m=function(c,l,h,a){var f=l.faces,p=f.length;if(p!==0){h.addToRenderList(l);var u=c.pipelines.set(l.pipeline,l),v=o(l,h,a).calc;c.pipelines.preBatch(l);for(var y=u.setGameObject(l),x=u.vertexViewF32,b=u.vertexViewU32,w=u.vertexCount*u.currentShader.vertexComponentCount-1,C=l.tintFill,E=[],T=l.debugCallback,k=v.a,A=v.b,I=v.c,B=v.d,M=v.e,O=v.f,P=l.viewPosition.z,L=l.hideCCW,_=h.roundPixels,G=h.alpha*l.alpha,$=0,W=0;W<p;W++){var Y=f[W];Y.isInView(h,L,P,G,k,A,I,B,M,O,_)&&(u.shouldFlush(3)&&(u.flush(),y=u.setGameObject(l),w=0),w=Y.load(x,b,w,y,C),$++,u.vertexCount+=3,u.currentBatch.count=u.vertexCount-u.currentBatch.start,T&&E.push(Y))}l.totalFrame+=$,T&&T.call(l,l,E),c.pipelines.postBatch(l)}};s.exports=m},28103:(s,g,i)=>{var o=i(83419),m=i(31401),c=i(95643),l=i(78023),h=i(39318),a=new o({Extends:c,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,l],initialize:function(p,u,v,y,x,b,w,C,E,T,k){c.call(this,p,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var A=p.textures.getFrame(y,x);this.is3Slice=!T&&!k,A.scale9&&(this.is3Slice=A.is3Slice);for(var I=this.is3Slice?18:54,B=0;B<I;B++)this.vertices.push(new h);this.setPosition(u,v),this.setTexture(y,x),this.setSlices(b,w,C,E,T,k,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(f,p,u,v,y,x,b){u===void 0&&(u=10),v===void 0&&(v=10),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=!1);var w=this.frame,C=!1;if(this.is3Slice&&b&&y!==0&&x!==0&&(C=!0),C)console.warn("Cannot change 9 slice to 3 slice");else{if(w.scale9&&!b){var E=w.data.scale9Borders,T=E.x,k=E.y;u=T,v=w.width-E.w-T,y=k,x=w.height-E.h-k,f===void 0&&(f=w.width),p===void 0&&(p=w.height)}else f===void 0&&(f=256),p===void 0&&(p=256);this._width=f,this._height=p,this.leftWidth=u,this.rightWidth=v,this.topHeight=y,this.bottomHeight=x,this.is3Slice&&(p=w.height,this._height=p,this.topHeight=p,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var f=this.leftWidth,p=this.rightWidth,u=this.topHeight,v=this.bottomHeight,y=this.frame.width,x=this.frame.height;this.updateQuadUVs(0,0,0,f/y,u/x),this.updateQuadUVs(6,f/y,0,1-p/y,u/x),this.updateQuadUVs(12,1-p/y,0,1,u/x),this.is3Slice||(this.updateQuadUVs(18,0,u/x,f/y,1-v/x),this.updateQuadUVs(24,f/y,u/x,1-p/y,1-v/x),this.updateQuadUVs(30,1-p/y,u/x,1,1-v/x),this.updateQuadUVs(36,0,1-v/x,f/y,1),this.updateQuadUVs(42,f/y,1-v/x,1-p/y,1),this.updateQuadUVs(48,1-p/y,1-v/x,1,1))},updateVertices:function(){var f=this.leftWidth,p=this.rightWidth,u=this.topHeight,v=this.bottomHeight,y=this.width,x=this.height;this.updateQuad(0,-.5,.5,-.5+f/y,.5-u/x),this.updateQuad(6,-.5+f/y,.5,.5-p/y,.5-u/x),this.updateQuad(12,.5-p/y,.5,.5,.5-u/x),this.is3Slice||(this.updateQuad(18,-.5,.5-u/x,-.5+f/y,-.5+v/x),this.updateQuad(24,-.5+f/y,.5-u/x,.5-p/y,-.5+v/x),this.updateQuad(30,.5-p/y,.5-u/x,.5,-.5+v/x),this.updateQuad(36,-.5,-.5+v/x,-.5+f/y,-.5),this.updateQuad(42,-.5+f/y,-.5+v/x,.5-p/y,-.5),this.updateQuad(48,.5-p/y,-.5+v/x,.5,-.5))},updateQuad:function(f,p,u,v,y){var x=this.width,b=this.height,w=this.originX,C=this.originY,E=this.vertices;E[f+0].resize(p,u,x,b,w,C),E[f+1].resize(p,y,x,b,w,C),E[f+2].resize(v,u,x,b,w,C),E[f+3].resize(p,y,x,b,w,C),E[f+4].resize(v,y,x,b,w,C),E[f+5].resize(v,u,x,b,w,C)},updateQuadUVs:function(f,p,u,v,y){var x=this.vertices,b=this.frame,w=b.u0,C=b.v0,E=b.u1,T=b.v1;if(w!==0||E!==1){var k=E-w;p=w+p*k,v=w+v*k}if(C!==0||T!==1){var A=T-C;u=C+u*A,y=C+y*A}x[f+0].setUVs(p,u),x[f+1].setUVs(p,y),x[f+2].setUVs(v,u),x[f+3].setUVs(p,y),x[f+4].setUVs(v,y),x[f+5].setUVs(v,u)},clearTint:function(){return this.setTint(16777215),this},setTint:function(f){return f===void 0&&(f=16777215),this.tint=f,this.tintFill=!1,this},setTintFill:function(f){return this.setTint(f),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(f){this._width=Math.max(f,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(f){this.is3Slice||(this._height=Math.max(f,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(f){this.scaleX=f/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(f){this.scaleY=f/this.height}},setSize:function(f,p){this.width=f,this.height=p,this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setDisplaySize:function(f,p){return this.displayWidth=f,this.displayHeight=p,this},originX:{get:function(){return this._originX},set:function(f){this._originX=f,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(f){this._originY=f,this.updateVertices()}},setOrigin:function(f,p){return f===void 0&&(f=.5),p===void 0&&(p=f),this._originX=f,this._originY=p,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var f=this.frame.height;this._height=f,this.topHeight=f,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});s.exports=a},28279:(s,g,i)=>{var o=i(25305),m=i(44603),c=i(23568),l=i(35154),h=i(28103);m.register("nineslice",function(a,f){a===void 0&&(a={});var p=c(a,"key",null),u=c(a,"frame",null),v=l(a,"width",256),y=l(a,"height",256),x=l(a,"leftWidth",10),b=l(a,"rightWidth",10),w=l(a,"topHeight",0),C=l(a,"bottomHeight",0),E=new h(this.scene,0,0,p,u,v,y,x,b,w,C);return f!==void 0&&(a.add=f),o(this.scene,E,a),E})},47521:(s,g,i)=>{var o=i(28103),m=i(39429);m.register("nineslice",function(c,l,h,a,f,p,u,v,y,x){return this.displayList.add(new o(this.scene,c,l,h,a,f,p,u,v,y,x))})},78023:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(52230),s.exports={renderWebGL:m,renderCanvas:c}},52230:(s,g,i)=>{var o=i(91296),m=i(70554),c=function(l,h,a,f){var p=h.vertices,u=p.length;if(u!==0){a.addToRenderList(h);var v=l.pipelines.set(h.pipeline,h),y=o(h,a,f,!1).calc;l.pipelines.preBatch(h);var x=v.setGameObject(h),b=v.vertexViewF32,w=v.vertexViewU32,C=v.vertexCount*v.currentShader.vertexComponentCount-1,E=a.roundPixels,T=h.tintFill,k=a.alpha*h.alpha,A=m.getTintAppendFloatAlpha(h.tint,k),I=v.vertexAvailable(),B=-1;I<u&&(B=I);for(var M=0;M<u;M++){var O=p[M];M===B&&(v.flush(),x=v.setGameObject(h),C=0),b[++C]=y.getXRound(O.vx,O.vy,E),b[++C]=y.getYRound(O.vx,O.vy,E),b[++C]=O.u,b[++C]=O.v,b[++C]=x,b[++C]=T,w[++C]=A,v.vertexCount++,v.currentBatch.count=v.vertexCount-v.currentBatch.start}l.pipelines.postBatch(h)}};s.exports=c},76472:(s,g,i)=>{var o=i(83419),m=i(44777),c=i(37589),l=i(6113),h=i(91389),a=i(90664),f=new o({Extends:m,initialize:function(u){m.call(this,u,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var p=this.propertyValue,u=p,v=this.defaultEmit,y=this.defaultUpdate;if(this.method===9){this.start=p[0],this.ease=l("Linear"),this.interpolation=h("linear"),v=this.easedValueEmit,y=this.easeValueUpdate,u=p[0],this.active=!0;for(var x=0;x<p.length;x++){var b=a(p[x]);this.r.push(b.r),this.g.push(b.g),this.b.push(b.b)}}return this.onEmit=v,this.onUpdate=y,this.current=u,this},setEase:function(p){this.easeName=p,this.ease=l(p)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(p,u,v){var y=this.ease(v),x=this.interpolation(this.r,y),b=this.interpolation(this.g,y),w=this.interpolation(this.b,y),C=c(x,b,w);return this.current=C,C}});s.exports=f},44777:(s,g,i)=>{var o=i(30976),m=i(45319),c=i(83419),l=i(99472),h=i(6113),a=i(95540),f=i(91389),p=i(77720),u=i(15994),v=new c({initialize:function(x,b,w){w===void 0&&(w=!1),this.propertyKey=x,this.propertyValue=b,this.defaultValue=b,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=w,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(y,x){y===void 0&&(y={}),x&&(this.propertyKey=x),this.propertyValue=a(y,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(y){var x;switch(this.method){case 1:case 3:case 8:x=y;break;case 2:this.propertyValue.indexOf(y)>=0&&(x=y);break;case 4:var b=(this.end-this.start)/this.steps;x=p(y,b),this.counter=x;break;case 5:case 6:case 7:x=m(y,this.start,this.end);break;case 9:x=this.start[0];break}return this.current=x,this},getMethod:function(){var y=this.propertyValue;if(y===null)return 0;var x=typeof y;if(x==="number")return 1;if(Array.isArray(y))return 2;if(x==="function")return 3;if(x==="object"){if(this.hasBoth(y,"start","end"))return this.has(y,"steps")?4:5;if(this.hasBoth(y,"min","max"))return 6;if(this.has(y,"random"))return 7;if(this.hasEither(y,"onEmit","onUpdate"))return 8;if(this.hasEither(y,"values","interpolation"))return 9}return 0},setMethods:function(){var y=this.propertyValue,x=y,b=this.defaultEmit,w=this.defaultUpdate;switch(this.method){case 1:b=this.staticValueEmit;break;case 2:b=this.randomStaticValueEmit,x=y[0];break;case 3:this._onEmit=y,b=this.proxyEmit;break;case 4:this.start=y.start,this.end=y.end,this.steps=y.steps,this.counter=this.start,this.yoyo=this.has(y,"yoyo")?y.yoyo:!1,this.direction=0,b=this.steppedEmit,x=this.start;break;case 5:this.start=y.start,this.end=y.end;var C=this.has(y,"ease")?y.ease:"Linear";this.ease=h(C,y.easeParams),b=this.has(y,"random")&&y.random?this.randomRangedValueEmit:this.easedValueEmit,w=this.easeValueUpdate,x=this.start;break;case 6:this.start=y.min,this.end=y.max,b=this.has(y,"int")&&y.int?this.randomRangedIntEmit:this.randomRangedValueEmit,x=this.start;break;case 7:var E=y.random;Array.isArray(E)&&(this.start=E[0],this.end=E[1]),b=this.randomRangedIntEmit,x=this.start;break;case 8:this._onEmit=this.has(y,"onEmit")?y.onEmit:this.defaultEmit,this._onUpdate=this.has(y,"onUpdate")?y.onUpdate:this.defaultUpdate,b=this.proxyEmit,w=this.proxyUpdate;break;case 9:this.start=y.values;var T=this.has(y,"ease")?y.ease:"Linear";this.ease=h(T,y.easeParams),this.interpolation=f(y.interpolation),b=this.easedValueEmit,w=this.easeValueUpdate,x=this.start[0];break}return this.onEmit=b,this.onUpdate=w,this.current=x,this},has:function(y,x){return y.hasOwnProperty(x)},hasBoth:function(y,x,b){return y.hasOwnProperty(x)&&y.hasOwnProperty(b)},hasEither:function(y,x,b){return y.hasOwnProperty(x)||y.hasOwnProperty(b)},defaultEmit:function(y,x,b){return b},defaultUpdate:function(y,x,b,w){return w},proxyEmit:function(y,x,b){var w=this._onEmit(y,x,b);return this.current=w,w},proxyUpdate:function(y,x,b,w){var C=this._onUpdate(y,x,b,w);return this.current=C,C},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var y=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[y],this.current},randomRangedValueEmit:function(y,x){var b=l(this.start,this.end);return y&&y.data[x]&&(y.data[x].min=b,y.data[x].max=this.end),this.current=b,b},randomRangedIntEmit:function(y,x){var b=o(this.start,this.end);return y&&y.data[x]&&(y.data[x].min=b,y.data[x].max=this.end),this.current=b,b},steppedEmit:function(){var y=this.counter,x=y,b=(this.end-this.start)/this.steps;if(this.yoyo){var w;this.direction===0?(x+=b,x>=this.end&&(w=x-this.end,x=this.end-w,this.direction=1)):(x-=b,x<=this.start&&(w=this.start-x,x=this.start+w,this.direction=0)),this.counter=x}else this.counter=u(x+b,this.start,this.end);return this.current=y,y},easedValueEmit:function(y,x){if(y&&y.data[x]){var b=y.data[x];b.min=this.start,b.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(y,x,b){var w=y.data[x],C,E=this.ease(b);return this.interpolation?C=this.interpolation(this.start,E):C=(w.max-w.min)*E+w.min,this.current=C,C},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});s.exports=v},24502:(s,g,i)=>{var o=i(83419),m=i(95540),c=i(20286),l=new o({Extends:c,initialize:function(a,f,p,u,v){if(typeof a=="object"){var y=a;a=m(y,"x",0),f=m(y,"y",0),p=m(y,"power",0),u=m(y,"epsilon",100),v=m(y,"gravity",50)}else a===void 0&&(a=0),f===void 0&&(f=0),p===void 0&&(p=0),u===void 0&&(u=100),v===void 0&&(v=50);c.call(this,a,f,!0),this._gravity=v,this._power=p*v,this._epsilon=u*u},update:function(h,a){var f=this.x-h.x,p=this.y-h.y,u=f*f+p*p;if(u!==0){var v=Math.sqrt(u);u<this._epsilon&&(u=this._epsilon);var y=this._power*a/(u*v)*100;h.velocityX+=f*y,h.velocityY+=p*y}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(h){this._epsilon=h*h}},power:{get:function(){return this._power/this._gravity},set:function(h){this._power=h*this._gravity}},gravity:{get:function(){return this._gravity},set:function(h){var a=this.power;this._gravity=h,this.power=a}}});s.exports=l},56480:(s,g,i)=>{var o=i(9674),m=i(45319),c=i(83419),l=i(39506),h=i(87841),a=i(11520),f=i(26099),p=new c({initialize:function(v){this.emitter=v,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new f,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=v.scene,this.anims=new o(this),this.bounds=new h},emit:function(u,v,y,x,b,w){return this.emitter.emit(u,v,y,x,b,w)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(u,v){u===void 0&&(u=0),v===void 0&&(v=0),this.x=u,this.y=v},fire:function(u,v){var y=this.emitter,x=y.ops,b=y.getAnim();if(b?this.anims.play(b):(this.frame=y.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(y.getEmitZone(this),u===void 0?this.x+=x.x.onEmit(this,"x"):x.x.steps>0?this.x+=u+x.x.onEmit(this,"x"):this.x+=u,v===void 0?this.y+=x.y.onEmit(this,"y"):x.y.steps>0?this.y+=v+x.y.onEmit(this,"y"):this.y+=v,this.life=x.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=x.delay.onEmit(this,"delay"),this.holdCurrent=x.hold.onEmit(this,"hold"),this.scaleX=x.scaleX.onEmit(this,"scaleX"),this.scaleY=x.scaleY.active?x.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=x.rotate.onEmit(this,"rotate"),this.rotation=l(this.angle),y.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&y.getDeathZone(this))return this.lifeCurrent=0,!1;var w=x.speedX.onEmit(this,"speedX"),C=x.speedY.active?x.speedY.onEmit(this,"speedY"):w;if(y.radial){var E=l(x.angle.onEmit(this,"angle"));this.velocityX=Math.cos(E)*Math.abs(w),this.velocityY=Math.sin(E)*Math.abs(C)}else if(y.moveTo){var T=x.moveToX.onEmit(this,"moveToX"),k=x.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(T-this.x)/A,this.velocityY=(k-this.y)/A}else this.velocityX=w,this.velocityY=C;return y.acceleration&&(this.accelerationX=x.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=x.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=x.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=x.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=x.bounce.onEmit(this,"bounce"),this.alpha=x.alpha.onEmit(this,"alpha"),x.color.active?this.tint=x.color.onEmit(this,"tint"):this.tint=x.tint.onEmit(this,"tint"),!0},update:function(u,v,y){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=u,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=u,!1;this.anims.update(0,u);var x=this.emitter,b=x.ops,w=1-this.lifeCurrent/this.life;if(this.lifeT=w,this.x=b.x.onUpdate(this,"x",w,this.x),this.y=b.y.onUpdate(this,"y",w,this.y),x.moveTo){var C=b.moveToX.onUpdate(this,"moveToX",w,x.moveToX),E=b.moveToY.onUpdate(this,"moveToY",w,x.moveToY),T=this.lifeCurrent/1e3;this.velocityX=(C-this.x)/T,this.velocityY=(E-this.y)/T}return this.computeVelocity(x,u,v,y,w),this.scaleX=b.scaleX.onUpdate(this,"scaleX",w,this.scaleX),b.scaleY.active?this.scaleY=b.scaleY.onUpdate(this,"scaleY",w,this.scaleY):this.scaleY=this.scaleX,this.angle=b.rotate.onUpdate(this,"rotate",w,this.angle),this.rotation=l(this.angle),x.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=m(b.alpha.onUpdate(this,"alpha",w,this.alpha),0,1),b.color.active?this.tint=b.color.onUpdate(this,"color",w,this.tint):this.tint=b.tint.onUpdate(this,"tint",w,this.tint),this.lifeCurrent-=u,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(u,v,y,x,b){var w=u.ops,C=this.velocityX,E=this.velocityY,T=w.accelerationX.onUpdate(this,"accelerationX",b,this.accelerationX),k=w.accelerationY.onUpdate(this,"accelerationY",b,this.accelerationY),A=w.maxVelocityX.onUpdate(this,"maxVelocityX",b,this.maxVelocityX),I=w.maxVelocityY.onUpdate(this,"maxVelocityY",b,this.maxVelocityY);this.bounce=w.bounce.onUpdate(this,"bounce",b,this.bounce),C+=u.gravityX*y+T*y,E+=u.gravityY*y+k*y,C=m(C,-A,A),E=m(E,-I,I),this.velocityX=C,this.velocityY=E,this.x+=C*y,this.y+=E*y,u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var B=0;B<x.length;B++){var M=x[B];M.active&&M.update(this,v,y,b)}},setSizeToFrame:function(){},getBounds:function(u){u===void 0&&(u=this.emitter.getWorldTransformMatrix());var v=Math.abs(u.scaleX)*this.scaleX,y=Math.abs(u.scaleY)*this.scaleY,x=this.x,b=this.y,w=this.rotation,C=this.frame.width*v/2,E=this.frame.height*y/2,T=this.bounds,k=new f(x-C,b-E),A=new f(x+C,b-E),I=new f(x-C,b+E),B=new f(x+C,b+E);return w!==0&&(a(k,x,b,w),a(A,x,b,w),a(I,x,b,w),a(B,x,b,w)),u.transformPoint(k.x,k.y,k),u.transformPoint(A.x,A.y,A),u.transformPoint(I.x,I.y,I),u.transformPoint(B.x,B.y,B),T.x=Math.min(k.x,A.x,I.x,B.x),T.y=Math.min(k.y,A.y,I.y,B.y),T.width=Math.max(k.x,A.x,I.x,B.x)-T.x,T.height=Math.max(k.y,A.y,I.y,B.y)-T.y,T},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});s.exports=p},69601:(s,g,i)=>{var o=i(83419),m=i(20286),c=i(87841),l=new o({Extends:m,initialize:function(a,f,p,u,v,y,x,b){v===void 0&&(v=!0),y===void 0&&(y=!0),x===void 0&&(x=!0),b===void 0&&(b=!0),m.call(this,a,f,!0),this.bounds=new c(a,f,p,u),this.collideLeft=v,this.collideRight=y,this.collideTop=x,this.collideBottom=b},update:function(h){var a=this.bounds,f=-h.bounce,p=h.worldPosition;p.x<a.x&&this.collideLeft?(h.x+=a.x-p.x,h.velocityX*=f):p.x>a.right&&this.collideRight&&(h.x-=p.x-a.right,h.velocityX*=f),p.y<a.y&&this.collideTop?(h.y+=a.y-p.y,h.velocityY*=f):p.y>a.bottom&&this.collideBottom&&(h.y-=p.y-a.bottom,h.velocityY*=f)}});s.exports=l},31600:(s,g,i)=>{var o=i(83419),m=i(31401),c=i(53774),l=i(43459),h=i(26388),a=i(19909),f=i(76472),p=i(44777),u=i(20696),v=i(95643),y=i(95540),x=i(26546),b=i(24502),w=i(1985),C=i(97022),E=i(86091),T=i(73162),k=i(20074),A=i(56480),I=i(68875),B=i(87841),M=i(59996),O=i(72905),P=i(90668),L=i(19186),_=i(61340),G=i(26099),$=i(15994),W=i(69601),Y=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],z=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],F=new o({Extends:v,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Texture,m.Transform,m.Visible,P],initialize:function(j,U,V,q,ot){v.call(this,j,"ParticleEmitter"),this.particleClass=A,this.ops={accelerationX:new p("accelerationX",0),accelerationY:new p("accelerationY",0),alpha:new p("alpha",1),angle:new p("angle",{min:0,max:360},!0),bounce:new p("bounce",0),color:new f("color"),delay:new p("delay",0,!0),hold:new p("hold",0,!0),lifespan:new p("lifespan",1e3,!0),maxVelocityX:new p("maxVelocityX",1e4),maxVelocityY:new p("maxVelocityY",1e4),moveToX:new p("moveToX",0),moveToY:new p("moveToY",0),quantity:new p("quantity",1,!0),rotate:new p("rotate",0),scaleX:new p("scaleX",1),scaleY:new p("scaleY",1),speedX:new p("speedX",0,!0),speedY:new p("speedY",0,!0),tint:new p("tint",16777215),x:new p("x",0),y:new p("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new G,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new _,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new T(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(U,V),this.setTexture(q),ot&&this.setConfig(ot)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(N){if(!N)return this;var j=0,U="",V=this.ops;for(j=0;j<z.length;j++)U=z[j],V[U].loadConfig(N);for(j=0;j<Y.length;j++)U=Y[j],C(N,U)&&(this[U]=y(N,U));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,C(N,"speed")&&(V.speedX.loadConfig(N,"speed"),V.speedY.active=!1),(w(N,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),C(N,"scale")&&(V.scaleX.loadConfig(N,"scale"),V.scaleY.active=!1),C(N,"callbackScope")){var q=y(N,"callbackScope",null);this.emitCallbackScope=q,this.deathCallbackScope=q}if(C(N,"emitZone")&&this.addEmitZone(N.emitZone),C(N,"deathZone")&&this.addDeathZone(N.deathZone),C(N,"bounds")){var ot=this.addParticleBounds(N.bounds);ot.collideLeft=y(N,"collideLeft",!0),ot.collideRight=y(N,"collideRight",!0),ot.collideTop=y(N,"collideTop",!0),ot.collideBottom=y(N,"collideBottom",!0)}return C(N,"followOffset")&&this.followOffset.setFromObject(y(N,"followOffset",0)),C(N,"texture")&&this.setTexture(N.texture),C(N,"frame")?this.setEmitterFrame(N.frame):C(N,"anim")&&this.setAnim(N.anim),C(N,"reserve")&&this.reserve(N.reserve),C(N,"advance")&&this.fastForward(N.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(u.START,this),this},toJSON:function(){var N=c(this),j=0,U="";for(j=0;j<Y.length;j++)U=Y[j],N[U]=this[U];var V=this.ops;for(j=0;j<z.length;j++)U=z[j],V[U]&&(N[U]=V[U].toJSON());return V.speedY.active||(delete N.speedX,N.speed=V.speedX.toJSON()),this.scaleX===this.scaleY&&(delete N.scaleX,delete N.scaleY,N.scale=V.scaleX.toJSON()),N},resetCounters:function(N,j){var U=this.counters;U.fill(0),U[0]=N,j&&(U[5]=1)},startFollow:function(N,j,U,V){return j===void 0&&(j=0),U===void 0&&(U=0),V===void 0&&(V=!1),this.follow=N,this.followOffset.set(j,U),this.trackVisible=V,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var N=this.frames,j=N.length,U;return j===1?U=N[0]:this.randomFrame?U=x(N):(U=N[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===j&&(this.currentFrame=0))),this.texture.get(U)},setEmitterFrame:function(N,j,U){j===void 0&&(j=!0),U===void 0&&(U=1),this.randomFrame=j,this.frameQuantity=U,this.currentFrame=0;var V=typeof N;if(this.frames.length=0,Array.isArray(N))this.frames=this.frames.concat(N);else if(V==="string"||V==="number")this.frames.push(N);else if(V==="object"){var q=N;N=y(q,"frames",null),N&&(this.frames=this.frames.concat(N));var ot=y(q,"cycle",!1);this.randomFrame=!ot,this.frameQuantity=y(q,"quantity",U)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var N=this.anims,j=N.length;if(j===0)return null;if(j===1)return N[0];if(this.randomAnim)return x(N);var U=N[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=$(this.currentAnim+1,0,j)),U},setAnim:function(N,j,U){j===void 0&&(j=!0),U===void 0&&(U=1),this.randomAnim=j,this.animQuantity=U,this.currentAnim=0;var V=typeof N;if(this.anims.length=0,Array.isArray(N))this.anims=this.anims.concat(N);else if(V==="string")this.anims.push(N);else if(V==="object"){var q=N;N=y(q,"anims",null),N&&(this.anims=this.anims.concat(N));var ot=y(q,"cycle",!1);this.randomAnim=!ot,this.animQuantity=y(q,"quantity",U)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(N){return N===void 0&&(N=!0),this.radial=N,this},addParticleBounds:function(N,j,U,V,q,ot,Q,rt){if(typeof N=="object"){var Bt=N;N=Bt.x,j=Bt.y,U=C(Bt,"w")?Bt.w:Bt.width,V=C(Bt,"h")?Bt.h:Bt.height}return this.addParticleProcessor(new W(N,j,U,V,q,ot,Q,rt))},setParticleSpeed:function(N,j){return j===void 0&&(j=N),this.ops.speedX.onChange(N),N===j?this.ops.speedY.active=!1:this.ops.speedY.onChange(j),this.radial=!0,this},setParticleScale:function(N,j){return N===void 0&&(N=1),j===void 0&&(j=N),this.ops.scaleX.onChange(N),this.ops.scaleY.onChange(j),this},setParticleGravity:function(N,j){return this.gravityX=N,this.gravityY=j,this},setParticleAlpha:function(N){return this.ops.alpha.onChange(N),this},setParticleTint:function(N){return this.ops.tint.onChange(N),this},setEmitterAngle:function(N){return this.ops.angle.onChange(N),this},setParticleLifespan:function(N){return this.ops.lifespan.onChange(N),this},setQuantity:function(N){return this.quantity=N,this},setFrequency:function(N,j){return this.frequency=N,this.flowCounter=N>0?N:0,j&&(this.quantity=j),this},addDeathZone:function(N){Array.isArray(N)||(N=[N]);for(var j,U=[],V=0;V<N.length;V++)if(j=N[V],j instanceof h)U.push(j);else if(typeof j.contains=="function")j=new h(j,!0),U.push(j);else{var q=y(j,"type","onEnter"),ot=y(j,"source",null);if(ot&&typeof ot.contains=="function"){var Q=q==="onEnter";j=new h(ot,Q),U.push(j)}}return this.deathZones=this.deathZones.concat(U),U},removeDeathZone:function(N){return O(this.deathZones,N),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(N){Array.isArray(N)||(N=[N]);for(var j,U=[],V=0;V<N.length;V++)if(j=N[V],j instanceof I||j instanceof a)U.push(j);else{var q=y(j,"source",null);if(q){var ot=y(j,"type","random");if(ot==="random"&&typeof q.getRandomPoint=="function")j=new I(q),U.push(j);else if(ot==="edge"&&typeof q.getPoints=="function"){var Q=y(j,"quantity",1),rt=y(j,"stepRate",0),Bt=y(j,"yoyo",!1),K=y(j,"seamless",!0),Mt=y(j,"total",-1);j=new a(q,Q,rt,Bt,K,Mt),U.push(j)}}}return this.emitZones=this.emitZones.concat(U),U},removeEmitZone:function(N){return O(this.emitZones,N),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(N){var j=this.emitZones,U=j.length;if(U!==0){var V=j[this.zoneIndex];V.getPoint(N),V.total>-1&&(this.zoneTotal++,this.zoneTotal===V.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===U&&(this.zoneIndex=0)))}},getDeathZone:function(N){for(var j=this.deathZones,U=0;U<j.length;U++){var V=j[U];if(V.willKill(N))return this.emit(u.DEATH_ZONE,this,N,V),!0}return!1},setEmitZone:function(N){var j;return isFinite(N)?j=N:j=this.emitZones.indexOf(N),j>=0&&(this.zoneIndex=j),this},addParticleProcessor:function(N){return this.processors.exists(N)||(N.emitter&&N.emitter.removeParticleProcessor(N),this.processors.add(N),N.emitter=this),N},removeParticleProcessor:function(N){return this.processors.exists(N)&&(this.processors.remove(N,!0),N.emitter=null),N},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(N){return this.addParticleProcessor(new b(N))},reserve:function(N){var j=this.dead;if(this.maxParticles>0){var U=this.getParticleCount();U+N>this.maxParticles&&(N=this.maxParticles-(U+N))}for(var V=0;V<N;V++)j.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(N,j){return N===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof N=="function"&&(this.emitCallback=N,j&&(this.emitCallbackScope=j)),this},onParticleDeath:function(N,j){return N===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof N=="function"&&(this.deathCallback=N,j&&(this.deathCallbackScope=j)),this},killAll:function(){for(var N=this.dead,j=this.alive;j.length>0;)N.push(j.pop());return this},forEachAlive:function(N,j){for(var U=this.alive,V=U.length,q=0;q<V;q++)N.call(j,U[q],this);return this},forEachDead:function(N,j){for(var U=this.dead,V=U.length,q=0;q<V;q++)N.call(j,U[q],this);return this},start:function(N,j){return N===void 0&&(N=0),this.emitting||(N>0&&this.fastForward(N),this.emitting=!0,this.resetCounters(this.frequency,!0),j!==void 0&&(this.duration=Math.abs(j)),this.emit(u.START,this)),this},stop:function(N){return N===void 0&&(N=!1),this.emitting&&(this.emitting=!1,N&&this.killAll(),this.emit(u.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(N,j){return N===void 0&&(N=""),j===void 0&&(j=this.true),this.sortProperty=N,this.sortOrderAsc=j,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(N){return this.sortProperty!==""?N=this.depthSortCallback:N=null,this.sortCallback=N,this},depthSort:function(){return L(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(N,j){var U=this.sortProperty;return this.sortOrderAsc?N[U]-j[U]:j[U]-N[U]},flow:function(N,j,U){return j===void 0&&(j=1),this.emitting=!1,this.frequency=N,this.quantity=j,U!==void 0&&(this.stopAfter=U),this.start()},explode:function(N,j,U){this.frequency=-1,this.resetCounters(-1,!0);var V=this.emitParticle(N,j,U);return this.emit(u.EXPLODE,this,V),V},emitParticleAt:function(N,j,U){return this.emitParticle(U,N,j)},emitParticle:function(N,j,U){if(!this.atLimit()){N===void 0&&(N=this.ops.quantity.onEmit());for(var V=this.dead,q=this.stopAfter,ot=this.follow?this.follow.x+this.followOffset.x:j,Q=this.follow?this.follow.y+this.followOffset.y:U,rt=0;rt<N;rt++){var Bt=V.pop();if(Bt||(Bt=new this.particleClass(this)),Bt.fire(ot,Q)?(this.particleBringToTop?this.alive.push(Bt):this.alive.unshift(Bt),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Bt,this)):this.dead.push(Bt),q>0&&(this.stopCounter++,this.stopCounter>=q)||this.atLimit())break}return Bt}},fastForward:function(N,j){j===void 0&&(j=1e3/60);var U=0;for(this.skipping=!0;U<Math.abs(N);)this.preUpdate(0,j),U+=j;return this.skipping=!1,this},preUpdate:function(N,j){j*=this.timeScale;var U=j/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var V=this.getProcessors(),q=this.alive,ot=this.dead,Q=0,rt=[],Bt=q.length;for(Q=0;Q<Bt;Q++){var K=q[Q];K.update(j,U,V)&&rt.push({index:Q,particle:K})}if(Bt=rt.length,Bt>0){var Mt=this.deathCallback,Ft=this.deathCallbackScope;for(Q=Bt-1;Q>=0;Q--){var dt=rt[Q];q.splice(dt.index,1),ot.push(dt.particle),Mt&&Mt.call(Ft,dt.particle),dt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&q.length===0&&(this.completeFlag=0,this.emit(u.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=j;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=j,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(N){for(var j=this.getWorldTransformMatrix(),U=this.alive,V=U.length,q=[],ot=0;ot<V;ot++){var Q=U[ot];M(N,Q.getBounds(j))&&q.push(Q)}return q},getBounds:function(N,j,U,V){N===void 0&&(N=0),j===void 0&&(j=0),U===void 0&&(U=1e3/60),V===void 0&&(V=new B);var q=this.getWorldTransformMatrix(),ot,Q,rt=this.alive,Bt=!1;if(V.setTo(0,0,0,0),j>0){var K=0;for(this.skipping=!0;K<Math.abs(j);){for(this.preUpdate(0,U),ot=0;ot<rt.length;ot++)Q=rt[ot].getBounds(q),Bt?k(V,Q):(Bt=!0,l(Q,V));K+=U}this.skipping=!1}else for(ot=0;ot<rt.length;ot++)Q=rt[ot].getBounds(q),Bt?k(V,Q):(Bt=!0,l(Q,V));return N>0&&E(V,N,N),V},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(N){this.ops.x.onChange(N)}},particleY:{get:function(){return this.ops.y.current},set:function(N){this.ops.y.onChange(N)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(N){this.ops.accelerationX.onChange(N)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(N){this.ops.accelerationY.onChange(N)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(N){this.ops.maxVelocityX.onChange(N)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(N){this.ops.maxVelocityY.onChange(N)}},speed:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N),this.ops.speedY.onChange(N)}},speedX:{get:function(){return this.ops.speedX.current},set:function(N){this.ops.speedX.onChange(N)}},speedY:{get:function(){return this.ops.speedY.current},set:function(N){this.ops.speedY.onChange(N)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(N){this.ops.moveToX.onChange(N)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(N){this.ops.moveToY.onChange(N)}},bounce:{get:function(){return this.ops.bounce.current},set:function(N){this.ops.bounce.onChange(N)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(N){this.ops.scaleX.onChange(N)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(N){this.ops.scaleY.onChange(N)}},particleColor:{get:function(){return this.ops.color.current},set:function(N){this.ops.color.onChange(N)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(N){this.ops.color.setEase(N)}},particleTint:{get:function(){return this.ops.tint.current},set:function(N){this.ops.tint.onChange(N)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(N){this.ops.alpha.onChange(N)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(N){this.ops.lifespan.onChange(N)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(N){this.ops.angle.onChange(N)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(N){this.ops.rotate.onChange(N)}},quantity:{get:function(){return this.ops.quantity.current},set:function(N){this.ops.quantity.onChange(N)}},delay:{get:function(){return this.ops.delay.current},set:function(N){this.ops.delay.onChange(N)}},hold:{get:function(){return this.ops.hold.current},set:function(N){this.ops.hold.onChange(N)}},flowCounter:{get:function(){return this.counters[0]},set:function(N){this.counters[0]=N}},frameCounter:{get:function(){return this.counters[1]},set:function(N){this.counters[1]=N}},animCounter:{get:function(){return this.counters[2]},set:function(N){this.counters[2]=N}},elapsed:{get:function(){return this.counters[3]},set:function(N){this.counters[3]=N}},stopCounter:{get:function(){return this.counters[4]},set:function(N){this.counters[4]=N}},completeFlag:{get:function(){return this.counters[5]},set:function(N){this.counters[5]=N}},zoneIndex:{get:function(){return this.counters[6]},set:function(N){this.counters[6]=N}},zoneTotal:{get:function(){return this.counters[7]},set:function(N){this.counters[7]=N}},currentFrame:{get:function(){return this.counters[8]},set:function(N){this.counters[8]=N}},currentAnim:{get:function(){return this.counters[9]},set:function(N){this.counters[9]=N}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var N,j=this.ops;for(N=0;N<z.length;N++){var U=z[N];j[U].destroy()}for(N=0;N<this.alive.length;N++)this.alive[N].destroy();for(N=0;N<this.dead.length;N++)this.dead[N].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});s.exports=F},9871:(s,g,i)=>{var o=i(59996),m=i(61340),c=new m,l=new m,h=new m,a=new m,f=function(p,u,v,y){var x=c,b=l,w=h,C=a;y?(C.loadIdentity(),C.multiply(y),C.translate(u.x,u.y),C.rotate(u.rotation),C.scale(u.scaleX,u.scaleY)):C.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var E=p.currentContext,T=v.roundPixels,k=v.alpha,A=u.alpha,I=u.alive,B=I.length,M=u.viewBounds;if(!(!u.visible||B===0||M&&!o(M,v.worldView))){u.sortCallback&&u.depthSort(),v.addToRenderList(u);var O=u.scrollFactorX,P=u.scrollFactorY;E.save(),E.globalCompositeOperation=p.blendModes[u.blendMode];for(var L=0;L<B;L++){var _=I[L],G=_.alpha*A*k;if(!(G<=0||_.scaleX===0||_.scaleY===0)){w.applyITRS(_.x,_.y,_.rotation,_.scaleX,_.scaleY),x.copyFrom(v.matrix),x.multiplyWithOffset(C,-v.scrollX*O,-v.scrollY*P),w.e=_.x,w.f=_.y,x.multiply(w,b);var $=_.frame,W=$.canvasData;if(W.width>0&&W.height>0){var Y=-$.halfWidth,z=-$.halfHeight;E.globalAlpha=G,E.save(),b.setToContext(E),T&&(Y=Math.round(Y),z=Math.round(z)),E.imageSmoothingEnabled=!$.source.scaleMode,E.drawImage($.source.image,W.x,W.y,W.width,W.height,Y,z,W.width,W.height),E.restore()}}}E.restore()}};s.exports=f},92730:(s,g,i)=>{var o=i(25305),m=i(44603),c=i(23568),l=i(95540),h=i(31600);m.register("particles",function(a,f){a===void 0&&(a={});var p=c(a,"key",null),u=l(a,"config",null),v=new h(this.scene,0,0,p);return f!==void 0&&(a.add=f),o(this.scene,v,a),u&&v.setConfig(u),v})},676:(s,g,i)=>{var o=i(39429),m=i(31600);o.register("particles",function(c,l,h,a){return c!==void 0&&typeof c=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new m(this.scene,c,l,h,a))})},90668:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(21188),c=i(9871),s.exports={renderWebGL:m,renderCanvas:c}},21188:(s,g,i)=>{var o=i(59996),m=i(61340),c=i(70554),l=new m,h=new m,a=new m,f=new m,p=function(u,v,y,x){var b=u.pipelines.set(v.pipeline),w=l,C=h,E=a,T=f;x?(T.loadIdentity(),T.multiply(x),T.translate(v.x,v.y),T.rotate(v.rotation),T.scale(v.scaleX,v.scaleY)):T.applyITRS(v.x,v.y,v.rotation,v.scaleX,v.scaleY);var k=c.getTintAppendFloatAlpha,A=y.alpha,I=v.alpha;u.pipelines.preBatch(v);var B=v.alive,M=B.length,O=v.viewBounds;if(!(M===0||O&&!o(O,y.worldView))){v.sortCallback&&v.depthSort(),y.addToRenderList(v),w.copyFrom(y.matrix),w.multiplyWithOffset(T,-y.scrollX*v.scrollFactorX,-y.scrollY*v.scrollFactorY),u.setBlendMode(v.blendMode),v.mask&&(v.mask.preRenderWebGL(u,v,y),u.pipelines.set(v.pipeline));for(var P=v.tintFill,L,_,G=0;G<M;G++){var $=B[G],W=$.alpha*I*A;if(!(W<=0||$.scaleX===0||$.scaleY===0)){E.applyITRS($.x,$.y,$.rotation,$.scaleX,$.scaleY),E.e=$.x,E.f=$.y,w.multiply(E,C);var Y=$.frame;Y.glTexture!==_&&(_=Y.glTexture,L=b.setGameObject(v,Y));var z=-Y.halfWidth,F=-Y.halfHeight,N=C.setQuad(z,F,z+Y.width,F+Y.height),j=k($.tint,W);b.shouldFlush(6)&&(b.flush(),L=b.setGameObject(v,Y)),b.batchQuad(v,N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],Y.u0,Y.v0,Y.u1,Y.v1,j,j,j,j,P,_,L)}}v.mask&&v.mask.postRenderWebGL(u,y),u.pipelines.postBatch(v)}};s.exports=p},20286:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h,a){l===void 0&&(l=0),h===void 0&&(h=0),a===void 0&&(a=!0),this.emitter,this.x=l,this.y=h,this.active=a},update:function(){},destroy:function(){this.emitter=null}});s.exports=m},9774:s=>{s.exports="complete"},812:s=>{s.exports="deathzone"},30522:s=>{s.exports="explode"},96695:s=>{s.exports="start"},18677:s=>{s.exports="stop"},20696:(s,g,i)=>{s.exports={COMPLETE:i(9774),DEATH_ZONE:i(812),EXPLODE:i(30522),START:i(96695),STOP:i(18677)}},18404:(s,g,i)=>{s.exports={EmitterColorOp:i(76472),EmitterOp:i(44777),Events:i(20696),GravityWell:i(24502),Particle:i(56480),ParticleBounds:i(69601),ParticleEmitter:i(31600),ParticleProcessor:i(20286),Zones:i(21024)}},26388:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h){this.source=l,this.killOnEnter=h},willKill:function(c){var l=c.worldPosition,h=this.source.contains(l.x,l.y);return h&&this.killOnEnter||!h&&!this.killOnEnter}});s.exports=m},19909:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h,a,f,p,u){f===void 0&&(f=!1),p===void 0&&(p=!0),u===void 0&&(u=-1),this.source=l,this.points=[],this.quantity=h,this.stepRate=a,this.yoyo=f,this.counter=-1,this.seamless=p,this._length=0,this._direction=0,this.total=u,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var c=this.points[0],l=this.points[this.points.length-1];c.x===l.x&&c.y===l.y&&this.points.pop()}var h=this._length;return this._length=this.points.length,this._length<h&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(c){return this.source=c,this.updateSource()},getPoint:function(c){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var l=this.points[this.counter];l&&(c.x=l.x,c.y=l.y)}});s.exports=m},68875:(s,g,i)=>{var o=i(83419),m=i(26099),c=new o({initialize:function(h){this.source=h,this._tempVec=new m,this.total=-1},getPoint:function(l){var h=this._tempVec;this.source.getRandomPoint(h),l.x=h.x,l.y=h.y}});s.exports=c},21024:(s,g,i)=>{s.exports={DeathZone:i(26388),EdgeZone:i(19909),RandomZone:i(68875)}},1159:(s,g,i)=>{var o=i(83419),m=i(31401),c=i(68287),l=new o({Extends:c,Mixins:[m.PathFollower],initialize:function(a,f,p,u,v,y){c.call(this,a,p,u,v,y),this.path=f},preUpdate:function(h,a){this.anims.update(h,a),this.pathUpdate(h)}});s.exports=l},90145:(s,g,i)=>{var o=i(39429),m=i(1159);o.register("follower",function(c,l,h,a,f){var p=new m(this.scene,c,l,h,a,f);return this.displayList.add(p),this.updateList.add(p),p})},33663:(s,g,i)=>{var o=i(9674),m=i(83419),c=i(48803),l=i(90664),h=i(4703),a=i(45650),f=new m({Extends:h,initialize:function(u,v,y,x,b,w,C,E){x||(x="__DEFAULT"),h.call(this,u,v,y,x,b),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(w,C,E),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(p,u,v){p===void 0&&(p=8),u===void 0&&(u=8),v===void 0&&(v=!1);var y=!1;return v&&(y=!0),this.gridWidth=p,this.gridHeight=u,this.isTiled=v,this.clear(),c({mesh:this,widthSegments:p,heightSegments:u,isOrtho:!1,tile:v,flipY:y}),this},setSizeToFrame:function(p){p===void 0&&(p=!0);var u=this.frame;if(this.setPerspective(this.width/u.width,this.height/u.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!p)return this;var v=this.gridWidth,y=this.gridHeight,x=this.vertices,b=u.u0,w=u.u1,C=u.v0,E=u.v1,T,k,A=0;if(this.isTiled)for(C=u.v1,E=u.v0,k=0;k<y;k++)for(T=0;T<v;T++)x[A++].setUVs(b,E),x[A++].setUVs(b,C),x[A++].setUVs(w,E),x[A++].setUVs(b,C),x[A++].setUVs(w,C),x[A++].setUVs(w,E);else{var I=v+1,B=y+1,M=w-b,O=E-C,P=[];for(k=0;k<B;k++)for(T=0;T<I;T++){var L=b+M*(T/v),_=C+O*(k/y);P.push(L,_)}for(k=0;k<y;k++)for(T=0;T<v;T++){var G=(T+I*k)*2,$=(T+I*(k+1))*2,W=(T+1+I*(k+1))*2,Y=(T+1+I*k)*2;x[A++].setUVs(P[G],P[G+1]),x[A++].setUVs(P[$],P[$+1]),x[A++].setUVs(P[Y],P[Y+1]),x[A++].setUVs(P[$],P[$+1]),x[A++].setUVs(P[W],P[W+1]),x[A++].setUVs(P[Y],P[Y+1])}}return this},setViewHeight:function(p){p===void 0&&(p=this.frame.height);var u=this.fov*(Math.PI/180);this.viewPosition.z=this.height/p/Math.tan(u/2),this.dirtyCache[10]=1},createCheckerboard:function(p,u,v,y,x){p===void 0&&(p=16777215),u===void 0&&(u=255),v===void 0&&(v=255),y===void 0&&(y=255),x===void 0&&(x=128);for(var b=l(p),w=l(u),C=[],E=0;E<16;E++)for(var T=0;T<16;T++)E<8&&T<8||E>7&&T>7?C.push(b.r,b.g,b.b,v):C.push(w.r,w.g,w.b,y);var k=this.scene.sys.textures.addUint8Array(a(),new Uint8Array(C),16,16);return this.removeCheckerboard(),this.setTexture(k),this.setSizeToFrame(),this.setViewHeight(x),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(p,u){return this.anims.play(p,u)},playReverse:function(p,u){return this.anims.playReverse(p,u)},playAfterDelay:function(p,u){return this.anims.playAfterDelay(p,u)},playAfterRepeat:function(p,u){return this.anims.playAfterRepeat(p,u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(p){return this.anims.stopAfterDelay(p)},stopAfterRepeat:function(p){return this.anims.stopAfterRepeat(p)},stopOnFrame:function(p){return this.anims.stopOnFrame(p)},preUpdate:function(p,u){h.prototype.preUpdate.call(this,p,u),this.anims.update(p,u)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});s.exports=f},56015:(s,g,i)=>{var o=i(25305),m=i(13059),c=i(44603),l=i(23568),h=i(35154),a=i(33663);c.register("plane",function(f,p){f===void 0&&(f={});var u=l(f,"key",null),v=l(f,"frame",null),y=h(f,"width",8),x=h(f,"height",8),b=h(f,"tile",!1),w=new a(this.scene,0,0,u,v,y,x,b);p!==void 0&&(f.add=p);var C=h(f,"checkerboard",null);if(C){var E=h(C,"color1",16777215),T=h(C,"color2",255),k=h(C,"alpha1",255),A=h(C,"alpha2",255),I=h(C,"height",128);w.createCheckerboard(E,T,k,A,I)}return o(this.scene,w,f),m(w,f),w})},30985:(s,g,i)=>{var o=i(33663),m=i(39429);m.register("plane",function(c,l,h,a,f,p,u){return this.displayList.add(new o(this.scene,c,l,h,a,f,p,u))})},80321:(s,g,i)=>{var o=i(83419),m=i(31401),c=i(95643),l=i(30100),h=i(36060),a=i(67277),f=new o({Extends:c,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.Mask,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible,a],initialize:function(u,v,y,x,b,w,C){x===void 0&&(x=16777215),b===void 0&&(b=128),w===void 0&&(w=1),C===void 0&&(C=.1),c.call(this,u,"PointLight"),this.initPipeline(h.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(v,y),this.color=l(x),this.intensity=w,this.attenuation=C,this.width=b*2,this.height=b*2,this._radius=b},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this.width=p*2,this.height=p*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});s.exports=f},39829:(s,g,i)=>{var o=i(25305),m=i(44603),c=i(23568),l=i(80321);m.register("pointlight",function(h,a){h===void 0&&(h={});var f=c(h,"color",16777215),p=c(h,"radius",128),u=c(h,"intensity",1),v=c(h,"attenuation",.1),y=new l(this.scene,0,0,f,p,u,v);return a!==void 0&&(h.add=a),o(this.scene,y,h),y})},71255:(s,g,i)=>{var o=i(39429),m=i(80321);o.register("pointlight",function(c,l,h,a,f,p){return this.displayList.add(new m(this.scene,c,l,h,a,f,p))})},67277:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(57787),s.exports={renderWebGL:m,renderCanvas:c}},57787:(s,g,i)=>{var o=i(91296),m=function(c,l,h,a){h.addToRenderList(l);var f=c.pipelines.set(l.pipeline),p=o(l,h,a).calc,u=l.width,v=l.height,y=-l._radius,x=-l._radius,b=y+u,w=x+v,C=p.getX(0,0),E=p.getY(0,0),T=p.getX(y,x),k=p.getY(y,x),A=p.getX(y,w),I=p.getY(y,w),B=p.getX(b,w),M=p.getY(b,w),O=p.getX(b,x),P=p.getY(b,x);c.pipelines.preBatch(l),f.batchPointLight(l,h,T,k,A,I,B,M,O,P,C,E),c.pipelines.postBatch(l)};s.exports=m},591:(s,g,i)=>{var o=i(83419),m=i(81320),c=i(88571),l=new o({Extends:c,initialize:function(a,f,p,u,v){f===void 0&&(f=0),p===void 0&&(p=0),u===void 0&&(u=32),v===void 0&&(v=32);var y=new m(a.sys.textures,"",u,v);c.call(this,a,f,p,y),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(h,a){this.width=h,this.height=a,this.texture.setSize(h,a),this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=h,f.hitArea.height=a),this},resize:function(h,a){return this.setSize(h,a),this},saveTexture:function(h){var a=this.texture;return a.key=h,a.manager.addDynamicTexture(a)&&(this._saved=!0),a},fill:function(h,a,f,p,u,v){return this.texture.fill(h,a,f,p,u,v),this},clear:function(){return this.texture.clear(),this},stamp:function(h,a,f,p,u){return this.texture.stamp(h,a,f,p,u),this},erase:function(h,a,f){return this.texture.erase(h,a,f),this},draw:function(h,a,f,p,u){return this.texture.draw(h,a,f,p,u),this},drawFrame:function(h,a,f,p,u,v){return this.texture.drawFrame(h,a,f,p,u,v),this},repeat:function(h,a,f,p,u,v,y,x,b){return this.texture.repeat(h,a,f,p,u,v,y,x,b),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(h,a,f,p,u){return this.texture.batchDraw(h,a,f,p,u),this},batchDrawFrame:function(h,a,f,p,u,v){return this.texture.batchDrawFrame(h,a,f,p,u,v),this},endDraw:function(h){return this.texture.endDraw(h),this},snapshotArea:function(h,a,f,p,u,v,y){return this.texture.snapshotArea(h,a,f,p,u,v,y),this},snapshot:function(h,a,f){return this.snapshotArea(0,0,this.width,this.height,h,a,f)},snapshotPixel:function(h,a,f){return this.snapshotArea(h,a,1,1,f,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});s.exports=l},34495:(s,g,i)=>{var o=i(25305),m=i(44603),c=i(23568),l=i(591);m.register("renderTexture",function(h,a){h===void 0&&(h={});var f=c(h,"x",0),p=c(h,"y",0),u=c(h,"width",32),v=c(h,"height",32),y=new l(this.scene,f,p,u,v);return a!==void 0&&(h.add=a),o(this.scene,y,h),y})},60505:(s,g,i)=>{var o=i(39429),m=i(591);o.register("renderTexture",function(c,l,h,a){return this.displayList.add(new m(this.scene,c,l,h,a))})},77757:(s,g,i)=>{var o=i(9674),m=i(83419),c=i(31401),l=i(95643),h=i(36060),a=i(38745),f=i(26099),p=new m({Extends:l,Mixins:[c.AlphaSingle,c.BlendMode,c.Depth,c.Flip,c.Mask,c.Pipeline,c.PostPipeline,c.Size,c.Texture,c.Transform,c.Visible,c.ScrollFactor,a],initialize:function(v,y,x,b,w,C,E,T,k){b===void 0&&(b="__DEFAULT"),C===void 0&&(C=2),E===void 0&&(E=!0),l.call(this,v,"Rope"),this.anims=new o(this),this.points=C,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=b==="__DEFAULT",this.dirty=!1,this.horizontal=E,this._flipX=!1,this._flipY=!1,this._perp=new f,this.debugCallback=null,this.debugGraphic=null,this.setTexture(b,w),this.setPosition(y,x),this.setSizeToFrame(),this.initPipeline(h.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(C)&&this.resizeArrays(C.length),this.setPoints(C,T,k),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,v){var y=this.anims.currentFrame;this.anims.update(u,v),this.anims.currentFrame!==y&&(this.updateUVs(),this.updateVertices())},play:function(u,v,y){return this.anims.play(u,v,y),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(u,v,y){return u===void 0&&(u=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(u,v,y))},setVertical:function(u,v,y){return u===void 0&&(u=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(u,v,y)):this},setTintFill:function(u){return u===void 0&&(u=!1),this.tintFill=u,this},setAlphas:function(u,v){var y=this.points.length;if(y<1)return this;var x=this.alphas;u===void 0?u=[1]:!Array.isArray(u)&&v===void 0&&(u=[u]);var b,w=0;if(v!==void 0)for(b=0;b<y;b++)w=b*2,x[w]=u,x[w+1]=v;else if(u.length===y)for(b=0;b<y;b++)w=b*2,x[w]=u[b],x[w+1]=u[b];else{var C=u[0];for(b=0;b<y;b++)w=b*2,u.length>w&&(C=u[w]),x[w]=C,u.length>w+1&&(C=u[w+1]),x[w+1]=C}return this},setColors:function(u){var v=this.points.length;if(v<1)return this;var y=this.colors;u===void 0?u=[16777215]:Array.isArray(u)||(u=[u]);var x,b=0;if(u.length===v)for(x=0;x<v;x++)b=x*2,y[b]=u[x],y[b+1]=u[x];else{var w=u[0];for(x=0;x<v;x++)b=x*2,u.length>b&&(w=u[b]),y[b]=w,u.length>b+1&&(w=u[b+1]),y[b+1]=w}return this},setPoints:function(u,v,y){if(u===void 0&&(u=2),typeof u=="number"){var x=u;x<2&&(x=2),u=[];var b,w,C;if(this.horizontal)for(C=-this.frame.halfWidth,w=this.frame.width/(x-1),b=0;b<x;b++)u.push({x:C+b*w,y:0});else for(C=-this.frame.halfHeight,w=this.frame.height/(x-1),b=0;b<x;b++)u.push({x:0,y:C+b*w})}var E=u.length,T=this.points.length;return E<1?(console.warn("Rope: Not enough points given"),this):(E===1&&(u.unshift({x:0,y:0}),E++),T!==E&&this.resizeArrays(E),this.dirty=!0,this.points=u,this.updateUVs(),v!=null&&this.setColors(v),y!=null&&this.setAlphas(y),this)},updateUVs:function(){for(var u=this.uv,v=this.points.length,y=this.frame.u0,x=this.frame.v0,b=this.frame.u1,w=this.frame.v1,C=(b-y)/(v-1),E=(w-x)/(v-1),T=0;T<v;T++){var k=T*4,A,I,B,M;this.horizontal?(this._flipX?(A=b-T*C,B=b-T*C):(A=y+T*C,B=y+T*C),this._flipY?(I=w,M=x):(I=x,M=w)):(this._flipX?(A=y,B=b):(A=b,B=y),this._flipY?(I=w-T*E,M=w-T*E):(I=x+T*E,M=x+T*E)),u[k+0]=A,u[k+1]=I,u[k+2]=B,u[k+3]=M}return this},resizeArrays:function(u){var v=this.colors,y=this.alphas;this.vertices=new Float32Array(u*4),this.uv=new Float32Array(u*4),v=new Uint32Array(u*2),y=new Float32Array(u*2);for(var x=0;x<u*2;x++)v[x]=16777215,y[x]=1;return this.colors=v,this.alphas=y,this.dirty=!0,this},updateVertices:function(){var u=this._perp,v=this.points,y=this.vertices,x=v.length;if(this.dirty=!1,!(x<1)){for(var b,w=v[0],C=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,E=0;E<x;E++){var T=v[E],k=E*4;E<x-1?b=v[E+1]:b=T,u.x=b.y-w.y,u.y=-(b.x-w.x);var A=u.length();u.x/=A,u.y/=A,u.x*=C,u.y*=C,y[k]=T.x+u.x,y[k+1]=T.y+u.y,y[k+2]=T.x-u.x,y[k+3]=T.y-u.y,w=T}return this}},setDebug:function(u,v){return this.debugGraphic=u,!u&&!v?this.debugCallback=null:v?this.debugCallback=v:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(u,v,y){var x=u.debugGraphic,b=y[0],w=y[1],C=y[2],E=y[3];x.lineBetween(b,w,C,E);for(var T=4;T<v;T+=4){var k=y[T+0],A=y[T+1],I=y[T+2],B=y[T+3];x.lineBetween(b,w,k,A),x.lineBetween(C,E,I,B),x.lineBetween(C,E,k,A),x.lineBetween(k,A,I,B),b=k,w=A,C=I,E=B}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(u){return this._flipX=u,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(u){return this._flipY=u,this.updateUVs()}}});s.exports=p},95262:s=>{var g=function(){};s.exports=g},26209:(s,g,i)=>{var o=i(25305),m=i(44603),c=i(23568),l=i(35154),h=i(77757);m.register("rope",function(a,f){a===void 0&&(a={});var p=c(a,"key",null),u=c(a,"frame",null),v=c(a,"horizontal",!0),y=l(a,"points",void 0),x=l(a,"colors",void 0),b=l(a,"alphas",void 0),w=new h(this.scene,0,0,p,u,y,v,x,b);return f!==void 0&&(a.add=f),o(this.scene,w,a),w})},96819:(s,g,i)=>{var o=i(77757),m=i(39429);m.register("rope",function(c,l,h,a,f,p,u,v){return this.displayList.add(new o(this.scene,c,l,h,a,f,p,u,v))})},38745:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(20439),c=i(95262),s.exports={renderWebGL:m,renderCanvas:c}},20439:(s,g,i)=>{var o=i(91296),m=i(70554),c=function(l,h,a,f){a.addToRenderList(h);var p=l.pipelines.set(h.pipeline,h),u=o(h,a,f).calc,v=h.vertices,y=h.uv,x=h.colors,b=h.alphas,w=h.alpha,C=m.getTintAppendFloatAlpha,E=a.roundPixels,T=v.length,k=Math.floor(T*.5);p.flush(),l.pipelines.preBatch(h);var A=p.setGameObject(h),I=p.vertexViewF32,B=p.vertexViewU32,M=p.vertexCount*p.currentShader.vertexComponentCount-1,O=0,P=h.tintFill;h.dirty&&h.updateVertices();for(var L=h.debugCallback,_=[],G=0;G<T;G+=2){var $=v[G+0],W=v[G+1],Y=$*u.a+W*u.c+u.e,z=$*u.b+W*u.d+u.f;E&&(Y=Math.round(Y),z=Math.round(z)),I[++M]=Y,I[++M]=z,I[++M]=y[G+0],I[++M]=y[G+1],I[++M]=A,I[++M]=P,B[++M]=C(x[O],a.alpha*(b[O]*w)),O++,L&&(_[G+0]=Y,_[G+1]=z)}L&&L.call(h,h,T,_),p.vertexCount+=k,p.currentBatch.count=p.vertexCount-p.currentBatch.start,l.pipelines.postBatch(h)};s.exports=c},20071:(s,g,i)=>{var o=i(83419),m=i(31401),c=i(95643),l=i(95540),h=i(79291),a=i(61622),f=i(25479),p=i(61340),u=i(95428),v=i(92503),y=new o({Extends:c,Mixins:[m.ComputedSize,m.Depth,m.GetBounds,m.Mask,m.Origin,m.ScrollFactor,m.Transform,m.Visible,f],initialize:function(b,w,C,E,T,k,A,I){C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=128),k===void 0&&(k=128),c.call(this,b,"Shader"),this.blendMode=-1,this.shader;var B=b.sys.renderer;this.renderer=B,this.gl=B.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=B.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=B.width,this._rendererHeight=B.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(C,E),this.setSize(T,k),this.setOrigin(.5,.5),this.setShader(w,A,I),this.renderer.on(v.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(x){return this.renderToTexture?!0:!(c.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&x.id)},setRenderToTexture:function(x,b){if(!this.renderToTexture){var w=this.width,C=this.height,E=this.renderer;this.glTexture=E.createTextureFromSource(null,w,C,0),this.framebuffer=E.createFramebuffer(w,C,this.glTexture,!1),this._rendererWidth=w,this._rendererHeight=C,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),x&&(this.texture=this.scene.sys.textures.addGLTexture(x,this.glTexture))}return this.shader&&(E.pipelines.clear(),this.load(),this.flush(),E.pipelines.rebind()),this},setShader:function(x,b,w){if(this.renderer.contextLost)return this._deferSetShader={key:x,textures:b,textureData:w},this;if(b===void 0&&(b=[]),typeof x=="string"){var C=this.scene.sys.cache.shader;if(!C.has(x))return console.warn("Shader missing: "+x),this;this.shader=C.get(x)}else this.shader=x;var E=this.gl,T=this.renderer;this.program&&T.deleteProgram(this.program);var k=T.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);E.uniformMatrix4fv(E.getUniformLocation(k.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),E.uniformMatrix4fv(E.getUniformLocation(k.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),E.uniform2f(E.getUniformLocation(k.webGLProgram,"uResolution"),this.width,this.height),this.program=k;var A=new Date,I={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[A.getFullYear(),A.getMonth(),A.getDate(),A.getHours()*60*60+A.getMinutes()*60+A.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=h(!0,{},this.shader.uniforms,I):this.uniforms=I;for(var B=0;B<4;B++)b[B]&&this.setSampler2D("iChannel"+B,b[B],B,w);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(x){return this.pointer=x,this},projOrtho:function(x,b,w,C){if(this.renderer.contextLost){this._deferProjOrtho={left:x,right:b,bottom:w,top:C};return}var E=-1e3,T=1e3,k=1/(x-b),A=1/(w-C),I=1/(E-T),B=this.projectionMatrix;B[0]=-2*k,B[5]=-2*A,B[10]=2*I,B[12]=(x+b)*k,B[13]=(C+w)*A,B[14]=(T+E)*I;var M=this.program,O=this.gl,P=this.renderer;P.setProgram(M),O.uniformMatrix4fv(O.getUniformLocation(M.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=b,this._rendererHeight=w},initUniforms:function(){var x=this.renderer.glFuncMap,b=this.program;this._textureCount=0;for(var w in this.uniforms){var C=this.uniforms[w],E=C.type,T=x[E];C.uniformLocation=this.renderer.createUniformLocation(b,w),E!=="sampler2D"&&(C.glMatrix=T.matrix,C.glValueLength=T.length,C.glFunc=T.func)}},setSampler2DBuffer:function(x,b,w,C,E,T){E===void 0&&(E=0),T===void 0&&(T={});var k=this.uniforms[x];return k.value=b,T.width=w,T.height=C,k.textureData=T,this._textureCount=E,this.initSampler2D(k),this},setSampler2D:function(x,b,w,C){w===void 0&&(w=0);var E=this.scene.sys.textures;if(E.exists(b)){var T=E.getFrame(b);if(T.glTexture&&T.glTexture.isRenderTexture)return this.setSampler2DBuffer(x,T.glTexture,T.width,T.height,w,C);var k=this.uniforms[x],A=T.source;k.textureKey=b,k.source=A.image,k.value=T.glTexture,A.isGLTexture&&(C||(C={}),C.width=A.width,C.height=A.height),C&&(k.textureData=C),this._textureCount=w,this.initSampler2D(k)}return this},setUniform:function(x,b){return a(this.uniforms,x,b),this},getUniform:function(x){return l(this.uniforms,x,null)},setChannel0:function(x,b){return this.setSampler2D("iChannel0",x,0,b)},setChannel1:function(x,b){return this.setSampler2D("iChannel1",x,1,b)},setChannel2:function(x,b){return this.setSampler2D("iChannel2",x,2,b)},setChannel3:function(x,b){return this.setSampler2D("iChannel3",x,3,b)},initSampler2D:function(x){if(x.value){var b=x.textureData;if(b&&!x.value.isRenderTexture){var w=this.gl,C=x.value,E=w[l(b,"magFilter","linear").toUpperCase()],T=w[l(b,"minFilter","linear").toUpperCase()],k=w[l(b,"wrapS","repeat").toUpperCase()],A=w[l(b,"wrapT","repeat").toUpperCase()],I=w[l(b,"format","rgba").toUpperCase()],B=l(b,"flipY",!1),M=l(b,"width",C.width),O=l(b,"height",C.height),P=l(b,"source",C.pixels);b.repeat&&(k=w.REPEAT,A=w.REPEAT),b.width&&(P=null),C.update(P,M,O,B,k,A,T,E,I)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var x=this.gl,b=this.uniforms,w,C,E,T,k,A=0;for(var I in b)w=b[I],E=w.glFunc,C=w.glValueLength,T=w.uniformLocation,k=w.value,k!==null&&(C===1?w.glMatrix?E.call(x,T.webGLUniformLocation,w.transpose,k):E.call(x,T.webGLUniformLocation,k):C===2?E.call(x,T.webGLUniformLocation,k.x,k.y):C===3?E.call(x,T.webGLUniformLocation,k.x,k.y,k.z):C===4?E.call(x,T.webGLUniformLocation,k.x,k.y,k.z,k.w):w.type==="sampler2D"&&(x.activeTexture(x.TEXTURE0+A),x.bindTexture(x.TEXTURE_2D,k.webGLTexture),x.uniform1i(T.webGLUniformLocation,A),A++))},load:function(x){var b=this.gl,w=this.width,C=this.height,E=this.renderer,T=this.program,k=this.viewMatrix;if(!this.renderToTexture){var A=-this._displayOriginX,I=-this._displayOriginY;k[0]=x[0],k[1]=x[1],k[4]=x[2],k[5]=x[3],k[8]=x[4],k[9]=x[5],k[12]=k[0]*A+k[4]*I,k[13]=k[1]*A+k[5]*I}b.useProgram(T.webGLProgram),b.uniformMatrix4fv(b.getUniformLocation(T.webGLProgram,"uViewMatrix"),!1,k),b.uniformMatrix4fv(b.getUniformLocation(T.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),b.uniform2f(b.getUniformLocation(T.webGLProgram,"uResolution"),this.width,this.height);var B=this.uniforms,M=B.resolution;M.value.x=w,M.value.y=C,B.time.value=E.game.loop.getDuration();var O=this.pointer;if(O){var P=B.mouse,L=O.x/w,_=1-O.y/C;P.value.x=L.toFixed(2),P.value.y=_.toFixed(2)}this.syncUniforms()},flush:function(){var x=this.width,b=this.height,w=this.program,C=this.gl,E=this.vertexBuffer,T=this.renderer,k=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(T.setFramebuffer(this.framebuffer),C.clearColor(0,0,0,0),C.clear(C.COLOR_BUFFER_BIT)),C.bindBuffer(C.ARRAY_BUFFER,E.webGLBuffer);var A=C.getAttribLocation(w.webGLProgram,"inPosition");A!==-1&&(C.enableVertexAttribArray(A),C.vertexAttribPointer(A,2,C.FLOAT,!1,k,0));var I=this.vertexViewF32;I[3]=b,I[4]=x,I[5]=b,I[8]=x,I[9]=b,I[10]=x;var B=6;C.bufferSubData(C.ARRAY_BUFFER,0,this.bytes.subarray(0,B*k)),C.drawArrays(C.TRIANGLES,0,B),this.renderToTexture&&T.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var x=this._deferSetShader.key,b=this._deferSetShader.textures,w=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(x,b,w)}if(this._deferProjOrtho!==null){var C=this._deferProjOrtho.left,E=this._deferProjOrtho.right,T=this._deferProjOrtho.bottom,k=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(C,E,T,k)}},preDestroy:function(){var x=this.renderer;x.off(v.RESTORE_WEBGL,this.onContextRestored,this),x.deleteProgram(this.program),x.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(x.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),u(this.uniforms,function(b){x.deleteUniformLocation(b.uniformLocation),b.uniformLocation=null})}});s.exports=y},80464:s=>{var g=function(){};s.exports=g},54935:(s,g,i)=>{var o=i(25305),m=i(44603),c=i(23568),l=i(20071);m.register("shader",function(h,a){h===void 0&&(h={});var f=c(h,"key",null),p=c(h,"x",0),u=c(h,"y",0),v=c(h,"width",128),y=c(h,"height",128),x=new l(this.scene,f,p,u,v,y);return a!==void 0&&(h.add=a),o(this.scene,x,h),x})},74177:(s,g,i)=>{var o=i(20071),m=i(39429);m.register("shader",function(c,l,h,a,f,p,u){return this.displayList.add(new o(this.scene,c,l,h,a,f,p,u))})},25479:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(19257),c=i(80464),s.exports={renderWebGL:m,renderCanvas:c}},19257:(s,g,i)=>{var o=i(91296),m=function(c,l,h,a){if(l.shader){if(h.addToRenderList(l),c.pipelines.clear(),l.renderToTexture)l.load(),l.flush();else{var f=o(l,h,a).calc;(c.width!==l._rendererWidth||c.height!==l._rendererHeight)&&l.projOrtho(0,c.width,c.height,0),l.load(f.matrix),l.flush()}c.pipelines.rebind()}};s.exports=m},10441:(s,g,i)=>{var o=i(70554),m=function(c,l,h,a,f,p){for(var u=o.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*a),v=h.pathData,y=h.pathIndexes,x=0;x<y.length;x+=3){var b=y[x]*2,w=y[x+1]*2,C=y[x+2]*2,E=v[b+0]-f,T=v[b+1]-p,k=v[w+0]-f,A=v[w+1]-p,I=v[C+0]-f,B=v[C+1]-p,M=l.getX(E,T),O=l.getY(E,T),P=l.getX(k,A),L=l.getY(k,A),_=l.getX(I,B),G=l.getY(I,B);c.batchTri(h,M,O,P,L,_,G,0,0,1,1,u,u,u,2)}};s.exports=m},65960:s=>{var g=function(i,o,m,c){var l=m||o.fillColor,h=c||o.fillAlpha,a=(l&16711680)>>>16,f=(l&65280)>>>8,p=l&255;i.fillStyle="rgba("+a+","+f+","+p+","+h+")"};s.exports=g},75177:s=>{var g=function(i,o,m,c){var l=m||o.strokeColor,h=c||o.strokeAlpha,a=(l&16711680)>>>16,f=(l&65280)>>>8,p=l&255;i.strokeStyle="rgba("+a+","+f+","+p+","+h+")",i.lineWidth=o.lineWidth};s.exports=g},17803:(s,g,i)=>{var o=i(83419),m=i(31401),c=i(95643),l=i(23031),h=new o({Extends:c,Mixins:[m.AlphaSingle,m.BlendMode,m.Depth,m.GetBounds,m.Mask,m.Origin,m.Pipeline,m.PostPipeline,m.ScrollFactor,m.Transform,m.Visible],initialize:function(f,p,u){p===void 0&&(p="Shape"),c.call(this,f,p),this.geom=u,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new l,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(a,f){return f===void 0&&(f=1),a===void 0?this.isFilled=!1:(this.fillColor=a,this.fillAlpha=f,this.isFilled=!0),this},setStrokeStyle:function(a,f,p){return p===void 0&&(p=1),a===void 0?this.isStroked=!1:(this.lineWidth=a,this.strokeColor=f,this.strokeAlpha=p,this.isStroked=!0),this},setClosePath:function(a){return this.closePath=a,this},setSize:function(a,f){return this.width=a,this.height=f,this},setDisplaySize:function(a,f){return this.displayWidth=a,this.displayHeight=f,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}}});s.exports=h},34682:(s,g,i)=>{var o=i(70554),m=function(c,l,h,a,f){var p=c.strokeTint,u=o.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*h);p.TL=u,p.TR=u,p.BL=u,p.BR=u;var v=l.pathData,y=v.length-1,x=l.lineWidth,b=x/2,w=v[0]-a,C=v[1]-f;l.closePath||(y-=2);for(var E=2;E<y;E+=2){var T=v[E]-a,k=v[E+1]-f;c.batchLine(w,C,T,k,b,b,x,E-2,l.closePath?E===y-1:!1),w=T,C=k}};s.exports=m},23629:(s,g,i)=>{var o=i(13609),m=i(83419),c=i(39506),l=i(94811),h=i(96503),a=i(36383),f=i(17803),p=new m({Extends:f,Mixins:[o],initialize:function(v,y,x,b,w,C,E,T,k){y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=128),w===void 0&&(w=0),C===void 0&&(C=360),E===void 0&&(E=!1),f.call(this,v,"Arc",new h(0,0,b)),this._startAngle=w,this._endAngle=C,this._anticlockwise=E,this._iterations=.01,this.setPosition(y,x);var A=this.geom.radius*2;this.setSize(A,A),T!==void 0&&this.setFillStyle(T,k),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(u){this._iterations=u,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(u){this.geom.radius=u;var v=u*2;this.setSize(v,v),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(u){this._startAngle=u,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(u){this._endAngle=u,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(u){this._anticlockwise=u,this.updateData()}},setRadius:function(u){return this.radius=u,this},setIterations:function(u){return u===void 0&&(u=.01),this.iterations=u,this},setStartAngle:function(u,v){return this._startAngle=u,v!==void 0&&(this._anticlockwise=v),this.updateData()},setEndAngle:function(u,v){return this._endAngle=u,v!==void 0&&(this._anticlockwise=v),this.updateData()},updateData:function(){var u=this._iterations,v=u,y=this.geom.radius,x=c(this._startAngle),b=c(this._endAngle),w=this._anticlockwise,C=y,E=y;b-=x,w?b<-a.PI2?b=-a.PI2:b>0&&(b=-a.PI2+b%a.PI2):b>a.PI2?b=a.PI2:b<0&&(b=a.PI2+b%a.PI2);for(var T=[C+Math.cos(x)*y,E+Math.sin(x)*y],k;v<1;)k=b*v+x,T.push(C+Math.cos(k)*y,E+Math.sin(k)*y),v+=u;return k=b+x,T.push(C+Math.cos(k)*y,E+Math.sin(k)*y),T.push(C+Math.cos(x)*y,E+Math.sin(x)*y),this.pathIndexes=l(T),this.pathData=T,this}});s.exports=p},42542:(s,g,i)=>{var o=i(39506),m=i(65960),c=i(75177),l=i(20926),h=function(a,f,p,u){p.addToRenderList(f);var v=a.currentContext;if(l(a,v,f,p,u)){var y=f.radius;v.beginPath(),v.arc(y-f.originX*(y*2),y-f.originY*(y*2),y,o(f._startAngle),o(f._endAngle),f.anticlockwise),f.closePath&&v.closePath(),f.isFilled&&(m(v,f),v.fill()),f.isStroked&&(c(v,f),v.stroke()),v.restore()}};s.exports=h},42563:(s,g,i)=>{var o=i(23629),m=i(39429);m.register("arc",function(c,l,h,a,f,p,u,v){return this.displayList.add(new o(this.scene,c,l,h,a,f,p,u,v))}),m.register("circle",function(c,l,h,a,f){return this.displayList.add(new o(this.scene,c,l,h,0,360,!1,a,f))})},13609:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(41447),c=i(42542),s.exports={renderWebGL:m,renderCanvas:c}},41447:(s,g,i)=>{var o=i(91296),m=i(10441),c=i(34682),l=function(h,a,f,p){f.addToRenderList(a);var u=h.pipelines.set(a.pipeline),v=o(a,f,p),y=u.calcMatrix.copyFrom(v.calc),x=a._displayOriginX,b=a._displayOriginY,w=f.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&m(u,y,a,w,x,b),a.isStroked&&c(u,a,w,x,b),h.pipelines.postBatch(a)};s.exports=l},89:(s,g,i)=>{var o=i(83419),m=i(33141),c=i(94811),l=i(87841),h=i(17803),a=new o({Extends:h,Mixins:[m],initialize:function(p,u,v,y,x,b){u===void 0&&(u=0),v===void 0&&(v=0),h.call(this,p,"Curve",y),this._smoothness=32,this._curveBounds=new l,this.closePath=!1,this.setPosition(u,v),x!==void 0&&this.setFillStyle(x,b),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(f){this._smoothness=f,this.updateData()}},setSmoothness:function(f){return this._smoothness=f,this.updateData()},updateData:function(){var f=this._curveBounds,p=this._smoothness;this.geom.getBounds(f,p),this.setSize(f.width,f.height),this.updateDisplayOrigin();for(var u=[],v=this.geom.getPoints(p),y=0;y<v.length;y++)u.push(v[y].x,v[y].y);return u.push(v[0].x,v[0].y),this.pathIndexes=c(u),this.pathData=u,this}});s.exports=a},3170:(s,g,i)=>{var o=i(65960),m=i(75177),c=i(20926),l=function(h,a,f,p){f.addToRenderList(a);var u=h.currentContext;if(c(h,u,a,f,p)){var v=a._displayOriginX+a._curveBounds.x,y=a._displayOriginY+a._curveBounds.y,x=a.pathData,b=x.length-1,w=x[0]-v,C=x[1]-y;u.beginPath(),u.moveTo(w,C),a.closePath||(b-=2);for(var E=2;E<b;E+=2){var T=x[E]-v,k=x[E+1]-y;u.lineTo(T,k)}a.closePath&&u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(m(u,a),u.stroke()),u.restore()}};s.exports=l},40511:(s,g,i)=>{var o=i(39429),m=i(89);o.register("curve",function(c,l,h,a,f){return this.displayList.add(new m(this.scene,c,l,h,a,f))})},33141:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(53987),c=i(3170),s.exports={renderWebGL:m,renderCanvas:c}},53987:(s,g,i)=>{var o=i(10441),m=i(91296),c=i(34682),l=function(h,a,f,p){f.addToRenderList(a);var u=h.pipelines.set(a.pipeline),v=m(a,f,p),y=u.calcMatrix.copyFrom(v.calc),x=a._displayOriginX+a._curveBounds.x,b=a._displayOriginY+a._curveBounds.y,w=f.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&o(u,y,a,w,x,b),a.isStroked&&c(u,a,w,x,b),h.pipelines.postBatch(a)};s.exports=l},19921:(s,g,i)=>{var o=i(83419),m=i(94811),c=i(54205),l=i(8497),h=i(17803),a=new o({Extends:h,Mixins:[c],initialize:function(p,u,v,y,x,b,w){u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y=128),x===void 0&&(x=128),h.call(this,p,"Ellipse",new l(y/2,x/2,y,x)),this._smoothness=64,this.setPosition(u,v),this.width=y,this.height=x,b!==void 0&&this.setFillStyle(b,w),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(f){this._smoothness=f,this.updateData()}},setSize:function(f,p){return this.width=f,this.height=p,this.geom.setPosition(f/2,p/2),this.geom.setSize(f,p),this.updateData()},setSmoothness:function(f){return this._smoothness=f,this.updateData()},updateData:function(){for(var f=[],p=this.geom.getPoints(this._smoothness),u=0;u<p.length;u++)f.push(p[u].x,p[u].y);return f.push(p[0].x,p[0].y),this.pathIndexes=m(f),this.pathData=f,this}});s.exports=a},7930:(s,g,i)=>{var o=i(65960),m=i(75177),c=i(20926),l=function(h,a,f,p){f.addToRenderList(a);var u=h.currentContext;if(c(h,u,a,f,p)){var v=a._displayOriginX,y=a._displayOriginY,x=a.pathData,b=x.length-1,w=x[0]-v,C=x[1]-y;u.beginPath(),u.moveTo(w,C),a.closePath||(b-=2);for(var E=2;E<b;E+=2){var T=x[E]-v,k=x[E+1]-y;u.lineTo(T,k)}u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(m(u,a),u.stroke()),u.restore()}};s.exports=l},1543:(s,g,i)=>{var o=i(19921),m=i(39429);m.register("ellipse",function(c,l,h,a,f,p){return this.displayList.add(new o(this.scene,c,l,h,a,f,p))})},54205:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(19467),c=i(7930),s.exports={renderWebGL:m,renderCanvas:c}},19467:(s,g,i)=>{var o=i(10441),m=i(91296),c=i(34682),l=function(h,a,f,p){f.addToRenderList(a);var u=h.pipelines.set(a.pipeline),v=m(a,f,p),y=u.calcMatrix.copyFrom(v.calc),x=a._displayOriginX,b=a._displayOriginY,w=f.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&o(u,y,a,w,x,b),a.isStroked&&c(u,a,w,x,b),h.pipelines.postBatch(a)};s.exports=l},30479:(s,g,i)=>{var o=i(83419),m=i(17803),c=i(26015),l=new o({Extends:m,Mixins:[c],initialize:function(a,f,p,u,v,y,x,b,w,C,E){f===void 0&&(f=0),p===void 0&&(p=0),u===void 0&&(u=128),v===void 0&&(v=128),y===void 0&&(y=32),x===void 0&&(x=32),m.call(this,a,"Grid",null),this.cellWidth=y,this.cellHeight=x,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(f,p),this.setSize(u,v),this.setFillStyle(b,w),C!==void 0&&this.setOutlineStyle(C,E),this.updateDisplayOrigin()},setFillStyle:function(h,a){return a===void 0&&(a=1),h===void 0?this.showCells=!1:(this.fillColor=h,this.fillAlpha=a,this.showCells=!0),this},setAltFillStyle:function(h,a){return a===void 0&&(a=1),h===void 0?this.showAltCells=!1:(this.altFillColor=h,this.altFillAlpha=a,this.showAltCells=!0),this},setOutlineStyle:function(h,a){return a===void 0&&(a=1),h===void 0?this.showOutline=!1:(this.outlineFillColor=h,this.outlineFillAlpha=a,this.showOutline=!0),this}});s.exports=l},49912:(s,g,i)=>{var o=i(65960),m=i(75177),c=i(20926),l=function(h,a,f,p){f.addToRenderList(a);var u=h.currentContext;if(c(h,u,a,f,p)){var v=-a._displayOriginX,y=-a._displayOriginY,x=f.alpha*a.alpha,b=a.width,w=a.height,C=a.cellWidth,E=a.cellHeight,T=Math.ceil(b/C),k=Math.ceil(w/E),A=C,I=E,B=C-(T*C-b),M=E-(k*E-w),O=a.showCells,P=a.showAltCells,L=a.showOutline,_=0,G=0,$=0,W=0,Y=0;if(L&&(A--,I--,B===C&&B--,M===E&&M--),O&&a.fillAlpha>0)for(o(u,a),G=0;G<k;G++)for(P&&($=G%2),_=0;_<T;_++){if(P&&$){$=0;continue}$++,W=_<T-1?A:B,Y=G<k-1?I:M,u.fillRect(v+_*C,y+G*E,W,Y)}if(P&&a.altFillAlpha>0)for(o(u,a,a.altFillColor,a.altFillAlpha*x),G=0;G<k;G++)for(P&&($=G%2),_=0;_<T;_++){if(P&&!$){$=1;continue}$=0,W=_<T-1?A:B,Y=G<k-1?I:M,u.fillRect(v+_*C,y+G*E,W,Y)}if(L&&a.outlineFillAlpha>0){for(m(u,a,a.outlineFillColor,a.outlineFillAlpha*x),_=1;_<T;_++){var z=_*C;u.beginPath(),u.moveTo(z+v,y),u.lineTo(z+v,w+y),u.stroke()}for(G=1;G<k;G++){var F=G*E;u.beginPath(),u.moveTo(v,F+y),u.lineTo(v+b,F+y),u.stroke()}}u.restore()}};s.exports=l},34137:(s,g,i)=>{var o=i(39429),m=i(30479);o.register("grid",function(c,l,h,a,f,p,u,v,y,x){return this.displayList.add(new m(this.scene,c,l,h,a,f,p,u,v,y,x))})},26015:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(46161),c=i(49912),s.exports={renderWebGL:m,renderCanvas:c}},46161:(s,g,i)=>{var o=i(91296),m=i(70554),c=function(l,h,a,f){a.addToRenderList(h);var p=l.pipelines.set(h.pipeline),u=o(h,a,f),v=p.calcMatrix.copyFrom(u.calc);v.translate(-h._displayOriginX,-h._displayOriginY);var y=a.alpha*h.alpha,x=h.width,b=h.height,w=h.cellWidth,C=h.cellHeight,E=Math.ceil(x/w),T=Math.ceil(b/C),k=w,A=C,I=w-(E*w-x),B=C-(T*C-b),M,O,P=h.showCells,L=h.showAltCells,_=h.showOutline,G=0,$=0,W=0,Y=0,z=0;if(_&&(k--,A--,I===w&&I--,B===C&&B--),l.pipelines.preBatch(h),P&&h.fillAlpha>0)for(M=p.fillTint,O=m.getTintAppendFloatAlpha(h.fillColor,h.fillAlpha*y),M.TL=O,M.TR=O,M.BL=O,M.BR=O,$=0;$<T;$++)for(L&&(W=$%2),G=0;G<E;G++){if(L&&W){W=0;continue}W++,Y=G<E-1?k:I,z=$<T-1?A:B,p.batchFillRect(G*w,$*C,Y,z)}if(L&&h.altFillAlpha>0)for(M=p.fillTint,O=m.getTintAppendFloatAlpha(h.altFillColor,h.altFillAlpha*y),M.TL=O,M.TR=O,M.BL=O,M.BR=O,$=0;$<T;$++)for(L&&(W=$%2),G=0;G<E;G++){if(L&&!W){W=1;continue}W=0,Y=G<E-1?k:I,z=$<T-1?A:B,p.batchFillRect(G*w,$*C,Y,z)}if(_&&h.outlineFillAlpha>0){var F=p.strokeTint,N=m.getTintAppendFloatAlpha(h.outlineFillColor,h.outlineFillAlpha*y);for(F.TL=N,F.TR=N,F.BL=N,F.BR=N,G=1;G<E;G++){var j=G*w;p.batchLine(j,0,j,b,1,1,1,0,!1)}for($=1;$<T;$++){var U=$*C;p.batchLine(0,U,x,U,1,1,1,0,!1)}}l.pipelines.postBatch(h)};s.exports=c},61475:(s,g,i)=>{var o=i(99651),m=i(83419),c=i(17803),l=new m({Extends:c,Mixins:[o],initialize:function(a,f,p,u,v,y,x,b){f===void 0&&(f=0),p===void 0&&(p=0),u===void 0&&(u=48),v===void 0&&(v=32),y===void 0&&(y=15658734),x===void 0&&(x=10066329),b===void 0&&(b=13421772),c.call(this,a,"IsoBox",null),this.projection=4,this.fillTop=y,this.fillLeft=x,this.fillRight=b,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(f,p),this.setSize(u,v),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setFaces:function(h,a,f){return h===void 0&&(h=!0),a===void 0&&(a=!0),f===void 0&&(f=!0),this.showTop=h,this.showLeft=a,this.showRight=f,this},setFillStyle:function(h,a,f){return this.fillTop=h,this.fillLeft=a,this.fillRight=f,this.isFilled=!0,this}});s.exports=l},11508:(s,g,i)=>{var o=i(65960),m=i(20926),c=function(l,h,a,f){a.addToRenderList(h);var p=l.currentContext;if(m(l,p,h,a,f)&&h.isFilled){var u=h.width,v=h.height,y=u/2,x=u/h.projection;h.showTop&&(o(p,h,h.fillTop),p.beginPath(),p.moveTo(-y,-v),p.lineTo(0,-x-v),p.lineTo(y,-v),p.lineTo(y,-1),p.lineTo(0,x-1),p.lineTo(-y,-1),p.lineTo(-y,-v),p.fill()),h.showLeft&&(o(p,h,h.fillLeft),p.beginPath(),p.moveTo(-y,0),p.lineTo(0,x),p.lineTo(0,x-v),p.lineTo(-y,-v),p.lineTo(-y,0),p.fill()),h.showRight&&(o(p,h,h.fillRight),p.beginPath(),p.moveTo(y,0),p.lineTo(0,x),p.lineTo(0,x-v),p.lineTo(y,-v),p.lineTo(y,0),p.fill()),p.restore()}};s.exports=c},3933:(s,g,i)=>{var o=i(39429),m=i(61475);o.register("isobox",function(c,l,h,a,f,p,u){return this.displayList.add(new m(this.scene,c,l,h,a,f,p,u))})},99651:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(68149),c=i(11508),s.exports={renderWebGL:m,renderCanvas:c}},68149:(s,g,i)=>{var o=i(91296),m=i(70554),c=function(l,h,a,f){a.addToRenderList(h);var p=l.pipelines.set(h.pipeline),u=o(h,a,f),v=p.calcMatrix.copyFrom(u.calc),y=h.width,x=h.height,b=y/2,w=y/h.projection,C=a.alpha*h.alpha;if(h.isFilled){var E,T,k,A,I,B,M,O,P;l.pipelines.preBatch(h),h.showTop&&(E=m.getTintAppendFloatAlpha(h.fillTop,C),T=v.getX(-b,-x),k=v.getY(-b,-x),A=v.getX(0,-w-x),I=v.getY(0,-w-x),B=v.getX(b,-x),M=v.getY(b,-x),O=v.getX(0,w-x),P=v.getY(0,w-x),p.batchQuad(h,T,k,A,I,B,M,O,P,0,0,1,1,E,E,E,E,2)),h.showLeft&&(E=m.getTintAppendFloatAlpha(h.fillLeft,C),T=v.getX(-b,0),k=v.getY(-b,0),A=v.getX(0,w),I=v.getY(0,w),B=v.getX(0,w-x),M=v.getY(0,w-x),O=v.getX(-b,-x),P=v.getY(-b,-x),p.batchQuad(h,T,k,A,I,B,M,O,P,0,0,1,1,E,E,E,E,2)),h.showRight&&(E=m.getTintAppendFloatAlpha(h.fillRight,C),T=v.getX(b,0),k=v.getY(b,0),A=v.getX(0,w),I=v.getY(0,w),B=v.getX(0,w-x),M=v.getY(0,w-x),O=v.getX(b,-x),P=v.getY(b,-x),p.batchQuad(h,T,k,A,I,B,M,O,P,0,0,1,1,E,E,E,E,2)),l.pipelines.postBatch(h)}};s.exports=c},16933:(s,g,i)=>{var o=i(83419),m=i(60561),c=i(17803),l=new o({Extends:c,Mixins:[m],initialize:function(a,f,p,u,v,y,x,b,w){f===void 0&&(f=0),p===void 0&&(p=0),u===void 0&&(u=48),v===void 0&&(v=32),y===void 0&&(y=!1),x===void 0&&(x=15658734),b===void 0&&(b=10066329),w===void 0&&(w=13421772),c.call(this,a,"IsoTriangle",null),this.projection=4,this.fillTop=x,this.fillLeft=b,this.fillRight=w,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=y,this.isFilled=!0,this.setPosition(f,p),this.setSize(u,v),this.updateDisplayOrigin()},setProjection:function(h){return this.projection=h,this},setReversed:function(h){return this.isReversed=h,this},setFaces:function(h,a,f){return h===void 0&&(h=!0),a===void 0&&(a=!0),f===void 0&&(f=!0),this.showTop=h,this.showLeft=a,this.showRight=f,this},setFillStyle:function(h,a,f){return this.fillTop=h,this.fillLeft=a,this.fillRight=f,this.isFilled=!0,this}});s.exports=l},79590:(s,g,i)=>{var o=i(65960),m=i(20926),c=function(l,h,a,f){a.addToRenderList(h);var p=l.currentContext;if(m(l,p,h,a,f)&&h.isFilled){var u=h.width,v=h.height,y=u/2,x=u/h.projection,b=h.isReversed;h.showTop&&b&&(o(p,h,h.fillTop),p.beginPath(),p.moveTo(-y,-v),p.lineTo(0,-x-v),p.lineTo(y,-v),p.lineTo(0,x-v),p.fill()),h.showLeft&&(o(p,h,h.fillLeft),p.beginPath(),b?(p.moveTo(-y,-v),p.lineTo(0,x),p.lineTo(0,x-v)):(p.moveTo(-y,0),p.lineTo(0,x),p.lineTo(0,x-v)),p.fill()),h.showRight&&(o(p,h,h.fillRight),p.beginPath(),b?(p.moveTo(y,-v),p.lineTo(0,x),p.lineTo(0,x-v)):(p.moveTo(y,0),p.lineTo(0,x),p.lineTo(0,x-v)),p.fill()),p.restore()}};s.exports=c},49803:(s,g,i)=>{var o=i(39429),m=i(16933);o.register("isotriangle",function(c,l,h,a,f,p,u,v){return this.displayList.add(new m(this.scene,c,l,h,a,f,p,u,v))})},60561:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(51503),c=i(79590),s.exports={renderWebGL:m,renderCanvas:c}},51503:(s,g,i)=>{var o=i(91296),m=i(70554),c=function(l,h,a,f){a.addToRenderList(h);var p=l.pipelines.set(h.pipeline),u=o(h,a,f),v=p.calcMatrix.copyFrom(u.calc),y=h.width,x=h.height,b=y/2,w=y/h.projection,C=h.isReversed,E=a.alpha*h.alpha;if(h.isFilled){l.pipelines.preBatch(h);var T,k,A,I,B,M,O;if(h.showTop&&C){T=m.getTintAppendFloatAlpha(h.fillTop,E),k=v.getX(-b,-x),A=v.getY(-b,-x),I=v.getX(0,-w-x),B=v.getY(0,-w-x),M=v.getX(b,-x),O=v.getY(b,-x);var P=v.getX(0,w-x),L=v.getY(0,w-x);p.batchQuad(h,k,A,I,B,M,O,P,L,0,0,1,1,T,T,T,T,2)}h.showLeft&&(T=m.getTintAppendFloatAlpha(h.fillLeft,E),C?(k=v.getX(-b,-x),A=v.getY(-b,-x),I=v.getX(0,w),B=v.getY(0,w),M=v.getX(0,w-x),O=v.getY(0,w-x)):(k=v.getX(-b,0),A=v.getY(-b,0),I=v.getX(0,w),B=v.getY(0,w),M=v.getX(0,w-x),O=v.getY(0,w-x)),p.batchTri(h,k,A,I,B,M,O,0,0,1,1,T,T,T,2)),h.showRight&&(T=m.getTintAppendFloatAlpha(h.fillRight,E),C?(k=v.getX(b,-x),A=v.getY(b,-x),I=v.getX(0,w),B=v.getY(0,w),M=v.getX(0,w-x),O=v.getY(0,w-x)):(k=v.getX(b,0),A=v.getY(b,0),I=v.getX(0,w),B=v.getY(0,w),M=v.getX(0,w-x),O=v.getY(0,w-x)),p.batchTri(h,k,A,I,B,M,O,0,0,1,1,T,T,T,2)),l.pipelines.postBatch(h)}};s.exports=c},57847:(s,g,i)=>{var o=i(83419),m=i(17803),c=i(23031),l=i(36823),h=new o({Extends:m,Mixins:[l],initialize:function(f,p,u,v,y,x,b,w,C){p===void 0&&(p=0),u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=128),b===void 0&&(b=0),m.call(this,f,"Line",new c(v,y,x,b));var E=Math.max(1,this.geom.right-this.geom.left),T=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(p,u),this.setSize(E,T),w!==void 0&&this.setStrokeStyle(1,w,C),this.updateDisplayOrigin()},setLineWidth:function(a,f){return f===void 0&&(f=a),this._startWidth=a,this._endWidth=f,this.lineWidth=a,this},setTo:function(a,f,p,u){return this.geom.setTo(a,f,p,u),this}});s.exports=h},17440:(s,g,i)=>{var o=i(75177),m=i(20926),c=function(l,h,a,f){a.addToRenderList(h);var p=l.currentContext;if(m(l,p,h,a,f)){var u=h._displayOriginX,v=h._displayOriginY;h.isStroked&&(o(p,h),p.beginPath(),p.moveTo(h.geom.x1-u,h.geom.y1-v),p.lineTo(h.geom.x2-u,h.geom.y2-v),p.stroke()),p.restore()}};s.exports=c},2481:(s,g,i)=>{var o=i(39429),m=i(57847);o.register("line",function(c,l,h,a,f,p,u,v){return this.displayList.add(new m(this.scene,c,l,h,a,f,p,u,v))})},36823:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(77385),c=i(17440),s.exports={renderWebGL:m,renderCanvas:c}},77385:(s,g,i)=>{var o=i(91296),m=i(70554),c=function(l,h,a,f){a.addToRenderList(h);var p=l.pipelines.set(h.pipeline),u=o(h,a,f);p.calcMatrix.copyFrom(u.calc);var v=h._displayOriginX,y=h._displayOriginY,x=a.alpha*h.alpha;if(l.pipelines.preBatch(h),h.isStroked){var b=p.strokeTint,w=m.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*x);b.TL=w,b.TR=w,b.BL=w,b.BR=w,p.batchLine(h.geom.x1-v,h.geom.y1-y,h.geom.x2-v,h.geom.y2-y,h._startWidth/2,h._endWidth/2,1,0,!1,u.sprite,u.camera)}l.pipelines.postBatch(h)};s.exports=c},24949:(s,g,i)=>{var o=i(90273),m=i(83419),c=i(94811),l=i(13829),h=i(25717),a=i(17803),f=i(5469),p=new m({Extends:a,Mixins:[o],initialize:function(v,y,x,b,w,C){y===void 0&&(y=0),x===void 0&&(x=0),a.call(this,v,"Polygon",new h(b));var E=l(this.geom);this.setPosition(y,x),this.setSize(E.width,E.height),w!==void 0&&this.setFillStyle(w,C),this.updateDisplayOrigin(),this.updateData()},smooth:function(u){u===void 0&&(u=1);for(var v=0;v<u;v++)f(this.geom);return this.updateData()},setTo:function(u){this.geom.setTo(u);var v=l(this.geom);return this.setSize(v.width,v.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var u=[],v=this.geom.points,y=0;y<v.length;y++)u.push(v[y].x,v[y].y);return u.push(v[0].x,v[0].y),this.pathIndexes=c(u),this.pathData=u,this}});s.exports=p},38710:(s,g,i)=>{var o=i(65960),m=i(75177),c=i(20926),l=function(h,a,f,p){f.addToRenderList(a);var u=h.currentContext;if(c(h,u,a,f,p)){var v=a._displayOriginX,y=a._displayOriginY,x=a.pathData,b=x.length-1,w=x[0]-v,C=x[1]-y;u.beginPath(),u.moveTo(w,C),a.closePath||(b-=2);for(var E=2;E<b;E+=2){var T=x[E]-v,k=x[E+1]-y;u.lineTo(T,k)}a.closePath&&u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(m(u,a),u.stroke()),u.restore()}};s.exports=l},64827:(s,g,i)=>{var o=i(39429),m=i(24949);o.register("polygon",function(c,l,h,a,f){return this.displayList.add(new m(this.scene,c,l,h,a,f))})},90273:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(73695),c=i(38710),s.exports={renderWebGL:m,renderCanvas:c}},73695:(s,g,i)=>{var o=i(10441),m=i(91296),c=i(34682),l=function(h,a,f,p){f.addToRenderList(a);var u=h.pipelines.set(a.pipeline),v=m(a,f,p),y=u.calcMatrix.copyFrom(v.calc),x=a._displayOriginX,b=a._displayOriginY,w=f.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&o(u,y,a,w,x,b),a.isStroked&&c(u,a,w,x,b),h.pipelines.postBatch(a)};s.exports=l},74561:(s,g,i)=>{var o=i(83419),m=i(87841),c=i(17803),l=i(95597),h=new o({Extends:c,Mixins:[l],initialize:function(f,p,u,v,y,x,b){p===void 0&&(p=0),u===void 0&&(u=0),v===void 0&&(v=128),y===void 0&&(y=128),c.call(this,f,"Rectangle",new m(0,0,v,y)),this.setPosition(p,u),this.setSize(v,y),x!==void 0&&this.setFillStyle(x,b),this.updateDisplayOrigin(),this.updateData()},setSize:function(a,f){this.width=a,this.height=f,this.geom.setSize(a,f),this.updateData(),this.updateDisplayOrigin();var p=this.input;return p&&!p.customHitArea&&(p.hitArea.width=a,p.hitArea.height=f),this},updateData:function(){var a=[],f=this.geom,p=this._tempLine;return f.getLineA(p),a.push(p.x1,p.y1,p.x2,p.y2),f.getLineB(p),a.push(p.x2,p.y2),f.getLineC(p),a.push(p.x2,p.y2),f.getLineD(p),a.push(p.x2,p.y2),this.pathData=a,this}});s.exports=h},48682:(s,g,i)=>{var o=i(65960),m=i(75177),c=i(20926),l=function(h,a,f,p){f.addToRenderList(a);var u=h.currentContext;if(c(h,u,a,f,p)){var v=a._displayOriginX,y=a._displayOriginY;a.isFilled&&(o(u,a),u.fillRect(-v,-y,a.width,a.height)),a.isStroked&&(m(u,a),u.beginPath(),u.rect(-v,-y,a.width,a.height),u.stroke()),u.restore()}};s.exports=l},87959:(s,g,i)=>{var o=i(39429),m=i(74561);o.register("rectangle",function(c,l,h,a,f,p){return this.displayList.add(new m(this.scene,c,l,h,a,f,p))})},95597:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(52059),c=i(48682),s.exports={renderWebGL:m,renderCanvas:c}},52059:(s,g,i)=>{var o=i(91296),m=i(34682),c=i(70554),l=function(h,a,f,p){f.addToRenderList(a);var u=h.pipelines.set(a.pipeline),v=o(a,f,p);u.calcMatrix.copyFrom(v.calc);var y=a._displayOriginX,x=a._displayOriginY,b=f.alpha*a.alpha;if(h.pipelines.preBatch(a),a.isFilled){var w=u.fillTint,C=c.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*b);w.TL=C,w.TR=C,w.BL=C,w.BR=C,u.batchFillRect(-y,-x,a.width,a.height)}a.isStroked&&m(u,a,b,y,x),h.pipelines.postBatch(a)};s.exports=l},55911:(s,g,i)=>{var o=i(81991),m=i(83419),c=i(94811),l=i(17803),h=new m({Extends:l,Mixins:[o],initialize:function(f,p,u,v,y,x,b,w){p===void 0&&(p=0),u===void 0&&(u=0),v===void 0&&(v=5),y===void 0&&(y=32),x===void 0&&(x=64),l.call(this,f,"Star",null),this._points=v,this._innerRadius=y,this._outerRadius=x,this.setPosition(p,u),this.setSize(x*2,x*2),b!==void 0&&this.setFillStyle(b,w),this.updateDisplayOrigin(),this.updateData()},setPoints:function(a){return this._points=a,this.updateData()},setInnerRadius:function(a){return this._innerRadius=a,this.updateData()},setOuterRadius:function(a){return this._outerRadius=a,this.updateData()},points:{get:function(){return this._points},set:function(a){this._points=a,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(a){this._innerRadius=a,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(a){this._outerRadius=a,this.updateData()}},updateData:function(){var a=[],f=this._points,p=this._innerRadius,u=this._outerRadius,v=Math.PI/2*3,y=Math.PI/f,x=u,b=u;a.push(x,b+-u);for(var w=0;w<f;w++)a.push(x+Math.cos(v)*u,b+Math.sin(v)*u),v+=y,a.push(x+Math.cos(v)*p,b+Math.sin(v)*p),v+=y;return a.push(x,b+-u),this.pathIndexes=c(a),this.pathData=a,this}});s.exports=h},64272:(s,g,i)=>{var o=i(65960),m=i(75177),c=i(20926),l=function(h,a,f,p){f.addToRenderList(a);var u=h.currentContext;if(c(h,u,a,f,p)){var v=a._displayOriginX,y=a._displayOriginY,x=a.pathData,b=x.length-1,w=x[0]-v,C=x[1]-y;u.beginPath(),u.moveTo(w,C),a.closePath||(b-=2);for(var E=2;E<b;E+=2){var T=x[E]-v,k=x[E+1]-y;u.lineTo(T,k)}u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(m(u,a),u.stroke()),u.restore()}};s.exports=l},93697:(s,g,i)=>{var o=i(55911),m=i(39429);m.register("star",function(c,l,h,a,f,p,u){return this.displayList.add(new o(this.scene,c,l,h,a,f,p,u))})},81991:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(57017),c=i(64272),s.exports={renderWebGL:m,renderCanvas:c}},57017:(s,g,i)=>{var o=i(10441),m=i(91296),c=i(34682),l=function(h,a,f,p){f.addToRenderList(a);var u=h.pipelines.set(a.pipeline),v=m(a,f,p),y=u.calcMatrix.copyFrom(v.calc),x=a._displayOriginX,b=a._displayOriginY,w=f.alpha*a.alpha;h.pipelines.preBatch(a),a.isFilled&&o(u,y,a,w,x,b),a.isStroked&&c(u,a,w,x,b),h.pipelines.postBatch(a)};s.exports=l},36931:(s,g,i)=>{var o=i(83419),m=i(17803),c=i(16483),l=i(96195),h=new o({Extends:m,Mixins:[l],initialize:function(f,p,u,v,y,x,b,w,C,E,T){p===void 0&&(p=0),u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y=128),x===void 0&&(x=64),b===void 0&&(b=0),w===void 0&&(w=128),C===void 0&&(C=128),m.call(this,f,"Triangle",new c(v,y,x,b,w,C));var k=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(p,u),this.setSize(k,A),E!==void 0&&this.setFillStyle(E,T),this.updateDisplayOrigin(),this.updateData()},setTo:function(a,f,p,u,v,y){return this.geom.setTo(a,f,p,u,v,y),this.updateData()},updateData:function(){var a=[],f=this.geom,p=this._tempLine;return f.getLineA(p),a.push(p.x1,p.y1,p.x2,p.y2),f.getLineB(p),a.push(p.x2,p.y2),f.getLineC(p),a.push(p.x2,p.y2),this.pathData=a,this}});s.exports=h},85172:(s,g,i)=>{var o=i(65960),m=i(75177),c=i(20926),l=function(h,a,f,p){f.addToRenderList(a);var u=h.currentContext;if(c(h,u,a,f,p)){var v=a._displayOriginX,y=a._displayOriginY,x=a.geom.x1-v,b=a.geom.y1-y,w=a.geom.x2-v,C=a.geom.y2-y,E=a.geom.x3-v,T=a.geom.y3-y;u.beginPath(),u.moveTo(x,b),u.lineTo(w,C),u.lineTo(E,T),u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(m(u,a),u.stroke()),u.restore()}};s.exports=l},45245:(s,g,i)=>{var o=i(39429),m=i(36931);o.register("triangle",function(c,l,h,a,f,p,u,v,y,x){return this.displayList.add(new m(this.scene,c,l,h,a,f,p,u,v,y,x))})},96195:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(83253),c=i(85172),s.exports={renderWebGL:m,renderCanvas:c}},83253:(s,g,i)=>{var o=i(91296),m=i(34682),c=i(70554),l=function(h,a,f,p){f.addToRenderList(a);var u=h.pipelines.set(a.pipeline),v=o(a,f,p);u.calcMatrix.copyFrom(v.calc);var y=a._displayOriginX,x=a._displayOriginY,b=f.alpha*a.alpha;if(h.pipelines.preBatch(a),a.isFilled){var w=u.fillTint,C=c.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*b);w.TL=C,w.TR=C,w.BL=C,w.BR=C;var E=a.geom.x1-y,T=a.geom.y1-x,k=a.geom.x2-y,A=a.geom.y2-x,I=a.geom.x3-y,B=a.geom.y3-x;u.batchFillTriangle(E,T,k,A,I,B,v.sprite,v.camera)}a.isStroked&&m(u,a,b,y,x),h.pipelines.postBatch(a)};s.exports=l},68287:(s,g,i)=>{var o=i(9674),m=i(83419),c=i(31401),l=i(95643),h=i(92751),a=new m({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Size,c.TextureCrop,c.Tint,c.Transform,c.Visible,h],initialize:function(p,u,v,y,x){l.call(this,p,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(y,x),this.setPosition(u,v),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(f,p){this.anims.update(f,p)},play:function(f,p){return this.anims.play(f,p)},playReverse:function(f,p){return this.anims.playReverse(f,p)},playAfterDelay:function(f,p){return this.anims.playAfterDelay(f,p)},playAfterRepeat:function(f,p){return this.anims.playAfterRepeat(f,p)},chain:function(f){return this.anims.chain(f)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},toJSON:function(){return c.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});s.exports=a},76552:s=>{var g=function(i,o,m,c){m.addToRenderList(o),i.batchSprite(o,o.frame,m,c)};s.exports=g},15567:(s,g,i)=>{var o=i(25305),m=i(13059),c=i(44603),l=i(23568),h=i(68287);c.register("sprite",function(a,f){a===void 0&&(a={});var p=l(a,"key",null),u=l(a,"frame",null),v=new h(this.scene,0,0,p,u);return f!==void 0&&(a.add=f),o(this.scene,v,a),m(v,a),v})},46409:(s,g,i)=>{var o=i(39429),m=i(68287);o.register("sprite",function(c,l,h,a){return this.displayList.add(new m(this.scene,c,l,h,a))})},92751:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(9409),c=i(76552),s.exports={renderWebGL:m,renderCanvas:c}},9409:s=>{var g=function(i,o,m,c){m.addToRenderList(o),o.pipeline.batchSprite(o,m,c)};s.exports=g},14220:s=>{var g=function(i,o,m){var c=i.canvas,l=i.context,h=i.style,a=[],f=0,p=m.length;h.maxLines>0&&h.maxLines<m.length&&(p=h.maxLines),h.syncFont(c,l);for(var u=0;u<p;u++){var v=h.strokeThickness;v+=l.measureText(m[u]).width,m[u].length>1&&(v+=i.letterSpacing*(m[u].length-1)),h.wordWrap&&(v-=l.measureText(" ").width),a[u]=Math.ceil(v),f=Math.max(f,a[u])}var y=o.fontSize+h.strokeThickness,x=y*p,b=i.lineSpacing;return p>1&&(x+=b*(p-1)),{width:f,height:x,lines:p,lineWidths:a,lineSpacing:b,lineHeight:y}};s.exports=g},79557:(s,g,i)=>{var o=i(27919),m=function(c){var l=o.create(this),h=l.getContext("2d",{willReadFrequently:!0});c.syncFont(l,h);var a=h.measureText(c.testString);if("actualBoundingBoxAscent"in a){var f=a.actualBoundingBoxAscent,p=a.actualBoundingBoxDescent;return o.remove(l),{ascent:f,descent:p,fontSize:f+p}}var u=Math.ceil(a.width*c.baselineX),v=u,y=2*v;v=v*c.baselineY|0,l.width=u,l.height=y,h.fillStyle="#f00",h.fillRect(0,0,u,y),h.font=c._font,h.textBaseline="alphabetic",h.fillStyle="#000",h.fillText(c.testString,0,v);var x={ascent:0,descent:0,fontSize:0},b=h.getImageData(0,0,u,y);if(!b)return x.ascent=v,x.descent=v+6,x.fontSize=x.ascent+x.descent,o.remove(l),x;var w=b.data,C=w.length,E=u*4,T,k,A=0,I=!1;for(T=0;T<v;T++){for(k=0;k<E;k+=4)if(w[A+k]!==255){I=!0;break}if(!I)A+=E;else break}for(x.ascent=v-T,A=C-E,I=!1,T=y;T>v;T--){for(k=0;k<E;k+=4)if(w[A+k]!==255){I=!0;break}if(!I)A-=E;else break}return x.descent=T-v,x.fontSize=x.ascent+x.descent,o.remove(l),x};s.exports=m},50171:(s,g,i)=>{var o=i(40366),m=i(27919),c=i(83419),l=i(31401),h=i(95643),a=i(14220),f=i(35154),p=i(35846),u=i(61771),v=i(35762),y=i(45650),x=new c({Extends:h,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,u],initialize:function(w,C,E,T,k){C===void 0&&(C=0),E===void 0&&(E=0),h.call(this,w,"Text"),this.renderer=w.sys.renderer,this.setPosition(C,E),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=m.create(this),this.context,this.style=new v(this,k),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=y(),this.texture=w.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(T),k&&k.padding&&this.setPadding(k.padding),k&&k.lineSpacing&&this.setLineSpacing(k.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(b){var w=this.style;if(w.wordWrapCallback){var C=w.wordWrapCallback.call(w.wordWrapCallbackScope,b,this);return Array.isArray(C)&&(C=C.join(`
`)),C}else return w.wordWrapWidth?w.wordWrapUseAdvanced?this.advancedWordWrap(b,this.context,this.style.wordWrapWidth):this.basicWordWrap(b,this.context,this.style.wordWrapWidth):b},advancedWordWrap:function(b,w,C){for(var E="",T=b.replace(/ +/gi," ").split(this.splitRegExp),k=T.length,A=0;A<k;A++){var I=T[A],B="";I=I.replace(/^ *|\s*$/gi,"");var M=w.measureText(I).width;if(M<C){E+=I+`
`;continue}for(var O=C,P=I.split(" "),L=0;L<P.length;L++){var _=P[L],G=_+" ",$=w.measureText(G).width;if($>O){if(L===0){for(var W=G;W.length&&(W=W.slice(0,-1),$=w.measureText(W).width,!($<=O)););if(!W.length)throw new Error("wordWrapWidth < a single character");var Y=_.substr(W.length);P[L]=Y,B+=W}var z=P[L].length?L:L+1,F=P.slice(z).join(" ").replace(/[ \n]*$/gi,"");T.splice(A+1,0,F),k=T.length;break}else B+=G,O-=$}E+=B.replace(/[ \n]*$/gi,"")+`
`}return E=E.replace(/[\s|\n]*$/gi,""),E},basicWordWrap:function(b,w,C){for(var E="",T=b.split(this.splitRegExp),k=T.length-1,A=w.measureText(" ").width,I=0;I<=k;I++){for(var B=C,M=T[I].split(" "),O=M.length-1,P=0;P<=O;P++){var L=M[P],_=w.measureText(L).width,G=_;P<O&&(G+=A),G>B&&P>0&&(E+=`
`,B=C),E+=L,P<O?(E+=" ",B-=G):B-=_}I<k&&(E+=`
`)}return E},getWrappedText:function(b){b===void 0&&(b=this._text),this.style.syncFont(this.canvas,this.context);var w=this.runWordWrap(b);return w.split(this.splitRegExp)},setText:function(b){return!b&&b!==0&&(b=""),Array.isArray(b)&&(b=b.join(`
`)),b!==this._text&&(this._text=b.toString(),this.updateText()),this},appendText:function(b,w){w===void 0&&(w=!0),!b&&b!==0&&(b=""),Array.isArray(b)&&(b=b.join(`
`)),b=b.toString();var C=this._text.concat(w?`
`+b:b);return C!==this._text&&(this._text=C,this.updateText()),this},setStyle:function(b){return this.style.setStyle(b)},setFont:function(b){return this.style.setFont(b)},setFontFamily:function(b){return this.style.setFontFamily(b)},setFontSize:function(b){return this.style.setFontSize(b)},setFontStyle:function(b){return this.style.setFontStyle(b)},setFixedSize:function(b,w){return this.style.setFixedSize(b,w)},setBackgroundColor:function(b){return this.style.setBackgroundColor(b)},setFill:function(b){return this.style.setFill(b)},setColor:function(b){return this.style.setColor(b)},setStroke:function(b,w){return this.style.setStroke(b,w)},setShadow:function(b,w,C,E,T,k){return this.style.setShadow(b,w,C,E,T,k)},setShadowOffset:function(b,w){return this.style.setShadowOffset(b,w)},setShadowColor:function(b){return this.style.setShadowColor(b)},setShadowBlur:function(b){return this.style.setShadowBlur(b)},setShadowStroke:function(b){return this.style.setShadowStroke(b)},setShadowFill:function(b){return this.style.setShadowFill(b)},setWordWrapWidth:function(b,w){return this.style.setWordWrapWidth(b,w)},setWordWrapCallback:function(b,w){return this.style.setWordWrapCallback(b,w)},setAlign:function(b){return this.style.setAlign(b)},setResolution:function(b){return this.style.setResolution(b)},setLineSpacing:function(b){return this.lineSpacing=b,this.updateText()},setLetterSpacing:function(b){return this.letterSpacing=b,this.updateText()},setPadding:function(b,w,C,E){if(typeof b=="object"){var T=b,k=f(T,"x",null);k!==null?(b=k,C=k):(b=f(T,"left",0),C=f(T,"right",b));var A=f(T,"y",null);A!==null?(w=A,E=A):(w=f(T,"top",0),E=f(T,"bottom",w))}else b===void 0&&(b=0),w===void 0&&(w=b),C===void 0&&(C=b),E===void 0&&(E=w);return this.padding.left=b,this.padding.top=w,this.padding.right=C,this.padding.bottom=E,this.updateText()},setMaxLines:function(b){return this.style.setMaxLines(b)},setRTL:function(b){b===void 0&&(b=!0);var w=this.style;return w.rtl===b?this:(w.rtl=b,b?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),w.align==="left"?w.align="right":w.align==="right"&&(w.align="left"),this)},updateText:function(){var b=this.canvas,w=this.context,C=this.style,E=C.resolution,T=C.metrics;C.syncFont(b,w);var k=this._text;(C.wordWrapWidth||C.wordWrapCallback)&&(k=this.runWordWrap(this._text));var A=k.split(this.splitRegExp),I=a(this,T,A),B=this.padding,M;C.fixedWidth===0?(this.width=I.width+B.left+B.right,M=I.width):(this.width=C.fixedWidth,M=this.width-B.left-B.right,M<I.width&&(M=I.width)),C.fixedHeight===0?this.height=I.height+B.top+B.bottom:this.height=C.fixedHeight;var O=this.width,P=this.height;this.updateDisplayOrigin(),O*=E,P*=E,O=Math.max(O,1),P=Math.max(P,1),b.width!==O||b.height!==P?(b.width=O,b.height=P,this.frame.setSize(O,P),C.syncFont(b,w),C.rtl&&(w.direction="rtl")):w.clearRect(0,0,O,P),w.save(),w.scale(E,E),C.backgroundColor&&(w.fillStyle=C.backgroundColor,w.fillRect(0,0,O,P)),C.syncStyle(b,w),w.translate(B.left,B.top);for(var L,_,G=0;G<I.lines;G++){if(L=C.strokeThickness/2,_=C.strokeThickness/2+G*I.lineHeight+T.ascent,G>0&&(_+=I.lineSpacing*G),C.rtl)L=O-L-B.left-B.right;else if(C.align==="right")L+=M-I.lineWidths[G];else if(C.align==="center")L+=(M-I.lineWidths[G])/2;else if(C.align==="justify"){var $=.85;if(I.lineWidths[G]/I.width>=$){var W=I.width-I.lineWidths[G],Y=w.measureText(" ").width,z=A[G].trim(),F=z.split(" ");W+=(A[G].length-z.length)*Y;for(var N=Math.floor(W/Y),j=0;N>0;)F[j]+=" ",j=(j+1)%(F.length-1||1),--N;A[G]=F.join(" ")}}if(this.autoRound&&(L=Math.round(L),_=Math.round(_)),C.strokeThickness&&(C.syncShadow(w,C.shadowStroke),w.strokeText(A[G],L,_)),C.color){C.syncShadow(w,C.shadowFill);var U=this.letterSpacing;if(U!==0)for(var V=0,q=A[G].split(""),ot=0;ot<q.length;ot++)w.fillText(q[ot],L+V,_),V+=w.measureText(q[ot]).width+U;else w.fillText(A[G],L,_)}}w.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(b,this.frame.source.glTexture,!0));var Q=this.input;return Q&&!Q.customHitArea&&(Q.hitArea.width=this.width,Q.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(b){this.setText(b)}},toJSON:function(){var b=l.ToJSON(this),w={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return b.data=w,b},preDestroy:function(){p(this.canvas),m.remove(this.canvas);var b=this.texture;b&&b.destroy()}});s.exports=x},79724:s=>{var g=function(i,o,m,c){o.width===0||o.height===0||(m.addToRenderList(o),i.batchSprite(o,o.frame,m,c))};s.exports=g},71259:(s,g,i)=>{var o=i(25305),m=i(44603),c=i(23568),l=i(50171);m.register("text",function(h,a){h===void 0&&(h={});var f=c(h,"text",""),p=c(h,"style",null),u=c(h,"padding",null);u!==null&&(p.padding=u);var v=new l(this.scene,0,0,f,p);return a!==void 0&&(h.add=a),o(this.scene,v,h),v.autoRound=c(h,"autoRound",!0),v.resolution=c(h,"resolution",1),v})},68005:(s,g,i)=>{var o=i(50171),m=i(39429);m.register("text",function(c,l,h,a){return this.displayList.add(new o(this.scene,c,l,h,a))})},61771:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(34397),c=i(79724),s.exports={renderWebGL:m,renderCanvas:c}},35762:(s,g,i)=>{var o=i(83419),m=i(23568),c=i(35154),l=i(79557),h={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},a=new o({initialize:function(p,u){this.parent=p,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(u,!1,!0)},setStyle:function(f,p,u){p===void 0&&(p=!0),u===void 0&&(u=!1),f&&f.hasOwnProperty("fontSize")&&typeof f.fontSize=="number"&&(f.fontSize=f.fontSize.toString()+"px");for(var v in h){var y=u?h[v][1]:this[v];v==="wordWrapCallback"||v==="wordWrapCallbackScope"?this[v]=c(f,h[v][0],y):this[v]=m(f,h[v][0],y)}var x=c(f,"font",null);x!==null&&this.setFont(x,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var b=c(f,"fill",null);b!==null&&(this.color=b);var w=c(f,"metrics",!1);return w?this.metrics={ascent:c(w,"ascent",0),descent:c(w,"descent",0),fontSize:c(w,"fontSize",0)}:(p||!this.metrics)&&(this.metrics=l(this)),p?this.parent.updateText():this.parent},syncFont:function(f,p){p.font=this._font},syncStyle:function(f,p){p.textBaseline="alphabetic",p.fillStyle=this.color,p.strokeStyle=this.stroke,p.lineWidth=this.strokeThickness,p.lineCap="round",p.lineJoin="round"},syncShadow:function(f,p){p?(f.shadowOffsetX=this.shadowOffsetX,f.shadowOffsetY=this.shadowOffsetY,f.shadowColor=this.shadowColor,f.shadowBlur=this.shadowBlur):(f.shadowOffsetX=0,f.shadowOffsetY=0,f.shadowColor=0,f.shadowBlur=0)},update:function(f){return f&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=l(this)),this.parent.updateText()},setFont:function(f,p){p===void 0&&(p=!0);var u=f,v="",y="";if(typeof f!="string")u=c(f,"fontFamily","Courier"),v=c(f,"fontSize","16px"),y=c(f,"fontStyle","");else{var x=f.split(" "),b=0;y=x.length>2?x[b++]:"",v=x[b++]||"16px",u=x[b++]||"Courier"}return(u!==this.fontFamily||v!==this.fontSize||y!==this.fontStyle)&&(this.fontFamily=u,this.fontSize=v,this.fontStyle=y,p&&this.update(!0)),this.parent},setFontFamily:function(f){return this.fontFamily!==f&&(this.fontFamily=f,this.update(!0)),this.parent},setFontStyle:function(f){return this.fontStyle!==f&&(this.fontStyle=f,this.update(!0)),this.parent},setFontSize:function(f){return typeof f=="number"&&(f=f.toString()+"px"),this.fontSize!==f&&(this.fontSize=f,this.update(!0)),this.parent},setTestString:function(f){return this.testString=f,this.update(!0)},setFixedSize:function(f,p){return this.fixedWidth=f,this.fixedHeight=p,f&&(this.parent.width=f),p&&(this.parent.height=p),this.update(!1)},setBackgroundColor:function(f){return this.backgroundColor=f,this.update(!1)},setFill:function(f){return this.color=f,this.update(!1)},setColor:function(f){return this.color=f,this.update(!1)},setResolution:function(f){return this.resolution=f,this.update(!1)},setStroke:function(f,p){return p===void 0&&(p=this.strokeThickness),f===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==f||this.strokeThickness!==p)&&(this.stroke=f,this.strokeThickness=p,this.update(!0)),this.parent},setShadow:function(f,p,u,v,y,x){return f===void 0&&(f=0),p===void 0&&(p=0),u===void 0&&(u="#000"),v===void 0&&(v=0),y===void 0&&(y=!1),x===void 0&&(x=!0),this.shadowOffsetX=f,this.shadowOffsetY=p,this.shadowColor=u,this.shadowBlur=v,this.shadowStroke=y,this.shadowFill=x,this.update(!1)},setShadowOffset:function(f,p){return f===void 0&&(f=0),p===void 0&&(p=f),this.shadowOffsetX=f,this.shadowOffsetY=p,this.update(!1)},setShadowColor:function(f){return f===void 0&&(f="#000"),this.shadowColor=f,this.update(!1)},setShadowBlur:function(f){return f===void 0&&(f=0),this.shadowBlur=f,this.update(!1)},setShadowStroke:function(f){return this.shadowStroke=f,this.update(!1)},setShadowFill:function(f){return this.shadowFill=f,this.update(!1)},setWordWrapWidth:function(f,p){return p===void 0&&(p=!1),this.wordWrapWidth=f,this.wordWrapUseAdvanced=p,this.update(!1)},setWordWrapCallback:function(f,p){return p===void 0&&(p=null),this.wordWrapCallback=f,this.wordWrapCallbackScope=p,this.update(!1)},setAlign:function(f){return f===void 0&&(f="left"),this.align=f,this.update(!1)},setMaxLines:function(f){return f===void 0&&(f=0),this.maxLines=f,this.update(!1)},getTextMetrics:function(){var f=this.metrics;return{ascent:f.ascent,descent:f.descent,fontSize:f.fontSize}},toJSON:function(){var f={};for(var p in h)f[p]=this[p];return f.metrics=this.getTextMetrics(),f},destroy:function(){this.parent=void 0}});s.exports=a},34397:(s,g,i)=>{var o=i(70554),m=function(c,l,h,a){if(!(l.width===0||l.height===0)){h.addToRenderList(l);var f=l.frame,p=f.width,u=f.height,v=o.getTintAppendFloatAlpha,y=c.pipelines.set(l.pipeline,l),x=y.setTexture2D(f.glTexture,l);y.batchTexture(l,f.glTexture,p,u,l.x,l.y,p/l.style.resolution,u/l.style.resolution,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.displayOriginX,l.displayOriginY,0,0,p,u,v(l.tintTopLeft,h.alpha*l._alphaTL),v(l.tintTopRight,h.alpha*l._alphaTR),v(l.tintBottomLeft,h.alpha*l._alphaBL),v(l.tintBottomRight,h.alpha*l._alphaBR),l.tintFill,0,0,h,a,!1,x)}};s.exports=m},20839:(s,g,i)=>{var o=i(27919),m=i(83419),c=i(31401),l=i(95643),h=i(98439),a=i(68703),f=i(56295),p=i(45650),u=i(26099),v=8,y=new m({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Crop,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.Tint,c.Transform,c.Visible,f],initialize:function(b,w,C,E,T,k,A){var I=b.sys.renderer;l.call(this,b,"TileSprite");var B=b.sys.textures.get(k),M=B.get(A);M.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),B=b.sys.textures.get("__MISSING"),M=B.get()),B.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),B=b.sys.textures.get("__MISSING"),M=B.get()),!E||!T?(E=M.width,T=M.height):(E=Math.floor(E),T=Math.floor(T)),this._tilePosition=new u,this._tileScale=new u(1,1),this.dirty=!1,this.renderer=I,this.canvas=o.create(this,E,T),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=B,this.displayFrame=M,this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=b.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=h(M.width),this.potHeight=h(M.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(w,C),this.setSize(E,T),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(x,b){return this.displayTexture=this.scene.sys.textures.get(x),this.setFrame(b)},setFrame:function(x){var b=this.displayTexture.get(x);return this.potWidth=h(b.width),this.potHeight=h(b.height),this.canvas.width=0,!b.cutWidth||!b.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this.displayFrame=b,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(x,b){return x!==void 0&&(this.tilePositionX=x),b!==void 0&&(this.tilePositionY=b),this},setTileScale:function(x,b){return x===void 0&&(x=this.tileScaleX),b===void 0&&(b=x),this.tileScaleX=x,this.tileScaleY=b,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var x=this.displayFrame;if(x.source.isRenderTexture||x.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var b=this.fillContext,w=this.fillCanvas,C=this.potWidth,E=this.potHeight;(!this.renderer||!this.renderer.gl)&&(C=x.cutWidth,E=x.cutHeight),b.clearRect(0,0,C,E),w.width=C,w.height=E,b.drawImage(x.source.image,x.cutX,x.cutY,x.cutWidth,x.cutHeight,0,0,C,E),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(w,this.fillPattern):this.fillPattern=b.createPattern(w,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var x=this.canvas;if((x.width!==this.width||x.height!==this.height)&&(x.width=this.width,x.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var b=this.context;this.scene.sys.game.config.antialias||a.disable(b);var w=this._tileScale.x,C=this._tileScale.y,E=this._tilePosition.x,T=this._tilePosition.y;b.clearRect(0,0,this.width,this.height),b.save(),b.scale(w,C),b.translate(-E,-T),b.fillStyle=this.fillPattern,b.fillRect(E,T,this.width/w,this.height/C),b.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var x=this.texture;x&&x.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(x){this._tilePosition.x=x,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(x){this._tilePosition.y=x,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(x){this._tileScale.x=x,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(x){this._tileScale.y=x,this.dirty=!0}}});s.exports=y},46992:s=>{var g=function(i,o,m,c){o.updateCanvas(),m.addToRenderList(o),i.batchSprite(o,o.frame,m,c)};s.exports=g},14167:(s,g,i)=>{var o=i(25305),m=i(44603),c=i(23568),l=i(20839);m.register("tileSprite",function(h,a){h===void 0&&(h={});var f=c(h,"x",0),p=c(h,"y",0),u=c(h,"width",512),v=c(h,"height",512),y=c(h,"key",""),x=c(h,"frame",""),b=new l(this.scene,f,p,u,v,y,x);return a!==void 0&&(h.add=a),o(this.scene,b,h),b})},91681:(s,g,i)=>{var o=i(20839),m=i(39429);m.register("tileSprite",function(c,l,h,a,f,p){return this.displayList.add(new o(this.scene,c,l,h,a,f,p))})},56295:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(18553),c=i(46992),s.exports={renderWebGL:m,renderCanvas:c}},18553:(s,g,i)=>{var o=i(70554),m=function(c,l,h,a){l.updateCanvas();var f=l.width,p=l.height;if(!(f===0||p===0)){h.addToRenderList(l);var u=o.getTintAppendFloatAlpha,v=c.pipelines.set(l.pipeline,l),y=v.setTexture2D(l.fillPattern,l);v.batchTexture(l,l.fillPattern,l.displayFrame.width*l.tileScaleX,l.displayFrame.height*l.tileScaleY,l.x,l.y,f,p,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.originX*f,l.originY*p,0,0,f,p,u(l.tintTopLeft,h.alpha*l._alphaTL),u(l.tintTopRight,h.alpha*l._alphaTR),u(l.tintBottomLeft,h.alpha*l._alphaBL),u(l.tintBottomRight,h.alpha*l._alphaBR),l.tintFill,l.tilePositionX%l.displayFrame.width/l.displayFrame.width,l.tilePositionY%l.displayFrame.height/l.displayFrame.height,h,a,!1,y)}};s.exports=m},18471:(s,g,i)=>{var o=i(45319),m=i(83419),c=i(31401),l=i(51708),h=i(8443),a=i(95643),f=i(36383),p=i(14463),u=i(45650),v=i(10247),y=new m({Extends:a,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.ScrollFactor,c.TextureCrop,c.Tint,c.Transform,c.Visible,v],initialize:function(b,w,C,E){a.call(this,b,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=u(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var T=b.sys.game;this._device=T.device.video,this.setPosition(w,C),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),T.events.on(h.PAUSE,this.globalPause,this),T.events.on(h.RESUME,this.globalResume,this);var k=b.sys.sound;k&&k.on(p.GLOBAL_MUTE,this.globalMute,this),E&&this.load(E)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(x){var b=this.scene.sys.cache.video.get(x);return b?(this.cacheKey=x,this.loadHandler(b.url,b.noAudio,b.crossOrigin)):console.warn("No video in cache for key: "+x),this},changeSource:function(x,b,w,C,E){b===void 0&&(b=!0),w===void 0&&(w=!1),this.cacheKey!==x&&(this.load(x),b&&this.play(w,C,E))},getVideoKey:function(){return this.cacheKey},loadURL:function(x,b,w){b===void 0&&(b=!1);var C=this._device.getVideoURL(x);return C?(this.cacheKey="",this.loadHandler(C.url,b,w)):console.warn("No supported video format found for "+x),this},loadMediaStream:function(x,b,w){return this.loadHandler(null,b,w,x)},loadHandler:function(x,b,w,C){b||(b=!1);var E=this.video;if(E?(this.removeLoadEventHandlers(),this.stop()):(E=document.createElement("video"),E.controls=!1,E.setAttribute("playsinline","playsinline"),E.setAttribute("preload","auto"),E.setAttribute("disablePictureInPicture","true")),b?(E.muted=!0,E.defaultMuted=!0,E.setAttribute("autoplay","autoplay")):(E.muted=!1,E.defaultMuted=!1,E.removeAttribute("autoplay")),w?E.setAttribute("crossorigin",w):E.removeAttribute("crossorigin"),C)if("srcObject"in E)try{E.srcObject=C}catch(k){if(k.name!=="TypeError")throw k;E.src=URL.createObjectURL(C)}else E.src=URL.createObjectURL(C);else E.src=x;this.retry=0,this.video=E,this._playCalled=!1,E.load(),this.addLoadEventHandlers();var T=this.scene.sys.textures.get(this._key);return this.setTexture(T),this},requestVideoFrame:function(x,b){var w=this.video;if(w){var C=b.width,E=b.height,T=this.videoTexture,k=this.videoTextureSource,A=!T||k.source!==w;A?(this._codePaused=w.paused,this._codeMuted=w.muted,T?(k.source=w,k.width=C,k.height=E,T.get().setSize(C,E)):(T=this.scene.sys.textures.create(this._key,w,C,E),T.add("__BASE",0,0,0,C,E),this.setTexture(T),this.videoTexture=T,this.videoTextureSource=T.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(l.VIDEO_TEXTURE,this,T)),this.setSizeToFrame(),this.updateDisplayOrigin()):k.update(),this.isStalled=!1,this.metadata=b;var I=b.mediaTime;A&&(this._lastUpdate=I,this.emit(l.VIDEO_CREATED,this,C,E),this.frameReady||(this.frameReady=!0,this.emit(l.VIDEO_PLAY,this))),this._playingMarker?I>=this._markerOut&&(w.loop?(w.currentTime=this._markerIn,this.emit(l.VIDEO_LOOP,this)):(this.stop(!1),this.emit(l.VIDEO_COMPLETE,this))):I<this._lastUpdate&&this.emit(l.VIDEO_LOOP,this),this._lastUpdate=I,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(x,b,w){b===void 0&&(b=-1),w===void 0&&(w=f.MAX_SAFE_INTEGER);var C=this.video;return!C||this.isPlaying()?(C||console.warn("Video not loaded"),this):(x===void 0&&(x=C.loop),C.loop=x,this._markerIn=b,this._markerOut=w,this._playingMarker=b>-1&&w>b&&w<f.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=C.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var x=this.video;x&&(x.addEventListener("error",this._loadCallbackHandler),x.addEventListener("abort",this._loadCallbackHandler),x.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var x=this.video;x&&(x.removeEventListener("error",this._loadCallbackHandler),x.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var x=this.video;if(x){var b=this._callbacks;for(var w in b)x.addEventListener(w,b[w])}},removeEventHandlers:function(){var x=this.video;if(x){var b=this._callbacks;for(var w in b)x.removeEventListener(w,b[w])}},createPlayPromise:function(x){x===void 0&&(x=!0);var b=this.video,w=b.play();if(w!==void 0){var C=this.playSuccess.bind(this),E=this.playError.bind(this);if(!x){var T=this;E=function(){T.failedPlayAttempts++}}w.then(C).catch(E)}else b.addEventListener("playing",this._callbacks.legacy),x||this.failedPlayAttempts++},addMarker:function(x,b,w){return!isNaN(b)&&b>=0&&!isNaN(w)&&w>b&&(this.markers[x]=[b,w]),this},playMarker:function(x,b){var w=this.markers[x];return w&&this.play(b,w[0],w[1]),this},removeMarker:function(x){return delete this.markers[x],this},snapshot:function(x,b){return x===void 0&&(x=this.width),b===void 0&&(b=this.height),this.snapshotArea(0,0,this.width,this.height,x,b)},snapshotArea:function(x,b,w,C,E,T){x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=this.width),C===void 0&&(C=this.height),E===void 0&&(E=w),T===void 0&&(T=C);var k=this.video,A=this.snapshotTexture;return A?(A.setSize(E,T),k&&A.context.drawImage(k,x,b,w,C,0,0,E,T)):(A=this.scene.sys.textures.createCanvas(u(),E,T),this.snapshotTexture=A,k&&A.context.drawImage(k,x,b,w,C,0,0,E,T)),A.update()},saveSnapshotTexture:function(x){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,x):this.snapshotTexture=this.scene.sys.textures.createCanvas(x,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(l.VIDEO_UNLOCKED,this));var x=this.scene.sys.sound;x&&x.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(x){var b=x.name;b==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(l.VIDEO_LOCKED,this)):b==="NotSupportedError"?(this.stop(!1),this.emit(l.VIDEO_UNSUPPORTED,this,x)):(this.stop(!1),this.emit(l.VIDEO_ERROR,this,x))},legacyPlayHandler:function(){var x=this.video;x&&(this.playSuccess(),x.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(l.VIDEO_PLAYING,this)},loadErrorHandler:function(x){this.stop(!1),this.emit(l.VIDEO_ERROR,this,x)},metadataHandler:function(x){this.emit(l.VIDEO_METADATA,this,x)},setSizeToFrame:function(x){x||(x=this.frame),this.width=x.realWidth,this.height=x.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var b=this.input;return b&&!b.customHitArea&&(b.hitArea.width=this.width,b.hitArea.height=this.height),this},stalledHandler:function(x){this.isStalled=!0,this.emit(l.VIDEO_STALLED,this,x)},completeHandler:function(){this._playCalled=!1,this.emit(l.VIDEO_COMPLETE,this)},preUpdate:function(x,b){var w=this.video;!w||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=b,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(x){var b=this.video;if(b){var w=b.duration;if(w!==1/0&&!isNaN(w)){var C=w*x;this.setCurrentTime(C)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(x){var b=this.video;if(b){if(typeof x=="string"){var w=x[0],C=parseFloat(x.substr(1));w==="+"?x=b.currentTime+C:w==="-"&&(x=b.currentTime-C)}b.currentTime=x}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(l.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(l.VIDEO_SEEKED,this)},getProgress:function(){var x=this.video;if(x){var b=x.duration;if(b!==1/0&&!isNaN(b))return x.currentTime/b}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(x){x===void 0&&(x=!0),this._codeMuted=x;var b=this.video;return b&&(b.muted=this._systemMuted?!0:x),this},isMuted:function(){return this._codeMuted},globalMute:function(x,b){this._systemMuted=b;var w=this.video;w&&(w.muted=this._codeMuted?!0:b)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(x){x===void 0&&(x=!0);var b=this.video;return this._codePaused=x,b&&!b.ended&&(x?b.paused||(this.removeEventHandlers(),b.pause()):x||(this._playCalled?b.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(x){return x===void 0&&(x=1),this.video&&(this.video.volume=o(x,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(x){return this.video&&(this.video.playbackRate=x),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(x){return x===void 0&&(x=!0),this.video&&(this.video.loop=x),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(x,b){return b===void 0&&(b=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,x),this.videoTextureSource.setFlipY(b)),this._key=x,this.flipY=b,!!this.videoTexture},stop:function(x){x===void 0&&(x=!0);var b=this.video;return b&&(this.removeEventHandlers(),b.cancelVideoFrameCallback(this._rfvCallbackId),b.pause()),this.retry=0,this._playCalled=!1,x&&this.emit(l.VIDEO_STOP,this),this},removeVideoElement:function(){var x=this.video;if(x){for(x.parentNode&&x.parentNode.removeChild(x);x.hasChildNodes();)x.removeChild(x.firstChild);x.removeAttribute("autoplay"),x.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var x=this.scene.sys.game.events;x.off(h.PAUSE,this.globalPause,this),x.off(h.RESUME,this.globalResume,this);var b=this.scene.sys.sound;b&&b.off(p.GLOBAL_MUTE,this.globalMute,this)}});s.exports=y},58352:s=>{var g=function(i,o,m,c){o.videoTexture&&(m.addToRenderList(o),i.batchSprite(o,o.frame,m,c))};s.exports=g},11511:(s,g,i)=>{var o=i(25305),m=i(44603),c=i(23568),l=i(18471);m.register("video",function(h,a){h===void 0&&(h={});var f=c(h,"key",null),p=new l(this.scene,0,0,f);return a!==void 0&&(h.add=a),o(this.scene,p,h),p})},89025:(s,g,i)=>{var o=i(18471),m=i(39429);m.register("video",function(c,l,h){return this.displayList.add(new o(this.scene,c,l,h))})},10247:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(29849),c=i(58352),s.exports={renderWebGL:m,renderCanvas:c}},29849:s=>{var g=function(i,o,m,c){o.videoTexture&&(m.addToRenderList(o),o.pipeline.batchSprite(o,m,c))};s.exports=g},41481:(s,g,i)=>{var o=i(10312),m=i(96503),c=i(87902),l=i(83419),h=i(31401),a=i(95643),f=i(87841),p=i(37303),u=new l({Extends:a,Mixins:[h.Depth,h.GetBounds,h.Origin,h.Transform,h.ScrollFactor,h.Visible],initialize:function(y,x,b,w,C){w===void 0&&(w=1),C===void 0&&(C=w),a.call(this,y,"Zone"),this.setPosition(x,b),this.width=w,this.height=C,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(v){this.scaleX=v/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(v){this.scaleY=v/this.height}},setSize:function(v,y,x){x===void 0&&(x=!0),this.width=v,this.height=y,this.updateDisplayOrigin();var b=this.input;return x&&b&&!b.customHitArea&&(b.hitArea.width=v,b.hitArea.height=y),this},setDisplaySize:function(v,y){return this.displayWidth=v,this.displayHeight=y,this},setCircleDropZone:function(v){return this.setDropZone(new m(0,0,v),c)},setRectangleDropZone:function(v,y){return this.setDropZone(new f(0,0,v,y),p)},setDropZone:function(v,y){return this.input||this.setInteractive(v,y,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(v,y,x){x.addToRenderList(y)},renderWebGL:function(v,y,x){x.addToRenderList(y)}});s.exports=u},95261:(s,g,i)=>{var o=i(44603),m=i(23568),c=i(41481);o.register("zone",function(l){var h=m(l,"x",0),a=m(l,"y",0),f=m(l,"width",1),p=m(l,"height",f);return new c(this.scene,h,a,f,p)})},84175:(s,g,i)=>{var o=i(41481),m=i(39429);m.register("zone",function(c,l,h,a){return this.displayList.add(new o(this.scene,c,l,h,a))})},95166:s=>{var g=function(i){return i.radius>0?Math.PI*i.radius*i.radius:0};s.exports=g},96503:(s,g,i)=>{var o=i(83419),m=i(87902),c=i(26241),l=i(79124),h=i(23777),a=i(28176),f=new o({initialize:function(u,v,y){u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y=0),this.type=h.CIRCLE,this.x=u,this.y=v,this._radius=y,this._diameter=y*2},contains:function(p,u){return m(this,p,u)},getPoint:function(p,u){return c(this,p,u)},getPoints:function(p,u,v){return l(this,p,u,v)},getRandomPoint:function(p){return a(this,p)},setTo:function(p,u,v){return this.x=p,this.y=u,this._radius=v,this._diameter=v*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(p,u){return u===void 0&&(u=p),this.x=p,this.y=u,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this._diameter=p*2}},diameter:{get:function(){return this._diameter},set:function(p){this._diameter=p,this._radius=p*.5}},left:{get:function(){return this.x-this._radius},set:function(p){this.x=p+this._radius}},right:{get:function(){return this.x+this._radius},set:function(p){this.x=p-this._radius}},top:{get:function(){return this.y-this._radius},set:function(p){this.y=p+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(p){this.y=p-this._radius}}});s.exports=f},71562:s=>{var g=function(i){return 2*(Math.PI*i.radius)};s.exports=g},92110:(s,g,i)=>{var o=i(2141),m=function(c,l,h){return h===void 0&&(h=new o),h.x=c.x+c.radius*Math.cos(l),h.y=c.y+c.radius*Math.sin(l),h};s.exports=m},42250:(s,g,i)=>{var o=i(96503),m=function(c){return new o(c.x,c.y,c.radius)};s.exports=m},87902:s=>{var g=function(i,o,m){if(i.radius>0&&o>=i.left&&o<=i.right&&m>=i.top&&m<=i.bottom){var c=(i.x-o)*(i.x-o),l=(i.y-m)*(i.y-m);return c+l<=i.radius*i.radius}else return!1};s.exports=g},5698:(s,g,i)=>{var o=i(87902),m=function(c,l){return o(c,l.x,l.y)};s.exports=m},70588:(s,g,i)=>{var o=i(87902),m=function(c,l){return o(c,l.x,l.y)&&o(c,l.right,l.y)&&o(c,l.x,l.bottom)&&o(c,l.right,l.bottom)};s.exports=m},26394:s=>{var g=function(i,o){return o.setTo(i.x,i.y,i.radius)};s.exports=g},76278:s=>{var g=function(i,o){return i.x===o.x&&i.y===o.y&&i.radius===o.radius};s.exports=g},2074:(s,g,i)=>{var o=i(87841),m=function(c,l){return l===void 0&&(l=new o),l.x=c.left,l.y=c.top,l.width=c.diameter,l.height=c.diameter,l};s.exports=m},26241:(s,g,i)=>{var o=i(92110),m=i(62945),c=i(36383),l=i(2141),h=function(a,f,p){p===void 0&&(p=new l);var u=m(f,0,c.PI2);return o(a,u,p)};s.exports=h},79124:(s,g,i)=>{var o=i(71562),m=i(92110),c=i(62945),l=i(36383),h=function(a,f,p,u){u===void 0&&(u=[]),!f&&p>0&&(f=o(a)/p);for(var v=0;v<f;v++){var y=c(v/f,0,l.PI2);u.push(m(a,y))}return u};s.exports=h},50884:s=>{var g=function(i,o,m){return i.x+=o,i.y+=m,i};s.exports=g},39212:s=>{var g=function(i,o){return i.x+=o.x,i.y+=o.y,i};s.exports=g},28176:(s,g,i)=>{var o=i(2141),m=function(c,l){l===void 0&&(l=new o);var h=2*Math.PI*Math.random(),a=Math.random()+Math.random(),f=a>1?2-a:a,p=f*Math.cos(h),u=f*Math.sin(h);return l.x=c.x+p*c.radius,l.y=c.y+u*c.radius,l};s.exports=m},88911:(s,g,i)=>{var o=i(96503);o.Area=i(95166),o.Circumference=i(71562),o.CircumferencePoint=i(92110),o.Clone=i(42250),o.Contains=i(87902),o.ContainsPoint=i(5698),o.ContainsRect=i(70588),o.CopyFrom=i(26394),o.Equals=i(76278),o.GetBounds=i(2074),o.GetPoint=i(26241),o.GetPoints=i(79124),o.Offset=i(50884),o.OffsetPoint=i(39212),o.Random=i(28176),s.exports=o},23777:s=>{var g={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};s.exports=g},78874:s=>{var g=function(i){return i.isEmpty()?0:i.getMajorRadius()*i.getMinorRadius()*Math.PI};s.exports=g},92990:s=>{var g=function(i){var o=i.width/2,m=i.height/2,c=Math.pow(o-m,2)/Math.pow(o+m,2);return Math.PI*(o+m)*(1+3*c/(10+Math.sqrt(4-3*c)))};s.exports=g},79522:(s,g,i)=>{var o=i(2141),m=function(c,l,h){h===void 0&&(h=new o);var a=c.width/2,f=c.height/2;return h.x=c.x+a*Math.cos(l),h.y=c.y+f*Math.sin(l),h};s.exports=m},58102:(s,g,i)=>{var o=i(8497),m=function(c){return new o(c.x,c.y,c.width,c.height)};s.exports=m},81154:s=>{var g=function(i,o,m){if(i.width<=0||i.height<=0)return!1;var c=(o-i.x)/i.width,l=(m-i.y)/i.height;return c*=c,l*=l,c+l<.25};s.exports=g},46662:(s,g,i)=>{var o=i(81154),m=function(c,l){return o(c,l.x,l.y)};s.exports=m},1632:(s,g,i)=>{var o=i(81154),m=function(c,l){return o(c,l.x,l.y)&&o(c,l.right,l.y)&&o(c,l.x,l.bottom)&&o(c,l.right,l.bottom)};s.exports=m},65534:s=>{var g=function(i,o){return o.setTo(i.x,i.y,i.width,i.height)};s.exports=g},8497:(s,g,i)=>{var o=i(83419),m=i(81154),c=i(90549),l=i(48320),h=i(23777),a=i(24820),f=new o({initialize:function(u,v,y,x){u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),this.type=h.ELLIPSE,this.x=u,this.y=v,this.width=y,this.height=x},contains:function(p,u){return m(this,p,u)},getPoint:function(p,u){return c(this,p,u)},getPoints:function(p,u,v){return l(this,p,u,v)},getRandomPoint:function(p){return a(this,p)},setTo:function(p,u,v,y){return this.x=p,this.y=u,this.width=v,this.height=y,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(p,u){return u===void 0&&(u=p),this.x=p,this.y=u,this},setSize:function(p,u){return u===void 0&&(u=p),this.width=p,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(p){this.x=p+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(p){this.x=p-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(p){this.y=p+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(p){this.y=p-this.height/2}}});s.exports=f},36146:s=>{var g=function(i,o){return i.x===o.x&&i.y===o.y&&i.width===o.width&&i.height===o.height};s.exports=g},23694:(s,g,i)=>{var o=i(87841),m=function(c,l){return l===void 0&&(l=new o),l.x=c.left,l.y=c.top,l.width=c.width,l.height=c.height,l};s.exports=m},90549:(s,g,i)=>{var o=i(79522),m=i(62945),c=i(36383),l=i(2141),h=function(a,f,p){p===void 0&&(p=new l);var u=m(f,0,c.PI2);return o(a,u,p)};s.exports=h},48320:(s,g,i)=>{var o=i(92990),m=i(79522),c=i(62945),l=i(36383),h=function(a,f,p,u){u===void 0&&(u=[]),!f&&p>0&&(f=o(a)/p);for(var v=0;v<f;v++){var y=c(v/f,0,l.PI2);u.push(m(a,y))}return u};s.exports=h},73424:s=>{var g=function(i,o,m){return i.x+=o,i.y+=m,i};s.exports=g},44808:s=>{var g=function(i,o){return i.x+=o.x,i.y+=o.y,i};s.exports=g},24820:(s,g,i)=>{var o=i(2141),m=function(c,l){l===void 0&&(l=new o);var h=Math.random()*Math.PI*2,a=Math.sqrt(Math.random());return l.x=c.x+a*Math.cos(h)*c.width/2,l.y=c.y+a*Math.sin(h)*c.height/2,l};s.exports=m},49203:(s,g,i)=>{var o=i(8497);o.Area=i(78874),o.Circumference=i(92990),o.CircumferencePoint=i(79522),o.Clone=i(58102),o.Contains=i(81154),o.ContainsPoint=i(46662),o.ContainsRect=i(1632),o.CopyFrom=i(65534),o.Equals=i(36146),o.GetBounds=i(23694),o.GetPoint=i(90549),o.GetPoints=i(48320),o.Offset=i(73424),o.OffsetPoint=i(44808),o.Random=i(24820),s.exports=o},55738:(s,g,i)=>{var o=i(23777),m=i(79291),c={Circle:i(88911),Ellipse:i(49203),Intersects:i(91865),Line:i(2529),Mesh:i(73090),Point:i(43711),Polygon:i(58423),Rectangle:i(93232),Triangle:i(84435)};c=m(!1,c,o),s.exports=c},2044:(s,g,i)=>{var o=i(20339),m=function(c,l){return o(c.x,c.y,l.x,l.y)<=c.radius+l.radius};s.exports=m},81491:s=>{var g=function(i,o){var m=o.width/2,c=o.height/2,l=Math.abs(i.x-o.x-m),h=Math.abs(i.y-o.y-c),a=m+i.radius,f=c+i.radius;if(l>a||h>f)return!1;if(l<=m||h<=c)return!0;var p=l-m,u=h-c,v=p*p,y=u*u,x=i.radius*i.radius;return v+y<=x};s.exports=g},63376:(s,g,i)=>{var o=i(2141),m=i(2044),c=function(l,h,a){if(a===void 0&&(a=[]),m(l,h)){var f=l.x,p=l.y,u=l.radius,v=h.x,y=h.y,x=h.radius,b,w,C,E,T;if(p===y)T=(x*x-u*u-v*v+f*f)/(2*(f-v)),b=1,w=-2*y,C=v*v+T*T-2*v*T+y*y-x*x,E=w*w-4*b*C,E===0?a.push(new o(T,-w/(2*b))):E>0&&(a.push(new o(T,(-w+Math.sqrt(E))/(2*b))),a.push(new o(T,(-w-Math.sqrt(E))/(2*b))));else{var k=(f-v)/(p-y),A=(x*x-u*u-v*v+f*f-y*y+p*p)/(2*(p-y));b=k*k+1,w=2*p*k-2*A*k-2*f,C=f*f+p*p+A*A-u*u-2*p*A,E=w*w-4*b*C,E===0?(T=-w/(2*b),a.push(new o(T,A-T*k))):E>0&&(T=(-w+Math.sqrt(E))/(2*b),a.push(new o(T,A-T*k)),T=(-w-Math.sqrt(E))/(2*b),a.push(new o(T,A-T*k)))}}return a};s.exports=c},97439:(s,g,i)=>{var o=i(4042),m=i(81491),c=function(l,h,a){if(a===void 0&&(a=[]),m(l,h)){var f=h.getLineA(),p=h.getLineB(),u=h.getLineC(),v=h.getLineD();o(f,l,a),o(p,l,a),o(u,l,a),o(v,l,a)}return a};s.exports=c},4042:(s,g,i)=>{var o=i(2141),m=i(80462),c=function(l,h,a){if(a===void 0&&(a=[]),m(l,h)){var f=l.x1,p=l.y1,u=l.x2,v=l.y2,y=h.x,x=h.y,b=h.radius,w=u-f,C=v-p,E=f-y,T=p-x,k=w*w+C*C,A=2*(w*E+C*T),I=E*E+T*T-b*b,B=A*A-4*k*I,M,O;if(B===0){var P=-A/(2*k);M=f+P*w,O=p+P*C,P>=0&&P<=1&&a.push(new o(M,O))}else if(B>0){var L=(-A-Math.sqrt(B))/(2*k);M=f+L*w,O=p+L*C,L>=0&&L<=1&&a.push(new o(M,O));var _=(-A+Math.sqrt(B))/(2*k);M=f+_*w,O=p+_*C,_>=0&&_<=1&&a.push(new o(M,O))}}return a};s.exports=c},36100:(s,g,i)=>{var o=i(25836),m=function(c,l,h,a){h===void 0&&(h=!1);var f=c.x1,p=c.y1,u=c.x2,v=c.y2,y=l.x1,x=l.y1,b=l.x2,w=l.y2,C=u-f,E=v-p,T=b-y,k=w-x,A=C*k-E*T;if(A===0)return null;var I,B,M;if(h){if(I=(C*(x-p)+E*(f-y))/(T*E-k*C),B=(y+T*I-f)/C,B<0||I<0||I>1)return null;M=B}else{if(I=((y-f)*k-(x-p)*T)/A,B=((p-x)*C-(f-y)*E)/A,I<0||I>1||B<0||B>1)return null;M=I}return a===void 0&&(a=new o),a.set(f+C*M,p+E*M,M)};s.exports=m},3073:(s,g,i)=>{var o=i(36100),m=i(23031),c=i(25836),l=new m,h=new c,a=function(f,p,u,v){u===void 0&&(u=!1),v===void 0&&(v=new c);var y=!1;v.set(),h.set();for(var x=p[p.length-1],b=0;b<p.length;b++){var w=p[b];l.setTo(x.x,x.y,w.x,w.y),x=w,o(f,l,u,h)&&(!y||h.z<v.z)&&(v.copy(h),y=!0)}return y?v:null};s.exports=a},56362:(s,g,i)=>{var o=i(25836),m=i(61369),c=i(3073),l=new o,h=function(a,f,p,u){u===void 0&&(u=new m),Array.isArray(f)||(f=[f]);var v=!1;u.set(),l.set();for(var y=0;y<f.length;y++)c(a,f[y].points,p,l)&&(!v||l.z<u.z)&&(u.set(l.x,l.y,l.z,y),v=!0);return v?u:null};s.exports=h},60646:(s,g,i)=>{var o=i(2141),m=i(76112),c=i(92773),l=function(h,a,f){if(f===void 0&&(f=[]),c(h,a))for(var p=a.getLineA(),u=a.getLineB(),v=a.getLineC(),y=a.getLineD(),x=[new o,new o,new o,new o],b=[m(p,h,x[0]),m(u,h,x[1]),m(v,h,x[2]),m(y,h,x[3])],w=0;w<4;w++)b[w]&&f.push(x[w]);return f};s.exports=l},71147:(s,g,i)=>{var o=i(61369),m=i(56362),c=i(23031),l=new c;function h(p,u,v,y,x){var b=Math.cos(p),w=Math.sin(p);l.setTo(u,v,u+b,v+w);var C=m(l,y,!0);C&&x.push(new o(C.x,C.y,p,C.w))}function a(p,u){return p.z-u.z}var f=function(p,u,v){Array.isArray(v)||(v=[v]);for(var y=[],x=[],b=0;b<v.length;b++)for(var w=v[b].points,C=0;C<w.length;C++){var E=Math.atan2(w[C].y-u,w[C].x-p);x.indexOf(E)===-1&&(h(E,p,u,v,y),h(E-1e-5,p,u,v,y),h(E+1e-5,p,u,v,y),x.push(E))}return y.sort(a)};s.exports=f},68389:(s,g,i)=>{var o=i(87841),m=i(59996),c=function(l,h,a){return a===void 0&&(a=new o),m(l,h)&&(a.x=Math.max(l.x,h.x),a.y=Math.max(l.y,h.y),a.width=Math.min(l.right,h.right)-a.x,a.height=Math.min(l.bottom,h.bottom)-a.y),a};s.exports=c},52784:(s,g,i)=>{var o=i(60646),m=i(59996),c=function(l,h,a){if(a===void 0&&(a=[]),m(l,h)){var f=l.getLineA(),p=l.getLineB(),u=l.getLineC(),v=l.getLineD();o(f,h,a),o(p,h,a),o(u,h,a),o(v,h,a)}return a};s.exports=c},26341:(s,g,i)=>{var o=i(89265),m=i(60646),c=function(l,h,a){if(a===void 0&&(a=[]),o(l,h)){var f=h.getLineA(),p=h.getLineB(),u=h.getLineC();m(f,l,a),m(p,l,a),m(u,l,a)}return a};s.exports=c},38720:(s,g,i)=>{var o=i(4042),m=i(67636),c=function(l,h,a){if(a===void 0&&(a=[]),m(l,h)){var f=l.getLineA(),p=l.getLineB(),u=l.getLineC();o(f,h,a),o(p,h,a),o(u,h,a)}return a};s.exports=c},13882:(s,g,i)=>{var o=i(2141),m=i(2822),c=i(76112),l=function(h,a,f){if(f===void 0&&(f=[]),m(h,a))for(var p=h.getLineA(),u=h.getLineB(),v=h.getLineC(),y=[new o,new o,new o],x=[c(p,a,y[0]),c(u,a,y[1]),c(v,a,y[2])],b=0;b<3;b++)x[b]&&f.push(y[b]);return f};s.exports=l},75636:(s,g,i)=>{var o=i(82944),m=i(13882),c=function(l,h,a){if(a===void 0&&(a=[]),o(l,h)){var f=h.getLineA(),p=h.getLineB(),u=h.getLineC();m(l,f,a),m(l,p,a),m(l,u,a)}return a};s.exports=c},80462:(s,g,i)=>{var o=i(87902),m=i(2141),c=new m,l=function(h,a,f){if(f===void 0&&(f=c),o(a,h.x1,h.y1))return f.x=h.x1,f.y=h.y1,!0;if(o(a,h.x2,h.y2))return f.x=h.x2,f.y=h.y2,!0;var p=h.x2-h.x1,u=h.y2-h.y1,v=a.x-h.x1,y=a.y-h.y1,x=p*p+u*u,b=p,w=u;if(x>0){var C=(v*p+y*u)/x;b*=C,w*=C}f.x=h.x1+b,f.y=h.y1+w;var E=b*b+w*w;return E<=x&&b*p+w*u>=0&&o(a,f.x,f.y)};s.exports=l},76112:s=>{var g=function(i,o,m){var c=i.x1,l=i.y1,h=i.x2,a=i.y2,f=o.x1,p=o.y1,u=o.x2,v=o.y2;if(c===h&&l===a||f===u&&p===v)return!1;var y=(v-p)*(h-c)-(u-f)*(a-l);if(y===0)return!1;var x=((u-f)*(l-p)-(v-p)*(c-f))/y,b=((h-c)*(l-p)-(a-l)*(c-f))/y;return x<0||x>1||b<0||b>1?!1:(m&&(m.x=c+x*(h-c),m.y=l+x*(a-l)),!0)};s.exports=g},92773:s=>{var g=function(i,o){var m=i.x1,c=i.y1,l=i.x2,h=i.y2,a=o.x,f=o.y,p=o.right,u=o.bottom,v=0;if(m>=a&&m<=p&&c>=f&&c<=u||l>=a&&l<=p&&h>=f&&h<=u)return!0;if(m<a&&l>=a){if(v=c+(h-c)*(a-m)/(l-m),v>f&&v<=u)return!0}else if(m>p&&l<=p&&(v=c+(h-c)*(p-m)/(l-m),v>=f&&v<=u))return!0;if(c<f&&h>=f){if(v=m+(l-m)*(f-c)/(h-c),v>=a&&v<=p)return!0}else if(c>u&&h<=u&&(v=m+(l-m)*(u-c)/(h-c),v>=a&&v<=p))return!0;return!1};s.exports=g},16204:s=>{var g=function(i,o,m){m===void 0&&(m=1);var c=o.x1,l=o.y1,h=o.x2,a=o.y2,f=i.x,p=i.y,u=(h-c)*(h-c)+(a-l)*(a-l);if(u===0)return!1;var v=((f-c)*(h-c)+(p-l)*(a-l))/u;if(v<0)return Math.sqrt((c-f)*(c-f)+(l-p)*(l-p))<=m;if(v>=0&&v<=1){var y=((l-p)*(h-c)-(c-f)*(a-l))/u;return Math.abs(y)*Math.sqrt(u)<=m}else return Math.sqrt((h-f)*(h-f)+(a-p)*(a-p))<=m};s.exports=g},14199:(s,g,i)=>{var o=i(16204),m=function(c,l){if(!o(c,l))return!1;var h=Math.min(l.x1,l.x2),a=Math.max(l.x1,l.x2),f=Math.min(l.y1,l.y2),p=Math.max(l.y1,l.y2);return c.x>=h&&c.x<=a&&c.y>=f&&c.y<=p};s.exports=m},59996:s=>{var g=function(i,o){return i.width<=0||i.height<=0||o.width<=0||o.height<=0?!1:!(i.right<o.x||i.bottom<o.y||i.x>o.right||i.y>o.bottom)};s.exports=g},89265:(s,g,i)=>{var o=i(76112),m=i(37303),c=i(48653),l=i(77493),h=function(a,f){if(f.left>a.right||f.right<a.left||f.top>a.bottom||f.bottom<a.top)return!1;var p=f.getLineA(),u=f.getLineB(),v=f.getLineC();if(m(a,p.x1,p.y1)||m(a,p.x2,p.y2)||m(a,u.x1,u.y1)||m(a,u.x2,u.y2)||m(a,v.x1,v.y1)||m(a,v.x2,v.y2))return!0;var y=a.getLineA(),x=a.getLineB(),b=a.getLineC(),w=a.getLineD();if(o(p,y)||o(p,x)||o(p,b)||o(p,w)||o(u,y)||o(u,x)||o(u,b)||o(u,w)||o(v,y)||o(v,x)||o(v,b)||o(v,w))return!0;var C=l(a),E=c(f,C,!0);return E.length>0};s.exports=h},84411:s=>{var g=function(i,o,m,c,l,h){return h===void 0&&(h=0),!(o>i.right+h||m<i.left-h||c>i.bottom+h||l<i.top-h)};s.exports=g},67636:(s,g,i)=>{var o=i(80462),m=i(10690),c=function(l,h){return l.left>h.right||l.right<h.left||l.top>h.bottom||l.bottom<h.top?!1:!!(m(l,h.x,h.y)||o(l.getLineA(),h)||o(l.getLineB(),h)||o(l.getLineC(),h))};s.exports=c},2822:(s,g,i)=>{var o=i(76112),m=function(c,l){return!!(c.contains(l.x1,l.y1)||c.contains(l.x2,l.y2)||o(c.getLineA(),l)||o(c.getLineB(),l)||o(c.getLineC(),l))};s.exports=m},82944:(s,g,i)=>{var o=i(48653),m=i(71694),c=i(76112),l=function(h,a){if(h.left>a.right||h.right<a.left||h.top>a.bottom||h.bottom<a.top)return!1;var f=h.getLineA(),p=h.getLineB(),u=h.getLineC(),v=a.getLineA(),y=a.getLineB(),x=a.getLineC();if(c(f,v)||c(f,y)||c(f,x)||c(p,v)||c(p,y)||c(p,x)||c(u,v)||c(u,y)||c(u,x))return!0;var b=m(h),w=o(a,b,!0);return w.length>0||(b=m(a),w=o(h,b,!0),w.length>0)};s.exports=l},91865:(s,g,i)=>{s.exports={CircleToCircle:i(2044),CircleToRectangle:i(81491),GetCircleToCircle:i(63376),GetCircleToRectangle:i(97439),GetLineToCircle:i(4042),GetLineToLine:i(36100),GetLineToPoints:i(3073),GetLineToPolygon:i(56362),GetLineToRectangle:i(60646),GetRaysFromPointToPolygon:i(71147),GetRectangleIntersection:i(68389),GetRectangleToRectangle:i(52784),GetRectangleToTriangle:i(26341),GetTriangleToCircle:i(38720),GetTriangleToLine:i(13882),GetTriangleToTriangle:i(75636),LineToCircle:i(80462),LineToLine:i(76112),LineToRectangle:i(92773),PointToLine:i(16204),PointToLineSegment:i(14199),RectangleToRectangle:i(59996),RectangleToTriangle:i(89265),RectangleToValues:i(84411),TriangleToCircle:i(67636),TriangleToLine:i(2822),TriangleToTriangle:i(82944)}},91938:s=>{var g=function(i){return Math.atan2(i.y2-i.y1,i.x2-i.x1)};s.exports=g},84993:s=>{var g=function(i,o,m){o===void 0&&(o=1),m===void 0&&(m=[]);var c=Math.round(i.x1),l=Math.round(i.y1),h=Math.round(i.x2),a=Math.round(i.y2),f=Math.abs(h-c),p=Math.abs(a-l),u=c<h?1:-1,v=l<a?1:-1,y=f-p;m.push({x:c,y:l});for(var x=1;!(c===h&&l===a);){var b=y<<1;b>-p&&(y-=p,c+=u),b<f&&(y+=f,l+=v),x%o===0&&m.push({x:c,y:l}),x++}return m};s.exports=g},36469:s=>{var g=function(i,o,m){var c=o-(i.x1+i.x2)/2,l=m-(i.y1+i.y2)/2;return i.x1+=c,i.y1+=l,i.x2+=c,i.y2+=l,i};s.exports=g},31116:(s,g,i)=>{var o=i(23031),m=function(c){return new o(c.x1,c.y1,c.x2,c.y2)};s.exports=m},59944:s=>{var g=function(i,o){return o.setTo(i.x1,i.y1,i.x2,i.y2)};s.exports=g},59220:s=>{var g=function(i,o){return i.x1===o.x1&&i.y1===o.y1&&i.x2===o.x2&&i.y2===o.y2};s.exports=g},78177:(s,g,i)=>{var o=i(35001),m=function(c,l,h){h===void 0&&(h=l);var a=o(c),f=c.x2-c.x1,p=c.y2-c.y1;return l&&(c.x1=c.x1-f/a*l,c.y1=c.y1-p/a*l),h&&(c.x2=c.x2+f/a*h,c.y2=c.y2+p/a*h),c};s.exports=m},26708:(s,g,i)=>{var o=i(52816),m=i(6113),c=i(2141),l=function(h,a,f,p,u){p===void 0&&(p=0),u===void 0&&(u=[]);var v=[],y=h.x1,x=h.y1,b=h.x2-y,w=h.y2-x,C=m(a,u),E,T,k=f-1;for(E=0;E<k;E++)T=C(E/k),v.push(new c(y+b*T,x+w*T));if(T=C(1),v.push(new c(y+b*T,x+w*T)),p>0){var A=v[0],I=[A];for(E=1;E<v.length-1;E++){var B=v[E];o(A,B)>=p&&(I.push(B),A=B)}var M=v[v.length-1];return o(A,M)<p&&I.pop(),I.push(M),I}else return v};s.exports=l},32125:(s,g,i)=>{var o=i(2141),m=function(c,l){return l===void 0&&(l=new o),l.x=(c.x1+c.x2)/2,l.y=(c.y1+c.y2)/2,l};s.exports=m},99569:(s,g,i)=>{var o=i(2141),m=function(c,l,h){h===void 0&&(h=new o);var a=c.x1,f=c.y1,p=c.x2,u=c.y2,v=(p-a)*(p-a)+(u-f)*(u-f);if(v===0)return h;var y=((l.x-a)*(p-a)+(l.y-f)*(u-f))/v;return h.x=a+y*(p-a),h.y=f+y*(u-f),h};s.exports=m},34638:(s,g,i)=>{var o=i(36383),m=i(91938),c=i(2141),l=function(h,a){a===void 0&&(a=new c);var f=m(h)-o.TAU;return a.x=Math.cos(f),a.y=Math.sin(f),a};s.exports=l},13151:(s,g,i)=>{var o=i(2141),m=function(c,l,h){return h===void 0&&(h=new o),h.x=c.x1+(c.x2-c.x1)*l,h.y=c.y1+(c.y2-c.y1)*l,h};s.exports=m},15258:(s,g,i)=>{var o=i(35001),m=i(2141),c=function(l,h,a,f){f===void 0&&(f=[]),!h&&a>0&&(h=o(l)/a);for(var p=l.x1,u=l.y1,v=l.x2,y=l.y2,x=0;x<h;x++){var b=x/h,w=p+(v-p)*b,C=u+(y-u)*b;f.push(new m(w,C))}return f};s.exports=c},26408:s=>{var g=function(i,o){var m=i.x1,c=i.y1,l=i.x2,h=i.y2,a=(l-m)*(l-m)+(h-c)*(h-c);if(a===0)return!1;var f=((c-o.y)*(l-m)-(m-o.x)*(h-c))/a;return Math.abs(f)*Math.sqrt(a)};s.exports=g},98770:s=>{var g=function(i){return Math.abs(i.y1-i.y2)};s.exports=g},35001:s=>{var g=function(i){return Math.sqrt((i.x2-i.x1)*(i.x2-i.x1)+(i.y2-i.y1)*(i.y2-i.y1))};s.exports=g},23031:(s,g,i)=>{var o=i(83419),m=i(13151),c=i(15258),l=i(23777),h=i(65822),a=i(26099),f=new o({initialize:function(u,v,y,x){u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),this.type=l.LINE,this.x1=u,this.y1=v,this.x2=y,this.y2=x},getPoint:function(p,u){return m(this,p,u)},getPoints:function(p,u,v){return c(this,p,u,v)},getRandomPoint:function(p){return h(this,p)},setTo:function(p,u,v,y){return p===void 0&&(p=0),u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y=0),this.x1=p,this.y1=u,this.x2=v,this.y2=y,this},setFromObjects:function(p,u){return this.x1=p.x,this.y1=p.y,this.x2=u.x,this.y2=u.y,this},getPointA:function(p){return p===void 0&&(p=new a),p.set(this.x1,this.y1),p},getPointB:function(p){return p===void 0&&(p=new a),p.set(this.x2,this.y2),p},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(p){this.x1<=this.x2?this.x1=p:this.x2=p}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(p){this.x1>this.x2?this.x1=p:this.x2=p}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(p){this.y1<=this.y2?this.y1=p:this.y2=p}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(p){this.y1>this.y2?this.y1=p:this.y2=p}}});s.exports=f},64795:(s,g,i)=>{var o=i(36383),m=i(15994),c=i(91938),l=function(h){var a=c(h)-o.TAU;return m(a,-Math.PI,Math.PI)};s.exports=l},52616:(s,g,i)=>{var o=i(36383),m=i(91938),c=function(l){return Math.cos(m(l)-o.TAU)};s.exports=c},87231:(s,g,i)=>{var o=i(36383),m=i(91938),c=function(l){return Math.sin(m(l)-o.TAU)};s.exports=c},89662:s=>{var g=function(i,o,m){return i.x1+=o,i.y1+=m,i.x2+=o,i.y2+=m,i};s.exports=g},71165:s=>{var g=function(i){return-((i.x2-i.x1)/(i.y2-i.y1))};s.exports=g},65822:(s,g,i)=>{var o=i(2141),m=function(c,l){l===void 0&&(l=new o);var h=Math.random();return l.x=c.x1+h*(c.x2-c.x1),l.y=c.y1+h*(c.y2-c.y1),l};s.exports=m},69777:(s,g,i)=>{var o=i(91938),m=i(64795),c=function(l,h){return 2*m(h)-Math.PI-o(l)};s.exports=c},39706:(s,g,i)=>{var o=i(64400),m=function(c,l){var h=(c.x1+c.x2)/2,a=(c.y1+c.y2)/2;return o(c,h,a,l)};s.exports=m},82585:(s,g,i)=>{var o=i(64400),m=function(c,l,h){return o(c,l.x,l.y,h)};s.exports=m},64400:s=>{var g=function(i,o,m,c){var l=Math.cos(c),h=Math.sin(c),a=i.x1-o,f=i.y1-m;return i.x1=a*l-f*h+o,i.y1=a*h+f*l+m,a=i.x2-o,f=i.y2-m,i.x2=a*l-f*h+o,i.y2=a*h+f*l+m,i};s.exports=g},62377:s=>{var g=function(i,o,m,c,l){return i.x1=o,i.y1=m,i.x2=o+Math.cos(c)*l,i.y2=m+Math.sin(c)*l,i};s.exports=g},71366:s=>{var g=function(i){return(i.y2-i.y1)/(i.x2-i.x1)};s.exports=g},10809:s=>{var g=function(i){return Math.abs(i.x1-i.x2)};s.exports=g},2529:(s,g,i)=>{var o=i(23031);o.Angle=i(91938),o.BresenhamPoints=i(84993),o.CenterOn=i(36469),o.Clone=i(31116),o.CopyFrom=i(59944),o.Equals=i(59220),o.Extend=i(78177),o.GetEasedPoints=i(26708),o.GetMidPoint=i(32125),o.GetNearestPoint=i(99569),o.GetNormal=i(34638),o.GetPoint=i(13151),o.GetPoints=i(15258),o.GetShortestDistance=i(26408),o.Height=i(98770),o.Length=i(35001),o.NormalAngle=i(64795),o.NormalX=i(52616),o.NormalY=i(87231),o.Offset=i(89662),o.PerpSlope=i(71165),o.Random=i(65822),o.ReflectAngle=i(69777),o.Rotate=i(39706),o.RotateAroundPoint=i(82585),o.RotateAroundXY=i(64400),o.SetToAngle=i(62377),o.Slope=i(71366),o.Width=i(10809),s.exports=o},83997:(s,g,i)=>{var o=i(83419),m=i(87841),c=i(26099);function l(a,f,p,u){var v=a-p,y=f-u,x=v*v+y*y;return Math.sqrt(x)}var h=new o({initialize:function(f,p,u){this.vertex1=f,this.vertex2=p,this.vertex3=u,this.bounds=new m,this._inCenter=new c},getInCenter:function(a){a===void 0&&(a=!0);var f=this.vertex1,p=this.vertex2,u=this.vertex3,v,y,x,b,w,C;a?(v=f.x,y=f.y,x=p.x,b=p.y,w=u.x,C=u.y):(v=f.vx,y=f.vy,x=p.vx,b=p.vy,w=u.vx,C=u.vy);var E=l(w,C,x,b),T=l(v,y,w,C),k=l(x,b,v,y),A=E+T+k;return this._inCenter.set((v*E+x*T+w*k)/A,(y*E+b*T+C*k)/A)},contains:function(a,f,p){var u=this.vertex1,v=this.vertex2,y=this.vertex3,x=u.vx,b=u.vy,w=v.vx,C=v.vy,E=y.vx,T=y.vy;if(p){var k=p.a,A=p.b,I=p.c,B=p.d,M=p.e,O=p.f;x=u.vx*k+u.vy*I+M,b=u.vx*A+u.vy*B+O,w=v.vx*k+v.vy*I+M,C=v.vx*A+v.vy*B+O,E=y.vx*k+y.vy*I+M,T=y.vx*A+y.vy*B+O}var P=E-x,L=T-b,_=w-x,G=C-b,$=a-x,W=f-b,Y=P*P+L*L,z=P*_+L*G,F=P*$+L*W,N=_*_+G*G,j=_*$+G*W,U=Y*N-z*z,V=U===0?0:1/U,q=(N*F-z*j)*V,ot=(Y*j-z*F)*V;return q>=0&&ot>=0&&q+ot<1},isCounterClockwise:function(a){var f=this.vertex1,p=this.vertex2,u=this.vertex3,v=(p.vx-f.vx)*(u.vy-f.vy)-(p.vy-f.vy)*(u.vx-f.vx);return a<=0?v>=0:v<0},load:function(a,f,p,u,v){return p=this.vertex1.load(a,f,p,u,v),p=this.vertex2.load(a,f,p,u,v),p=this.vertex3.load(a,f,p,u,v),p},transformCoordinatesLocal:function(a,f,p,u){return this.vertex1.transformCoordinatesLocal(a,f,p,u),this.vertex2.transformCoordinatesLocal(a,f,p,u),this.vertex3.transformCoordinatesLocal(a,f,p,u),this},updateBounds:function(){var a=this.vertex1,f=this.vertex2,p=this.vertex3,u=this.bounds;return u.x=Math.min(a.vx,f.vx,p.vx),u.y=Math.min(a.vy,f.vy,p.vy),u.width=Math.max(a.vx,f.vx,p.vx)-u.x,u.height=Math.max(a.vy,f.vy,p.vy)-u.y,this},isInView:function(a,f,p,u,v,y,x,b,w,C,E){this.update(u,v,y,x,b,w,C,E);var T=this.vertex1,k=this.vertex2,A=this.vertex3;if(T.ta<=0&&k.ta<=0&&A.ta<=0||f&&!this.isCounterClockwise(p))return!1;var I=this.bounds;I.x=Math.min(T.tx,k.tx,A.tx),I.y=Math.min(T.ty,k.ty,A.ty),I.width=Math.max(T.tx,k.tx,A.tx)-I.x,I.height=Math.max(T.ty,k.ty,A.ty)-I.y;var B=a.x+a.width,M=a.y+a.height;return I.width<=0||I.height<=0||a.width<=0||a.height<=0?!1:!(I.right<a.x||I.bottom<a.y||I.x>B||I.y>M)},scrollUV:function(a,f){return this.vertex1.scrollUV(a,f),this.vertex2.scrollUV(a,f),this.vertex3.scrollUV(a,f),this},scaleUV:function(a,f){return this.vertex1.scaleUV(a,f),this.vertex2.scaleUV(a,f),this.vertex3.scaleUV(a,f),this},setColor:function(a){return this.vertex1.color=a,this.vertex2.color=a,this.vertex3.color=a,this},update:function(a,f,p,u,v,y,x,b){return this.vertex1.update(f,p,u,v,y,x,b,a),this.vertex2.update(f,p,u,v,y,x,b,a),this.vertex3.update(f,p,u,v,y,x,b,a),this},translate:function(a,f){f===void 0&&(f=0);var p=this.vertex1,u=this.vertex2,v=this.vertex3;return p.x+=a,p.y+=f,u.x+=a,u.y+=f,v.x+=a,v.y+=f,this},x:{get:function(){return this.getInCenter().x},set:function(a){var f=this.getInCenter();this.translate(a-f.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(a){var f=this.getInCenter();this.translate(0,a-f.y)}},alpha:{get:function(){var a=this.vertex1,f=this.vertex2,p=this.vertex3;return(a.alpha+f.alpha+p.alpha)/3},set:function(a){this.vertex1.alpha=a,this.vertex2.alpha=a,this.vertex3.alpha=a}},depth:{get:function(){var a=this.vertex1,f=this.vertex2,p=this.vertex3;return(a.vz+f.vz+p.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});s.exports=h},48803:(s,g,i)=>{var o=i(83997),m=i(95540),c=i(37867),l=i(25836),h=i(39318),a=new l,f=new l,p=new c,u=function(v){var y=m(v,"mesh"),x=m(v,"texture",null),b=m(v,"frame"),w=m(v,"width",1),C=m(v,"height",w),E=m(v,"widthSegments",1),T=m(v,"heightSegments",E),k=m(v,"x",0),A=m(v,"y",0),I=m(v,"z",0),B=m(v,"rotateX",0),M=m(v,"rotateY",0),O=m(v,"rotateZ",0),P=m(v,"zIsUp",!0),L=m(v,"isOrtho",y?y.dirtyCache[11]:!1),_=m(v,"colors",[16777215]),G=m(v,"alphas",[1]),$=m(v,"tile",!1),W=m(v,"flipY",!1),Y=m(v,"width",null),z={faces:[],verts:[]};a.set(k,A,I),f.set(B,M,O),p.fromRotationXYTranslation(f,a,P);var F;if(!x&&y)x=y.texture,b||(F=y.frame);else if(y&&typeof x=="string")x=y.scene.sys.textures.get(x);else if(!x)return z;F||(F=x.get(b)),!Y&&L&&x&&y&&(w=F.width/y.height,C=F.height/y.height);var N=w/2,j=C/2,U=Math.floor(E),V=Math.floor(T),q=U+1,ot=V+1,Q=w/U,rt=C/V,Bt=[],K=[],Mt,Ft,dt=0,yt=1,At=0,Ot=1;F&&(dt=F.u0,yt=F.u1,W?(At=F.v1,Ot=F.v0):(At=F.v0,Ot=F.v1));var le=yt-dt,_t=Ot-At;for(Ft=0;Ft<ot;Ft++){var xe=Ft*rt-j;for(Mt=0;Mt<q;Mt++){var ke=Mt*Q-N;K.push(ke,-xe);var ve=dt+le*(Mt/U),Fe=At+_t*(Ft/V);Bt.push(ve,Fe)}}Array.isArray(_)||(_=[_]),Array.isArray(G)||(G=[G]);var Ze=0,ei=0;for(Ft=0;Ft<V;Ft++)for(Mt=0;Mt<U;Mt++){var Ci=(Mt+q*Ft)*2,xt=(Mt+q*(Ft+1))*2,et=(Mt+1+q*(Ft+1))*2,tt=(Mt+1+q*Ft)*2,Nt=_[ei],ie=G[Ze],Ce=new h(K[Ci],K[Ci+1],0,Bt[Ci],Bt[Ci+1],Nt,ie).transformMat4(p),Le=new h(K[xt],K[xt+1],0,Bt[xt],Bt[xt+1],Nt,ie).transformMat4(p),Gi=new h(K[tt],K[tt+1],0,Bt[tt],Bt[tt+1],Nt,ie).transformMat4(p),Sr=new h(K[xt],K[xt+1],0,Bt[xt],Bt[xt+1],Nt,ie).transformMat4(p),lr=new h(K[et],K[et+1],0,Bt[et],Bt[et+1],Nt,ie).transformMat4(p),gr=new h(K[tt],K[tt+1],0,Bt[tt],Bt[tt+1],Nt,ie).transformMat4(p);$&&(Ce.setUVs(dt,Ot),Le.setUVs(dt,At),Gi.setUVs(yt,Ot),Sr.setUVs(dt,At),lr.setUVs(yt,At),gr.setUVs(yt,Ot)),ei++,ei===_.length&&(ei=0),Ze++,Ze===G.length&&(Ze=0),z.verts.push(Ce,Le,Gi,Sr,lr,gr),z.faces.push(new o(Ce,Le,Gi),new o(Sr,lr,gr))}return y&&(y.faces=y.faces.concat(z.faces),y.vertices=y.vertices.concat(z.verts)),z};s.exports=u},34684:(s,g,i)=>{var o=i(83997),m=i(37867),c=i(25836),l=i(39318),h=new c,a=new c,f=new m,p=function(u,v,y,x,b,w,C,E,T,k){y===void 0&&(y=1),x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=0),C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=0),k===void 0&&(k=!0);var A={faces:[],verts:[]},I=u.materials;h.set(x,b,w),a.set(C,E,T),f.fromRotationXYTranslation(a,h,k);for(var B=0;B<u.models.length;B++)for(var M=u.models[B],O=M.vertices,P=M.textureCoords,L=M.faces,_=0;_<L.length;_++){var G=L[_],$=G.vertices[0],W=G.vertices[1],Y=G.vertices[2],z=O[$.vertexIndex],F=O[W.vertexIndex],N=O[Y.vertexIndex],j=$.textureCoordsIndex,U=W.textureCoordsIndex,V=Y.textureCoordsIndex,q=j===-1?{u:0,v:1}:P[j],ot=U===-1?{u:0,v:0}:P[U],Q=V===-1?{u:1,v:1}:P[V],rt=16777215;G.material!==""&&I[G.material]&&(rt=I[G.material]);var Bt=new l(z.x*y,z.y*y,z.z*y,q.u,q.v,rt).transformMat4(f),K=new l(F.x*y,F.y*y,F.z*y,ot.u,ot.v,rt).transformMat4(f),Mt=new l(N.x*y,N.y*y,N.z*y,Q.u,Q.v,rt).transformMat4(f);A.verts.push(Bt,K,Mt),A.faces.push(new o(Bt,K,Mt))}return v&&(v.faces=v.faces.concat(A.faces),v.vertices=v.vertices.concat(A.verts)),A};s.exports=p},92515:(s,g,i)=>{var o=i(83997),m=i(39318),c=function(l,h,a,f,p,u,v,y){if(f===void 0&&(f=!1),u===void 0&&(u=16777215),v===void 0&&(v=1),y===void 0&&(y=!1),l.length!==h.length&&!f){console.warn("GenerateVerts: vertices and uvs count not equal");return}var x={faces:[],vertices:[]},b,w,C,E,T,k,A,I,B,M,O,P=f?3:2,L=Array.isArray(u),_=Array.isArray(v);if(Array.isArray(a)&&a.length>0)for(b=0;b<a.length;b++){var G=a[b],$=a[b]*2,W=a[b]*P;w=l[W],C=l[W+1],E=f?l[W+2]:0,T=h[$],k=h[$+1],y&&(k=1-k),A=L?u[G]:u,I=_?v[G]:v,B=0,M=0,O=0,p&&(B=p[W],M=p[W+1],O=f?p[W+2]:0),x.vertices.push(new m(w,C,E,T,k,A,I,B,M,O))}else{var Y=0,z=0;for(b=0;b<l.length;b+=P)w=l[b],C=l[b+1],E=f?l[b+2]:0,T=h[Y],k=h[Y+1],A=L?u[z]:u,I=_?v[z]:v,B=0,M=0,O=0,p&&(B=p[b],M=p[b+1],O=f?p[b+2]:0),x.vertices.push(new m(w,C,E,T,k,A,I,B,M,O)),Y+=2,z++}for(b=0;b<x.vertices.length;b+=3){var F=x.vertices[b],N=x.vertices[b+1],j=x.vertices[b+2];x.faces.push(new o(F,N,j))}return x};s.exports=c},85048:s=>{var g=!0,i="untitled",o="",m="";function c(w){var C=w.indexOf("#");return C>-1?w.substring(0,C):w}function l(w){return w.models.length===0&&w.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),o="",w.models[w.models.length-1]}function h(w,C){var E=w.length>=2?w[1]:i;C.models.push({faces:[],name:E,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function a(w){w.length===2&&(o=w[1])}function f(w,C){var E=w.length,T=E>=2?parseFloat(w[1]):0,k=E>=3?parseFloat(w[2]):0,A=E>=4?parseFloat(w[3]):0;l(C).vertices.push({x:T,y:k,z:A})}function p(w,C){var E=w.length,T=E>=2?parseFloat(w[1]):0,k=E>=3?parseFloat(w[2]):0,A=E>=4?parseFloat(w[3]):0;isNaN(T)&&(T=0),isNaN(k)&&(k=0),isNaN(A)&&(A=0),g&&(k=1-k),l(C).textureCoords.push({u:T,v:k,w:A})}function u(w,C){var E=w.length,T=E>=2?parseFloat(w[1]):0,k=E>=3?parseFloat(w[2]):0,A=E>=4?parseFloat(w[3]):0;l(C).vertexNormals.push({x:T,y:k,z:A})}function v(w,C){var E=w.length-1;if(!(E<3)){for(var T={group:o,material:m,vertices:[]},k=0;k<E;k++){var A=w[k+1],I=A.split("/"),B=I.length;if(!(B<1||B>3)){var M=0,O=0,P=0;M=parseInt(I[0],10),B>1&&I[1]!==""&&(O=parseInt(I[1],10)),B>2&&(P=parseInt(I[2],10)),M!==0&&(M<0&&(M=l(C).vertices.length+1+M),O-=1,M-=1,P-=1,T.vertices.push({textureCoordsIndex:O,vertexIndex:M,vertexNormalIndex:P}))}}l(C).faces.push(T)}}function y(w,C){w.length>=2&&C.materialLibraries.push(w[1])}function x(w){w.length>=2&&(m=w[1])}var b=function(w,C){C===void 0&&(C=!0),g=C;var E={materials:{},materialLibraries:[],models:[]};o="",m="";for(var T=w.split(`
`),k=0;k<T.length;k++){var A=c(T[k]),I=A.replace(/\s\s+/g," ").trim().split(" ");switch(I[0].toLowerCase()){case"o":h(I,E);break;case"g":a(I);break;case"v":f(I,E);break;case"vt":p(I,E);break;case"vn":u(I,E);break;case"f":v(I,E);break;case"mtllib":y(I,E);break;case"usemtl":x(I);break}}return E};s.exports=b},61485:(s,g,i)=>{var o=i(37589),m=function(c){for(var l={},h=c.split(`
`),a="",f=0;f<h.length;f++){var p=h[f].trim();if(!(p.indexOf("#")===0||p==="")){var u=p.replace(/\s\s+/g," ").trim().split(" ");switch(u[0].toLowerCase()){case"newmtl":{a=u[1];break}case"kd":{var v=Math.floor(u[1]*255),y=u.length>=2?Math.floor(u[2]*255):v,x=u.length>=3?Math.floor(u[3]*255):v;l[a]=o(v,y,x);break}}}}return l};s.exports=m},92570:s=>{var g=function(i,o,m,c){var l,h;if(m===void 0&&c===void 0){var a=i.getInCenter();l=a.x,h=a.y}var f=Math.cos(o),p=Math.sin(o),u=i.vertex1,v=i.vertex2,y=i.vertex3,x=u.x-l,b=u.y-h;u.set(x*f-b*p+l,x*p+b*f+h),x=v.x-l,b=v.y-h,v.set(x*f-b*p+l,x*p+b*f+h),x=y.x-l,b=y.y-h,y.set(x*f-b*p+l,x*p+b*f+h)};s.exports=g},39318:(s,g,i)=>{var o=i(83419),m=i(70554),c=i(25836),l=new o({Extends:c,initialize:function(a,f,p,u,v,y,x,b,w,C){y===void 0&&(y=16777215),x===void 0&&(x=1),b===void 0&&(b=0),w===void 0&&(w=0),C===void 0&&(C=0),c.call(this,a,f,p),this.vx=0,this.vy=0,this.vz=0,this.nx=b,this.ny=w,this.nz=C,this.u=u,this.v=v,this.color=y,this.alpha=x,this.tx=0,this.ty=0,this.ta=0,this.tu=u,this.tv=v},setUVs:function(h,a){return this.u=h,this.v=a,this.tu=h,this.tv=a,this},scrollUV:function(h,a){return this.tu+=h,this.tv+=a,this},scaleUV:function(h,a){return this.tu=this.u*h,this.tv=this.v*a,this},transformCoordinatesLocal:function(h,a,f,p){var u=this.x,v=this.y,y=this.z,x=h.val,b=u*x[0]+v*x[4]+y*x[8]+x[12],w=u*x[1]+v*x[5]+y*x[9]+x[13],C=u*x[2]+v*x[6]+y*x[10]+x[14],E=u*x[3]+v*x[7]+y*x[11]+x[15];this.vx=b/E*a,this.vy=-(w/E)*f,p<=0?this.vz=C/E:this.vz=-(C/E)},resize:function(h,a,f,p,u,v){return this.x=h,this.y=a,this.vx=this.x*f,this.vy=-this.y*p,this.vz=0,u<.5?this.vx+=f*(.5-u):u>.5&&(this.vx-=f*(u-.5)),v<.5?this.vy+=p*(.5-v):v>.5&&(this.vy-=p*(v-.5)),this},update:function(h,a,f,p,u,v,y,x){var b=this.vx*h+this.vy*f+u,w=this.vx*a+this.vy*p+v;return y&&(b=Math.round(b),w=Math.round(w)),this.tx=b,this.ty=w,this.ta=this.alpha*x,this},load:function(h,a,f,p,u){return h[++f]=this.tx,h[++f]=this.ty,h[++f]=this.tu,h[++f]=this.tv,h[++f]=p,h[++f]=u,a[++f]=m.getTintAppendFloatAlpha(this.color,this.ta),f}});s.exports=l},73090:(s,g,i)=>{var o={Face:i(83997),GenerateGridVerts:i(48803),GenerateObjVerts:i(34684),GenerateVerts:i(92515),ParseObj:i(85048),ParseObjMaterial:i(61485),RotateFace:i(92570),Vertex:i(39318)};s.exports=o},96550:s=>{var g=function(i){return i.setTo(Math.ceil(i.x),Math.ceil(i.y))};s.exports=g},99706:(s,g,i)=>{var o=i(2141),m=function(c){return new o(c.x,c.y)};s.exports=m},68010:s=>{var g=function(i,o){return o.setTo(i.x,i.y)};s.exports=g},27814:s=>{var g=function(i,o){return i.x===o.x&&i.y===o.y};s.exports=g},73565:s=>{var g=function(i){return i.setTo(Math.floor(i.x),Math.floor(i.y))};s.exports=g},87555:(s,g,i)=>{var o=i(2141),m=function(c,l){if(l===void 0&&(l=new o),!Array.isArray(c))throw new Error("GetCentroid points argument must be an array");var h=c.length;if(h<1)throw new Error("GetCentroid points array must not be empty");if(h===1)l.x=c[0].x,l.y=c[0].y;else{for(var a=0;a<h;a++)l.x+=c[a].x,l.y+=c[a].y;l.x/=h,l.y/=h}return l};s.exports=m},28793:s=>{var g=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)};s.exports=g},44405:s=>{var g=function(i){return i.x*i.x+i.y*i.y};s.exports=g},20873:(s,g,i)=>{var o=i(87841),m=function(c,l){l===void 0&&(l=new o);for(var h=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,p=Number.POSITIVE_INFINITY,u=0;u<c.length;u++){var v=c[u];v.x>h&&(h=v.x),v.x<a&&(a=v.x),v.y>f&&(f=v.y),v.y<p&&(p=v.y)}return l.x=a,l.y=p,l.width=h-a,l.height=f-p,l};s.exports=m},26152:(s,g,i)=>{var o=i(2141),m=function(c,l,h,a){return h===void 0&&(h=0),a===void 0&&(a=new o),a.x=c.x+(l.x-c.x)*h,a.y=c.y+(l.y-c.y)*h,a};s.exports=m},55767:s=>{var g=function(i){return i.setTo(i.y,i.x)};s.exports=g},79432:(s,g,i)=>{var o=i(2141),m=function(c,l){return l===void 0&&(l=new o),l.setTo(-c.x,-c.y)};s.exports=m},2141:(s,g,i)=>{var o=i(83419),m=i(23777),c=new o({initialize:function(h,a){h===void 0&&(h=0),a===void 0&&(a=h),this.type=m.POINT,this.x=h,this.y=a},setTo:function(l,h){return l===void 0&&(l=0),h===void 0&&(h=l),this.x=l,this.y=h,this}});s.exports=c},72930:(s,g,i)=>{var o=i(2141),m=i(44405),c=function(l,h,a){a===void 0&&(a=new o);var f=l.x*h.x+l.y*h.y,p=f/m(h);return p!==0&&(a.x=p*h.x,a.y=p*h.y),a};s.exports=c},62880:(s,g,i)=>{var o=i(2141),m=function(c,l,h){h===void 0&&(h=new o);var a=c.x*l.x+c.y*l.y;return a!==0&&(h.x=a*l.x,h.y=a*l.y),h};s.exports=m},15093:(s,g,i)=>{var o=i(28793),m=function(c,l){if(c.x!==0||c.y!==0){var h=o(c);c.x/=h,c.y/=h}return c.x*=l,c.y*=l,c};s.exports=m},43711:(s,g,i)=>{var o=i(2141);o.Ceil=i(96550),o.Clone=i(99706),o.CopyFrom=i(68010),o.Equals=i(27814),o.Floor=i(73565),o.GetCentroid=i(87555),o.GetMagnitude=i(28793),o.GetMagnitudeSq=i(44405),o.GetRectangleFromPoints=i(20873),o.Interpolate=i(26152),o.Invert=i(55767),o.Negative=i(79432),o.Project=i(72930),o.ProjectUnit=i(62880),o.SetMagnitude=i(15093),s.exports=o},12306:(s,g,i)=>{var o=i(25717),m=function(c){return new o(c.points)};s.exports=m},63814:s=>{var g=function(i,o,m){for(var c=!1,l=-1,h=i.points.length-1;++l<i.points.length;h=l){var a=i.points[l].x,f=i.points[l].y,p=i.points[h].x,u=i.points[h].y;(f<=m&&m<u||u<=m&&m<f)&&o<(p-a)*(m-f)/(u-f)+a&&(c=!c)}return c};s.exports=g},99338:(s,g,i)=>{var o=i(63814),m=function(c,l){return o(c,l.x,l.y)};s.exports=m},94811:s=>{function g(z,F,N){N=N||2;var j=F&&F.length,U=j?F[0]*N:z.length,V=i(z,0,U,N,!0),q=[];if(!V||V.next===V.prev)return q;var ot,Q,rt,Bt,K,Mt,Ft;if(j&&(V=f(z,F,V,N)),z.length>80*N){ot=rt=z[0],Q=Bt=z[1];for(var dt=N;dt<U;dt+=N)K=z[dt],Mt=z[dt+1],K<ot&&(ot=K),Mt<Q&&(Q=Mt),K>rt&&(rt=K),Mt>Bt&&(Bt=Mt);Ft=Math.max(rt-ot,Bt-Q),Ft=Ft!==0?32767/Ft:0}return m(V,q,N,ot,Q,Ft,0),q}function i(z,F,N,j,U){var V,q;if(U===Y(z,F,N,j)>0)for(V=F;V<N;V+=j)q=G(V,z[V],z[V+1],q);else for(V=N-j;V>=F;V-=j)q=G(V,z[V],z[V+1],q);return q&&A(q,q.next)&&($(q),q=q.next),q}function o(z,F){if(!z)return z;F||(F=z);var N=z,j;do if(j=!1,!N.steiner&&(A(N,N.next)||k(N.prev,N,N.next)===0)){if($(N),N=F=N.prev,N===N.next)break;j=!0}else N=N.next;while(j||N!==F);return F}function m(z,F,N,j,U,V,q){if(z){!q&&V&&x(z,j,U,V);for(var ot=z,Q,rt;z.prev!==z.next;){if(Q=z.prev,rt=z.next,V?l(z,j,U,V):c(z)){F.push(Q.i/N|0),F.push(z.i/N|0),F.push(rt.i/N|0),$(z),z=rt.next,ot=rt.next;continue}if(z=rt,z===ot){q?q===1?(z=h(o(z),F,N),m(z,F,N,j,U,V,2)):q===2&&a(z,F,N,j,U,V):m(o(z),F,N,j,U,V,1);break}}}}function c(z){var F=z.prev,N=z,j=z.next;if(k(F,N,j)>=0)return!1;for(var U=F.x,V=N.x,q=j.x,ot=F.y,Q=N.y,rt=j.y,Bt=U<V?U<q?U:q:V<q?V:q,K=ot<Q?ot<rt?ot:rt:Q<rt?Q:rt,Mt=U>V?U>q?U:q:V>q?V:q,Ft=ot>Q?ot>rt?ot:rt:Q>rt?Q:rt,dt=j.next;dt!==F;){if(dt.x>=Bt&&dt.x<=Mt&&dt.y>=K&&dt.y<=Ft&&E(U,ot,V,Q,q,rt,dt.x,dt.y)&&k(dt.prev,dt,dt.next)>=0)return!1;dt=dt.next}return!0}function l(z,F,N,j){var U=z.prev,V=z,q=z.next;if(k(U,V,q)>=0)return!1;for(var ot=U.x,Q=V.x,rt=q.x,Bt=U.y,K=V.y,Mt=q.y,Ft=ot<Q?ot<rt?ot:rt:Q<rt?Q:rt,dt=Bt<K?Bt<Mt?Bt:Mt:K<Mt?K:Mt,yt=ot>Q?ot>rt?ot:rt:Q>rt?Q:rt,At=Bt>K?Bt>Mt?Bt:Mt:K>Mt?K:Mt,Ot=w(Ft,dt,F,N,j),le=w(yt,At,F,N,j),_t=z.prevZ,xe=z.nextZ;_t&&_t.z>=Ot&&xe&&xe.z<=le;){if(_t.x>=Ft&&_t.x<=yt&&_t.y>=dt&&_t.y<=At&&_t!==U&&_t!==q&&E(ot,Bt,Q,K,rt,Mt,_t.x,_t.y)&&k(_t.prev,_t,_t.next)>=0||(_t=_t.prevZ,xe.x>=Ft&&xe.x<=yt&&xe.y>=dt&&xe.y<=At&&xe!==U&&xe!==q&&E(ot,Bt,Q,K,rt,Mt,xe.x,xe.y)&&k(xe.prev,xe,xe.next)>=0))return!1;xe=xe.nextZ}for(;_t&&_t.z>=Ot;){if(_t.x>=Ft&&_t.x<=yt&&_t.y>=dt&&_t.y<=At&&_t!==U&&_t!==q&&E(ot,Bt,Q,K,rt,Mt,_t.x,_t.y)&&k(_t.prev,_t,_t.next)>=0)return!1;_t=_t.prevZ}for(;xe&&xe.z<=le;){if(xe.x>=Ft&&xe.x<=yt&&xe.y>=dt&&xe.y<=At&&xe!==U&&xe!==q&&E(ot,Bt,Q,K,rt,Mt,xe.x,xe.y)&&k(xe.prev,xe,xe.next)>=0)return!1;xe=xe.nextZ}return!0}function h(z,F,N){var j=z;do{var U=j.prev,V=j.next.next;!A(U,V)&&I(U,j,j.next,V)&&P(U,V)&&P(V,U)&&(F.push(U.i/N|0),F.push(j.i/N|0),F.push(V.i/N|0),$(j),$(j.next),j=z=V),j=j.next}while(j!==z);return o(j)}function a(z,F,N,j,U,V){var q=z;do{for(var ot=q.next.next;ot!==q.prev;){if(q.i!==ot.i&&T(q,ot)){var Q=_(q,ot);q=o(q,q.next),Q=o(Q,Q.next),m(q,F,N,j,U,V,0),m(Q,F,N,j,U,V,0);return}ot=ot.next}q=q.next}while(q!==z)}function f(z,F,N,j){var U=[],V,q,ot,Q,rt;for(V=0,q=F.length;V<q;V++)ot=F[V]*j,Q=V<q-1?F[V+1]*j:z.length,rt=i(z,ot,Q,j,!1),rt===rt.next&&(rt.steiner=!0),U.push(C(rt));for(U.sort(p),V=0;V<U.length;V++)N=u(U[V],N);return N}function p(z,F){return z.x-F.x}function u(z,F){var N=v(z,F);if(!N)return F;var j=_(N,z);return o(j,j.next),o(N,N.next)}function v(z,F){var N=F,j=z.x,U=z.y,V=-1/0,q;do{if(U<=N.y&&U>=N.next.y&&N.next.y!==N.y){var ot=N.x+(U-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(ot<=j&&ot>V&&(V=ot,q=N.x<N.next.x?N:N.next,ot===j))return q}N=N.next}while(N!==F);if(!q)return null;var Q=q,rt=q.x,Bt=q.y,K=1/0,Mt;N=q;do j>=N.x&&N.x>=rt&&j!==N.x&&E(U<Bt?j:V,U,rt,Bt,U<Bt?V:j,U,N.x,N.y)&&(Mt=Math.abs(U-N.y)/(j-N.x),P(N,z)&&(Mt<K||Mt===K&&(N.x>q.x||N.x===q.x&&y(q,N)))&&(q=N,K=Mt)),N=N.next;while(N!==Q);return q}function y(z,F){return k(z.prev,z,F.prev)<0&&k(F.next,z,z.next)<0}function x(z,F,N,j){var U=z;do U.z===0&&(U.z=w(U.x,U.y,F,N,j)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==z);U.prevZ.nextZ=null,U.prevZ=null,b(U)}function b(z){var F,N,j,U,V,q,ot,Q,rt=1;do{for(N=z,z=null,V=null,q=0;N;){for(q++,j=N,ot=0,F=0;F<rt&&(ot++,j=j.nextZ,!!j);F++);for(Q=rt;ot>0||Q>0&&j;)ot!==0&&(Q===0||!j||N.z<=j.z)?(U=N,N=N.nextZ,ot--):(U=j,j=j.nextZ,Q--),V?V.nextZ=U:z=U,U.prevZ=V,V=U;N=j}V.nextZ=null,rt*=2}while(q>1);return z}function w(z,F,N,j,U){return z=(z-N)*U|0,F=(F-j)*U|0,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,F=(F|F<<8)&16711935,F=(F|F<<4)&252645135,F=(F|F<<2)&858993459,F=(F|F<<1)&1431655765,z|F<<1}function C(z){var F=z,N=z;do(F.x<N.x||F.x===N.x&&F.y<N.y)&&(N=F),F=F.next;while(F!==z);return N}function E(z,F,N,j,U,V,q,ot){return(U-q)*(F-ot)>=(z-q)*(V-ot)&&(z-q)*(j-ot)>=(N-q)*(F-ot)&&(N-q)*(V-ot)>=(U-q)*(j-ot)}function T(z,F){return z.next.i!==F.i&&z.prev.i!==F.i&&!O(z,F)&&(P(z,F)&&P(F,z)&&L(z,F)&&(k(z.prev,z,F.prev)||k(z,F.prev,F))||A(z,F)&&k(z.prev,z,z.next)>0&&k(F.prev,F,F.next)>0)}function k(z,F,N){return(F.y-z.y)*(N.x-F.x)-(F.x-z.x)*(N.y-F.y)}function A(z,F){return z.x===F.x&&z.y===F.y}function I(z,F,N,j){var U=M(k(z,F,N)),V=M(k(z,F,j)),q=M(k(N,j,z)),ot=M(k(N,j,F));return!!(U!==V&&q!==ot||U===0&&B(z,N,F)||V===0&&B(z,j,F)||q===0&&B(N,z,j)||ot===0&&B(N,F,j))}function B(z,F,N){return F.x<=Math.max(z.x,N.x)&&F.x>=Math.min(z.x,N.x)&&F.y<=Math.max(z.y,N.y)&&F.y>=Math.min(z.y,N.y)}function M(z){return z>0?1:z<0?-1:0}function O(z,F){var N=z;do{if(N.i!==z.i&&N.next.i!==z.i&&N.i!==F.i&&N.next.i!==F.i&&I(N,N.next,z,F))return!0;N=N.next}while(N!==z);return!1}function P(z,F){return k(z.prev,z,z.next)<0?k(z,F,z.next)>=0&&k(z,z.prev,F)>=0:k(z,F,z.prev)<0||k(z,z.next,F)<0}function L(z,F){var N=z,j=!1,U=(z.x+F.x)/2,V=(z.y+F.y)/2;do N.y>V!=N.next.y>V&&N.next.y!==N.y&&U<(N.next.x-N.x)*(V-N.y)/(N.next.y-N.y)+N.x&&(j=!j),N=N.next;while(N!==z);return j}function _(z,F){var N=new W(z.i,z.x,z.y),j=new W(F.i,F.x,F.y),U=z.next,V=F.prev;return z.next=F,F.prev=z,N.next=U,U.prev=N,j.next=N,N.prev=j,V.next=j,j.prev=V,j}function G(z,F,N,j){var U=new W(z,F,N);return j?(U.next=j.next,U.prev=j,j.next.prev=U,j.next=U):(U.prev=U,U.next=U),U}function $(z){z.next.prev=z.prev,z.prev.next=z.next,z.prevZ&&(z.prevZ.nextZ=z.nextZ),z.nextZ&&(z.nextZ.prevZ=z.prevZ)}function W(z,F,N){this.i=z,this.x=F,this.y=N,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}g.deviation=function(z,F,N,j){var U=F&&F.length,V=U?F[0]*N:z.length,q=Math.abs(Y(z,0,V,N));if(U)for(var ot=0,Q=F.length;ot<Q;ot++){var rt=F[ot]*N,Bt=ot<Q-1?F[ot+1]*N:z.length;q-=Math.abs(Y(z,rt,Bt,N))}var K=0;for(ot=0;ot<j.length;ot+=3){var Mt=j[ot]*N,Ft=j[ot+1]*N,dt=j[ot+2]*N;K+=Math.abs((z[Mt]-z[dt])*(z[Ft+1]-z[Mt+1])-(z[Mt]-z[Ft])*(z[dt+1]-z[Mt+1]))}return q===0&&K===0?0:Math.abs((K-q)/q)};function Y(z,F,N,j){for(var U=0,V=F,q=N-j;V<N;V+=j)U+=(z[q]-z[V])*(z[V+1]+z[q+1]),q=V;return U}g.flatten=function(z){for(var F=z[0][0].length,N={vertices:[],holes:[],dimensions:F},j=0,U=0;U<z.length;U++){for(var V=0;V<z[U].length;V++)for(var q=0;q<F;q++)N.vertices.push(z[U][V][q]);U>0&&(j+=z[U-1].length,N.holes.push(j))}return N},s.exports=g},13829:(s,g,i)=>{var o=i(87841),m=function(c,l){l===void 0&&(l=new o);for(var h=1/0,a=1/0,f=-h,p=-a,u,v=0;v<c.points.length;v++)u=c.points[v],h=Math.min(h,u.x),a=Math.min(a,u.y),f=Math.max(f,u.x),p=Math.max(p,u.y);return l.x=h,l.y=a,l.width=f-h,l.height=p-a,l};s.exports=m},26173:s=>{var g=function(i,o){o===void 0&&(o=[]);for(var m=0;m<i.points.length;m++)o.push(i.points[m].x),o.push(i.points[m].y);return o};s.exports=g},9564:(s,g,i)=>{var o=i(35001),m=i(23031),c=i(30052),l=function(h,a,f,p){p===void 0&&(p=[]);var u=h.points,v=c(h);!a&&f>0&&(a=v/f);for(var y=0;y<a;y++)for(var x=v*(y/a),b=0,w=0;w<u.length;w++){var C=u[w],E=u[(w+1)%u.length],T=new m(C.x,C.y,E.x,E.y),k=o(T);if(x<b||x>b+k){b+=k;continue}var A=T.getPoint((x-b)/k);p.push(A);break}return p};s.exports=l},30052:(s,g,i)=>{var o=i(35001),m=i(23031),c=function(l){for(var h=l.points,a=0,f=0;f<h.length;f++){var p=h[f],u=h[(f+1)%h.length],v=new m(p.x,p.y,u.x,u.y);a+=o(v)}return a};s.exports=c},25717:(s,g,i)=>{var o=i(83419),m=i(63814),c=i(9564),l=i(23777),h=new o({initialize:function(f){this.type=l.POLYGON,this.area=0,this.points=[],f&&this.setTo(f)},contains:function(a,f){return m(this,a,f)},setTo:function(a){if(this.area=0,this.points=[],typeof a=="string"&&(a=a.split(" ")),!Array.isArray(a))return this;for(var f,p=0;p<a.length;p++)f={x:0,y:0},typeof a[p]=="number"||typeof a[p]=="string"?(f.x=parseFloat(a[p]),f.y=parseFloat(a[p+1]),p++):Array.isArray(a[p])?(f.x=a[p][0],f.y=a[p][1]):(f.x=a[p].x,f.y=a[p].y),this.points.push(f);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var a=0,f,p,u=0;u<this.points.length-1;u++)f=this.points[u],p=this.points[u+1],a+=(p.x-f.x)*(f.y+p.y);return f=this.points[0],p=this.points[this.points.length-1],a+=(f.x-p.x)*(p.y+f.y),this.area=-a*.5,this.area},getPoints:function(a,f,p){return c(this,a,f,p)}});s.exports=h},8133:s=>{var g=function(i){return i.points.reverse(),i};s.exports=g},29524:s=>{function g(h,a){var f=h.x-a.x,p=h.y-a.y;return f*f+p*p}function i(h,a,f){var p=a.x,u=a.y,v=f.x-p,y=f.y-u;if(v!==0||y!==0){var x=((h.x-p)*v+(h.y-u)*y)/(v*v+y*y);x>1?(p=f.x,u=f.y):x>0&&(p+=v*x,u+=y*x)}return v=h.x-p,y=h.y-u,v*v+y*y}function o(h,a){for(var f=h[0],p=[f],u,v=1,y=h.length;v<y;v++)u=h[v],g(u,f)>a&&(p.push(u),f=u);return f!==u&&p.push(u),p}function m(h,a,f,p,u){for(var v=p,y,x=a+1;x<f;x++){var b=i(h[x],h[a],h[f]);b>v&&(y=x,v=b)}v>p&&(y-a>1&&m(h,a,y,p,u),u.push(h[y]),f-y>1&&m(h,y,f,p,u))}function c(h,a){var f=h.length-1,p=[h[0]];return m(h,0,f,a,p),p.push(h[f]),p}var l=function(h,a,f){a===void 0&&(a=1),f===void 0&&(f=!1);var p=h.points;if(p.length>2){var u=a*a;f||(p=o(p,u)),h.setTo(c(p,u))}return h};s.exports=l},5469:s=>{var g=function(o,m){return o[0]=m[0],o[1]=m[1],o},i=function(o){var m,c=[],l=o.points;for(m=0;m<l.length;m++)c.push([l[m].x,l[m].y]);var h=[];for(c.length>0&&h.push(g([0,0],c[0])),m=0;m<c.length-1;m++){var a=c[m],f=c[m+1],p=a[0],u=a[1],v=f[0],y=f[1];h.push([.85*p+.15*v,.85*u+.15*y]),h.push([.15*p+.85*v,.15*u+.85*y])}return c.length>1&&h.push(g([0,0],c[c.length-1])),o.setTo(h)};s.exports=i},24709:s=>{var g=function(i,o,m){for(var c=i.points,l=0;l<c.length;l++)c[l].x+=o,c[l].y+=m;return i};s.exports=g},58423:(s,g,i)=>{var o=i(25717);o.Clone=i(12306),o.Contains=i(63814),o.ContainsPoint=i(99338),o.Earcut=i(94811),o.GetAABB=i(13829),o.GetNumberArray=i(26173),o.GetPoints=i(9564),o.Perimeter=i(30052),o.Reverse=i(8133),o.Simplify=i(29524),o.Smooth=i(5469),o.Translate=i(24709),s.exports=o},62224:s=>{var g=function(i){return i.width*i.height};s.exports=g},98615:s=>{var g=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i};s.exports=g},31688:s=>{var g=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),i};s.exports=g},67502:s=>{var g=function(i,o,m){return i.x=o-i.width/2,i.y=m-i.height/2,i};s.exports=g},65085:(s,g,i)=>{var o=i(87841),m=function(c){return new o(c.x,c.y,c.width,c.height)};s.exports=m},37303:s=>{var g=function(i,o,m){return i.width<=0||i.height<=0?!1:i.x<=o&&i.x+i.width>=o&&i.y<=m&&i.y+i.height>=m};s.exports=g},96553:(s,g,i)=>{var o=i(37303),m=function(c,l){return o(c,l.x,l.y)};s.exports=m},70273:s=>{var g=function(i,o){return o.width*o.height>i.width*i.height?!1:o.x>i.x&&o.x<i.right&&o.right>i.x&&o.right<i.right&&o.y>i.y&&o.y<i.bottom&&o.bottom>i.y&&o.bottom<i.bottom};s.exports=g},43459:s=>{var g=function(i,o){return o.setTo(i.x,i.y,i.width,i.height)};s.exports=g},77493:s=>{var g=function(i,o){return o===void 0&&(o=[]),o.push({x:i.x,y:i.y}),o.push({x:i.right,y:i.y}),o.push({x:i.right,y:i.bottom}),o.push({x:i.x,y:i.bottom}),o};s.exports=g},9219:s=>{var g=function(i,o){return i.x===o.x&&i.y===o.y&&i.width===o.width&&i.height===o.height};s.exports=g},53751:(s,g,i)=>{var o=i(8249),m=function(c,l){var h=o(c);return h<o(l)?c.setSize(l.height*h,l.height):c.setSize(l.width,l.width/h),c.setPosition(l.centerX-c.width/2,l.centerY-c.height/2)};s.exports=m},16088:(s,g,i)=>{var o=i(8249),m=function(c,l){var h=o(c);return h>o(l)?c.setSize(l.height*h,l.height):c.setSize(l.width,l.width/h),c.setPosition(l.centerX-c.width/2,l.centerY-c.height/2)};s.exports=m},80774:s=>{var g=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i};s.exports=g},83859:s=>{var g=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i.width=Math.floor(i.width),i.height=Math.floor(i.height),i};s.exports=g},19217:(s,g,i)=>{var o=i(87841),m=i(36383),c=function(l,h){if(h===void 0&&(h=new o),l.length===0)return h;for(var a=Number.MAX_VALUE,f=Number.MAX_VALUE,p=m.MIN_SAFE_INTEGER,u=m.MIN_SAFE_INTEGER,v,y,x,b=0;b<l.length;b++)v=l[b],Array.isArray(v)?(y=v[0],x=v[1]):(y=v.x,x=v.y),a=Math.min(a,y),f=Math.min(f,x),p=Math.max(p,y),u=Math.max(u,x);return h.x=a,h.y=f,h.width=p-a,h.height=u-f,h};s.exports=c},9477:(s,g,i)=>{var o=i(87841),m=function(c,l,h,a,f){return f===void 0&&(f=new o),f.setTo(Math.min(c,h),Math.min(l,a),Math.abs(c-h),Math.abs(l-a))};s.exports=m},8249:s=>{var g=function(i){return i.height===0?NaN:i.width/i.height};s.exports=g},27165:(s,g,i)=>{var o=i(2141),m=function(c,l){return l===void 0&&(l=new o),l.x=c.centerX,l.y=c.centerY,l};s.exports=m},20812:(s,g,i)=>{var o=i(13019),m=i(2141),c=function(l,h,a){if(a===void 0&&(a=new m),h<=0||h>=1)return a.x=l.x,a.y=l.y,a;var f=o(l)*h;return h>.5?(f-=l.width+l.height,f<=l.width?(a.x=l.right-f,a.y=l.bottom):(a.x=l.x,a.y=l.bottom-(f-l.width))):f<=l.width?(a.x=l.x+f,a.y=l.y):(a.x=l.right,a.y=l.y+(f-l.width)),a};s.exports=c},34819:(s,g,i)=>{var o=i(20812),m=i(13019),c=function(l,h,a,f){f===void 0&&(f=[]),!h&&a>0&&(h=m(l)/a);for(var p=0;p<h;p++){var u=p/h;f.push(o(l,u))}return f};s.exports=c},51313:(s,g,i)=>{var o=i(2141),m=function(c,l){return l===void 0&&(l=new o),l.x=c.width,l.y=c.height,l};s.exports=m},86091:(s,g,i)=>{var o=i(67502),m=function(c,l,h){var a=c.centerX,f=c.centerY;return c.setSize(c.width+l*2,c.height+h*2),o(c,a,f)};s.exports=m},53951:(s,g,i)=>{var o=i(87841),m=i(59996),c=function(l,h,a){return a===void 0&&(a=new o),m(l,h)?(a.x=Math.max(l.x,h.x),a.y=Math.max(l.y,h.y),a.width=Math.min(l.right,h.right)-a.x,a.height=Math.min(l.bottom,h.bottom)-a.y):a.setEmpty(),a};s.exports=c},14649:(s,g,i)=>{var o=i(13019),m=i(2141),c=function(l,h,a,f){if(f===void 0&&(f=[]),!h&&!a)return f;h?a=Math.round(o(l)/h):h=o(l)/a;for(var p=l.x,u=l.y,v=0,y=0;y<a;y++)switch(f.push(new m(p,u)),v){case 0:p+=h,p>=l.right&&(v=1,u+=p-l.right,p=l.right);break;case 1:u+=h,u>=l.bottom&&(v=2,p-=u-l.bottom,u=l.bottom);break;case 2:p-=h,p<=l.left&&(v=3,u-=l.left-p,p=l.left);break;case 3:u-=h,u<=l.top&&(v=0,u=l.top);break}return f};s.exports=c},33595:s=>{var g=function(i,o){for(var m=i.x,c=i.right,l=i.y,h=i.bottom,a=0;a<o.length;a++)m=Math.min(m,o[a].x),c=Math.max(c,o[a].x),l=Math.min(l,o[a].y),h=Math.max(h,o[a].y);return i.x=m,i.y=l,i.width=c-m,i.height=h-l,i};s.exports=g},20074:s=>{var g=function(i,o){var m=Math.min(i.x,o.x),c=Math.max(i.right,o.right);i.x=m,i.width=c-m;var l=Math.min(i.y,o.y),h=Math.max(i.bottom,o.bottom);return i.y=l,i.height=h-l,i};s.exports=g},92171:s=>{var g=function(i,o,m){var c=Math.min(i.x,o),l=Math.max(i.right,o);i.x=c,i.width=l-c;var h=Math.min(i.y,m),a=Math.max(i.bottom,m);return i.y=h,i.height=a-h,i};s.exports=g},42981:s=>{var g=function(i,o,m){return i.x+=o,i.y+=m,i};s.exports=g},46907:s=>{var g=function(i,o){return i.x+=o.x,i.y+=o.y,i};s.exports=g},60170:s=>{var g=function(i,o){return i.x<o.right&&i.right>o.x&&i.y<o.bottom&&i.bottom>o.y};s.exports=g},13019:s=>{var g=function(i){return 2*(i.width+i.height)};s.exports=g},85133:(s,g,i)=>{var o=i(2141),m=i(39506),c=function(l,h,a){a===void 0&&(a=new o),h=m(h);var f=Math.sin(h),p=Math.cos(h),u=p>0?l.width/2:l.width/-2,v=f>0?l.height/2:l.height/-2;return Math.abs(u*f)<Math.abs(v*p)?v=u*f/p:u=v*p/f,a.x=u+l.centerX,a.y=v+l.centerY,a};s.exports=c},26597:(s,g,i)=>{var o=i(2141),m=function(c,l){return l===void 0&&(l=new o),l.x=c.x+Math.random()*c.width,l.y=c.y+Math.random()*c.height,l};s.exports=m},86470:(s,g,i)=>{var o=i(30976),m=i(70273),c=i(2141),l=function(h,a,f){if(f===void 0&&(f=new c),m(h,a))switch(o(0,3)){case 0:f.x=h.x+Math.random()*(a.right-h.x),f.y=h.y+Math.random()*(a.top-h.y);break;case 1:f.x=a.x+Math.random()*(h.right-a.x),f.y=a.bottom+Math.random()*(h.bottom-a.bottom);break;case 2:f.x=h.x+Math.random()*(a.x-h.x),f.y=a.y+Math.random()*(h.bottom-a.y);break;case 3:f.x=a.right+Math.random()*(h.right-a.right),f.y=h.y+Math.random()*(a.bottom-h.y);break}return f};s.exports=l},87841:(s,g,i)=>{var o=i(83419),m=i(37303),c=i(20812),l=i(34819),h=i(23777),a=i(23031),f=i(26597),p=new o({initialize:function(v,y,x,b){v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=0),this.type=h.RECTANGLE,this.x=v,this.y=y,this.width=x,this.height=b},contains:function(u,v){return m(this,u,v)},getPoint:function(u,v){return c(this,u,v)},getPoints:function(u,v,y){return l(this,u,v,y)},getRandomPoint:function(u){return f(this,u)},setTo:function(u,v,y,x){return this.x=u,this.y=v,this.width=y,this.height=x,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(u,v){return v===void 0&&(v=u),this.x=u,this.y=v,this},setSize:function(u,v){return v===void 0&&(v=u),this.width=u,this.height=v,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(u){return u===void 0&&(u=new a),u.setTo(this.x,this.y,this.right,this.y),u},getLineB:function(u){return u===void 0&&(u=new a),u.setTo(this.right,this.y,this.right,this.bottom),u},getLineC:function(u){return u===void 0&&(u=new a),u.setTo(this.right,this.bottom,this.x,this.bottom),u},getLineD:function(u){return u===void 0&&(u=new a),u.setTo(this.x,this.bottom,this.x,this.y),u},left:{get:function(){return this.x},set:function(u){u>=this.right?this.width=0:this.width=this.right-u,this.x=u}},right:{get:function(){return this.x+this.width},set:function(u){u<=this.x?this.width=0:this.width=u-this.x}},top:{get:function(){return this.y},set:function(u){u>=this.bottom?this.height=0:this.height=this.bottom-u,this.y=u}},bottom:{get:function(){return this.y+this.height},set:function(u){u<=this.y?this.height=0:this.height=u-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});s.exports=p},94845:s=>{var g=function(i,o){return i.width===o.width&&i.height===o.height};s.exports=g},31730:s=>{var g=function(i,o,m){return m===void 0&&(m=o),i.width*=o,i.height*=m,i};s.exports=g},36899:(s,g,i)=>{var o=i(87841),m=function(c,l,h){h===void 0&&(h=new o);var a=Math.min(c.x,l.x),f=Math.min(c.y,l.y),p=Math.max(c.right,l.right)-a,u=Math.max(c.bottom,l.bottom)-f;return h.setTo(a,f,p,u)};s.exports=m},93232:(s,g,i)=>{var o=i(87841);o.Area=i(62224),o.Ceil=i(98615),o.CeilAll=i(31688),o.CenterOn=i(67502),o.Clone=i(65085),o.Contains=i(37303),o.ContainsPoint=i(96553),o.ContainsRect=i(70273),o.CopyFrom=i(43459),o.Decompose=i(77493),o.Equals=i(9219),o.FitInside=i(53751),o.FitOutside=i(16088),o.Floor=i(80774),o.FloorAll=i(83859),o.FromPoints=i(19217),o.FromXY=i(9477),o.GetAspectRatio=i(8249),o.GetCenter=i(27165),o.GetPoint=i(20812),o.GetPoints=i(34819),o.GetSize=i(51313),o.Inflate=i(86091),o.Intersection=i(53951),o.MarchingAnts=i(14649),o.MergePoints=i(33595),o.MergeRect=i(20074),o.MergeXY=i(92171),o.Offset=i(42981),o.OffsetPoint=i(46907),o.Overlaps=i(60170),o.Perimeter=i(13019),o.PerimeterPoint=i(85133),o.Random=i(26597),o.RandomOutside=i(86470),o.SameDimensions=i(94845),o.Scale=i(31730),o.Union=i(36899),s.exports=o},41658:s=>{var g=function(i){var o=i.x1,m=i.y1,c=i.x2,l=i.y2,h=i.x3,a=i.y3;return Math.abs(((h-o)*(l-m)-(c-o)*(a-m))/2)};s.exports=g},39208:(s,g,i)=>{var o=i(16483),m=function(c,l,h){var a=h*(Math.sqrt(3)/2),f=c,p=l,u=c+h/2,v=l+a,y=c-h/2,x=l+a;return new o(f,p,u,v,y,x)};s.exports=m},39545:(s,g,i)=>{var o=i(94811),m=i(16483),c=function(l,h,a,f,p){h===void 0&&(h=null),a===void 0&&(a=1),f===void 0&&(f=1),p===void 0&&(p=[]);for(var u=o(l,h),v,y,x,b,w,C,E,T,k,A=0;A<u.length;A+=3)v=u[A],y=u[A+1],x=u[A+2],b=l[v*2]*a,w=l[v*2+1]*f,C=l[y*2]*a,E=l[y*2+1]*f,T=l[x*2]*a,k=l[x*2+1]*f,p.push(new m(b,w,C,E,T,k));return p};s.exports=c},90301:(s,g,i)=>{var o=i(16483),m=function(c,l,h,a){a===void 0&&(a=h);var f=c,p=l,u=c,v=l-a,y=c+h,x=l;return new o(f,p,u,v,y,x)};s.exports=m},23707:(s,g,i)=>{var o=i(97523),m=i(13584),c=function(l,h,a,f){f===void 0&&(f=o);var p=f(l),u=h-p.x,v=a-p.y;return m(l,u,v)};s.exports=c},97523:(s,g,i)=>{var o=i(2141),m=function(c,l){return l===void 0&&(l=new o),l.x=(c.x1+c.x2+c.x3)/3,l.y=(c.y1+c.y2+c.y3)/3,l};s.exports=m},24951:(s,g,i)=>{var o=i(26099);function m(l,h,a,f){return l*f-h*a}var c=function(l,h){h===void 0&&(h=new o);var a=l.x3,f=l.y3,p=l.x1-a,u=l.y1-f,v=l.x2-a,y=l.y2-f,x=2*m(p,u,v,y),b=m(u,p*p+u*u,y,v*v+y*y),w=m(p,p*p+u*u,v,v*v+y*y);return h.x=a-b/x,h.y=f+w/x,h};s.exports=c},85614:(s,g,i)=>{var o=i(96503),m=function(c,l){l===void 0&&(l=new o);var h=c.x1,a=c.y1,f=c.x2,p=c.y2,u=c.x3,v=c.y3,y=f-h,x=p-a,b=u-h,w=v-a,C=y*(h+f)+x*(a+p),E=b*(h+u)+w*(a+v),T=2*(y*(v-p)-x*(u-f)),k,A;if(Math.abs(T)<1e-6){var I=Math.min(h,f,u),B=Math.min(a,p,v);k=(Math.max(h,f,u)-I)*.5,A=(Math.max(a,p,v)-B)*.5,l.x=I+k,l.y=B+A,l.radius=Math.sqrt(k*k+A*A)}else l.x=(w*C-x*E)/T,l.y=(y*E-b*C)/T,k=l.x-h,A=l.y-a,l.radius=Math.sqrt(k*k+A*A);return l};s.exports=m},74422:(s,g,i)=>{var o=i(16483),m=function(c){return new o(c.x1,c.y1,c.x2,c.y2,c.x3,c.y3)};s.exports=m},10690:s=>{var g=function(i,o,m){var c=i.x3-i.x1,l=i.y3-i.y1,h=i.x2-i.x1,a=i.y2-i.y1,f=o-i.x1,p=m-i.y1,u=c*c+l*l,v=c*h+l*a,y=c*f+l*p,x=h*h+a*a,b=h*f+a*p,w=u*x-v*v,C=w===0?0:1/w,E=(x*y-v*b)*C,T=(u*b-v*y)*C;return E>=0&&T>=0&&E+T<1};s.exports=g},48653:s=>{var g=function(i,o,m,c){m===void 0&&(m=!1),c===void 0&&(c=[]);for(var l=i.x3-i.x1,h=i.y3-i.y1,a=i.x2-i.x1,f=i.y2-i.y1,p=l*l+h*h,u=l*a+h*f,v=a*a+f*f,y=p*v-u*u,x=y===0?0:1/y,b,w,C,E,T,k,A=i.x1,I=i.y1,B=0;B<o.length&&(C=o[B].x-A,E=o[B].y-I,T=l*C+h*E,k=a*C+f*E,b=(v*T-u*k)*x,w=(p*k-u*T)*x,!(b>=0&&w>=0&&b+w<1&&(c.push({x:o[B].x,y:o[B].y}),m)));B++);return c};s.exports=g},96006:(s,g,i)=>{var o=i(10690),m=function(c,l){return o(c,l.x,l.y)};s.exports=m},71326:s=>{var g=function(i,o){return o.setTo(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)};s.exports=g},71694:s=>{var g=function(i,o){return o===void 0&&(o=[]),o.push({x:i.x1,y:i.y1}),o.push({x:i.x2,y:i.y2}),o.push({x:i.x3,y:i.y3}),o};s.exports=g},33522:s=>{var g=function(i,o){return i.x1===o.x1&&i.y1===o.y1&&i.x2===o.x2&&i.y2===o.y2&&i.x3===o.x3&&i.y3===o.y3};s.exports=g},20437:(s,g,i)=>{var o=i(2141),m=i(35001),c=function(l,h,a){a===void 0&&(a=new o);var f=l.getLineA(),p=l.getLineB(),u=l.getLineC();if(h<=0||h>=1)return a.x=f.x1,a.y=f.y1,a;var v=m(f),y=m(p),x=m(u),b=v+y+x,w=b*h,C=0;return w<v?(C=w/v,a.x=f.x1+(f.x2-f.x1)*C,a.y=f.y1+(f.y2-f.y1)*C):w>v+y?(w-=v+y,C=w/x,a.x=u.x1+(u.x2-u.x1)*C,a.y=u.y1+(u.y2-u.y1)*C):(w-=v,C=w/y,a.x=p.x1+(p.x2-p.x1)*C,a.y=p.y1+(p.y2-p.y1)*C),a};s.exports=c},80672:(s,g,i)=>{var o=i(35001),m=i(2141),c=function(l,h,a,f){f===void 0&&(f=[]);var p=l.getLineA(),u=l.getLineB(),v=l.getLineC(),y=o(p),x=o(u),b=o(v),w=y+x+b;!h&&a>0&&(h=w/a);for(var C=0;C<h;C++){var E=w*(C/h),T=0,k=new m;E<y?(T=E/y,k.x=p.x1+(p.x2-p.x1)*T,k.y=p.y1+(p.y2-p.y1)*T):E>y+x?(E-=y+x,T=E/b,k.x=v.x1+(v.x2-v.x1)*T,k.y=v.y1+(v.y2-v.y1)*T):(E-=y,T=E/x,k.x=u.x1+(u.x2-u.x1)*T,k.y=u.y1+(u.y2-u.y1)*T),f.push(k)}return f};s.exports=c},39757:(s,g,i)=>{var o=i(2141);function m(l,h,a,f){var p=l-a,u=h-f,v=p*p+u*u;return Math.sqrt(v)}var c=function(l,h){h===void 0&&(h=new o);var a=l.x1,f=l.y1,p=l.x2,u=l.y2,v=l.x3,y=l.y3,x=m(v,y,p,u),b=m(a,f,v,y),w=m(p,u,a,f),C=x+b+w;return h.x=(a*x+p*b+v*w)/C,h.y=(f*x+u*b+y*w)/C,h};s.exports=c},13584:s=>{var g=function(i,o,m){return i.x1+=o,i.y1+=m,i.x2+=o,i.y2+=m,i.x3+=o,i.y3+=m,i};s.exports=g},1376:(s,g,i)=>{var o=i(35001),m=function(c){var l=c.getLineA(),h=c.getLineB(),a=c.getLineC();return o(l)+o(h)+o(a)};s.exports=m},90260:(s,g,i)=>{var o=i(2141),m=function(c,l){l===void 0&&(l=new o);var h=c.x2-c.x1,a=c.y2-c.y1,f=c.x3-c.x1,p=c.y3-c.y1,u=Math.random(),v=Math.random();return u+v>=1&&(u=1-u,v=1-v),l.x=c.x1+(h*u+f*v),l.y=c.y1+(a*u+p*v),l};s.exports=m},52172:(s,g,i)=>{var o=i(99614),m=i(39757),c=function(l,h){var a=m(l);return o(l,a.x,a.y,h)};s.exports=c},49907:(s,g,i)=>{var o=i(99614),m=function(c,l,h){return o(c,l.x,l.y,h)};s.exports=m},99614:s=>{var g=function(i,o,m,c){var l=Math.cos(c),h=Math.sin(c),a=i.x1-o,f=i.y1-m;return i.x1=a*l-f*h+o,i.y1=a*h+f*l+m,a=i.x2-o,f=i.y2-m,i.x2=a*l-f*h+o,i.y2=a*h+f*l+m,a=i.x3-o,f=i.y3-m,i.x3=a*l-f*h+o,i.y3=a*h+f*l+m,i};s.exports=g},16483:(s,g,i)=>{var o=i(83419),m=i(10690),c=i(20437),l=i(80672),h=i(23777),a=i(23031),f=i(90260),p=new o({initialize:function(v,y,x,b,w,C){v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=0),C===void 0&&(C=0),this.type=h.TRIANGLE,this.x1=v,this.y1=y,this.x2=x,this.y2=b,this.x3=w,this.y3=C},contains:function(u,v){return m(this,u,v)},getPoint:function(u,v){return c(this,u,v)},getPoints:function(u,v,y){return l(this,u,v,y)},getRandomPoint:function(u){return f(this,u)},setTo:function(u,v,y,x,b,w){return u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=0),w===void 0&&(w=0),this.x1=u,this.y1=v,this.x2=y,this.y2=x,this.x3=b,this.y3=w,this},getLineA:function(u){return u===void 0&&(u=new a),u.setTo(this.x1,this.y1,this.x2,this.y2),u},getLineB:function(u){return u===void 0&&(u=new a),u.setTo(this.x2,this.y2,this.x3,this.y3),u},getLineC:function(u){return u===void 0&&(u=new a),u.setTo(this.x3,this.y3,this.x1,this.y1),u},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(u){var v=0;this.x1<=this.x2&&this.x1<=this.x3?v=this.x1-u:this.x2<=this.x1&&this.x2<=this.x3?v=this.x2-u:v=this.x3-u,this.x1-=v,this.x2-=v,this.x3-=v}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(u){var v=0;this.x1>=this.x2&&this.x1>=this.x3?v=this.x1-u:this.x2>=this.x1&&this.x2>=this.x3?v=this.x2-u:v=this.x3-u,this.x1-=v,this.x2-=v,this.x3-=v}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(u){var v=0;this.y1<=this.y2&&this.y1<=this.y3?v=this.y1-u:this.y2<=this.y1&&this.y2<=this.y3?v=this.y2-u:v=this.y3-u,this.y1-=v,this.y2-=v,this.y3-=v}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(u){var v=0;this.y1>=this.y2&&this.y1>=this.y3?v=this.y1-u:this.y2>=this.y1&&this.y2>=this.y3?v=this.y2-u:v=this.y3-u,this.y1-=v,this.y2-=v,this.y3-=v}}});s.exports=p},84435:(s,g,i)=>{var o=i(16483);o.Area=i(41658),o.BuildEquilateral=i(39208),o.BuildFromPolygon=i(39545),o.BuildRight=i(90301),o.CenterOn=i(23707),o.Centroid=i(97523),o.CircumCenter=i(24951),o.CircumCircle=i(85614),o.Clone=i(74422),o.Contains=i(10690),o.ContainsArray=i(48653),o.ContainsPoint=i(96006),o.CopyFrom=i(71326),o.Decompose=i(71694),o.Equals=i(33522),o.GetPoint=i(20437),o.GetPoints=i(80672),o.InCenter=i(39757),o.Perimeter=i(1376),o.Offset=i(13584),o.Random=i(90260),o.Rotate=i(52172),o.RotateAroundPoint=i(49907),o.RotateAroundXY=i(99614),s.exports=o},74457:s=>{var g=function(i,o,m){return{gameObject:i,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:m,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};s.exports=g},84409:s=>{var g=function(i,o){return function(m,c,l,h){var a=i.getPixelAlpha(c,l,h.texture.key,h.frame.name);return a&&a>=o}};s.exports=g},7003:(s,g,i)=>{var o=i(83419),m=i(93301),c=i(50792),l=i(8214),h=i(8443),a=i(78970),f=i(85098),p=i(42515),u=i(36210),v=i(61340),y=i(85955),x=new o({initialize:function(w,C){this.game=w,this.scaleManager,this.canvas,this.config=C,this.enabled=!0,this.events=new c,this.isOver=!0,this.defaultCursor="",this.keyboard=C.inputKeyboard?new a(this):null,this.mouse=C.inputMouse?new f(this):null,this.touch=C.inputTouch?new u(this):null,this.pointers=[],this.pointersTotal=C.inputActivePointers,C.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var E=0;E<=this.pointersTotal;E++){var T=new p(this,E);T.smoothFactor=C.inputSmoothFactor,this.pointers.push(T)}this.mousePointer=C.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new v,this._tempMatrix2=new v,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],w.events.once(h.BOOT,this.boot,this)},boot:function(){var b=this.game,w=b.events;this.canvas=b.canvas,this.scaleManager=b.scale,this.events.emit(l.MANAGER_BOOT),w.on(h.PRE_RENDER,this.preRender,this),w.once(h.DESTROY,this.destroy,this)},setCanvasOver:function(b){this.isOver=!0,this.events.emit(l.GAME_OVER,b)},setCanvasOut:function(b){this.isOver=!1,this.events.emit(l.GAME_OUT,b)},preRender:function(){var b=this.game.loop.now,w=this.game.loop.delta,C=this.game.scene.getScenes(!0,!0);this.time=b,this.events.emit(l.MANAGER_UPDATE);for(var E=0;E<C.length;E++){var T=C[E];if(T.sys.input&&T.sys.input.updatePoll(b,w)&&this.globalTopOnly)return}},setDefaultCursor:function(b){this.defaultCursor=b,this.canvas.style.cursor!==b&&(this.canvas.style.cursor=b)},setCursor:function(b){b.cursor&&(this.canvas.style.cursor=b.cursor)},resetCursor:function(b){b.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(b){b===void 0&&(b=1);var w=[];this.pointersTotal+b>10&&(b=10-this.pointersTotal);for(var C=0;C<b;C++){var E=this.pointers.length,T=new p(this,E);T.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(T),this.pointersTotal++,w.push(T)}return w},updateInputPlugins:function(b,w){var C=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var E=0;E<C.length;E++){var T=C[E];if(T.sys.input){var k=T.sys.input.update(b,w);if(k&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(b){for(var w=this.pointers,C=[],E=0;E<b.changedTouches.length;E++)for(var T=b.changedTouches[E],k=1;k<this.pointersTotal;k++){var A=w[k];if(!A.active){A.touchstart(T,b),this.activePointer=A,C.push(A);break}}this.updateInputPlugins(m.TOUCH_START,C)},onTouchMove:function(b){for(var w=this.pointers,C=[],E=0;E<b.changedTouches.length;E++)for(var T=b.changedTouches[E],k=1;k<this.pointersTotal;k++){var A=w[k];if(A.active&&A.identifier===T.identifier){var I=document.elementFromPoint(T.clientX,T.clientY),B=I===this.canvas;!this.isOver&&B?this.setCanvasOver(b):this.isOver&&!B&&this.setCanvasOut(b),this.isOver&&(A.touchmove(T,b),this.activePointer=A,C.push(A));break}}this.updateInputPlugins(m.TOUCH_MOVE,C)},onTouchEnd:function(b){for(var w=this.pointers,C=[],E=0;E<b.changedTouches.length;E++)for(var T=b.changedTouches[E],k=1;k<this.pointersTotal;k++){var A=w[k];if(A.active&&A.identifier===T.identifier){A.touchend(T,b),C.push(A);break}}this.updateInputPlugins(m.TOUCH_END,C)},onTouchCancel:function(b){for(var w=this.pointers,C=[],E=0;E<b.changedTouches.length;E++)for(var T=b.changedTouches[E],k=1;k<this.pointersTotal;k++){var A=w[k];if(A.active&&A.identifier===T.identifier){A.touchcancel(T,b),C.push(A);break}}this.updateInputPlugins(m.TOUCH_CANCEL,C)},onMouseDown:function(b){var w=this.mousePointer;w.down(b),w.updateMotion(),this.activePointer=w,this.updateInputPlugins(m.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(b){var w=this.mousePointer;w.move(b),w.updateMotion(),this.activePointer=w,this.updateInputPlugins(m.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(b){var w=this.mousePointer;w.up(b),w.updateMotion(),this.activePointer=w,this.updateInputPlugins(m.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(b){var w=this.mousePointer;w.wheel(b),this.activePointer=w,this.updateInputPlugins(m.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(b){var w=this.mouse.locked;this.mousePointer.locked=w,this.events.emit(l.POINTERLOCK_CHANGE,b,w)},inputCandidate:function(b,w){var C=b.input;if(!C||!C.enabled||!b.willRender(w))return!1;var E=!0,T=b.parentContainer;if(T)do{if(!T.willRender(w)){E=!1;break}T=T.parentContainer}while(T);return E},hitTest:function(b,w,C,E){E===void 0&&(E=this._tempHitTest);var T=this._tempPoint,k=C.scrollX,A=C.scrollY;E.length=0;var I=b.x,B=b.y;C.getWorldPoint(I,B,T),b.worldX=T.x,b.worldY=T.y;for(var M={x:0,y:0},O=this._tempMatrix,P=this._tempMatrix2,L=0;L<w.length;L++){var _=w[L];if(this.inputCandidate(_,C)){var G=T.x+k*_.scrollFactorX-k,$=T.y+A*_.scrollFactorY-A;_.parentContainer?(_.getWorldTransformMatrix(O,P),O.applyInverse(G,$,M)):y(G,$,_.x,_.y,_.rotation,_.scaleX,_.scaleY,M),this.pointWithinHitArea(_,M.x,M.y)&&E.push(_)}}return E},pointWithinHitArea:function(b,w,C){w+=b.displayOriginX,C+=b.displayOriginY;var E=b.input;return E&&E.hitAreaCallback(E.hitArea,w,C,b)?(E.localX=w,E.localY=C,!0):!1},pointWithinInteractiveObject:function(b,w,C){return b.hitArea?(w+=b.gameObject.displayOriginX,C+=b.gameObject.displayOriginY,b.localX=w,b.localY=C,b.hitAreaCallback(b.hitArea,w,C,b)):!1},transformPointer:function(b,w,C,E){var T=b.position,k=b.prevPosition;k.x=T.x,k.y=T.y;var A=this.scaleManager.transformX(w),I=this.scaleManager.transformY(C),B=b.smoothFactor;!E||B===0?(T.x=A,T.y=I):(T.x=A*B+k.x*(1-B),T.y=I*B+k.y*(1-B))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(h.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var b=0;b<this.pointers.length;b++)this.pointers[b].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});s.exports=x},48205:(s,g,i)=>{var o=i(96503),m=i(87902),c=i(83419),l=i(93301),h=i(74457),a=i(84409),f=i(20339),p=i(8497),u=i(81154),v=i(8214),y=i(50792),x=i(95540),b=i(23777),w=i(89639),C=i(41212),E=i(37277),T=i(87841),k=i(37303),A=i(44594),I=i(16483),B=i(10690),M=new c({Extends:y,initialize:function(P){y.call(this),this.scene=P,this.systems=P.sys,this.settings=P.sys.settings,this.manager=P.sys.game.input,this.pluginEvents=new y,this.enabled=!0,this.displayList,this.cameras,w.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var L={cancelled:!1};this._eventContainer={stopPropagation:function(){L.cancelled=!0}},this._eventData=L,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,P.sys.events.once(A.BOOT,this.boot,this),P.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(v.BOOT)},start:function(){var O=this.systems.events;O.on(A.TRANSITION_START,this.transitionIn,this),O.on(A.TRANSITION_OUT,this.transitionOut,this),O.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),O.on(A.PRE_UPDATE,this.preUpdate,this),O.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(v.GAME_OUT,this.onGameOut,this),this.manager.events.on(v.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(v.START)},onGameOver:function(O){this.isActive()&&this.emit(v.GAME_OVER,O.timeStamp,O)},onGameOut:function(O){this.isActive()&&this.emit(v.GAME_OUT,O.timeStamp,O)},preUpdate:function(){this.pluginEvents.emit(v.PRE_UPDATE);var O=this._pendingRemoval,P=this._pendingInsertion,L=O.length,_=P.length;if(!(L===0&&_===0)){for(var G=this._list,$=0;$<L;$++){var W=O[$],Y=G.indexOf(W);Y>-1&&(G.splice(Y,1),this.clear(W,!0))}this._pendingRemoval.length=0,this._list=G.concat(P.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(O,P){if(!this.isActive())return!1;if(this.pluginEvents.emit(v.UPDATE,O,P),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var L,_=this.manager,G=_.pointers,$=_.pointersTotal;for(L=0;L<$;L++)G[L].updateMotion();if(this._list.length===0)return!1;var W=this.pollRate;if(W===-1)return!1;if(W>0)if(this._pollTimer-=P,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Y=!1;for(L=0;L<$;L++){var z=0,F=G[L];this._tempZones=[],this._temp=this.hitTestPointer(F),this.sortGameObjects(this._temp,F),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),z+=this.processOverOutEvents(F),this.getDragState(F)===2&&this.processDragThresholdEvent(F,O),z>0&&(Y=!0)}return Y},update:function(O,P){if(!this.isActive())return!1;for(var L=P.length,_=!1,G=0;G<L;G++){var $=0,W=P[G];switch(this._tempZones=[],this._temp=this.hitTestPointer(W),this.sortGameObjects(this._temp,W),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),O){case l.MOUSE_DOWN:$+=this.processDragDownEvent(W),$+=this.processDownEvents(W),$+=this.processOverOutEvents(W);break;case l.MOUSE_UP:$+=this.processDragUpEvent(W),$+=this.processUpEvents(W),$+=this.processOverOutEvents(W);break;case l.TOUCH_START:$+=this.processDragDownEvent(W),$+=this.processDownEvents(W),$+=this.processOverEvents(W);break;case l.TOUCH_END:case l.TOUCH_CANCEL:$+=this.processDragUpEvent(W),$+=this.processUpEvents(W),$+=this.processOutEvents(W);break;case l.MOUSE_MOVE:case l.TOUCH_MOVE:$+=this.processDragMoveEvent(W),$+=this.processMoveEvents(W),$+=this.processOverOutEvents(W);break;case l.MOUSE_WHEEL:$+=this.processWheelEvent(W);break}$>0&&(_=!0)}return this._updatedThisFrame=!0,_},clear:function(O,P){P===void 0&&(P=!1),this.disable(O);var L=O.input;L&&(this.removeDebug(O),this.manager.resetCursor(L),L.gameObject=void 0,L.target=void 0,L.hitArea=void 0,L.hitAreaCallback=void 0,L.callbackContext=void 0,O.input=null),P||this.queueForRemoval(O);var _=this._draggable.indexOf(O);return _>-1&&this._draggable.splice(_,1),O},disable:function(O){var P=O.input;P&&(P.enabled=!1,P.dragState=0);for(var L=this._drag,_=this._over,G=this.manager,$=0,W;$<G.pointersTotal;$++)W=L[$].indexOf(O),W>-1&&L[$].splice(W,1),W=_[$].indexOf(O),W>-1&&_[$].splice(W,1);return this},enable:function(O,P,L,_){return _===void 0&&(_=!1),O.input?O.input.enabled=!0:this.setHitArea(O,P,L),O.input&&_&&!O.input.dropZone&&(O.input.dropZone=_),this},hitTestPointer:function(O){for(var P=this.cameras.getCamerasBelowPointer(O),L=0;L<P.length;L++){for(var _=P[L],G=this.manager.hitTest(O,this._list,_),$=0;$<G.length;$++){var W=G[$];W.input.dropZone&&this._tempZones.push(W)}if(G.length>0)return O.camera=_,G}return O.camera=P[0],[]},processDownEvents:function(O){var P=0,L=this._temp,_=this._eventData,G=this._eventContainer;_.cancelled=!1;for(var $=!1,W=0;W<L.length;W++){var Y=L[W];if(!(!Y.input||!Y.input.enabled)){if(P++,Y.emit(v.GAMEOBJECT_POINTER_DOWN,O,Y.input.localX,Y.input.localY,G),_.cancelled||!Y.input||!Y.input.enabled){$=!0;break}if(this.emit(v.GAMEOBJECT_DOWN,O,Y,G),_.cancelled||!Y.input){$=!0;break}}}return!$&&this.manager&&(O.downElement===this.manager.game.canvas?this.emit(v.POINTER_DOWN,O,L):this.emit(v.POINTER_DOWN_OUTSIDE,O)),P},getDragState:function(O){return this._dragState[O.id]},setDragState:function(O,P){this._dragState[O.id]=P},processDragThresholdEvent:function(O,P){var L=!1,_=this.dragTimeThreshold,G=this.dragDistanceThreshold;if((G>0&&f(O.x,O.y,O.downX,O.downY)>=G||_>0&&P>=O.downTime+_)&&(L=!0),L)return this.setDragState(O,3),this.processDragStartList(O)},processDragStartList:function(O){if(this.getDragState(O)!==3)return 0;for(var P=this._drag[O.id],L=0;L<P.length;L++){var _=P[L],G=_.input;G.dragState=2,G.dragStartX=_.x,G.dragStartY=_.y,G.dragStartXGlobal=O.worldX,G.dragStartYGlobal=O.worldY,G.dragX=G.dragStartXGlobal-G.dragStartX,G.dragY=G.dragStartYGlobal-G.dragStartY,_.emit(v.GAMEOBJECT_DRAG_START,O,G.dragX,G.dragY),this.emit(v.DRAG_START,O,_)}return this.setDragState(O,4),P.length},processDragDownEvent:function(O){var P=this._temp;if(this._draggable.length===0||P.length===0||!O.primaryDown||this.getDragState(O)!==0)return 0;this.setDragState(O,1);for(var L=[],_=0;_<P.length;_++){var G=P[_];G.input.draggable&&G.input.dragState===0&&L.push(G)}return L.length===0?(this.setDragState(O,0),0):(L.length>1&&(this.sortGameObjects(L,O),this.topOnly&&L.splice(1)),this._drag[O.id]=L,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(O,3),this.processDragStartList(O)):(this.setDragState(O,2),0))},processDragMoveEvent:function(O){if(this.getDragState(O)===2&&this.processDragThresholdEvent(O,this.manager.game.loop.now),this.getDragState(O)!==4)return 0;for(var P=this._tempZones,L=this._drag[O.id],_=0;_<L.length;_++){var G=L[_],$=G.input,W=$.target;if(W){var Y=P.indexOf(W);Y===0?(G.emit(v.GAMEOBJECT_DRAG_OVER,O,W),this.emit(v.DRAG_OVER,O,G,W)):Y>0?(G.emit(v.GAMEOBJECT_DRAG_LEAVE,O,W),this.emit(v.DRAG_LEAVE,O,G,W),$.target=P[0],W=$.target,G.emit(v.GAMEOBJECT_DRAG_ENTER,O,W),this.emit(v.DRAG_ENTER,O,G,W)):(G.emit(v.GAMEOBJECT_DRAG_LEAVE,O,W),this.emit(v.DRAG_LEAVE,O,G,W),P[0]?($.target=P[0],W=$.target,G.emit(v.GAMEOBJECT_DRAG_ENTER,O,W),this.emit(v.DRAG_ENTER,O,G,W)):$.target=null)}else!W&&P[0]&&($.target=P[0],W=$.target,G.emit(v.GAMEOBJECT_DRAG_ENTER,O,W),this.emit(v.DRAG_ENTER,O,G,W));var z,F;if(!G.parentContainer)z=O.worldX-$.dragX,F=O.worldY-$.dragY;else{var N=O.worldX-$.dragStartXGlobal,j=O.worldY-$.dragStartYGlobal,U=G.getParentRotation(),V=N*Math.cos(U)+j*Math.sin(U),q=j*Math.cos(U)-N*Math.sin(U);V*=1/G.parentContainer.scaleX,q*=1/G.parentContainer.scaleY,z=V+$.dragStartX,F=q+$.dragStartY}G.emit(v.GAMEOBJECT_DRAG,O,z,F),this.emit(v.DRAG,O,G,z,F)}return L.length},processDragUpEvent:function(O){for(var P=this._drag[O.id],L=0;L<P.length;L++){var _=P[L],G=_.input;if(G&&G.dragState===2){G.dragState=0,G.dragX=G.localX-_.displayOriginX,G.dragY=G.localY-_.displayOriginY;var $=!1,W=G.target;W&&(_.emit(v.GAMEOBJECT_DROP,O,W),this.emit(v.DROP,O,_,W),G.target=null,$=!0),_.input&&_.input.enabled&&(_.emit(v.GAMEOBJECT_DRAG_END,O,G.dragX,G.dragY,$),this.emit(v.DRAG_END,O,_,$))}}return this.setDragState(O,0),P.splice(0),0},processMoveEvents:function(O){var P=0,L=this._temp,_=this._eventData,G=this._eventContainer;_.cancelled=!1;for(var $=!1,W=0;W<L.length;W++){var Y=L[W];if(!(!Y.input||!Y.input.enabled)){if(P++,Y.emit(v.GAMEOBJECT_POINTER_MOVE,O,Y.input.localX,Y.input.localY,G),_.cancelled||!Y.input||!Y.input.enabled){$=!0;break}if(this.emit(v.GAMEOBJECT_MOVE,O,Y,G),_.cancelled||!Y.input||!Y.input.enabled){$=!0;break}if(this.topOnly)break}}return $||this.emit(v.POINTER_MOVE,O,L),P},processWheelEvent:function(O){var P=0,L=this._temp,_=this._eventData,G=this._eventContainer;_.cancelled=!1;for(var $=!1,W=O.deltaX,Y=O.deltaY,z=O.deltaZ,F=0;F<L.length;F++){var N=L[F];if(!(!N.input||!N.input.enabled)){if(P++,N.emit(v.GAMEOBJECT_POINTER_WHEEL,O,W,Y,z,G),_.cancelled||!N.input||!N.input.enabled){$=!0;break}if(this.emit(v.GAMEOBJECT_WHEEL,O,N,W,Y,z,G),_.cancelled||!N.input||!N.input.enabled){$=!0;break}}}return $||this.emit(v.POINTER_WHEEL,O,L,W,Y,z),P},processOverEvents:function(O){var P=this._temp,L=0,_=P.length,G=[];if(_>0){var $=this.manager,W=this._eventData,Y=this._eventContainer;W.cancelled=!1;for(var z=!1,F=0;F<_;F++){var N=P[F];if(!(!N.input||!N.input.enabled)){if(G.push(N),$.setCursor(N.input),N.emit(v.GAMEOBJECT_POINTER_OVER,O,N.input.localX,N.input.localY,Y),L++,W.cancelled||!N.input||!N.input.enabled){z=!0;break}if(this.emit(v.GAMEOBJECT_OVER,O,N,Y),W.cancelled||!N.input||!N.input.enabled){z=!0;break}}}z||this.emit(v.POINTER_OVER,O,G)}return this._over[O.id]=G,L},processOutEvents:function(O){var P=this._over[O.id],L=0,_=P.length;if(_>0){var G=this.manager,$=this._eventData,W=this._eventContainer;$.cancelled=!1;var Y=!1;this.sortGameObjects(P,O);for(var z=0;z<_;z++){var F=P[z];if(F=P[z],!(!F.input||!F.input.enabled)){if(G.resetCursor(F.input),F.emit(v.GAMEOBJECT_POINTER_OUT,O,W),L++,$.cancelled||!F.input||!F.input.enabled){Y=!0;break}if(this.emit(v.GAMEOBJECT_OUT,O,F,W),$.cancelled||!F.input||!F.input.enabled){Y=!0;break}Y||this.emit(v.POINTER_OUT,O,P)}}this._over[O.id]=[]}return L},processOverOutEvents:function(O){var P=this._temp,L,_,G=[],$=[],W=[],Y=this._over[O.id],z=this._drag[O.id],F=this.manager;for(L=0;L<Y.length;L++)_=Y[L],P.indexOf(_)===-1&&z.indexOf(_)===-1?G.push(_):W.push(_);for(L=0;L<P.length;L++)_=P[L],Y.indexOf(_)===-1&&$.push(_);var N=G.length,j=0,U=this._eventData,V=this._eventContainer;U.cancelled=!1;var q=!1;if(N>0){for(this.sortGameObjects(G,O),L=0;L<N;L++)if(_=G[L],!(!_.input||!_.input.enabled)){if(F.resetCursor(_.input),_.emit(v.GAMEOBJECT_POINTER_OUT,O,V),j++,U.cancelled||!_.input||!_.input.enabled){q=!0;break}if(this.emit(v.GAMEOBJECT_OUT,O,_,V),U.cancelled||!_.input||!_.input.enabled){q=!0;break}}q||this.emit(v.POINTER_OUT,O,G)}if(N=$.length,U.cancelled=!1,q=!1,N>0){for(this.sortGameObjects($,O),L=0;L<N;L++)if(_=$[L],!(!_.input||!_.input.enabled)){if(F.setCursor(_.input),_.emit(v.GAMEOBJECT_POINTER_OVER,O,_.input.localX,_.input.localY,V),j++,U.cancelled||!_.input||!_.input.enabled){q=!0;break}if(this.emit(v.GAMEOBJECT_OVER,O,_,V),U.cancelled||!_.input||!_.input.enabled){q=!0;break}}q||this.emit(v.POINTER_OVER,O,$)}return Y=W.concat($),this._over[O.id]=this.sortGameObjects(Y,O),j},processUpEvents:function(O){var P=this._temp,L=this._eventData,_=this._eventContainer;L.cancelled=!1;for(var G=!1,$=0;$<P.length;$++){var W=P[$];if(!(!W.input||!W.input.enabled)){if(W.emit(v.GAMEOBJECT_POINTER_UP,O,W.input.localX,W.input.localY,_),L.cancelled||!W.input||!W.input.enabled){G=!0;break}if(this.emit(v.GAMEOBJECT_UP,O,W,_),L.cancelled||!W.input||!W.input.enabled){G=!0;break}}}return!G&&this.manager&&(O.upElement===this.manager.game.canvas?this.emit(v.POINTER_UP,O,P):this.emit(v.POINTER_UP_OUTSIDE,O)),P.length},queueForInsertion:function(O){return this._pendingInsertion.indexOf(O)===-1&&this._list.indexOf(O)===-1&&this._pendingInsertion.push(O),this},queueForRemoval:function(O){return this._pendingRemoval.push(O),this},setDraggable:function(O,P){P===void 0&&(P=!0),Array.isArray(O)||(O=[O]);for(var L=0;L<O.length;L++){var _=O[L];_.input.draggable=P;var G=this._draggable.indexOf(_);P&&G===-1?this._draggable.push(_):!P&&G>-1&&this._draggable.splice(G,1)}return this},makePixelPerfect:function(O){O===void 0&&(O=1);var P=this.systems.textures;return a(P,O)},setHitArea:function(O,P,L){if(P===void 0)return this.setHitAreaFromTexture(O);Array.isArray(O)||(O=[O]);var _=!1,G=!1,$=!1,W=!1,Y=!1,z=!0;if(C(P)&&Object.keys(P).length){var F=P,N=O.some(function(ot){return ot.hasOwnProperty("faces")});if(!N){P=x(F,"hitArea",null),L=x(F,"hitAreaCallback",null),Y=x(F,"pixelPerfect",!1);var j=x(F,"alphaTolerance",1);Y&&(P={},L=this.makePixelPerfect(j))}_=x(F,"draggable",!1),G=x(F,"dropZone",!1),$=x(F,"cursor",!1),W=x(F,"useHandCursor",!1),(!P||!L)&&(this.setHitAreaFromTexture(O),z=!1)}else typeof P=="function"&&!L&&(L=P,P={});for(var U=0;U<O.length;U++){var V=O[U];if(Y&&V.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var q=V.input?V.input:h(V,P,L);q.customHitArea=z,q.dropZone=G,q.cursor=W?"pointer":$,V.input=q,_&&this.setDraggable(V),this.queueForInsertion(V)}return this},setHitAreaCircle:function(O,P,L,_,G){G===void 0&&(G=m);var $=new o(P,L,_);return this.setHitArea(O,$,G)},setHitAreaEllipse:function(O,P,L,_,G,$){$===void 0&&($=u);var W=new p(P,L,_,G);return this.setHitArea(O,W,$)},setHitAreaFromTexture:function(O,P){P===void 0&&(P=k),Array.isArray(O)||(O=[O]);for(var L=0;L<O.length;L++){var _=O[L],G=_.frame,$=0,W=0;if(_.width?($=_.width,W=_.height):G&&($=G.realWidth,W=G.realHeight),_.type==="Container"&&($===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}$!==0&&W!==0&&(_.input=h(_,new T(0,0,$,W),P),this.queueForInsertion(_))}return this},setHitAreaRectangle:function(O,P,L,_,G,$){$===void 0&&($=k);var W=new T(P,L,_,G);return this.setHitArea(O,W,$)},setHitAreaTriangle:function(O,P,L,_,G,$,W,Y){Y===void 0&&(Y=B);var z=new I(P,L,_,G,$,W);return this.setHitArea(O,z,Y)},enableDebug:function(O,P){P===void 0&&(P=65280);var L=O.input;if(!L||!L.hitArea)return this;var _=L.hitArea,G=_.type,$=L.hitAreaDebug,W=this.systems.add,Y=this.systems.updateList;$&&(Y.remove($),$.destroy(),$=null);var z=0,F=0;switch(G){case b.CIRCLE:$=W.arc(0,0,_.radius),z=_.x-_.radius,F=_.y-_.radius;break;case b.ELLIPSE:$=W.ellipse(0,0,_.width,_.height),z=_.x-_.width/2,F=_.y-_.height/2;break;case b.LINE:$=W.line(0,0,_.x1,_.y1,_.x2,_.y2);break;case b.POLYGON:$=W.polygon(0,0,_.points);break;case b.RECTANGLE:$=W.rectangle(0,0,_.width,_.height),z=_.x,F=_.y;break;case b.TRIANGLE:$=W.triangle(0,0,_.x1,_.y1,_.x2,_.y2,_.x3,_.y3);break}return $&&($.isFilled=!1,$.strokeColor=P,$.preUpdate=function(){$.setVisible(O.visible),$.setStrokeStyle(1/O.scale,$.strokeColor),$.setDisplayOrigin(O.displayOriginX,O.displayOriginY);var N=O.x,j=O.y,U=O.rotation,V=O.scaleX,q=O.scaleY;if(O.parentContainer){var ot=O.getWorldTransformMatrix();N=ot.tx,j=ot.ty,U=ot.rotation,V=ot.scaleX,q=ot.scaleY}$.setRotation(U),$.setScale(V,q),$.setPosition(N+z*V,j+F*q),$.setScrollFactor(O.scrollFactorX,O.scrollFactorY),$.setDepth(O.depth)},Y.add($),L.hitAreaDebug=$),this},removeDebug:function(O){var P=O.input;if(P&&P.hitAreaDebug){var L=P.hitAreaDebug;L.destroy(),P.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(O){return this.pollRate=O,this._pollTimer=0,this},setGlobalTopOnly:function(O){return this.manager.globalTopOnly=O,this},setTopOnly:function(O){return this.topOnly=O,this},sortGameObjects:function(O,P){if(O.length<2||!P.camera)return O;var L=P.camera.renderList;return O.sort(function(_,G){var $=Math.max(L.indexOf(_),0),W=Math.max(L.indexOf(G),0);return W-$})},sortDropZones:function(O){return O.length<2?O:(this.scene.sys.depthSort(),O.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(O,P){if(!O.parentContainer&&!P.parentContainer)return this.displayList.getIndex(P)-this.displayList.getIndex(O);if(O.parentContainer===P.parentContainer)return P.parentContainer.getIndex(P)-O.parentContainer.getIndex(O);if(O.parentContainer===P)return-1;if(P.parentContainer===O)return 1;for(var L=O.getIndexList(),_=P.getIndexList(),G=Math.min(L.length,_.length),$=0;$<G;$++){var W=L[$],Y=_[$];if(W!==Y)return Y-W}return _.length-L.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(O){return this.manager.addPointer(O)},setDefaultCursor:function(O){return this.manager.setDefaultCursor(O),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(v.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var O=0;O<10;O++)this._drag[O]=[],this._over[O]=[];this.removeAllListeners();var P=this.manager;P.canvas.style.cursor=P.defaultCursor;var L=this.systems.events;L.off(A.TRANSITION_START,this.transitionIn,this),L.off(A.TRANSITION_OUT,this.transitionOut,this),L.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),L.off(A.PRE_UPDATE,this.preUpdate,this),P.events.off(v.GAME_OUT,this.onGameOut,this),P.events.off(v.GAME_OVER,this.onGameOver,this),L.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var O=this.manager.pointers,P=0;P<O.length;P++)O[P].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(v.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});E.register("InputPlugin",M,"input"),s.exports=M},89639:(s,g,i)=>{var o=i(35154),m={},c={};c.register=function(l,h,a,f,p){m[l]={plugin:h,mapping:a,settingsKey:f,configKey:p}},c.getPlugin=function(l){return m[l]},c.install=function(l){var h=l.scene.sys,a=h.settings.input,f=h.game.config;for(var p in m){var u=m[p].plugin,v=m[p].mapping,y=m[p].settingsKey,x=m[p].configKey;o(a,y,f[x])&&(l[v]=new u(l))}},c.remove=function(l){m.hasOwnProperty(l)&&delete m[l]},s.exports=c},42515:(s,g,i)=>{var o=i(31040),m=i(83419),c=i(20339),l=i(43855),h=i(47235),a=i(26099),f=i(25892),p=new m({initialize:function(v,y){this.manager=v,this.id=y,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new a,this.prevPosition=new a,this.midPoint=new a(-1,-1),this.velocity=new a,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=y===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(u){var v=u.getWorldPoint(this.x,this.y);return this.worldX=v.x,this.worldY=v.y,this},positionToCamera:function(u,v){return u.getWorldPoint(this.x,this.y,v)},updateMotion:function(){var u=this.position.x,v=this.position.y,y=this.midPoint.x,x=this.midPoint.y;if(!(u===y&&v===x)){var b=h(this.motionFactor,y,u),w=h(this.motionFactor,x,v);l(b,u,.1)&&(b=u),l(w,v,.1)&&(w=v),this.midPoint.set(b,w);var C=u-b,E=v-w;this.velocity.set(C,E),this.angle=o(b,w,u,v),this.distance=Math.sqrt(C*C+E*E)}},up:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=u.timeStamp,this.wasTouch=!1)},down:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),f.macOS&&u.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=u.timeStamp),this.wasTouch=!1},move:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.locked&&(this.movementX=u.movementX||u.mozMovementX||u.webkitMovementX||0,this.movementY=u.movementY||u.mozMovementY||u.webkitMovementY||0),this.moveTime=u.timeStamp,this.wasTouch=!1},wheel:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.deltaX=u.deltaX,this.deltaY=u.deltaY,this.deltaZ=u.deltaZ,this.wasTouch=!1},touchstart:function(u,v){u.pointerId&&(this.pointerId=u.pointerId),this.identifier=u.identifier,this.target=u.target,this.active=!0,this.buttons=1,this.event=v,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=v.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(u,v){this.event=v,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.moveTime=v.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(u,v){this.buttons=0,this.event=v,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(u,v){this.buttons=0,this.event=v,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?c(this.downX,this.downY,this.x,this.y):c(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(u,v){u===void 0&&(u=10),v===void 0&&(v=[]);for(var y=this.prevPosition.x,x=this.prevPosition.y,b=this.position.x,w=this.position.y,C=0;C<u;C++){var E=1/u*C;v[C]={x:h(E,y,b),y:h(E,x,w)}}return v},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},time:{get:function(){return this.event?this.event.timeStamp:0}}});s.exports=p},93301:s=>{var g={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};s.exports=g},7179:s=>{s.exports="boot"},85375:s=>{s.exports="destroy"},39843:s=>{s.exports="dragend"},23388:s=>{s.exports="dragenter"},16133:s=>{s.exports="drag"},27829:s=>{s.exports="dragleave"},53904:s=>{s.exports="dragover"},56058:s=>{s.exports="dragstart"},2642:s=>{s.exports="drop"},88171:s=>{s.exports="gameobjectdown"},36147:s=>{s.exports="dragend"},71692:s=>{s.exports="dragenter"},96149:s=>{s.exports="drag"},81285:s=>{s.exports="dragleave"},74048:s=>{s.exports="dragover"},21322:s=>{s.exports="dragstart"},49378:s=>{s.exports="drop"},86754:s=>{s.exports="gameobjectmove"},86433:s=>{s.exports="gameobjectout"},60709:s=>{s.exports="gameobjectover"},24081:s=>{s.exports="pointerdown"},11172:s=>{s.exports="pointermove"},18907:s=>{s.exports="pointerout"},95579:s=>{s.exports="pointerover"},35368:s=>{s.exports="pointerup"},26972:s=>{s.exports="wheel"},47078:s=>{s.exports="gameobjectup"},73802:s=>{s.exports="gameobjectwheel"},56718:s=>{s.exports="gameout"},25936:s=>{s.exports="gameover"},27503:s=>{s.exports="boot"},50852:s=>{s.exports="process"},96438:s=>{s.exports="update"},59152:s=>{s.exports="pointerlockchange"},47777:s=>{s.exports="pointerdown"},27957:s=>{s.exports="pointerdownoutside"},19444:s=>{s.exports="pointermove"},54251:s=>{s.exports="pointerout"},18667:s=>{s.exports="pointerover"},27192:s=>{s.exports="pointerup"},24652:s=>{s.exports="pointerupoutside"},45132:s=>{s.exports="wheel"},44512:s=>{s.exports="preupdate"},15757:s=>{s.exports="shutdown"},41637:s=>{s.exports="start"},93802:s=>{s.exports="update"},8214:(s,g,i)=>{s.exports={BOOT:i(7179),DESTROY:i(85375),DRAG_END:i(39843),DRAG_ENTER:i(23388),DRAG:i(16133),DRAG_LEAVE:i(27829),DRAG_OVER:i(53904),DRAG_START:i(56058),DROP:i(2642),GAME_OUT:i(56718),GAME_OVER:i(25936),GAMEOBJECT_DOWN:i(88171),GAMEOBJECT_DRAG_END:i(36147),GAMEOBJECT_DRAG_ENTER:i(71692),GAMEOBJECT_DRAG:i(96149),GAMEOBJECT_DRAG_LEAVE:i(81285),GAMEOBJECT_DRAG_OVER:i(74048),GAMEOBJECT_DRAG_START:i(21322),GAMEOBJECT_DROP:i(49378),GAMEOBJECT_MOVE:i(86754),GAMEOBJECT_OUT:i(86433),GAMEOBJECT_OVER:i(60709),GAMEOBJECT_POINTER_DOWN:i(24081),GAMEOBJECT_POINTER_MOVE:i(11172),GAMEOBJECT_POINTER_OUT:i(18907),GAMEOBJECT_POINTER_OVER:i(95579),GAMEOBJECT_POINTER_UP:i(35368),GAMEOBJECT_POINTER_WHEEL:i(26972),GAMEOBJECT_UP:i(47078),GAMEOBJECT_WHEEL:i(73802),MANAGER_BOOT:i(27503),MANAGER_PROCESS:i(50852),MANAGER_UPDATE:i(96438),POINTER_DOWN:i(47777),POINTER_DOWN_OUTSIDE:i(27957),POINTER_MOVE:i(19444),POINTER_OUT:i(54251),POINTER_OVER:i(18667),POINTER_UP:i(27192),POINTER_UP_OUTSIDE:i(24652),POINTER_WHEEL:i(45132),POINTERLOCK_CHANGE:i(59152),PRE_UPDATE:i(44512),SHUTDOWN:i(15757),START:i(41637),UPDATE:i(93802)}},97421:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h){this.pad=l,this.events=l.events,this.index=h,this.value=0,this.threshold=.1},update:function(c){this.value=c},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});s.exports=m},28884:(s,g,i)=>{var o=i(83419),m=i(92734),c=new o({initialize:function(h,a){this.pad=h,this.events=h.manager,this.index=a,this.value=0,this.threshold=1,this.pressed=!1},update:function(l){this.value=l;var h=this.pad,a=this.index;l>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(m.BUTTON_DOWN,h,this,l),this.pad.emit(m.GAMEPAD_BUTTON_DOWN,a,l,this)):this.pressed&&(this.pressed=!1,this.events.emit(m.BUTTON_UP,h,this,l),this.pad.emit(m.GAMEPAD_BUTTON_UP,a,l,this))},destroy:function(){this.pad=null,this.events=null}});s.exports=c},99125:(s,g,i)=>{var o=i(97421),m=i(28884),c=i(83419),l=i(50792),h=i(26099),a=new c({Extends:l,initialize:function(p,u){l.call(this),this.manager=p,this.pad=u,this.id=u.id,this.index=u.index;for(var v=[],y=0;y<u.buttons.length;y++)v.push(new m(this,y));this.buttons=v;var x=[];for(y=0;y<u.axes.length;y++)x.push(new o(this,y));this.axes=x,this.vibration=u.vibrationActuator;var b={value:0,pressed:!1};this._LCLeft=v[14]?v[14]:b,this._LCRight=v[15]?v[15]:b,this._LCTop=v[12]?v[12]:b,this._LCBottom=v[13]?v[13]:b,this._RCLeft=v[2]?v[2]:b,this._RCRight=v[1]?v[1]:b,this._RCTop=v[3]?v[3]:b,this._RCBottom=v[0]?v[0]:b,this._FBLeftTop=v[4]?v[4]:b,this._FBLeftBottom=v[6]?v[6]:b,this._FBRightTop=v[5]?v[5]:b,this._FBRightBottom=v[7]?v[7]:b;var w={value:0};this._HAxisLeft=x[0]?x[0]:w,this._VAxisLeft=x[1]?x[1]:w,this._HAxisRight=x[2]?x[2]:w,this._VAxisRight=x[3]?x[3]:w,this.leftStick=new h,this.rightStick=new h,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(f){return this.axes[f].getValue()},setAxisThreshold:function(f){for(var p=0;p<this.axes.length;p++)this.axes[p].threshold=f},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(f){return this.buttons[f].value},isButtonDown:function(f){return this.buttons[f].pressed},update:function(f){if(!(f.timestamp<this._created)){var p,u=this.buttons,v=f.buttons,y=u.length;for(p=0;p<y;p++)u[p].update(v[p].value);var x=this.axes,b=f.axes;for(y=x.length,p=0;p<y;p++)x[p].update(b[p]);y>=2&&(this.leftStick.set(x[0].getValue(),x[1].getValue()),y>=4&&this.rightStick.set(x[2].getValue(),x[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var f;for(f=0;f<this.buttons.length;f++)this.buttons[f].destroy();for(f=0;f<this.axes.length;f++)this.axes[f].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});s.exports=a},56654:(s,g,i)=>{var o=i(83419),m=i(50792),c=i(92734),l=i(99125),h=i(35154),a=i(89639),f=i(8214),p=new o({Extends:m,initialize:function(v){m.call(this),this.scene=v.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=v,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,v.pluginEvents.once(f.BOOT,this.boot,this),v.pluginEvents.on(f.START,this.start,this)},boot:function(){var u=this.scene.sys.game,v=this.settings.input,y=u.config;this.enabled=h(v,"gamepad",y.inputGamepad)&&u.device.input.gamepads,this.target=h(v,"gamepad.target",y.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(f.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(f.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var u=this,v=this.target,y=function(x){x.defaultPrevented||!u.isActive()||(u.refreshPads(),u.queue.push(x))};this.onGamepadHandler=y,v.addEventListener("gamepadconnected",y,!1),v.addEventListener("gamepaddisconnected",y,!1),this.sceneInputPlugin.pluginEvents.on(f.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(f.UPDATE,this.update);for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].removeAllListeners()},disconnectAll:function(){for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].pad.connected=!1},refreshPads:function(){var u=navigator.getGamepads();if(!u)this.disconnectAll();else for(var v=this.gamepads,y=0;y<u.length;y++){var x=u[y];if(x){var b=x.id,w=x.index,C=v[w];if(C)C.id!==b?(C.destroy(),v[w]=new l(this,x)):C.update(x);else{var E=new l(this,x);v[w]=E,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=E):this._pad3=E:this._pad2=E:this._pad1=E}}}},getAll:function(){for(var u=[],v=this.gamepads,y=0;y<v.length;y++)v[y]&&u.push(v[y]);return u},getPad:function(u){for(var v=this.gamepads,y=0;y<v.length;y++)if(v[y]&&v[y].index===u)return v[y]},update:function(){if(this.enabled){this.refreshPads();var u=this.queue.length;if(u!==0)for(var v=this.queue.splice(0,u),y=0;y<u;y++){var x=v[y],b=this.getPad(x.gamepad.index);x.type==="gamepadconnected"?this.emit(c.CONNECTED,b,x):x.type==="gamepaddisconnected"&&this.emit(c.DISCONNECTED,b,x)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var u=0;u<this.gamepads.length;u++)this.gamepads[u]&&this.gamepads[u].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});a.register("GamepadPlugin",p,"gamepad","gamepad","inputGamepad"),s.exports=p},89651:s=>{s.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:s=>{s.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:s=>{s.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(s,g,i)=>{s.exports={DUALSHOCK_4:i(65294),SNES_USB:i(89651),XBOX_360:i(90089)}},46008:s=>{s.exports="down"},7629:s=>{s.exports="up"},42206:s=>{s.exports="connected"},86544:s=>{s.exports="disconnected"},94784:s=>{s.exports="down"},14325:s=>{s.exports="up"},92734:(s,g,i)=>{s.exports={BUTTON_DOWN:i(46008),BUTTON_UP:i(7629),CONNECTED:i(42206),DISCONNECTED:i(86544),GAMEPAD_BUTTON_DOWN:i(94784),GAMEPAD_BUTTON_UP:i(14325)}},48646:(s,g,i)=>{s.exports={Axis:i(97421),Button:i(28884),Events:i(92734),Gamepad:i(99125),GamepadPlugin:i(56654),Configs:i(64894)}},14350:(s,g,i)=>{var o=i(93301),m=i(79291),c={CreatePixelPerfectHandler:i(84409),CreateInteractiveObject:i(74457),Events:i(8214),Gamepad:i(48646),InputManager:i(7003),InputPlugin:i(48205),InputPluginCache:i(89639),Keyboard:i(51442),Mouse:i(87078),Pointer:i(42515),Touch:i(95618)};c=m(!1,c,o),s.exports=c},78970:(s,g,i)=>{var o=i(72905),m=i(83419),c=i(8443),l=i(8214),h=i(46032),a=i(29747),f=new m({initialize:function(u){this.manager=u,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=a,this.onKeyUp=a,u.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var p=this.manager.config;this.enabled=p.inputKeyboard,this.target=p.inputKeyboardEventTarget,this.addCapture(p.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(c.POST_STEP,this.postUpdate,this)},startListeners:function(){var p=this;this.onKeyDown=function(v){if(!(v.defaultPrevented||!p.enabled||!p.manager)){p.queue.push(v),p.manager.events.emit(l.MANAGER_PROCESS);var y=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;p.preventDefault&&!y&&p.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}},this.onKeyUp=function(v){if(!(v.defaultPrevented||!p.enabled||!p.manager)){p.queue.push(v),p.manager.events.emit(l.MANAGER_PROCESS);var y=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;p.preventDefault&&!y&&p.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}};var u=this.target;u&&(u.addEventListener("keydown",this.onKeyDown,!1),u.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var p=this.target;p.removeEventListener("keydown",this.onKeyDown,!1),p.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(p){typeof p=="string"&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var u=this.captures,v=0;v<p.length;v++){var y=p[v];typeof y=="string"&&(y=h[y.trim().toUpperCase()]),u.indexOf(y)===-1&&u.push(y)}this.preventDefault=u.length>0},removeCapture:function(p){typeof p=="string"&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var u=this.captures,v=0;v<p.length;v++){var y=p[v];typeof y=="string"&&(y=h[y.toUpperCase()]),o(u,y)}this.preventDefault=u.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(c.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});s.exports=f},28846:(s,g,i)=>{var o=i(83419),m=i(50792),c=i(95922),l=i(8443),h=i(35154),a=i(8214),f=i(89639),p=i(30472),u=i(46032),v=i(87960),y=i(74600),x=i(44594),b=i(56583),w=new o({Extends:m,initialize:function(E){m.call(this),this.game=E.systems.game,this.scene=E.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=E,this.manager=E.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,E.pluginEvents.once(a.BOOT,this.boot,this),E.pluginEvents.on(a.START,this.start,this)},boot:function(){var C=this.settings.input;this.enabled=h(C,"keyboard",!0);var E=h(C,"keyboard.capture",null);E&&this.addCaptures(E),this.sceneInputPlugin.pluginEvents.once(a.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(a.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(a.SHUTDOWN,this.shutdown,this),this.game.events.on(l.BLUR,this.resetKeys,this),this.scene.sys.events.on(x.PAUSE,this.resetKeys,this),this.scene.sys.events.on(x.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(C){return this.manager.addCapture(C),this},removeCapture:function(C){return this.manager.removeCapture(C),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:u.UP,down:u.DOWN,left:u.LEFT,right:u.RIGHT,space:u.SPACE,shift:u.SHIFT})},addKeys:function(C,E,T){E===void 0&&(E=!0),T===void 0&&(T=!1);var k={};if(typeof C=="string"){C=C.split(",");for(var A=0;A<C.length;A++){var I=C[A].trim();I&&(k[I]=this.addKey(I,E,T))}}else for(var B in C)k[B]=this.addKey(C[B],E,T);return k},addKey:function(C,E,T){E===void 0&&(E=!0),T===void 0&&(T=!1);var k=this.keys;if(C instanceof p){var A=k.indexOf(C);return A>-1?k[A]=C:k[C.keyCode]=C,E&&this.addCapture(C.keyCode),C.setEmitOnRepeat(T),C}return typeof C=="string"&&(C=u[C.toUpperCase()]),k[C]||(k[C]=new p(this,C),E&&this.addCapture(C),k[C].setEmitOnRepeat(T)),k[C]},removeKey:function(C,E,T){E===void 0&&(E=!1),T===void 0&&(T=!1);var k=this.keys,A;if(C instanceof p){var I=k.indexOf(C);I>-1&&(A=this.keys[I],this.keys[I]=void 0)}else typeof C=="string"&&(C=u[C.toUpperCase()]);return k[C]&&(A=k[C],k[C]=void 0),A&&(A.plugin=null,T&&this.removeCapture(A.keyCode),E&&A.destroy()),this},removeAllKeys:function(C,E){C===void 0&&(C=!1),E===void 0&&(E=!1);for(var T=this.keys,k=0;k<T.length;k++){var A=T[k];A&&(T[k]=void 0,E&&this.removeCapture(A.keyCode),C&&A.destroy())}return this},createCombo:function(C,E){return new v(this,C,E)},checkDown:function(C,E){if(E===void 0&&(E=0),this.enabled&&C.isDown){var T=b(this.time-C.timeDown,E);if(T>C._tick)return C._tick=T,!0}return!1},update:function(){var C=this.manager.queue,E=C.length;if(!(!this.isActive()||E===0))for(var T=this.keys,k=0;k<E;k++){var A=C[k],I=A.keyCode,B=T[I],M=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(I===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=I,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(B&&(M=B.isDown,B.onDown(A)),!A.cancelled&&(!B||!M)&&(y[I]&&this.emit(c.KEY_DOWN+y[I],A),A.cancelled||this.emit(c.ANY_KEY_DOWN,A))):(B&&B.onUp(A),A.cancelled||(y[I]&&this.emit(c.KEY_UP+y[I],A),A.cancelled||this.emit(c.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var C=this.keys,E=0;E<C.length;E++)C[E]&&C[E].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(a.MANAGER_PROCESS,this.update,this),this.game.events.off(l.BLUR,this.resetKeys),this.scene.sys.events.off(x.PAUSE,this.resetKeys,this),this.scene.sys.events.off(x.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var C=this.keys,E=0;E<C.length;E++)C[E]&&C[E].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});f.register("KeyboardPlugin",w,"keyboard","keyboard","inputKeyboard"),s.exports=w},66970:s=>{var g=function(i,o){return o.timeLastMatched=i.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};s.exports=g},87960:(s,g,i)=>{var o=i(83419),m=i(95922),c=i(95540),l=i(68769),h=i(92803),a=new o({initialize:function(p,u,v){if(v===void 0&&(v={}),u.length<2)return!1;this.manager=p,this.enabled=!0,this.keyCodes=[];for(var y=0;y<u.length;y++){var x=u[y];typeof x=="string"?this.keyCodes.push(x.toUpperCase().charCodeAt(0)):typeof x=="number"?this.keyCodes.push(x):x.hasOwnProperty("keyCode")&&this.keyCodes.push(x.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=c(v,"resetOnWrongKey",!0),this.maxKeyDelay=c(v,"maxKeyDelay",0),this.resetOnMatch=c(v,"resetOnMatch",!1),this.deleteOnMatch=c(v,"deleteOnMatch",!1);var b=this,w=function(C){if(!(b.matched||!b.enabled)){var E=l(C,b);E&&(b.manager.emit(m.COMBO_MATCH,b,C),b.resetOnMatch?h(b):b.deleteOnMatch&&b.destroy())}};this.onKeyDown=w,this.manager.on(m.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(m.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});s.exports=a},68769:(s,g,i)=>{var o=i(66970),m=function(c,l){if(l.matched)return!0;var h=!1,a=!1;if(c.keyCode===l.current)if(l.index>0&&l.maxKeyDelay>0){var f=l.timeLastMatched+l.maxKeyDelay;c.timeStamp<=f&&(a=!0,h=o(c,l))}else a=!0,h=o(c,l);return!a&&l.resetOnWrongKey&&(l.index=0,l.current=l.keyCodes[0]),h&&(l.timeLastMatched=c.timeStamp,l.matched=!0,l.timeMatched=c.timeStamp),h};s.exports=m},92803:s=>{var g=function(i){return i.current=i.keyCodes[0],i.index=0,i.timeLastMatched=0,i.matched=!1,i.timeMatched=0,i};s.exports=g},92612:s=>{s.exports="keydown"},23345:s=>{s.exports="keyup"},21957:s=>{s.exports="keycombomatch"},44743:s=>{s.exports="down"},3771:s=>{s.exports="keydown-"},46358:s=>{s.exports="keyup-"},75674:s=>{s.exports="up"},95922:(s,g,i)=>{s.exports={ANY_KEY_DOWN:i(92612),ANY_KEY_UP:i(23345),COMBO_MATCH:i(21957),DOWN:i(44743),KEY_DOWN:i(3771),KEY_UP:i(46358),UP:i(75674)}},51442:(s,g,i)=>{s.exports={Events:i(95922),KeyboardManager:i(78970),KeyboardPlugin:i(28846),Key:i(30472),KeyCodes:i(46032),KeyCombo:i(87960),AdvanceKeyCombo:i(66970),ProcessKeyCombo:i(68769),ResetKeyCombo:i(92803),JustDown:i(90229),JustUp:i(38796),DownDuration:i(37015),UpDuration:i(41170)}},37015:s=>{var g=function(i,o){o===void 0&&(o=50);var m=i.plugin.game.loop.time-i.timeDown;return i.isDown&&m<o};s.exports=g},90229:s=>{var g=function(i){return i._justDown?(i._justDown=!1,!0):!1};s.exports=g},38796:s=>{var g=function(i){return i._justUp?(i._justUp=!1,!0):!1};s.exports=g},30472:(s,g,i)=>{var o=i(83419),m=i(50792),c=i(95922),l=new o({Extends:m,initialize:function(a,f){m.call(this),this.plugin=a,this.keyCode=f,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(h){return this.emitOnRepeat=h,this},onDown:function(h){this.originalEvent=h,this.enabled&&(this.altKey=h.altKey,this.ctrlKey=h.ctrlKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.location=h.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(c.DOWN,this,h):(this.isDown=!0,this.isUp=!1,this.timeDown=h.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(c.DOWN,this,h)))},onUp:function(h){this.originalEvent=h,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=h.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(c.UP,this,h))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});s.exports=l},46032:s=>{var g={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};s.exports=g},74600:(s,g,i)=>{var o=i(46032),m={};for(var c in o)m[o[c]]=c;s.exports=m},41170:s=>{var g=function(i,o){o===void 0&&(o=50);var m=i.plugin.game.loop.time-i.timeUp;return i.isUp&&m<o};s.exports=g},85098:(s,g,i)=>{var o=i(83419),m=i(89357),c=i(8214),l=i(29747),h=new o({initialize:function(f){this.manager=f,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=l,this.onMouseDown=l,this.onMouseUp=l,this.onMouseDownWindow=l,this.onMouseUpWindow=l,this.onMouseOver=l,this.onMouseOut=l,this.onMouseWheel=l,this.pointerLockChange=l,this.isTop=!0,f.events.once(c.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputMouse,this.target=a.inputMouseEventTarget,this.passive=a.inputMousePassive,this.preventDefaultDown=a.inputMousePreventDefaultDown,this.preventDefaultUp=a.inputMousePreventDefaultUp,this.preventDefaultMove=a.inputMousePreventDefaultMove,this.preventDefaultWheel=a.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},requestPointerLock:function(){if(m.pointerLock){var a=this.target;a.requestPointerLock=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock,a.requestPointerLock()}},releasePointerLock:function(){m.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var a=this.target;if(a){var f=this,p=this.manager,u=p.canvas,v=window&&window.focus&&p.game.config.autoFocus;this.onMouseMove=function(x){!x.defaultPrevented&&f.enabled&&p&&p.enabled&&(p.onMouseMove(x),f.preventDefaultMove&&x.preventDefault())},this.onMouseDown=function(x){v&&window.focus(),!x.defaultPrevented&&f.enabled&&p&&p.enabled&&(p.onMouseDown(x),f.preventDefaultDown&&x.target===u&&x.preventDefault())},this.onMouseDownWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&f.enabled&&p&&p.enabled&&x.target!==u&&p.onMouseDown(x)},this.onMouseUp=function(x){!x.defaultPrevented&&f.enabled&&p&&p.enabled&&(p.onMouseUp(x),f.preventDefaultUp&&x.target===u&&x.preventDefault())},this.onMouseUpWindow=function(x){x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||!x.defaultPrevented&&f.enabled&&p&&p.enabled&&x.target!==u&&p.onMouseUp(x)},this.onMouseOver=function(x){!x.defaultPrevented&&f.enabled&&p&&p.enabled&&p.setCanvasOver(x)},this.onMouseOut=function(x){!x.defaultPrevented&&f.enabled&&p&&p.enabled&&p.setCanvasOut(x)},this.onMouseWheel=function(x){!x.defaultPrevented&&f.enabled&&p&&p.enabled&&p.onMouseWheel(x),f.preventDefaultWheel&&x.target===u&&x.preventDefault()};var y={passive:!0};if(a.addEventListener("mousemove",this.onMouseMove),a.addEventListener("mousedown",this.onMouseDown),a.addEventListener("mouseup",this.onMouseUp),a.addEventListener("mouseover",this.onMouseOver,y),a.addEventListener("mouseout",this.onMouseOut,y),this.preventDefaultWheel?a.addEventListener("wheel",this.onMouseWheel,{passive:!1}):a.addEventListener("wheel",this.onMouseWheel,y),window&&p.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,y),window.top.addEventListener("mouseup",this.onMouseUpWindow,y)}catch(x){window.addEventListener("mousedown",this.onMouseDownWindow,y),window.addEventListener("mouseup",this.onMouseUpWindow,y),this.isTop=!1}m.pointerLock&&(this.pointerLockChange=function(x){var b=f.target;f.locked=document.pointerLockElement===b||document.mozPointerLockElement===b||document.webkitPointerLockElement===b,p.onPointerLockChange(x)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("mousemove",this.onMouseMove),a.removeEventListener("mousedown",this.onMouseDown),a.removeEventListener("mouseup",this.onMouseUp),a.removeEventListener("mouseover",this.onMouseOver),a.removeEventListener("mouseout",this.onMouseOut),window&&(a=this.isTop?window.top:window,a.removeEventListener("mousedown",this.onMouseDownWindow),a.removeEventListener("mouseup",this.onMouseUpWindow)),m.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});s.exports=h},87078:(s,g,i)=>{s.exports={MouseManager:i(85098)}},36210:(s,g,i)=>{var o=i(83419),m=i(8214),c=i(29747),l=new o({initialize:function(a){this.manager=a,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=c,this.onTouchStartWindow=c,this.onTouchMove=c,this.onTouchEnd=c,this.onTouchEndWindow=c,this.onTouchCancel=c,this.onTouchCancelWindow=c,this.isTop=!0,a.events.once(m.MANAGER_BOOT,this.boot,this)},boot:function(){var h=this.manager.config;this.enabled=h.inputTouch,this.target=h.inputTouchEventTarget,this.capture=h.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,h.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(h){return h.preventDefault(),!1}),this},startListeners:function(){var h=this.target;if(h){var a=this,f=this.manager,p=f.canvas,u=window&&window.focus&&f.game.config.autoFocus;this.onTouchMove=function(b){!b.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchMove(b),a.capture&&b.cancelable&&b.preventDefault())},this.onTouchStart=function(b){u&&window.focus(),!b.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchStart(b),a.capture&&b.cancelable&&b.target===p&&b.preventDefault())},this.onTouchStartWindow=function(b){!b.defaultPrevented&&a.enabled&&f&&f.enabled&&b.target!==p&&f.onTouchStart(b)},this.onTouchEnd=function(b){!b.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchEnd(b),a.capture&&b.cancelable&&b.target===p&&b.preventDefault())},this.onTouchEndWindow=function(b){!b.defaultPrevented&&a.enabled&&f&&f.enabled&&b.target!==p&&f.onTouchEnd(b)},this.onTouchCancel=function(b){!b.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchCancel(b),a.capture&&b.preventDefault())},this.onTouchCancelWindow=function(b){!b.defaultPrevented&&a.enabled&&f&&f.enabled&&f.onTouchCancel(b)};var v=this.capture,y={passive:!0},x={passive:!1};if(h.addEventListener("touchstart",this.onTouchStart,v?x:y),h.addEventListener("touchmove",this.onTouchMove,v?x:y),h.addEventListener("touchend",this.onTouchEnd,v?x:y),h.addEventListener("touchcancel",this.onTouchCancel,v?x:y),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,x),window.top.addEventListener("touchend",this.onTouchEndWindow,x),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,x)}catch(b){window.addEventListener("touchstart",this.onTouchStartWindow,x),window.addEventListener("touchend",this.onTouchEndWindow,x),window.addEventListener("touchcancel",this.onTouchCancelWindow,x),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var h=this.target;h.removeEventListener("touchstart",this.onTouchStart),h.removeEventListener("touchmove",this.onTouchMove),h.removeEventListener("touchend",this.onTouchEnd),h.removeEventListener("touchcancel",this.onTouchCancel),window&&(h=this.isTop?window.top:window,h.removeEventListener("touchstart",this.onTouchStartWindow),h.removeEventListener("touchend",this.onTouchEndWindow),h.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});s.exports=l},95618:(s,g,i)=>{s.exports={TouchManager:i(36210)}},41299:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(54899),l=i(95540),h=i(98356),a=i(3374),f=i(84376),p=i(92638),u=new o({initialize:function(y,x){if(this.loader=y,this.cache=l(x,"cache",!1),this.type=l(x,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=l(x,"key",!1);var b=this.key;if(y.prefix&&y.prefix!==""&&(this.key=y.prefix+b),!this.key)throw new Error("Invalid File key: "+this.key);var w=l(x,"url");w===void 0?w=y.path+b+"."+l(x,"extension",""):typeof w=="string"&&!w.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(w=y.path+w),this.url=w,this.src="",this.xhrSettings=p(l(x,"responseType",void 0)),l(x,"xhrSettings",!1)&&(this.xhrSettings=a(this.xhrSettings,l(x,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?m.FILE_POPULATED:m.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=l(x,"config",{}),this.multiFile,this.linkFile,this.base64=typeof w=="string"&&w.indexOf("data:")===0},setLink:function(v){this.linkFile=v,v.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===m.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=m.FILE_LOADING,this.src=h(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=f(this,this.loader.xhr))},onLoad:function(v,y){var x=v.responseURL&&this.loader.localSchemes.some(function(C){return v.responseURL.indexOf(C)===0}),b=x&&y.target.status===0,w=!(y.target&&y.target.status!==200)||b;v.readyState===4&&v.status>=400&&v.status<=599&&(w=!1),this.state=m.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,w)},onBase64Load:function(v){this.xhrLoader=v,this.state=m.FILE_LOADED,this.percentComplete=1,this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(v){v.lengthComputable&&(this.bytesLoaded=v.loaded,this.bytesTotal=v.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(c.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=m.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=m.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=m.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(v){if(this.state!==m.FILE_PENDING_DESTROY){v===void 0&&(v=this.data);var y=this.key,x=this.type;this.loader.emit(c.FILE_COMPLETE,y,x,v),this.loader.emit(c.FILE_KEY_COMPLETE+x+"-"+y,y,x,v),this.loader.flagForRemoval(this),this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});u.createObjectURL=function(v,y,x){if(typeof URL=="function")v.src=URL.createObjectURL(y);else{var b=new FileReader;b.onload=function(){v.removeAttribute("crossOrigin"),v.src="data:"+(y.type||x)+";base64,"+b.result.split(",")[1]},b.onerror=v.onerror,b.readAsDataURL(y)}},u.revokeObjectURL=function(v){typeof URL=="function"&&URL.revokeObjectURL(v.src)},s.exports=u},74099:s=>{var g={},i={install:function(o){for(var m in g)o[m]=g[m]},register:function(o,m){g[o]=m},destroy:function(){g={}}};s.exports=i},98356:s=>{var g=function(i,o){return i.url?i.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?i.url:o+i.url:!1};s.exports=g},74261:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(35072),l=i(50792),h=i(54899),a=i(74099),f=i(95540),p=i(35154),u=i(37277),v=i(44594),y=i(92638),x=new o({Extends:l,initialize:function(w){l.call(this);var C=w.sys.game.config,E=w.sys.settings.loader;this.scene=w,this.systems=w.sys,this.cacheManager=w.sys.cache,this.textureManager=w.sys.textures,this.sceneManager=w.sys.game.scene,a.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(f(E,"baseURL",C.loaderBaseURL)),this.setPath(f(E,"path",C.loaderPath)),this.setPrefix(f(E,"prefix",C.loaderPrefix)),this.maxParallelDownloads=f(E,"maxParallelDownloads",C.loaderMaxParallelDownloads),this.xhr=y(f(E,"responseType",C.loaderResponseType),f(E,"async",C.loaderAsync),f(E,"user",C.loaderUser),f(E,"password",C.loaderPassword),f(E,"timeout",C.loaderTimeout),f(E,"withCredentials",C.loaderWithCredentials)),this.crossOrigin=f(E,"crossOrigin",C.loaderCrossOrigin),this.imageLoadType=f(E,"imageLoadType",C.loaderImageLoadType),this.localSchemes=f(E,"localScheme",C.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new c,this.inflight=new c,this.queue=new c,this._deleteQueue=new c,this.totalFailed=0,this.totalComplete=0,this.state=m.LOADER_IDLE,this.multiKeyIndex=0,w.sys.events.once(v.BOOT,this.boot,this),w.sys.events.on(v.START,this.pluginStart,this)},boot:function(){this.systems.events.once(v.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(v.SHUTDOWN,this.shutdown,this)},setBaseURL:function(b){return b===void 0&&(b=""),b!==""&&b.substr(-1)!=="/"&&(b=b.concat("/")),this.baseURL=b,this},setPath:function(b){return b===void 0&&(b=""),b!==""&&b.substr(-1)!=="/"&&(b=b.concat("/")),this.path=b,this},setPrefix:function(b){return b===void 0&&(b=""),this.prefix=b,this},setCORS:function(b){return this.crossOrigin=b,this},addFile:function(b){Array.isArray(b)||(b=[b]);for(var w=0;w<b.length;w++){var C=b[w];this.keyExists(C)||(this.list.set(C),this.emit(h.ADD,C.key,C.type,this,C),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(b){var w=b.hasCacheConflict();return w||this.list.iterate(function(C){if(C.type===b.type&&C.key===b.key)return w=!0,!1}),!w&&this.isLoading()&&(this.inflight.iterate(function(C){if(C.type===b.type&&C.key===b.key)return w=!0,!1}),this.queue.iterate(function(C){if(C.type===b.type&&C.key===b.key)return w=!0,!1})),w},addPack:function(b,w){if(typeof w=="string"){var C=p(b,w);C&&(b={packKey:C})}var E=0,T=this.baseURL,k=this.path,A=this.prefix;for(var I in b)if(Object.prototype.hasOwnProperty.call(b,I)){var B=b[I],M=f(B,"baseURL",T),O=f(B,"path",k),P=f(B,"prefix",A),L=f(B,"files",null),_=f(B,"defaultType","void");if(Array.isArray(L)){this.setBaseURL(M),this.setPath(O),this.setPrefix(P);for(var G=0;G<L.length;G++){var $=L[G],W=$.hasOwnProperty("type")?$.type:_;this[W]&&(this[W]($),E++)}}}return this.setBaseURL(T),this.setPath(k),this.setPrefix(A),E>0},isLoading:function(){return this.state===m.LOADER_LOADING||this.state===m.LOADER_PROCESSING},isReady:function(){return this.state===m.LOADER_IDLE||this.state===m.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(h.START,this),this.list.size===0?this.loadComplete():(this.state=m.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(v.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(h.PROGRESS,this.progress)},update:function(){this.state===m.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(b){if((b.state===m.FILE_POPULATED||b.state===m.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(b),this.list.delete(b),b.crossOrigin||(b.crossOrigin=this.crossOrigin),b.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(b,w){this.inflight&&(this.inflight.delete(b),this.updateProgress(),w?(this.totalComplete++,this.queue.set(b),this.emit(h.FILE_LOAD,b),b.onProcess()):(this.totalFailed++,this._deleteQueue.set(b),this.emit(h.FILE_LOAD_ERROR,b),this.fileProcessComplete(b)))},fileProcessComplete:function(b){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(b.state===m.FILE_ERRORED?b.multiFile&&b.multiFile.onFileFailed(b):b.state===m.FILE_COMPLETE&&(b.multiFile?b.multiFile.isReadyToProcess()&&(b.multiFile.addToCache(),b.multiFile.pendingDestroy()):(b.addToCache(),b.pendingDestroy())),this.queue.delete(b),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(h.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=m.LOADER_COMPLETE,this.systems.events.off(v.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(h.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(b){this._deleteQueue.set(b)},saveJSON:function(b,w){return this.save(JSON.stringify(b),w)},save:function(b,w,C){w===void 0&&(w="file.json"),C===void 0&&(C="application/json");var E=new Blob([b],{type:C}),T=URL.createObjectURL(E),k=document.createElement("a");return k.download=w,k.textContent="Download "+w,k.href=T,k.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var b=this.systems.game.config,w=this.systems.settings.loader;this.setBaseURL(f(w,"baseURL",b.loaderBaseURL)),this.setPath(f(w,"path",b.loaderPath)),this.setPrefix(f(w,"prefix",b.loaderPrefix)),this.state=m.LOADER_IDLE},shutdown:function(){this.reset(),this.state=m.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=m.LOADER_DESTROYED,this.systems.events.off(v.UPDATE,this.update,this),this.systems.events.off(v.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});u.register("Loader",x,"load"),s.exports=x},3374:(s,g,i)=>{var o=i(79291),m=i(92638),c=function(l,h){var a=l===void 0?m():o({},l);if(h)for(var f in h)h[f]!==void 0&&(a[f]=h[f]);return a};s.exports=c},26430:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(54899),l=new o({initialize:function(a,f,p,u){var v=[];u.forEach(function(b){b&&v.push(b)}),this.loader=a,this.type=f,this.key=p;var y=this.key;a.prefix&&a.prefix!==""&&(this.key=a.prefix+y),this.multiKeyIndex=a.multiKeyIndex++,this.files=v,this.state=m.FILE_PENDING,this.complete=!1,this.pending=v.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var x=0;x<v.length;x++)v[x].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(h){return this.files.push(h),h.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(h){var a=this.files.indexOf(h);a!==-1&&this.pending--},onFileFailed:function(h){var a=this.files.indexOf(h);a!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,h.type,h.key))},pendingDestroy:function(){if(this.state!==m.FILE_PENDING_DESTROY){var h=this.key,a=this.type;this.loader.emit(c.FILE_COMPLETE,h,a),this.loader.emit(c.FILE_KEY_COMPLETE+a+"-"+h,h,a),this.loader.flagForRemoval(this);for(var f=0;f<this.files.length;f++)this.files[f].pendingDestroy();this.state=m.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});s.exports=l},84376:(s,g,i)=>{var o=i(3374),m=function(c,l){var h=o(l,c.xhrSettings);if(c.base64){var a=c.url.split(";base64,").pop()||c.url.split(",").pop(),f={responseText:atob(a)};c.onBase64Load(f);return}var p=new XMLHttpRequest;if(p.open("GET",c.src,h.async,h.user,h.password),p.responseType=c.xhrSettings.responseType,p.timeout=h.timeout,h.headers)for(var u in h.headers)p.setRequestHeader(u,h.headers[u]);return h.header&&h.headerValue&&p.setRequestHeader(h.header,h.headerValue),h.requestedWith&&p.setRequestHeader("X-Requested-With",h.requestedWith),h.overrideMimeType&&p.overrideMimeType(h.overrideMimeType),h.withCredentials&&(p.withCredentials=!0),p.onload=c.onLoad.bind(c,p),p.onerror=c.onError.bind(c,p),p.onprogress=c.onProgress.bind(c),p.ontimeout=c.onError.bind(c,p),p.send(),p};s.exports=m},92638:s=>{var g=function(i,o,m,c,l,h){return i===void 0&&(i=""),o===void 0&&(o=!0),m===void 0&&(m=""),c===void 0&&(c=""),l===void 0&&(l=0),h===void 0&&(h=!1),{responseType:i,async:o,user:m,password:c,timeout:l,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:h}};s.exports=g},23906:s=>{var g={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};s.exports=g},42155:s=>{s.exports="addfile"},38991:s=>{s.exports="complete"},27540:s=>{s.exports="filecomplete"},87464:s=>{s.exports="filecomplete-"},94486:s=>{s.exports="loaderror"},13035:s=>{s.exports="load"},38144:s=>{s.exports="fileprogress"},97520:s=>{s.exports="postprocess"},85595:s=>{s.exports="progress"},55680:s=>{s.exports="start"},54899:(s,g,i)=>{s.exports={ADD:i(42155),COMPLETE:i(38991),FILE_COMPLETE:i(27540),FILE_KEY_COMPLETE:i(87464),FILE_LOAD_ERROR:i(94486),FILE_LOAD:i(13035),FILE_PROGRESS:i(38144),POST_PROCESS:i(97520),PROGRESS:i(85595),START:i(55680)}},14135:(s,g,i)=>{var o=i(83419),m=i(74099),c=i(518),l=i(54899),h=new o({Extends:c,initialize:function(f,p,u,v,y){c.call(this,f,p,u,v,y),this.type="animationJSON"},onProcess:function(){this.loader.once(l.POST_PROCESS,this.onLoadComplete,this),c.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});m.register("animation",function(a,f,p,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new h(this,a[v]));else this.addFile(new h(this,a,f,u,p));return this}),s.exports=h},76272:(s,g,i)=>{var o=i(83419),m=i(74099),c=i(95540),l=i(19550),h=i(41212),a=i(518),f=i(26430),p=new o({Extends:f,initialize:function(v,y,x,b,w,C){var E,T;if(h(y)){var k=y;y=c(k,"key"),E=new l(v,{key:y,url:c(k,"textureURL"),extension:c(k,"textureExtension","png"),normalMap:c(k,"normalMap"),xhrSettings:c(k,"textureXhrSettings")}),T=new a(v,{key:y,url:c(k,"atlasURL"),extension:c(k,"atlasExtension","json"),xhrSettings:c(k,"atlasXhrSettings")})}else E=new l(v,y,x,w),T=new a(v,y,b,C);E.linkFile?f.call(this,v,"atlasjson",y,[E,T,E.linkFile]):f.call(this,v,"atlasjson",y,[E,T])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],y=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,v.data,y),v.addToCache(),this.complete=!0}}});m.register("aseprite",function(u,v,y,x,b){var w;if(Array.isArray(u))for(var C=0;C<u.length;C++)w=new p(this,u[C]),this.addFile(w.files);else w=new p(this,u,v,y,x,b),this.addFile(w.files);return this}),s.exports=p},38734:(s,g,i)=>{var o=i(83419),m=i(74099),c=i(95540),l=i(19550),h=i(41212),a=i(518),f=i(26430),p=new o({Extends:f,initialize:function(v,y,x,b,w,C){var E,T;if(h(y)){var k=y;y=c(k,"key"),E=new l(v,{key:y,url:c(k,"textureURL"),extension:c(k,"textureExtension","png"),normalMap:c(k,"normalMap"),xhrSettings:c(k,"textureXhrSettings")}),T=new a(v,{key:y,url:c(k,"atlasURL"),extension:c(k,"atlasExtension","json"),xhrSettings:c(k,"atlasXhrSettings")})}else E=new l(v,y,x,w),T=new a(v,y,b,C);E.linkFile?f.call(this,v,"atlasjson",y,[E,T,E.linkFile]):f.call(this,v,"atlasjson",y,[E,T])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],y=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,v.data,y),this.complete=!0}}});m.register("atlas",function(u,v,y,x,b){var w;if(Array.isArray(u))for(var C=0;C<u.length;C++)w=new p(this,u[C]),this.addFile(w.files);else w=new p(this,u,v,y,x,b),this.addFile(w.files);return this}),s.exports=p},74599:(s,g,i)=>{var o=i(83419),m=i(74099),c=i(95540),l=i(19550),h=i(41212),a=i(26430),f=i(57318),p=new o({Extends:a,initialize:function(v,y,x,b,w,C){var E,T;if(h(y)){var k=y;y=c(k,"key"),E=new l(v,{key:y,url:c(k,"textureURL"),extension:c(k,"textureExtension","png"),normalMap:c(k,"normalMap"),xhrSettings:c(k,"textureXhrSettings")}),T=new f(v,{key:y,url:c(k,"atlasURL"),extension:c(k,"atlasExtension","xml"),xhrSettings:c(k,"atlasXhrSettings")})}else E=new l(v,y,x,w),T=new f(v,y,b,C);E.linkFile?a.call(this,v,"atlasxml",y,[E,T,E.linkFile]):a.call(this,v,"atlasxml",y,[E,T])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],y=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(u.key,u.data,v.data,y),this.complete=!0}}});m.register("atlasXML",function(u,v,y,x,b){var w;if(Array.isArray(u))for(var C=0;C<u.length;C++)w=new p(this,u[C]),this.addFile(w.files);else w=new p(this,u,v,y,x,b),this.addFile(w.files);return this}),s.exports=p},21097:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(89749),f=i(41212),p=new o({Extends:c,initialize:function(v,y,x,b,w){if(f(y)){var C=y;y=h(C,"key"),b=h(C,"xhrSettings"),w=h(C,"context",w)}var E={type:"audio",cache:v.cacheManager.audio,extension:x.type,responseType:"arraybuffer",key:y,url:x.url,xhrSettings:b,config:{context:w}};c.call(this,v,E)},onProcess:function(){this.state=m.FILE_PROCESSING;var u=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(v){u.data=v,u.onProcessComplete()},function(v){console.error("Error decoding audio: "+u.key+" - ",v?v.message:null),u.onProcessError()}),this.config.context=null}});p.create=function(u,v,y,x,b){var w=u.systems.game,C=w.config.audio,E=w.device.audio;f(v)&&(y=h(v,"url",[]),x=h(v,"config",{}));var T=p.getAudioURL(w,y);return T?E.webAudio&&!C.disableWebAudio?new p(u,v,T,b,w.sound.context):new a(u,v,T,x):(console.warn('No audio URLs for "%s" matched this device',v),null)},p.getAudioURL=function(u,v){Array.isArray(v)||(v=[v]);for(var y=0;y<v.length;y++){var x=h(v[y],"url",v[y]);if(x.indexOf("blob:")===0||x.indexOf("data:")===0)return{url:x,type:""};var b=x.match(/\.([a-zA-Z0-9]+)($|\?)/);if(b=h(v[y],"type",b?b[1]:"").toLowerCase(),u.device.audio[b])return{url:x,type:b}}return null},l.register("audio",function(u,v,y,x){var b=this.systems.game,w=b.config.audio,C=b.device.audio;if(w.noAudio||!C.webAudio&&!C.audioData)return this;var E;if(Array.isArray(u))for(var T=0;T<u.length;T++)E=p.create(this,u[T]),E&&this.addFile(E);else E=p.create(this,u,v,y,x),E&&this.addFile(E);return this}),s.exports=p},89524:(s,g,i)=>{var o=i(21097),m=i(83419),c=i(74099),l=i(95540),h=i(41212),a=i(518),f=i(26430),p=new m({Extends:f,initialize:function(v,y,x,b,w,C,E){if(h(y)){var T=y;y=l(T,"key"),x=l(T,"jsonURL"),b=l(T,"audioURL"),w=l(T,"audioConfig"),C=l(T,"audioXhrSettings"),E=l(T,"jsonXhrSettings")}var k;if(!b)k=new a(v,y,x,E),f.call(this,v,"audiosprite",y,[k]),this.config.resourceLoad=!0,this.config.audioConfig=w,this.config.audioXhrSettings=C;else{var A=o.create(v,y,b,w,C);A&&(k=new a(v,y,x,E),f.call(this,v,"audiosprite",y,[A,k]),this.config.resourceLoad=!1)}},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,this.config.resourceLoad&&u.type==="json"&&u.data.hasOwnProperty("resources"))){var y=u.data.resources,x=l(this.config,"audioConfig"),b=l(this.config,"audioXhrSettings"),w=o.create(this.loader,u.key,y,x,b);w&&(this.addToMultiFile(w),this.loader.addFile(w))}},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1];u.addToCache(),v.addToCache(),this.complete=!0}}});c.register("audioSprite",function(u,v,y,x,b,w){var C=this.systems.game,E=C.config.audio,T=C.device.audio;if(E&&E.noAudio||!T.webAudio&&!T.audioData)return this;var k;if(Array.isArray(u))for(var A=0;A<u.length;A++)k=new p(this,u[A]),k.files&&this.addFile(k.files);else k=new p(this,u,v,y,x,b,w),k.files&&this.addFile(k.files);return this})},85722:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=new o({Extends:c,initialize:function(u,v,y,x,b){var w="bin";if(a(v)){var C=v;v=h(C,"key"),y=h(C,"url"),x=h(C,"xhrSettings"),w=h(C,"extension",w),b=h(C,"dataType",b)}var E={type:"binary",cache:u.cacheManager.binary,extension:w,responseType:"arraybuffer",key:v,url:y,xhrSettings:x,config:{dataType:b}};c.call(this,u,E)},onProcess:function(){this.state=m.FILE_PROCESSING;var p=this.config.dataType;this.data=p?new p(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});l.register("binary",function(p,u,v,y){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new f(this,p[x]));else this.addFile(new f(this,p,u,y,v));return this}),s.exports=f},97025:(s,g,i)=>{var o=i(83419),m=i(74099),c=i(95540),l=i(19550),h=i(41212),a=i(26430),f=i(21859),p=i(57318),u=new o({Extends:a,initialize:function(y,x,b,w,C,E){var T,k;if(h(x)){var A=x;x=c(A,"key"),T=new l(y,{key:x,url:c(A,"textureURL"),extension:c(A,"textureExtension","png"),normalMap:c(A,"normalMap"),xhrSettings:c(A,"textureXhrSettings")}),k=new p(y,{key:x,url:c(A,"fontDataURL"),extension:c(A,"fontDataExtension","xml"),xhrSettings:c(A,"fontDataXhrSettings")})}else T=new l(y,x,b,C),k=new p(y,x,w,E);T.linkFile?a.call(this,y,"bitmapfont",x,[T,k,T.linkFile]):a.call(this,y,"bitmapfont",x,[T,k])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],y=this.files[1];v.addToCache();var x=v.cache.get(v.key),b=f(y.data,v.cache.getFrame(v.key),0,0,x);this.loader.cacheManager.bitmapFont.add(v.key,{data:b,texture:v.key,frame:null}),this.complete=!0}}});m.register("bitmapFont",function(v,y,x,b,w){var C;if(Array.isArray(v))for(var E=0;E<v.length;E++)C=new u(this,v[E]),this.addFile(C.files);else C=new u(this,v,y,x,b,w),this.addFile(C.files);return this}),s.exports=u},16024:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=new o({Extends:c,initialize:function(u,v,y,x){var b="css";if(a(v)){var w=v;v=h(w,"key"),y=h(w,"url"),x=h(w,"xhrSettings"),b=h(w,"extension",b)}var C={type:"script",cache:!1,extension:b,responseType:"text",key:v,url:y,xhrSettings:x};c.call(this,u,C)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("css",function(p,u,v){if(Array.isArray(p))for(var y=0;y<p.length;y++)this.addFile(new f(this,p[y]));else this.addFile(new f(this,p,u,v));return this}),s.exports=f},69559:(s,g,i)=>{var o=i(38734),m=i(85722),c=i(83419),l=i(74099),h=i(95540),a=i(19550),f=i(41212),p=i(518),u=i(31403),v=i(46975),y=i(59327),x=i(26430),b=i(82038),w=i(55222),C=new c({Extends:x,initialize:function(T,k,A,I){if(A.multiAtlasURL){var B=new p(T,{key:k,url:A.multiAtlasURL,xhrSettings:I,config:A});x.call(this,T,"texture",k,[B])}else{var M=A.textureURL.substr(A.textureURL.length-3);A.type||(A.type=M.toLowerCase()==="ktx"?"KTX":"PVR");var O=new m(T,{key:k,url:A.textureURL,extension:M,xhrSettings:I,config:A});if(A.atlasURL){var P=new p(T,{key:k,url:A.atlasURL,xhrSettings:I,config:A});x.call(this,T,"texture",k,[O,P])}else x.call(this,T,"texture",k,[O])}this.config=A},onFileComplete:function(E){var T=this.files.indexOf(E);if(T!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(E.type==="json"&&E.data.hasOwnProperty("textures")){var k=E.data.textures,A=this.config,I=this.loader,B=I.baseURL,M=I.path,O=I.prefix,P=h(A,"multiBaseURL",this.baseURL),L=h(A,"multiPath",this.path),_=h(A,"prefix",this.prefix),G=h(A,"textureXhrSettings");P&&I.setBaseURL(P),L&&I.setPath(L),_&&I.setPrefix(_);for(var $=0;$<k.length;$++){var W=k[$].image,Y="CMA"+this.multiKeyIndex+"_"+W,z=new m(I,Y,W,G);if(this.addToMultiFile(z),I.addFile(z),k[$].normalMap){var F=new m(I,Y,k[$].normalMap,G);F.type="normalMap",z.setLink(F),this.addToMultiFile(F),I.addFile(F)}}I.setBaseURL(B),I.setPath(M),I.setPrefix(O)}}},addToCache:function(){function E(P){console.warn('Compressed Texture Invalid: "'+B.key+'". '+P)}if(this.isReadyToProcess()){var T=this.config;if(T.multiAtlasURL)this.addMultiToCache();else{var k=this.loader.systems.renderer,A=this.loader.textureManager,I,B=this.files[0],M=this.files[1];if(T.type==="PVR"?I=b(B.data):T.type==="KTX"&&(I=u(B.data),I||E("KTX file contains unsupported format.")),I&&!w(I)&&(E("Texture dimensions failed verification. Check the texture format specifications for "+T.format+" 0x"+I.internalFormat.toString(16)+"."),I=null),I&&!k.supportsCompressedTexture(T.format,I.internalFormat)&&(E("Texture format "+T.format+" with internal format "+I.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),I=null),I){I.format=k.getCompressedTextureName(T.format,I.internalFormat);var O=M&&M.data?M.data:null;A.addCompressedTexture(B.key,I,O)}}this.complete=!0}},addMultiToCache:function(){for(var E=this.config,T=this.files[0],k=[],A=[],I=[],B=this.loader.systems.renderer,M=this.loader.textureManager,O,P=1;P<this.files.length;P++){var L=this.files[P];if(L.type!=="normalMap")for(var _=L.key.indexOf("_"),G=L.key.substr(_+1),$=L.data,W=0;W<T.data.textures.length;W++){var Y=T.data.textures[W];if(Y.image===G){E.type==="PVR"?O=b($):E.type==="KTX"&&(O=u($)),O&&B.supportsCompressedTexture(E.format,O.internalFormat)&&(O.format=B.getCompressedTextureName(E.format,O.internalFormat),A.push(O),k.push(Y),L.linkFile&&I.push(L.linkFile.data));break}}}I.length===0&&(I=void 0),M.addAtlasJSONArray(this.key,A,k,I),this.complete=!0}});l.register("texture",function(E,T,k){var A=this.systems.renderer,I=function(M,O,P,L){var _={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(f(O)){var G=O;O=h(G,"key"),P=h(G,"url"),L=h(G,"xhrSettings")}var $=!1;for(var W in P)if(A.supportsCompressedTexture(W)){var Y=P[W];typeof Y=="string"?_.textureURL=Y:_=v(Y,_),_.format=W.toUpperCase(),$=!0;break}if(!$)console.warn("No supported compressed texture format or IMG fallback",O);else if(_.format==="IMG"){var z,F;_.multiAtlasURL?(F=new y(M,O,_.multiAtlasURL,_.multiPath,_.multiBaseURL,L),z=F.files):_.atlasURL?(F=new o(M,O,_.textureURL,_.atlasURL,L),z=F.files):z=new a(M,O,_.textureURL,L),M.addFile(z)}else{var N=new C(M,O,_,L);M.addFile(N.files)}};if(Array.isArray(E))for(var B=0;B<E.length;B++)I(this,E[B]);else I(this,E,T,k);return this}),s.exports=C},47931:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=i(73894),p=new o({Extends:c,initialize:function(v,y,x,b,w){var C="glsl";if(a(y)){var E=y;y=h(E,"key"),x=h(E,"url"),b=h(E,"shaderType","fragment"),w=h(E,"xhrSettings"),C=h(E,"extension",C)}else b===void 0&&(b="fragment");var T={type:"glsl",cache:v.cacheManager.shader,extension:C,responseType:"text",key:y,url:x,config:{shaderType:b},xhrSettings:w};c.call(this,v,T)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.split(`
`),v=this.extractBlock(u,0);if(v)for(;v;){var y=this.getShaderName(v.header),x=this.getShaderType(v.header),b=this.getShaderUniforms(v.header),w=v.shader;if(this.cache.has(y)){var C=this.cache.get(y);x==="fragment"?C.fragmentSrc=w:C.vertexSrc=w,C.uniforms||(C.uniforms=b)}else x==="fragment"?this.cache.add(y,new f(y,w,"",b)):this.cache.add(y,new f(y,"",w,b));v=this.extractBlock(u,v.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new f(this.key,this.data)):this.cache.add(this.key,new f(this.key,"",this.data))},getShaderName:function(u){for(var v=0;v<u.length;v++){var y=u[v].trim();if(y.substring(0,5)==="name:")return y.substring(5).trim()}return this.key},getShaderType:function(u){for(var v=0;v<u.length;v++){var y=u[v].trim();if(y.substring(0,5)==="type:")return y.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(u){for(var v={},y=0;y<u.length;y++){var x=u[y].trim();if(x.substring(0,8)==="uniform."){var b=x.indexOf(":");if(b){var w=x.substring(8,b);try{v[w]=JSON.parse(x.substring(b+1))}catch(C){console.warn("Invalid uniform JSON: "+w)}}}}return v},extractBlock:function(u,v){for(var y=-1,x=-1,b=-1,w=!1,C=!1,E=[],T=[],k=v;k<u.length;k++){var A=u[k].trim();if(A==="---")if(y===-1)y=k,w=!0;else if(w)x=k,w=!1,C=!0;else{C=!1;break}else w?E.push(A):C&&(T.push(A),b=k)}return!w&&x!==-1?{header:E,shader:T.join(`
`),offset:b}:null}});l.register("glsl",function(u,v,y,x){if(Array.isArray(u))for(var b=0;b<u.length;b++)this.addFile(new p(this,u[b]));else this.addFile(new p(this,u,v,y,x));return this}),s.exports=p},89749:(s,g,i)=>{var o=i(83419),m=i(54899),c=i(41299),l=i(95540),h=i(98356),a=i(41212),f=new o({Extends:c,initialize:function(u,v,y,x){if(a(v)){var b=v;v=l(b,"key"),x=l(b,"config",x)}var w={type:"audio",cache:u.cacheManager.audio,extension:y.type,key:v,url:y.url,config:x};c.call(this,u,w),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var p=0;p<this.data.length;p++){var u=this.data[p];u.oncanplaythrough=null,u.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(p){var u=p.target;u.oncanplaythrough=null,u.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(m.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var p=this.config&&this.config.instances||1;this.filesTotal=p,this.filesLoaded=0,this.percentComplete=0;for(var u=0;u<p;u++){var v=new Audio;v.dataset||(v.dataset={}),v.dataset.name=this.key+("0"+u).slice(-2),v.dataset.used="false",this.locked?v.dataset.locked="true":(v.dataset.locked="false",v.preload="auto",v.oncanplaythrough=this.onProgress.bind(this),v.onerror=this.onError.bind(this)),this.data.push(v)}for(u=0;u<this.data.length;u++)v=this.data[u],v.src=h(this,this.loader.baseURL),this.locked||v.load();this.locked&&setTimeout(this.onLoad.bind(this))}});s.exports=f},88470:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=new o({Extends:c,initialize:function(u,v,y,x){var b="html";if(a(v)){var w=v;v=h(w,"key"),y=h(w,"url"),x=h(w,"xhrSettings"),b=h(w,"extension",b)}var C={type:"text",cache:u.cacheManager.html,extension:b,responseType:"text",key:v,url:y,xhrSettings:x};c.call(this,u,C)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("html",function(p,u,v){if(Array.isArray(p))for(var y=0;y<p.length;y++)this.addFile(new f(this,p[y]));else this.addFile(new f(this,p,u,v));return this}),s.exports=f},14643:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=new o({Extends:c,initialize:function(u,v,y,x,b,w){x===void 0&&(x=512),b===void 0&&(b=512);var C="html";if(a(v)){var E=v;v=h(E,"key"),y=h(E,"url"),w=h(E,"xhrSettings"),C=h(E,"extension",C),x=h(E,"width",x),b=h(E,"height",b)}var T={type:"html",cache:u.textureManager,extension:C,responseType:"text",key:v,url:y,xhrSettings:w,config:{width:x,height:b}};c.call(this,u,T)},onProcess:function(){this.state=m.FILE_PROCESSING;var p=this.config.width,u=this.config.height,v=[];v.push('<svg width="'+p+'px" height="'+u+'px" viewBox="0 0 '+p+" "+u+'" xmlns="http://www.w3.org/2000/svg">'),v.push('<foreignObject width="100%" height="100%">'),v.push('<body xmlns="http://www.w3.org/1999/xhtml">'),v.push(this.xhrLoader.responseText),v.push("</body>"),v.push("</foreignObject>"),v.push("</svg>");var y=[v.join(`
`)],x=this;try{var b=new window.Blob(y,{type:"image/svg+xml;charset=utf-8"})}catch(w){x.state=m.FILE_ERRORED,x.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){c.revokeObjectURL(x.data),x.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(x.data),x.onProcessError()},c.createObjectURL(this.data,b,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("htmlTexture",function(p,u,v,y,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new f(this,p[b]));else this.addFile(new f(this,p,u,v,y,x));return this}),s.exports=f},19550:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=i(98356),p=new o({Extends:c,initialize:function u(v,y,x,b,w){var C="png",E;if(a(y)){var T=y;y=h(T,"key"),x=h(T,"url"),E=h(T,"normalMap"),b=h(T,"xhrSettings"),C=h(T,"extension",C),w=h(T,"frameConfig")}Array.isArray(x)&&(E=x[1],x=x[0]);var k={type:"image",cache:v.textureManager,extension:C,responseType:"blob",key:y,url:x,xhrSettings:b,config:w};if(c.call(this,v,k),E){var A=new u(v,this.key,E,b,w);A.type="normalMap",this.setLink(A),v.addFile(A)}this.useImageElementLoad=v.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){c.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){c.revokeObjectURL(u.data),u.onProcessError()},c.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var u=this.state;this.state=m.FILE_PROCESSING,u===m.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=m.FILE_LOADING,this.src=f(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){u.state=m.FILE_LOADED,u.loader.nextFile(u,!0)},this.data.onerror=function(){u.loader.nextFile(u,!1)},this.data.src=this.src},addToCache:function(){var u=this.linkFile;u?u.state>=m.FILE_COMPLETE&&(u.type==="spritesheet"?u.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,u.data,this.data):this.cache.addImage(this.key,this.data,u.data)):this.cache.addImage(this.key,this.data)}});l.register("image",function(u,v,y){if(Array.isArray(u))for(var x=0;x<u.length;x++)this.addFile(new p(this,u[x]));else this.addFile(new p(this,u,v,y));return this}),s.exports=p},518:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(35154),f=i(41212),p=new o({Extends:c,initialize:function(v,y,x,b,w){var C="json";if(f(y)){var E=y;y=h(E,"key"),x=h(E,"url"),b=h(E,"xhrSettings"),C=h(E,"extension",C),w=h(E,"dataKey",w)}var T={type:"json",cache:v.cacheManager.json,extension:C,responseType:"text",key:y,url:x,xhrSettings:b,config:w};c.call(this,v,T),f(x)&&(w?this.data=a(x,w):this.data=x,this.state=m.FILE_POPULATED)},onProcess:function(){if(this.state!==m.FILE_POPULATED){this.state=m.FILE_PROCESSING;try{var u=JSON.parse(this.xhrLoader.responseText)}catch(y){throw this.onProcessError(),y}var v=this.config;typeof v=="string"?this.data=a(u,v,u):this.data=u}this.onProcessComplete()}});l.register("json",function(u,v,y,x){if(Array.isArray(u))for(var b=0;b<u.length;b++)this.addFile(new p(this,u[b]));else this.addFile(new p(this,u,v,x,y));return this}),s.exports=p},59327:(s,g,i)=>{var o=i(83419),m=i(74099),c=i(95540),l=i(19550),h=i(41212),a=i(518),f=i(26430),p=new o({Extends:f,initialize:function(v,y,x,b,w,C,E){if(h(y)){var T=y;y=c(T,"key"),c(T,"url",!1)?x=c(T,"url"):x=c(T,"atlasURL"),C=c(T,"xhrSettings"),b=c(T,"path"),w=c(T,"baseURL"),E=c(T,"textureXhrSettings")}var k=new a(v,y,x,C);f.call(this,v,"multiatlas",y,[k]),this.config.path=b,this.config.baseURL=w,this.config.textureXhrSettings=E},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,u.type==="json"&&u.data.hasOwnProperty("textures"))){var y=u.data.textures,x=this.config,b=this.loader,w=b.baseURL,C=b.path,E=b.prefix,T=c(x,"baseURL",this.baseURL),k=c(x,"path",this.path),A=c(x,"prefix",this.prefix),I=c(x,"textureXhrSettings");b.setBaseURL(T),b.setPath(k),b.setPrefix(A);for(var B=0;B<y.length;B++){var M=y[B].image,O="MA"+this.multiKeyIndex+"_"+M,P=new l(b,O,M,I);if(this.addToMultiFile(P),b.addFile(P),y[B].normalMap){var L=new l(b,O,y[B].normalMap,I);L.type="normalMap",P.setLink(L),this.addToMultiFile(L),b.addFile(L)}}b.setBaseURL(w),b.setPath(C),b.setPrefix(E)}},addToCache:function(){if(this.isReadyToProcess()){for(var u=this.files[0],v=[],y=[],x=[],b=1;b<this.files.length;b++){var w=this.files[b];if(w.type!=="normalMap")for(var C=w.key.indexOf("_"),E=w.key.substr(C+1),T=w.data,k=0;k<u.data.textures.length;k++){var A=u.data.textures[k];if(A.image===E){y.push(T),v.push(A),w.linkFile&&x.push(w.linkFile.data);break}}}x.length===0&&(x=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,y,v,x),this.complete=!0}}});m.register("multiatlas",function(u,v,y,x,b){var w;if(Array.isArray(u))for(var C=0;C<u.length;C++)w=new p(this,u[C]),this.addFile(w.files);else w=new p(this,u,v,y,x,b),this.addFile(w.files);return this}),s.exports=p},99297:(s,g,i)=>{var o=i(83419),m=i(74099),c=i(95540),l=i(41212),h=i(26430),a=i(34328),f=new o({Extends:h,initialize:function(u,v,y,x){var b="js",w=[];if(l(v)){var C=v;v=c(C,"key"),y=c(C,"url"),x=c(C,"xhrSettings"),b=c(C,"extension",b)}Array.isArray(y)||(y=[y]);for(var E=0;E<y.length;E++){var T=new a(u,{key:v+"_"+E.toString(),url:y[E],extension:b,xhrSettings:x});T.onProcess=function(){this.onProcessComplete()},w.push(T)}h.call(this,u,"scripts",v,w)},addToCache:function(){if(this.isReadyToProcess()){for(var p=0;p<this.files.length;p++){var u=this.files[p];u.data=document.createElement("script"),u.data.language="javascript",u.data.type="text/javascript",u.data.defer=!1,u.data.text=u.xhrLoader.responseText,document.head.appendChild(u.data)}this.complete=!0}}});m.register("scripts",function(p,u,v){var y;if(Array.isArray(p))for(var x=0;x<p.length;x++)y=new f(this,p[x]),this.addFile(y.files);else y=new f(this,p,u,v),this.addFile(y.files);return this}),s.exports=f},41846:(s,g,i)=>{var o=i(83419),m=i(74099),c=i(95540),l=i(41212),h=i(26430),a=i(85048),f=i(61485),p=i(78776),u=new o({Extends:h,initialize:function(y,x,b,w,C,E){var T,k,A=y.cacheManager.obj;if(l(x)){var I=x;x=c(I,"key"),T=new p(y,{key:x,type:"obj",cache:A,url:c(I,"url"),extension:c(I,"extension","obj"),xhrSettings:c(I,"xhrSettings"),config:{flipUV:c(I,"flipUV",C)}}),w=c(I,"matURL"),w&&(k=new p(y,{key:x,type:"mat",cache:A,url:w,extension:c(I,"matExtension","mat"),xhrSettings:c(I,"xhrSettings")}))}else T=new p(y,{key:x,url:b,type:"obj",cache:A,extension:"obj",xhrSettings:E,config:{flipUV:C}}),w&&(k=new p(y,{key:x,url:w,type:"mat",cache:A,extension:"mat",xhrSettings:E}));h.call(this,y,"obj",x,[T,k])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],y=this.files[1],x=a(v.data,v.config.flipUV);y&&(x.materials=f(y.data)),v.cache.add(v.key,x),this.complete=!0}}});m.register("obj",function(v,y,x,b,w){var C;if(Array.isArray(v))for(var E=0;E<v.length;E++)C=new u(this,v[E]),this.addFile(C.files);else C=new u(this,v,y,x,b,w),this.addFile(C.files);return this}),s.exports=u},58610:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(74099),l=i(518),h=new o({Extends:l,initialize:function(f,p,u,v,y){l.call(this,f,p,u,v,y),this.type="packfile"},onProcess:function(){if(this.state!==m.FILE_POPULATED&&(this.state=m.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var a={};a[this.config]=this.data,this.data=a}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});c.register("pack",function(a,f,p,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new h(this,a[v]));else this.addFile(new h(this,a,f,u,p));return this}),s.exports=h},48988:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=new o({Extends:c,initialize:function(u,v,y,x,b,w){var C="js";if(a(v)){var E=v;v=h(E,"key"),y=h(E,"url"),w=h(E,"xhrSettings"),C=h(E,"extension",C),x=h(E,"start"),b=h(E,"mapping")}var T={type:"plugin",cache:!1,extension:C,responseType:"text",key:v,url:y,xhrSettings:w,config:{start:x,mapping:b}};c.call(this,u,T),typeof y=="function"&&(this.data=y,this.state=m.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,u=this.config,v=h(u,"start",!1),y=h(u,"mapping",null);if(this.state===m.FILE_POPULATED)p.install(this.key,this.data,v,y);else{this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var x=p.install(this.key,window[this.key],v,y);(v||y)&&(this.loader.systems[y]=x,this.loader.scene[y]=x)}this.onProcessComplete()}});l.register("plugin",function(p,u,v,y,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new f(this,p[b]));else this.addFile(new f(this,p,u,v,y,x));return this}),s.exports=f},67397:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=new o({Extends:c,initialize:function(u,v,y,x,b){var w="svg";if(a(v)){var C=v;v=h(C,"key"),y=h(C,"url"),x=h(C,"svgConfig",{}),b=h(C,"xhrSettings"),w=h(C,"extension",w)}var E={type:"svg",cache:u.textureManager,extension:w,responseType:"text",key:v,url:y,xhrSettings:b,config:{width:h(x,"width"),height:h(x,"height"),scale:h(x,"scale")}};c.call(this,u,E)},onProcess:function(){this.state=m.FILE_PROCESSING;var p=this.xhrLoader.responseText,u=[p],v=this.config.width,y=this.config.height,x=this.config.scale;t:if(v&&y||x){var b=null,w=new DOMParser;b=w.parseFromString(p,"text/xml");var C=b.getElementsByTagName("svg")[0],E=C.hasAttribute("viewBox"),T=parseFloat(C.getAttribute("width")),k=parseFloat(C.getAttribute("height"));if(!E&&T&&k)C.setAttribute("viewBox","0  0 "+T+" "+k);else if(E&&!T&&!k){var A=C.getAttribute("viewBox").split(/\s+|,/);T=A[2],k=A[3]}if(x)if(T&&k)v=T*x,y=k*x;else break t;C.setAttribute("width",v.toString()+"px"),C.setAttribute("height",y.toString()+"px"),u=[new XMLSerializer().serializeToString(C)]}try{var I=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch(O){this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var B=this,M=!1;this.data.onload=function(){M||c.revokeObjectURL(B.data),B.onProcessComplete()},this.data.onerror=function(){M?B.onProcessError():(M=!0,c.revokeObjectURL(B.data),B.data.src="data:image/svg+xml,"+encodeURIComponent(u.join("")))},c.createObjectURL(this.data,I,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("svg",function(p,u,v,y){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new f(this,p[x]));else this.addFile(new f(this,p,u,v,y));return this}),s.exports=f},88423:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=new o({Extends:c,initialize:function(u,v,y,x){var b="js";if(a(v)){var w=v;v=h(w,"key"),y=h(w,"url"),x=h(w,"xhrSettings"),b=h(w,"extension",b)}var C={type:"text",extension:b,responseType:"text",key:v,url:y,xhrSettings:x};c.call(this,u,C)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var p=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),u=eval;this.loader.sceneManager.add(this.key,u(p)),this.complete=!0}});l.register("sceneFile",function(p,u,v){if(Array.isArray(p))for(var y=0;y<p.length;y++)this.addFile(new f(this,p[y]));else this.addFile(new f(this,p,u,v));return this}),s.exports=f},56812:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=new o({Extends:c,initialize:function(u,v,y,x,b,w){var C="js";if(a(v)){var E=v;v=h(E,"key"),y=h(E,"url"),w=h(E,"xhrSettings"),C=h(E,"extension",C),x=h(E,"systemKey"),b=h(E,"sceneKey")}var T={type:"scenePlugin",cache:!1,extension:C,responseType:"text",key:v,url:y,xhrSettings:w,config:{systemKey:x,sceneKey:b}};c.call(this,u,T),typeof y=="function"&&(this.data=y,this.state=m.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,u=this.config,v=this.key,y=h(u,"systemKey",v),x=h(u,"sceneKey",v);this.state===m.FILE_POPULATED?p.installScenePlugin(y,this.data,x,this.loader.scene,!0):(this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),p.installScenePlugin(y,window[this.key],x,this.loader.scene,!0)),this.onProcessComplete()}});l.register("scenePlugin",function(p,u,v,y,x){if(Array.isArray(p))for(var b=0;b<p.length;b++)this.addFile(new f(this,p[b]));else this.addFile(new f(this,p,u,v,y,x));return this}),s.exports=f},34328:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=new o({Extends:c,initialize:function(u,v,y,x,b){var w="js";if(a(v)){var C=v;v=h(C,"key"),y=h(C,"url"),x=h(C,"type","script"),b=h(C,"xhrSettings"),w=h(C,"extension",w)}else x===void 0&&(x="script");var E={type:x,cache:!1,extension:w,responseType:"text",key:v,url:y,xhrSettings:b};c.call(this,u,E)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("script",function(p,u,v,y){if(Array.isArray(p))for(var x=0;x<p.length;x++)this.addFile(new f(this,p[x]));else this.addFile(new f(this,p,u,v,y));return this}),s.exports=f},85035:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(74099),l=i(19550),h=new o({Extends:l,initialize:function(f,p,u,v,y){l.call(this,f,p,u,y,v),this.type="spritesheet"},addToCache:function(){var a=this.linkFile;a?a.state>=m.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,a.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,a.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});c.register("spritesheet",function(a,f,p,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new h(this,a[v]));else this.addFile(new h(this,a,f,p,u));return this}),s.exports=h},78776:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=new o({Extends:c,initialize:function(u,v,y,x){var b="text",w="txt",C=u.cacheManager.text;if(a(v)){var E=v;v=h(E,"key"),y=h(E,"url"),x=h(E,"xhrSettings"),w=h(E,"extension",w),b=h(E,"type",b),C=h(E,"cache",C)}var T={type:b,cache:C,extension:w,responseType:"text",key:v,url:y,xhrSettings:x};c.call(this,u,T)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("text",function(p,u,v){if(Array.isArray(p))for(var y=0;y<p.length;y++)this.addFile(new f(this,p[y]));else this.addFile(new f(this,p,u,v));return this}),s.exports=f},49477:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=i(80341),p=new o({Extends:c,initialize:function(v,y,x,b){var w="csv";if(a(y)){var C=y;y=h(C,"key"),x=h(C,"url"),b=h(C,"xhrSettings"),w=h(C,"extension",w)}var E={type:"tilemapCSV",cache:v.cacheManager.tilemap,extension:w,responseType:"text",key:y,url:x,xhrSettings:b};c.call(this,v,E),this.tilemapFormat=f.CSV},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,u)}});l.register("tilemapCSV",function(u,v,y){if(Array.isArray(u))for(var x=0;x<u.length;x++)this.addFile(new p(this,u[x]));else this.addFile(new p(this,u,v,y));return this}),s.exports=p},40807:(s,g,i)=>{var o=i(83419),m=i(74099),c=i(518),l=i(80341),h=new o({Extends:c,initialize:function(f,p,u,v){c.call(this,f,p,u,v),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},addToCache:function(){var a={format:l.WELTMEISTER,data:this.data};this.cache.add(this.key,a)}});m.register("tilemapImpact",function(a,f,p){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new h(this,a[u]));else this.addFile(new h(this,a,f,p));return this}),s.exports=h},56775:(s,g,i)=>{var o=i(83419),m=i(74099),c=i(518),l=i(80341),h=new o({Extends:c,initialize:function(f,p,u,v){c.call(this,f,p,u,v),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},addToCache:function(){var a={format:l.TILED_JSON,data:this.data};this.cache.add(this.key,a)}});m.register("tilemapTiledJSON",function(a,f,p){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new h(this,a[u]));else this.addFile(new h(this,a,f,p));return this}),s.exports=h},25771:(s,g,i)=>{var o=i(83419),m=i(74099),c=i(95540),l=i(19550),h=i(41212),a=i(26430),f=i(78776),p=new o({Extends:a,initialize:function(v,y,x,b,w,C){var E,T;if(h(y)){var k=y;y=c(k,"key"),E=new l(v,{key:y,url:c(k,"textureURL"),extension:c(k,"textureExtension","png"),normalMap:c(k,"normalMap"),xhrSettings:c(k,"textureXhrSettings")}),T=new f(v,{key:y,url:c(k,"atlasURL"),extension:c(k,"atlasExtension","txt"),xhrSettings:c(k,"atlasXhrSettings")})}else E=new l(v,y,x,w),T=new f(v,y,b,C);E.linkFile?a.call(this,v,"unityatlas",y,[E,T,E.linkFile]):a.call(this,v,"unityatlas",y,[E,T])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],y=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(u.key,u.data,v.data,y),this.complete=!0}}});m.register("unityAtlas",function(u,v,y,x,b){var w;if(Array.isArray(u))for(var C=0;C<u.length;C++)w=new p(this,u[C]),this.addFile(w.files);else w=new p(this,u,v,y,x,b),this.addFile(w.files);return this}),s.exports=p},33720:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(98356),a=i(95540),f=i(41212),p=new o({Extends:c,initialize:function(v,y,x,b){if(b===void 0&&(b=!1),f(y)){var w=y;y=a(w,"key"),x=a(w,"url",[]),b=a(w,"noAudio",!1)}var C=v.systems.game.device.video.getVideoURL(x);C||console.warn("VideoFile: No supported format for "+y);var E={type:"video",cache:v.cacheManager.video,extension:C.type,key:y,url:C.url,config:{noAudio:b}};c.call(this,v,E)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=h(this,this.loader.baseURL),this.state=m.FILE_LOADED,this.loader.nextFile(this,!0)}});l.register("video",function(u,v,y){if(Array.isArray(u))for(var x=0;x<u.length;x++)this.addFile(new p(this,u[x]));else this.addFile(new p(this,u,v,y));return this}),s.exports=p},57318:(s,g,i)=>{var o=i(83419),m=i(23906),c=i(41299),l=i(74099),h=i(95540),a=i(41212),f=i(56836),p=new o({Extends:c,initialize:function(v,y,x,b){var w="xml";if(a(y)){var C=y;y=h(C,"key"),x=h(C,"url"),b=h(C,"xhrSettings"),w=h(C,"extension",w)}var E={type:"xml",cache:v.cacheManager.xml,extension:w,responseType:"text",key:y,url:x,xhrSettings:b};c.call(this,v,E)},onProcess:function(){this.state=m.FILE_PROCESSING,this.data=f(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});l.register("xml",function(u,v,y){if(Array.isArray(u))for(var x=0;x<u.length;x++)this.addFile(new p(this,u[x]));else this.addFile(new p(this,u,v,y));return this}),s.exports=p},64589:(s,g,i)=>{s.exports={AnimationJSONFile:i(14135),AsepriteFile:i(76272),AtlasJSONFile:i(38734),AtlasXMLFile:i(74599),AudioFile:i(21097),AudioSpriteFile:i(89524),BinaryFile:i(85722),BitmapFontFile:i(97025),CompressedTextureFile:i(69559),CSSFile:i(16024),GLSLFile:i(47931),HTML5AudioFile:i(89749),HTMLFile:i(88470),HTMLTextureFile:i(14643),ImageFile:i(19550),JSONFile:i(518),MultiAtlasFile:i(59327),MultiScriptFile:i(99297),OBJFile:i(41846),PackFile:i(58610),PluginFile:i(48988),SceneFile:i(88423),ScenePluginFile:i(56812),ScriptFile:i(34328),SpriteSheetFile:i(85035),SVGFile:i(67397),TextFile:i(78776),TilemapCSVFile:i(49477),TilemapImpactFile:i(40807),TilemapJSONFile:i(56775),UnityAtlasFile:i(25771),VideoFile:i(33720),XMLFile:i(57318)}},57777:(s,g,i)=>{var o=i(23906),m=i(79291),c={Events:i(54899),FileTypes:i(64589),File:i(41299),FileTypesManager:i(74099),GetURL:i(98356),LoaderPlugin:i(74261),MergeXHRSettings:i(3374),MultiFile:i(26430),XHRLoader:i(84376),XHRSettings:i(92638)};c=m(!1,c,o),s.exports=c},53307:s=>{var g=function(i){for(var o=0,m=0;m<i.length;m++)o+=+i[m];return o/i.length};s.exports=g},85710:(s,g,i)=>{var o=i(6411),m=function(c,l){return o(c)/o(l)/o(c-l)};s.exports=m},30976:s=>{var g=function(i,o){return Math.floor(Math.random()*(o-i+1)+i)};s.exports=g},87842:s=>{var g=function(i,o,m,c,l){var h=(c-o)*.5,a=(l-m)*.5,f=i*i,p=i*f;return(2*m-2*c+h+a)*p+(-3*m+3*c-2*h-a)*f+h*i+m};s.exports=g},26302:s=>{var g=function(i,o,m){o===void 0&&(o=0),m===void 0&&(m=10);var c=Math.pow(m,-o);return Math.ceil(i*c)/c};s.exports=g},45319:s=>{var g=function(i,o,m){return Math.max(o,Math.min(m,i))};s.exports=g},39506:(s,g,i)=>{var o=i(36383),m=function(c){return c*o.DEG_TO_RAD};s.exports=m},61241:s=>{var g=function(i,o){return Math.abs(i-o)};s.exports=g},38857:(s,g,i)=>{var o=i(45319),m=i(83419),c=i(37867),l=i(29747),h=new c,a=new m({initialize:function f(p,u,v,y){p===void 0&&(p=0),u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y=f.DefaultOrder),this._x=p,this._y=u,this._z=v,this._order=y,this.onChangeCallback=l},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(f){this._order=f,this.onChangeCallback(this)}},set:function(f,p,u,v){return v===void 0&&(v=this._order),this._x=f,this._y=p,this._z=u,this._order=v,this.onChangeCallback(this),this},copy:function(f){return this.set(f.x,f.y,f.z,f.order)},setFromQuaternion:function(f,p,u){return p===void 0&&(p=this._order),u===void 0&&(u=!1),h.fromQuat(f),this.setFromRotationMatrix(h,p,u)},setFromRotationMatrix:function(f,p,u){p===void 0&&(p=this._order),u===void 0&&(u=!1);var v=f.val,y=v[0],x=v[4],b=v[8],w=v[1],C=v[5],E=v[9],T=v[2],k=v[6],A=v[10],I=0,B=0,M=0,O=.99999;switch(p){case"XYZ":{B=Math.asin(o(b,-1,1)),Math.abs(b)<O?(I=Math.atan2(-E,A),M=Math.atan2(-x,y)):I=Math.atan2(k,C);break}case"YXZ":{I=Math.asin(-o(E,-1,1)),Math.abs(E)<O?(B=Math.atan2(b,A),M=Math.atan2(w,C)):B=Math.atan2(-T,y);break}case"ZXY":{I=Math.asin(o(k,-1,1)),Math.abs(k)<O?(B=Math.atan2(-T,A),M=Math.atan2(-x,C)):M=Math.atan2(w,y);break}case"ZYX":{B=Math.asin(-o(T,-1,1)),Math.abs(T)<O?(I=Math.atan2(k,A),M=Math.atan2(w,y)):M=Math.atan2(-x,C);break}case"YZX":{M=Math.asin(o(w,-1,1)),Math.abs(w)<O?(I=Math.atan2(-E,C),B=Math.atan2(-T,y)):B=Math.atan2(b,A);break}case"XZY":{M=Math.asin(-o(x,-1,1)),Math.abs(x)<O?(I=Math.atan2(k,C),B=Math.atan2(b,y)):I=Math.atan2(-E,A);break}}return this._x=I,this._y=B,this._z=M,this._order=p,u&&this.onChangeCallback(this),this}});a.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],a.DefaultOrder="XYZ",s.exports=a},6411:s=>{var g=function(i){if(i===0)return 1;for(var o=i;--i;)o*=i;return o};s.exports=g},99472:s=>{var g=function(i,o){return Math.random()*(o-i)+i};s.exports=g},77623:s=>{var g=function(i,o,m){o===void 0&&(o=0),m===void 0&&(m=10);var c=Math.pow(m,-o);return Math.floor(i*c)/c};s.exports=g},62945:(s,g,i)=>{var o=i(45319),m=function(c,l,h){return c=o(c,0,1),(h-l)*c+l};s.exports=m},38265:s=>{var g=function(i,o){return i/o/1e3};s.exports=g},78702:s=>{var g=function(i){return i==parseFloat(i)?!(i%2):void 0};s.exports=g},94883:s=>{var g=function(i){return i===parseFloat(i)?!(i%2):void 0};s.exports=g},28915:s=>{var g=function(i,o,m){return(o-i)*m+i};s.exports=g},94908:s=>{var g=function(i,o,m){return m===void 0&&(m=0),i.clone().lerp(o,m)};s.exports=g},94434:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l){this.val=new Float32Array(9),l?this.copy(l):this.identity()},clone:function(){return new m(this)},set:function(c){return this.copy(c)},copy:function(c){var l=this.val,h=c.val;return l[0]=h[0],l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],l[6]=h[6],l[7]=h[7],l[8]=h[8],this},fromMat4:function(c){var l=c.val,h=this.val;return h[0]=l[0],h[1]=l[1],h[2]=l[2],h[3]=l[4],h[4]=l[5],h[5]=l[6],h[6]=l[8],h[7]=l[9],h[8]=l[10],this},fromArray:function(c){var l=this.val;return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],this},identity:function(){var c=this.val;return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=1,c[5]=0,c[6]=0,c[7]=0,c[8]=1,this},transpose:function(){var c=this.val,l=c[1],h=c[2],a=c[5];return c[1]=c[3],c[2]=c[6],c[3]=l,c[5]=c[7],c[6]=h,c[7]=a,this},invert:function(){var c=this.val,l=c[0],h=c[1],a=c[2],f=c[3],p=c[4],u=c[5],v=c[6],y=c[7],x=c[8],b=x*p-u*y,w=-x*f+u*v,C=y*f-p*v,E=l*b+h*w+a*C;return E?(E=1/E,c[0]=b*E,c[1]=(-x*h+a*y)*E,c[2]=(u*h-a*p)*E,c[3]=w*E,c[4]=(x*l-a*v)*E,c[5]=(-u*l+a*f)*E,c[6]=C*E,c[7]=(-y*l+h*v)*E,c[8]=(p*l-h*f)*E,this):null},adjoint:function(){var c=this.val,l=c[0],h=c[1],a=c[2],f=c[3],p=c[4],u=c[5],v=c[6],y=c[7],x=c[8];return c[0]=p*x-u*y,c[1]=a*y-h*x,c[2]=h*u-a*p,c[3]=u*v-f*x,c[4]=l*x-a*v,c[5]=a*f-l*u,c[6]=f*y-p*v,c[7]=h*v-l*y,c[8]=l*p-h*f,this},determinant:function(){var c=this.val,l=c[0],h=c[1],a=c[2],f=c[3],p=c[4],u=c[5],v=c[6],y=c[7],x=c[8];return l*(x*p-u*y)+h*(-x*f+u*v)+a*(y*f-p*v)},multiply:function(c){var l=this.val,h=l[0],a=l[1],f=l[2],p=l[3],u=l[4],v=l[5],y=l[6],x=l[7],b=l[8],w=c.val,C=w[0],E=w[1],T=w[2],k=w[3],A=w[4],I=w[5],B=w[6],M=w[7],O=w[8];return l[0]=C*h+E*p+T*y,l[1]=C*a+E*u+T*x,l[2]=C*f+E*v+T*b,l[3]=k*h+A*p+I*y,l[4]=k*a+A*u+I*x,l[5]=k*f+A*v+I*b,l[6]=B*h+M*p+O*y,l[7]=B*a+M*u+O*x,l[8]=B*f+M*v+O*b,this},translate:function(c){var l=this.val,h=c.x,a=c.y;return l[6]=h*l[0]+a*l[3]+l[6],l[7]=h*l[1]+a*l[4]+l[7],l[8]=h*l[2]+a*l[5]+l[8],this},rotate:function(c){var l=this.val,h=l[0],a=l[1],f=l[2],p=l[3],u=l[4],v=l[5],y=Math.sin(c),x=Math.cos(c);return l[0]=x*h+y*p,l[1]=x*a+y*u,l[2]=x*f+y*v,l[3]=x*p-y*h,l[4]=x*u-y*a,l[5]=x*v-y*f,this},scale:function(c){var l=this.val,h=c.x,a=c.y;return l[0]=h*l[0],l[1]=h*l[1],l[2]=h*l[2],l[3]=a*l[3],l[4]=a*l[4],l[5]=a*l[5],this},fromQuat:function(c){var l=c.x,h=c.y,a=c.z,f=c.w,p=l+l,u=h+h,v=a+a,y=l*p,x=l*u,b=l*v,w=h*u,C=h*v,E=a*v,T=f*p,k=f*u,A=f*v,I=this.val;return I[0]=1-(w+E),I[3]=x+A,I[6]=b-k,I[1]=x-A,I[4]=1-(y+E),I[7]=C+T,I[2]=b+k,I[5]=C-T,I[8]=1-(y+w),this},normalFromMat4:function(c){var l=c.val,h=this.val,a=l[0],f=l[1],p=l[2],u=l[3],v=l[4],y=l[5],x=l[6],b=l[7],w=l[8],C=l[9],E=l[10],T=l[11],k=l[12],A=l[13],I=l[14],B=l[15],M=a*y-f*v,O=a*x-p*v,P=a*b-u*v,L=f*x-p*y,_=f*b-u*y,G=p*b-u*x,$=w*A-C*k,W=w*I-E*k,Y=w*B-T*k,z=C*I-E*A,F=C*B-T*A,N=E*B-T*I,j=M*N-O*F+P*z+L*Y-_*W+G*$;return j?(j=1/j,h[0]=(y*N-x*F+b*z)*j,h[1]=(x*Y-v*N-b*W)*j,h[2]=(v*F-y*Y+b*$)*j,h[3]=(p*F-f*N-u*z)*j,h[4]=(a*N-p*Y+u*W)*j,h[5]=(f*Y-a*F-u*$)*j,h[6]=(A*G-I*_+B*L)*j,h[7]=(I*P-k*G-B*O)*j,h[8]=(k*_-A*P+B*M)*j,this):null}});s.exports=m},37867:(s,g,i)=>{var o=i(83419),m=i(25836),c=1e-6,l=new o({initialize:function(y){this.val=new Float32Array(16),y?this.copy(y):this.identity()},clone:function(){return new l(this)},set:function(v){return this.copy(v)},setValues:function(v,y,x,b,w,C,E,T,k,A,I,B,M,O,P,L){var _=this.val;return _[0]=v,_[1]=y,_[2]=x,_[3]=b,_[4]=w,_[5]=C,_[6]=E,_[7]=T,_[8]=k,_[9]=A,_[10]=I,_[11]=B,_[12]=M,_[13]=O,_[14]=P,_[15]=L,this},copy:function(v){var y=v.val;return this.setValues(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15])},fromArray:function(v){return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(v,y,x){var b=h.fromQuat(x),w=b.val,C=y.x,E=y.y,T=y.z;return this.setValues(w[0]*C,w[1]*C,w[2]*C,0,w[4]*E,w[5]*E,w[6]*E,0,w[8]*T,w[9]*T,w[10]*T,0,v.x,v.y,v.z,1)},xyz:function(v,y,x){this.identity();var b=this.val;return b[12]=v,b[13]=y,b[14]=x,this},scaling:function(v,y,x){this.zero();var b=this.val;return b[0]=v,b[5]=y,b[10]=x,b[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var v=this.val,y=v[1],x=v[2],b=v[3],w=v[6],C=v[7],E=v[11];return v[1]=v[4],v[2]=v[8],v[3]=v[12],v[4]=y,v[6]=v[9],v[7]=v[13],v[8]=x,v[9]=w,v[11]=v[14],v[12]=b,v[13]=C,v[14]=E,this},getInverse:function(v){return this.copy(v),this.invert()},invert:function(){var v=this.val,y=v[0],x=v[1],b=v[2],w=v[3],C=v[4],E=v[5],T=v[6],k=v[7],A=v[8],I=v[9],B=v[10],M=v[11],O=v[12],P=v[13],L=v[14],_=v[15],G=y*E-x*C,$=y*T-b*C,W=y*k-w*C,Y=x*T-b*E,z=x*k-w*E,F=b*k-w*T,N=A*P-I*O,j=A*L-B*O,U=A*_-M*O,V=I*L-B*P,q=I*_-M*P,ot=B*_-M*L,Q=G*ot-$*q+W*V+Y*U-z*j+F*N;return Q?(Q=1/Q,this.setValues((E*ot-T*q+k*V)*Q,(b*q-x*ot-w*V)*Q,(P*F-L*z+_*Y)*Q,(B*z-I*F-M*Y)*Q,(T*U-C*ot-k*j)*Q,(y*ot-b*U+w*j)*Q,(L*W-O*F-_*$)*Q,(A*F-B*W+M*$)*Q,(C*q-E*U+k*N)*Q,(x*U-y*q-w*N)*Q,(O*z-P*W+_*G)*Q,(I*W-A*z-M*G)*Q,(E*j-C*V-T*N)*Q,(y*V-x*j+b*N)*Q,(P*$-O*Y-L*G)*Q,(A*Y-I*$+B*G)*Q)):this},adjoint:function(){var v=this.val,y=v[0],x=v[1],b=v[2],w=v[3],C=v[4],E=v[5],T=v[6],k=v[7],A=v[8],I=v[9],B=v[10],M=v[11],O=v[12],P=v[13],L=v[14],_=v[15];return this.setValues(E*(B*_-M*L)-I*(T*_-k*L)+P*(T*M-k*B),-(x*(B*_-M*L)-I*(b*_-w*L)+P*(b*M-w*B)),x*(T*_-k*L)-E*(b*_-w*L)+P*(b*k-w*T),-(x*(T*M-k*B)-E*(b*M-w*B)+I*(b*k-w*T)),-(C*(B*_-M*L)-A*(T*_-k*L)+O*(T*M-k*B)),y*(B*_-M*L)-A*(b*_-w*L)+O*(b*M-w*B),-(y*(T*_-k*L)-C*(b*_-w*L)+O*(b*k-w*T)),y*(T*M-k*B)-C*(b*M-w*B)+A*(b*k-w*T),C*(I*_-M*P)-A*(E*_-k*P)+O*(E*M-k*I),-(y*(I*_-M*P)-A*(x*_-w*P)+O*(x*M-w*I)),y*(E*_-k*P)-C*(x*_-w*P)+O*(x*k-w*E),-(y*(E*M-k*I)-C*(x*M-w*I)+A*(x*k-w*E)),-(C*(I*L-B*P)-A*(E*L-T*P)+O*(E*B-T*I)),y*(I*L-B*P)-A*(x*L-b*P)+O*(x*B-b*I),-(y*(E*L-T*P)-C*(x*L-b*P)+O*(x*T-b*E)),y*(E*B-T*I)-C*(x*B-b*I)+A*(x*T-b*E))},determinant:function(){var v=this.val,y=v[0],x=v[1],b=v[2],w=v[3],C=v[4],E=v[5],T=v[6],k=v[7],A=v[8],I=v[9],B=v[10],M=v[11],O=v[12],P=v[13],L=v[14],_=v[15],G=y*E-x*C,$=y*T-b*C,W=y*k-w*C,Y=x*T-b*E,z=x*k-w*E,F=b*k-w*T,N=A*P-I*O,j=A*L-B*O,U=A*_-M*O,V=I*L-B*P,q=I*_-M*P,ot=B*_-M*L;return G*ot-$*q+W*V+Y*U-z*j+F*N},multiply:function(v){var y=this.val,x=y[0],b=y[1],w=y[2],C=y[3],E=y[4],T=y[5],k=y[6],A=y[7],I=y[8],B=y[9],M=y[10],O=y[11],P=y[12],L=y[13],_=y[14],G=y[15],$=v.val,W=$[0],Y=$[1],z=$[2],F=$[3];return y[0]=W*x+Y*E+z*I+F*P,y[1]=W*b+Y*T+z*B+F*L,y[2]=W*w+Y*k+z*M+F*_,y[3]=W*C+Y*A+z*O+F*G,W=$[4],Y=$[5],z=$[6],F=$[7],y[4]=W*x+Y*E+z*I+F*P,y[5]=W*b+Y*T+z*B+F*L,y[6]=W*w+Y*k+z*M+F*_,y[7]=W*C+Y*A+z*O+F*G,W=$[8],Y=$[9],z=$[10],F=$[11],y[8]=W*x+Y*E+z*I+F*P,y[9]=W*b+Y*T+z*B+F*L,y[10]=W*w+Y*k+z*M+F*_,y[11]=W*C+Y*A+z*O+F*G,W=$[12],Y=$[13],z=$[14],F=$[15],y[12]=W*x+Y*E+z*I+F*P,y[13]=W*b+Y*T+z*B+F*L,y[14]=W*w+Y*k+z*M+F*_,y[15]=W*C+Y*A+z*O+F*G,this},multiplyLocal:function(v){var y=this.val,x=v.val;return this.setValues(y[0]*x[0]+y[1]*x[4]+y[2]*x[8]+y[3]*x[12],y[0]*x[1]+y[1]*x[5]+y[2]*x[9]+y[3]*x[13],y[0]*x[2]+y[1]*x[6]+y[2]*x[10]+y[3]*x[14],y[0]*x[3]+y[1]*x[7]+y[2]*x[11]+y[3]*x[15],y[4]*x[0]+y[5]*x[4]+y[6]*x[8]+y[7]*x[12],y[4]*x[1]+y[5]*x[5]+y[6]*x[9]+y[7]*x[13],y[4]*x[2]+y[5]*x[6]+y[6]*x[10]+y[7]*x[14],y[4]*x[3]+y[5]*x[7]+y[6]*x[11]+y[7]*x[15],y[8]*x[0]+y[9]*x[4]+y[10]*x[8]+y[11]*x[12],y[8]*x[1]+y[9]*x[5]+y[10]*x[9]+y[11]*x[13],y[8]*x[2]+y[9]*x[6]+y[10]*x[10]+y[11]*x[14],y[8]*x[3]+y[9]*x[7]+y[10]*x[11]+y[11]*x[15],y[12]*x[0]+y[13]*x[4]+y[14]*x[8]+y[15]*x[12],y[12]*x[1]+y[13]*x[5]+y[14]*x[9]+y[15]*x[13],y[12]*x[2]+y[13]*x[6]+y[14]*x[10]+y[15]*x[14],y[12]*x[3]+y[13]*x[7]+y[14]*x[11]+y[15]*x[15])},premultiply:function(v){return this.multiplyMatrices(v,this)},multiplyMatrices:function(v,y){var x=v.val,b=y.val,w=x[0],C=x[4],E=x[8],T=x[12],k=x[1],A=x[5],I=x[9],B=x[13],M=x[2],O=x[6],P=x[10],L=x[14],_=x[3],G=x[7],$=x[11],W=x[15],Y=b[0],z=b[4],F=b[8],N=b[12],j=b[1],U=b[5],V=b[9],q=b[13],ot=b[2],Q=b[6],rt=b[10],Bt=b[14],K=b[3],Mt=b[7],Ft=b[11],dt=b[15];return this.setValues(w*Y+C*j+E*ot+T*K,k*Y+A*j+I*ot+B*K,M*Y+O*j+P*ot+L*K,_*Y+G*j+$*ot+W*K,w*z+C*U+E*Q+T*Mt,k*z+A*U+I*Q+B*Mt,M*z+O*U+P*Q+L*Mt,_*z+G*U+$*Q+W*Mt,w*F+C*V+E*rt+T*Ft,k*F+A*V+I*rt+B*Ft,M*F+O*V+P*rt+L*Ft,_*F+G*V+$*rt+W*Ft,w*N+C*q+E*Bt+T*dt,k*N+A*q+I*Bt+B*dt,M*N+O*q+P*Bt+L*dt,_*N+G*q+$*Bt+W*dt)},translate:function(v){return this.translateXYZ(v.x,v.y,v.z)},translateXYZ:function(v,y,x){var b=this.val;return b[12]=b[0]*v+b[4]*y+b[8]*x+b[12],b[13]=b[1]*v+b[5]*y+b[9]*x+b[13],b[14]=b[2]*v+b[6]*y+b[10]*x+b[14],b[15]=b[3]*v+b[7]*y+b[11]*x+b[15],this},scale:function(v){return this.scaleXYZ(v.x,v.y,v.z)},scaleXYZ:function(v,y,x){var b=this.val;return b[0]=b[0]*v,b[1]=b[1]*v,b[2]=b[2]*v,b[3]=b[3]*v,b[4]=b[4]*y,b[5]=b[5]*y,b[6]=b[6]*y,b[7]=b[7]*y,b[8]=b[8]*x,b[9]=b[9]*x,b[10]=b[10]*x,b[11]=b[11]*x,this},makeRotationAxis:function(v,y){var x=Math.cos(y),b=Math.sin(y),w=1-x,C=v.x,E=v.y,T=v.z,k=w*C,A=w*E;return this.setValues(k*C+x,k*E-b*T,k*T+b*E,0,k*E+b*T,A*E+x,A*T-b*C,0,k*T-b*E,A*T+b*C,w*T*T+x,0,0,0,0,1)},rotate:function(v,y){var x=this.val,b=y.x,w=y.y,C=y.z,E=Math.sqrt(b*b+w*w+C*C);if(Math.abs(E)<c)return this;E=1/E,b*=E,w*=E,C*=E;var T=Math.sin(v),k=Math.cos(v),A=1-k,I=x[0],B=x[1],M=x[2],O=x[3],P=x[4],L=x[5],_=x[6],G=x[7],$=x[8],W=x[9],Y=x[10],z=x[11],F=x[12],N=x[13],j=x[14],U=x[15],V=b*b*A+k,q=w*b*A+C*T,ot=C*b*A-w*T,Q=b*w*A-C*T,rt=w*w*A+k,Bt=C*w*A+b*T,K=b*C*A+w*T,Mt=w*C*A-b*T,Ft=C*C*A+k;return this.setValues(I*V+P*q+$*ot,B*V+L*q+W*ot,M*V+_*q+Y*ot,O*V+G*q+z*ot,I*Q+P*rt+$*Bt,B*Q+L*rt+W*Bt,M*Q+_*rt+Y*Bt,O*Q+G*rt+z*Bt,I*K+P*Mt+$*Ft,B*K+L*Mt+W*Ft,M*K+_*Mt+Y*Ft,O*K+G*Mt+z*Ft,F,N,j,U)},rotateX:function(v){var y=this.val,x=Math.sin(v),b=Math.cos(v),w=y[4],C=y[5],E=y[6],T=y[7],k=y[8],A=y[9],I=y[10],B=y[11];return y[4]=w*b+k*x,y[5]=C*b+A*x,y[6]=E*b+I*x,y[7]=T*b+B*x,y[8]=k*b-w*x,y[9]=A*b-C*x,y[10]=I*b-E*x,y[11]=B*b-T*x,this},rotateY:function(v){var y=this.val,x=Math.sin(v),b=Math.cos(v),w=y[0],C=y[1],E=y[2],T=y[3],k=y[8],A=y[9],I=y[10],B=y[11];return y[0]=w*b-k*x,y[1]=C*b-A*x,y[2]=E*b-I*x,y[3]=T*b-B*x,y[8]=w*x+k*b,y[9]=C*x+A*b,y[10]=E*x+I*b,y[11]=T*x+B*b,this},rotateZ:function(v){var y=this.val,x=Math.sin(v),b=Math.cos(v),w=y[0],C=y[1],E=y[2],T=y[3],k=y[4],A=y[5],I=y[6],B=y[7];return y[0]=w*b+k*x,y[1]=C*b+A*x,y[2]=E*b+I*x,y[3]=T*b+B*x,y[4]=k*b-w*x,y[5]=A*b-C*x,y[6]=I*b-E*x,y[7]=B*b-T*x,this},fromRotationTranslation:function(v,y){var x=v.x,b=v.y,w=v.z,C=v.w,E=x+x,T=b+b,k=w+w,A=x*E,I=x*T,B=x*k,M=b*T,O=b*k,P=w*k,L=C*E,_=C*T,G=C*k;return this.setValues(1-(M+P),I+G,B-_,0,I-G,1-(A+P),O+L,0,B+_,O-L,1-(A+M),0,y.x,y.y,y.z,1)},fromQuat:function(v){var y=v.x,x=v.y,b=v.z,w=v.w,C=y+y,E=x+x,T=b+b,k=y*C,A=y*E,I=y*T,B=x*E,M=x*T,O=b*T,P=w*C,L=w*E,_=w*T;return this.setValues(1-(B+O),A+_,I-L,0,A-_,1-(k+O),M+P,0,I+L,M-P,1-(k+B),0,0,0,0,1)},frustum:function(v,y,x,b,w,C){var E=1/(y-v),T=1/(b-x),k=1/(w-C);return this.setValues(w*2*E,0,0,0,0,w*2*T,0,0,(y+v)*E,(b+x)*T,(C+w)*k,-1,0,0,C*w*2*k,0)},perspective:function(v,y,x,b){var w=1/Math.tan(v/2),C=1/(x-b);return this.setValues(w/y,0,0,0,0,w,0,0,0,0,(b+x)*C,-1,0,0,2*b*x*C,0)},perspectiveLH:function(v,y,x,b){return this.setValues(2*x/v,0,0,0,0,2*x/y,0,0,0,0,-b/(x-b),1,0,0,x*b/(x-b),0)},ortho:function(v,y,x,b,w,C){var E=v-y,T=x-b,k=w-C;return E=E===0?E:1/E,T=T===0?T:1/T,k=k===0?k:1/k,this.setValues(-2*E,0,0,0,0,-2*T,0,0,0,0,2*k,0,(v+y)*E,(b+x)*T,(C+w)*k,1)},lookAtRH:function(v,y,x){var b=this.val;return u.subVectors(v,y),u.getLengthSquared()===0&&(u.z=1),u.normalize(),f.crossVectors(x,u),f.getLengthSquared()===0&&(Math.abs(x.z)===1?u.x+=1e-4:u.z+=1e-4,u.normalize(),f.crossVectors(x,u)),f.normalize(),p.crossVectors(u,f),b[0]=f.x,b[1]=f.y,b[2]=f.z,b[4]=p.x,b[5]=p.y,b[6]=p.z,b[8]=u.x,b[9]=u.y,b[10]=u.z,this},lookAt:function(v,y,x){var b=v.x,w=v.y,C=v.z,E=x.x,T=x.y,k=x.z,A=y.x,I=y.y,B=y.z;if(Math.abs(b-A)<c&&Math.abs(w-I)<c&&Math.abs(C-B)<c)return this.identity();var M=b-A,O=w-I,P=C-B,L=1/Math.sqrt(M*M+O*O+P*P);M*=L,O*=L,P*=L;var _=T*P-k*O,G=k*M-E*P,$=E*O-T*M;L=Math.sqrt(_*_+G*G+$*$),L?(L=1/L,_*=L,G*=L,$*=L):(_=0,G=0,$=0);var W=O*$-P*G,Y=P*_-M*$,z=M*G-O*_;return L=Math.sqrt(W*W+Y*Y+z*z),L?(L=1/L,W*=L,Y*=L,z*=L):(W=0,Y=0,z=0),this.setValues(_,W,M,0,G,Y,O,0,$,z,P,0,-(_*b+G*w+$*C),-(W*b+Y*w+z*C),-(M*b+O*w+P*C),1)},yawPitchRoll:function(v,y,x){this.zero(),h.zero(),a.zero();var b=this.val,w=h.val,C=a.val,E=Math.sin(x),T=Math.cos(x);return b[10]=1,b[15]=1,b[0]=T,b[1]=E,b[4]=-E,b[5]=T,E=Math.sin(y),T=Math.cos(y),w[0]=1,w[15]=1,w[5]=T,w[10]=T,w[9]=-E,w[6]=E,E=Math.sin(v),T=Math.cos(v),C[5]=1,C[15]=1,C[0]=T,C[2]=-E,C[8]=E,C[10]=T,this.multiplyLocal(h),this.multiplyLocal(a),this},setWorldMatrix:function(v,y,x,b,w){return this.yawPitchRoll(v.y,v.x,v.z),h.scaling(x.x,x.y,x.z),a.xyz(y.x,y.y,y.z),this.multiplyLocal(h),this.multiplyLocal(a),b&&this.multiplyLocal(b),w&&this.multiplyLocal(w),this},multiplyToMat4:function(v,y){var x=this.val,b=v.val,w=x[0],C=x[1],E=x[2],T=x[3],k=x[4],A=x[5],I=x[6],B=x[7],M=x[8],O=x[9],P=x[10],L=x[11],_=x[12],G=x[13],$=x[14],W=x[15],Y=b[0],z=b[1],F=b[2],N=b[3],j=b[4],U=b[5],V=b[6],q=b[7],ot=b[8],Q=b[9],rt=b[10],Bt=b[11],K=b[12],Mt=b[13],Ft=b[14],dt=b[15];return y.setValues(Y*w+z*k+F*M+N*_,z*C+z*A+F*O+N*G,F*E+z*I+F*P+N*$,N*T+z*B+F*L+N*W,j*w+U*k+V*M+q*_,j*C+U*A+V*O+q*G,j*E+U*I+V*P+q*$,j*T+U*B+V*L+q*W,ot*w+Q*k+rt*M+Bt*_,ot*C+Q*A+rt*O+Bt*G,ot*E+Q*I+rt*P+Bt*$,ot*T+Q*B+rt*L+Bt*W,K*w+Mt*k+Ft*M+dt*_,K*C+Mt*A+Ft*O+dt*G,K*E+Mt*I+Ft*P+dt*$,K*T+Mt*B+Ft*L+dt*W)},fromRotationXYTranslation:function(v,y,x){var b=y.x,w=y.y,C=y.z,E=Math.sin(v.x),T=Math.cos(v.x),k=Math.sin(v.y),A=Math.cos(v.y),I=b,B=w,M=C,O=-E,P=0-O*k,L=0-T*k,_=O*A,G=T*A;return x||(I=A*b+k*C,B=P*b+T*w+_*C,M=L*b+E*w+G*C),this.setValues(A,P,L,0,0,T,E,0,k,_,G,0,I,B,M,1)},getMaxScaleOnAxis:function(){var v=this.val,y=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],x=v[4]*v[4]+v[5]*v[5]+v[6]*v[6],b=v[8]*v[8]+v[9]*v[9]+v[10]*v[10];return Math.sqrt(Math.max(y,x,b))}}),h=new l,a=new l,f=new m,p=new m,u=new m;s.exports=l},86883:s=>{var g=function(i,o,m){return Math.min(i+o,m)};s.exports=g},50040:s=>{var g=function(i){var o=i.length;if(o===0)return 0;i.sort(function(c,l){return c-l});var m=Math.floor(o/2);return o%2===0?(i[m]+i[m-1])/2:i[m]};s.exports=g},37204:s=>{var g=function(i,o,m){return Math.max(i-o,m)};s.exports=g},65201:s=>{var g=function(i,o,m,c){m===void 0&&(m=o+1);var l=(i-o)/(m-o);return l>1?c!==void 0?(l=(c-i)/(c-m),l<0&&(l=0)):l=1:l<0&&(l=0),l};s.exports=g},15746:(s,g,i)=>{var o=i(83419),m=i(94434),c=i(29747),l=i(25836),h=1e-6,a=new Int8Array([1,2,0]),f=new Float32Array([0,0,0]),p=new l(1,0,0),u=new l(0,1,0),v=new l,y=new m,x=new o({initialize:function(w,C,E,T){this.onChangeCallback=c,this.set(w,C,E,T)},x:{get:function(){return this._x},set:function(b){this._x=b,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(b){this._y=b,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(b){this._z=b,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(b){this._w=b,this.onChangeCallback(this)}},copy:function(b){return this.set(b)},set:function(b,w,C,E,T){return T===void 0&&(T=!0),typeof b=="object"?(this._x=b.x||0,this._y=b.y||0,this._z=b.z||0,this._w=b.w||0):(this._x=b||0,this._y=w||0,this._z=C||0,this._w=E||0),T&&this.onChangeCallback(this),this},add:function(b){return this._x+=b.x,this._y+=b.y,this._z+=b.z,this._w+=b.w,this.onChangeCallback(this),this},subtract:function(b){return this._x-=b.x,this._y-=b.y,this._z-=b.z,this._w-=b.w,this.onChangeCallback(this),this},scale:function(b){return this._x*=b,this._y*=b,this._z*=b,this._w*=b,this.onChangeCallback(this),this},length:function(){var b=this.x,w=this.y,C=this.z,E=this.w;return Math.sqrt(b*b+w*w+C*C+E*E)},lengthSq:function(){var b=this.x,w=this.y,C=this.z,E=this.w;return b*b+w*w+C*C+E*E},normalize:function(){var b=this.x,w=this.y,C=this.z,E=this.w,T=b*b+w*w+C*C+E*E;return T>0&&(T=1/Math.sqrt(T),this._x=b*T,this._y=w*T,this._z=C*T,this._w=E*T),this.onChangeCallback(this),this},dot:function(b){return this.x*b.x+this.y*b.y+this.z*b.z+this.w*b.w},lerp:function(b,w){w===void 0&&(w=0);var C=this.x,E=this.y,T=this.z,k=this.w;return this.set(C+w*(b.x-C),E+w*(b.y-E),T+w*(b.z-T),k+w*(b.w-k))},rotationTo:function(b,w){var C=b.x*w.x+b.y*w.y+b.z*w.z;return C<-.999999?(v.copy(p).cross(b).length()<h&&v.copy(u).cross(b),v.normalize(),this.setAxisAngle(v,Math.PI)):C>.999999?this.set(0,0,0,1):(v.copy(b).cross(w),this._x=v.x,this._y=v.y,this._z=v.z,this._w=1+C,this.normalize())},setAxes:function(b,w,C){var E=y.val;return E[0]=w.x,E[3]=w.y,E[6]=w.z,E[1]=C.x,E[4]=C.y,E[7]=C.z,E[2]=-b.x,E[5]=-b.y,E[8]=-b.z,this.fromMat3(y).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(b,w){w=w*.5;var C=Math.sin(w);return this.set(C*b.x,C*b.y,C*b.z,Math.cos(w))},multiply:function(b){var w=this.x,C=this.y,E=this.z,T=this.w,k=b.x,A=b.y,I=b.z,B=b.w;return this.set(w*B+T*k+C*I-E*A,C*B+T*A+E*k-w*I,E*B+T*I+w*A-C*k,T*B-w*k-C*A-E*I)},slerp:function(b,w){var C=this.x,E=this.y,T=this.z,k=this.w,A=b.x,I=b.y,B=b.z,M=b.w,O=C*A+E*I+T*B+k*M;O<0&&(O=-O,A=-A,I=-I,B=-B,M=-M);var P=1-w,L=w;if(1-O>h){var _=Math.acos(O),G=Math.sin(_);P=Math.sin((1-w)*_)/G,L=Math.sin(w*_)/G}return this.set(P*C+L*A,P*E+L*I,P*T+L*B,P*k+L*M)},invert:function(){var b=this.x,w=this.y,C=this.z,E=this.w,T=b*b+w*w+C*C+E*E,k=T?1/T:0;return this.set(-b*k,-w*k,-C*k,E*k)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(b){b*=.5;var w=this.x,C=this.y,E=this.z,T=this.w,k=Math.sin(b),A=Math.cos(b);return this.set(w*A+T*k,C*A+E*k,E*A-C*k,T*A-w*k)},rotateY:function(b){b*=.5;var w=this.x,C=this.y,E=this.z,T=this.w,k=Math.sin(b),A=Math.cos(b);return this.set(w*A-E*k,C*A+T*k,E*A+w*k,T*A-C*k)},rotateZ:function(b){b*=.5;var w=this.x,C=this.y,E=this.z,T=this.w,k=Math.sin(b),A=Math.cos(b);return this.set(w*A+C*k,C*A-w*k,E*A+T*k,T*A-E*k)},calculateW:function(){var b=this.x,w=this.y,C=this.z;return this.w=-Math.sqrt(1-b*b-w*w-C*C),this},setFromEuler:function(b,w){var C=b.x/2,E=b.y/2,T=b.z/2,k=Math.cos(C),A=Math.cos(E),I=Math.cos(T),B=Math.sin(C),M=Math.sin(E),O=Math.sin(T);switch(b.order){case"XYZ":{this.set(B*A*I+k*M*O,k*M*I-B*A*O,k*A*O+B*M*I,k*A*I-B*M*O,w);break}case"YXZ":{this.set(B*A*I+k*M*O,k*M*I-B*A*O,k*A*O-B*M*I,k*A*I+B*M*O,w);break}case"ZXY":{this.set(B*A*I-k*M*O,k*M*I+B*A*O,k*A*O+B*M*I,k*A*I-B*M*O,w);break}case"ZYX":{this.set(B*A*I-k*M*O,k*M*I+B*A*O,k*A*O-B*M*I,k*A*I+B*M*O,w);break}case"YZX":{this.set(B*A*I+k*M*O,k*M*I+B*A*O,k*A*O-B*M*I,k*A*I-B*M*O,w);break}case"XZY":{this.set(B*A*I-k*M*O,k*M*I-B*A*O,k*A*O+B*M*I,k*A*I+B*M*O,w);break}}return this},setFromRotationMatrix:function(b){var w=b.val,C=w[0],E=w[4],T=w[8],k=w[1],A=w[5],I=w[9],B=w[2],M=w[6],O=w[10],P=C+A+O,L;return P>0?(L=.5/Math.sqrt(P+1),this.set((M-I)*L,(T-B)*L,(k-E)*L,.25/L)):C>A&&C>O?(L=2*Math.sqrt(1+C-A-O),this.set(.25*L,(E+k)/L,(T+B)/L,(M-I)/L)):A>O?(L=2*Math.sqrt(1+A-C-O),this.set((E+k)/L,.25*L,(I+M)/L,(T-B)/L)):(L=2*Math.sqrt(1+O-C-A),this.set((T+B)/L,(I+M)/L,.25*L,(k-E)/L)),this},fromMat3:function(b){var w=b.val,C=w[0]+w[4]+w[8],E;if(C>0)E=Math.sqrt(C+1),this.w=.5*E,E=.5/E,this._x=(w[7]-w[5])*E,this._y=(w[2]-w[6])*E,this._z=(w[3]-w[1])*E;else{var T=0;w[4]>w[0]&&(T=1),w[8]>w[T*3+T]&&(T=2);var k=a[T],A=a[k];E=Math.sqrt(w[T*3+T]-w[k*3+k]-w[A*3+A]+1),f[T]=.5*E,E=.5/E,f[k]=(w[k*3+T]+w[T*3+k])*E,f[A]=(w[A*3+T]+w[T*3+A])*E,this._x=f[0],this._y=f[1],this._z=f[2],this._w=(w[A*3+k]-w[k*3+A])*E}return this.onChangeCallback(this),this}});s.exports=x},43396:(s,g,i)=>{var o=i(36383),m=function(c){return c*o.RAD_TO_DEG};s.exports=m},74362:s=>{var g=function(i,o){o===void 0&&(o=1);var m=Math.random()*2*Math.PI;return i.x=Math.cos(m)*o,i.y=Math.sin(m)*o,i};s.exports=g},60706:s=>{var g=function(i,o){o===void 0&&(o=1);var m=Math.random()*2*Math.PI,c=Math.random()*2-1,l=Math.sqrt(1-c*c)*o;return i.x=Math.cos(m)*l,i.y=Math.sin(m)*l,i.z=c*o,i};s.exports=g},67421:s=>{var g=function(i,o){return o===void 0&&(o=1),i.x=(Math.random()*2-1)*o,i.y=(Math.random()*2-1)*o,i.z=(Math.random()*2-1)*o,i.w=(Math.random()*2-1)*o,i};s.exports=g},36305:s=>{var g=function(i,o){var m=i.x,c=i.y;return i.x=m*Math.cos(o)-c*Math.sin(o),i.y=m*Math.sin(o)+c*Math.cos(o),i};s.exports=g},11520:s=>{var g=function(i,o,m,c){var l=Math.cos(c),h=Math.sin(c),a=i.x-o,f=i.y-m;return i.x=a*l-f*h+o,i.y=a*h+f*l+m,i};s.exports=g},1163:s=>{var g=function(i,o,m,c,l){var h=c+Math.atan2(i.y-m,i.x-o);return i.x=o+l*Math.cos(h),i.y=m+l*Math.sin(h),i};s.exports=g},70336:s=>{var g=function(i,o,m,c,l){return i.x=o+l*Math.cos(c),i.y=m+l*Math.sin(c),i};s.exports=g},72678:(s,g,i)=>{var o=i(25836),m=i(37867),c=i(15746),l=new m,h=new c,a=new o,f=function(p,u,v){return h.setAxisAngle(u,v),l.fromRotationTranslation(h,a.set(0,0,0)),p.transformMat4(l)};s.exports=f},2284:s=>{var g=function(i){return i>0?Math.ceil(i):Math.floor(i)};s.exports=g},41013:s=>{var g=function(i,o,m){o===void 0&&(o=0),m===void 0&&(m=10);var c=Math.pow(m,-o);return Math.round(i*c)/c};s.exports=g},16922:s=>{var g=function(i,o,m,c){o===void 0&&(o=1),m===void 0&&(m=1),c===void 0&&(c=1),c*=Math.PI/i;for(var l=[],h=[],a=0;a<i;a++)m-=o*c,o+=m*c,l[a]=m,h[a]=o;return{sin:h,cos:l,length:i}};s.exports=g},7602:s=>{var g=function(i,o,m){return i<=o?0:i>=m?1:(i=(i-o)/(m-o),i*i*(3-2*i))};s.exports=g},54261:s=>{var g=function(i,o,m){return i=Math.max(0,Math.min(1,(i-o)/(m-o))),i*i*i*(i*(i*6-15)+10)};s.exports=g},44408:(s,g,i)=>{var o=i(26099),m=function(c,l,h,a){a===void 0&&(a=new o);var f=0,p=0,u=l*h;return c>0&&c<=u&&(c>l-1?(p=Math.floor(c/l),f=c-p*l):f=c),a.set(f,p)};s.exports=m},85955:(s,g,i)=>{var o=i(26099),m=function(c,l,h,a,f,p,u,v){v===void 0&&(v=new o);var y=Math.sin(f),x=Math.cos(f),b=x*p,w=y*p,C=-y*u,E=x*u,T=1/(b*E+C*-w);return v.x=E*T*c+-C*T*l+(a*C-h*E)*T,v.y=b*T*l+-w*T*c+(-a*b+h*w)*T,v};s.exports=m},26099:(s,g,i)=>{var o=i(83419),m=i(43855),c=new o({initialize:function(h,a){this.x=0,this.y=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0):(a===void 0&&(a=h),this.x=h||0,this.y=a||0)},clone:function(){return new c(this.x,this.y)},copy:function(l){return this.x=l.x||0,this.y=l.y||0,this},setFromObject:function(l){return this.x=l.x||0,this.y=l.y||0,this},set:function(l,h){return h===void 0&&(h=l),this.x=l,this.y=h,this},setTo:function(l,h){return this.set(l,h)},setToPolar:function(l,h){return h==null&&(h=1),this.x=Math.cos(l)*h,this.y=Math.sin(l)*h,this},equals:function(l){return this.x===l.x&&this.y===l.y},fuzzyEquals:function(l,h){return m(this.x,l.x,h)&&m(this.y,l.y,h)},angle:function(){var l=Math.atan2(this.y,this.x);return l<0&&(l+=2*Math.PI),l},setAngle:function(l){return this.setToPolar(l,this.length())},add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l):(this.x=0,this.y=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(l){var h=l.x-this.x,a=l.y-this.y;return Math.sqrt(h*h+a*a)},distanceSq:function(l){var h=l.x-this.x,a=l.y-this.y;return h*h+a*a},length:function(){var l=this.x,h=this.y;return Math.sqrt(l*l+h*h)},setLength:function(l){return this.normalize().scale(l)},lengthSq:function(){var l=this.x,h=this.y;return l*l+h*h},normalize:function(){var l=this.x,h=this.y,a=l*l+h*h;return a>0&&(a=1/Math.sqrt(a),this.x=l*a,this.y=h*a),this},normalizeRightHand:function(){var l=this.x;return this.x=this.y*-1,this.y=l,this},normalizeLeftHand:function(){var l=this.x;return this.x=this.y,this.y=l*-1,this},dot:function(l){return this.x*l.x+this.y*l.y},cross:function(l){return this.x*l.y-this.y*l.x},lerp:function(l,h){h===void 0&&(h=0);var a=this.x,f=this.y;return this.x=a+h*(l.x-a),this.y=f+h*(l.y-f),this},transformMat3:function(l){var h=this.x,a=this.y,f=l.val;return this.x=f[0]*h+f[3]*a+f[6],this.y=f[1]*h+f[4]*a+f[7],this},transformMat4:function(l){var h=this.x,a=this.y,f=l.val;return this.x=f[0]*h+f[4]*a+f[12],this.y=f[1]*h+f[5]*a+f[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(l){var h=this.length();return h&&h>l&&this.scale(l/h),this},reflect:function(l){return l=l.clone().normalize(),this.subtract(l.scale(2*this.dot(l)))},mirror:function(l){return this.reflect(l).negate()},rotate:function(l){var h=Math.cos(l),a=Math.sin(l);return this.set(h*this.x-a*this.y,a*this.x+h*this.y)},project:function(l){var h=this.dot(l)/l.dot(l);return this.copy(l).scale(h)}});c.ZERO=new c,c.RIGHT=new c(1,0),c.LEFT=new c(-1,0),c.UP=new c(0,-1),c.DOWN=new c(0,1),c.ONE=new c(1,1),s.exports=c},25836:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h,a){this.x=0,this.y=0,this.z=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=h||0,this.z=a||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(c){return this.x=Math.min(this.x,c.x),this.y=Math.min(this.y,c.y),this.z=Math.min(this.z,c.z),this},max:function(c){return this.x=Math.max(this.x,c.x),this.y=Math.max(this.y,c.y),this.z=Math.max(this.z,c.z),this},clone:function(){return new m(this.x,this.y,this.z)},addVectors:function(c,l){return this.x=c.x+l.x,this.y=c.y+l.y,this.z=c.z+l.z,this},crossVectors:function(c,l){var h=c.x,a=c.y,f=c.z,p=l.x,u=l.y,v=l.z;return this.x=a*v-f*u,this.y=f*p-h*v,this.z=h*u-a*p,this},equals:function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z},copy:function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this},set:function(c,l,h){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0):(this.x=c||0,this.y=l||0,this.z=h||0),this},setFromMatrixPosition:function(c){return this.fromArray(c.val,12)},setFromMatrixColumn:function(c,l){return this.fromArray(c.val,l*4)},fromArray:function(c,l){return l===void 0&&(l=0),this.x=c[l],this.y=c[l+1],this.z=c[l+2],this},add:function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this},addScalar:function(c){return this.x+=c,this.y+=c,this.z+=c,this},addScale:function(c,l){return this.x+=c.x*l,this.y+=c.y*l,this.z+=c.z*l||0,this},subtract:function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this},scale:function(c){return isFinite(c)?(this.x*=c,this.y*=c,this.z*=c):(this.x=0,this.y=0,this.z=0),this},divide:function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(c){var l=c.x-this.x,h=c.y-this.y,a=c.z-this.z||0;return Math.sqrt(l*l+h*h+a*a)},distanceSq:function(c){var l=c.x-this.x,h=c.y-this.y,a=c.z-this.z||0;return l*l+h*h+a*a},length:function(){var c=this.x,l=this.y,h=this.z;return Math.sqrt(c*c+l*l+h*h)},lengthSq:function(){var c=this.x,l=this.y,h=this.z;return c*c+l*l+h*h},normalize:function(){var c=this.x,l=this.y,h=this.z,a=c*c+l*l+h*h;return a>0&&(a=1/Math.sqrt(a),this.x=c*a,this.y=l*a,this.z=h*a),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z},cross:function(c){var l=this.x,h=this.y,a=this.z,f=c.x,p=c.y,u=c.z;return this.x=h*u-a*p,this.y=a*f-l*u,this.z=l*p-h*f,this},lerp:function(c,l){l===void 0&&(l=0);var h=this.x,a=this.y,f=this.z;return this.x=h+l*(c.x-h),this.y=a+l*(c.y-a),this.z=f+l*(c.z-f),this},applyMatrix3:function(c){var l=this.x,h=this.y,a=this.z,f=c.val;return this.x=f[0]*l+f[3]*h+f[6]*a,this.y=f[1]*l+f[4]*h+f[7]*a,this.z=f[2]*l+f[5]*h+f[8]*a,this},applyMatrix4:function(c){var l=this.x,h=this.y,a=this.z,f=c.val,p=1/(f[3]*l+f[7]*h+f[11]*a+f[15]);return this.x=(f[0]*l+f[4]*h+f[8]*a+f[12])*p,this.y=(f[1]*l+f[5]*h+f[9]*a+f[13])*p,this.z=(f[2]*l+f[6]*h+f[10]*a+f[14])*p,this},transformMat3:function(c){var l=this.x,h=this.y,a=this.z,f=c.val;return this.x=l*f[0]+h*f[3]+a*f[6],this.y=l*f[1]+h*f[4]+a*f[7],this.z=l*f[2]+h*f[5]+a*f[8],this},transformMat4:function(c){var l=this.x,h=this.y,a=this.z,f=c.val;return this.x=f[0]*l+f[4]*h+f[8]*a+f[12],this.y=f[1]*l+f[5]*h+f[9]*a+f[13],this.z=f[2]*l+f[6]*h+f[10]*a+f[14],this},transformCoordinates:function(c){var l=this.x,h=this.y,a=this.z,f=c.val,p=l*f[0]+h*f[4]+a*f[8]+f[12],u=l*f[1]+h*f[5]+a*f[9]+f[13],v=l*f[2]+h*f[6]+a*f[10]+f[14],y=l*f[3]+h*f[7]+a*f[11]+f[15];return this.x=p/y,this.y=u/y,this.z=v/y,this},transformQuat:function(c){var l=this.x,h=this.y,a=this.z,f=c.x,p=c.y,u=c.z,v=c.w,y=v*l+p*a-u*h,x=v*h+u*l-f*a,b=v*a+f*h-p*l,w=-f*l-p*h-u*a;return this.x=y*v+w*-f+x*-u-b*-p,this.y=x*v+w*-p+b*-f-y*-u,this.z=b*v+w*-u+y*-p-x*-f,this},project:function(c){var l=this.x,h=this.y,a=this.z,f=c.val,p=f[0],u=f[1],v=f[2],y=f[3],x=f[4],b=f[5],w=f[6],C=f[7],E=f[8],T=f[9],k=f[10],A=f[11],I=f[12],B=f[13],M=f[14],O=f[15],P=1/(l*y+h*C+a*A+O);return this.x=(l*p+h*x+a*E+I)*P,this.y=(l*u+h*b+a*T+B)*P,this.z=(l*v+h*w+a*k+M)*P,this},projectViewMatrix:function(c,l){return this.applyMatrix4(c).applyMatrix4(l)},unprojectViewMatrix:function(c,l){return this.applyMatrix4(c).applyMatrix4(l)},unproject:function(c,l){var h=c.x,a=c.y,f=c.z,p=c.w,u=this.x-h,v=p-this.y-1-a,y=this.z;return this.x=2*u/f-1,this.y=2*v/p-1,this.z=2*y-1,this.project(l)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});m.ZERO=new m,m.RIGHT=new m(1,0,0),m.LEFT=new m(-1,0,0),m.UP=new m(0,-1,0),m.DOWN=new m(0,1,0),m.FORWARD=new m(0,0,1),m.BACK=new m(0,0,-1),m.ONE=new m(1,1,1),s.exports=m},61369:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h,a,f){this.x=0,this.y=0,this.z=0,this.w=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=h||0,this.z=a||0,this.w=f||0)},clone:function(){return new m(this.x,this.y,this.z,this.w)},copy:function(c){return this.x=c.x,this.y=c.y,this.z=c.z||0,this.w=c.w||0,this},equals:function(c){return this.x===c.x&&this.y===c.y&&this.z===c.z&&this.w===c.w},set:function(c,l,h,a){return typeof c=="object"?(this.x=c.x||0,this.y=c.y||0,this.z=c.z||0,this.w=c.w||0):(this.x=c||0,this.y=l||0,this.z=h||0,this.w=a||0),this},add:function(c){return this.x+=c.x,this.y+=c.y,this.z+=c.z||0,this.w+=c.w||0,this},subtract:function(c){return this.x-=c.x,this.y-=c.y,this.z-=c.z||0,this.w-=c.w||0,this},scale:function(c){return this.x*=c,this.y*=c,this.z*=c,this.w*=c,this},length:function(){var c=this.x,l=this.y,h=this.z,a=this.w;return Math.sqrt(c*c+l*l+h*h+a*a)},lengthSq:function(){var c=this.x,l=this.y,h=this.z,a=this.w;return c*c+l*l+h*h+a*a},normalize:function(){var c=this.x,l=this.y,h=this.z,a=this.w,f=c*c+l*l+h*h+a*a;return f>0&&(f=1/Math.sqrt(f),this.x=c*f,this.y=l*f,this.z=h*f,this.w=a*f),this},dot:function(c){return this.x*c.x+this.y*c.y+this.z*c.z+this.w*c.w},lerp:function(c,l){l===void 0&&(l=0);var h=this.x,a=this.y,f=this.z,p=this.w;return this.x=h+l*(c.x-h),this.y=a+l*(c.y-a),this.z=f+l*(c.z-f),this.w=p+l*(c.w-p),this},multiply:function(c){return this.x*=c.x,this.y*=c.y,this.z*=c.z||1,this.w*=c.w||1,this},divide:function(c){return this.x/=c.x,this.y/=c.y,this.z/=c.z||1,this.w/=c.w||1,this},distance:function(c){var l=c.x-this.x,h=c.y-this.y,a=c.z-this.z||0,f=c.w-this.w||0;return Math.sqrt(l*l+h*h+a*a+f*f)},distanceSq:function(c){var l=c.x-this.x,h=c.y-this.y,a=c.z-this.z||0,f=c.w-this.w||0;return l*l+h*h+a*a+f*f},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(c){var l=this.x,h=this.y,a=this.z,f=this.w,p=c.val;return this.x=p[0]*l+p[4]*h+p[8]*a+p[12]*f,this.y=p[1]*l+p[5]*h+p[9]*a+p[13]*f,this.z=p[2]*l+p[6]*h+p[10]*a+p[14]*f,this.w=p[3]*l+p[7]*h+p[11]*a+p[15]*f,this},transformQuat:function(c){var l=this.x,h=this.y,a=this.z,f=c.x,p=c.y,u=c.z,v=c.w,y=v*l+p*a-u*h,x=v*h+u*l-f*a,b=v*a+f*h-p*l,w=-f*l-p*h-u*a;return this.x=y*v+w*-f+x*-u-b*-p,this.y=x*v+w*-p+b*-f-y*-u,this.z=b*v+w*-u+y*-p-x*-f,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});m.prototype.sub=m.prototype.subtract,m.prototype.mul=m.prototype.multiply,m.prototype.div=m.prototype.divide,m.prototype.dist=m.prototype.distance,m.prototype.distSq=m.prototype.distanceSq,m.prototype.len=m.prototype.length,m.prototype.lenSq=m.prototype.lengthSq,s.exports=m},60417:s=>{var g=function(i,o,m){return Math.abs(i-o)<=m};s.exports=g},15994:s=>{var g=function(i,o,m){var c=m-o;return o+((i-o)%c+c)%c};s.exports=g},31040:s=>{var g=function(i,o,m,c){return Math.atan2(c-o,m-i)};s.exports=g},55495:s=>{var g=function(i,o){return Math.atan2(o.y-i.y,o.x-i.x)};s.exports=g},128:s=>{var g=function(i,o){return Math.atan2(o.x-i.x,o.y-i.y)};s.exports=g},41273:s=>{var g=function(i,o,m,c){return Math.atan2(m-i,c-o)};s.exports=g},1432:(s,g,i)=>{var o=i(36383),m=function(c){return c>Math.PI&&(c-=o.PI2),Math.abs(((c+o.TAU)%o.PI2-o.PI2)%o.PI2)};s.exports=m},12407:s=>{var g=function(i){return i=i%(2*Math.PI),i>=0?i:i+2*Math.PI};s.exports=g},53993:(s,g,i)=>{var o=i(99472),m=function(){return o(-Math.PI,Math.PI)};s.exports=m},86564:(s,g,i)=>{var o=i(99472),m=function(){return o(-180,180)};s.exports=m},90154:(s,g,i)=>{var o=i(12407),m=function(c){return o(c+Math.PI)};s.exports=m},48736:(s,g,i)=>{var o=i(36383),m=function(c,l,h){return h===void 0&&(h=.05),c===l||(Math.abs(l-c)<=h||Math.abs(l-c)>=o.PI2-h?c=l:(Math.abs(l-c)>Math.PI&&(l<c?l+=o.PI2:l-=o.PI2),l>c?c+=h:l<c&&(c-=h))),c};s.exports=m},61430:s=>{var g=function(i,o){var m=o-i;if(m===0)return 0;var c=Math.floor((m- -180)/360);return m-c*360};s.exports=g},86554:(s,g,i)=>{var o=i(15994),m=function(c){return o(c,-Math.PI,Math.PI)};s.exports=m},30954:(s,g,i)=>{var o=i(15994),m=function(c){return o(c,-180,180)};s.exports=m},25588:(s,g,i)=>{s.exports={Between:i(31040),BetweenPoints:i(55495),BetweenPointsY:i(128),BetweenY:i(41273),CounterClockwise:i(1432),Normalize:i(12407),Random:i(53993),RandomDegrees:i(86564),Reverse:i(90154),RotateTo:i(48736),ShortestBetween:i(61430),Wrap:i(86554),WrapDegrees:i(30954)}},36383:s=>{var g={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};s.exports=g},20339:s=>{var g=function(i,o,m,c){var l=i-m,h=o-c;return Math.sqrt(l*l+h*h)};s.exports=g},52816:s=>{var g=function(i,o){var m=i.x-o.x,c=i.y-o.y;return Math.sqrt(m*m+c*c)};s.exports=g},64559:s=>{var g=function(i,o){var m=i.x-o.x,c=i.y-o.y;return m*m+c*c};s.exports=g},82340:s=>{var g=function(i,o,m,c){return Math.max(Math.abs(i-m),Math.abs(o-c))};s.exports=g},14390:s=>{var g=function(i,o,m,c,l){return l===void 0&&(l=2),Math.sqrt(Math.pow(m-i,l)+Math.pow(c-o,l))};s.exports=g},2243:s=>{var g=function(i,o,m,c){return Math.abs(i-m)+Math.abs(o-c)};s.exports=g},89774:s=>{var g=function(i,o,m,c){var l=i-m,h=o-c;return l*l+h*h};s.exports=g},50994:(s,g,i)=>{s.exports={Between:i(20339),BetweenPoints:i(52816),BetweenPointsSquared:i(64559),Chebyshev:i(82340),Power:i(14390),Snake:i(2243),Squared:i(89774)}},62640:(s,g,i)=>{var o=i(54178),m=i(41521),c=i(79980),l=i(85433),h=i(99140),a=i(48857),f=i(81596),p=i(59133),u=i(98516),v=i(35248),y=i(82500),x=i(49752);s.exports={Power0:f,Power1:p.Out,Power2:l.Out,Power3:u.Out,Power4:v.Out,Linear:f,Quad:p.Out,Cubic:l.Out,Quart:u.Out,Quint:v.Out,Sine:y.Out,Expo:a.Out,Circ:c.Out,Elastic:h.Out,Back:o.Out,Bounce:m.Out,Stepped:x,"Quad.easeIn":p.In,"Cubic.easeIn":l.In,"Quart.easeIn":u.In,"Quint.easeIn":v.In,"Sine.easeIn":y.In,"Expo.easeIn":a.In,"Circ.easeIn":c.In,"Elastic.easeIn":h.In,"Back.easeIn":o.In,"Bounce.easeIn":m.In,"Quad.easeOut":p.Out,"Cubic.easeOut":l.Out,"Quart.easeOut":u.Out,"Quint.easeOut":v.Out,"Sine.easeOut":y.Out,"Expo.easeOut":a.Out,"Circ.easeOut":c.Out,"Elastic.easeOut":h.Out,"Back.easeOut":o.Out,"Bounce.easeOut":m.Out,"Quad.easeInOut":p.InOut,"Cubic.easeInOut":l.InOut,"Quart.easeInOut":u.InOut,"Quint.easeInOut":v.InOut,"Sine.easeInOut":y.InOut,"Expo.easeInOut":a.InOut,"Circ.easeInOut":c.InOut,"Elastic.easeInOut":h.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":m.InOut}},1639:s=>{var g=function(i,o){return o===void 0&&(o=1.70158),i*i*((o+1)*i-o)};s.exports=g},50099:s=>{var g=function(i,o){o===void 0&&(o=1.70158);var m=o*1.525;return(i*=2)<1?.5*(i*i*((m+1)*i-m)):.5*((i-=2)*i*((m+1)*i+m)+2)};s.exports=g},41286:s=>{var g=function(i,o){return o===void 0&&(o=1.70158),--i*i*((o+1)*i+o)+1};s.exports=g},54178:(s,g,i)=>{s.exports={In:i(1639),Out:i(41286),InOut:i(50099)}},59590:s=>{var g=function(i){return i=1-i,i<.36363636363636365?1-7.5625*i*i:i<.7272727272727273?1-(7.5625*(i-=.5454545454545454)*i+.75):i<.9090909090909091?1-(7.5625*(i-=.8181818181818182)*i+.9375):1-(7.5625*(i-=.9545454545454546)*i+.984375)};s.exports=g},41788:s=>{var g=function(i){var o=!1;return i<.5?(i=1-i*2,o=!0):i=i*2-1,i<.36363636363636365?i=7.5625*i*i:i<.7272727272727273?i=7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?i=7.5625*(i-=.8181818181818182)*i+.9375:i=7.5625*(i-=.9545454545454546)*i+.984375,o?(1-i)*.5:i*.5+.5};s.exports=g},69905:s=>{var g=function(i){return i<.36363636363636365?7.5625*i*i:i<.7272727272727273?7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?7.5625*(i-=.8181818181818182)*i+.9375:7.5625*(i-=.9545454545454546)*i+.984375};s.exports=g},41521:(s,g,i)=>{s.exports={In:i(59590),Out:i(69905),InOut:i(41788)}},91861:s=>{var g=function(i){return 1-Math.sqrt(1-i*i)};s.exports=g},4177:s=>{var g=function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)};s.exports=g},57512:s=>{var g=function(i){return Math.sqrt(1- --i*i)};s.exports=g},79980:(s,g,i)=>{s.exports={In:i(91861),Out:i(57512),InOut:i(4177)}},51150:s=>{var g=function(i){return i*i*i};s.exports=g},82820:s=>{var g=function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)};s.exports=g},35033:s=>{var g=function(i){return--i*i*i+1};s.exports=g},85433:(s,g,i)=>{s.exports={In:i(51150),Out:i(35033),InOut:i(82820)}},69965:s=>{var g=function(i,o,m){if(o===void 0&&(o=.1),m===void 0&&(m=.1),i===0)return 0;if(i===1)return 1;var c=m/4;return o<1?o=1:c=m*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(i-=1))*Math.sin((i-c)*(2*Math.PI)/m))};s.exports=g},50665:s=>{var g=function(i,o,m){if(o===void 0&&(o=.1),m===void 0&&(m=.1),i===0)return 0;if(i===1)return 1;var c=m/4;return o<1?o=1:c=m*Math.asin(1/o)/(2*Math.PI),(i*=2)<1?-.5*(o*Math.pow(2,10*(i-=1))*Math.sin((i-c)*(2*Math.PI)/m)):o*Math.pow(2,-10*(i-=1))*Math.sin((i-c)*(2*Math.PI)/m)*.5+1};s.exports=g},7744:s=>{var g=function(i,o,m){if(o===void 0&&(o=.1),m===void 0&&(m=.1),i===0)return 0;if(i===1)return 1;var c=m/4;return o<1?o=1:c=m*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*i)*Math.sin((i-c)*(2*Math.PI)/m)+1};s.exports=g},99140:(s,g,i)=>{s.exports={In:i(69965),Out:i(7744),InOut:i(50665)}},24590:s=>{var g=function(i){return Math.pow(2,10*(i-1))-.001};s.exports=g},87844:s=>{var g=function(i){return(i*=2)<1?.5*Math.pow(2,10*(i-1)):.5*(2-Math.pow(2,-10*(i-1)))};s.exports=g},89433:s=>{var g=function(i){return 1-Math.pow(2,-10*i)};s.exports=g},48857:(s,g,i)=>{s.exports={In:i(24590),Out:i(89433),InOut:i(87844)}},48820:(s,g,i)=>{s.exports={Back:i(54178),Bounce:i(41521),Circular:i(79980),Cubic:i(85433),Elastic:i(99140),Expo:i(48857),Linear:i(81596),Quadratic:i(59133),Quartic:i(98516),Quintic:i(35248),Sine:i(82500),Stepped:i(49752)}},7147:s=>{var g=function(i){return i};s.exports=g},81596:(s,g,i)=>{s.exports=i(7147)},34826:s=>{var g=function(i){return i*i};s.exports=g},20544:s=>{var g=function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)};s.exports=g},92029:s=>{var g=function(i){return i*(2-i)};s.exports=g},59133:(s,g,i)=>{s.exports={In:i(34826),Out:i(92029),InOut:i(20544)}},64413:s=>{var g=function(i){return i*i*i*i};s.exports=g},78137:s=>{var g=function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)};s.exports=g},45840:s=>{var g=function(i){return 1- --i*i*i*i};s.exports=g},98516:(s,g,i)=>{s.exports={In:i(64413),Out:i(45840),InOut:i(78137)}},87745:s=>{var g=function(i){return i*i*i*i*i};s.exports=g},16509:s=>{var g=function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)};s.exports=g},17868:s=>{var g=function(i){return--i*i*i*i*i+1};s.exports=g},35248:(s,g,i)=>{s.exports={In:i(87745),Out:i(17868),InOut:i(16509)}},80461:s=>{var g=function(i){return i===0?0:i===1?1:1-Math.cos(i*Math.PI/2)};s.exports=g},34025:s=>{var g=function(i){return i===0?0:i===1?1:.5*(1-Math.cos(Math.PI*i))};s.exports=g},52768:s=>{var g=function(i){return i===0?0:i===1?1:Math.sin(i*Math.PI/2)};s.exports=g},82500:(s,g,i)=>{s.exports={In:i(80461),Out:i(52768),InOut:i(34025)}},72251:s=>{var g=function(i,o){return o===void 0&&(o=1),i<=0?0:i>=1?1:((o*i|0)+1)*(1/o)};s.exports=g},49752:(s,g,i)=>{s.exports=i(72251)},75698:s=>{var g=function(i,o){return o===void 0&&(o=1e-4),Math.ceil(i-o)};s.exports=g},43855:s=>{var g=function(i,o,m){return m===void 0&&(m=1e-4),Math.abs(i-o)<m};s.exports=g},25777:s=>{var g=function(i,o){return o===void 0&&(o=1e-4),Math.floor(i+o)};s.exports=g},5470:s=>{var g=function(i,o,m){return m===void 0&&(m=1e-4),i>o-m};s.exports=g},94977:s=>{var g=function(i,o,m){return m===void 0&&(m=1e-4),i<o+m};s.exports=g},48379:(s,g,i)=>{s.exports={Ceil:i(75698),Equal:i(43855),Floor:i(25777),GreaterThan:i(5470),LessThan:i(94977)}},75508:(s,g,i)=>{var o=i(36383),m=i(79291),c={Angle:i(25588),Distance:i(50994),Easing:i(48820),Fuzzy:i(48379),Interpolation:i(38289),Pow2:i(49001),Snap:i(73697),RandomDataGenerator:i(28453),Average:i(53307),Bernstein:i(85710),Between:i(30976),CatmullRom:i(87842),CeilTo:i(26302),Clamp:i(45319),DegToRad:i(39506),Difference:i(61241),Euler:i(38857),Factorial:i(6411),FloatBetween:i(99472),FloorTo:i(77623),FromPercent:i(62945),GetSpeed:i(38265),IsEven:i(78702),IsEvenStrict:i(94883),Linear:i(28915),LinearXY:i(94908),MaxAdd:i(86883),Median:i(50040),MinSub:i(37204),Percent:i(65201),RadToDeg:i(43396),RandomXY:i(74362),RandomXYZ:i(60706),RandomXYZW:i(67421),Rotate:i(36305),RotateAround:i(11520),RotateAroundDistance:i(1163),RotateTo:i(70336),RoundAwayFromZero:i(2284),RoundTo:i(41013),SinCosTableGenerator:i(16922),SmootherStep:i(54261),SmoothStep:i(7602),ToXY:i(44408),TransformXY:i(85955),Within:i(60417),Wrap:i(15994),Vector2:i(26099),Vector3:i(25836),Vector4:i(61369),Matrix3:i(94434),Matrix4:i(37867),Quaternion:i(15746),RotateVec3:i(72678)};c=m(!1,c,o),s.exports=c},89318:(s,g,i)=>{var o=i(85710),m=function(c,l){for(var h=0,a=c.length-1,f=0;f<=a;f++)h+=Math.pow(1-l,a-f)*Math.pow(l,f)*c[f]*o(a,f);return h};s.exports=m},77259:(s,g,i)=>{var o=i(87842),m=function(c,l){var h=c.length-1,a=h*l,f=Math.floor(a);return c[0]===c[h]?(l<0&&(f=Math.floor(a=h*(1+l))),o(a-f,c[(f-1+h)%h],c[f],c[(f+1)%h],c[(f+2)%h])):l<0?c[0]-(o(-a,c[0],c[0],c[1],c[1])-c[0]):l>1?c[h]-(o(a-h,c[h],c[h],c[h-1],c[h-1])-c[h]):o(a-f,c[f?f-1:0],c[f],c[h<f+1?h:f+1],c[h<f+2?h:f+2])};s.exports=m},36316:s=>{function g(l,h){var a=1-l;return a*a*a*h}function i(l,h){var a=1-l;return 3*a*a*l*h}function o(l,h){return 3*(1-l)*l*l*h}function m(l,h){return l*l*l*h}var c=function(l,h,a,f,p){return g(l,h)+i(l,a)+o(l,f)+m(l,p)};s.exports=c},28392:(s,g,i)=>{var o=i(28915),m=function(c,l){var h=c.length-1,a=h*l,f=Math.floor(a);return l<0?o(c[0],c[1],a):l>1?o(c[h],c[h-1],h-a):o(c[f],c[f+1>h?h:f+1],a-f)};s.exports=m},32112:s=>{function g(c,l){var h=1-c;return h*h*l}function i(c,l){return 2*(1-c)*c*l}function o(c,l){return c*c*l}var m=function(c,l,h,a){return g(c,l)+i(c,h)+o(c,a)};s.exports=m},47235:(s,g,i)=>{var o=i(7602),m=function(c,l,h){return l+(h-l)*o(c,0,1)};s.exports=m},50178:(s,g,i)=>{var o=i(54261),m=function(c,l,h){return l+(h-l)*o(c,0,1)};s.exports=m},38289:(s,g,i)=>{s.exports={Bezier:i(89318),CatmullRom:i(77259),CubicBezier:i(36316),Linear:i(28392),QuadraticBezier:i(32112),SmoothStep:i(47235),SmootherStep:i(50178)}},98439:s=>{var g=function(i){var o=Math.log(i)/.6931471805599453;return 1<<Math.ceil(o)};s.exports=g},50030:s=>{var g=function(i,o){return i>0&&(i&i-1)===0&&o>0&&(o&o-1)===0};s.exports=g},81230:s=>{var g=function(i){return i>0&&(i&i-1)===0};s.exports=g},49001:(s,g,i)=>{s.exports={GetNext:i(98439),IsSize:i(50030),IsValue:i(81230)}},28453:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l){l===void 0&&(l=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],l&&this.init(l)},rnd:function(){var c=2091639*this.s0+this.c*23283064365386963e-26;return this.c=c|0,this.s0=this.s1,this.s1=this.s2,this.s2=c-this.c,this.s2},hash:function(c){var l,h=this.n;c=c.toString();for(var a=0;a<c.length;a++)h+=c.charCodeAt(a),l=.02519603282416938*h,h=l>>>0,l-=h,l*=h,h=l>>>0,l-=h,h+=l*4294967296;return this.n=h,(h>>>0)*23283064365386963e-26},init:function(c){typeof c=="string"?this.state(c):this.sow(c)},sow:function(c){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!c)for(var l=0;l<c.length&&c[l]!=null;l++){var h=c[l];this.s0-=this.hash(h),this.s0+=~~(this.s0<0),this.s1-=this.hash(h),this.s1+=~~(this.s1<0),this.s2-=this.hash(h),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(c,l){return Math.floor(this.realInRange(0,l-c+1)+c)},between:function(c,l){return Math.floor(this.realInRange(0,l-c+1)+c)},realInRange:function(c,l){return this.frac()*(l-c)+c},normal:function(){return 1-2*this.frac()},uuid:function(){var c="",l="";for(l=c="";c++<36;l+=~c%5|c*3&4?(c^15?8^this.frac()*(c^20?16:4):4).toString(16):"-");return l},pick:function(c){return c[this.integerInRange(0,c.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(c){return c[~~(Math.pow(this.frac(),2)*(c.length-.5)+.5)]},timestamp:function(c,l){return this.realInRange(c||9466848e5,l||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(c){return typeof c=="string"&&c.match(/^!rnd/)&&(c=c.split(","),this.c=parseFloat(c[1]),this.s0=parseFloat(c[2]),this.s1=parseFloat(c[3]),this.s2=parseFloat(c[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(c){for(var l=c.length-1,h=l;h>0;h--){var a=Math.floor(this.frac()*(h+1)),f=c[a];c[a]=c[h],c[h]=f}return c}});s.exports=m},63448:s=>{var g=function(i,o,m,c){return m===void 0&&(m=0),o===0?i:(i-=m,i=o*Math.ceil(i/o),c?(m+i)/o:m+i)};s.exports=g},56583:s=>{var g=function(i,o,m,c){return m===void 0&&(m=0),o===0?i:(i-=m,i=o*Math.floor(i/o),c?(m+i)/o:m+i)};s.exports=g},77720:s=>{var g=function(i,o,m,c){return m===void 0&&(m=0),o===0?i:(i-=m,i=o*Math.round(i/o),c?(m+i)/o:m+i)};s.exports=g},73697:(s,g,i)=>{s.exports={Ceil:i(63448),Floor:i(56583),To:i(77720)}},85454:(s,g,i)=>{i(63595);var o=i(8054),m=i(79291),c={Actions:i(61061),Animations:i(60421),BlendModes:i(10312),Cache:i(83388),Cameras:i(26638),Core:i(42857),Class:i(83419),Create:i(15822),Curves:i(25410),Data:i(44965),Display:i(27460),DOM:i(84902),Events:i(93055),FX:i(66064),Game:i(50127),GameObjects:i(77856),Geom:i(55738),Input:i(14350),Loader:i(57777),Math:i(75508),Physics:i(44563),Plugins:i(18922),Renderer:i(36909),Scale:i(93364),ScaleModes:i(29795),Scene:i(97482),Scenes:i(62194),Structs:i(41392),Textures:i(27458),Tilemaps:i(62501),Time:i(90291),Tweens:i(43066),Utils:i(91799)};c.Sound=i(23717),c=m(!1,c,o),s.exports=c,i.g.Phaser=c},71289:(s,g,i)=>{var o=i(83419),m=i(92209),c=i(88571),l=new o({Extends:c,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(a,f,p,u,v){c.call(this,a,f,p,u,v),this.body=null}});s.exports=l},86689:(s,g,i)=>{var o=i(83419),m=i(39506),c=i(20339),l=i(89774),h=i(66022),a=i(95540),f=i(46975),p=i(72441),u=i(47956),v=i(37277),y=i(44594),x=i(26099),b=i(82248),w=new o({initialize:function(E){this.scene=E,this.systems=E.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,E.sys.events.once(y.BOOT,this.boot,this),E.sys.events.on(y.START,this.start,this)},boot:function(){this.world=new b(this.scene,this.config),this.add=new h(this.world),this.systems.events.once(y.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new b(this.scene,this.config),this.add=new h(this.world));var C=this.systems.events;a(this.config,"customUpdate",!1)||C.on(y.UPDATE,this.world.update,this.world),C.on(y.POST_UPDATE,this.world.postUpdate,this.world),C.once(y.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(y.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(y.UPDATE,this.world.update,this.world)},getConfig:function(){var C=this.systems.game.config.physics,E=this.systems.settings.physics,T=f(a(E,"arcade",{}),a(C,"arcade",{}));return T},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(C,E,T,k,A){return T===void 0&&(T=null),k===void 0&&(k=null),A===void 0&&(A=T),this.world.collideObjects(C,E,T,k,A,!0)},collide:function(C,E,T,k,A){return T===void 0&&(T=null),k===void 0&&(k=null),A===void 0&&(A=T),this.world.collideObjects(C,E,T,k,A,!1)},collideTiles:function(C,E,T,k,A){return this.world.collideTiles(C,E,T,k,A)},overlapTiles:function(C,E,T,k,A){return this.world.overlapTiles(C,E,T,k,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(C,E,T,k,A,I){k===void 0&&(k=60);var B=Math.atan2(T-C.y,E-C.x);return C.body.acceleration.setToPolar(B,k),A!==void 0&&I!==void 0&&C.body.maxVelocity.set(A,I),B},accelerateToObject:function(C,E,T,k,A){return this.accelerateTo(C,E.x,E.y,T,k,A)},closest:function(C,E){E||(E=this.world.bodies.entries);for(var T=Number.MAX_VALUE,k=null,A=C.x,I=C.y,B=E.length,M=0;M<B;M++){var O=E[M],P=O.body||O;if(!(C===O||C===P||C===P.gameObject||C===P.center)){var L=l(A,I,P.center.x,P.center.y);L<T&&(k=O,T=L)}}return k},furthest:function(C,E){E||(E=this.world.bodies.entries);for(var T=-1,k=null,A=C.x,I=C.y,B=E.length,M=0;M<B;M++){var O=E[M],P=O.body||O;if(!(C===O||C===P||C===P.gameObject||C===P.center)){var L=l(A,I,P.center.x,P.center.y);L>T&&(k=O,T=L)}}return k},moveTo:function(C,E,T,k,A){k===void 0&&(k=60),A===void 0&&(A=0);var I=Math.atan2(T-C.y,E-C.x);return A>0&&(k=c(C.x,C.y,E,T)/(A/1e3)),C.body.velocity.setToPolar(I,k),I},moveToObject:function(C,E,T,k){return this.moveTo(C,E.x,E.y,T,k)},velocityFromAngle:function(C,E,T){return E===void 0&&(E=60),T===void 0&&(T=new x),T.setToPolar(m(C),E)},velocityFromRotation:function(C,E,T){return E===void 0&&(E=60),T===void 0&&(T=new x),T.setToPolar(C,E)},overlapRect:function(C,E,T,k,A,I){return u(this.world,C,E,T,k,A,I)},overlapCirc:function(C,E,T,k,A){return p(this.world,C,E,T,k,A)},shutdown:function(){if(this.world){var C=this.systems.events;C.off(y.UPDATE,this.world.update,this.world),C.off(y.POST_UPDATE,this.world.postUpdate,this.world),C.off(y.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(y.START,this.start,this),this.scene=null,this.systems=null}});v.register("ArcadePhysics",w,"arcadePhysics"),s.exports=w},13759:(s,g,i)=>{var o=i(83419),m=i(92209),c=i(68287),l=new o({Extends:c,Mixins:[m.Acceleration,m.Angular,m.Bounce,m.Collision,m.Debug,m.Drag,m.Enable,m.Friction,m.Gravity,m.Immovable,m.Mass,m.Pushable,m.Size,m.Velocity],initialize:function(a,f,p,u,v){c.call(this,a,f,p,u,v),this.body=null}});s.exports=l},37742:(s,g,i)=>{var o=i(83419),m=i(78389),c=i(37747),l=i(63012),h=i(43396),a=i(87841),f=i(37303),p=i(95829),u=i(26099),v=new o({Mixins:[m],initialize:function(x,b){var w=64,C=64,E={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},T=b!==void 0;T&&b.displayWidth&&(w=b.displayWidth,C=b.displayHeight),T||(b=E),this.world=x,this.gameObject=T?b:void 0,this.isBody=!0,this.transform={x:b.x,y:b.y,rotation:b.angle,scaleX:b.scaleX,scaleY:b.scaleY,displayOriginX:b.displayOriginX,displayOriginY:b.displayOriginY},this.debugShowBody=x.defaults.debugShowBody,this.debugShowVelocity=x.defaults.debugShowVelocity,this.debugBodyColor=x.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(b.x-b.scaleX*b.displayOriginX,b.y-b.scaleY*b.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=b.angle,this.preRotation=b.angle,this.width=w,this.height=C,this.sourceWidth=w,this.sourceHeight=C,b.frame&&(this.sourceWidth=b.frame.realWidth,this.sourceHeight=b.frame.realHeight),this.halfWidth=Math.abs(w/2),this.halfHeight=Math.abs(C/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new u,this.newVelocity=new u,this.deltaMax=new u,this.acceleration=new u,this.allowDrag=!0,this.drag=new u,this.allowGravity=!0,this.gravity=new u,this.bounce=new u,this.worldBounce=null,this.customBoundsRectangle=x.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new u(1e4,1e4),this.maxSpeed=-1,this.friction=new u(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=c.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new u(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=p(!1),this.touching=p(!0),this.wasTouching=p(!0),this.blocked=p(!0),this.syncBounds=!1,this.physicsType=c.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=b.scaleX,this._sy=b.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var y=this.gameObject,x=this.transform;if(y.parentContainer){var b=y.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);x.x=b.tx,x.y=b.ty,x.rotation=h(b.rotation),x.scaleX=b.scaleX,x.scaleY=b.scaleY,x.displayOriginX=y.displayOriginX,x.displayOriginY=y.displayOriginY}else x.x=y.x,x.y=y.y,x.rotation=y.angle,x.scaleX=y.scaleX,x.scaleY=y.scaleY,x.displayOriginX=y.displayOriginX,x.displayOriginY=y.displayOriginY;var w=!1;if(this.syncBounds){var C=y.getBounds(this._bounds);this.width=C.width,this.height=C.height,w=!0}else{var E=Math.abs(x.scaleX),T=Math.abs(x.scaleY);(this._sx!==E||this._sy!==T)&&(this.width=this.sourceWidth*E,this.height=this.sourceHeight*T,this._sx=E,this._sy=T,w=!0)}w&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var y=this.transform;this.position.x=y.x+y.scaleX*(this.offset.x-y.displayOriginX),this.position.y=y.y+y.scaleY*(this.offset.y-y.displayOriginY),this.updateCenter()},resetFlags:function(y){y===void 0&&(y=!1);var x=this.wasTouching,b=this.touching,w=this.blocked;y?p(!0,x):(x.none=b.none,x.up=b.up,x.down=b.down,x.left=b.left,x.right=b.right),p(!0,b),p(!0,w),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(y,x){if(y&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var b=this.position;this.prev.x=b.x,this.prev.y=b.y,this.prevFrame.x=b.x,this.prevFrame.y=b.y}y&&this.update(x)},update:function(y){var x=this.prev,b=this.position,w=this.velocity;if(x.set(b.x,b.y),!this.moves){this._dx=b.x-x.x,this._dy=b.y-x.y;return}if(this.directControl){var C=this.autoFrame;w.set((b.x-C.x)/y,(b.y-C.y)/y),this.world.updateMotion(this,y),this._dx=b.x-C.x,this._dy=b.y-C.y}else this.world.updateMotion(this,y),this.newVelocity.set(w.x*y,w.y*y),b.add(this.newVelocity),this._dx=b.x-x.x,this._dy=b.y-x.y;var E=w.x,T=w.y;if(this.updateCenter(),this.angle=Math.atan2(T,E),this.speed=Math.sqrt(E*E+T*T),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var k=this.blocked;this.world.emit(l.WORLD_BOUNDS,this,k.up,k.down,k.left,k.right)}},postUpdate:function(){var y=this.position,x=y.x-this.prevFrame.x,b=y.y-this.prevFrame.y,w=this.gameObject;if(this.moves){var C=this.deltaMax.x,E=this.deltaMax.y;C!==0&&x!==0&&(x<0&&x<-C?x=-C:x>0&&x>C&&(x=C)),E!==0&&b!==0&&(b<0&&b<-E?b=-E:b>0&&b>E&&(b=E)),w&&(w.x+=x,w.y+=b)}x<0?this.facing=c.FACING_LEFT:x>0&&(this.facing=c.FACING_RIGHT),b<0?this.facing=c.FACING_UP:b>0&&(this.facing=c.FACING_DOWN),this.allowRotation&&w&&(w.angle+=this.deltaZ()),this._tx=x,this._ty=b,this.autoFrame.set(y.x,y.y)},setBoundsRectangle:function(y){return this.customBoundsRectangle=y||this.world.bounds,this},checkWorldBounds:function(){var y=this.position,x=this.velocity,b=this.blocked,w=this.customBoundsRectangle,C=this.world.checkCollision,E=this.worldBounce?-this.worldBounce.x:-this.bounce.x,T=this.worldBounce?-this.worldBounce.y:-this.bounce.y,k=!1;return y.x<w.x&&C.left?(y.x=w.x,x.x*=E,b.left=!0,k=!0):this.right>w.right&&C.right&&(y.x=w.right-this.width,x.x*=E,b.right=!0,k=!0),y.y<w.y&&C.up?(y.y=w.y,x.y*=T,b.up=!0,k=!0):this.bottom>w.bottom&&C.down&&(y.y=w.bottom-this.height,x.y*=T,b.down=!0,k=!0),k&&(this.blocked.none=!1,this.updateCenter()),k},setOffset:function(y,x){return x===void 0&&(x=y),this.offset.set(y,x),this},setGameObject:function(y,x){return x===void 0&&(x=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=y,y.body&&(y.body=this),this.setSize(),this.world.add(this),this.enable=x,this},setSize:function(y,x,b){b===void 0&&(b=!0);var w=this.gameObject;if(w&&(!y&&w.frame&&(y=w.frame.realWidth),!x&&w.frame&&(x=w.frame.realHeight)),this.sourceWidth=y,this.sourceHeight=x,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),b&&w&&w.getCenter){var C=(w.width-y)/2,E=(w.height-x)/2;this.offset.set(C,E)}return this.isCircle=!1,this.radius=0,this},setCircle:function(y,x,b){return x===void 0&&(x=this.offset.x),b===void 0&&(b=this.offset.y),y>0?(this.isCircle=!0,this.radius=y,this.sourceWidth=y*2,this.sourceHeight=y*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(x,b),this.updateCenter()):this.isCircle=!1,this},reset:function(y,x){this.stop();var b=this.gameObject;b&&(b.setPosition(y,x),this.rotation=b.angle,this.preRotation=b.angle);var w=this.position;b&&b.getTopLeft?b.getTopLeft(w):w.set(y,x),this.prev.copy(w),this.prevFrame.copy(w),this.autoFrame.copy(w),b&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(y){return y.x=this.x,y.y=this.y,y.right=this.right,y.bottom=this.bottom,y},hitTest:function(y,x){if(!this.isCircle)return f(this,y,x);if(this.radius>0&&y>=this.left&&y<=this.right&&x>=this.top&&x<=this.bottom){var b=(this.center.x-y)*(this.center.x-y),w=(this.center.y-x)*(this.center.y-x);return b+w<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(y){var x=this.position,b=x.x+this.halfWidth,w=x.y+this.halfHeight;this.debugShowBody&&(y.lineStyle(y.defaultStrokeWidth,this.debugBodyColor),this.isCircle?y.strokeCircle(b,w,this.width/2):(this.checkCollision.up&&y.lineBetween(x.x,x.y,x.x+this.width,x.y),this.checkCollision.right&&y.lineBetween(x.x+this.width,x.y,x.x+this.width,x.y+this.height),this.checkCollision.down&&y.lineBetween(x.x,x.y+this.height,x.x+this.width,x.y+this.height),this.checkCollision.left&&y.lineBetween(x.x,x.y,x.x,x.y+this.height))),this.debugShowVelocity&&(y.lineStyle(y.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),y.lineBetween(b,w,b+this.velocity.x/2,w+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(y){return y===void 0&&(y=!0),this.directControl=y,this},setCollideWorldBounds:function(y,x,b,w){y===void 0&&(y=!0),this.collideWorldBounds=y;var C=x!==void 0,E=b!==void 0;return(C||E)&&(this.worldBounce||(this.worldBounce=new u),C&&(this.worldBounce.x=x),E&&(this.worldBounce.y=b)),w!==void 0&&(this.onWorldBounds=w),this},setVelocity:function(y,x){return this.velocity.set(y,x),y=this.velocity.x,x=this.velocity.y,this.speed=Math.sqrt(y*y+x*x),this},setVelocityX:function(y){return this.setVelocity(y,this.velocity.y)},setVelocityY:function(y){return this.setVelocity(this.velocity.x,y)},setMaxVelocity:function(y,x){return this.maxVelocity.set(y,x),this},setMaxVelocityX:function(y){return this.maxVelocity.x=y,this},setMaxVelocityY:function(y){return this.maxVelocity.y=y,this},setMaxSpeed:function(y){return this.maxSpeed=y,this},setSlideFactor:function(y,x){return this.slideFactor.set(y,x),this},setBounce:function(y,x){return this.bounce.set(y,x),this},setBounceX:function(y){return this.bounce.x=y,this},setBounceY:function(y){return this.bounce.y=y,this},setAcceleration:function(y,x){return this.acceleration.set(y,x),this},setAccelerationX:function(y){return this.acceleration.x=y,this},setAccelerationY:function(y){return this.acceleration.y=y,this},setAllowDrag:function(y){return y===void 0&&(y=!0),this.allowDrag=y,this},setAllowGravity:function(y){return y===void 0&&(y=!0),this.allowGravity=y,this},setAllowRotation:function(y){return y===void 0&&(y=!0),this.allowRotation=y,this},setDrag:function(y,x){return this.drag.set(y,x),this},setDamping:function(y){return this.useDamping=y,this},setDragX:function(y){return this.drag.x=y,this},setDragY:function(y){return this.drag.y=y,this},setGravity:function(y,x){return this.gravity.set(y,x),this},setGravityX:function(y){return this.gravity.x=y,this},setGravityY:function(y){return this.gravity.y=y,this},setFriction:function(y,x){return this.friction.set(y,x),this},setFrictionX:function(y){return this.friction.x=y,this},setFrictionY:function(y){return this.friction.y=y,this},setAngularVelocity:function(y){return this.angularVelocity=y,this},setAngularAcceleration:function(y){return this.angularAcceleration=y,this},setAngularDrag:function(y){return this.angularDrag=y,this},setMass:function(y){return this.mass=y,this},setImmovable:function(y){return y===void 0&&(y=!0),this.immovable=y,this},setEnable:function(y){return y===void 0&&(y=!0),this.enable=y,this},processX:function(y,x,b,w){this.x+=y,this.updateCenter(),x!==null&&(this.velocity.x=x*this.slideFactor.x);var C=this.blocked;b&&(C.left=!0,C.none=!1),w&&(C.right=!0,C.none=!1)},processY:function(y,x,b,w){this.y+=y,this.updateCenter(),x!==null&&(this.velocity.y=x*this.slideFactor.y);var C=this.blocked;b&&(C.up=!0,C.none=!1),w&&(C.down=!0,C.none=!1)},x:{get:function(){return this.position.x},set:function(y){this.position.x=y}},y:{get:function(){return this.position.y},set:function(y){this.position.y=y}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});s.exports=v},79342:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h,a,f,p,u,v){this.world=l,this.name="",this.active=!0,this.overlapOnly=h,this.object1=a,this.object2=f,this.collideCallback=p,this.processCallback=u,this.callbackContext=v},setName:function(c){return this.name=c,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});s.exports=m},66022:(s,g,i)=>{var o=i(71289),m=i(13759),c=i(37742),l=i(83419),h=i(37747),a=i(60758),f=i(72624),p=i(71464),u=new l({initialize:function(y){this.world=y,this.scene=y.scene,this.sys=y.scene.sys},collider:function(v,y,x,b,w){return this.world.addCollider(v,y,x,b,w)},overlap:function(v,y,x,b,w){return this.world.addOverlap(v,y,x,b,w)},existing:function(v,y){var x=y?h.STATIC_BODY:h.DYNAMIC_BODY;return this.world.enableBody(v,x),v},staticImage:function(v,y,x,b){var w=new o(this.scene,v,y,x,b);return this.sys.displayList.add(w),this.world.enableBody(w,h.STATIC_BODY),w},image:function(v,y,x,b){var w=new o(this.scene,v,y,x,b);return this.sys.displayList.add(w),this.world.enableBody(w,h.DYNAMIC_BODY),w},staticSprite:function(v,y,x,b){var w=new m(this.scene,v,y,x,b);return this.sys.displayList.add(w),this.sys.updateList.add(w),this.world.enableBody(w,h.STATIC_BODY),w},sprite:function(v,y,x,b){var w=new m(this.scene,v,y,x,b);return this.sys.displayList.add(w),this.sys.updateList.add(w),this.world.enableBody(w,h.DYNAMIC_BODY),w},staticGroup:function(v,y){return this.sys.updateList.add(new p(this.world,this.world.scene,v,y))},group:function(v,y){return this.sys.updateList.add(new a(this.world,this.world.scene,v,y))},body:function(v,y,x,b){var w=new c(this.world);return w.position.set(v,y),x&&b&&w.setSize(x,b),this.world.add(w,h.DYNAMIC_BODY),w},staticBody:function(v,y,x,b){var w=new f(this.world);return w.position.set(v,y),x&&b&&w.setSize(x,b),this.world.add(w,h.STATIC_BODY),w},destroy:function(){this.world=null,this.scene=null,this.sys=null}});s.exports=u},79599:s=>{var g=function(i){var o=0;if(!Array.isArray(i))o=i;else for(var m=0;m<i.length;m++)o|=i[m];return o};s.exports=g},64897:(s,g,i)=>{var o=i(37747),m=function(c,l,h,a){var f=0,p=c.deltaAbsX()+l.deltaAbsX()+a;return c._dx===0&&l._dx===0?(c.embedded=!0,l.embedded=!0):c._dx>l._dx?(f=c.right-l.x,f>p&&!h||c.checkCollision.right===!1||l.checkCollision.left===!1?f=0:(c.touching.none=!1,c.touching.right=!0,l.touching.none=!1,l.touching.left=!0,l.physicsType===o.STATIC_BODY&&!h&&(c.blocked.none=!1,c.blocked.right=!0),c.physicsType===o.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.left=!0))):c._dx<l._dx&&(f=c.x-l.width-l.x,-f>p&&!h||c.checkCollision.left===!1||l.checkCollision.right===!1?f=0:(c.touching.none=!1,c.touching.left=!0,l.touching.none=!1,l.touching.right=!0,l.physicsType===o.STATIC_BODY&&!h&&(c.blocked.none=!1,c.blocked.left=!0),c.physicsType===o.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.right=!0))),c.overlapX=f,l.overlapX=f,f};s.exports=m},45170:(s,g,i)=>{var o=i(37747),m=function(c,l,h,a){var f=0,p=c.deltaAbsY()+l.deltaAbsY()+a;return c._dy===0&&l._dy===0?(c.embedded=!0,l.embedded=!0):c._dy>l._dy?(f=c.bottom-l.y,f>p&&!h||c.checkCollision.down===!1||l.checkCollision.up===!1?f=0:(c.touching.none=!1,c.touching.down=!0,l.touching.none=!1,l.touching.up=!0,l.physicsType===o.STATIC_BODY&&!h&&(c.blocked.none=!1,c.blocked.down=!0),c.physicsType===o.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.up=!0))):c._dy<l._dy&&(f=c.y-l.bottom,-f>p&&!h||c.checkCollision.up===!1||l.checkCollision.down===!1?f=0:(c.touching.none=!1,c.touching.up=!0,l.touching.none=!1,l.touching.down=!0,l.physicsType===o.STATIC_BODY&&!h&&(c.blocked.none=!1,c.blocked.up=!0),c.physicsType===o.STATIC_BODY&&!h&&(l.blocked.none=!1,l.blocked.down=!0))),c.overlapY=f,l.overlapY=f,f};s.exports=m},60758:(s,g,i)=>{var o=i(13759),m=i(83419),c=i(78389),l=i(37747),h=i(95540),a=i(26479),f=i(41212),p=new m({Extends:a,Mixins:[c],initialize:function(v,y,x,b){if(!x&&!b)b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(f(x))b=x,x=null,b.internalCreateCallback=this.createCallbackHandler,b.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(x)&&f(x[0])){var w=this;x.forEach(function(C){C.internalCreateCallback=w.createCallbackHandler,C.internalRemoveCallback=w.removeCallbackHandler,C.classType=h(C,"classType",o)}),b=null}else b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=v,b&&(b.classType=h(b,"classType",o)),this.physicsType=l.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:h(b,"collideWorldBounds",!1),setBoundsRectangle:h(b,"customBoundsRectangle",null),setAccelerationX:h(b,"accelerationX",0),setAccelerationY:h(b,"accelerationY",0),setAllowDrag:h(b,"allowDrag",!0),setAllowGravity:h(b,"allowGravity",!0),setAllowRotation:h(b,"allowRotation",!0),setDamping:h(b,"useDamping",!1),setBounceX:h(b,"bounceX",0),setBounceY:h(b,"bounceY",0),setDragX:h(b,"dragX",0),setDragY:h(b,"dragY",0),setEnable:h(b,"enable",!0),setGravityX:h(b,"gravityX",0),setGravityY:h(b,"gravityY",0),setFrictionX:h(b,"frictionX",0),setFrictionY:h(b,"frictionY",0),setMaxSpeed:h(b,"maxSpeed",-1),setMaxVelocityX:h(b,"maxVelocityX",1e4),setMaxVelocityY:h(b,"maxVelocityY",1e4),setVelocityX:h(b,"velocityX",0),setVelocityY:h(b,"velocityY",0),setAngularVelocity:h(b,"angularVelocity",0),setAngularAcceleration:h(b,"angularAcceleration",0),setAngularDrag:h(b,"angularDrag",0),setMass:h(b,"mass",1),setImmovable:h(b,"immovable",!1)},a.call(this,y,x,b),this.type="PhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,l.DYNAMIC_BODY);var v=u.body;for(var y in this.defaults)v[y](this.defaults[y])},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},setVelocity:function(u,v,y){y===void 0&&(y=0);for(var x=this.getChildren(),b=0;b<x.length;b++)x[b].body.velocity.set(u+b*y,v+b*y);return this},setVelocityX:function(u,v){v===void 0&&(v=0);for(var y=this.getChildren(),x=0;x<y.length;x++)y[x].body.velocity.x=u+x*v;return this},setVelocityY:function(u,v){v===void 0&&(v=0);for(var y=this.getChildren(),x=0;x<y.length;x++)y[x].body.velocity.y=u+x*v;return this}});s.exports=p},3017:s=>{var g,i,o,m,c,l,h,a,f,p,u,v,y,x,b,w,C,E=function(M,O,P){g=M,i=O;var L=g.velocity.x,_=i.velocity.x;return o=g.pushable,f=g._dx<0,p=g._dx>0,u=g._dx===0,b=Math.abs(g.right-i.x)<=Math.abs(i.right-g.x),h=_-L*g.bounce.x,m=i.pushable,v=i._dx<0,y=i._dx>0,x=i._dx===0,w=!b,a=L-_*i.bounce.x,C=Math.abs(P),T()},T=function(){return p&&b&&i.blocked.right?(g.processX(-C,h,!1,!0),1):f&&w&&i.blocked.left?(g.processX(C,h,!0),1):y&&w&&g.blocked.right?(i.processX(-C,a,!1,!0),2):v&&b&&g.blocked.left?(i.processX(C,a,!0),2):0},k=function(){var M=g.velocity.x,O=i.velocity.x,P=Math.sqrt(O*O*i.mass/g.mass)*(O>0?1:-1),L=Math.sqrt(M*M*g.mass/i.mass)*(M>0?1:-1),_=(P+L)*.5;return P-=_,L-=_,c=_+P*g.bounce.x,l=_+L*i.bounce.x,f&&w?A(0):v&&b?A(1):p&&b?A(2):y&&w?A(3):!1},A=function(M){if(o&&m)C*=.5,M===0||M===3?(g.processX(C,c),i.processX(-C,l)):(g.processX(-C,c),i.processX(C,l));else if(o&&!m)M===0||M===3?g.processX(C,h,!0):g.processX(-C,h,!1,!0);else if(!o&&m)M===0||M===3?i.processX(-C,a,!1,!0):i.processX(C,a,!0);else{var O=C*.5;M===0?x?(g.processX(C,0,!0),i.processX(0,null,!1,!0)):y?(g.processX(O,0,!0),i.processX(-O,0,!1,!0)):(g.processX(O,i.velocity.x,!0),i.processX(-O,null,!1,!0)):M===1?u?(g.processX(0,null,!1,!0),i.processX(C,0,!0)):p?(g.processX(-O,0,!1,!0),i.processX(O,0,!0)):(g.processX(-O,null,!1,!0),i.processX(O,g.velocity.x,!0)):M===2?x?(g.processX(-C,0,!1,!0),i.processX(0,null,!0)):v?(g.processX(-O,0,!1,!0),i.processX(O,0,!0)):(g.processX(-O,i.velocity.x,!1,!0),i.processX(O,null,!0)):M===3&&(u?(g.processX(0,null,!0),i.processX(-C,0,!1,!0)):f?(g.processX(O,0,!0),i.processX(-O,0,!1,!0)):(g.processX(O,i.velocity.y,!0),i.processX(-O,null,!1,!0)))}return!0},I=function(M){M===1?i.velocity.x=0:b?i.processX(C,a,!0):i.processX(-C,a,!1,!0),g.moves&&(i.y+=(g.y-g.prev.y)*g.friction.y,i._dy=i.y-i.prev.y)},B=function(M){M===2?g.velocity.x=0:w?g.processX(C,h,!0):g.processX(-C,h,!1,!0),i.moves&&(g.y+=(i.y-i.prev.y)*i.friction.y,g._dy=g.y-g.prev.y)};s.exports={BlockCheck:T,Check:k,Set:E,Run:A,RunImmovableBody1:I,RunImmovableBody2:B}},47962:s=>{var g,i,o,m,c,l,h,a,f,p,u,v,y,x,b,w,C,E=function(M,O,P){g=M,i=O;var L=g.velocity.y,_=i.velocity.y;return o=g.pushable,f=g._dy<0,p=g._dy>0,u=g._dy===0,b=Math.abs(g.bottom-i.y)<=Math.abs(i.bottom-g.y),h=_-L*g.bounce.y,m=i.pushable,v=i._dy<0,y=i._dy>0,x=i._dy===0,w=!b,a=L-_*i.bounce.y,C=Math.abs(P),T()},T=function(){return p&&b&&i.blocked.down?(g.processY(-C,h,!1,!0),1):f&&w&&i.blocked.up?(g.processY(C,h,!0),1):y&&w&&g.blocked.down?(i.processY(-C,a,!1,!0),2):v&&b&&g.blocked.up?(i.processY(C,a,!0),2):0},k=function(){var M=g.velocity.y,O=i.velocity.y,P=Math.sqrt(O*O*i.mass/g.mass)*(O>0?1:-1),L=Math.sqrt(M*M*g.mass/i.mass)*(M>0?1:-1),_=(P+L)*.5;return P-=_,L-=_,c=_+P*g.bounce.y,l=_+L*i.bounce.y,f&&w?A(0):v&&b?A(1):p&&b?A(2):y&&w?A(3):!1},A=function(M){if(o&&m)C*=.5,M===0||M===3?(g.processY(C,c),i.processY(-C,l)):(g.processY(-C,c),i.processY(C,l));else if(o&&!m)M===0||M===3?g.processY(C,h,!0):g.processY(-C,h,!1,!0);else if(!o&&m)M===0||M===3?i.processY(-C,a,!1,!0):i.processY(C,a,!0);else{var O=C*.5;M===0?x?(g.processY(C,0,!0),i.processY(0,null,!1,!0)):y?(g.processY(O,0,!0),i.processY(-O,0,!1,!0)):(g.processY(O,i.velocity.y,!0),i.processY(-O,null,!1,!0)):M===1?u?(g.processY(0,null,!1,!0),i.processY(C,0,!0)):p?(g.processY(-O,0,!1,!0),i.processY(O,0,!0)):(g.processY(-O,null,!1,!0),i.processY(O,g.velocity.y,!0)):M===2?x?(g.processY(-C,0,!1,!0),i.processY(0,null,!0)):v?(g.processY(-O,0,!1,!0),i.processY(O,0,!0)):(g.processY(-O,i.velocity.y,!1,!0),i.processY(O,null,!0)):M===3&&(u?(g.processY(0,null,!0),i.processY(-C,0,!1,!0)):f?(g.processY(O,0,!0),i.processY(-O,0,!1,!0)):(g.processY(O,i.velocity.y,!0),i.processY(-O,null,!1,!0)))}return!0},I=function(M){M===1?i.velocity.y=0:b?i.processY(C,a,!0):i.processY(-C,a,!1,!0),g.moves&&(i.x+=(g.x-g.prev.x)*g.friction.x,i._dx=i.x-i.prev.x)},B=function(M){M===2?g.velocity.y=0:w?g.processY(C,h,!0):g.processY(-C,h,!1,!0),i.moves&&(g.x+=(i.x-i.prev.x)*i.friction.x,g._dx=g.x-g.prev.x)};s.exports={BlockCheck:T,Check:k,Set:E,Run:A,RunImmovableBody1:I,RunImmovableBody2:B}},14087:(s,g,i)=>{var o=i(64897),m=i(3017),c=function(l,h,a,f,p){p===void 0&&(p=o(l,h,a,f));var u=l.immovable,v=h.immovable;if(a||p===0||u&&v||l.customSeparateX||h.customSeparateX)return p!==0||l.embedded&&h.embedded;var y=m.Set(l,h,p);return!u&&!v?y>0?!0:m.Check():(u?m.RunImmovableBody1(y):v&&m.RunImmovableBody2(y),!0)};s.exports=c},89936:(s,g,i)=>{var o=i(45170),m=i(47962),c=function(l,h,a,f,p){p===void 0&&(p=o(l,h,a,f));var u=l.immovable,v=h.immovable;if(a||p===0||u&&v||l.customSeparateY||h.customSeparateY)return p!==0||l.embedded&&h.embedded;var y=m.Set(l,h,p);return!u&&!v?y>0?!0:m.Check():(u?m.RunImmovableBody1(y):v&&m.RunImmovableBody2(y),!0)};s.exports=c},95829:s=>{var g=function(i,o){return o===void 0&&(o={}),o.none=i,o.up=!1,o.down=!1,o.left=!1,o.right=!1,i||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};s.exports=g},72624:(s,g,i)=>{var o=i(87902),m=i(83419),c=i(78389),l=i(37747),h=i(37303),a=i(95829),f=i(26099),p=new m({Mixins:[c],initialize:function(v,y){var x=64,b=64,w={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},C=y!==void 0;C&&y.displayWidth&&(x=y.displayWidth,b=y.displayHeight),C||(y=w),this.world=v,this.gameObject=C?y:void 0,this.isBody=!0,this.debugShowBody=v.defaults.debugShowStaticBody,this.debugBodyColor=v.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new f,this.position=new f(y.x-x*y.originX,y.y-b*y.originY),this.width=x,this.height=b,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new f(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=f.ZERO,this.allowGravity=!1,this.gravity=f.ZERO,this.bounce=f.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=a(!1),this.touching=a(!0),this.wasTouching=a(!0),this.blocked=a(!0),this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(u,v){return u&&u!==this.gameObject&&(this.gameObject.body=null,u.body=this,this.gameObject=u),v&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var u=this.gameObject;return u.getTopLeft(this.position),this.width=u.displayWidth,this.height=u.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(u,v){return v===void 0&&(v=u),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(u,v),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(u,v,y){y===void 0&&(y=!0);var x=this.gameObject;if(x&&x.frame&&(u||(u=x.frame.realWidth),v||(v=x.frame.realHeight)),this.world.staticTree.remove(this),this.width=u,this.height=v,this.halfWidth=Math.floor(u/2),this.halfHeight=Math.floor(v/2),y&&x&&x.getCenter){var b=x.displayWidth/2,w=x.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(b-this.halfWidth,w-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(u,v,y){return v===void 0&&(v=this.offset.x),y===void 0&&(y=this.offset.y),u>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=u,this.width=u*2,this.height=u*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(v,y),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(u,v){var y=this.gameObject;u===void 0&&(u=y.x),v===void 0&&(v=y.y),this.world.staticTree.remove(this),y.setPosition(u,v),y.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,v){return this.isCircle?o(this,u,v):h(this,u,v)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(u){var v=this.position,y=v.x+this.halfWidth,x=v.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?u.strokeCircle(y,x,this.width/2):u.strokeRect(v.x,v.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(u){return u<=0&&(u=.1),this.mass=u,this},x:{get:function(){return this.position.x},set:function(u){this.world.staticTree.remove(this),this.position.x=u,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(u){this.world.staticTree.remove(this),this.position.y=u,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});s.exports=p},71464:(s,g,i)=>{var o=i(13759),m=i(83419),c=i(78389),l=i(37747),h=i(95540),a=i(26479),f=i(41212),p=new m({Extends:a,Mixins:[c],initialize:function(v,y,x,b){!x&&!b?b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:f(x)?(b=x,x=null,b.internalCreateCallback=this.createCallbackHandler,b.internalRemoveCallback=this.removeCallbackHandler,b.createMultipleCallback=this.createMultipleCallbackHandler,b.classType=h(b,"classType",o)):Array.isArray(x)&&f(x[0])?(b=x,x=null,b.forEach(function(w){w.internalCreateCallback=this.createCallbackHandler,w.internalRemoveCallback=this.removeCallbackHandler,w.createMultipleCallback=this.createMultipleCallbackHandler,w.classType=h(w,"classType",o)})):b={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=v,this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,a.call(this,y,x,b),this.type="StaticPhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,l.STATIC_BODY)},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var u=this.children.entries,v=0;v<u.length;v++)u[v].body.reset();return this}});s.exports=p},82248:(s,g,i)=>{var o=i(55495),m=i(37742),c=i(45319),l=i(83419),h=i(79342),a=i(37747),f=i(20339),p=i(52816),u=i(50792),v=i(63012),y=i(43855),x=i(5470),b=i(94977),w=i(64897),C=i(45170),E=i(96523),T=i(35154),k=i(36383),A=i(25774),I=i(96602),B=i(87841),M=i(59542),O=i(40012),P=i(14087),L=i(89936),_=i(35072),G=i(72624),$=i(2483),W=i(61340),Y=i(26099),z=i(15994),F=new l({Extends:u,initialize:function(j,U){u.call(this),this.scene=j,this.bodies=new _,this.staticBodies=new _,this.pendingDestroy=new _,this.colliders=new A,this.gravity=new Y(T(U,"gravity.x",0),T(U,"gravity.y",0)),this.bounds=new B(T(U,"x",0),T(U,"y",0),T(U,"width",j.sys.scale.width),T(U,"height",j.sys.scale.height)),this.checkCollision={up:T(U,"checkCollision.up",!0),down:T(U,"checkCollision.down",!0),left:T(U,"checkCollision.left",!0),right:T(U,"checkCollision.right",!0)},this.fps=T(U,"fps",60),this.fixedStep=T(U,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=T(U,"timeScale",1),this.OVERLAP_BIAS=T(U,"overlapBias",4),this.TILE_BIAS=T(U,"tileBias",16),this.forceX=T(U,"forceX",!1),this.isPaused=T(U,"isPaused",!1),this._total=0,this.drawDebug=T(U,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:T(U,"debugShowBody",!0),debugShowStaticBody:T(U,"debugShowStaticBody",!0),debugShowVelocity:T(U,"debugShowVelocity",!0),bodyDebugColor:T(U,"debugBodyColor",16711935),staticBodyDebugColor:T(U,"debugStaticBodyColor",255),velocityDebugColor:T(U,"debugVelocityColor",65280)},this.maxEntries=T(U,"maxEntries",16),this.useTree=T(U,"useTree",!0),this.tree=new M(this.maxEntries),this.staticTree=new M(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new W,this._tempMatrix2=new W,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(N,j){j===void 0&&(j=a.DYNAMIC_BODY),Array.isArray(N)||(N=[N]);for(var U=0;U<N.length;U++){var V=N[U];if(V.isParent)for(var q=V.getChildren(),ot=0;ot<q.length;ot++){var Q=q[ot];Q.isParent?this.enable(Q,j):this.enableBody(Q,j)}else this.enableBody(V,j)}},enableBody:function(N,j){return j===void 0&&(j=a.DYNAMIC_BODY),N.hasTransformComponent&&(N.body||(j===a.DYNAMIC_BODY?N.body=new m(this,N):j===a.STATIC_BODY&&(N.body=new G(this,N))),this.add(N.body)),N},add:function(N){return N.physicsType===a.DYNAMIC_BODY?this.bodies.set(N):N.physicsType===a.STATIC_BODY&&(this.staticBodies.set(N),this.staticTree.insert(N)),N.enable=!0,N},disable:function(N){Array.isArray(N)||(N=[N]);for(var j=0;j<N.length;j++){var U=N[j];if(U.isParent)for(var V=U.getChildren(),q=0;q<V.length;q++){var ot=V[q];ot.isParent?this.disable(ot):this.disableBody(ot.body)}else this.disableBody(U.body)}},disableBody:function(N){this.remove(N),N.enable=!1},remove:function(N){N.physicsType===a.DYNAMIC_BODY?(this.tree.remove(N),this.bodies.delete(N)):N.physicsType===a.STATIC_BODY&&(this.staticBodies.delete(N),this.staticTree.remove(N))},createDebugGraphic:function(){var N=this.scene.sys.add.graphics({x:0,y:0});return N.setDepth(Number.MAX_VALUE),this.debugGraphic=N,this.drawDebug=!0,N},setBounds:function(N,j,U,V,q,ot,Q,rt){return this.bounds.setTo(N,j,U,V),q!==void 0&&this.setBoundsCollision(q,ot,Q,rt),this},setBoundsCollision:function(N,j,U,V){return N===void 0&&(N=!0),j===void 0&&(j=!0),U===void 0&&(U=!0),V===void 0&&(V=!0),this.checkCollision.left=N,this.checkCollision.right=j,this.checkCollision.up=U,this.checkCollision.down=V,this},pause:function(){return this.isPaused=!0,this.emit(v.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(v.RESUME),this},addCollider:function(N,j,U,V,q){U===void 0&&(U=null),V===void 0&&(V=null),q===void 0&&(q=U);var ot=new h(this,!1,N,j,U,V,q);return this.colliders.add(ot),ot},addOverlap:function(N,j,U,V,q){U===void 0&&(U=null),V===void 0&&(V=null),q===void 0&&(q=U);var ot=new h(this,!0,N,j,U,V,q);return this.colliders.add(ot),ot},removeCollider:function(N){return this.colliders.remove(N),this},setFPS:function(N){return this.fps=N,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(N,j){if(!(this.isPaused||this.bodies.size===0)){var U,V=this._frameTime,q=this._frameTimeMS*this.timeScale;this._elapsed+=j;var ot,Q=this.bodies.entries,rt=this._elapsed>=q;for(this.fixedStep||(V=j*.001,rt=!0,this._elapsed=0),U=0;U<Q.length;U++)ot=Q[U],ot.enable&&ot.preUpdate(rt,V);if(rt){this._elapsed-=q,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Q));var Bt=this.colliders.update();for(U=0;U<Bt.length;U++){var K=Bt[U];K.active&&K.update()}this.emit(v.WORLD_STEP,V)}for(;this._elapsed>=q;)this._elapsed-=q,this.step(V)}},step:function(N){var j,U,V=this.bodies.entries,q=V.length;for(j=0;j<q;j++)U=V[j],U.enable&&U.update(N);this.useTree&&(this.tree.clear(),this.tree.load(V));var ot=this.colliders.update();for(j=0;j<ot.length;j++){var Q=ot[j];Q.active&&Q.update()}this.emit(v.WORLD_STEP,N),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var N,j,U=this.bodies.entries,V=U.length,q=this.bodies,ot=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,N=0;N<V;N++)j=U[N],j.enable&&j.postUpdate();if(this.drawDebug){var Q=this.debugGraphic;for(Q.clear(),N=0;N<V;N++)j=U[N],j.willDrawDebug()&&j.drawDebug(Q);for(U=ot.entries,V=U.length,N=0;N<V;N++)j=U[N],j.willDrawDebug()&&j.drawDebug(Q)}var rt=this.pendingDestroy;if(rt.size>0){var Bt=this.tree,K=this.staticTree;for(U=rt.entries,V=U.length,N=0;N<V;N++)j=U[N],j.physicsType===a.DYNAMIC_BODY?(Bt.remove(j),q.delete(j)):j.physicsType===a.STATIC_BODY&&(K.remove(j),ot.delete(j)),j.world=void 0,j.gameObject=void 0;rt.clear()}},updateMotion:function(N,j){N.allowRotation&&this.computeAngularVelocity(N,j),this.computeVelocity(N,j)},computeAngularVelocity:function(N,j){var U=N.angularVelocity,V=N.angularAcceleration,q=N.angularDrag,ot=N.maxAngular;V?U+=V*j:N.allowDrag&&q&&(q*=j,x(U-q,0,.1)?U-=q:b(U+q,0,.1)?U+=q:U=0),U=c(U,-ot,ot);var Q=U-N.angularVelocity;N.angularVelocity+=Q,N.rotation+=N.angularVelocity*j},computeVelocity:function(N,j){var U=N.velocity.x,V=N.acceleration.x,q=N.drag.x,ot=N.maxVelocity.x,Q=N.velocity.y,rt=N.acceleration.y,Bt=N.drag.y,K=N.maxVelocity.y,Mt=N.speed,Ft=N.maxSpeed,dt=N.allowDrag,yt=N.useDamping;N.allowGravity&&(U+=(this.gravity.x+N.gravity.x)*j,Q+=(this.gravity.y+N.gravity.y)*j),V?U+=V*j:dt&&q&&(yt?(q=Math.pow(q,j),U*=q,Mt=Math.sqrt(U*U+Q*Q),y(Mt,0,.001)&&(U=0)):(q*=j,x(U-q,0,.01)?U-=q:b(U+q,0,.01)?U+=q:U=0)),rt?Q+=rt*j:dt&&Bt&&(yt?(Bt=Math.pow(Bt,j),Q*=Bt,Mt=Math.sqrt(U*U+Q*Q),y(Mt,0,.001)&&(Q=0)):(Bt*=j,x(Q-Bt,0,.01)?Q-=Bt:b(Q+Bt,0,.01)?Q+=Bt:Q=0)),U=c(U,-ot,ot),Q=c(Q,-K,K),N.velocity.set(U,Q),Ft>-1&&N.velocity.length()>Ft&&(N.velocity.normalize().scale(Ft),Mt=Ft),N.speed=Mt},separate:function(N,j,U,V,q){var ot,Q,rt=!1,Bt=!0;if(!N.enable||!j.enable||N.checkCollision.none||j.checkCollision.none||!this.intersects(N,j)||U&&U.call(V,N.gameObject,j.gameObject)===!1)return rt;if(N.isCircle||j.isCircle){var K=this.separateCircle(N,j,q);K.result?(rt=!0,Bt=!1):(ot=K.x,Q=K.y,Bt=!0)}if(Bt){var Mt=!1,Ft=!1,dt=this.OVERLAP_BIAS;q?(Mt=P(N,j,q,dt,ot),Ft=L(N,j,q,dt,Q)):this.forceX||Math.abs(this.gravity.y+N.gravity.y)<Math.abs(this.gravity.x+N.gravity.x)?(Mt=P(N,j,q,dt,ot),this.intersects(N,j)&&(Ft=L(N,j,q,dt,Q))):(Ft=L(N,j,q,dt,Q),this.intersects(N,j)&&(Mt=P(N,j,q,dt,ot))),rt=Mt||Ft}return rt&&(q?(N.onOverlap||j.onOverlap)&&this.emit(v.OVERLAP,N.gameObject,j.gameObject,N,j):(N.onCollide||j.onCollide)&&this.emit(v.COLLIDE,N.gameObject,j.gameObject,N,j)),rt},separateCircle:function(N,j,U){w(N,j,!1,0),C(N,j,!1,0);var V=N.isCircle,q=j.isCircle,ot=N.center,Q=j.center,rt=N.immovable,Bt=j.immovable,K=N.velocity,Mt=j.velocity,Ft=0,dt=!0;if(V!==q){dt=!1;var yt=ot.x,At=ot.y,Ot=N.halfWidth,le=j.position.x,_t=j.position.y,xe=j.right,ke=j.bottom;q&&(yt=Q.x,At=Q.y,Ot=j.halfWidth,le=N.position.x,_t=N.position.y,xe=N.right,ke=N.bottom),At<_t?yt<le?Ft=f(yt,At,le,_t)-Ot:yt>xe&&(Ft=f(yt,At,xe,_t)-Ot):At>ke&&(yt<le?Ft=f(yt,At,le,ke)-Ot:yt>xe&&(Ft=f(yt,At,xe,ke)-Ot)),Ft*=-1}else Ft=N.halfWidth+j.halfWidth-p(ot,Q);N.overlapR=Ft,j.overlapR=Ft;var ve=o(ot,Q),Fe=(Ft+k.EPSILON)*Math.cos(ve),Ze=(Ft+k.EPSILON)*Math.sin(ve),ei={overlap:Ft,result:!1,x:Fe,y:Ze};if(U&&(!dt||dt&&Ft!==0))return ei.result=!0,ei;if(!dt&&Ft===0||rt&&Bt||N.customSeparateX||j.customSeparateX)return ei.x=void 0,ei.y=void 0,ei;var Ci=!N.pushable&&!j.pushable;if(dt){var xt=ot.x-Q.x,et=ot.y-Q.y,tt=Math.sqrt(Math.pow(xt,2)+Math.pow(et,2)),Nt=(Q.x-ot.x)/tt||0,ie=(Q.y-ot.y)/tt||0,Ce=2*(K.x*Nt+K.y*ie-Mt.x*Nt-Mt.y*ie)/(N.mass+j.mass);(rt||Bt)&&(Ce*=2),rt||(K.x=K.x-Ce/N.mass*Nt,K.y=K.y-Ce/N.mass*ie,K.multiply(N.bounce)),Bt||(Mt.x=Mt.x+Ce/j.mass*Nt,Mt.y=Mt.y+Ce/j.mass*ie,Mt.multiply(j.bounce)),!rt&&!Bt&&(Fe*=.5,Ze*=.5),rt||(N.x-=Fe,N.y-=Ze,N.updateCenter()),Bt||(j.x+=Fe,j.y+=Ze,j.updateCenter()),ei.result=!0}else!rt||N.pushable||Ci?(N.x-=Fe,N.y-=Ze,N.updateCenter()):(!Bt||j.pushable||Ci)&&(j.x+=Fe,j.y+=Ze,j.updateCenter()),ei.x=void 0,ei.y=void 0;return ei},intersects:function(N,j){return N===j?!1:!N.isCircle&&!j.isCircle?!(N.right<=j.left||N.bottom<=j.top||N.left>=j.right||N.top>=j.bottom):N.isCircle?j.isCircle?p(N.center,j.center)<=N.halfWidth+j.halfWidth:this.circleBodyIntersects(N,j):this.circleBodyIntersects(j,N)},circleBodyIntersects:function(N,j){var U=c(N.center.x,j.left,j.right),V=c(N.center.y,j.top,j.bottom),q=(N.center.x-U)*(N.center.x-U),ot=(N.center.y-V)*(N.center.y-V);return q+ot<=N.halfWidth*N.halfWidth},overlap:function(N,j,U,V,q){return U===void 0&&(U=null),V===void 0&&(V=null),q===void 0&&(q=U),this.collideObjects(N,j,U,V,q,!0)},collide:function(N,j,U,V,q){return U===void 0&&(U=null),V===void 0&&(V=null),q===void 0&&(q=U),this.collideObjects(N,j,U,V,q,!1)},collideObjects:function(N,j,U,V,q,ot){var Q,rt;N.isParent&&(N.physicsType===void 0||j===void 0||N===j)&&(N=N.children.entries),j&&j.isParent&&j.physicsType===void 0&&(j=j.children.entries);var Bt=Array.isArray(N),K=Array.isArray(j);if(this._total=0,!Bt&&!K)this.collideHandler(N,j,U,V,q,ot);else if(!Bt&&K)for(Q=0;Q<j.length;Q++)this.collideHandler(N,j[Q],U,V,q,ot);else if(Bt&&!K)if(j)for(Q=0;Q<N.length;Q++)this.collideHandler(N[Q],j,U,V,q,ot);else for(Q=0;Q<N.length;Q++){var Mt=N[Q];for(rt=Q+1;rt<N.length;rt++)Q!==rt&&this.collideHandler(Mt,N[rt],U,V,q,ot)}else for(Q=0;Q<N.length;Q++)for(rt=0;rt<j.length;rt++)this.collideHandler(N[Q],j[rt],U,V,q,ot);return this._total>0},collideHandler:function(N,j,U,V,q,ot){if(j===void 0&&N.isParent)return this.collideGroupVsGroup(N,N,U,V,q,ot);if(!N||!j)return!1;if(N.body||N.isBody){if(j.body||j.isBody)return this.collideSpriteVsSprite(N,j,U,V,q,ot);if(j.isParent)return this.collideSpriteVsGroup(N,j,U,V,q,ot);if(j.isTilemap)return this.collideSpriteVsTilemapLayer(N,j,U,V,q,ot)}else if(N.isParent){if(j.body||j.isBody)return this.collideSpriteVsGroup(j,N,U,V,q,ot);if(j.isParent)return this.collideGroupVsGroup(N,j,U,V,q,ot);if(j.isTilemap)return this.collideGroupVsTilemapLayer(N,j,U,V,q,ot)}else if(N.isTilemap){if(j.body||j.isBody)return this.collideSpriteVsTilemapLayer(j,N,U,V,q,ot);if(j.isParent)return this.collideGroupVsTilemapLayer(j,N,U,V,q,ot)}},canCollide:function(N,j){return N&&j&&(N.collisionMask&j.collisionCategory)!==0&&(j.collisionMask&N.collisionCategory)!==0},collideSpriteVsSprite:function(N,j,U,V,q,ot){var Q=N.isBody?N:N.body,rt=j.isBody?j:j.body;return this.canCollide(Q,rt)?(this.separate(Q,rt,V,q,ot)&&(U&&U.call(q,N,j),this._total++),!0):!1},collideSpriteVsGroup:function(N,j,U,V,q,ot){var Q=N.isBody?N:N.body;if(!(j.length===0||!Q||!Q.enable||Q.checkCollision.none||!this.canCollide(Q,j))){var rt,Bt,K;if(this.useTree||j.physicsType===a.STATIC_BODY){var Mt=this.treeMinMax;Mt.minX=Q.left,Mt.minY=Q.top,Mt.maxX=Q.right,Mt.maxY=Q.bottom;var Ft=j.physicsType===a.DYNAMIC_BODY?this.tree.search(Mt):this.staticTree.search(Mt);for(Bt=Ft.length,rt=0;rt<Bt;rt++)K=Ft[rt],!(Q===K||!K.enable||K.checkCollision.none||!j.contains(K.gameObject))&&this.separate(Q,K,V,q,ot)&&(U&&U.call(q,Q.gameObject,K.gameObject),this._total++)}else{var dt=j.getChildren(),yt=j.children.entries.indexOf(N);for(Bt=dt.length,rt=0;rt<Bt;rt++)K=dt[rt].body,!(!K||rt===yt||!K.enable)&&this.separate(Q,K,V,q,ot)&&(U&&U.call(q,Q.gameObject,K.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(N,j,U,V,q,ot){if(!this.canCollide(N,j))return!1;var Q=N.getChildren();if(Q.length===0)return!1;for(var rt=!1,Bt=0;Bt<Q.length;Bt++)(Q[Bt].body||Q[Bt].isBody)&&this.collideSpriteVsTilemapLayer(Q[Bt],j,U,V,q,ot)&&(rt=!0);return rt},collideTiles:function(N,j,U,V,q){return j.length===0||N.body&&!N.body.enable||N.isBody&&!N.enable?!1:this.collideSpriteVsTilesHandler(N,j,U,V,q,!1,!1)},overlapTiles:function(N,j,U,V,q){return j.length===0||N.body&&!N.body.enable||N.isBody&&!N.enable?!1:this.collideSpriteVsTilesHandler(N,j,U,V,q,!0,!1)},collideSpriteVsTilemapLayer:function(N,j,U,V,q,ot){var Q=N.isBody?N:N.body;if(!Q.enable||Q.checkCollision.none||!this.canCollide(Q,j))return!1;var rt=j.layer,Bt=Q.x-rt.tileWidth*j.scaleX,K=Q.y-rt.tileHeight*j.scaleY,Mt=Q.width+rt.tileWidth*j.scaleX,Ft=Q.height+rt.tileHeight*j.scaleY,dt=ot?null:this.tileFilterOptions,yt=E(Bt,K,Mt,Ft,dt,j.scene.cameras.main,j.layer);return yt.length===0?!1:this.collideSpriteVsTilesHandler(N,yt,U,V,q,ot,!0)},collideSpriteVsTilesHandler:function(N,j,U,V,q,ot,Q){for(var rt=N.isBody?N:N.body,Bt,K={left:0,right:0,top:0,bottom:0},Mt,Ft=!1,dt=0;dt<j.length;dt++){Bt=j[dt],Mt=Bt.tilemapLayer;var yt=Mt.tileToWorldXY(Bt.x,Bt.y);K.left=yt.x,K.top=yt.y,K.right=K.left+Bt.width*Mt.scaleX,K.bottom=K.top+Bt.height*Mt.scaleY,$(K,rt)&&(!V||V.call(q,N,Bt))&&I(Bt,N)&&(ot||O(dt,rt,Bt,K,Mt,this.TILE_BIAS,Q))&&(this._total++,Ft=!0,U&&U.call(q,N,Bt),ot&&rt.onOverlap?this.emit(v.TILE_OVERLAP,N,Bt,rt):rt.onCollide&&this.emit(v.TILE_COLLIDE,N,Bt,rt))}return Ft},collideGroupVsGroup:function(N,j,U,V,q,ot){if(!(N.length===0||j.length===0||!this.canCollide(N,j)))for(var Q=N.getChildren(),rt=0;rt<Q.length;rt++)this.collideSpriteVsGroup(Q[rt],j,U,V,q,ot)},wrap:function(N,j){N.body?this.wrapObject(N,j):N.getChildren?this.wrapArray(N.getChildren(),j):Array.isArray(N)?this.wrapArray(N,j):this.wrapObject(N,j)},wrapArray:function(N,j){for(var U=0;U<N.length;U++)this.wrapObject(N[U],j)},wrapObject:function(N,j){j===void 0&&(j=0),N.x=z(N.x,this.bounds.left-j,this.bounds.right+j),N.y=z(N.y,this.bounds.top-j,this.bounds.bottom+j)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});s.exports=F},1093:s=>{var g={setAcceleration:function(i,o){return this.body.acceleration.set(i,o),this},setAccelerationX:function(i){return this.body.acceleration.x=i,this},setAccelerationY:function(i){return this.body.acceleration.y=i,this}};s.exports=g},59023:s=>{var g={setAngularVelocity:function(i){return this.body.angularVelocity=i,this},setAngularAcceleration:function(i){return this.body.angularAcceleration=i,this},setAngularDrag:function(i){return this.body.angularDrag=i,this}};s.exports=g},62069:s=>{var g={setBounce:function(i,o){return this.body.bounce.set(i,o),this},setBounceX:function(i){return this.body.bounce.x=i,this},setBounceY:function(i){return this.body.bounce.y=i,this},setCollideWorldBounds:function(i,o,m,c){return this.body.setCollideWorldBounds(i,o,m,c),this}};s.exports=g},78389:(s,g,i)=>{var o=i(79599),m={setCollisionCategory:function(c){var l=this.body?this.body:this;return l.collisionCategory=c,this},willCollideWith:function(c){var l=this.body?this.body:this;return(l.collisionMask&c)!==0},addCollidesWith:function(c){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask|c,this},removeCollidesWith:function(c){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask&~c,this},setCollidesWith:function(c){var l=this.body?this.body:this;return l.collisionMask=o(c),this},resetCollisionCategory:function(){var c=this.body?this.body:this;return c.collisionCategory=1,c.collisionMask=1,this}};s.exports=m},87118:s=>{var g={setDebug:function(i,o,m){return this.debugShowBody=i,this.debugShowVelocity=o,this.debugBodyColor=m,this},setDebugBodyColor:function(i){return this.body.debugBodyColor=i,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(i){this.body.debugShowBody=i}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(i){this.body.debugShowVelocity=i}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(i){this.body.debugBodyColor=i}}};s.exports=g},52819:s=>{var g={setDrag:function(i,o){return this.body.drag.set(i,o),this},setDragX:function(i){return this.body.drag.x=i,this},setDragY:function(i){return this.body.drag.y=i,this},setDamping:function(i){return this.body.useDamping=i,this}};s.exports=g},4074:s=>{var g={setDirectControl:function(i){return this.body.setDirectControl(i),this},enableBody:function(i,o,m,c,l){return i&&this.body.reset(o,m),c&&(this.body.gameObject.active=!0),l&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(i,o){return i===void 0&&(i=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,i&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};s.exports=g},40831:s=>{var g={setFriction:function(i,o){return this.body.friction.set(i,o),this},setFrictionX:function(i){return this.body.friction.x=i,this},setFrictionY:function(i){return this.body.friction.y=i,this}};s.exports=g},26775:s=>{var g={setGravity:function(i,o){return this.body.gravity.set(i,o),this},setGravityX:function(i){return this.body.gravity.x=i,this},setGravityY:function(i){return this.body.gravity.y=i,this}};s.exports=g},9437:s=>{var g={setImmovable:function(i){return i===void 0&&(i=!0),this.body.immovable=i,this}};s.exports=g},30621:s=>{var g={setMass:function(i){return this.body.mass=i,this}};s.exports=g},72441:(s,g,i)=>{var o=i(47956),m=i(96503),c=i(2044),l=i(81491),h=function(a,f,p,u,v,y){var x=o(a,f-u,p-u,2*u,2*u,v,y);if(x.length===0)return x;for(var b=new m(f,p,u),w=new m,C=[],E=0;E<x.length;E++){var T=x[E];T.isCircle?(w.setTo(T.center.x,T.center.y,T.halfWidth),c(b,w)&&C.push(T)):l(b,T)&&C.push(T)}return C};s.exports=h},47956:s=>{var g=function(i,o,m,c,l,h,a){h===void 0&&(h=!0),a===void 0&&(a=!1);var f=[],p=[],u=i.treeMinMax;if(u.minX=o,u.minY=m,u.maxX=o+c,u.maxY=m+l,a&&(p=i.staticTree.search(u)),h&&i.useTree)f=i.tree.search(u);else if(h){var v=i.bodies,y={position:{x:o,y:m},left:o,top:m,right:o+c,bottom:m+l,isCircle:!1},x=i.intersects;v.iterate(function(b){x(b,y)&&f.push(b)})}return p.concat(f)};s.exports=g},62121:s=>{var g={setPushable:function(i){return i===void 0&&(i=!0),this.body.pushable=i,this}};s.exports=g},29384:s=>{var g={setOffset:function(i,o){return this.body.setOffset(i,o),this},setSize:function(i,o,m){return this.body.setSize(i,o,m),this},setBodySize:function(i,o,m){return this.body.setSize(i,o,m),this},setCircle:function(i,o,m){return this.body.setCircle(i,o,m),this}};s.exports=g},15098:s=>{var g={setVelocity:function(i,o){return this.body.setVelocity(i,o),this},setVelocityX:function(i){return this.body.setVelocityX(i),this},setVelocityY:function(i){return this.body.setVelocityY(i),this},setMaxVelocity:function(i,o){return this.body.maxVelocity.set(i,o),this}};s.exports=g},92209:(s,g,i)=>{s.exports={Acceleration:i(1093),Angular:i(59023),Bounce:i(62069),Collision:i(78389),Debug:i(87118),Drag:i(52819),Enable:i(4074),Friction:i(40831),Gravity:i(26775),Immovable:i(9437),Mass:i(30621),OverlapCirc:i(72441),OverlapRect:i(47956),Pushable:i(62121),Size:i(29384),Velocity:i(15098)}},37747:s=>{var g={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};s.exports=g},20009:s=>{s.exports="collide"},36768:s=>{s.exports="overlap"},60473:s=>{s.exports="pause"},89954:s=>{s.exports="resume"},61804:s=>{s.exports="tilecollide"},7161:s=>{s.exports="tileoverlap"},34689:s=>{s.exports="worldbounds"},16006:s=>{s.exports="worldstep"},63012:(s,g,i)=>{s.exports={COLLIDE:i(20009),OVERLAP:i(36768),PAUSE:i(60473),RESUME:i(89954),TILE_COLLIDE:i(61804),TILE_OVERLAP:i(7161),WORLD_BOUNDS:i(34689),WORLD_STEP:i(16006)}},27064:(s,g,i)=>{var o=i(37747),m=i(79291),c={ArcadePhysics:i(86689),Body:i(37742),Collider:i(79342),Components:i(92209),Events:i(63012),Factory:i(66022),GetCollidesWith:i(79599),GetOverlapX:i(64897),GetOverlapY:i(45170),SeparateX:i(14087),SeparateY:i(89936),Group:i(60758),Image:i(71289),Sprite:i(13759),StaticBody:i(72624),StaticGroup:i(71464),Tilemap:i(55173),World:i(82248)};c=m(!1,c,o),s.exports=c},96602:s=>{var g=function(i,o){return i.collisionCallback?!i.collisionCallback.call(i.collisionCallbackContext,o,i):i.layer.callbacks[i.index]?!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,o,i):!0};s.exports=g},36294:s=>{var g=function(i,o){o<0?(i.blocked.none=!1,i.blocked.left=!0):o>0&&(i.blocked.none=!1,i.blocked.right=!0),i.position.x-=o,i.updateCenter(),i.bounce.x===0?i.velocity.x=0:i.velocity.x=-i.velocity.x*i.bounce.x};s.exports=g},67013:s=>{var g=function(i,o){o<0?(i.blocked.none=!1,i.blocked.up=!0):o>0&&(i.blocked.none=!1,i.blocked.down=!0),i.position.y-=o,i.updateCenter(),i.bounce.y===0?i.velocity.y=0:i.velocity.y=-i.velocity.y*i.bounce.y};s.exports=g},40012:(s,g,i)=>{var o=i(21329),m=i(53442),c=i(2483),l=function(h,a,f,p,u,v,y){var x=p.left,b=p.top,w=p.right,C=p.bottom,E=f.faceLeft||f.faceRight,T=f.faceTop||f.faceBottom;if(y||(E=!0,T=!0),!E&&!T)return!1;var k=0,A=0,I=0,B=1;if(a.deltaAbsX()>a.deltaAbsY()?I=-1:a.deltaAbsX()<a.deltaAbsY()&&(B=-1),a.deltaX()!==0&&a.deltaY()!==0&&E&&T&&(I=Math.min(Math.abs(a.position.x-w),Math.abs(a.right-x)),B=Math.min(Math.abs(a.position.y-C),Math.abs(a.bottom-b))),I<B){if(E&&(k=o(a,f,x,w,v,y),k!==0&&!c(p,a)))return!0;T&&(A=m(a,f,b,C,v,y))}else{if(T&&(A=m(a,f,b,C,v,y),A!==0&&!c(p,a)))return!0;E&&(k=o(a,f,x,w,v,y))}return k!==0||A!==0};s.exports=l},21329:(s,g,i)=>{var o=i(36294),m=function(c,l,h,a,f,p){var u=0,v=l.faceLeft,y=l.faceRight,x=l.collideLeft,b=l.collideRight;return p||(v=!0,y=!0,x=!0,b=!0),c.deltaX()<0&&b&&c.checkCollision.left?y&&c.x<a&&(u=c.x-a,u<-f&&(u=0)):c.deltaX()>0&&x&&c.checkCollision.right&&v&&c.right>h&&(u=c.right-h,u>f&&(u=0)),u!==0&&(c.customSeparateX?c.overlapX=u:o(c,u)),u};s.exports=m},53442:(s,g,i)=>{var o=i(67013),m=function(c,l,h,a,f,p){var u=0,v=l.faceTop,y=l.faceBottom,x=l.collideUp,b=l.collideDown;return p||(v=!0,y=!0,x=!0,b=!0),c.deltaY()<0&&b&&c.checkCollision.up?y&&c.y<a&&(u=c.y-a,u<-f&&(u=0)):c.deltaY()>0&&x&&c.checkCollision.down&&v&&c.bottom>h&&(u=c.bottom-h,u>f&&(u=0)),u!==0&&(c.customSeparateY?c.overlapY=u:o(c,u)),u};s.exports=m},2483:s=>{var g=function(i,o){return!(o.right<=i.left||o.bottom<=i.top||o.position.x>=i.right||o.position.y>=i.bottom)};s.exports=g},55173:(s,g,i)=>{var o={ProcessTileCallbacks:i(96602),ProcessTileSeparationX:i(36294),ProcessTileSeparationY:i(67013),SeparateTile:i(40012),TileCheckX:i(21329),TileCheckY:i(53442),TileIntersectsBody:i(2483)};s.exports=o},44563:(s,g,i)=>{s.exports={Arcade:i(27064),Matter:i(3875)}},68174:(s,g,i)=>{var o=i(83419),m=i(26099),c=new o({initialize:function(){this.boundsCenter=new m,this.centerDiff=new m},parseBody:function(l){if(l=l.hasOwnProperty("body")?l.body:l,!l.hasOwnProperty("bounds")||!l.hasOwnProperty("centerOfMass"))return!1;var h=this.boundsCenter,a=this.centerDiff,f=l.bounds.max.x-l.bounds.min.x,p=l.bounds.max.y-l.bounds.min.y,u=f*l.centerOfMass.x,v=p*l.centerOfMass.y;return h.set(f/2,p/2),a.set(u-h.x,v-h.y),!0},getTopLeft:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var f=this.boundsCenter,p=this.centerDiff;return new m(h+f.x+p.x,a+f.y+p.y)}return!1},getTopCenter:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var f=this.boundsCenter,p=this.centerDiff;return new m(h+p.x,a+f.y+p.y)}return!1},getTopRight:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var f=this.boundsCenter,p=this.centerDiff;return new m(h-(f.x-p.x),a+f.y+p.y)}return!1},getLeftCenter:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var f=this.boundsCenter,p=this.centerDiff;return new m(h+f.x+p.x,a+p.y)}return!1},getCenter:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var f=this.centerDiff;return new m(h+f.x,a+f.y)}return!1},getRightCenter:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var f=this.boundsCenter,p=this.centerDiff;return new m(h-(f.x-p.x),a+p.y)}return!1},getBottomLeft:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var f=this.boundsCenter,p=this.centerDiff;return new m(h+f.x+p.x,a-(f.y-p.y))}return!1},getBottomCenter:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var f=this.boundsCenter,p=this.centerDiff;return new m(h+p.x,a-(f.y-p.y))}return!1},getBottomRight:function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),this.parseBody(l)){var f=this.boundsCenter,p=this.centerDiff;return new m(h-(f.x-p.x),a-(f.y-p.y))}return!1}});s.exports=c},19933:(s,g,i)=>{var o=i(6790);o.Body=i(22562),o.Composite=i(69351),o.World=i(4372),o.Collision=i(52284),o.Detector=i(81388),o.Pairs=i(99561),o.Pair=i(4506),o.Query=i(73296),o.Resolver=i(66272),o.Constraint=i(48140),o.Common=i(53402),o.Engine=i(48413),o.Events=i(35810),o.Sleeping=i(53614),o.Plugin=i(73832),o.Bodies=i(66280),o.Composites=i(74116),o.Axes=i(66615),o.Bounds=i(15647),o.Svg=i(74058),o.Vector=i(31725),o.Vertices=i(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,s.exports=o},28137:(s,g,i)=>{var o=i(66280),m=i(83419),c=i(74116),l=i(48140),h=i(74058),a=i(75803),f=i(23181),p=i(34803),u=i(73834),v=i(19496),y=i(85791),x=i(98713),b=i(41598),w=new m({initialize:function(E){this.world=E,this.scene=E.scene,this.sys=E.scene.sys},rectangle:function(C,E,T,k,A){var I=o.rectangle(C,E,T,k,A);return this.world.add(I),I},trapezoid:function(C,E,T,k,A,I){var B=o.trapezoid(C,E,T,k,A,I);return this.world.add(B),B},circle:function(C,E,T,k,A){var I=o.circle(C,E,T,k,A);return this.world.add(I),I},polygon:function(C,E,T,k,A){var I=o.polygon(C,E,T,k,A);return this.world.add(I),I},fromVertices:function(C,E,T,k,A,I,B){typeof T=="string"&&(T=b.fromPath(T));var M=o.fromVertices(C,E,T,k,A,I,B);return this.world.add(M),M},fromPhysicsEditor:function(C,E,T,k,A){A===void 0&&(A=!0);var I=v.parseBody(C,E,T,k);return A&&!this.world.has(I)&&this.world.add(I),I},fromSVG:function(C,E,T,k,A,I){k===void 0&&(k=1),A===void 0&&(A={}),I===void 0&&(I=!0);for(var B=T.getElementsByTagName("path"),M=[],O=0;O<B.length;O++){var P=h.pathToVertices(B[O],30);k!==1&&b.scale(P,k,k),M.push(P)}var L=o.fromVertices(C,E,M,A);return I&&this.world.add(L),L},fromJSON:function(C,E,T,k,A){k===void 0&&(k={}),A===void 0&&(A=!0);var I=y.parseBody(C,E,T,k);return I&&A&&this.world.add(I),I},imageStack:function(C,E,T,k,A,I,B,M,O){B===void 0&&(B=0),M===void 0&&(M=0),O===void 0&&(O={});var P=this.world,L=this.sys.displayList;O.addToWorld=!1;var _=c.stack(T,k,A,I,B,M,function(G,$){var W=new f(P,G,$,C,E,O);return L.add(W),W.body});return P.add(_),_},stack:function(C,E,T,k,A,I,B){var M=c.stack(C,E,T,k,A,I,B);return this.world.add(M),M},pyramid:function(C,E,T,k,A,I,B){var M=c.pyramid(C,E,T,k,A,I,B);return this.world.add(M),M},chain:function(C,E,T,k,A,I){return c.chain(C,E,T,k,A,I)},mesh:function(C,E,T,k,A){return c.mesh(C,E,T,k,A)},newtonsCradle:function(C,E,T,k,A){var I=c.newtonsCradle(C,E,T,k,A);return this.world.add(I),I},car:function(C,E,T,k,A){var I=c.car(C,E,T,k,A);return this.world.add(I),I},softBody:function(C,E,T,k,A,I,B,M,O,P){var L=c.softBody(C,E,T,k,A,I,B,M,O,P);return this.world.add(L),L},joint:function(C,E,T,k,A){return this.constraint(C,E,T,k,A)},spring:function(C,E,T,k,A){return this.constraint(C,E,T,k,A)},constraint:function(C,E,T,k,A){k===void 0&&(k=1),A===void 0&&(A={}),A.bodyA=C.type==="body"?C:C.body,A.bodyB=E.type==="body"?E:E.body,isNaN(T)||(A.length=T),A.stiffness=k;var I=l.create(A);return this.world.add(I),I},worldConstraint:function(C,E,T,k){T===void 0&&(T=1),k===void 0&&(k={}),k.bodyB=C.type==="body"?C:C.body,isNaN(E)||(k.length=E),k.stiffness=T;var A=l.create(k);return this.world.add(A),A},mouseSpring:function(C){return this.pointerConstraint(C)},pointerConstraint:function(C){C===void 0&&(C={}),C.hasOwnProperty("render")||(C.render={visible:!1});var E=new x(this.scene,this.world,C);return this.world.add(E.constraint),E},image:function(C,E,T,k,A){var I=new f(this.world,C,E,T,k,A);return this.sys.displayList.add(I),I},tileBody:function(C,E){return new u(this.world,C,E)},sprite:function(C,E,T,k,A){var I=new p(this.world,C,E,T,k,A);return this.sys.displayList.add(I),this.sys.updateList.add(I),I},gameObject:function(C,E,T){return a(this.world,C,E,T)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});s.exports=w},75803:(s,g,i)=>{var o=i(31884),m=i(95540),c=i(26099);function l(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}var h=function(a,f,p,u){p===void 0&&(p={}),u===void 0&&(u=!0);var v=f.x,y=f.y;f.body={temp:!0,position:{x:v,y}};var x=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(x.forEach(function(w){for(var C in w)l(w[C])?Object.defineProperty(f,C,{get:w[C].get,set:w[C].set}):Object.defineProperty(f,C,{value:w[C]})}),f.world=a,f._tempVec2=new c(v,y),p.hasOwnProperty("type")&&p.type==="body")f.setExistingBody(p,u);else{var b=m(p,"shape",null);b||(b="rectangle"),p.addToWorld=u,f.setBody(b,p)}return f};s.exports=h},23181:(s,g,i)=>{var o=i(83419),m=i(31884),c=i(95643),l=i(95540),h=i(88571),a=i(72699),f=i(26099),p=new o({Extends:h,Mixins:[m.Bounce,m.Collision,m.Force,m.Friction,m.Gravity,m.Mass,m.Sensor,m.SetBody,m.Sleep,m.Static,m.Transform,m.Velocity,a],initialize:function(v,y,x,b,w,C){c.call(this,v.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(b,w),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new f(y,x);var E=l(C,"shape",null);E?this.setBody(E,C):this.setRectangle(this.width,this.height,C),this.setPosition(y,x),this.initPipeline(),this.initPostPipeline(!0)}});s.exports=p},42045:(s,g,i)=>{var o=i(60461),m=i(66615),c=i(66280),l=i(22562),h=i(68174),a=i(15647),f=i(83419),p=i(52284),u=i(53402),v=i(69351),y=i(74116),x=i(48140),b=i(81388),w=i(20339),C=i(28137),E=i(95540),T=i(35154),k=i(18210),A=i(40178),I=i(6790),B=i(74507),M=i(46975),O=i(4506),P=i(99561),L=i(73832),_=i(37277),G=i(73296),$=i(66272),W=i(44594),Y=i(74058),z=i(31725),F=i(41598),N=i(68243);u.setDecomp(i(55973));var j=new f({initialize:function(V){this.scene=V,this.systems=V.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=l,this.composite=v,this.collision=p,this.detector=b,this.pair=O,this.pairs=P,this.query=G,this.resolver=$,this.constraint=x,this.bodies=c,this.composites=y,this.axes=m,this.bounds=a,this.svg=Y,this.vector=z,this.vertices=F,this.verts=F,this._tempVec2=z.create(),T(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),T(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),T(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),$._restingThresh=T(this.config,"restingThresh",4),$._restingThreshTangent=T(this.config,"restingThreshTangent",6),$._positionDampen=T(this.config,"positionDampen",.9),$._positionWarming=T(this.config,"positionWarming",.8),$._frictionNormalMultiplier=T(this.config,"frictionNormalMultiplier",5),V.sys.events.once(W.BOOT,this.boot,this),V.sys.events.on(W.START,this.start,this)},boot:function(){this.world=new N(this.scene,this.config),this.add=new C(this.world),this.bodyBounds=new h,this.systems.events.once(W.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new N(this.scene,this.config),this.add=new C(this.world));var U=this.systems.events;U.on(W.UPDATE,this.world.update,this.world),U.on(W.POST_UPDATE,this.world.postUpdate,this.world),U.once(W.SHUTDOWN,this.shutdown,this)},getConfig:function(){var U=this.systems.game.config.physics,V=this.systems.settings.physics,q=M(E(V,"matter",{}),E(U,"matter",{}));return q},enableAttractorPlugin:function(){return L.register(k),L.use(I,k),this},enableWrapPlugin:function(){return L.register(B),L.use(I,B),this},enableCollisionEventsPlugin:function(){return L.register(A),L.use(I,A),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(U,V){this.world.step(U,V)},containsPoint:function(U,V,q){U=this.getMatterBodies(U);var ot=z.create(V,q),Q=G.point(U,ot);return Q.length>0},intersectPoint:function(U,V,q){q=this.getMatterBodies(q);var ot=z.create(U,V),Q=[],rt=G.point(q,ot);return rt.forEach(function(Bt){Q.indexOf(Bt)===-1&&Q.push(Bt)}),Q},intersectRect:function(U,V,q,ot,Q,rt){Q===void 0&&(Q=!1),rt=this.getMatterBodies(rt);var Bt={min:{x:U,y:V},max:{x:U+q,y:V+ot}},K=[],Mt=G.region(rt,Bt,Q);return Mt.forEach(function(Ft){K.indexOf(Ft)===-1&&K.push(Ft)}),K},intersectRay:function(U,V,q,ot,Q,rt){Q===void 0&&(Q=1),rt=this.getMatterBodies(rt);for(var Bt=[],K=G.ray(rt,z.create(U,V),z.create(q,ot),Q),Mt=0;Mt<K.length;Mt++)Bt.push(K[Mt].body);return Bt},intersectBody:function(U,V){V=this.getMatterBodies(V);for(var q=[],ot=G.collides(U,V),Q=0;Q<ot.length;Q++){var rt=ot[Q];rt.bodyA===U?q.push(rt.bodyB):q.push(rt.bodyA)}return q},overlap:function(U,V,q,ot,Q){q===void 0&&(q=null),ot===void 0&&(ot=null),Q===void 0&&(Q=q),Array.isArray(U)||(U=[U]),U=this.getMatterBodies(U),V=this.getMatterBodies(V);for(var rt=!1,Bt=0;Bt<U.length;Bt++)for(var K=U[Bt],Mt=G.collides(K,V),Ft=0;Ft<Mt.length;Ft++){var dt=Mt[Ft],yt=dt.bodyA.id===K.id?dt.bodyB:dt.bodyA;if(!ot||ot.call(Q,K,yt,dt)){if(rt=!0,q)q.call(Q,K,yt,dt);else if(!ot)return!0}}return rt},setCollisionCategory:function(U,V){return U=this.getMatterBodies(U),U.forEach(function(q){q.collisionFilter.category=V}),this},setCollisionGroup:function(U,V){return U=this.getMatterBodies(U),U.forEach(function(q){q.collisionFilter.group=V}),this},setCollidesWith:function(U,V){U=this.getMatterBodies(U);var q=0;if(!Array.isArray(V))q=V;else for(var ot=0;ot<V.length;ot++)q|=V[ot];return U.forEach(function(Q){Q.collisionFilter.mask=q}),this},getMatterBodies:function(U){if(!U)return this.world.getAllBodies();Array.isArray(U)||(U=[U]);for(var V=[],q=0;q<U.length;q++){var ot=U[q].hasOwnProperty("body")?U[q].body:U[q];V.push(ot)}return V},setVelocity:function(U,V,q){U=this.getMatterBodies(U);var ot=this._tempVec2;return ot.x=V,ot.y=q,U.forEach(function(Q){l.setVelocity(Q,ot)}),this},setVelocityX:function(U,V){U=this.getMatterBodies(U);var q=this._tempVec2;return q.x=V,U.forEach(function(ot){q.y=ot.velocity.y,l.setVelocity(ot,q)}),this},setVelocityY:function(U,V){U=this.getMatterBodies(U);var q=this._tempVec2;return q.y=V,U.forEach(function(ot){q.x=ot.velocity.x,l.setVelocity(ot,q)}),this},setAngularVelocity:function(U,V){return U=this.getMatterBodies(U),U.forEach(function(q){l.setAngularVelocity(q,V)}),this},applyForce:function(U,V){U=this.getMatterBodies(U);var q=this._tempVec2;return U.forEach(function(ot){q.x=ot.position.x,q.y=ot.position.y,l.applyForce(ot,q,V)}),this},applyForceFromPosition:function(U,V,q,ot){U=this.getMatterBodies(U);var Q=this._tempVec2;return U.forEach(function(rt){ot===void 0&&(ot=rt.angle),Q.x=q*Math.cos(ot),Q.y=q*Math.sin(ot),l.applyForce(rt,V,Q)}),this},applyForceFromAngle:function(U,V,q){U=this.getMatterBodies(U);var ot=this._tempVec2;return U.forEach(function(Q){q===void 0&&(q=Q.angle),ot.x=V*Math.cos(q),ot.y=V*Math.sin(q),l.applyForce(Q,{x:Q.position.x,y:Q.position.y},ot)}),this},getConstraintLength:function(U){var V=U.pointA.x,q=U.pointA.y,ot=U.pointB.x,Q=U.pointB.y;return U.bodyA&&(V+=U.bodyA.position.x,q+=U.bodyA.position.y),U.bodyB&&(ot+=U.bodyB.position.x,Q+=U.bodyB.position.y),w(V,q,ot,Q)},alignBody:function(U,V,q,ot){U=U.hasOwnProperty("body")?U.body:U;var Q;switch(ot){case o.TOP_LEFT:case o.LEFT_TOP:Q=this.bodyBounds.getTopLeft(U,V,q);break;case o.TOP_CENTER:Q=this.bodyBounds.getTopCenter(U,V,q);break;case o.TOP_RIGHT:case o.RIGHT_TOP:Q=this.bodyBounds.getTopRight(U,V,q);break;case o.LEFT_CENTER:Q=this.bodyBounds.getLeftCenter(U,V,q);break;case o.CENTER:Q=this.bodyBounds.getCenter(U,V,q);break;case o.RIGHT_CENTER:Q=this.bodyBounds.getRightCenter(U,V,q);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:Q=this.bodyBounds.getBottomLeft(U,V,q);break;case o.BOTTOM_CENTER:Q=this.bodyBounds.getBottomCenter(U,V,q);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:Q=this.bodyBounds.getBottomRight(U,V,q);break}return Q&&l.setPosition(U,Q),this},shutdown:function(){var U=this.systems.events;this.world&&(U.off(W.UPDATE,this.world.update,this.world),U.off(W.POST_UPDATE,this.world.postUpdate,this.world)),U.off(W.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(W.START,this.start,this),this.scene=null,this.systems=null}});_.register("MatterPhysics",j,"matterPhysics"),s.exports=j},34803:(s,g,i)=>{var o=i(9674),m=i(83419),c=i(31884),l=i(95643),h=i(95540),a=i(72699),f=i(68287),p=i(26099),u=new m({Extends:f,Mixins:[c.Bounce,c.Collision,c.Force,c.Friction,c.Gravity,c.Mass,c.Sensor,c.SetBody,c.Sleep,c.Static,c.Transform,c.Velocity,a],initialize:function(y,x,b,w,C,E){l.call(this,y.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(w,C),this.setSizeToFrame(),this.setOrigin(),this.world=y,this._tempVec2=new p(x,b);var T=h(E,"shape",null);T?this.setBody(T,E):this.setRectangle(this.width,this.height,E),this.setPosition(x,b),this.initPipeline(),this.initPostPipeline(!0)}});s.exports=u},73834:(s,g,i)=>{var o=i(66280),m=i(22562),c=i(83419),l=i(31884),h=i(62644),a=i(50792),f=i(95540),p=i(97022),u=i(41598),v=new c({Extends:a,Mixins:[l.Bounce,l.Collision,l.Friction,l.Gravity,l.Mass,l.Sensor,l.Sleep,l.Static],initialize:function(x,b,w){a.call(this),this.tile=b,this.world=x,b.physics.matterBody&&b.physics.matterBody.destroy(),b.physics.matterBody=this;var C=f(w,"body",null),E=f(w,"addToWorld",!0);if(C)this.setBody(C,E);else{var T=b.getCollisionGroup(),k=f(T,"objects",[]);k.length>0?this.setFromTileCollision(w):this.setFromTileRectangle(w)}if(b.flipX||b.flipY){var A={x:b.getCenterX(),y:b.getCenterY()},I=b.flipX?-1:1,B=b.flipY?-1:1;m.scale(C,I,B,A)}},setFromTileRectangle:function(y){y===void 0&&(y={}),p(y,"isStatic")||(y.isStatic=!0),p(y,"addToWorld")||(y.addToWorld=!0);var x=this.tile.getBounds(),b=x.x+x.width/2,w=x.y+x.height/2,C=o.rectangle(b,w,x.width,x.height,y);return this.setBody(C,y.addToWorld),this},setFromTileCollision:function(y){y===void 0&&(y={}),p(y,"isStatic")||(y.isStatic=!0),p(y,"addToWorld")||(y.addToWorld=!0);for(var x=this.tile.tilemapLayer.scaleX,b=this.tile.tilemapLayer.scaleY,w=this.tile.getLeft(),C=this.tile.getTop(),E=this.tile.getCollisionGroup(),T=f(E,"objects",[]),k=[],A=0;A<T.length;A++){var I=T[A],B=w+I.x*x,M=C+I.y*b,O=I.width*x,P=I.height*b,L=null;if(I.rectangle)L=o.rectangle(B+O/2,M+P/2,O,P,y);else if(I.ellipse)L=o.circle(B+O/2,M+P/2,O/2,y);else if(I.polygon||I.polyline){var _=I.polygon?I.polygon:I.polyline,G=_.map(function(z){return{x:z.x*x,y:z.y*b}}),$=u.create(G),W=u.centre($);B+=W.x,M+=W.y,L=o.fromVertices(B,M,$,y)}L&&k.push(L)}if(k.length===1)this.setBody(k[0],y.addToWorld);else if(k.length>1){var Y=h(y);Y.parts=k,this.setBody(m.create(Y),Y.addToWorld)}return this},setBody:function(y,x){return x===void 0&&(x=!0),this.body&&this.removeBody(),this.body=y,this.body.gameObject=this,x&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});s.exports=v},19496:(s,g,i)=>{var o=i(66280),m=i(22562),c=i(53402),l=i(95540),h=i(41598),a={parseBody:function(f,p,u,v){v===void 0&&(v={});for(var y=l(u,"fixtures",[]),x=[],b=0;b<y.length;b++)for(var w=this.parseFixture(y[b]),C=0;C<w.length;C++)x.push(w[C]);var E=c.clone(u,!0);c.extend(E,v,!0),delete E.fixtures,delete E.type;var T=m.create(E);return m.setParts(T,x),m.setPosition(T,{x:f,y:p}),T},parseFixture:function(f){var p=c.extend({},!1,f);delete p.circle,delete p.vertices;var u;if(f.circle){var v=l(f.circle,"x"),y=l(f.circle,"y"),x=l(f.circle,"radius");u=[o.circle(v,y,x,p)]}else f.vertices&&(u=this.parseVertices(f.vertices,p));return u},parseVertices:function(f,p){p===void 0&&(p={});for(var u=[],v=0;v<f.length;v++)h.clockwiseSort(f[v]),u.push(m.create(c.extend({position:h.centre(f[v]),vertices:f[v]},p)));return o.flagCoincidentParts(u)}};s.exports=a},85791:(s,g,i)=>{var o=i(66280),m=i(22562),c={parseBody:function(l,h,a,f){f===void 0&&(f={});var p,u=a.vertices;if(u.length===1)f.vertices=u[0],p=m.create(f),o.flagCoincidentParts(p.parts);else{for(var v=[],y=0;y<u.length;y++){var x=m.create({vertices:u[y]});v.push(x)}o.flagCoincidentParts(v),f.parts=v,p=m.create(f)}return p.label=a.label,m.setPosition(p,{x:l,y:h}),p}};s.exports=c},98713:(s,g,i)=>{var o=i(15647),m=i(83419),c=i(69351),l=i(48140),h=i(81388),a=i(1121),f=i(8214),p=i(46975),u=i(53614),v=i(26099),y=i(41598),x=new m({initialize:function(w,C,E){E===void 0&&(E={});var T={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=w,this.world=C,this.camera=null,this.pointer=null,this.active=!0,this.position=new v,this.body=null,this.part=null,this.constraint=l.create(p(E,T)),this.world.on(a.BEFORE_UPDATE,this.update,this),w.sys.input.on(f.POINTER_DOWN,this.onDown,this),w.sys.input.on(f.POINTER_UP,this.onUp,this)},onDown:function(b){this.pointer||(this.pointer=b,this.camera=b.camera)},onUp:function(b){b===this.pointer&&(this.pointer=null)},getBody:function(b){var w=this.position,C=this.constraint;this.camera.getWorldPoint(b.x,b.y,w);for(var E=c.allBodies(this.world.localWorld),T=0;T<E.length;T++){var k=E[T];if(!k.ignorePointer&&o.contains(k.bounds,w)&&h.canCollide(k.collisionFilter,C.collisionFilter)&&this.hitTestBody(k,w))return this.world.emit(a.DRAG_START,k,this.part,this),!0}return!1},hitTestBody:function(b,w){for(var C=this.constraint,E=b.parts.length,T=E>1?1:0,k=T;k<E;k++){var A=b.parts[k];if(y.contains(A.vertices,w))return C.pointA=w,C.pointB={x:w.x-b.position.x,y:w.y-b.position.y},C.bodyB=b,C.angleB=b.angle,u.set(b,!1),this.part=A,this.body=b,!0}return!1},update:function(){var b=this.pointer,w=this.body;if(!this.active||!b){w&&this.stopDrag();return}if(!b.isDown&&w){this.stopDrag();return}else if(b.isDown){if(!this.camera||!w&&!this.getBody(b))return;w=this.body;var C=this.position,E=this.constraint;this.camera.getWorldPoint(b.x,b.y,C),E.pointA.x=C.x,E.pointA.y=C.y,u.set(w,!1),this.world.emit(a.DRAG,w,this)}},stopDrag:function(){var b=this.body,w=this.constraint;w.bodyB=null,w.pointB=null,this.pointer=null,this.body=null,this.part=null,b&&this.world.emit(a.DRAG_END,b,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(a.BEFORE_UPDATE,this.update),this.scene.sys.input.off(f.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(f.POINTER_UP,this.onUp,this)}});s.exports=x},68243:(s,g,i)=>{var o=i(66280),m=i(22562),c=i(83419),l=i(53402),h=i(69351),a=i(48413),f=i(50792),p=i(1121),u=i(95540),v=i(35154),y=i(22562),x=i(35810),b=i(73834),w=i(4372),C=i(31725),E=new c({Extends:f,initialize:function(k,A){f.call(this),this.scene=k,this.engine=a.create(A),this.localWorld=this.engine.world;var I=v(A,"gravity",null);I?this.setGravity(I.x,I.y,I.scale):I===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=v(A,"enabled",!0),this.getDelta=v(A,"getDelta",this.update60Hz);var B=u(A,"runner",{}),M=u(B,"fps",!1),O=u(B,"fps",60),P=u(B,"delta",1e3/O),L=u(B,"deltaMin",1e3/O),_=u(B,"deltaMax",1e3/(O*.5));M||(O=1e3/P),this.runner={fps:O,deltaSampleSize:u(B,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:u(B,"isFixed",!1),delta:P,deltaMin:L,deltaMax:_},this.autoUpdate=v(A,"autoUpdate",!0);var G=v(A,"debug",!1);if(this.drawDebug=typeof G=="object"?!0:G,this.debugGraphic,this.debugConfig={showAxes:u(G,"showAxes",!1),showAngleIndicator:u(G,"showAngleIndicator",!1),angleColor:u(G,"angleColor",15208787),showBroadphase:u(G,"showBroadphase",!1),broadphaseColor:u(G,"broadphaseColor",16757760),showBounds:u(G,"showBounds",!1),boundsColor:u(G,"boundsColor",16777215),showVelocity:u(G,"showVelocity",!1),velocityColor:u(G,"velocityColor",44783),showCollisions:u(G,"showCollisions",!1),collisionColor:u(G,"collisionColor",16094476),showSeparations:u(G,"showSeparations",!1),separationColor:u(G,"separationColor",16753920),showBody:u(G,"showBody",!0),showStaticBody:u(G,"showStaticBody",!0),showInternalEdges:u(G,"showInternalEdges",!1),renderFill:u(G,"renderFill",!1),renderLine:u(G,"renderLine",!0),fillColor:u(G,"fillColor",1075465),fillOpacity:u(G,"fillOpacity",1),lineColor:u(G,"lineColor",2678297),lineOpacity:u(G,"lineOpacity",1),lineThickness:u(G,"lineThickness",1),staticFillColor:u(G,"staticFillColor",857979),staticLineColor:u(G,"staticLineColor",1255396),showSleeping:u(G,"showSleeping",!1),staticBodySleepOpacity:u(G,"staticBodySleepOpacity",.7),sleepFillColor:u(G,"sleepFillColor",4605510),sleepLineColor:u(G,"sleepLineColor",10066585),showSensors:u(G,"showSensors",!0),sensorFillColor:u(G,"sensorFillColor",857979),sensorLineColor:u(G,"sensorLineColor",1255396),showPositions:u(G,"showPositions",!0),positionSize:u(G,"positionSize",4),positionColor:u(G,"positionColor",14697178),showJoint:u(G,"showJoint",!0),jointColor:u(G,"jointColor",14737474),jointLineOpacity:u(G,"jointLineOpacity",1),jointLineThickness:u(G,"jointLineThickness",2),pinSize:u(G,"pinSize",4),pinColor:u(G,"pinColor",4382944),springColor:u(G,"springColor",14697184),anchorColor:u(G,"anchorColor",15724527),anchorSize:u(G,"anchorSize",4),showConvexHulls:u(G,"showConvexHulls",!1),hullColor:u(G,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),u(A,"setBounds",!1)){var $=A.setBounds;if(typeof $=="boolean")this.setBounds();else{var W=u($,"x",0),Y=u($,"y",0),z=u($,"width",k.sys.scale.width),F=u($,"height",k.sys.scale.height),N=u($,"thickness",64),j=u($,"left",!0),U=u($,"right",!0),V=u($,"top",!0),q=u($,"bottom",!0);this.setBounds(W,Y,z,F,N,j,U,V,q)}}},setCompositeRenderStyle:function(T){var k=T.bodies,A=T.constraints,I=T.composites,B,M,O;for(B=0;B<k.length;B++)M=k[B],O=M.render,this.setBodyRenderStyle(M,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity);for(B=0;B<A.length;B++)M=A[B],O=M.render,this.setConstraintRenderStyle(M,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize);for(B=0;B<I.length;B++)M=I[B],this.setCompositeRenderStyle(M);return this},setBodyRenderStyle:function(T,k,A,I,B,M){var O=T.render,P=this.debugConfig;return O?(k==null&&(k=T.isStatic?P.staticLineColor:P.lineColor),A==null&&(A=P.lineOpacity),I==null&&(I=P.lineThickness),B==null&&(B=T.isStatic?P.staticFillColor:P.fillColor),M==null&&(M=P.fillOpacity),k!==!1&&(O.lineColor=k),A!==!1&&(O.lineOpacity=A),I!==!1&&(O.lineThickness=I),B!==!1&&(O.fillColor=B),M!==!1&&(O.fillOpacity=M),this):this},setConstraintRenderStyle:function(T,k,A,I,B,M,O){var P=T.render,L=this.debugConfig;if(!P)return this;if(k==null){var _=P.type;_==="line"?k=L.jointColor:_==="pin"?k=L.pinColor:_==="spring"&&(k=L.springColor)}return A==null&&(A=L.jointLineOpacity),I==null&&(I=L.jointLineThickness),B==null&&(B=L.pinSize),M==null&&(M=L.anchorColor),O==null&&(O=L.anchorSize),k!==!1&&(P.lineColor=k),A!==!1&&(P.lineOpacity=A),I!==!1&&(P.lineThickness=I),B!==!1&&(P.pinSize=B),M!==!1&&(P.anchorColor=M),O!==!1&&(P.anchorSize=O),this},setEventsProxy:function(){var T=this,k=this.engine,A=this.localWorld;this.drawDebug&&(x.on(A,"compositeModified",function(I){T.setCompositeRenderStyle(I)}),x.on(A,"beforeAdd",function(I){for(var B=[].concat(I.object),M=0;M<B.length;M++){var O=B[M],P=O.render;O.type==="body"?T.setBodyRenderStyle(O,P.lineColor,P.lineOpacity,P.lineThickness,P.fillColor,P.fillOpacity):O.type==="composite"?T.setCompositeRenderStyle(O):O.type==="constraint"&&T.setConstraintRenderStyle(O,P.lineColor,P.lineOpacity,P.lineThickness,P.pinSize,P.anchorColor,P.anchorSize)}})),x.on(A,"beforeAdd",function(I){T.emit(p.BEFORE_ADD,I)}),x.on(A,"afterAdd",function(I){T.emit(p.AFTER_ADD,I)}),x.on(A,"beforeRemove",function(I){T.emit(p.BEFORE_REMOVE,I)}),x.on(A,"afterRemove",function(I){T.emit(p.AFTER_REMOVE,I)}),x.on(k,"beforeUpdate",function(I){T.emit(p.BEFORE_UPDATE,I)}),x.on(k,"afterUpdate",function(I){T.emit(p.AFTER_UPDATE,I)}),x.on(k,"collisionStart",function(I){var B=I.pairs,M,O;B.length>0&&(M=B[0].bodyA,O=B[0].bodyB),T.emit(p.COLLISION_START,I,M,O)}),x.on(k,"collisionActive",function(I){var B=I.pairs,M,O;B.length>0&&(M=B[0].bodyA,O=B[0].bodyB),T.emit(p.COLLISION_ACTIVE,I,M,O)}),x.on(k,"collisionEnd",function(I){var B=I.pairs,M,O;B.length>0&&(M=B[0].bodyA,O=B[0].bodyB),T.emit(p.COLLISION_END,I,M,O)})},setBounds:function(T,k,A,I,B,M,O,P,L){return T===void 0&&(T=0),k===void 0&&(k=0),A===void 0&&(A=this.scene.sys.scale.width),I===void 0&&(I=this.scene.sys.scale.height),B===void 0&&(B=64),M===void 0&&(M=!0),O===void 0&&(O=!0),P===void 0&&(P=!0),L===void 0&&(L=!0),this.updateWall(M,"left",T-B,k-B,B,I+B*2),this.updateWall(O,"right",T+A,k-B,B,I+B*2),this.updateWall(P,"top",T,k-B,A,B),this.updateWall(L,"bottom",T,k+I,A,B),this},updateWall:function(T,k,A,I,B,M){var O=this.walls[k];T?(O&&w.remove(this.localWorld,O),A+=B/2,I+=M/2,this.walls[k]=this.create(A,I,B,M,{isStatic:!0,friction:0,frictionStatic:0})):(O&&w.remove(this.localWorld,O),this.walls[k]=null)},createDebugGraphic:function(){var T=this.scene.sys.add.graphics({x:0,y:0});return T.setDepth(Number.MAX_VALUE),this.debugGraphic=T,this.drawDebug=!0,T},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(T,k,A){return T===void 0&&(T=0),k===void 0&&(k=1),A===void 0&&(A=.001),this.localWorld.gravity.x=T,this.localWorld.gravity.y=k,this.localWorld.gravity.scale=A,this},create:function(T,k,A,I,B){var M=o.rectangle(T,k,A,I,B);return w.add(this.localWorld,M),M},add:function(T){return w.add(this.localWorld,T),this},remove:function(T,k){Array.isArray(T)||(T=[T]);for(var A=0;A<T.length;A++){var I=T[A],B=I.body?I.body:I;h.remove(this.localWorld,B,k)}return this},removeConstraint:function(T,k){return h.remove(this.localWorld,T,k),this},convertTilemapLayer:function(T,k){var A=T.layer,I=T.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(I,k),this},convertTiles:function(T,k){if(T.length===0)return this;for(var A=0;A<T.length;A++)new b(this,T[A],k);return this},nextGroup:function(T){return y.nextGroup(T)},nextCategory:function(){return y.nextCategory()},pause:function(){return this.enabled=!1,this.emit(p.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(p.RESUME),this},update:function(T,k){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,I=this.runner,B=A.timing;I.isFixed?k=this.getDelta(T,k):(k=T-I.timePrev||I.delta,I.timePrev=T,I.deltaHistory.push(k),I.deltaHistory=I.deltaHistory.slice(-I.deltaSampleSize),k=Math.min.apply(null,I.deltaHistory),k=k<I.deltaMin?I.deltaMin:k,k=k>I.deltaMax?I.deltaMax:k,I.delta=k),I.timeScalePrev=B.timeScale,I.frameCounter+=1,T-I.counterTimestamp>=1e3&&(I.fps=I.frameCounter*((T-I.counterTimestamp)/1e3),I.counterTimestamp=T,I.frameCounter=0),a.update(A,k)}},step:function(T){a.update(this.engine,T)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(T){var k=T.hasOwnProperty("body")?T.body:T;return h.get(this.localWorld,k.id,k.type)!==null},getAllBodies:function(){return h.allBodies(this.localWorld)},getAllConstraints:function(){return h.allConstraints(this.localWorld)},getAllComposites:function(){return h.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var T=this.debugConfig,k=this.engine,A=this.debugGraphic,I=h.allBodies(this.localWorld);this.debugGraphic.clear(),T.showBroadphase&&k.broadphase.controller&&this.renderGrid(k.broadphase,A,T.broadphaseColor,.5),T.showBounds&&this.renderBodyBounds(I,A,T.boundsColor,.5),(T.showBody||T.showStaticBody)&&this.renderBodies(I),T.showJoint&&this.renderJoints(),(T.showAxes||T.showAngleIndicator)&&this.renderBodyAxes(I,A,T.showAxes,T.angleColor,.5),T.showVelocity&&this.renderBodyVelocity(I,A,T.velocityColor,1,2),T.showSeparations&&this.renderSeparations(k.pairs.list,A,T.separationColor),T.showCollisions&&this.renderCollisions(k.pairs.list,A,T.collisionColor)}},renderGrid:function(T,k,A,I){k.lineStyle(1,A,I);for(var B=l.keys(T.buckets),M=0;M<B.length;M++){var O=B[M];if(!(T.buckets[O].length<2)){var P=O.split(/C|R/);k.strokeRect(parseInt(P[1],10)*T.bucketWidth,parseInt(P[2],10)*T.bucketHeight,T.bucketWidth,T.bucketHeight)}}return this},renderSeparations:function(T,k,A){k.lineStyle(1,A,1);for(var I=0;I<T.length;I++){var B=T[I];if(B.isActive){var M=B.collision,O=M.bodyA,P=M.bodyB,L=O.position,_=P.position,G=M.penetration,$=!O.isStatic&&!P.isStatic?4:1;P.isStatic&&($=0),k.lineBetween(_.x,_.y,_.x-G.x*$,_.y-G.y*$),$=!O.isStatic&&!P.isStatic?4:1,O.isStatic&&($=0),k.lineBetween(L.x,L.y,L.x-G.x*$,L.y-G.y*$)}}return this},renderCollisions:function(T,k,A){k.lineStyle(1,A,.5),k.fillStyle(A,1);var I,B;for(I=0;I<T.length;I++)if(B=T[I],!!B.isActive)for(var M=0;M<B.activeContacts.length;M++){var O=B.activeContacts[M],P=O.vertex;k.fillRect(P.x-2,P.y-2,5,5)}for(I=0;I<T.length;I++)if(B=T[I],!!B.isActive){var L=B.collision,_=B.activeContacts;if(_.length>0){var G=_[0].vertex.x,$=_[0].vertex.y;_.length===2&&(G=(_[0].vertex.x+_[1].vertex.x)/2,$=(_[0].vertex.y+_[1].vertex.y)/2),L.bodyB===L.supports[0].body||L.bodyA.isStatic?k.lineBetween(G-L.normal.x*8,$-L.normal.y*8,G,$):k.lineBetween(G+L.normal.x*8,$+L.normal.y*8,G,$)}}return this},renderBodyBounds:function(T,k,A,I){k.lineStyle(1,A,I);for(var B=0;B<T.length;B++){var M=T[B];if(M.render.visible){var O=M.bounds;if(O)k.strokeRect(O.min.x,O.min.y,O.max.x-O.min.x,O.max.y-O.min.y);else for(var P=M.parts,L=P.length>1?1:0;L<P.length;L++){var _=P[L];k.strokeRect(_.bounds.min.x,_.bounds.min.y,_.bounds.max.x-_.bounds.min.x,_.bounds.max.y-_.bounds.min.y)}}}return this},renderBodyAxes:function(T,k,A,I,B){k.lineStyle(1,I,B);for(var M=0;M<T.length;M++){var O=T[M],P=O.parts;if(O.render.visible){var L,_,G;if(A)for(_=P.length>1?1:0;_<P.length;_++)for(L=P[_],G=0;G<L.axes.length;G++){var $=L.axes[G];k.lineBetween(L.position.x,L.position.y,L.position.x+$.x*20,L.position.y+$.y*20)}else for(_=P.length>1?1:0;_<P.length;_++)for(L=P[_],G=0;G<L.axes.length;G++)k.lineBetween(L.position.x,L.position.y,(L.vertices[0].x+L.vertices[L.vertices.length-1].x)/2,(L.vertices[0].y+L.vertices[L.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(T,k,A,I,B){k.lineStyle(B,A,I);for(var M=0;M<T.length;M++){var O=T[M];O.render.visible&&k.lineBetween(O.position.x,O.position.y,O.position.x+(O.position.x-O.positionPrev.x)*2,O.position.y+(O.position.y-O.positionPrev.y)*2)}return this},renderBodies:function(T){for(var k=this.debugGraphic,A=this.debugConfig,I=A.showBody,B=A.showStaticBody,M=A.showSleeping,O=A.showInternalEdges,P=A.showConvexHulls,L=A.renderFill,_=A.renderLine,G=A.staticBodySleepOpacity,$=A.sleepFillColor,W=A.sleepLineColor,Y=A.hullColor,z=0;z<T.length;z++){var F=T[z];if(F.render.visible&&!(!B&&F.isStatic||!I&&!F.isStatic)){var N=F.render.lineColor,j=F.render.lineOpacity,U=F.render.lineThickness,V=F.render.fillColor,q=F.render.fillOpacity;M&&F.isSleeping&&(F.isStatic?(j*=G,q*=G):(N=W,V=$)),L||(V=null),_||(N=null),this.renderBody(F,k,O,N,j,U,V,q);var ot=F.parts.length;P&&ot>1&&this.renderConvexHull(F,k,Y,U)}}},renderBody:function(T,k,A,I,B,M,O,P){I===void 0&&(I=null),B===void 0&&(B=null),M===void 0&&(M=1),O===void 0&&(O=null),P===void 0&&(P=null);for(var L=this.debugConfig,_=L.sensorFillColor,G=L.sensorLineColor,$=T.parts,W=$.length,Y=W>1?1:0;Y<W;Y++){var z=$[Y],F=z.render,N=F.opacity;if(!(!F.visible||N===0||z.isSensor&&!L.showSensors)){var j=z.circleRadius;if(k.beginPath(),z.isSensor?(O!==null&&k.fillStyle(_,P*N),I!==null&&k.lineStyle(M,G,B*N)):(O!==null&&k.fillStyle(O,P*N),I!==null&&k.lineStyle(M,I,B*N)),j)k.arc(z.position.x,z.position.y,j,0,2*Math.PI);else{var U=z.vertices,V=U.length;k.moveTo(U[0].x,U[0].y);for(var q=1;q<V;q++){var ot=U[q];if(!U[q-1].isInternal||A?k.lineTo(ot.x,ot.y):k.moveTo(ot.x,ot.y),q<V&&ot.isInternal&&!A){var Q=(q+1)%V;k.moveTo(U[Q].x,U[Q].y)}}k.closePath()}O!==null&&k.fillPath(),I!==null&&k.strokePath()}}if(L.showPositions&&!T.isStatic){var rt=T.position.x,Bt=T.position.y,K=Math.ceil(L.positionSize/2);k.fillStyle(L.positionColor,1),k.fillRect(rt-K,Bt-K,L.positionSize,L.positionSize)}return this},renderConvexHull:function(T,k,A,I){I===void 0&&(I=1);var B=T.parts,M=B.length;if(M>1){var O=T.vertices;k.lineStyle(I,A),k.beginPath(),k.moveTo(O[0].x,O[0].y);for(var P=1;P<O.length;P++)k.lineTo(O[P].x,O[P].y);k.lineTo(O[0].x,O[0].y),k.strokePath()}return this},renderJoints:function(){for(var T=this.debugGraphic,k=h.allConstraints(this.localWorld),A=0;A<k.length;A++){var I=k[A].render,B=I.lineColor,M=I.lineOpacity,O=I.lineThickness,P=I.pinSize,L=I.anchorColor,_=I.anchorSize;this.renderConstraint(k[A],T,B,M,O,P,L,_)}},renderConstraint:function(T,k,A,I,B,M,O,P){var L=T.render;if(!L.visible||!T.pointA||!T.pointB)return this;k.lineStyle(B,A,I);var _=T.bodyA,G=T.bodyB,$,W;if(_?$=C.add(_.position,T.pointA):$=T.pointA,L.type==="pin")k.strokeCircle($.x,$.y,M);else{if(G?W=C.add(G.position,T.pointB):W=T.pointB,k.beginPath(),k.moveTo($.x,$.y),L.type==="spring")for(var Y=C.sub(W,$),z=C.perp(C.normalise(Y)),F=Math.ceil(l.clamp(T.length/5,12,20)),N,j=1;j<F;j+=1)N=j%2===0?1:-1,k.lineTo($.x+Y.x*(j/F)+z.x*N*4,$.y+Y.y*(j/F)+z.y*N*4);k.lineTo(W.x,W.y)}return k.strokePath(),L.anchors&&P>0&&(k.fillStyle(O),k.fillCircle($.x,$.y,P),k.fillCircle(W.x,W.y,P)),this},resetCollisionIDs:function(){return m._nextCollidingGroupId=1,m._nextNonCollidingGroupId=-1,m._nextCategory=1,this},shutdown:function(){x.off(this.engine),this.removeAllListeners(),w.clear(this.localWorld,!1),a.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});s.exports=E},70410:s=>{var g={setBounce:function(i){return this.body.restitution=i,this}};s.exports=g},66968:s=>{var g={setCollisionCategory:function(i){return this.body.collisionFilter.category=i,this},setCollisionGroup:function(i){return this.body.collisionFilter.group=i,this},setCollidesWith:function(i){var o=0;if(!Array.isArray(i))o=i;else for(var m=0;m<i.length;m++)o|=i[m];return this.body.collisionFilter.mask=o,this},setOnCollide:function(i){return this.body.onCollideCallback=i,this},setOnCollideEnd:function(i){return this.body.onCollideEndCallback=i,this},setOnCollideActive:function(i){return this.body.onCollideActiveCallback=i,this},setOnCollideWith:function(i,o){Array.isArray(i)||(i=[i]);for(var m=0;m<i.length;m++){var c=i[m].hasOwnProperty("body")?i[m].body:i[m];this.body.setOnCollideWith(c,o)}return this}};s.exports=g},51607:(s,g,i)=>{var o=i(22562),m={applyForce:function(c){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,c),this},applyForceFrom:function(c,l){return o.applyForce(this.body,c,l),this},thrust:function(c){var l=this.body.angle;return this._tempVec2.set(c*Math.cos(l),c*Math.sin(l)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(c){var l=this.body.angle-Math.PI/2;return this._tempVec2.set(c*Math.cos(l),c*Math.sin(l)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(c){var l=this.body.angle+Math.PI/2;return this._tempVec2.set(c*Math.cos(l),c*Math.sin(l)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(c){var l=this.body.angle-Math.PI;return this._tempVec2.set(c*Math.cos(l),c*Math.sin(l)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};s.exports=m},5436:s=>{var g={setFriction:function(i,o,m){return this.body.friction=i,o!==void 0&&(this.body.frictionAir=o),m!==void 0&&(this.body.frictionStatic=m),this},setFrictionAir:function(i){return this.body.frictionAir=i,this},setFrictionStatic:function(i){return this.body.frictionStatic=i,this}};s.exports=g},39858:s=>{var g={setIgnoreGravity:function(i){return this.body.ignoreGravity=i,this}};s.exports=g},37302:(s,g,i)=>{var o=i(22562),m=i(26099),c={setMass:function(l){return o.setMass(this.body,l),this},setDensity:function(l){return o.setDensity(this.body,l),this},centerOfMass:{get:function(){return new m(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};s.exports=c},39132:s=>{var g={setSensor:function(i){return this.body.isSensor=i,this},isSensor:function(){return this.body.isSensor}};s.exports=g},57772:(s,g,i)=>{var o=i(66280),m=i(22562),c=i(43855),l=i(95540),h=i(19496),a=i(85791),f=i(41598),p={setRectangle:function(u,v,y){return this.setBody({type:"rectangle",width:u,height:v},y)},setCircle:function(u,v){return this.setBody({type:"circle",radius:u},v)},setPolygon:function(u,v,y){return this.setBody({type:"polygon",sides:v,radius:u},y)},setTrapezoid:function(u,v,y,x){return this.setBody({type:"trapezoid",width:u,height:v,slope:y},x)},setExistingBody:function(u,v){v===void 0&&(v=!0),this.body&&this.world.remove(this.body,!0),this.body=u;for(var y=0;y<u.parts.length;y++)u.parts[y].gameObject=this;var x=this;if(u.destroy=function(){x.world.remove(x.body,!0),x.body.gameObject=null},v&&(this.world.has(u)&&this.world.remove(u,!0),this.world.add(u)),this._originComponent){var b=u.render.sprite.xOffset,w=u.render.sprite.yOffset,C=u.centerOfMass.x,E=u.centerOfMass.y;if(c(C,.5)&&c(E,.5))this.setOrigin(b+.5,w+.5);else{var T=u.centerOffset.x,k=u.centerOffset.y;this.setOrigin(b+T/this.displayWidth,w+k/this.displayHeight)}}return this},setBody:function(u,v){if(!u)return this;var y;typeof u=="string"&&(u={type:u});var x=l(u,"type","rectangle"),b=l(u,"x",this._tempVec2.x),w=l(u,"y",this._tempVec2.y),C=l(u,"width",this.width),E=l(u,"height",this.height);switch(x){case"rectangle":y=o.rectangle(b,w,C,E,v);break;case"circle":var T=l(u,"radius",Math.max(C,E)/2),k=l(u,"maxSides",25);y=o.circle(b,w,T,v,k);break;case"trapezoid":var A=l(u,"slope",.5);y=o.trapezoid(b,w,C,E,A,v);break;case"polygon":var I=l(u,"sides",5),B=l(u,"radius",Math.max(C,E)/2);y=o.polygon(b,w,I,B,v);break;case"fromVertices":case"fromVerts":var M=l(u,"verts",null);if(M)if(typeof M=="string"&&(M=f.fromPath(M)),this.body&&!this.body.hasOwnProperty("temp"))m.setVertices(this.body,M),y=this.body;else{var O=l(u,"flagInternal",!1),P=l(u,"removeCollinear",.01),L=l(u,"minimumArea",10);y=o.fromVertices(b,w,M,v,O,P,L)}break;case"fromPhysicsEditor":y=h.parseBody(b,w,u,v);break;case"fromPhysicsTracer":y=a.parseBody(b,w,u,v);break}return y&&this.setExistingBody(y,u.addToWorld),this}};s.exports=p},38083:(s,g,i)=>{var o=i(1121),m=i(53614),c=i(35810),l={setToSleep:function(){return m.set(this.body,!0),this},setAwake:function(){return m.set(this.body,!1),this},setSleepThreshold:function(h){return h===void 0&&(h=60),this.body.sleepThreshold=h,this},setSleepEvents:function(h,a){return this.setSleepStartEvent(h),this.setSleepEndEvent(a),this},setSleepStartEvent:function(h){if(h){var a=this.world;c.on(this.body,"sleepStart",function(f){a.emit(o.SLEEP_START,f,this)})}else c.off(this.body,"sleepStart");return this},setSleepEndEvent:function(h){if(h){var a=this.world;c.on(this.body,"sleepEnd",function(f){a.emit(o.SLEEP_END,f,this)})}else c.off(this.body,"sleepEnd");return this}};s.exports=l},90556:(s,g,i)=>{var o=i(22562),m={setStatic:function(c){return o.setStatic(this.body,c),this},isStatic:function(){return this.body.isStatic}};s.exports=m},85436:(s,g,i)=>{var o=i(22562),m=i(36383),c=i(86554),l=i(30954),h=4,a={x:{get:function(){return this.body.position.x},set:function(f){this._tempVec2.set(f,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(f){this._tempVec2.set(this.x,f),o.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(f){var p=1/this._scaleX,u=1/this._scaleY;this._scaleX=f,this._scaleX===0?this.renderFlags&=~h:this.renderFlags|=h,o.scale(this.body,p,u),o.scale(this.body,f,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(f){var p=1/this._scaleX,u=1/this._scaleY;this._scaleY=f,this._scaleY===0?this.renderFlags&=~h:this.renderFlags|=h,o.scale(this.body,p,u),o.scale(this.body,this._scaleX,f)}},angle:{get:function(){return l(this.body.angle*m.RAD_TO_DEG)},set:function(f){this.rotation=l(f)*m.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(f){this._rotation=c(f),o.setAngle(this.body,this._rotation)}},setPosition:function(f,p){return f===void 0&&(f=0),p===void 0&&(p=f),this._tempVec2.set(f,p),o.setPosition(this.body,this._tempVec2),this},setRotation:function(f){return f===void 0&&(f=0),this._rotation=c(f),o.setAngle(this.body,f),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(f){return f===void 0&&(f=0),this.angle=f,o.setAngle(this.body,this.rotation),this},setScale:function(f,p,u){f===void 0&&(f=1),p===void 0&&(p=f);var v=1/this._scaleX,y=1/this._scaleY;return this._scaleX=f,this._scaleY=p,o.scale(this.body,v,y,u),o.scale(this.body,f,p,u),this}};s.exports=a},42081:(s,g,i)=>{var o=i(22562),m={setVelocityX:function(c){return this._tempVec2.set(c,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(c){return this._tempVec2.set(this.body.velocity.x,c),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(c,l){return this._tempVec2.set(c,l),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(c){return o.setAngularVelocity(this.body,c),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(c){return o.setAngularSpeed(this.body,c),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};s.exports=m},31884:(s,g,i)=>{s.exports={Bounce:i(70410),Collision:i(66968),Force:i(51607),Friction:i(5436),Gravity:i(39858),Mass:i(37302),Sensor:i(39132),SetBody:i(57772),Sleep:i(38083),Static:i(90556),Transform:i(85436),Velocity:i(42081)}},85608:s=>{s.exports="afteradd"},1213:s=>{s.exports="afterremove"},25968:s=>{s.exports="afterupdate"},67205:s=>{s.exports="beforeadd"},39438:s=>{s.exports="beforeremove"},44823:s=>{s.exports="beforeupdate"},92593:s=>{s.exports="collisionactive"},60128:s=>{s.exports="collisionend"},76861:s=>{s.exports="collisionstart"},92362:s=>{s.exports="dragend"},76408:s=>{s.exports="drag"},93971:s=>{s.exports="dragstart"},5656:s=>{s.exports="pause"},47861:s=>{s.exports="resume"},79099:s=>{s.exports="sleepend"},35906:s=>{s.exports="sleepstart"},1121:(s,g,i)=>{s.exports={AFTER_ADD:i(85608),AFTER_REMOVE:i(1213),AFTER_UPDATE:i(25968),BEFORE_ADD:i(67205),BEFORE_REMOVE:i(39438),BEFORE_UPDATE:i(44823),COLLISION_ACTIVE:i(92593),COLLISION_END:i(60128),COLLISION_START:i(76861),DRAG_END:i(92362),DRAG:i(76408),DRAG_START:i(93971),PAUSE:i(5656),RESUME:i(47861),SLEEP_END:i(79099),SLEEP_START:i(35906)}},3875:(s,g,i)=>{s.exports={BodyBounds:i(68174),Components:i(31884),Events:i(1121),Factory:i(28137),MatterGameObject:i(75803),Image:i(23181),Matter:i(19933),MatterPhysics:i(42045),PolyDecomp:i(55973),Sprite:i(34803),TileBody:i(73834),PhysicsEditorParser:i(19496),PhysicsJSONParser:i(85791),PointerConstraint:i(98713),World:i(68243)}},22562:(s,g,i)=>{var o={};s.exports=o;var m=i(41598),c=i(31725),l=i(53614),h=i(53402),a=i(15647),f=i(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(u){var v={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!u.hasOwnProperty("position")&&u.hasOwnProperty("vertices")?u.position=m.centre(u.vertices):u.hasOwnProperty("vertices")||(v.vertices=m.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var y=h.extend(v,u);return p(y,u),y.setOnCollideWith=function(x,b){return b?this.onCollideWith[x.id]=b:delete this.onCollideWith[x.id],this},y},o.nextGroup=function(u){return u?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var p=function(u,v){if(v=v||{},o.set(u,{bounds:u.bounds||a.create(u.vertices),positionPrev:u.positionPrev||c.clone(u.position),anglePrev:u.anglePrev||u.angle,vertices:u.vertices,parts:u.parts||[u],isStatic:u.isStatic,isSleeping:u.isSleeping,parent:u.parent||u}),m.rotate(u.vertices,u.angle,u.position),f.rotate(u.axes,u.angle),a.update(u.bounds,u.vertices,u.velocity),o.set(u,{axes:v.axes||u.axes,area:v.area||u.area,mass:v.mass||u.mass,inertia:v.inertia||u.inertia}),u.parts.length===1){var y=u.bounds,x=u.centerOfMass,b=u.centerOffset,w=y.max.x-y.min.x,C=y.max.y-y.min.y;x.x=-(y.min.x-u.position.x)/w,x.y=-(y.min.y-u.position.y)/C,b.x=w*x.x,b.y=C*x.y}};o.set=function(u,v,y){var x;typeof v=="string"&&(x=v,v={},v[x]=y);for(x in v)if(Object.prototype.hasOwnProperty.call(v,x))switch(y=v[x],x){case"isStatic":o.setStatic(u,y);break;case"isSleeping":l.set(u,y);break;case"mass":o.setMass(u,y);break;case"density":o.setDensity(u,y);break;case"inertia":o.setInertia(u,y);break;case"vertices":o.setVertices(u,y);break;case"position":o.setPosition(u,y);break;case"angle":o.setAngle(u,y);break;case"velocity":o.setVelocity(u,y);break;case"angularVelocity":o.setAngularVelocity(u,y);break;case"speed":o.setSpeed(u,y);break;case"angularSpeed":o.setAngularSpeed(u,y);break;case"parts":o.setParts(u,y);break;case"centre":o.setCentre(u,y);break;default:u[x]=y}},o.setStatic=function(u,v){for(var y=0;y<u.parts.length;y++){var x=u.parts[y];v?(x.isStatic||(x._original={restitution:x.restitution,friction:x.friction,mass:x.mass,inertia:x.inertia,density:x.density,inverseMass:x.inverseMass,inverseInertia:x.inverseInertia}),x.restitution=0,x.friction=1,x.mass=x.inertia=x.density=1/0,x.inverseMass=x.inverseInertia=0,x.positionPrev.x=x.position.x,x.positionPrev.y=x.position.y,x.anglePrev=x.angle,x.angularVelocity=0,x.speed=0,x.angularSpeed=0,x.motion=0):x._original&&(x.restitution=x._original.restitution,x.friction=x._original.friction,x.mass=x._original.mass,x.inertia=x._original.inertia,x.density=x._original.density,x.inverseMass=x._original.inverseMass,x.inverseInertia=x._original.inverseInertia,x._original=null),x.isStatic=v}},o.setMass=function(u,v){var y=u.inertia/(u.mass/6);u.inertia=y*(v/6),u.inverseInertia=1/u.inertia,u.mass=v,u.inverseMass=1/u.mass,u.density=u.mass/u.area},o.setDensity=function(u,v){o.setMass(u,v*u.area),u.density=v},o.setInertia=function(u,v){u.inertia=v,u.inverseInertia=1/u.inertia},o.setVertices=function(u,v){v[0].body===u?u.vertices=v:u.vertices=m.create(v,u),u.axes=f.fromVertices(u.vertices),u.area=m.area(u.vertices),o.setMass(u,u.density*u.area);var y=m.centre(u.vertices);m.translate(u.vertices,y,-1),o.setInertia(u,o._inertiaScale*m.inertia(u.vertices,u.mass)),m.translate(u.vertices,u.position),a.update(u.bounds,u.vertices,u.velocity)},o.setParts=function(u,v,y){var x;for(v=v.slice(0),u.parts.length=0,u.parts.push(u),u.parent=u,x=0;x<v.length;x++){var b=v[x];b!==u&&(b.parent=u,u.parts.push(b))}if(u.parts.length!==1){if(y=typeof y!="undefined"?y:!0,y){var w=[];for(x=0;x<v.length;x++)w=w.concat(v[x].vertices);m.clockwiseSort(w);var C=m.hull(w),E=m.centre(C);o.setVertices(u,C),m.translate(u.vertices,E)}var T=o._totalProperties(u),k=T.centre.x,A=T.centre.y,I=u.bounds,B=u.centerOfMass,M=u.centerOffset;a.update(I,u.vertices,u.velocity),B.x=-(I.min.x-k)/(I.max.x-I.min.x),B.y=-(I.min.y-A)/(I.max.y-I.min.y),M.x=k,M.y=A,u.area=T.area,u.parent=u,u.position.x=k,u.position.y=A,u.positionPrev.x=k,u.positionPrev.y=A,o.setMass(u,T.mass),o.setInertia(u,T.inertia),o.setPosition(u,T.centre)}},o.setCentre=function(u,v,y){y?(u.positionPrev.x+=v.x,u.positionPrev.y+=v.y,u.position.x+=v.x,u.position.y+=v.y):(u.positionPrev.x=v.x-(u.position.x-u.positionPrev.x),u.positionPrev.y=v.y-(u.position.y-u.positionPrev.y),u.position.x=v.x,u.position.y=v.y)},o.setPosition=function(u,v,y){var x=c.sub(v,u.position);y?(u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.velocity.x=x.x,u.velocity.y=x.y,u.speed=c.magnitude(x)):(u.positionPrev.x+=x.x,u.positionPrev.y+=x.y);for(var b=0;b<u.parts.length;b++){var w=u.parts[b];w.position.x+=x.x,w.position.y+=x.y,m.translate(w.vertices,x),a.update(w.bounds,w.vertices,u.velocity)}},o.setAngle=function(u,v,y){var x=v-u.angle;y?(u.anglePrev=u.angle,u.angularVelocity=x,u.angularSpeed=Math.abs(x)):u.anglePrev+=x;for(var b=0;b<u.parts.length;b++){var w=u.parts[b];w.angle+=x,m.rotate(w.vertices,x,u.position),f.rotate(w.axes,x),a.update(w.bounds,w.vertices,u.velocity),b>0&&c.rotateAbout(w.position,x,u.position,w.position)}},o.setVelocity=function(u,v){var y=u.deltaTime/o._baseDelta;u.positionPrev.x=u.position.x-v.x*y,u.positionPrev.y=u.position.y-v.y*y,u.velocity.x=(u.position.x-u.positionPrev.x)/y,u.velocity.y=(u.position.y-u.positionPrev.y)/y,u.speed=c.magnitude(u.velocity)},o.getVelocity=function(u){var v=o._baseDelta/u.deltaTime;return{x:(u.position.x-u.positionPrev.x)*v,y:(u.position.y-u.positionPrev.y)*v}},o.getSpeed=function(u){return c.magnitude(o.getVelocity(u))},o.setSpeed=function(u,v){o.setVelocity(u,c.mult(c.normalise(o.getVelocity(u)),v))},o.setAngularVelocity=function(u,v){var y=u.deltaTime/o._baseDelta;u.anglePrev=u.angle-v*y,u.angularVelocity=(u.angle-u.anglePrev)/y,u.angularSpeed=Math.abs(u.angularVelocity)},o.getAngularVelocity=function(u){return(u.angle-u.anglePrev)*o._baseDelta/u.deltaTime},o.getAngularSpeed=function(u){return Math.abs(o.getAngularVelocity(u))},o.setAngularSpeed=function(u,v){o.setAngularVelocity(u,h.sign(o.getAngularVelocity(u))*v)},o.translate=function(u,v,y){o.setPosition(u,c.add(u.position,v),y)},o.rotate=function(u,v,y,x){if(!y)o.setAngle(u,u.angle+v,x);else{var b=Math.cos(v),w=Math.sin(v),C=u.position.x-y.x,E=u.position.y-y.y;o.setPosition(u,{x:y.x+(C*b-E*w),y:y.y+(C*w+E*b)},x),o.setAngle(u,u.angle+v,x)}},o.scale=function(u,v,y,x){var b=0,w=0;x=x||u.position;for(var C=u.inertia===1/0,E=0;E<u.parts.length;E++){var T=u.parts[E];T.scale.x=v,T.scale.y=y,m.scale(T.vertices,v,y,x),T.axes=f.fromVertices(T.vertices),T.area=m.area(T.vertices),o.setMass(T,u.density*T.area),m.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),o.setInertia(T,o._inertiaScale*m.inertia(T.vertices,T.mass)),m.translate(T.vertices,{x:T.position.x,y:T.position.y}),E>0&&(b+=T.area,w+=T.inertia),T.position.x=x.x+(T.position.x-x.x)*v,T.position.y=x.y+(T.position.y-x.y)*y,a.update(T.bounds,T.vertices,u.velocity)}u.parts.length>1&&(u.area=b,u.isStatic||(o.setMass(u,u.density*b),o.setInertia(u,w))),u.circleRadius&&(v===y?u.circleRadius*=v:u.circleRadius=null),C&&o.setInertia(u,1/0)},o.update=function(u,v){v=(typeof v!="undefined"?v:16.666666666666668)*u.timeScale;var y=v*v,x=o._timeCorrection?v/(u.deltaTime||v):1,b=1-u.frictionAir*(v/h._baseDelta),w=(u.position.x-u.positionPrev.x)*x,C=(u.position.y-u.positionPrev.y)*x;u.velocity.x=w*b+u.force.x/u.mass*y,u.velocity.y=C*b+u.force.y/u.mass*y,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.position.x+=u.velocity.x,u.position.y+=u.velocity.y,u.deltaTime=v,u.angularVelocity=(u.angle-u.anglePrev)*b*x+u.torque/u.inertia*y,u.anglePrev=u.angle,u.angle+=u.angularVelocity,u.speed=c.magnitude(u.velocity),u.angularSpeed=Math.abs(u.angularVelocity);for(var E=0;E<u.parts.length;E++){var T=u.parts[E];m.translate(T.vertices,u.velocity),E>0&&(T.position.x+=u.velocity.x,T.position.y+=u.velocity.y),u.angularVelocity!==0&&(m.rotate(T.vertices,u.angularVelocity,u.position),f.rotate(T.axes,u.angularVelocity),E>0&&c.rotateAbout(T.position,u.angularVelocity,u.position,T.position)),a.update(T.bounds,T.vertices,u.velocity)}},o.updateVelocities=function(u){var v=o._baseDelta/u.deltaTime,y=u.velocity;y.x=(u.position.x-u.positionPrev.x)*v,y.y=(u.position.y-u.positionPrev.y)*v,u.speed=Math.sqrt(y.x*y.x+y.y*y.y),u.angularVelocity=(u.angle-u.anglePrev)*v,u.angularSpeed=Math.abs(u.angularVelocity)},o.applyForce=function(u,v,y){var x={x:v.x-u.position.x,y:v.y-u.position.y};u.force.x+=y.x,u.force.y+=y.y,u.torque+=x.x*y.y-x.y*y.x},o._totalProperties=function(u){for(var v={mass:0,area:0,inertia:0,centre:{x:0,y:0}},y=u.parts.length===1?0:1;y<u.parts.length;y++){var x=u.parts[y],b=x.mass!==1/0?x.mass:1;v.mass+=b,v.area+=x.area,v.inertia+=x.inertia,v.centre=c.add(v.centre,c.mult(x.position,b))}return v.centre=c.div(v.centre,v.mass),v}})()},69351:(s,g,i)=>{var o={};s.exports=o;var m=i(35810),c=i(53402),l=i(15647),h=i(22562);(function(){o.create=function(a){return c.extend({id:c.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},a)},o.setModified=function(a,f,p,u){if(m.trigger(a,"compositeModified",a),a.isModified=f,f&&a.cache&&(a.cache.allBodies=null,a.cache.allConstraints=null,a.cache.allComposites=null),p&&a.parent&&o.setModified(a.parent,f,p,u),u)for(var v=0;v<a.composites.length;v++){var y=a.composites[v];o.setModified(y,f,p,u)}},o.add=function(a,f){var p=[].concat(f);m.trigger(a,"beforeAdd",{object:f});for(var u=0;u<p.length;u++){var v=p[u];switch(v.type){case"body":if(v.parent!==v){c.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(a,v);break;case"constraint":o.addConstraint(a,v);break;case"composite":o.addComposite(a,v);break;case"mouseConstraint":o.addConstraint(a,v.constraint);break}}return m.trigger(a,"afterAdd",{object:f}),a},o.remove=function(a,f,p){var u=[].concat(f);m.trigger(a,"beforeRemove",{object:f});for(var v=0;v<u.length;v++){var y=u[v];switch(y.type){case"body":o.removeBody(a,y,p);break;case"constraint":o.removeConstraint(a,y,p);break;case"composite":o.removeComposite(a,y,p);break;case"mouseConstraint":o.removeConstraint(a,y.constraint);break}}return m.trigger(a,"afterRemove",{object:f}),a},o.addComposite=function(a,f){return a.composites.push(f),f.parent=a,o.setModified(a,!0,!0,!1),a},o.removeComposite=function(a,f,p){var u=c.indexOf(a.composites,f);if(u!==-1&&o.removeCompositeAt(a,u),p)for(var v=0;v<a.composites.length;v++)o.removeComposite(a.composites[v],f,!0);return a},o.removeCompositeAt=function(a,f){return a.composites.splice(f,1),o.setModified(a,!0,!0,!1),a},o.addBody=function(a,f){return a.bodies.push(f),o.setModified(a,!0,!0,!1),a},o.removeBody=function(a,f,p){var u=c.indexOf(a.bodies,f);if(u!==-1&&o.removeBodyAt(a,u),p)for(var v=0;v<a.composites.length;v++)o.removeBody(a.composites[v],f,!0);return a},o.removeBodyAt=function(a,f){return a.bodies.splice(f,1),o.setModified(a,!0,!0,!1),a},o.addConstraint=function(a,f){return a.constraints.push(f),o.setModified(a,!0,!0,!1),a},o.removeConstraint=function(a,f,p){var u=c.indexOf(a.constraints,f);if(u!==-1&&o.removeConstraintAt(a,u),p)for(var v=0;v<a.composites.length;v++)o.removeConstraint(a.composites[v],f,!0);return a},o.removeConstraintAt=function(a,f){return a.constraints.splice(f,1),o.setModified(a,!0,!0,!1),a},o.clear=function(a,f,p){if(p)for(var u=0;u<a.composites.length;u++)o.clear(a.composites[u],f,!0);return f?a.bodies=a.bodies.filter(function(v){return v.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,o.setModified(a,!0,!0,!1),a},o.allBodies=function(a){if(a.cache&&a.cache.allBodies)return a.cache.allBodies;for(var f=[].concat(a.bodies),p=0;p<a.composites.length;p++)f=f.concat(o.allBodies(a.composites[p]));return a.cache&&(a.cache.allBodies=f),f},o.allConstraints=function(a){if(a.cache&&a.cache.allConstraints)return a.cache.allConstraints;for(var f=[].concat(a.constraints),p=0;p<a.composites.length;p++)f=f.concat(o.allConstraints(a.composites[p]));return a.cache&&(a.cache.allConstraints=f),f},o.allComposites=function(a){if(a.cache&&a.cache.allComposites)return a.cache.allComposites;for(var f=[].concat(a.composites),p=0;p<a.composites.length;p++)f=f.concat(o.allComposites(a.composites[p]));return a.cache&&(a.cache.allComposites=f),f},o.get=function(a,f,p){var u,v;switch(p){case"body":u=o.allBodies(a);break;case"constraint":u=o.allConstraints(a);break;case"composite":u=o.allComposites(a).concat(a);break}return u?(v=u.filter(function(y){return y.id.toString()===f.toString()}),v.length===0?null:v[0]):null},o.move=function(a,f,p){return o.remove(a,f),o.add(p,f),a},o.rebase=function(a){for(var f=o.allBodies(a).concat(o.allConstraints(a)).concat(o.allComposites(a)),p=0;p<f.length;p++)f[p].id=c.nextId();return a},o.translate=function(a,f,p){for(var u=p?o.allBodies(a):a.bodies,v=0;v<u.length;v++)h.translate(u[v],f);return a},o.rotate=function(a,f,p,u){for(var v=Math.cos(f),y=Math.sin(f),x=u?o.allBodies(a):a.bodies,b=0;b<x.length;b++){var w=x[b],C=w.position.x-p.x,E=w.position.y-p.y;h.setPosition(w,{x:p.x+(C*v-E*y),y:p.y+(C*y+E*v)}),h.rotate(w,f)}return a},o.scale=function(a,f,p,u,v){for(var y=v?o.allBodies(a):a.bodies,x=0;x<y.length;x++){var b=y[x],w=b.position.x-u.x,C=b.position.y-u.y;h.setPosition(b,{x:u.x+w*f,y:u.y+C*p}),h.scale(b,f,p)}return a},o.bounds=function(a){for(var f=o.allBodies(a),p=[],u=0;u<f.length;u+=1){var v=f[u];p.push(v.bounds.min,v.bounds.max)}return l.create(p)}})()},4372:(s,g,i)=>{var o={};s.exports=o;var m=i(69351);(function(){o.create=m.create,o.add=m.add,o.remove=m.remove,o.clear=m.clear,o.addComposite=m.addComposite,o.addBody=m.addBody,o.addConstraint=m.addConstraint})()},52284:(s,g,i)=>{var o={};s.exports=o;var m=i(41598),c=i(4506);(function(){var l=[],h={overlap:0,axis:null},a={overlap:0,axis:null};o.create=function(f,p){return{pair:null,collided:!1,bodyA:f,bodyB:p,parentA:f.parent,parentB:p.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},o.collides=function(f,p,u){if(o._overlapAxes(h,f.vertices,p.vertices,f.axes),h.overlap<=0||(o._overlapAxes(a,p.vertices,f.vertices,p.axes),a.overlap<=0))return null;var v=u&&u.table[c.id(f,p)],y;v?y=v.collision:(y=o.create(f,p),y.collided=!0,y.bodyA=f.id<p.id?f:p,y.bodyB=f.id<p.id?p:f,y.parentA=y.bodyA.parent,y.parentB=y.bodyB.parent),f=y.bodyA,p=y.bodyB;var x;h.overlap<a.overlap?x=h:x=a;var b=y.normal,w=y.supports,C=x.axis,E=C.x,T=C.y;E*(p.position.x-f.position.x)+T*(p.position.y-f.position.y)<0?(b.x=E,b.y=T):(b.x=-E,b.y=-T),y.tangent.x=-b.y,y.tangent.y=b.x,y.depth=x.overlap,y.penetration.x=b.x*y.depth,y.penetration.y=b.y*y.depth;var k=o._findSupports(f,p,b,1),A=0;if(m.contains(f.vertices,k[0])&&(w[A++]=k[0]),m.contains(f.vertices,k[1])&&(w[A++]=k[1]),A<2){var I=o._findSupports(p,f,b,-1);m.contains(p.vertices,I[0])&&(w[A++]=I[0]),A<2&&m.contains(p.vertices,I[1])&&(w[A++]=I[1])}return A===0&&(w[A++]=k[0]),w.length=A,y},o._overlapAxes=function(f,p,u,v){var y=p.length,x=u.length,b=p[0].x,w=p[0].y,C=u[0].x,E=u[0].y,T=v.length,k=Number.MAX_VALUE,A=0,I,B,M,O,P,L;for(P=0;P<T;P++){var _=v[P],G=_.x,$=_.y,W=b*G+w*$,Y=C*G+E*$,z=W,F=Y;for(L=1;L<y;L+=1)O=p[L].x*G+p[L].y*$,O>z?z=O:O<W&&(W=O);for(L=1;L<x;L+=1)O=u[L].x*G+u[L].y*$,O>F?F=O:O<Y&&(Y=O);if(B=z-Y,M=F-W,I=B<M?B:M,I<k&&(k=I,A=P,I<=0))break}f.axis=v[A],f.overlap=k},o._projectToAxis=function(f,p,u){for(var v=p[0].x*u.x+p[0].y*u.y,y=v,x=1;x<p.length;x+=1){var b=p[x].x*u.x+p[x].y*u.y;b>y?y=b:b<v&&(v=b)}f.min=v,f.max=y},o._findSupports=function(f,p,u,v){var y=p.vertices,x=y.length,b=f.position.x,w=f.position.y,C=u.x*v,E=u.y*v,T=Number.MAX_VALUE,k,A,I,B,M;for(M=0;M<x;M+=1)A=y[M],B=C*(b-A.x)+E*(w-A.y),B<T&&(T=B,k=A);return I=y[(x+k.index-1)%x],T=C*(b-I.x)+E*(w-I.y),A=y[(k.index+1)%x],C*(b-A.x)+E*(w-A.y)<T?(l[0]=k,l[1]=A,l):(l[0]=k,l[1]=I,l)}})()},43424:s=>{var g={};s.exports=g,function(){g.create=function(i){return{vertex:i,normalImpulse:0,tangentImpulse:0}}}()},81388:(s,g,i)=>{var o={};s.exports=o;var m=i(53402),c=i(52284);(function(){o.create=function(l){var h={bodies:[],pairs:null};return m.extend(h,l)},o.setBodies=function(l,h){l.bodies=h.slice(0)},o.clear=function(l){l.bodies=[]},o.collisions=function(l){var h=[],a=l.pairs,f=l.bodies,p=f.length,u=o.canCollide,v=c.collides,y,x;for(f.sort(o._compareBoundsX),y=0;y<p;y++){var b=f[y],w=b.bounds,C=b.bounds.max.x,E=b.bounds.max.y,T=b.bounds.min.y,k=b.isStatic||b.isSleeping,A=b.parts.length,I=A===1;for(x=y+1;x<p;x++){var B=f[x],M=B.bounds;if(M.min.x>C)break;if(!(E<M.min.y||T>M.max.y)&&!(k&&(B.isStatic||B.isSleeping))&&u(b.collisionFilter,B.collisionFilter)){var O=B.parts.length;if(I&&O===1){var P=v(b,B,a);P&&h.push(P)}else for(var L=A>1?1:0,_=O>1?1:0,G=L;G<A;G++)for(var $=b.parts[G],w=$.bounds,W=_;W<O;W++){var Y=B.parts[W],M=Y.bounds;if(!(w.min.x>M.max.x||w.max.x<M.min.x||w.max.y<M.min.y||w.min.y>M.max.y)){var P=v($,Y,a);P&&h.push(P)}}}}}return h},o.canCollide=function(l,h){return l.group===h.group&&l.group!==0?l.group>0:(l.mask&h.category)!==0&&(h.mask&l.category)!==0},o._compareBoundsX=function(l,h){return l.bounds.min.x-h.bounds.min.x}})()},4506:(s,g,i)=>{var o={};s.exports=o;var m=i(43424);(function(){o.create=function(c,l){var h=c.bodyA,a=c.bodyB,f={id:o.id(h,a),bodyA:h,bodyB:a,collision:c,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:h.isSensor||a.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(f,c,l),f},o.update=function(c,l,h){var a=c.contacts,f=l.supports,p=c.activeContacts,u=l.parentA,v=l.parentB,y=u.vertices.length;c.isActive=!0,c.timeUpdated=h,c.collision=l,c.separation=l.depth,c.inverseMass=u.inverseMass+v.inverseMass,c.friction=u.friction<v.friction?u.friction:v.friction,c.frictionStatic=u.frictionStatic>v.frictionStatic?u.frictionStatic:v.frictionStatic,c.restitution=u.restitution>v.restitution?u.restitution:v.restitution,c.slop=u.slop>v.slop?u.slop:v.slop,l.pair=c,p.length=0;for(var x=0;x<f.length;x++){var b=f[x],w=b.body===u?b.index:y+b.index,C=a[w];C?p.push(C):p.push(a[w]=m.create(b))}},o.setActive=function(c,l,h){l?(c.isActive=!0,c.timeUpdated=h):(c.isActive=!1,c.activeContacts.length=0)},o.id=function(c,l){return c.id<l.id?"A"+c.id+"B"+l.id:"A"+l.id+"B"+c.id}})()},99561:(s,g,i)=>{var o={};s.exports=o;var m=i(4506),c=i(53402);(function(){o.create=function(l){return c.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},o.update=function(l,h,a){var f=l.list,p=f.length,u=l.table,v=h.length,y=l.collisionStart,x=l.collisionEnd,b=l.collisionActive,w,C,E,T;for(y.length=0,x.length=0,b.length=0,T=0;T<p;T++)f[T].confirmedActive=!1;for(T=0;T<v;T++)w=h[T],E=w.pair,E?(E.isActive?b.push(E):y.push(E),m.update(E,w,a),E.confirmedActive=!0):(E=m.create(w,a),u[E.id]=E,y.push(E),f.push(E));var k=[];for(p=f.length,T=0;T<p;T++)E=f[T],E.confirmedActive||(m.setActive(E,!1,a),x.push(E),!E.collision.bodyA.isSleeping&&!E.collision.bodyB.isSleeping&&k.push(T));for(T=0;T<k.length;T++)C=k[T]-T,E=f[C],f.splice(C,1),delete u[E.id]},o.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},73296:(s,g,i)=>{var o={};s.exports=o;var m=i(31725),c=i(52284),l=i(15647),h=i(66280),a=i(41598);(function(){o.collides=function(f,p){for(var u=[],v=p.length,y=f.bounds,x=c.collides,b=l.overlaps,w=0;w<v;w++){var C=p[w],E=C.parts.length,T=E===1?0:1;if(f!==C&&b(C.bounds,y))for(var k=T;k<E;k++){var A=C.parts[k];if(b(A.bounds,y)){var I=x(A,f);if(I){u.push(I);break}}}}return u},o.ray=function(f,p,u,v){v=v||1e-100;for(var y=m.angle(p,u),x=m.magnitude(m.sub(p,u)),b=(u.x+p.x)*.5,w=(u.y+p.y)*.5,C=h.rectangle(b,w,x,v,{angle:y}),E=o.collides(C,f),T=0;T<E.length;T+=1){var k=E[T];k.body=k.bodyB=k.bodyA}return E},o.region=function(f,p,u){for(var v=[],y=0;y<f.length;y++){var x=f[y],b=l.overlaps(x.bounds,p);(b&&!u||!b&&u)&&v.push(x)}return v},o.point=function(f,p){for(var u=[],v=0;v<f.length;v++){var y=f[v];if(l.contains(y.bounds,p))for(var x=y.parts.length===1?0:1;x<y.parts.length;x++){var b=y.parts[x];if(l.contains(b.bounds,p)&&a.contains(b.vertices,p)){u.push(y);break}}}return u}})()},66272:(s,g,i)=>{var o={};s.exports=o;var m=i(41598),c=i(53402),l=i(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(h){var a,f,p,u=h.length;for(a=0;a<u;a++)f=h[a],f.isActive&&(p=f.activeContacts.length,f.collision.parentA.totalContacts+=p,f.collision.parentB.totalContacts+=p)},o.solvePosition=function(h,a,f){var p,u,v,y,x,b,w,C,E=o._positionDampen*(f||1),T=c.clamp(a/c._baseDelta,0,1),k=h.length;for(p=0;p<k;p++)u=h[p],!(!u.isActive||u.isSensor)&&(v=u.collision,y=v.parentA,x=v.parentB,b=v.normal,u.separation=b.x*(x.positionImpulse.x+v.penetration.x-y.positionImpulse.x)+b.y*(x.positionImpulse.y+v.penetration.y-y.positionImpulse.y));for(p=0;p<k;p++)u=h[p],!(!u.isActive||u.isSensor)&&(v=u.collision,y=v.parentA,x=v.parentB,b=v.normal,C=u.separation-u.slop*T,(y.isStatic||x.isStatic)&&(C*=2),y.isStatic||y.isSleeping||(w=E/y.totalContacts,y.positionImpulse.x+=b.x*C*w,y.positionImpulse.y+=b.y*C*w),x.isStatic||x.isSleeping||(w=E/x.totalContacts,x.positionImpulse.x-=b.x*C*w,x.positionImpulse.y-=b.y*C*w))},o.postSolvePosition=function(h){for(var a=o._positionWarming,f=h.length,p=m.translate,u=l.update,v=0;v<f;v++){var y=h[v],x=y.positionImpulse,b=x.x,w=x.y,C=y.velocity;if(y.totalContacts=0,b!==0||w!==0){for(var E=0;E<y.parts.length;E++){var T=y.parts[E];p(T.vertices,x),u(T.bounds,T.vertices,C),T.position.x+=b,T.position.y+=w}y.positionPrev.x+=b,y.positionPrev.y+=w,b*C.x+w*C.y<0?(x.x=0,x.y=0):(x.x*=a,x.y*=a)}}},o.preSolveVelocity=function(h){var a=h.length,f,p;for(f=0;f<a;f++){var u=h[f];if(!(!u.isActive||u.isSensor)){var v=u.activeContacts,y=v.length,x=u.collision,b=x.parentA,w=x.parentB,C=x.normal,E=x.tangent;for(p=0;p<y;p++){var T=v[p],k=T.vertex,A=T.normalImpulse,I=T.tangentImpulse;if(A!==0||I!==0){var B=C.x*A+E.x*I,M=C.y*A+E.y*I;b.isStatic||b.isSleeping||(b.positionPrev.x+=B*b.inverseMass,b.positionPrev.y+=M*b.inverseMass,b.anglePrev+=b.inverseInertia*((k.x-b.position.x)*M-(k.y-b.position.y)*B)),w.isStatic||w.isSleeping||(w.positionPrev.x-=B*w.inverseMass,w.positionPrev.y-=M*w.inverseMass,w.anglePrev-=w.inverseInertia*((k.x-w.position.x)*M-(k.y-w.position.y)*B))}}}}},o.solveVelocity=function(h,a){var f=a/c._baseDelta,p=f*f,u=p*f,v=-o._restingThresh*f,y=o._restingThreshTangent,x=o._frictionNormalMultiplier*f,b=o._frictionMaxStatic,w=h.length,C,E,T,k;for(T=0;T<w;T++){var A=h[T];if(!(!A.isActive||A.isSensor)){var I=A.collision,B=I.parentA,M=I.parentB,O=B.velocity,P=M.velocity,L=I.normal.x,_=I.normal.y,G=I.tangent.x,$=I.tangent.y,W=A.activeContacts,Y=W.length,z=1/Y,F=B.inverseMass+M.inverseMass,N=A.friction*A.frictionStatic*x;for(O.x=B.position.x-B.positionPrev.x,O.y=B.position.y-B.positionPrev.y,P.x=M.position.x-M.positionPrev.x,P.y=M.position.y-M.positionPrev.y,B.angularVelocity=B.angle-B.anglePrev,M.angularVelocity=M.angle-M.anglePrev,k=0;k<Y;k++){var j=W[k],U=j.vertex,V=U.x-B.position.x,q=U.y-B.position.y,ot=U.x-M.position.x,Q=U.y-M.position.y,rt=O.x-q*B.angularVelocity,Bt=O.y+V*B.angularVelocity,K=P.x-Q*M.angularVelocity,Mt=P.y+ot*M.angularVelocity,Ft=rt-K,dt=Bt-Mt,yt=L*Ft+_*dt,At=G*Ft+$*dt,Ot=A.separation+yt,le=Math.min(Ot,1);le=Ot<0?0:le;var _t=le*N;At<-_t||At>_t?(E=At>0?At:-At,C=A.friction*(At>0?1:-1)*u,C<-E?C=-E:C>E&&(C=E)):(C=At,E=b);var xe=V*_-q*L,ke=ot*_-Q*L,ve=z/(F+B.inverseInertia*xe*xe+M.inverseInertia*ke*ke),Fe=(1+A.restitution)*yt*ve;if(C*=ve,yt<v)j.normalImpulse=0;else{var Ze=j.normalImpulse;j.normalImpulse+=Fe,j.normalImpulse>0&&(j.normalImpulse=0),Fe=j.normalImpulse-Ze}if(At<-y||At>y)j.tangentImpulse=0;else{var ei=j.tangentImpulse;j.tangentImpulse+=C,j.tangentImpulse<-E&&(j.tangentImpulse=-E),j.tangentImpulse>E&&(j.tangentImpulse=E),C=j.tangentImpulse-ei}var Ci=L*Fe+G*C,xt=_*Fe+$*C;B.isStatic||B.isSleeping||(B.positionPrev.x+=Ci*B.inverseMass,B.positionPrev.y+=xt*B.inverseMass,B.anglePrev+=(V*xt-q*Ci)*B.inverseInertia),M.isStatic||M.isSleeping||(M.positionPrev.x-=Ci*M.inverseMass,M.positionPrev.y-=xt*M.inverseMass,M.anglePrev-=(ot*xt-Q*Ci)*M.inverseInertia)}}}}})()},48140:(s,g,i)=>{var o={};s.exports=o;var m=i(41598),c=i(31725),l=i(53614),h=i(15647),a=i(66615),f=i(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(p){var u=p;u.bodyA&&!u.pointA&&(u.pointA={x:0,y:0}),u.bodyB&&!u.pointB&&(u.pointB={x:0,y:0});var v=u.bodyA?c.add(u.bodyA.position,u.pointA):u.pointA,y=u.bodyB?c.add(u.bodyB.position,u.pointB):u.pointB,x=c.magnitude(c.sub(v,y));u.length=typeof u.length!="undefined"?u.length:x,u.id=u.id||f.nextId(),u.label=u.label||"Constraint",u.type="constraint",u.stiffness=u.stiffness||(u.length>0?1:.7),u.damping=u.damping||0,u.angularStiffness=u.angularStiffness||0,u.angleA=u.bodyA?u.bodyA.angle:u.angleA,u.angleB=u.bodyB?u.bodyB.angle:u.angleB,u.plugin={};var b={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return u.length===0&&u.stiffness>.1?(b.type="pin",b.anchors=!1):u.stiffness<.9&&(b.type="spring"),u.render=f.extend(b,u.render),u},o.preSolveAll=function(p){for(var u=0;u<p.length;u+=1){var v=p[u],y=v.constraintImpulse;v.isStatic||y.x===0&&y.y===0&&y.angle===0||(v.position.x+=y.x,v.position.y+=y.y,v.angle+=y.angle)}},o.solveAll=function(p,u){for(var v=f.clamp(u/f._baseDelta,0,1),y=0;y<p.length;y+=1){var x=p[y],b=!x.bodyA||x.bodyA&&x.bodyA.isStatic,w=!x.bodyB||x.bodyB&&x.bodyB.isStatic;(b||w)&&o.solve(p[y],v)}for(y=0;y<p.length;y+=1)x=p[y],b=!x.bodyA||x.bodyA&&x.bodyA.isStatic,w=!x.bodyB||x.bodyB&&x.bodyB.isStatic,!b&&!w&&o.solve(p[y],v)},o.solve=function(p,u){var v=p.bodyA,y=p.bodyB,x=p.pointA,b=p.pointB;if(!(!v&&!y)){v&&!v.isStatic&&(c.rotate(x,v.angle-p.angleA,x),p.angleA=v.angle),y&&!y.isStatic&&(c.rotate(b,y.angle-p.angleB,b),p.angleB=y.angle);var w=x,C=b;if(v&&(w=c.add(v.position,x)),y&&(C=c.add(y.position,b)),!(!w||!C)){var E=c.sub(w,C),T=c.magnitude(E);T<o._minLength&&(T=o._minLength);var k=(T-p.length)/T,A=p.stiffness>=1||p.length===0,I=A?p.stiffness*u:p.stiffness*u*u,B=p.damping*u,M=c.mult(E,k*I),O=(v?v.inverseMass:0)+(y?y.inverseMass:0),P=(v?v.inverseInertia:0)+(y?y.inverseInertia:0),L=O+P,_,G,$,W,Y;if(B>0){var z=c.create();$=c.div(E,T),Y=c.sub(y&&c.sub(y.position,y.positionPrev)||z,v&&c.sub(v.position,v.positionPrev)||z),W=c.dot($,Y)}v&&!v.isStatic&&(G=v.inverseMass/O,v.constraintImpulse.x-=M.x*G,v.constraintImpulse.y-=M.y*G,v.position.x-=M.x*G,v.position.y-=M.y*G,B>0&&(v.positionPrev.x-=B*$.x*W*G,v.positionPrev.y-=B*$.y*W*G),_=c.cross(x,M)/L*o._torqueDampen*v.inverseInertia*(1-p.angularStiffness),v.constraintImpulse.angle-=_,v.angle-=_),y&&!y.isStatic&&(G=y.inverseMass/O,y.constraintImpulse.x+=M.x*G,y.constraintImpulse.y+=M.y*G,y.position.x+=M.x*G,y.position.y+=M.y*G,B>0&&(y.positionPrev.x+=B*$.x*W*G,y.positionPrev.y+=B*$.y*W*G),_=c.cross(b,M)/L*o._torqueDampen*y.inverseInertia*(1-p.angularStiffness),y.constraintImpulse.angle+=_,y.angle+=_)}}},o.postSolveAll=function(p){for(var u=0;u<p.length;u++){var v=p[u],y=v.constraintImpulse;if(!(v.isStatic||y.x===0&&y.y===0&&y.angle===0)){l.set(v,!1);for(var x=0;x<v.parts.length;x++){var b=v.parts[x];m.translate(b.vertices,y),x>0&&(b.position.x+=y.x,b.position.y+=y.y),y.angle!==0&&(m.rotate(b.vertices,y.angle,v.position),a.rotate(b.axes,y.angle),x>0&&c.rotateAbout(b.position,y.angle,v.position,b.position)),h.update(b.bounds,b.vertices,v.velocity)}y.angle*=o._warming,y.x*=o._warming,y.y*=o._warming}}},o.pointAWorld=function(p){return{x:(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),y:(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)}},o.pointBWorld=function(p){return{x:(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),y:(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0)}},o.currentLength=function(p){var u=(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),v=(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0),y=(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),x=(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0),b=u-y,w=v-x;return Math.sqrt(b*b+w*w)}})()},53402:(s,g,i)=>{var o={};s.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(c,l){var h,a;typeof l=="boolean"?(h=2,a=l):(h=1,a=!0);for(var f=h;f<arguments.length;f++){var p=arguments[f];if(p)for(var u in p)a&&p[u]&&p[u].constructor===Object&&(!c[u]||c[u].constructor===Object)?(c[u]=c[u]||{},o.extend(c[u],a,p[u])):c[u]=p[u]}return c},o.clone=function(c,l){return o.extend({},l,c)},o.keys=function(c){if(Object.keys)return Object.keys(c);var l=[];for(var h in c)l.push(h);return l},o.values=function(c){var l=[];if(Object.keys){for(var h=Object.keys(c),a=0;a<h.length;a++)l.push(c[h[a]]);return l}for(var f in c)l.push(c[f]);return l},o.get=function(c,l,h,a){l=l.split(".").slice(h,a);for(var f=0;f<l.length;f+=1)c=c[l[f]];return c},o.set=function(c,l,h,a,f){var p=l.split(".").slice(a,f);return o.get(c,l,0,-1)[p[p.length-1]]=h,h},o.shuffle=function(c){for(var l=c.length-1;l>0;l--){var h=Math.floor(o.random()*(l+1)),a=c[l];c[l]=c[h],c[h]=a}return c},o.choose=function(c){return c[Math.floor(o.random()*c.length)]},o.isElement=function(c){return typeof HTMLElement!="undefined"?c instanceof HTMLElement:!!(c&&c.nodeType&&c.nodeName)},o.isArray=function(c){return Object.prototype.toString.call(c)==="[object Array]"},o.isFunction=function(c){return typeof c=="function"},o.isPlainObject=function(c){return typeof c=="object"&&c.constructor===Object},o.isString=function(c){return toString.call(c)==="[object String]"},o.clamp=function(c,l,h){return c<l?l:c>h?h:c},o.sign=function(c){return c<0?-1:1},o.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(c,l){return c=typeof c!="undefined"?c:0,l=typeof l!="undefined"?l:1,c+m()*(l-c)};var m=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(c){return c=c.replace("#",""),c.length==3&&(c=c.charAt(0)+c.charAt(0)+c.charAt(1)+c.charAt(1)+c.charAt(2)+c.charAt(2)),parseInt(c,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var c=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[c]||(o.warn(c),o._warnedOnce[c]=!0)},o.deprecated=function(c,l,h){c[l]=o.chain(function(){o.warnOnce(" deprecated ",h)},c[l])},o.nextId=function(){return o._nextId++},o.indexOf=function(c,l){if(c.indexOf)return c.indexOf(l);for(var h=0;h<c.length;h++)if(c[h]===l)return h;return-1},o.map=function(c,l){if(c.map)return c.map(l);for(var h=[],a=0;a<c.length;a+=1)h.push(l(c[a]));return h},o.topologicalSort=function(c){var l=[],h=[],a=[];for(var f in c)!h[f]&&!a[f]&&o._topologicalSort(f,h,a,c,l);return l},o._topologicalSort=function(c,l,h,a,f){var p=a[c]||[];h[c]=!0;for(var u=0;u<p.length;u+=1){var v=p[u];h[v]||l[v]||o._topologicalSort(v,l,h,a,f)}h[c]=!1,l[c]=!0,f.push(c)},o.chain=function(){for(var c=[],l=0;l<arguments.length;l+=1){var h=arguments[l];h._chained?c.push.apply(c,h._chained):c.push(h)}var a=function(){for(var f,p=new Array(arguments.length),u=0,v=arguments.length;u<v;u++)p[u]=arguments[u];for(u=0;u<c.length;u+=1){var y=c[u].apply(f,p);typeof y!="undefined"&&(f=y)}return f};return a._chained=c,a},o.chainPathBefore=function(c,l,h){return o.set(c,l,o.chain(h,o.get(c,l)))},o.chainPathAfter=function(c,l,h){return o.set(c,l,o.chain(o.get(c,l),h))},o.setDecomp=function(c){o._decomp=c},o.getDecomp=function(){var c=o._decomp;try{!c&&typeof window!="undefined"&&(c=window.decomp),!c&&typeof i.g!="undefined"&&(c=i.g.decomp)}catch(l){c=null}return c}}()},48413:(s,g,i)=>{var o={};s.exports=o;var m=i(53614),c=i(66272),l=i(81388),h=i(99561),a=i(35810),f=i(69351),p=i(48140),u=i(53402),v=i(22562);(function(){o.create=function(y){y=y||{};var x={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},b=u.extend(x,y);return b.world=y.world||f.create({label:"World"}),b.pairs=y.pairs||h.create(),b.detector=y.detector||l.create(),b.grid={buckets:[]},b.world.gravity=b.gravity,b.broadphase=b.grid,b.metrics={},b},o.update=function(y,x){var b=u.now(),w=y.world,C=y.detector,E=y.pairs,T=y.timing,k=T.timestamp,A;x=typeof x!="undefined"?x:u._baseDelta,x*=T.timeScale,T.timestamp+=x,T.lastDelta=x;var I={timestamp:T.timestamp,delta:x};a.trigger(y,"beforeUpdate",I);var B=f.allBodies(w),M=f.allConstraints(w);for(w.isModified&&(l.setBodies(C,B),f.setModified(w,!1,!1,!0)),y.enableSleeping&&m.update(B,x),o._bodiesApplyGravity(B,y.gravity),x>0&&o._bodiesUpdate(B,x),a.trigger(y,"beforeSolve",I),p.preSolveAll(B),A=0;A<y.constraintIterations;A++)p.solveAll(M,x);p.postSolveAll(B),C.pairs=y.pairs;var O=l.collisions(C);h.update(E,O,k),y.enableSleeping&&m.afterCollisions(E.list),E.collisionStart.length>0&&a.trigger(y,"collisionStart",{pairs:E.collisionStart,timestamp:T.timestamp,delta:x});var P=u.clamp(20/y.positionIterations,0,1);for(c.preSolvePosition(E.list),A=0;A<y.positionIterations;A++)c.solvePosition(E.list,x,P);for(c.postSolvePosition(B),p.preSolveAll(B),A=0;A<y.constraintIterations;A++)p.solveAll(M,x);for(p.postSolveAll(B),c.preSolveVelocity(E.list),A=0;A<y.velocityIterations;A++)c.solveVelocity(E.list,x);return o._bodiesUpdateVelocities(B),E.collisionActive.length>0&&a.trigger(y,"collisionActive",{pairs:E.collisionActive,timestamp:T.timestamp,delta:x}),E.collisionEnd.length>0&&a.trigger(y,"collisionEnd",{pairs:E.collisionEnd,timestamp:T.timestamp,delta:x}),o._bodiesClearForces(B),a.trigger(y,"afterUpdate",I),y.timing.lastElapsed=u.now()-b,y},o.merge=function(y,x){if(u.extend(y,x),x.world){y.world=x.world,o.clear(y);for(var b=f.allBodies(y.world),w=0;w<b.length;w++){var C=b[w];m.set(C,!1),C.id=u.nextId()}}},o.clear=function(y){h.clear(y.pairs),l.clear(y.detector)},o._bodiesClearForces=function(y){for(var x=y.length,b=0;b<x;b++){var w=y[b];w.force.x=0,w.force.y=0,w.torque=0}},o._bodiesApplyGravity=function(y,x){var b=typeof x.scale!="undefined"?x.scale:.001,w=y.length;if(!(x.x===0&&x.y===0||b===0))for(var C=0;C<w;C++){var E=y[C];E.ignoreGravity||E.isStatic||E.isSleeping||(E.force.y+=E.mass*x.y*b,E.force.x+=E.mass*x.x*b)}},o._bodiesUpdate=function(y,x){for(var b=y.length,w=0;w<b;w++){var C=y[w];C.isStatic||C.isSleeping||v.update(C,x)}},o._bodiesUpdateVelocities=function(y){for(var x=y.length,b=0;b<x;b++)v.updateVelocities(y[b])}})()},35810:(s,g,i)=>{var o={};s.exports=o;var m=i(53402);(function(){o.on=function(c,l,h){for(var a=l.split(" "),f,p=0;p<a.length;p++)f=a[p],c.events=c.events||{},c.events[f]=c.events[f]||[],c.events[f].push(h);return h},o.off=function(c,l,h){if(!l){c.events={};return}typeof l=="function"&&(h=l,l=m.keys(c.events).join(" "));for(var a=l.split(" "),f=0;f<a.length;f++){var p=c.events[a[f]],u=[];if(h&&p)for(var v=0;v<p.length;v++)p[v]!==h&&u.push(p[v]);c.events[a[f]]=u}},o.trigger=function(c,l,h){var a,f,p,u,v=c.events;if(v&&m.keys(v).length>0){h||(h={}),a=l.split(" ");for(var y=0;y<a.length;y++)if(f=a[y],p=v[f],p){u=m.clone(h,!1),u.name=f,u.source=c;for(var x=0;x<p.length;x++)p[x].apply(c,[u])}}}})()},6790:(s,g,i)=>{var o={};s.exports=o;var m=i(73832),c=i(53402);(function(){o.name="matter-js",o.version="0.19.0",o.uses=[],o.used=[],o.use=function(){m.use(o,Array.prototype.slice.call(arguments))},o.before=function(l,h){return l=l.replace(/^Matter./,""),c.chainPathBefore(o,l,h)},o.after=function(l,h){return l=l.replace(/^Matter./,""),c.chainPathAfter(o,l,h)}})()},73832:(s,g,i)=>{var o={};s.exports=o;var m=i(53402);(function(){o._registry={},o.register=function(c){if(o.isPlugin(c)||m.warn("Plugin.register:",o.toString(c),"does not implement all required fields."),c.name in o._registry){var l=o._registry[c.name],h=o.versionParse(c.version).number,a=o.versionParse(l.version).number;h>a?(m.warn("Plugin.register:",o.toString(l),"was upgraded to",o.toString(c)),o._registry[c.name]=c):h<a?m.warn("Plugin.register:",o.toString(l),"can not be downgraded to",o.toString(c)):c!==l&&m.warn("Plugin.register:",o.toString(c),"is already registered to different plugin object")}else o._registry[c.name]=c;return c},o.resolve=function(c){return o._registry[o.dependencyParse(c).name]},o.toString=function(c){return typeof c=="string"?c:(c.name||"anonymous")+"@"+(c.version||c.range||"0.0.0")},o.isPlugin=function(c){return c&&c.name&&c.version&&c.install},o.isUsed=function(c,l){return c.used.indexOf(l)>-1},o.isFor=function(c,l){var h=c.for&&o.dependencyParse(c.for);return!c.for||l.name===h.name&&o.versionSatisfies(l.version,h.range)},o.use=function(c,l){if(c.uses=(c.uses||[]).concat(l||[]),c.uses.length===0){m.warn("Plugin.use:",o.toString(c),"does not specify any dependencies to install.");return}for(var h=o.dependencies(c),a=m.topologicalSort(h),f=[],p=0;p<a.length;p+=1)if(a[p]!==c.name){var u=o.resolve(a[p]);if(!u){f.push(" "+a[p]);continue}o.isUsed(c,u.name)||(o.isFor(u,c)||(m.warn("Plugin.use:",o.toString(u),"is for",u.for,"but installed on",o.toString(c)+"."),u._warned=!0),u.install?u.install(c):(m.warn("Plugin.use:",o.toString(u),"does not specify an install function."),u._warned=!0),u._warned?(f.push(" "+o.toString(u)),delete u._warned):f.push(" "+o.toString(u)),c.used.push(u.name))}f.length>0&&!u.silent&&m.info(f.join("  "))},o.dependencies=function(c,l){var h=o.dependencyParse(c),a=h.name;if(l=l||{},!(a in l)){c=o.resolve(c)||c,l[a]=m.map(c.uses||[],function(p){o.isPlugin(p)&&o.register(p);var u=o.dependencyParse(p),v=o.resolve(p);return v&&!o.versionSatisfies(v.version,u.range)?(m.warn("Plugin.dependencies:",o.toString(v),"does not satisfy",o.toString(u),"used by",o.toString(h)+"."),v._warned=!0,c._warned=!0):v||(m.warn("Plugin.dependencies:",o.toString(p),"used by",o.toString(h),"could not be resolved."),c._warned=!0),u.name});for(var f=0;f<l[a].length;f+=1)o.dependencies(l[a][f],l);return l}},o.dependencyParse=function(c){if(m.isString(c)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(c)||m.warn("Plugin.dependencyParse:",c,"is not a valid dependency string."),{name:c.split("@")[0],range:c.split("@")[1]||"*"}}return{name:c.name,range:c.range||c.version}},o.versionParse=function(c){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(c)||m.warn("Plugin.versionParse:",c,"is not a valid version or range.");var h=l.exec(c),a=Number(h[4]),f=Number(h[5]),p=Number(h[6]);return{isRange:!!(h[1]||h[2]),version:h[3],range:c,operator:h[1]||h[2]||"",major:a,minor:f,patch:p,parts:[a,f,p],prerelease:h[7],number:a*1e8+f*1e4+p}},o.versionSatisfies=function(c,l){l=l||"*";var h=o.versionParse(l),a=o.versionParse(c);if(h.isRange){if(h.operator==="*"||c==="*")return!0;if(h.operator===">")return a.number>h.number;if(h.operator===">=")return a.number>=h.number;if(h.operator==="~")return a.major===h.major&&a.minor===h.minor&&a.patch>=h.patch;if(h.operator==="^")return h.major>0?a.major===h.major&&a.number>=h.number:h.minor>0?a.minor===h.minor&&a.patch>=h.patch:a.patch===h.patch}return c===l||c==="*"}})()},53614:(s,g,i)=>{var o={};s.exports=o;var m=i(22562),c=i(35810),l=i(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(h,a){for(var f=a/l._baseDelta,p=o._motionSleepThreshold,u=0;u<h.length;u++){var v=h[u],y=m.getSpeed(v),x=m.getAngularSpeed(v),b=y*y+x*x;if(v.force.x!==0||v.force.y!==0){o.set(v,!1);continue}var w=Math.min(v.motion,b),C=Math.max(v.motion,b);v.motion=o._minBias*w+(1-o._minBias)*C,v.sleepThreshold>0&&v.motion<p?(v.sleepCounter+=1,v.sleepCounter>=v.sleepThreshold/f&&o.set(v,!0)):v.sleepCounter>0&&(v.sleepCounter-=1)}},o.afterCollisions=function(h){for(var a=o._motionSleepThreshold,f=0;f<h.length;f++){var p=h[f];if(p.isActive){var u=p.collision,v=u.bodyA.parent,y=u.bodyB.parent;if(!(v.isSleeping&&y.isSleeping||v.isStatic||y.isStatic)&&(v.isSleeping||y.isSleeping)){var x=v.isSleeping&&!v.isStatic?v:y,b=x===v?y:v;!x.isStatic&&b.motion>a&&o.set(x,!1)}}}},o.set=function(h,a){var f=h.isSleeping;a?(h.isSleeping=!0,h.sleepCounter=h.sleepThreshold,h.positionImpulse.x=0,h.positionImpulse.y=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.speed=0,h.angularSpeed=0,h.motion=0,f||c.trigger(h,"sleepStart")):(h.isSleeping=!1,h.sleepCounter=0,f&&c.trigger(h,"sleepEnd"))}})()},66280:(s,g,i)=>{var o={};s.exports=o;var m=i(41598),c=i(53402),l=i(22562),h=i(15647),a=i(31725);(function(){o.rectangle=function(f,p,u,v,y){y=y||{};var x={label:"Rectangle Body",position:{x:f,y:p},vertices:m.fromPath("L 0 0 L "+u+" 0 L "+u+" "+v+" L 0 "+v)};if(y.chamfer){var b=y.chamfer;x.vertices=m.chamfer(x.vertices,b.radius,b.quality,b.qualityMin,b.qualityMax),delete y.chamfer}return l.create(c.extend({},x,y))},o.trapezoid=function(f,p,u,v,y,x){x=x||{},y*=.5;var b=(1-y*2)*u,w=u*y,C=w+b,E=C+w,T;y<.5?T="L 0 0 L "+w+" "+-v+" L "+C+" "+-v+" L "+E+" 0":T="L 0 0 L "+C+" "+-v+" L "+E+" 0";var k={label:"Trapezoid Body",position:{x:f,y:p},vertices:m.fromPath(T)};if(x.chamfer){var A=x.chamfer;k.vertices=m.chamfer(k.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete x.chamfer}return l.create(c.extend({},k,x))},o.circle=function(f,p,u,v,y){v=v||{};var x={label:"Circle Body",circleRadius:u};y=y||25;var b=Math.ceil(Math.max(10,Math.min(y,u)));return b%2===1&&(b+=1),o.polygon(f,p,b,u,c.extend({},x,v))},o.polygon=function(f,p,u,v,y){if(y=y||{},u<3)return o.circle(f,p,v,y);for(var x=2*Math.PI/u,b="",w=x*.5,C=0;C<u;C+=1){var E=w+C*x,T=Math.cos(E)*v,k=Math.sin(E)*v;b+="L "+T.toFixed(3)+" "+k.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:f,y:p},vertices:m.fromPath(b)};if(y.chamfer){var I=y.chamfer;A.vertices=m.chamfer(A.vertices,I.radius,I.quality,I.qualityMin,I.qualityMax),delete y.chamfer}return l.create(c.extend({},A,y))},o.fromVertices=function(f,p,u,v,y,x,b,w){var C=c.getDecomp(),E,T,k,A,I,B,M,O,P,L,_;for(E=!!(C&&C.quickDecomp),v=v||{},k=[],y=typeof y!="undefined"?y:!1,x=typeof x!="undefined"?x:.01,b=typeof b!="undefined"?b:10,w=typeof w!="undefined"?w:.01,c.isArray(u[0])||(u=[u]),L=0;L<u.length;L+=1)if(B=u[L],A=m.isConvex(B),I=!A,I&&!E&&c.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!E)A?B=m.clockwiseSort(B):B=m.hull(B),k.push({position:{x:f,y:p},vertices:B});else{var G=B.map(function(ot){return[ot.x,ot.y]});C.makeCCW(G),x!==!1&&C.removeCollinearPoints(G,x),w!==!1&&C.removeDuplicatePoints&&C.removeDuplicatePoints(G,w);var $=C.quickDecomp(G);for(M=0;M<$.length;M++){var W=$[M],Y=W.map(function(ot){return{x:ot[0],y:ot[1]}});b>0&&m.area(Y)<b||k.push({position:m.centre(Y),vertices:Y})}}for(M=0;M<k.length;M++)k[M]=l.create(c.extend(k[M],v));if(y){var z=5;for(M=0;M<k.length;M++){var F=k[M];for(O=M+1;O<k.length;O++){var N=k[O];if(h.overlaps(F.bounds,N.bounds)){var j=F.vertices,U=N.vertices;for(P=0;P<F.vertices.length;P++)for(_=0;_<N.vertices.length;_++){var V=a.magnitudeSquared(a.sub(j[(P+1)%j.length],U[_])),q=a.magnitudeSquared(a.sub(j[P],U[(_+1)%U.length]));V<z&&q<z&&(j[P].isInternal=!0,U[_].isInternal=!0)}}}}}return k.length>1?(T=l.create(c.extend({parts:k.slice(0)},v)),l.setPosition(T,{x:f,y:p}),T):k[0]},o.flagCoincidentParts=function(f,p){p===void 0&&(p=5);for(var u=0;u<f.length;u++)for(var v=f[u],y=u+1;y<f.length;y++){var x=f[y];if(h.overlaps(v.bounds,x.bounds))for(var b=v.vertices,w=x.vertices,C=0;C<v.vertices.length;C++)for(var E=0;E<x.vertices.length;E++){var T=a.magnitudeSquared(a.sub(b[(C+1)%b.length],w[E])),k=a.magnitudeSquared(a.sub(b[C],w[(E+1)%w.length]));T<p&&k<p&&(b[C].isInternal=!0,w[E].isInternal=!0)}}return f}})()},74116:(s,g,i)=>{var o={};s.exports=o;var m=i(69351),c=i(48140),l=i(53402),h=i(22562),a=i(66280);(function(){o.stack=function(f,p,u,v,y,x,b){for(var w=m.create({label:"Stack"}),C=f,E=p,T,k=0,A=0;A<v;A++){for(var I=0,B=0;B<u;B++){var M=b(C,E,B,A,T,k);if(M){var O=M.bounds.max.y-M.bounds.min.y,P=M.bounds.max.x-M.bounds.min.x;O>I&&(I=O),h.translate(M,{x:P*.5,y:O*.5}),C=M.bounds.max.x+y,m.addBody(w,M),T=M,k+=1}else C+=y}E+=I+x,C=f}return w},o.chain=function(f,p,u,v,y,x){for(var b=f.bodies,w=1;w<b.length;w++){var C=b[w-1],E=b[w],T=C.bounds.max.y-C.bounds.min.y,k=C.bounds.max.x-C.bounds.min.x,A=E.bounds.max.y-E.bounds.min.y,I=E.bounds.max.x-E.bounds.min.x,B={bodyA:C,pointA:{x:k*p,y:T*u},bodyB:E,pointB:{x:I*v,y:A*y}},M=l.extend(B,x);m.addConstraint(f,c.create(M))}return f.label+=" Chain",f},o.mesh=function(f,p,u,v,y){var x=f.bodies,b,w,C,E,T;for(b=0;b<u;b++){for(w=1;w<p;w++)C=x[w-1+b*p],E=x[w+b*p],m.addConstraint(f,c.create(l.extend({bodyA:C,bodyB:E},y)));if(b>0)for(w=0;w<p;w++)C=x[w+(b-1)*p],E=x[w+b*p],m.addConstraint(f,c.create(l.extend({bodyA:C,bodyB:E},y))),v&&w>0&&(T=x[w-1+(b-1)*p],m.addConstraint(f,c.create(l.extend({bodyA:T,bodyB:E},y)))),v&&w<p-1&&(T=x[w+1+(b-1)*p],m.addConstraint(f,c.create(l.extend({bodyA:T,bodyB:E},y))))}return f.label+=" Mesh",f},o.pyramid=function(f,p,u,v,y,x,b){return o.stack(f,p,u,v,y,x,function(w,C,E,T,k,A){var I=Math.min(v,Math.ceil(u/2)),B=k?k.bounds.max.x-k.bounds.min.x:0;if(!(T>I)){T=I-T;var M=T,O=u-1-T;if(!(E<M||E>O)){A===1&&h.translate(k,{x:(E+(u%2===1?1:-1))*B,y:0});var P=k?E*B:0;return b(f+P+E*y,C,E,T,k,A)}}})},o.newtonsCradle=function(f,p,u,v,y){for(var x=m.create({label:"Newtons Cradle"}),b=0;b<u;b++){var w=1.9,C=a.circle(f+b*(v*w),p+y,v,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),E=c.create({pointA:{x:f+b*(v*w),y:p},bodyB:C});m.addBody(x,C),m.addConstraint(x,E)}return x},o.car=function(f,p,u,v,y){var x=h.nextGroup(!0),b=20,w=-u*.5+b,C=u*.5-b,E=0,T=m.create({label:"Car"}),k=a.rectangle(f,p,u,v,{collisionFilter:{group:x},chamfer:{radius:v*.5},density:2e-4}),A=a.circle(f+w,p+E,y,{collisionFilter:{group:x},friction:.8}),I=a.circle(f+C,p+E,y,{collisionFilter:{group:x},friction:.8}),B=c.create({bodyB:k,pointB:{x:w,y:E},bodyA:A,stiffness:1,length:0}),M=c.create({bodyB:k,pointB:{x:C,y:E},bodyA:I,stiffness:1,length:0});return m.addBody(T,k),m.addBody(T,A),m.addBody(T,I),m.addConstraint(T,B),m.addConstraint(T,M),T},o.softBody=function(f,p,u,v,y,x,b,w,C,E){C=l.extend({inertia:1/0},C),E=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},E);var T=o.stack(f,p,u,v,y,x,function(k,A){return a.circle(k,A,w,C)});return o.mesh(T,u,v,b,E),T.label="Soft Body",T}})()},66615:(s,g,i)=>{var o={};s.exports=o;var m=i(31725),c=i(53402);(function(){o.fromVertices=function(l){for(var h={},a=0;a<l.length;a++){var f=(a+1)%l.length,p=m.normalise({x:l[f].y-l[a].y,y:l[a].x-l[f].x}),u=p.y===0?1/0:p.x/p.y;u=u.toFixed(3).toString(),h[u]=p}return c.values(h)},o.rotate=function(l,h){if(h!==0)for(var a=Math.cos(h),f=Math.sin(h),p=0;p<l.length;p++){var u=l[p],v;v=u.x*a-u.y*f,u.y=u.x*f+u.y*a,u.x=v}}})()},15647:s=>{var g={};s.exports=g,function(){g.create=function(i){var o={min:{x:0,y:0},max:{x:0,y:0}};return i&&g.update(o,i),o},g.update=function(i,o,m){i.min.x=1/0,i.max.x=-1/0,i.min.y=1/0,i.max.y=-1/0;for(var c=0;c<o.length;c++){var l=o[c];l.x>i.max.x&&(i.max.x=l.x),l.x<i.min.x&&(i.min.x=l.x),l.y>i.max.y&&(i.max.y=l.y),l.y<i.min.y&&(i.min.y=l.y)}m&&(m.x>0?i.max.x+=m.x:i.min.x+=m.x,m.y>0?i.max.y+=m.y:i.min.y+=m.y)},g.contains=function(i,o){return o.x>=i.min.x&&o.x<=i.max.x&&o.y>=i.min.y&&o.y<=i.max.y},g.overlaps=function(i,o){return i.min.x<=o.max.x&&i.max.x>=o.min.x&&i.max.y>=o.min.y&&i.min.y<=o.max.y},g.translate=function(i,o){i.min.x+=o.x,i.max.x+=o.x,i.min.y+=o.y,i.max.y+=o.y},g.shift=function(i,o){var m=i.max.x-i.min.x,c=i.max.y-i.min.y;i.min.x=o.x,i.max.x=o.x+m,i.min.y=o.y,i.max.y=o.y+c}}()},74058:(s,g,i)=>{var o={};s.exports=o,i(15647);var m=i(53402);(function(){o.pathToVertices=function(c,l){typeof window!="undefined"&&!("SVGPathSeg"in window)&&m.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,a,f,p,u,v,y,x,b,w,C=[],E,T,k=0,A=0,I=0;l=l||15;var B=function(O,P,L){var _=L%2===1&&L>1;if(!b||O!=b.x||P!=b.y){b&&_?(E=b.x,T=b.y):(E=0,T=0);var G={x:E+O,y:T+P};(_||!b)&&(b=G),C.push(G),A=E+O,I=T+P}},M=function(O){var P=O.pathSegTypeAsLetter.toUpperCase();if(P!=="Z"){switch(P){case"M":case"L":case"T":case"C":case"S":case"Q":A=O.x,I=O.y;break;case"H":A=O.x;break;case"V":I=O.y;break}B(A,I,O.pathSegType)}};for(o._svgPathToAbsolute(c),f=c.getTotalLength(),v=[],h=0;h<c.pathSegList.numberOfItems;h+=1)v.push(c.pathSegList.getItem(h));for(y=v.concat();k<f;){if(w=c.getPathSegAtLength(k),u=v[w],u!=x){for(;y.length&&y[0]!=u;)M(y.shift());x=u}switch(u.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":p=c.getPointAtLength(k),B(p.x,p.y,0);break}k+=l}for(h=0,a=y.length;h<a;++h)M(y[h]);return C},o._svgPathToAbsolute=function(c){for(var l,h,a,f,p,u,v=c.pathSegList,y=0,x=0,b=v.numberOfItems,w=0;w<b;++w){var C=v.getItem(w),E=C.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in C&&(y=C.x),"y"in C&&(x=C.y);else switch("x1"in C&&(a=y+C.x1),"x2"in C&&(p=y+C.x2),"y1"in C&&(f=x+C.y1),"y2"in C&&(u=x+C.y2),"x"in C&&(y+=C.x),"y"in C&&(x+=C.y),E){case"m":v.replaceItem(c.createSVGPathSegMovetoAbs(y,x),w);break;case"l":v.replaceItem(c.createSVGPathSegLinetoAbs(y,x),w);break;case"h":v.replaceItem(c.createSVGPathSegLinetoHorizontalAbs(y),w);break;case"v":v.replaceItem(c.createSVGPathSegLinetoVerticalAbs(x),w);break;case"c":v.replaceItem(c.createSVGPathSegCurvetoCubicAbs(y,x,a,f,p,u),w);break;case"s":v.replaceItem(c.createSVGPathSegCurvetoCubicSmoothAbs(y,x,p,u),w);break;case"q":v.replaceItem(c.createSVGPathSegCurvetoQuadraticAbs(y,x,a,f),w);break;case"t":v.replaceItem(c.createSVGPathSegCurvetoQuadraticSmoothAbs(y,x),w);break;case"a":v.replaceItem(c.createSVGPathSegArcAbs(y,x,C.r1,C.r2,C.angle,C.largeArcFlag,C.sweepFlag),w);break;case"z":case"Z":y=l,x=h;break}(E=="M"||E=="m")&&(l=y,h=x)}}})()},31725:s=>{var g={};s.exports=g,function(){g.create=function(i,o){return{x:i||0,y:o||0}},g.clone=function(i){return{x:i.x,y:i.y}},g.magnitude=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},g.magnitudeSquared=function(i){return i.x*i.x+i.y*i.y},g.rotate=function(i,o,m){var c=Math.cos(o),l=Math.sin(o);m||(m={});var h=i.x*c-i.y*l;return m.y=i.x*l+i.y*c,m.x=h,m},g.rotateAbout=function(i,o,m,c){var l=Math.cos(o),h=Math.sin(o);c||(c={});var a=m.x+((i.x-m.x)*l-(i.y-m.y)*h);return c.y=m.y+((i.x-m.x)*h+(i.y-m.y)*l),c.x=a,c},g.normalise=function(i){var o=g.magnitude(i);return o===0?{x:0,y:0}:{x:i.x/o,y:i.y/o}},g.dot=function(i,o){return i.x*o.x+i.y*o.y},g.cross=function(i,o){return i.x*o.y-i.y*o.x},g.cross3=function(i,o,m){return(o.x-i.x)*(m.y-i.y)-(o.y-i.y)*(m.x-i.x)},g.add=function(i,o,m){return m||(m={}),m.x=i.x+o.x,m.y=i.y+o.y,m},g.sub=function(i,o,m){return m||(m={}),m.x=i.x-o.x,m.y=i.y-o.y,m},g.mult=function(i,o){return{x:i.x*o,y:i.y*o}},g.div=function(i,o){return{x:i.x/o,y:i.y/o}},g.perp=function(i,o){return o=o===!0?-1:1,{x:o*-i.y,y:o*i.x}},g.neg=function(i){return{x:-i.x,y:-i.y}},g.angle=function(i,o){return Math.atan2(o.y-i.y,o.x-i.x)},g._temp=[g.create(),g.create(),g.create(),g.create(),g.create(),g.create()]}()},41598:(s,g,i)=>{var o={};s.exports=o;var m=i(31725),c=i(53402);(function(){o.create=function(l,h){for(var a=[],f=0;f<l.length;f++){var p=l[f],u={x:p.x,y:p.y,index:f,body:h,isInternal:!1};a.push(u)}return a},o.fromPath=function(l,h){var a=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return l.replace(a,function(p,u,v){f.push({x:parseFloat(u),y:parseFloat(v)})}),o.create(f,h)},o.centre=function(l){for(var h=o.area(l,!0),a={x:0,y:0},f,p,u,v=0;v<l.length;v++)u=(v+1)%l.length,f=m.cross(l[v],l[u]),p=m.mult(m.add(l[v],l[u]),f),a=m.add(a,p);return m.div(a,6*h)},o.mean=function(l){for(var h={x:0,y:0},a=0;a<l.length;a++)h.x+=l[a].x,h.y+=l[a].y;return m.div(h,l.length)},o.area=function(l,h){for(var a=0,f=l.length-1,p=0;p<l.length;p++)a+=(l[f].x-l[p].x)*(l[f].y+l[p].y),f=p;return h?a/2:Math.abs(a)/2},o.inertia=function(l,h){for(var a=0,f=0,p=l,u,v,y=0;y<p.length;y++)v=(y+1)%p.length,u=Math.abs(m.cross(p[v],p[y])),a+=u*(m.dot(p[v],p[v])+m.dot(p[v],p[y])+m.dot(p[y],p[y])),f+=u;return h/6*(a/f)},o.translate=function(l,h,a){a=typeof a!="undefined"?a:1;var f=l.length,p=h.x*a,u=h.y*a,v;for(v=0;v<f;v++)l[v].x+=p,l[v].y+=u;return l},o.rotate=function(l,h,a){if(h!==0){var f=Math.cos(h),p=Math.sin(h),u=a.x,v=a.y,y=l.length,x,b,w,C;for(C=0;C<y;C++)x=l[C],b=x.x-u,w=x.y-v,x.x=u+(b*f-w*p),x.y=v+(b*p+w*f);return l}},o.contains=function(l,h){for(var a=h.x,f=h.y,p=l.length,u=l[p-1],v,y=0;y<p;y++){if(v=l[y],(a-u.x)*(v.y-u.y)+(f-u.y)*(u.x-v.x)>0)return!1;u=v}return!0},o.scale=function(l,h,a,f){if(h===1&&a===1)return l;f=f||o.centre(l);for(var p,u,v=0;v<l.length;v++)p=l[v],u=m.sub(p,f),l[v].x=f.x+u.x*h,l[v].y=f.y+u.y*a;return l},o.chamfer=function(l,h,a,f,p){typeof h=="number"?h=[h]:h=h||[8],a=typeof a!="undefined"?a:-1,f=f||2,p=p||14;for(var u=[],v=0;v<l.length;v++){var y=l[v-1>=0?v-1:l.length-1],x=l[v],b=l[(v+1)%l.length],w=h[v<h.length?v:h.length-1];if(w===0){u.push(x);continue}var C=m.normalise({x:x.y-y.y,y:y.x-x.x}),E=m.normalise({x:b.y-x.y,y:x.x-b.x}),T=Math.sqrt(2*Math.pow(w,2)),k=m.mult(c.clone(C),w),A=m.normalise(m.mult(m.add(C,E),.5)),I=m.sub(x,m.mult(A,T)),B=a;a===-1&&(B=Math.pow(w,.32)*1.75),B=c.clamp(B,f,p),B%2===1&&(B+=1);for(var M=Math.acos(m.dot(C,E)),O=M/B,P=0;P<B;P++)u.push(m.add(m.rotate(k,O*P),I))}return u},o.clockwiseSort=function(l){var h=o.mean(l);return l.sort(function(a,f){return m.angle(h,a)-m.angle(h,f)}),l},o.isConvex=function(l){var h=0,a=l.length,f,p,u,v;if(a<3)return null;for(f=0;f<a;f++)if(p=(f+1)%a,u=(f+2)%a,v=(l[p].x-l[f].x)*(l[u].y-l[p].y),v-=(l[p].y-l[f].y)*(l[u].x-l[p].x),v<0?h|=1:v>0&&(h|=2),h===3)return!1;return h!==0?!0:null},o.hull=function(l){var h=[],a=[],f,p;for(l=l.slice(0),l.sort(function(u,v){var y=u.x-v.x;return y!==0?y:u.y-v.y}),p=0;p<l.length;p+=1){for(f=l[p];a.length>=2&&m.cross3(a[a.length-2],a[a.length-1],f)<=0;)a.pop();a.push(f)}for(p=l.length-1;p>=0;p-=1){for(f=l[p];h.length>=2&&m.cross3(h[h.length-2],h[h.length-1],f)<=0;)h.pop();h.push(f)}return h.pop(),a.pop(),h.concat(a)}})()},18210:(s,g,i)=>{var o=i(19933),m={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(c){c.after("Body.create",function(){m.Body.init(this)}),c.before("Engine.update",function(l){m.Engine.update(l)})},Body:{init:function(c){c.plugin.attractors=c.plugin.attractors||[]}},Engine:{update:function(c){for(var l=o.Composite.allBodies(c.world),h=0;h<l.length;h++){var a=l[h],f=a.plugin.attractors;if(f&&f.length>0)for(var p=0;p<l.length;p++){var u=l[p];if(h!==p)for(var v=0;v<f.length;v++){var y=f[v],x=y;o.Common.isFunction(y)&&(x=y(a,u)),x&&o.Body.applyForce(u,u.position,x)}}}}},Attractors:{gravityConstant:.001,gravity:function(c,l){var h=o.Vector.sub(l.position,c.position),a=o.Vector.magnitudeSquared(h)||1e-4,f=o.Vector.normalise(h),p=-m.Attractors.gravityConstant*(c.mass*l.mass/a),u=o.Vector.mult(f,p);o.Body.applyForce(c,c.position,o.Vector.neg(u)),o.Body.applyForce(l,l.position,u)}}};s.exports=m},40178:s=>{var g={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(i){i.after("Engine.create",function(){i.Events.on(this,"collisionStart",function(o){o.pairs.map(function(m){var c=m.bodyA,l=m.bodyB;c.gameObject&&c.gameObject.emit("collide",c,l,m),l.gameObject&&l.gameObject.emit("collide",l,c,m),i.Events.trigger(c,"onCollide",{pair:m}),i.Events.trigger(l,"onCollide",{pair:m}),c.onCollideCallback&&c.onCollideCallback(m),l.onCollideCallback&&l.onCollideCallback(m),c.onCollideWith[l.id]&&c.onCollideWith[l.id](l,m),l.onCollideWith[c.id]&&l.onCollideWith[c.id](c,m)})}),i.Events.on(this,"collisionActive",function(o){o.pairs.map(function(m){var c=m.bodyA,l=m.bodyB;c.gameObject&&c.gameObject.emit("collideActive",c,l,m),l.gameObject&&l.gameObject.emit("collideActive",l,c,m),i.Events.trigger(c,"onCollideActive",{pair:m}),i.Events.trigger(l,"onCollideActive",{pair:m}),c.onCollideActiveCallback&&c.onCollideActiveCallback(m),l.onCollideActiveCallback&&l.onCollideActiveCallback(m)})}),i.Events.on(this,"collisionEnd",function(o){o.pairs.map(function(m){var c=m.bodyA,l=m.bodyB;c.gameObject&&c.gameObject.emit("collideEnd",c,l,m),l.gameObject&&l.gameObject.emit("collideEnd",l,c,m),i.Events.trigger(c,"onCollideEnd",{pair:m}),i.Events.trigger(l,"onCollideEnd",{pair:m}),c.onCollideEndCallback&&c.onCollideEndCallback(m),l.onCollideEndCallback&&l.onCollideEndCallback(m)})})})}};s.exports=g},74507:(s,g,i)=>{var o=i(19933),m={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(c){c.after("Engine.update",function(){m.Engine.update(this)})},Engine:{update:function(c){for(var l=c.world,h=o.Composite.allBodies(l),a=o.Composite.allComposites(l),f=0;f<h.length;f+=1){var p=h[f];p.plugin.wrap&&m.Body.wrap(p,p.plugin.wrap)}for(f=0;f<a.length;f+=1){var u=a[f];u.plugin.wrap&&m.Composite.wrap(u,u.plugin.wrap)}}},Bounds:{wrap:function(c,l){var h=null,a=null;if(typeof l.min.x!="undefined"&&typeof l.max.x!="undefined"&&(c.min.x>l.max.x?h=l.min.x-c.max.x:c.max.x<l.min.x&&(h=l.max.x-c.min.x)),typeof l.min.y!="undefined"&&typeof l.max.y!="undefined"&&(c.min.y>l.max.y?a=l.min.y-c.max.y:c.max.y<l.min.y&&(a=l.max.y-c.min.y)),h!==null||a!==null)return{x:h||0,y:a||0}}},Body:{wrap:function(c,l){var h=m.Bounds.wrap(c.bounds,l);return h&&o.Body.translate(c,h),h}},Composite:{bounds:function(c){for(var l=o.Composite.allBodies(c),h=[],a=0;a<l.length;a+=1){var f=l[a];h.push(f.bounds.min,f.bounds.max)}return o.Bounds.create(h)},wrap:function(c,l){var h=m.Bounds.wrap(m.Composite.bounds(c),l);return h&&o.Composite.translate(c,h),h}}};s.exports=m},55973:s=>{s.exports={decomp:M,quickDecomp:_,isSimple:P,removeCollinearPoints:G,removeDuplicatePoints:$,makeCCW:b};function g(z,F,N){N=N||0;var j=[0,0],U,V,q,ot,Q,rt,Bt;return U=z[1][1]-z[0][1],V=z[0][0]-z[1][0],q=U*z[0][0]+V*z[0][1],ot=F[1][1]-F[0][1],Q=F[0][0]-F[1][0],rt=ot*F[0][0]+Q*F[0][1],Bt=U*Q-ot*V,W(Bt,0,N)||(j[0]=(Q*q-V*rt)/Bt,j[1]=(U*rt-ot*q)/Bt),j}function i(z,F,N,j){var U=F[0]-z[0],V=F[1]-z[1],q=j[0]-N[0],ot=j[1]-N[1];if(q*V-ot*U===0)return!1;var Q=(U*(N[1]-z[1])+V*(z[0]-N[0]))/(q*V-ot*U),rt=(q*(z[1]-N[1])+ot*(N[0]-z[0]))/(ot*U-q*V);return Q>=0&&Q<=1&&rt>=0&&rt<=1}function o(z,F,N){return(F[0]-z[0])*(N[1]-z[1])-(N[0]-z[0])*(F[1]-z[1])}function m(z,F,N){return o(z,F,N)>0}function c(z,F,N){return o(z,F,N)>=0}function l(z,F,N){return o(z,F,N)<0}function h(z,F,N){return o(z,F,N)<=0}var a=[],f=[];function p(z,F,N,j){if(j){var U=a,V=f;U[0]=F[0]-z[0],U[1]=F[1]-z[1],V[0]=N[0]-F[0],V[1]=N[1]-F[1];var q=U[0]*V[0]+U[1]*V[1],ot=Math.sqrt(U[0]*U[0]+U[1]*U[1]),Q=Math.sqrt(V[0]*V[0]+V[1]*V[1]),rt=Math.acos(q/(ot*Q));return rt<j}else return o(z,F,N)===0}function u(z,F){var N=F[0]-z[0],j=F[1]-z[1];return N*N+j*j}function v(z,F){var N=z.length;return z[F<0?F%N+N:F%N]}function y(z){z.length=0}function x(z,F,N,j){for(var U=N;U<j;U++)z.push(F[U])}function b(z){for(var F=0,N=z,j=1;j<z.length;++j)(N[j][1]<N[F][1]||N[j][1]===N[F][1]&&N[j][0]>N[F][0])&&(F=j);return m(v(z,F-1),v(z,F),v(z,F+1))?!1:(w(z),!0)}function w(z){for(var F=[],N=z.length,j=0;j!==N;j++)F.push(z.pop());for(var j=0;j!==N;j++)z[j]=F[j]}function C(z,F){return l(v(z,F-1),v(z,F),v(z,F+1))}var E=[],T=[];function k(z,F,N){var j,U,V=E,q=T;if(c(v(z,F+1),v(z,F),v(z,N))&&h(v(z,F-1),v(z,F),v(z,N)))return!1;U=u(v(z,F),v(z,N));for(var ot=0;ot!==z.length;++ot)if(!((ot+1)%z.length===F||ot===F)&&c(v(z,F),v(z,N),v(z,ot+1))&&h(v(z,F),v(z,N),v(z,ot))&&(V[0]=v(z,F),V[1]=v(z,N),q[0]=v(z,ot),q[1]=v(z,ot+1),j=g(V,q),u(v(z,F),j)<U))return!1;return!0}function A(z,F,N){for(var j=0;j!==z.length;++j)if(!(j===F||j===N||(j+1)%z.length===F||(j+1)%z.length===N)&&i(v(z,F),v(z,N),v(z,j),v(z,j+1)))return!1;return!0}function I(z,F,N,j){var U=j||[];if(y(U),F<N)for(var V=F;V<=N;V++)U.push(z[V]);else{for(var V=0;V<=N;V++)U.push(z[V]);for(var V=F;V<z.length;V++)U.push(z[V])}return U}function B(z){for(var F=[],N=[],j=[],U=[],V=Number.MAX_VALUE,q=0;q<z.length;++q)if(C(z,q)){for(var ot=0;ot<z.length;++ot)if(k(z,q,ot)){N=B(I(z,q,ot,U)),j=B(I(z,ot,q,U));for(var Q=0;Q<j.length;Q++)N.push(j[Q]);N.length<V&&(F=N,V=N.length,F.push([v(z,q),v(z,ot)]))}}return F}function M(z){var F=B(z);return F.length>0?O(z,F):[z]}function O(z,F){if(F.length===0)return[z];if(F instanceof Array&&F.length&&F[0]instanceof Array&&F[0].length===2&&F[0][0]instanceof Array){for(var N=[z],j=0;j<F.length;j++)for(var U=F[j],V=0;V<N.length;V++){var q=N[V],ot=O(q,U);if(ot){N.splice(V,1),N.push(ot[0],ot[1]);break}}return N}else{var U=F,j=z.indexOf(U[0]),V=z.indexOf(U[1]);return j!==-1&&V!==-1?[I(z,j,V),I(z,V,j)]:!1}}function P(z){var F=z,N;for(N=0;N<F.length-1;N++)for(var j=0;j<N-1;j++)if(i(F[N],F[N+1],F[j],F[j+1]))return!1;for(N=1;N<F.length-2;N++)if(i(F[0],F[F.length-1],F[N],F[N+1]))return!1;return!0}function L(z,F,N,j,U){U=U||0;var V=F[1]-z[1],q=z[0]-F[0],ot=V*z[0]+q*z[1],Q=j[1]-N[1],rt=N[0]-j[0],Bt=Q*N[0]+rt*N[1],K=V*rt-Q*q;return W(K,0,U)?[0,0]:[(rt*ot-q*Bt)/K,(V*Bt-Q*ot)/K]}function _(z,F,N,j,U,V,q){V=V||100,q=q||0,U=U||25,F=typeof F!="undefined"?F:[],N=N||[],j=j||[];var ot=[0,0],Q=[0,0],rt=[0,0],Bt=0,K=0,Mt=0,Ft=0,dt=0,yt=0,At=0,Ot=[],le=[],_t=z,xe=z;if(xe.length<3)return F;if(q++,q>V)return console.warn("quickDecomp: max level ("+V+") reached."),F;for(var ke=0;ke<z.length;++ke)if(C(_t,ke)){N.push(_t[ke]),Bt=K=Number.MAX_VALUE;for(var ve=0;ve<z.length;++ve)m(v(_t,ke-1),v(_t,ke),v(_t,ve))&&h(v(_t,ke-1),v(_t,ke),v(_t,ve-1))&&(rt=L(v(_t,ke-1),v(_t,ke),v(_t,ve),v(_t,ve-1)),l(v(_t,ke+1),v(_t,ke),rt)&&(Mt=u(_t[ke],rt),Mt<K&&(K=Mt,Q=rt,yt=ve))),m(v(_t,ke+1),v(_t,ke),v(_t,ve+1))&&h(v(_t,ke+1),v(_t,ke),v(_t,ve))&&(rt=L(v(_t,ke+1),v(_t,ke),v(_t,ve),v(_t,ve+1)),m(v(_t,ke-1),v(_t,ke),rt)&&(Mt=u(_t[ke],rt),Mt<Bt&&(Bt=Mt,ot=rt,dt=ve)));if(yt===(dt+1)%z.length)rt[0]=(Q[0]+ot[0])/2,rt[1]=(Q[1]+ot[1])/2,j.push(rt),ke<dt?(x(Ot,_t,ke,dt+1),Ot.push(rt),le.push(rt),yt!==0&&x(le,_t,yt,_t.length),x(le,_t,0,ke+1)):(ke!==0&&x(Ot,_t,ke,_t.length),x(Ot,_t,0,dt+1),Ot.push(rt),le.push(rt),x(le,_t,yt,ke+1));else{if(yt>dt&&(dt+=z.length),Ft=Number.MAX_VALUE,dt<yt)return F;for(var ve=yt;ve<=dt;++ve)c(v(_t,ke-1),v(_t,ke),v(_t,ve))&&h(v(_t,ke+1),v(_t,ke),v(_t,ve))&&(Mt=u(v(_t,ke),v(_t,ve)),Mt<Ft&&A(_t,ke,ve)&&(Ft=Mt,At=ve%z.length));ke<At?(x(Ot,_t,ke,At+1),At!==0&&x(le,_t,At,xe.length),x(le,_t,0,ke+1)):(ke!==0&&x(Ot,_t,ke,xe.length),x(Ot,_t,0,At+1),x(le,_t,At,ke+1))}return Ot.length<le.length?(_(Ot,F,N,j,U,V,q),_(le,F,N,j,U,V,q)):(_(le,F,N,j,U,V,q),_(Ot,F,N,j,U,V,q)),F}return F.push(z),F}function G(z,F){for(var N=0,j=z.length-1;z.length>3&&j>=0;--j)p(v(z,j-1),v(z,j),v(z,j+1),F)&&(z.splice(j%z.length,1),N++);return N}function $(z,F){for(var N=z.length-1;N>=1;--N)for(var j=z[N],U=N-1;U>=0;--U)if(Y(j,z[U],F)){z.splice(N,1);continue}}function W(z,F,N){return N=N||0,Math.abs(z-F)<=N}function Y(z,F,N){return W(z[0],F[0],N)&&W(z[1],F[1],N)}},52018:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l){this.pluginManager=l,this.game=l.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});s.exports=m},42363:s=>{var g={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};s.exports=g},37277:s=>{var g={},i={},o={};o.register=function(m,c,l,h){h===void 0&&(h=!1),g[m]={plugin:c,mapping:l,custom:h}},o.registerCustom=function(m,c,l,h){i[m]={plugin:c,mapping:l,data:h}},o.hasCore=function(m){return g.hasOwnProperty(m)},o.hasCustom=function(m){return i.hasOwnProperty(m)},o.getCore=function(m){return g[m]},o.getCustom=function(m){return i[m]},o.getCustomClass=function(m){return i.hasOwnProperty(m)?i[m].plugin:null},o.remove=function(m){g.hasOwnProperty(m)&&delete g[m]},o.removeCustom=function(m){i.hasOwnProperty(m)&&delete i[m]},o.destroyCorePlugins=function(){for(var m in g)g.hasOwnProperty(m)&&delete g[m]},o.destroyCustomPlugins=function(){for(var m in i)i.hasOwnProperty(m)&&delete i[m]},s.exports=o},77332:(s,g,i)=>{var o=i(83419),m=i(8443),c=i(50792),l=i(74099),h=i(44603),a=i(39429),f=i(95540),p=i(37277),u=i(72905),v=new o({Extends:c,initialize:function(x){c.call(this),this.game=x,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],x.isBooted?this.boot():x.events.once(m.BOOT,this.boot,this)},boot:function(){var y,x,b,w,C,E,T,k=this.game.config,A=k.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),y=0;y<A.length;y++)x=A[y],b=f(x,"key",null),w=f(x,"plugin",null),C=f(x,"start",!1),E=f(x,"mapping",null),T=f(x,"data",null),b&&(w?this.install(b,w,C,E,T):console.warn("Missing `plugin` for key: "+b));for(A=k.installScenePlugins,A=A.concat(this._pendingScene),y=0;y<A.length;y++)x=A[y],b=f(x,"key",null),w=f(x,"plugin",null),E=f(x,"mapping",null),b&&(w?this.installScenePlugin(b,w,E):console.warn("Missing `plugin` for key: "+b));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(m.DESTROY,this.destroy,this)},addToScene:function(y,x,b){var w,C,E,T=this.game,k=y.scene,A=y.settings.map,I=y.settings.isBooted;for(w=0;w<x.length;w++)C=x[w],T[C]?(y[C]=T[C],A.hasOwnProperty(C)&&(k[A[C]]=y[C])):C==="game"&&A.hasOwnProperty(C)&&(k[A[C]]=T);for(var B=0;B<b.length;B++)for(E=b[B],w=0;w<E.length;w++)if(C=E[w],!!p.hasCore(C)){var M=p.getCore(C),O=M.mapping,P=new M.plugin(k,this,O);y[O]=P,M.custom?k[O]=P:A.hasOwnProperty(O)&&(k[A[O]]=P),I&&P.boot()}for(E=this.plugins,w=0;w<E.length;w++){var L=E[w];L.mapping&&(k[L.mapping]=L.plugin)}},getDefaultScenePlugins:function(){var y=this.game.config.defaultPlugins;return y=y.concat(this.scenePlugins),y},installScenePlugin:function(y,x,b,w,C){if(C===void 0&&(C=!1),typeof x!="function"){console.warn("Invalid Scene Plugin: "+y);return}if(p.hasCore(y)||p.register(y,x,b,!0),this.scenePlugins.indexOf(y)===-1)this.scenePlugins.push(y);else if(!C&&p.hasCore(y)){console.warn("Scene Plugin key in use: "+y);return}if(w){var E=new x(w,this,y);w.sys[y]=E,b&&b!==""&&(w[b]=E),E.boot()}},install:function(y,x,b,w,C){if(b===void 0&&(b=!1),w===void 0&&(w=null),C===void 0&&(C=null),typeof x!="function")return console.warn("Invalid Plugin: "+y),null;if(p.hasCustom(y))return console.warn("Plugin key in use: "+y),null;if(w!==null&&(b=!0),!this.game.isBooted)this._pendingGlobal.push({key:y,plugin:x,start:b,mapping:w,data:C});else if(p.registerCustom(y,x,w,C),b)return this.start(y);return null},getIndex:function(y){for(var x=this.plugins,b=0;b<x.length;b++){var w=x[b];if(w.key===y)return b}return-1},getEntry:function(y){var x=this.getIndex(y);if(x!==-1)return this.plugins[x]},isActive:function(y){var x=this.getEntry(y);return x&&x.active},start:function(y,x){x===void 0&&(x=y);var b=this.getEntry(x);return b&&!b.active?(b.active=!0,b.plugin.start()):b||(b=this.createEntry(y,x)),b?b.plugin:null},createEntry:function(y,x){var b=p.getCustom(y);if(b){var w=new b.plugin(this);b={key:x,plugin:w,active:!0,mapping:b.mapping,data:b.data},this.plugins.push(b),w.init(b.data),w.start()}return b},stop:function(y){var x=this.getEntry(y);return x&&x.active&&(x.active=!1,x.plugin.stop()),this},get:function(y,x){x===void 0&&(x=!0);var b=this.getEntry(y);if(b)return b.plugin;var w=this.getClass(y);return w&&x?(b=this.createEntry(y,y),b?b.plugin:null):w||null},getClass:function(y){return p.getCustomClass(y)},removeGlobalPlugin:function(y){var x=this.getEntry(y);x&&u(this.plugins,x),p.removeCustom(y)},removeScenePlugin:function(y){u(this.scenePlugins,y),p.remove(y)},registerGameObject:function(y,x,b){return x&&a.register(y,x),b&&h.register(y,b),this},removeGameObject:function(y,x,b){return x===void 0&&(x=!0),b===void 0&&(b=!0),x&&a.remove(y),b&&h.remove(y),this},registerFileType:function(y,x,b){l.register(y,x),b&&b.sys.load&&(b.sys.load[y]=x)},destroy:function(){for(var y=0;y<this.plugins.length;y++)this.plugins[y].plugin.destroy();p.destroyCustomPlugins(),this.game.noReturn&&p.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});s.exports=v},45145:(s,g,i)=>{var o=i(52018),m=i(83419),c=i(44594),l=new m({Extends:o,initialize:function(a,f,p){o.call(this,f),this.scene=a,this.systems=a.sys,this.pluginKey=p,a.sys.events.once(c.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});s.exports=l},18922:(s,g,i)=>{s.exports={BasePlugin:i(52018),DefaultPlugins:i(42363),PluginCache:i(37277),PluginManager:i(77332),ScenePlugin:i(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(s){const g=performance.now(),i=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames,m=(c,l)=>{const h=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||h.totalVideoFrames-h.droppedVideoFrames;if(a>o){const f=this.mozFrameDelay||h.totalFrameDelay-i.totalFrameDelay||0,p=l-c;s(l,{presentationTime:l+f*1e3,expectedDisplayTime:l+p,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+p/1e3,presentedFrames:a,processingDuration:f}),delete this._rvfcpolyfillmap[g]}else this._rvfcpolyfillmap[g]=requestAnimationFrame(f=>m(l,f))};return this._rvfcpolyfillmap[g]=requestAnimationFrame(c=>m(g,c)),g},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(s){cancelAnimationFrame(this._rvfcpolyfillmap[s]),delete this._rvfcpolyfillmap[s]})},10312:s=>{s.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:s=>{var g={DEFAULT:0,LINEAR:0,NEAREST:1};s.exports=g},68627:(s,g,i)=>{var o=i(19715),m=i(32880),c=i(83419),l=i(8054),h=i(50792),a=i(92503),f=i(56373),p=i(97480),u=i(69442),v=i(61340),y=new c({Extends:h,initialize:function(b){h.call(this);var w=b.config;this.config={clearBeforeRender:w.clearBeforeRender,backgroundColor:w.backgroundColor,antialias:w.antialias,roundPixels:w.roundPixels},this.game=b,this.type=l.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=b.canvas;var C={alpha:b.config.transparent,desynchronized:b.config.desynchronized,willReadFrequently:!1};this.gameContext=w.context?w.context:this.gameCanvas.getContext("2d",C),this.currentContext=this.gameContext,this.antialias=b.config.antialias,this.blendModes=f(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(u.READY,this.boot,this)},boot:function(){var x=this.game,b=x.scale.baseSize;this.width=b.width,this.height=b.height,this.isBooted=!0,x.scale.on(p.RESIZE,this.onResize,this),this.resize(b.width,b.height)},onResize:function(x,b){(b.width!==this.width||b.height!==this.height)&&this.resize(b.width,b.height)},resize:function(x,b){this.width=x,this.height=b,this.emit(a.RESIZE,x,b)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(x){return this.currentContext.globalCompositeOperation=x,this},setContext:function(x){return this.currentContext=x||this.gameContext,this},setAlpha:function(x){return this.currentContext.globalAlpha=x,this},preRender:function(){var x=this.gameContext,b=this.config,w=this.width,C=this.height;x.globalAlpha=1,x.globalCompositeOperation="source-over",x.setTransform(1,0,0,1,0,0),b.clearBeforeRender&&(x.clearRect(0,0,w,C),b.transparent||(x.fillStyle=b.backgroundColor.rgba,x.fillRect(0,0,w,C))),x.save(),this.drawCount=0,this.emit(a.PRE_RENDER)},render:function(x,b,w){var C=b.length;this.emit(a.RENDER,x,w);var E=w.x,T=w.y,k=w.width,A=w.height,I=w.renderToTexture?w.context:x.sys.context;I.save(),this.game.scene.customViewports&&(I.beginPath(),I.rect(E,T,k,A),I.clip()),w.emit(o.PRE_RENDER,w),this.currentContext=I;var B=w.mask;B&&B.preRenderCanvas(this,null,w._maskCamera),w.transparent||(I.fillStyle=w.backgroundColor.rgba,I.fillRect(E,T,k,A)),I.globalAlpha=w.alpha,I.globalCompositeOperation="source-over",this.drawCount+=C,w.renderToTexture&&w.emit(o.PRE_RENDER,w),w.matrix.copyToContext(I);for(var M=0;M<C;M++){var O=b[M];O.mask&&O.mask.preRenderCanvas(this,O,w),O.renderCanvas(this,O,w),O.mask&&O.mask.postRenderCanvas(this,O,w)}I.setTransform(1,0,0,1,0,0),I.globalCompositeOperation="source-over",I.globalAlpha=1,w.flashEffect.postRenderCanvas(I),w.fadeEffect.postRenderCanvas(I),w.dirty=!1,B&&B.postRenderCanvas(this),I.restore(),w.renderToTexture&&(w.emit(o.POST_RENDER,w),w.renderToGame&&x.sys.context.drawImage(w.canvas,E,T)),w.emit(o.POST_RENDER,w)},postRender:function(){var x=this.gameContext;x.restore(),this.emit(a.POST_RENDER);var b=this.snapshotState;b.callback&&(m(this.gameCanvas,b),b.callback=null)},snapshotCanvas:function(x,b,w,C,E,T,k,A,I){w===void 0&&(w=!1),this.snapshotArea(C,E,T,k,b,A,I);var B=this.snapshotState;return B.getPixel=w,m(x,B),B.callback=null,this},snapshot:function(x,b,w){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,x,b,w)},snapshotArea:function(x,b,w,C,E,T,k){var A=this.snapshotState;return A.callback=E,A.type=T,A.encoder=k,A.getPixel=!1,A.x=x,A.y=b,A.width=Math.min(w,this.gameCanvas.width),A.height=Math.min(C,this.gameCanvas.height),this},snapshotPixel:function(x,b,w){return this.snapshotArea(x,b,1,1,w),this.snapshotState.getPixel=!0,this},batchSprite:function(x,b,w,C){var E=w.alpha*x.alpha;if(E!==0){var T=this.currentContext,k=this._tempMatrix1,A=this._tempMatrix2,I=b.canvasData,B=I.x,M=I.y,O=b.cutWidth,P=b.cutHeight,L=b.customPivot,_=b.source.resolution,G=x.displayOriginX,$=x.displayOriginY,W=-G+b.x,Y=-$+b.y;if(x.isCropped){var z=x._crop;(z.flipX!==x.flipX||z.flipY!==x.flipY)&&b.updateCropUVs(z,x.flipX,x.flipY),O=z.cw,P=z.ch,B=z.cx,M=z.cy,W=-G+z.x,Y=-$+z.y,x.flipX&&(W>=0?W=-(W+O):W<0&&(W=Math.abs(W)-O)),x.flipY&&(Y>=0?Y=-(Y+P):Y<0&&(Y=Math.abs(Y)-P))}var F=1,N=1;x.flipX&&(L||(W+=-b.realWidth+G*2),F=-1),x.flipY&&(L||(Y+=-b.realHeight+$*2),N=-1);var j=x.x,U=x.y;A.applyITRS(j,U,x.rotation,x.scaleX*F,x.scaleY*N),k.copyFrom(w.matrix),C?(k.multiplyWithOffset(C,-w.scrollX*x.scrollFactorX,-w.scrollY*x.scrollFactorY),A.e=j,A.f=U):(A.e-=w.scrollX*x.scrollFactorX,A.f-=w.scrollY*x.scrollFactorY),k.multiply(A),w.roundPixels&&(k.e=Math.round(k.e),k.f=Math.round(k.f)),T.save(),k.setToContext(T),T.globalCompositeOperation=this.blendModes[x.blendMode],T.globalAlpha=E,T.imageSmoothingEnabled=!b.source.scaleMode,x.mask&&x.mask.preRenderCanvas(this,x,w),O>0&&P>0&&(w.roundPixels?T.drawImage(b.source.image,B,M,O,P,Math.round(W),Math.round(Y),Math.round(O/_),Math.round(P/_)):T.drawImage(b.source.image,B,M,O,P,W,Y,O/_,P/_)),x.mask&&x.mask.postRenderCanvas(this,x,w),T.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});s.exports=y},55830:(s,g,i)=>{s.exports={CanvasRenderer:i(68627),GetBlendModes:i(56373),SetTransform:i(20926)}},56373:(s,g,i)=>{var o=i(10312),m=i(89289),c=function(){var l=[],h=m.supportNewBlendModes,a="source-over";return l[o.NORMAL]=a,l[o.ADD]="lighter",l[o.MULTIPLY]=h?"multiply":a,l[o.SCREEN]=h?"screen":a,l[o.OVERLAY]=h?"overlay":a,l[o.DARKEN]=h?"darken":a,l[o.LIGHTEN]=h?"lighten":a,l[o.COLOR_DODGE]=h?"color-dodge":a,l[o.COLOR_BURN]=h?"color-burn":a,l[o.HARD_LIGHT]=h?"hard-light":a,l[o.SOFT_LIGHT]=h?"soft-light":a,l[o.DIFFERENCE]=h?"difference":a,l[o.EXCLUSION]=h?"exclusion":a,l[o.HUE]=h?"hue":a,l[o.SATURATION]=h?"saturation":a,l[o.COLOR]=h?"color":a,l[o.LUMINOSITY]=h?"luminosity":a,l[o.ERASE]="destination-out",l[o.SOURCE_IN]="source-in",l[o.SOURCE_OUT]="source-out",l[o.SOURCE_ATOP]="source-atop",l[o.DESTINATION_OVER]="destination-over",l[o.DESTINATION_IN]="destination-in",l[o.DESTINATION_OUT]="destination-out",l[o.DESTINATION_ATOP]="destination-atop",l[o.LIGHTER]="lighter",l[o.COPY]="copy",l[o.XOR]="xor",l};s.exports=c},20926:(s,g,i)=>{var o=i(91296),m=function(c,l,h,a,f){var p=a.alpha*h.alpha;if(p<=0)return!1;var u=o(h,a,f).calc;return l.globalCompositeOperation=c.blendModes[h.blendMode],l.globalAlpha=p,l.save(),u.setToContext(l),l.imageSmoothingEnabled=h.frame?!h.frame.source.scaleMode:c.antialias,!0};s.exports=m},63899:s=>{s.exports="losewebgl"},6119:s=>{s.exports="postrender"},48070:s=>{s.exports="prerender"},15640:s=>{s.exports="render"},8912:s=>{s.exports="resize"},87124:s=>{s.exports="restorewebgl"},92503:(s,g,i)=>{s.exports={LOSE_WEBGL:i(63899),POST_RENDER:i(6119),PRE_RENDER:i(48070),RENDER:i(15640),RESIZE:i(8912),RESTORE_WEBGL:i(87124)}},36909:(s,g,i)=>{s.exports={Events:i(92503),Snapshot:i(89966)},s.exports.Canvas=i(55830),s.exports.WebGL=i(4159)},32880:(s,g,i)=>{var o=i(27919),m=i(40987),c=i(95540),l=function(h,a){var f=c(a,"callback"),p=c(a,"type","image/png"),u=c(a,"encoder",.92),v=Math.abs(Math.round(c(a,"x",0))),y=Math.abs(Math.round(c(a,"y",0))),x=Math.floor(c(a,"width",h.width)),b=Math.floor(c(a,"height",h.height)),w=c(a,"getPixel",!1);if(w){var C=h.getContext("2d",{willReadFrequently:!1}),E=C.getImageData(v,y,1,1),T=E.data;f.call(null,new m(T[0],T[1],T[2],T[3]))}else if(v!==0||y!==0||x!==h.width||b!==h.height){var k=o.createWebGL(this,x,b),A=k.getContext("2d",{willReadFrequently:!0});x>0&&b>0&&A.drawImage(h,v,y,x,b,0,0,x,b);var I=new Image;I.onerror=function(){f.call(null),o.remove(k)},I.onload=function(){f.call(null,I),o.remove(k)},I.src=k.toDataURL(p,u)}else{var B=new Image;B.onerror=function(){f.call(null)},B.onload=function(){f.call(null,B)},B.src=h.toDataURL(p,u)}};s.exports=l},88815:(s,g,i)=>{var o=i(27919),m=i(40987),c=i(95540),l=function(h,a){var f=h,p=c(a,"callback"),u=c(a,"type","image/png"),v=c(a,"encoder",.92),y=Math.abs(Math.round(c(a,"x",0))),x=Math.abs(Math.round(c(a,"y",0))),b=c(a,"getPixel",!1),w=c(a,"isFramebuffer",!1),C=w?c(a,"bufferWidth",1):f.drawingBufferWidth,E=w?c(a,"bufferHeight",1):f.drawingBufferHeight;if(b){var T=new Uint8Array(4),k=w?x:E-x;f.readPixels(y,k,1,1,f.RGBA,f.UNSIGNED_BYTE,T),p.call(null,new m(T[0],T[1],T[2],T[3]))}else{var A=Math.floor(c(a,"width",C)),I=Math.floor(c(a,"height",E)),B=A*I*4,M=new Uint8Array(B);f.readPixels(y,E-x-I,A,I,f.RGBA,f.UNSIGNED_BYTE,M);for(var O=o.createWebGL(this,A,I),P=O.getContext("2d",{willReadFrequently:!0}),L=P.getImageData(0,0,A,I),_=L.data,G=0;G<I;G++)for(var $=0;$<A;$++){var W=((I-G-1)*A+$)*4,Y=w?B-(G*A+(A-$))*4:(G*A+$)*4;_[Y+0]=M[W+0],_[Y+1]=M[W+1],_[Y+2]=M[W+2],_[Y+3]=M[W+3]}P.putImageData(L,0,0);var z=new Image;z.onerror=function(){p.call(null),o.remove(O)},z.onload=function(){p.call(null,z),o.remove(O)},z.src=O.toDataURL(u,v)}};s.exports=l},89966:(s,g,i)=>{s.exports={Canvas:i(32880),WebGL:i(88815)}},7530:(s,g,i)=>{var o=i(83419),m=i(36060),c=i(90330),l=i(82264),h=i(95540),a=i(32302),f=i(63448),p=i(31302),u=i(58918),v=i(14811),y=i(92651),x=i(96569),b=i(56527),w=i(57516),C=i(43439),E=i(81041),T=i(12385),k=i(7589),A=i(95428),I=i(72905),B=new o({initialize:function(O){this.game=O.game,this.renderer=O,this.classes=new c([[m.UTILITY_PIPELINE,k],[m.MULTI_PIPELINE,w],[m.BITMAPMASK_PIPELINE,p],[m.SINGLE_PIPELINE,T],[m.ROPE_PIPELINE,E],[m.LIGHT_PIPELINE,x],[m.POINTLIGHT_PIPELINE,C],[m.MOBILE_PIPELINE,b]]),this.postPipelineClasses=new c,this.pipelines=new c,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(M,O,P){var L=this.renderer,_=this.renderTargets;this.frameInc=Math.floor(h(M,"frameInc",32));var G=L.width,$=L.height,W=this.game.config.disablePreFX,Y=this.game.config.disablePostFX;if(Y||this.postPipelineClasses.setAll([[String(v.BARREL),u.Barrel],[String(v.BLOOM),u.Bloom],[String(v.BLUR),u.Blur],[String(v.BOKEH),u.Bokeh],[String(v.CIRCLE),u.Circle],[String(v.COLOR_MATRIX),u.ColorMatrix],[String(v.DISPLACEMENT),u.Displacement],[String(v.GLOW),u.Glow],[String(v.GRADIENT),u.Gradient],[String(v.PIXELATE),u.Pixelate],[String(v.SHADOW),u.Shadow],[String(v.SHINE),u.Shine],[String(v.VIGNETTE),u.Vignette],[String(v.WIPE),u.Wipe]]),!W){this.classes.set(m.FX_PIPELINE,y);for(var z=Math.min(G,$),F=Math.ceil(z/this.frameInc),N=1;N<F;N++){var j=N*this.frameInc;_.push(new a(L,j,j)),_.push(new a(L,j,j)),_.push(new a(L,j,j)),this.maxDimension=j}_.push(new a(L,G,$,1,0,!0,!0)),_.push(new a(L,G,$,1,0,!0,!0)),_.push(new a(L,G,$,1,0,!0,!0))}var U,V,q=this,ot=this.game;if(this.classes.each(function(rt,Bt){U=q.add(rt,new Bt({game:ot})),rt===m.UTILITY_PIPELINE&&(q.UTILITY_PIPELINE=U,q.fullFrame1=U.fullFrame1,q.fullFrame2=U.fullFrame2,q.halfFrame1=U.halfFrame1,q.halfFrame2=U.halfFrame2)}),this.MULTI_PIPELINE=this.get(m.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(m.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(m.MOBILE_PIPELINE),W||(this.FX_PIPELINE=this.get(m.FX_PIPELINE)),M)for(V in M){var Q=M[V];U=new Q(ot),U.name=V,U.isPostFX?this.postPipelineClasses.set(V,Q):this.has(V)||(this.classes.set(V,Q),this.add(V,U))}this.default=this.get(O),P&&!l.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(M){var O=this.get(M);return O&&(this.default=O),O},add:function(M,O){if(O.isPostFX){console.warn(M+" is a Post Pipeline. Use `addPostPipeline` instead");return}var P=this.pipelines,L=this.renderer;return P.has(M)?console.warn("Pipeline exists: "+M):(O.name=M,O.manager=this,P.set(M,O)),O.hasBooted||O.boot(),L.width!==0&&L.height!==0&&!O.isPreFX&&O.resize(L.width,L.height),O},addPostPipeline:function(M,O){this.postPipelineClasses.has(M)||this.postPipelineClasses.set(M,O)},flush:function(){this.current&&this.current.flush()},has:function(M){var O=this.pipelines;return typeof M=="string"?O.has(M):!!O.contains(M)},get:function(M){var O=this.pipelines;if(typeof M=="string")return O.get(M);if(O.contains(M))return M},getPostPipeline:function(M,O,P){var L=this.postPipelineClasses,_,G="",$=typeof M;if($==="string"||$==="number"?(_=L.get(M),G=M):$==="function"?(L.contains(M)&&(_=M),G=M.name):$==="object"&&(_=L.get(M.name),G=M.name),_){var W=new _(this.game,P);return W.name=G,O&&(W.gameObject=O),this.postPipelineInstances.push(W),W}},removePostPipeline:function(M){I(this.postPipelineInstances,M)},remove:function(M,O,P){O===void 0&&(O=!0),P===void 0&&(P=!0),this.pipelines.delete(M),O&&this.classes.delete(M),P&&this.postPipelineClasses.delete(M)},set:function(M,O,P){if(!M.isPostFX)return this.isCurrent(M,P)||(this.flush(),this.current&&this.current.unbind(),this.current=M,M.bind(P)),M.updateProjectionMatrix(),M.onBind(O),M},preBatch:function(M){if(M.hasPostPipeline){this.flush();for(var O=M.postPipelines,P=O.length-1;P>=0;P--){var L=O[P];L.active&&L.preBatch(M)}}},postBatch:function(M){if(M.hasPostPipeline){this.flush();for(var O=M.postPipelines,P=0;P<O.length;P++){var L=O[P];L.active&&L.postBatch(M)}}},preBatchCamera:function(M){if(M.hasPostPipeline){this.flush();for(var O=M.postPipelines,P=O.length-1;P>=0;P--){var L=O[P];L.active&&L.preBatch(M)}}},postBatchCamera:function(M){if(M.hasPostPipeline){this.flush();for(var O=M.postPipelines,P=0;P<O.length;P++){var L=O[P];L.active&&L.postBatch(M)}}},isCurrent:function(M,O){var P=this.renderer,L=this.current;return L&&!O&&(O=L.currentShader),!(L!==M||O.program!==P.currentProgram)},copyFrame:function(M,O,P,L,_){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(M,O,P,L,_),this},copyToGame:function(M){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(M),this},drawFrame:function(M,O,P,L){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(M,O,P,L),this},blendFrames:function(M,O,P,L,_){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(M,O,P,L,_),this},blendFramesAdditive:function(M,O,P,L,_){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(M,O,P,L,_),this},clearFrame:function(M,O){return this.UTILITY_PIPELINE.clearFrame(M,O),this},blitFrame:function(M,O,P,L,_,G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(M,O,P,L,_,G),this},copyFrameRect:function(M,O,P,L,_,G,$,W){return this.UTILITY_PIPELINE.copyFrameRect(M,O,P,L,_,G,$,W),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(M){return this.UTILITY_PIPELINE.bind(M)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(M,O){O.restoreContext()}),A(this.postPipelineInstances,function(M){M.restoreContext()})},rebind:function(M){M===void 0&&this.previous&&(M=this.previous);var O=this.renderer,P=O.gl;P.disable(P.DEPTH_TEST),P.disable(P.CULL_FACE),O.hasActiveStencilMask()?P.clear(P.DEPTH_BUFFER_BIT):(P.disable(P.STENCIL_TEST),P.clear(P.DEPTH_BUFFER_BIT|P.STENCIL_BUFFER_BIT)),P.viewport(0,0,O.width,O.height),O.currentProgram=null,O.setBlendMode(0,!0);var L=O.vaoExtension;L&&L.bindVertexArrayOES(null);var _=this.pipelines.entries;for(var G in _)_[G].glReset=!0;M&&(this.current=M,M.rebind())},clear:function(){var M=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,M.currentProgram=null,M.setBlendMode(0,!0);var O=M.vaoExtension;O&&O.bindVertexArrayOES(null)},getRenderTarget:function(M){var O=this.renderTargets,P=3;if(M>this.maxDimension)return this.targetIndex=O.length-P,O[this.targetIndex];var L=(f(M,this.frameInc,0,!0)-1)*P;return this.targetIndex=L,O[L]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});s.exports=B},32302:(s,g,i)=>{var o=i(83419),m=i(92503),c=new o({initialize:function(h,a,f,p,u,v,y,x,b){p===void 0&&(p=1),u===void 0&&(u=0),v===void 0&&(v=!0),y===void 0&&(y=!1),x===void 0&&(x=!0),b===void 0&&(b=!0),this.renderer=h,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=p,this.minFilter=u,this.autoClear=v,this.autoResize=!0,this.hasDepthBuffer=x,this.forceClamp=b,this.resize(a,f),y?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(l){return l&&!this.autoResize?(this.renderer.on(m.RESIZE,this.resize,this),this.autoResize=!0):!l&&this.autoResize&&(this.renderer.off(m.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(l,h){if(l=Math.round(l*this.scale),h=Math.round(h*this.scale),l<=0&&(l=1),h<=0&&(h=1),this.autoResize&&(l!==this.width||h!==this.height)){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.texture=a.createTextureFromSource(null,l,h,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(l,h,this.texture,this.hasDepthBuffer),this.width=l,this.height=h}return this},willResize:function(l,h){return l=Math.round(l*this.scale),h=Math.round(h*this.scale),l<=0&&(l=1),h<=0&&(h=1),l!==this.width||h!==this.height},bind:function(l,h,a){l===void 0&&(l=!1);var f=this.renderer;if(l&&f.flush(),h&&a&&this.resize(h,a),f.pushFramebuffer(this.framebuffer,!1,!1),l&&this.adjustViewport(),this.autoClear){var p=this.renderer.gl;p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT)}f.clearStencilMask()},adjustViewport:function(){var l=this.renderer.gl;l.viewport(0,0,this.width,this.height),l.disable(l.SCISSOR_TEST)},clear:function(){var l=this.renderer,h=l.gl;l.pushFramebuffer(this.framebuffer),h.disable(h.SCISSOR_TEST),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),l.popFramebuffer(),l.resetScissor()},unbind:function(l){l===void 0&&(l=!1);var h=this.renderer;return l&&h.flush(),h.popFramebuffer()},destroy:function(){var l=this.renderer;l.off(m.RESIZE,this.resize,this),l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});s.exports=c},70554:s=>{s.exports={getTintFromFloats:function(g,i,o,m){var c=(g*255|0)&255,l=(i*255|0)&255,h=(o*255|0)&255,a=(m*255|0)&255;return(a<<24|c<<16|l<<8|h)>>>0},getTintAppendFloatAlpha:function(g,i){var o=(i*255|0)&255;return(o<<24|g)>>>0},getTintAppendFloatAlphaAndSwap:function(g,i){var o=(g>>16|0)&255,m=(g>>8|0)&255,c=(g|0)&255,l=(i*255|0)&255;return(l<<24|c<<16|m<<8|o)>>>0},getFloatsFromUintRGB:function(g){var i=(g>>16|0)&255,o=(g>>8|0)&255,m=(g|0)&255;return[i/255,o/255,m/255]},checkShaderMax:function(g,i){var o=Math.min(16,g.getParameter(g.MAX_TEXTURE_IMAGE_UNITS));return!i||i===-1?o:Math.min(o,i)},parseFragmentShaderMaxTextures:function(g,i){if(!g)return"";for(var o="",m=0;m<i;m++)m>0&&(o+=`
	else `),m<i-1&&(o+="if (outTexId < "+m+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+m+"], outTexCoord);",o+=`
	}`;return g=g.replace(/%count%/gi,i.toString()),g.replace(/%forloop%/gi,o)},setGlowQuality:function(g,i,o,m){return o===void 0&&(o=i.config.glowFXQuality),m===void 0&&(m=i.config.glowFXDistance),g=g.replace(/__SIZE__/gi,(1/o/m).toFixed(7)),g=g.replace(/__DIST__/gi,m.toFixed(0)+".0"),g}}},29100:(s,g,i)=>{var o=i(83419),m=i(62644),c=i(50792),l=i(77085),h=i(95540),a=i(37867),f=i(92503),p=i(32302),u=i(70554),v=i(38683),y=new o({Extends:c,initialize:function(b){c.call(this);var w=b.game,C=w.renderer,E=C.gl;this.name=h(b,"name","WebGLPipeline"),this.game=w,this.renderer=C,this.manager,this.gl=E,this.view=w.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=h(b,"topology",E.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=h(b,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=b,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=h(b,"resizeUniform","")},boot:function(){var x,b=this.gl,w=this.config,C=this.renderer;this.isPostFX||(this.projectionMatrix=new a().identity());var E=this.renderTargets,T=h(w,"renderTarget",!1);typeof T=="boolean"&&T&&(T=1);var k=C.width,A=C.height;if(typeof T=="number")for(x=0;x<T;x++)E.push(new p(C,k,A,1,0,!0));else if(Array.isArray(T))for(x=0;x<T.length;x++){var I=h(T[x],"scale",1),B=h(T[x],"minFilter",0),M=h(T[x],"autoClear",1),O=h(T[x],"autoResize",!1),P=h(T[x],"width",null),L=h(T[x],"height",P);P?E.push(new p(C,P,L,1,B,M,O)):E.push(new p(C,k,A,I,B,M,O))}E.length&&(this.currentRenderTarget=E[0]),this.setShadersFromConfig(w);var _=this.shaders,G=0;for(x=0;x<_.length;x++)_[x].vertexSize>G&&(G=_[x].vertexSize);var $=h(w,"batchSize",C.config.batchSize);this.vertexCapacity=$*6;var W=new ArrayBuffer(this.vertexCapacity*G);this.vertexData=W,this.bytes=new Uint8Array(W),this.vertexViewF32=new Float32Array(W),this.vertexViewU32=new Uint32Array(W);var Y=h(w,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=C.createVertexBuffer(W,b.STATIC_DRAW)):this.vertexBuffer=C.createVertexBuffer(W.byteLength,b.DYNAMIC_DRAW),this.setVertexBuffer(),x=_.length-1;x>=0;x--)_[x].rebind();this.hasBooted=!0,C.on(f.RESIZE,this.resize,this),C.on(f.PRE_RENDER,this.onPreRender,this),C.on(f.RENDER,this.onRender,this),C.on(f.POST_RENDER,this.onPostRender,this),this.emit(l.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(x,b,w){var C=this.renderer;if(x!==this.currentShader||C.currentProgram!==this.currentShader.program){this.flush();var E=this.setVertexBuffer(w);E&&!b&&(b=!0),x.bind(b,!1),this.currentShader=x}return this},getShaderByName:function(x){for(var b=this.shaders,w=0;w<b.length;w++)if(b[w].name===x)return b[w]},setShadersFromConfig:function(x){var b,w=this.shaders,C=this.renderer;for(b=0;b<w.length;b++)w[b].destroy();var E="vertShader",T="fragShader",k="attributes",A=h(x,E,null),I=u.parseFragmentShaderMaxTextures(h(x,T,null),C.maxTextures),B=h(x,k,null),M=h(x,"shaders",[]),O=M.length;if(O===0)A&&I&&(this.shaders=[new v(this,"default",A,I,m(B))]);else{var P=[];for(b=0;b<O;b++){var L=M[b],_,G,$,W;if(typeof L=="string"?(_="default",G=A,$=u.parseFragmentShaderMaxTextures(L,C.maxTextures),W=B):(_=h(L,"name","default"),G=h(L,E,A),$=u.parseFragmentShaderMaxTextures(h(L,T,I),C.maxTextures),W=h(L,k,B)),_==="default"){var Y=$.split(`
`),z=Y[0].trim();z.indexOf("#define SHADER_NAME")>-1&&(_=z.substring(20))}G&&$&&P.push(new v(this,_,G,$,m(W)))}this.shaders=P}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(x){return this.currentBatch={start:this.vertexCount,count:0,texture:[x],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=x,this.batch.push(this.currentBatch),0},addTextureToBatch:function(x){var b=this.currentBatch;b&&(b.texture.push(x),b.unit++,b.maxUnit++)},pushBatch:function(x){if(!this.currentBatch||this.forceZero&&x!==this.currentTexture)return this.createBatch(x);if(x===this.currentTexture)return this.currentUnit;var b=this.currentBatch,w=b.texture.indexOf(x);return w===-1?b.texture.length===this.renderer.maxTextures?this.createBatch(x):(b.unit++,b.maxUnit++,b.texture.push(x),this.currentUnit=b.unit,this.currentTexture=x,b.unit):(this.currentUnit=w,this.currentTexture=x,w)},setGameObject:function(x,b){return b===void 0&&(b=x.frame),this.pushBatch(b.source.glTexture)},shouldFlush:function(x){return x===void 0&&(x=0),this.vertexCount+x>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(x,b){(x!==this.width||b!==this.height)&&this.flush(),this.width=x,this.height=b;for(var w=this.renderTargets,C=0;C<w.length;C++)w[C].resize(x,b);return this.setProjectionMatrix(x,b),this.resizeUniform&&this.set2f(this.resizeUniform,x,b),this.emit(l.RESIZE,x,b,this),this.onResize(x,b),this},setProjectionMatrix:function(x,b){var w=this.projectionMatrix;if(!w)return this;this.projectionWidth=x,this.projectionHeight=b,w.ortho(0,x,b,0,-1e3,1e3);for(var C=this.shaders,E="uProjectionMatrix",T=0;T<C.length;T++){var k=C[T];k.hasUniform(E)&&(k.resetUniform(E),k.setMatrix4fv(E,!1,w.val,k))}return this},flipProjectionMatrix:function(x){x===void 0&&(x=!0);var b=this.projectionMatrix;if(!b)return this;var w=this.projectionWidth,C=this.projectionHeight;x?b.ortho(0,w,0,C,-1e3,1e3):b.ortho(0,w,C,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,b.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var x=this.renderer.projectionWidth,b=this.renderer.projectionHeight;(this.projectionWidth!==x||this.projectionHeight!==b)&&this.setProjectionMatrix(x,b)}},bind:function(x){if(x===void 0&&(x=this.currentShader),this.glReset)return this.rebind(x);var b=!1,w=this.gl;return w.getParameter(w.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(w.bindBuffer(w.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,b=!0),x.bind(b),this.currentShader=x,this.activeTextures.length=0,this.emit(l.BIND,this,x),this.onActive(x),this},rebind:function(x){this.activeBuffer=null,this.setVertexBuffer();for(var b=this.shaders,w=b.length-1;w>=0;w--){var C=b[w].rebind();(!x||C===x)&&(this.currentShader=C)}return this.activeTextures.length=0,this.emit(l.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var x=this.shaders,b=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,b&&this.setVertexBuffer();for(var w=0;w<x.length;w++){var C=x[w];C.syncUniforms(),b&&C.rebind()}},setVertexBuffer:function(x){if(x===void 0&&(x=this.vertexBuffer),x!==this.activeBuffer){var b=this.gl;return this.gl.bindBuffer(b.ARRAY_BUFFER,x.webGLBuffer),this.activeBuffer=x,!0}return!1},preBatch:function(x){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(x),this},postBatch:function(x){return this.onDraw(this.currentRenderTarget),this.onPostBatch(x),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(x){if(x===void 0&&(x=!1),this.vertexCount>0){this.emit(l.BEFORE_FLUSH,this,x),this.onBeforeFlush(x);var b=this.gl,w=this.vertexCount,C=this.currentShader.vertexSize,E=this.topology;if(this.active){this.setVertexBuffer(),w===this.vertexCapacity?b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.DYNAMIC_DRAW):b.bufferSubData(b.ARRAY_BUFFER,0,this.bytes.subarray(0,w*C));var T,k,A,I=this.batch,B=this.activeTextures;if(this.forceZero)for(B[0]||b.activeTexture(b.TEXTURE0),T=0;T<I.length;T++)k=I[T],A=k.texture[0],B[0]!==A&&(b.bindTexture(b.TEXTURE_2D,A.webGLTexture),B[0]=A),b.drawArrays(E,k.start,k.count);else for(T=0;T<I.length;T++){k=I[T];for(var M=0;M<=k.maxUnit;M++)A=k.texture[M],B[M]!==A&&(b.activeTexture(b.TEXTURE0+M),b.bindTexture(b.TEXTURE_2D,A.webGLTexture),B[M]=A);b.drawArrays(E,k.start,k.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(l.AFTER_FLUSH,this,x),this.onAfterFlush(x)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(x,b,w,C,E,T,k){var A=this.vertexViewF32,I=this.vertexViewU32,B=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++B]=x,A[++B]=b,A[++B]=w,A[++B]=C,A[++B]=E,A[++B]=T,I[++B]=k,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(x,b,w,C,E,T,k,A,I,B,M,O,P,L,_,G,$,W,Y,z){z===void 0&&(z=this.currentUnit);var F=!1;this.shouldFlush(6)&&(this.flush(),F=!0),this.currentBatch||(z=this.setTexture2D(Y));var N=this.vertexViewF32,j=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return N[++U]=b,N[++U]=w,N[++U]=B,N[++U]=M,N[++U]=z,N[++U]=W,j[++U]=L,N[++U]=C,N[++U]=E,N[++U]=B,N[++U]=P,N[++U]=z,N[++U]=W,j[++U]=G,N[++U]=T,N[++U]=k,N[++U]=O,N[++U]=P,N[++U]=z,N[++U]=W,j[++U]=$,N[++U]=b,N[++U]=w,N[++U]=B,N[++U]=M,N[++U]=z,N[++U]=W,j[++U]=L,N[++U]=T,N[++U]=k,N[++U]=O,N[++U]=P,N[++U]=z,N[++U]=W,j[++U]=$,N[++U]=A,N[++U]=I,N[++U]=O,N[++U]=M,N[++U]=z,N[++U]=W,j[++U]=_,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),F},batchTri:function(x,b,w,C,E,T,k,A,I,B,M,O,P,L,_,G,$){$===void 0&&($=this.currentUnit);var W=!1;this.shouldFlush(3)&&(this.flush(),W=!0),this.currentBatch||($=this.setTexture2D(G));var Y=this.vertexViewF32,z=this.vertexViewU32,F=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++F]=b,Y[++F]=w,Y[++F]=A,Y[++F]=I,Y[++F]=$,Y[++F]=_,z[++F]=O,Y[++F]=C,Y[++F]=E,Y[++F]=A,Y[++F]=M,Y[++F]=$,Y[++F]=_,z[++F]=P,Y[++F]=T,Y[++F]=k,Y[++F]=B,Y[++F]=M,Y[++F]=$,Y[++F]=_,z[++F]=L,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(x),W},drawFillRect:function(x,b,w,C,E,T,k,A){k===void 0&&(k=this.renderer.whiteTexture),A===void 0&&(A=!0),x=Math.floor(x),b=Math.floor(b);var I=Math.floor(x+w),B=Math.floor(b+C),M=this.setTexture2D(k),O=u.getTintAppendFloatAlphaAndSwap(E,T),P=0,L=0,_=1,G=1;A&&(L=1,G=0),this.batchQuad(null,x,b,x,B,I,B,I,b,P,L,_,G,O,O,O,O,0,k,M)},setTexture2D:function(x){return x===void 0&&(x=this.renderer.whiteTexture),this.pushBatch(x)},bindTexture:function(x,b){b===void 0&&(b=0);var w=this.gl;return w.activeTexture(w.TEXTURE0+b),w.bindTexture(w.TEXTURE_2D,x.webGLTexture),this},bindRenderTarget:function(x,b){return this.bindTexture(x.texture,b)},setTime:function(x,b){return this.set1f(x,this.game.loop.getDuration(),b),this},setBoolean:function(x,b,w){return w===void 0&&(w=this.currentShader),w.setBoolean(x,b),this},set1f:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set1f(x,b),this},set2f:function(x,b,w,C){return C===void 0&&(C=this.currentShader),C.set2f(x,b,w),this},set3f:function(x,b,w,C,E){return E===void 0&&(E=this.currentShader),E.set3f(x,b,w,C),this},set4f:function(x,b,w,C,E,T){return T===void 0&&(T=this.currentShader),T.set4f(x,b,w,C,E),this},set1fv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set1fv(x,b),this},set2fv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set2fv(x,b),this},set3fv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set3fv(x,b),this},set4fv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set4fv(x,b),this},set1iv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set1iv(x,b),this},set2iv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set2iv(x,b),this},set3iv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set3iv(x,b),this},set4iv:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set4iv(x,b),this},set1i:function(x,b,w){return w===void 0&&(w=this.currentShader),w.set1i(x,b),this},set2i:function(x,b,w,C){return C===void 0&&(C=this.currentShader),C.set2i(x,b,w),this},set3i:function(x,b,w,C,E){return E===void 0&&(E=this.currentShader),E.set3i(x,b,w,C),this},set4i:function(x,b,w,C,E,T){return T===void 0&&(T=this.currentShader),T.set4i(x,b,w,C,E),this},setMatrix2fv:function(x,b,w,C){return C===void 0&&(C=this.currentShader),C.setMatrix2fv(x,b,w),this},setMatrix3fv:function(x,b,w,C){return C===void 0&&(C=this.currentShader),C.setMatrix3fv(x,b,w),this},setMatrix4fv:function(x,b,w,C){return C===void 0&&(C=this.currentShader),C.setMatrix4fv(x,b,w),this},destroy:function(){this.emit(l.DESTROY,this);var x,b=this.shaders;for(x=0;x<b.length;x++)b[x].destroy();var w=this.renderTargets;for(x=0;x<w.length;x++)w[x].destroy();var C=this.renderer;return C.deleteBuffer(this.vertexBuffer),C.off(f.RESIZE,this.resize,this),C.off(f.PRE_RENDER,this.onPreRender,this),C.off(f.RENDER,this.onRender,this),C.off(f.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});s.exports=y},74797:(s,g,i)=>{var o=i(95428),m=i(72905),c=i(19715),l=i(83419),h=i(8054),a=i(50792),f=i(92503),p=i(50030),u=i(37867),v=i(29747),y=i(7530),x=i(32302),b=i(97480),w=i(69442),C=i(70554),E=i(88815),T=i(26128),k=i(1482),A=i(82751),I=i(84387),B=i(93567),M=i(57183),O=new l({Extends:a,initialize:function(L){a.call(this);var _=L.config,G={alpha:_.transparent,desynchronized:_.desynchronized,depth:!0,antialias:_.antialiasGL,premultipliedAlpha:_.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:_.failIfMajorPerformanceCaveat,powerPreference:_.powerPreference,preserveDrawingBuffer:_.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:_.clearBeforeRender,antialias:_.antialias,backgroundColor:_.backgroundColor,contextCreation:G,roundPixels:_.roundPixels,maxTextures:_.maxTextures,maxTextureSize:_.maxTextureSize,batchSize:_.batchSize,maxLights:_.maxLights,mipmapFilter:_.mipmapFilter},this.game=L,this.type=h.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=L.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=v,this.contextRestoredHandler=v,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(P){var L,_=this.game,G=this.canvas,$=P.backgroundColor;if(_.config.context?L=_.config.context:L=G.getContext("webgl",P.contextCreation)||G.getContext("experimental-webgl",P.contextCreation),!L||L.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=L;var W=this,Y=function(){var N=L.getSupportedExtensions();W.supportedExtensions=N;var j="ANGLE_instanced_arrays";W.instancedArraysExtension=N.indexOf(j)>-1?L.getExtension(j):null;var U="OES_vertex_array_object";W.vaoExtension=N.indexOf(U)>-1?L.getExtension(U):null};Y(),this.contextLostHandler=function(N){W.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),W.emit(f.LOSE_WEBGL,W),N.preventDefault()},G.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(N){if(L.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}W.currentProgram=null,W.currentFramebuffer=null,W.setBlendMode(h.BlendModes.NORMAL),L.disable(L.BLEND),L.disable(L.DEPTH_TEST),L.enable(L.CULL_FACE),W.compression=W.getCompressedTextures();var j=function(U){U.createResource()};o(W.glTextureWrappers,j),o(W.glBufferWrappers,j),o(W.glFramebufferWrappers,j),o(W.glProgramWrappers,j),o(W.glAttribLocationWrappers,j),o(W.glUniformLocationWrappers,j),W.createTemporaryTextures(),W.pipelines.restoreContext(),W.resize(W.game.scale.baseSize.width,W.game.scale.baseSize.height),Y(),W.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),W.emit(f.RESTORE_WEBGL,W),N.preventDefault()},G.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),_.context=L;for(var z=0;z<=27;z++)this.blendModes.push({func:[L.ONE,L.ONE_MINUS_SRC_ALPHA],equation:L.FUNC_ADD});this.blendModes[1].func=[L.ONE,L.DST_ALPHA],this.blendModes[2].func=[L.DST_COLOR,L.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[L.ONE,L.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[L.ZERO,L.ONE_MINUS_SRC_ALPHA],equation:L.FUNC_REVERSE_SUBTRACT},this.glFormats=[L.BYTE,L.SHORT,L.UNSIGNED_BYTE,L.UNSIGNED_SHORT,L.FLOAT],this.glFuncMap={mat2:{func:L.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:L.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:L.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:L.uniform1f,length:1},"1fv":{func:L.uniform1fv,length:1},"1i":{func:L.uniform1i,length:1},"1iv":{func:L.uniform1iv,length:1},"2f":{func:L.uniform2f,length:2},"2fv":{func:L.uniform2fv,length:1},"2i":{func:L.uniform2i,length:2},"2iv":{func:L.uniform2iv,length:1},"3f":{func:L.uniform3f,length:3},"3fv":{func:L.uniform3fv,length:1},"3i":{func:L.uniform3i,length:3},"3iv":{func:L.uniform3iv,length:1},"4f":{func:L.uniform4f,length:4},"4fv":{func:L.uniform4fv,length:1},"4i":{func:L.uniform4i,length:4},"4iv":{func:L.uniform4iv,length:1}},(!P.maxTextures||P.maxTextures===-1)&&(P.maxTextures=L.getParameter(L.MAX_TEXTURE_IMAGE_UNITS)),P.maxTextureSize||(P.maxTextureSize=L.getParameter(L.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),L.disable(L.DEPTH_TEST),L.disable(L.CULL_FACE),L.enable(L.BLEND),L.clearColor($.redGL,$.greenGL,$.blueGL,$.alphaGL);var F=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return F.indexOf(P.mipmapFilter)!==-1&&(this.mipmapFilter=L[P.mipmapFilter]),this.maxTextures=C.checkShaderMax(L,P.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new y(this),this.setBlendMode(h.BlendModes.NORMAL),this.projectionMatrix=new u().identity(),_.textures.once(w.READY,this.boot,this),this},boot:function(){var P=this.game,L=this.pipelines,_=P.scale.baseSize,G=_.width,$=_.height;this.width=G,this.height=$,this.isBooted=!0,this.renderTarget=new x(this,G,$,1,0,!0,!0),this.maskTarget=new x(this,G,$,1,0,!0,!0),this.maskSource=new x(this,G,$,1,0,!0,!0);var W=P.config;L.boot(W.pipeline,W.defaultPipeline,W.autoMobilePipeline),this.blankTexture=P.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=P.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=P.textures.getFrame("__WHITE").glTexture;var Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.enable(Y.SCISSOR_TEST),P.scale.on(b.RESIZE,this.onResize,this),this.resize(G,$)},createTemporaryTextures:function(){for(var P=this.gl,L=0;L<this.maxTextures;L++){var _=P.createTexture();P.activeTexture(P.TEXTURE0+L),P.bindTexture(P.TEXTURE_2D,_),P.texImage2D(P.TEXTURE_2D,0,P.RGBA,1,1,0,P.RGBA,P.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(L)}},captureFrame:function(P,L){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(P,L,_){},stopCapture:function(){},onCapture:function(P){},onResize:function(P,L){(L.width!==this.width||L.height!==this.height)&&this.resize(L.width,L.height)},beginCapture:function(P,L){P===void 0&&(P=this.width),L===void 0&&(L=this.height),this.renderTarget.bind(!0,P,L),this.setProjectionMatrix(P,L)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(P,L){var _=this.gl;return this.width=P,this.height=L,this.setProjectionMatrix(P,L),_.viewport(0,0,P,L),this.drawingBufferHeight=_.drawingBufferHeight,_.scissor(0,_.drawingBufferHeight-L,P,L),this.defaultScissor[2]=P,this.defaultScissor[3]=L,this.emit(f.RESIZE,P,L),this},getCompressedTextures:function(){var P="WEBGL_compressed_texture_",L="WEBKIT_"+P,_="EXT_texture_compression_",G=function(W,Y){var z=W.getExtension(P+Y)||W.getExtension(L+Y)||W.getExtension(_+Y);if(z){var F={};for(var N in z)F[z[N]]=N;return F}},$=this.gl;return{ETC:G($,"etc"),ETC1:G($,"etc1"),ATC:G($,"atc"),ASTC:G($,"astc"),BPTC:G($,"bptc"),RGTC:G($,"rgtc"),PVRTC:G($,"pvrtc"),S3TC:G($,"s3tc"),S3TCSRGB:G($,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(P,L){var _=this.compression[P.toUpperCase()];if(L in _)return _[L]},supportsCompressedTexture:function(P,L){var _=this.compression[P.toUpperCase()];return _?L?L in _:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(P,L){return(P!==this.projectionWidth||L!==this.projectionHeight)&&(this.projectionWidth=P,this.projectionHeight=L,this.projectionMatrix.ortho(0,P,L,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(P){return this.supportedExtensions?this.supportedExtensions.indexOf(P):!1},getExtension:function(P){return this.hasExtension(P)?(P in this.extensions||(this.extensions[P]=this.gl.getExtension(P)),this.extensions[P]):null},flush:function(){this.pipelines.flush()},pushScissor:function(P,L,_,G,$){$===void 0&&($=this.drawingBufferHeight);var W=this.scissorStack,Y=[P,L,_,G];return W.push(Y),this.setScissor(P,L,_,G,$),this.currentScissor=Y,Y},setScissor:function(P,L,_,G,$){$===void 0&&($=this.drawingBufferHeight);var W=this.gl,Y=this.currentScissor,z=_>0&&G>0;if(Y&&z){var F=Y[0],N=Y[1],j=Y[2],U=Y[3];z=F!==P||N!==L||j!==_||U!==G}z&&(this.flush(),W.scissor(P,$-L-G,_,G))},resetScissor:function(){var P=this.gl;P.enable(P.SCISSOR_TEST);var L=this.currentScissor;if(L){var _=L[0],G=L[1],$=L[2],W=L[3];$>0&&W>0&&P.scissor(_,this.drawingBufferHeight-G-W,$,W)}},popScissor:function(){var P=this.scissorStack;P.pop();var L=P[P.length-1];L&&this.setScissor(L[0],L[1],L[2],L[3]),this.currentScissor=L},hasActiveStencilMask:function(){var P=this.currentMask.mask,L=this.currentCameraMask.mask;return P&&P.isStencil||L&&L.isStencil},resetViewport:function(){var P=this.gl;P.viewport(0,0,this.width,this.height),this.drawingBufferHeight=P.drawingBufferHeight},setBlendMode:function(P,L){L===void 0&&(L=!1);var _=this.gl,G=this.blendModes[P];return L||P!==h.BlendModes.SKIP_CHECK&&this.currentBlendMode!==P?(this.flush(),_.enable(_.BLEND),_.blendEquation(G.equation),G.func.length>2?_.blendFuncSeparate(G.func[0],G.func[1],G.func[2],G.func[3]):_.blendFunc(G.func[0],G.func[1]),this.currentBlendMode=P,!0):!1},addBlendMode:function(P,L){var _=this.blendModes.push({func:P,equation:L});return _-1},updateBlendMode:function(P,L,_){return this.blendModes[P]&&(this.blendModes[P].func=L,_&&(this.blendModes[P].equation=_)),this},removeBlendMode:function(P){return P>17&&this.blendModes[P]&&this.blendModes.splice(P,1),this},pushFramebuffer:function(P,L,_,G,$){return P===this.currentFramebuffer?this:(this.fboStack.push(P),this.setFramebuffer(P,L,_,G,$))},setFramebuffer:function(P,L,_,G,$){if(L===void 0&&(L=!1),_===void 0&&(_=!0),G===void 0&&(G=null),$===void 0&&($=!1),P===this.currentFramebuffer)return this;var W=this.gl,Y=this.width,z=this.height;return P&&P.renderTexture&&_?(Y=P.renderTexture.width,z=P.renderTexture.height):this.flush(),P?W.bindFramebuffer(W.FRAMEBUFFER,P.webGLFramebuffer):W.bindFramebuffer(W.FRAMEBUFFER,null),_&&W.viewport(0,0,Y,z),G&&W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,G.webGLTexture,0),$&&(W.clearColor(0,0,0,0),W.clear(W.COLOR_BUFFER_BIT)),L&&(P?(this.drawingBufferHeight=z,this.pushScissor(0,0,Y,z)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=P,this},popFramebuffer:function(P,L){P===void 0&&(P=!1),L===void 0&&(L=!0);var _=this.fboStack;_.pop();var G=_[_.length-1];return G||(G=null),this.setFramebuffer(G,P,L),G},restoreFramebuffer:function(P,L){P===void 0&&(P=!1),L===void 0&&(L=!0);var _=this.fboStack,G=_[_.length-1];G||(G=null),this.currentFramebuffer=null,this.setFramebuffer(G,P,L)},setProgram:function(P){return P!==this.currentProgram?(this.flush(),this.gl.useProgram(P.webGLProgram),this.currentProgram=P,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(P,L,_,G,$){$===void 0&&($=!1);var W=this.gl,Y=W.NEAREST,z=W.NEAREST,F=W.CLAMP_TO_EDGE,N=null;L=P?P.width:L,_=P?P.height:_;var j=p(L,_);if(j&&!$&&(F=W.REPEAT),G===h.ScaleModes.LINEAR&&this.config.antialias){var U=P&&P.compressed,V=!U&&j||U&&P.mipmaps.length>1;Y=this.mipmapFilter&&V?this.mipmapFilter:W.LINEAR,z=W.LINEAR}return!P&&typeof L=="number"&&typeof _=="number"?N=this.createTexture2D(0,Y,z,F,F,W.RGBA,null,L,_):N=this.createTexture2D(0,Y,z,F,F,W.RGBA,P),N},createTexture2D:function(P,L,_,G,$,W,Y,z,F,N,j,U){typeof z!="number"&&(z=Y?Y.width:1),typeof F!="number"&&(F=Y?Y.height:1);var V=new A(this.gl,P,L,_,G,$,W,Y,z,F,N,j,U);return this.glTextureWrappers.push(V),V},createFramebuffer:function(P,L,_,G){this.currentFramebuffer=null;var $=new I(this.gl,P,L,_,G);return this.glFramebufferWrappers.push($),$},beginBitmapMask:function(P,L){var _=this.gl;_&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==P&&(this.currentMask.mask=P,this.currentMask.camera=L))},drawBitmapMask:function(P,L,_){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),P.renderWebGL(this,P,L),this.maskSource.unbind(!0),this.maskTarget.unbind();var G=this.gl,$=this.getCurrentStencilMask();$?(G.enable(G.STENCIL_TEST),$.mask.applyStencil(this,$.camera,!0)):this.currentMask.mask=null,this.pipelines.set(_),G.activeTexture(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,this.maskTarget.texture.webGLTexture),G.activeTexture(G.TEXTURE1),G.bindTexture(G.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(P,L){var _=new k(this.gl,P,L);return this.glProgramWrappers.push(_),_},createVertexBuffer:function(P,L){var _=this.gl,G=new T(_,P,_.ARRAY_BUFFER,L);return this.glBufferWrappers.push(G),G},createAttribLocation:function(P,L){var _=new B(this.gl,P,L);return this.glAttribLocationWrappers.push(_),_},createUniformLocation:function(P,L){var _=new M(this.gl,P,L);return this.glUniformLocationWrappers.push(_),_},createIndexBuffer:function(P,L){var _=this.gl,G=new T(_,P,_.ELEMENT_ARRAY_BUFFER,L);return this.glBufferWrappers.push(G),G},deleteTexture:function(P){if(P)return m(this.glTextureWrappers,P),P.destroy(),this},deleteFramebuffer:function(P){return P?(m(this.fboStack,P),m(this.glFramebufferWrappers,P),P.destroy(),this):this},deleteProgram:function(P){return P&&(m(this.glProgramWrappers,P),P.destroy()),this},deleteAttribLocation:function(P){return P&&(m(this.glAttribLocationWrappers,P),P.destroy()),this},deleteUniformLocation:function(P){return P&&(m(this.glUniformLocationWrappers,P),P.destroy()),this},deleteBuffer:function(P){return P?(m(this.glBufferWrappers,P),P.destroy(),this):this},preRenderCamera:function(P){var L=P.x,_=P.y,G=P.width,$=P.height,W=P.backgroundColor;if(P.emit(c.PRE_RENDER,P),this.pipelines.preBatchCamera(P),this.pushScissor(L,_,G,$),P.mask&&(this.currentCameraMask.mask=P.mask,this.currentCameraMask.camera=P._maskCamera,P.mask.preRenderWebGL(this,P,P._maskCamera)),W.alphaGL>0){var Y=this.pipelines.setMulti();Y.drawFillRect(L,_,G,$,C.getTintFromFloats(W.blueGL,W.greenGL,W.redGL,1),W.alphaGL)}},getCurrentStencilMask:function(){var P=null,L=this.maskStack,_=this.currentCameraMask;return L.length>0?P=L[L.length-1]:_.mask&&_.mask.isStencil&&(P=_),P},postRenderCamera:function(P){var L=P.flashEffect,_=P.fadeEffect;if(L.isRunning||_.isRunning||_.isComplete){var G=this.pipelines.setMulti();L.postRenderWebGL(G,C.getTintFromFloats),_.postRenderWebGL(G,C.getTintFromFloats)}P.dirty=!1,this.popScissor(),P.mask&&(this.currentCameraMask.mask=null,P.mask.postRenderWebGL(this,P._maskCamera)),this.pipelines.postBatchCamera(P),P.emit(c.POST_RENDER,P)},preRender:function(){if(!this.contextLost){var P=this.gl;if(P.bindFramebuffer(P.FRAMEBUFFER,null),this.config.clearBeforeRender){var L=this.config.backgroundColor;P.clearColor(L.redGL,L.greenGL,L.blueGL,L.alphaGL),P.clear(P.COLOR_BUFFER_BIT|P.DEPTH_BUFFER_BIT|P.STENCIL_BUFFER_BIT)}P.enable(P.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&P.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(f.PRE_RENDER)}},render:function(P,L,_){if(!this.contextLost){var G=L.length;if(this.emit(f.RENDER,P,_),this.preRenderCamera(_),G===0){this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(_);return}this.currentType="";for(var $=this.currentMask,W=0;W<G;W++){this.finalType=W===G-1;var Y=L[W],z=Y.mask;$=this.currentMask,$.mask&&$.mask!==z&&$.mask.postRenderWebGL(this,$.camera),z&&$.mask!==z&&z.preRenderWebGL(this,Y,_),Y.blendMode!==this.currentBlendMode&&this.setBlendMode(Y.blendMode);var F=Y.type;F!==this.currentType&&(this.newType=!0,this.currentType=F),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=L[W+1].type===this.currentType,Y.renderWebGL(this,Y,_),this.newType=!1}$=this.currentMask,$.mask&&$.mask.postRenderWebGL(this,$.camera),this.setBlendMode(h.BlendModes.NORMAL),this.postRenderCamera(_)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(f.POST_RENDER);var P=this.snapshotState;P.callback&&(E(this.gl,P),P.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var P=this.gl,L=this.getCurrentStencilMask();if(L){var _=L.mask;P.enable(P.STENCIL_TEST),_.invertAlpha?P.stencilFunc(P.NOTEQUAL,_.level,255):P.stencilFunc(P.EQUAL,_.level,255)}},snapshot:function(P,L,_){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,P,L,_)},snapshotArea:function(P,L,_,G,$,W,Y){var z=this.snapshotState;return z.callback=$,z.type=W,z.encoder=Y,z.getPixel=!1,z.x=P,z.y=L,z.width=_,z.height=G,this},snapshotPixel:function(P,L,_){return this.snapshotArea(P,L,1,1,_),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(P,L,_,G,$,W,Y,z,F,N,j){$===void 0&&($=!1),W===void 0&&(W=0),Y===void 0&&(Y=0),z===void 0&&(z=L),F===void 0&&(F=_),N==="pixel"&&($=!0,N="image/png");var U=this.currentFramebuffer;this.snapshotArea(W,Y,z,F,G,N,j);var V=this.snapshotState;return V.getPixel=$,V.isFramebuffer=!0,V.bufferWidth=L,V.bufferHeight=_,V.width=Math.min(V.width,L),V.height=Math.min(V.height,_),this.setFramebuffer(P),E(this.gl,V),this.setFramebuffer(U),V.callback=null,V.isFramebuffer=!1,this},canvasToTexture:function(P,L,_,G){_===void 0&&(_=!1),G===void 0&&(G=!1);var $=this.gl,W=$.NEAREST,Y=$.NEAREST,z=P.width,F=P.height,N=$.CLAMP_TO_EDGE,j=p(z,F);return!_&&j&&(N=$.REPEAT),this.config.antialias&&(W=j&&this.mipmapFilter?this.mipmapFilter:$.LINEAR,Y=$.LINEAR),L?(L.update(P,z,F,G,N,N,W,Y,L.format),L):this.createTexture2D(0,W,Y,N,N,$.RGBA,P,z,F,!0,!1,G)},createCanvasTexture:function(P,L,_){return L===void 0&&(L=!1),_===void 0&&(_=!1),this.canvasToTexture(P,null,L,_)},updateCanvasTexture:function(P,L,_,G){return _===void 0&&(_=!1),G===void 0&&(G=!1),this.canvasToTexture(P,L,G,_)},videoToTexture:function(P,L,_,G){_===void 0&&(_=!1),G===void 0&&(G=!1);var $=this.gl,W=$.NEAREST,Y=$.NEAREST,z=P.videoWidth,F=P.videoHeight,N=$.CLAMP_TO_EDGE,j=p(z,F);return!_&&j&&(N=$.REPEAT),this.config.antialias&&(W=j&&this.mipmapFilter?this.mipmapFilter:$.LINEAR,Y=$.LINEAR),L?(L.update(P,z,F,G,N,N,W,Y,L.format),L):this.createTexture2D(0,W,Y,N,N,$.RGBA,P,z,F,!0,!0,G)},createVideoTexture:function(P,L,_){return L===void 0&&(L=!1),_===void 0&&(_=!1),this.videoToTexture(P,null,L,_)},updateVideoTexture:function(P,L,_,G){return _===void 0&&(_=!1),G===void 0&&(G=!1),this.videoToTexture(P,L,G,_)},createUint8ArrayTexture:function(P,L,_){var G=this.gl,$=G.NEAREST,W=G.NEAREST,Y=G.CLAMP_TO_EDGE,z=p(L,_);return z&&(Y=G.REPEAT),this.createTexture2D(0,$,W,Y,Y,G.RGBA,P,L,_)},setTextureFilter:function(P,L){var _=this.gl,G=L===0?_.LINEAR:_.NEAREST;_.activeTexture(_.TEXTURE0);var $=_.getParameter(_.TEXTURE_BINDING_2D);return _.bindTexture(_.TEXTURE_2D,P.webGLTexture),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,G),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,G),P.minFilter=G,P.magFilter=G,$&&_.bindTexture(_.TEXTURE_2D,$),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var P=function(L){L.destroy()};o(this.glAttribLocationWrappers,P),o(this.glBufferWrappers,P),o(this.glFramebufferWrappers,P),o(this.glProgramWrappers,P),o(this.glTextureWrappers,P),o(this.glUniformLocationWrappers,P),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});s.exports=O},38683:(s,g,i)=>{var o=i(83419),m=i(95428),c=i(95540),l=i(14500),h=new o({initialize:function(f,p,u,v,y){this.pipeline=f,this.name=p,this.renderer=f.renderer,this.gl=this.renderer.gl,this.fragSrc=v,this.vertSrc=u,this.program=this.renderer.createProgram(u,v),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(y),this.createUniforms()},createAttributes:function(a){var f=0,p=0,u=[];this.vertexComponentCount=0;for(var v=0;v<a.length;v++){var y=a[v],x=y.name,b=c(y,"size",1),w=c(y,"type",l.FLOAT),C=w.enum,E=w.size,T=!!y.normalized;u.push({name:x,size:b,type:C,normalized:T,offset:p,enabled:!1,location:-1}),E===4?f+=b:f++,p+=b*E}this.vertexSize=p,this.vertexComponentCount=f,this.attributes=u},bind:function(a,f){return a===void 0&&(a=!1),f===void 0&&(f=!1),f&&this.pipeline.flush(),this.renderer.setProgram(this.program),a&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(a){a===void 0&&(a=!1);for(var f=this.gl,p=this.renderer,u=this.vertexSize,v=this.attributes,y=this.program,x=0;x<v.length;x++){var b=v[x],w=b.size,C=b.type,E=b.offset,T=b.enabled,k=b.location,A=!!b.normalized;if(a){k!==-1&&p.deleteAttribLocation(k);var I=this.renderer.createAttribLocation(y,b.name);I.webGLAttribLocation>=0?(f.enableVertexAttribArray(I.webGLAttribLocation),f.vertexAttribPointer(I.webGLAttribLocation,w,C,A,u,E),b.enabled=!0,b.location=I):I.webGLAttribLocation!==-1&&f.disableVertexAttribArray(I.webGLAttribLocation)}else T?f.vertexAttribPointer(k.webGLAttribLocation,w,C,A,u,E):!T&&k!==-1&&k.webGLAttribLocation>-1&&(f.disableVertexAttribArray(k.webGLAttribLocation),b.location=-1)}return this},createUniforms:function(){var a=this.gl,f=this.program,p=this.uniforms,u,v,y,x=a.getProgramParameter(f.webGLProgram,a.ACTIVE_UNIFORMS);for(u=0;u<x;u++){var b=a.getActiveUniform(f.webGLProgram,u);if(b){v=b.name,y=this.renderer.createUniformLocation(f,v),y!==null&&(p[v]={name:v,location:y,setter:null,value1:null,value2:null,value3:null,value4:null});var w=v.indexOf("[");w>0&&(v=v.substr(0,w),p.hasOwnProperty(v)||(y=this.renderer.createUniformLocation(f,v),y!==null&&(p[v]={name:v,location:y,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var a=this.gl;this.renderer.setProgram(this.program);for(var f in this.uniforms){var p=this.uniforms[f];p.setter&&p.setter.call(a,p.location.webGLUniformLocation,p.value1,p.value2,p.value3,p.value4)}},hasUniform:function(a){return this.uniforms.hasOwnProperty(a)},resetUniform:function(a){var f=this.uniforms[a];return f&&(f.value1=null,f.value2=null,f.value3=null,f.value4=null),this},setUniform1:function(a,f,p,u){var v=this.uniforms[f];return v?((u||v.value1!==p)&&(v.setter||(v.setter=a),v.value1=p,this.renderer.setProgram(this.program),a.call(this.gl,v.location.webGLUniformLocation,p),this.pipeline.currentShader=this),this):this},setUniform2:function(a,f,p,u,v){var y=this.uniforms[f];return y?((v||y.value1!==p||y.value2!==u)&&(y.setter||(y.setter=a),y.value1=p,y.value2=u,this.renderer.setProgram(this.program),a.call(this.gl,y.location.webGLUniformLocation,p,u),this.pipeline.currentShader=this),this):this},setUniform3:function(a,f,p,u,v,y){var x=this.uniforms[f];return x?((y||x.value1!==p||x.value2!==u||x.value3!==v)&&(x.setter||(x.setter=a),x.value1=p,x.value2=u,x.value3=v,this.renderer.setProgram(this.program),a.call(this.gl,x.location.webGLUniformLocation,p,u,v),this.pipeline.currentShader=this),this):this},setUniform4:function(a,f,p,u,v,y,x){var b=this.uniforms[f];return b?((x||b.value1!==p||b.value2!==u||b.value3!==v||b.value4!==y)&&(b.setter||(b.setter=a),b.value1=p,b.value2=u,b.value3=v,b.value4=y,this.renderer.setProgram(this.program),a.call(this.gl,b.location.webGLUniformLocation,p,u,v,y),this.pipeline.currentShader=this),this):this},setBoolean:function(a,f){return this.setUniform1(this.gl.uniform1i,a,Number(f))},set1f:function(a,f){return this.setUniform1(this.gl.uniform1f,a,f)},set2f:function(a,f,p){return this.setUniform2(this.gl.uniform2f,a,f,p)},set3f:function(a,f,p,u){return this.setUniform3(this.gl.uniform3f,a,f,p,u)},set4f:function(a,f,p,u,v){return this.setUniform4(this.gl.uniform4f,a,f,p,u,v)},set1fv:function(a,f){return this.setUniform1(this.gl.uniform1fv,a,f,!0)},set2fv:function(a,f){return this.setUniform1(this.gl.uniform2fv,a,f,!0)},set3fv:function(a,f){return this.setUniform1(this.gl.uniform3fv,a,f,!0)},set4fv:function(a,f){return this.setUniform1(this.gl.uniform4fv,a,f,!0)},set1iv:function(a,f){return this.setUniform1(this.gl.uniform1iv,a,f,!0)},set2iv:function(a,f){return this.setUniform1(this.gl.uniform2iv,a,f,!0)},set3iv:function(a,f){return this.setUniform1(this.gl.uniform3iv,a,f,!0)},set4iv:function(a,f){return this.setUniform1(this.gl.uniform4iv,a,f,!0)},set1i:function(a,f){return this.setUniform1(this.gl.uniform1i,a,f)},set2i:function(a,f,p){return this.setUniform2(this.gl.uniform2i,a,f,p)},set3i:function(a,f,p,u){return this.setUniform3(this.gl.uniform3i,a,f,p,u)},set4i:function(a,f,p,u,v){return this.setUniform4(this.gl.uniform4i,a,f,p,u,v)},setMatrix2fv:function(a,f,p){return this.setUniform2(this.gl.uniformMatrix2fv,a,f,p,!0)},setMatrix3fv:function(a,f,p){return this.setUniform2(this.gl.uniformMatrix3fv,a,f,p,!0)},setMatrix4fv:function(a,f,p){return this.setUniform2(this.gl.uniformMatrix4fv,a,f,p,!0)},createProgram:function(a,f){return a===void 0&&(a=this.vertSrc),f===void 0&&(f=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=a,this.fragSrc=f,this.program=this.renderer.createProgram(a,f),this.createUniforms(),this.rebind()},destroy:function(){var a=this.renderer;m(this.uniforms,function(f){a.deleteUniformLocation(f.location)}),this.uniforms=null,m(this.attributes,function(f){a.deleteAttribLocation(f.location)}),this.attributes=null,a.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});s.exports=h},14500:s=>{var g={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};s.exports=g},4159:(s,g,i)=>{var o=i(14500),m=i(79291),c={PipelineManager:i(7530),Pipelines:i(96615),RenderTarget:i(32302),Utils:i(70554),WebGLPipeline:i(29100),WebGLRenderer:i(74797),WebGLShader:i(38683),Wrappers:i(9503)};c=m(!1,c,o),s.exports=c},31302:(s,g,i)=>{var o=i(83419),m=i(95540),c=i(78908),l=i(85191),h=i(14500),a=i(29100),f=new o({Extends:a,initialize:function(u){u.fragShader=m(u,"fragShader",c),u.vertShader=m(u,"vertShader",l),u.batchSize=m(u,"batchSize",1),u.vertices=m(u,"vertices",[-1,1,-1,-7,7,1]),u.attributes=m(u,"attributes",[{name:"inPosition",size:2,type:h.FLOAT}]),a.call(this,u)},boot:function(){a.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(p,u){a.prototype.resize.call(this,p,u),this.set2f("uResolution",p,u)},beginMask:function(p,u,v){this.renderer.beginBitmapMask(p,v)},endMask:function(p,u,v){var y=this.gl,x=this.renderer,b=p.bitmapMask;b&&y&&(x.drawBitmapMask(b,u,this),v&&this.set2f("uResolution",v.width,v.height),this.set1i("uInvertMaskAlpha",p.invertAlpha),y.drawArrays(this.topology,0,3),v&&this.set2f("uResolution",this.width,this.height),y.bindTexture(y.TEXTURE_2D,null))}});s.exports=f},92651:(s,g,i)=>{var o=i(83419),m=i(58918),c=i(14811),l=i(95540),h=i(43558),a=i(89350),f=i(70554),p=new o({Extends:h,initialize:function(v){v.shaders=[f.setGlowQuality(a.FXGlowFrag,v.game),a.FXShadowFrag,a.FXPixelateFrag,a.FXVignetteFrag,a.FXShineFrag,a.FXBlurLowFrag,a.FXBlurMedFrag,a.FXBlurHighFrag,a.FXGradientFrag,a.FXBloomFrag,a.ColorMatrixFrag,a.FXCircleFrag,a.FXBarrelFrag,a.FXDisplacementFrag,a.FXWipeFrag,a.FXBokehFrag],h.call(this,v);var y=this.game;this.glow=new m.Glow(y),this.shadow=new m.Shadow(y),this.pixelate=new m.Pixelate(y),this.vignette=new m.Vignette(y),this.shine=new m.Shine(y),this.gradient=new m.Gradient(y),this.circle=new m.Circle(y),this.barrel=new m.Barrel(y),this.wipe=new m.Wipe(y),this.bokeh=new m.Bokeh(y);var x=[];x[c.GLOW]=this.onGlow,x[c.SHADOW]=this.onShadow,x[c.PIXELATE]=this.onPixelate,x[c.VIGNETTE]=this.onVignette,x[c.SHINE]=this.onShine,x[c.BLUR]=this.onBlur,x[c.GRADIENT]=this.onGradient,x[c.BLOOM]=this.onBloom,x[c.COLOR_MATRIX]=this.onColorMatrix,x[c.CIRCLE]=this.onCircle,x[c.BARREL]=this.onBarrel,x[c.DISPLACEMENT]=this.onDisplacement,x[c.WIPE]=this.onWipe,x[c.BOKEH]=this.onBokeh,this.fxHandlers=x,this.source,this.target,this.swap},onDraw:function(u,v,y){this.source=u,this.target=v,this.swap=y;var x=u.width,b=u.height,w=this.tempSprite,C=this.fxHandlers;if(w&&w.preFX)for(var E=w.preFX.list,T=0;T<E.length;T++){var k=E[T];k.active&&C[k.type].call(this,k,x,b)}this.drawToGame(this.source)},runDraw:function(){var u=this.source,v=this.target;this.copy(u,v),this.source=v,this.target=u},onGlow:function(u,v,y){var x=this.shaders[c.GLOW];this.setShader(x),this.glow.onPreRender(u,x,v,y),this.runDraw()},onShadow:function(u){var v=this.shaders[c.SHADOW];this.setShader(v),this.shadow.onPreRender(u,v),this.runDraw()},onPixelate:function(u,v,y){var x=this.shaders[c.PIXELATE];this.setShader(x),this.pixelate.onPreRender(u,x,v,y),this.runDraw()},onVignette:function(u){var v=this.shaders[c.VIGNETTE];this.setShader(v),this.vignette.onPreRender(u,v),this.runDraw()},onShine:function(u,v,y){var x=this.shaders[c.SHINE];this.setShader(x),this.shine.onPreRender(u,x,v,y),this.runDraw()},onBlur:function(u,v,y){var x=l(u,"quality"),b=this.shaders[c.BLUR+x];this.setShader(b),this.set1i("uMainSampler",0),this.set2f("resolution",v,y),this.set1f("strength",l(u,"strength")),this.set3fv("color",l(u,"glcolor"));for(var w=l(u,"x"),C=l(u,"y"),E=l(u,"steps"),T=0;T<E;T++)this.set2f("offset",w,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw()},onGradient:function(u){var v=this.shaders[c.GRADIENT];this.setShader(v),this.gradient.onPreRender(u,v),this.runDraw()},onBloom:function(u,v,y){var x=this.shaders[c.BLOOM];this.copySprite(this.source,this.swap),this.setShader(x),this.set1i("uMainSampler",0),this.set1f("strength",l(u,"blurStrength")),this.set3fv("color",l(u,"glcolor"));for(var b=2/v*l(u,"offsetX"),w=2/y*l(u,"offsetY"),C=l(u,"steps"),E=0;E<C;E++)this.set2f("offset",b,0),this.runDraw(),this.set2f("offset",0,w),this.runDraw();this.blendFrames(this.swap,this.source,this.target,l(u,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(u){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",u.getData()),this.set1f("uAlpha",u.alpha),this.runDraw()},onCircle:function(u,v,y){var x=this.shaders[c.CIRCLE];this.setShader(x),this.circle.onPreRender(u,x,v,y),this.runDraw()},onBarrel:function(u){var v=this.shaders[c.BARREL];this.setShader(v),this.barrel.onPreRender(u,v),this.runDraw()},onDisplacement:function(u){this.setShader(this.shaders[c.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",u.x,u.y),this.bindTexture(u.glTexture,1),this.runDraw()},onWipe:function(u){var v=this.shaders[c.WIPE];this.setShader(v),this.wipe.onPreRender(u,v),this.runDraw()},onBokeh:function(u,v,y){var x=this.shaders[c.BOKEH];this.setShader(x),this.bokeh.onPreRender(u,x,v,y),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,h.prototype.destroy.call(this),this}});s.exports=p},96569:(s,g,i)=>{var o=i(83419),m=i(95540),c=i(31063),l=i(57516),h=i(61340),a=i(26099),f=i(29100),p=new o({Extends:l,initialize:function(v){var y=m(v,"fragShader",c);v.fragShader=y.replace("%LIGHT_COUNT%",v.game.renderer.config.maxLights),l.call(this,v),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new a,this._tempMatrix=new h,this._tempMatrix2=new h},boot:function(){f.prototype.boot.call(this)},onRender:function(u,v){var y=u.sys.lights;if(this.lightsActive=!1,!(!y||!y.active)){var x=y.getLights(v),b=x.length;this.lightsActive=!0;var w,C=this.renderer,E=C.height,T=v.matrix,k=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",v.x,v.y,v.rotation,v.zoom),this.set3f("uAmbientLightColor",y.ambientColor.r,y.ambientColor.g,y.ambientColor.b),this.set1i("uLightCount",b),w=0;w<b;w++){var A=x[w].light,I=A.color,B="uLights["+w+"].";T.transformPoint(A.x,A.y,k),this.set2f(B+"position",k.x-v.scrollX*A.scrollFactorX*v.zoom,E-(k.y-v.scrollY*A.scrollFactorY*v.zoom)),this.set3f(B+"color",I.r,I.g,I.b),this.set1f(B+"intensity",A.intensity),this.set1f(B+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(u){if(u!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var v=this.inverseRotationMatrix;if(u){var y=-u,x=Math.cos(y),b=Math.sin(y);v[1]=b,v[3]=-b,v[0]=v[4]=x}else v[0]=v[4]=1,v[1]=v[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,v),this.currentNormalMapRotation=u}},setTexture2D:function(u,v){var y=this.renderer;u===void 0&&(u=y.whiteTexture);var x=this.getNormalMap(v);this.isNewNormalMap(u,x)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(x),this.currentNormalMap=x);var b=0;if(v&&v.parentContainer){var w=v.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);b=w.rotationNormalized}else v&&(b=v.rotation);return this.setNormalMapRotation(b),0},setGameObject:function(u,v){v===void 0&&(v=u.frame);var y=v.glTexture,x=this.getNormalMap(u);if(this.isNewNormalMap(y,x)&&(this.flush(),this.createBatch(y),this.addTextureToBatch(x),this.currentNormalMap=x),u.parentContainer){var b=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(b.rotationNormalized)}else this.setNormalMapRotation(u.rotation);return 0},isNewNormalMap:function(u,v){return this.currentTexture!==u||this.currentNormalMap!==v},getNormalMap:function(u){var v;if(u)u.displayTexture?v=u.displayTexture.dataSource[u.displayFrame.sourceIndex]:u.texture?v=u.texture.dataSource[u.frame.sourceIndex]:u.tileset&&(Array.isArray(u.tileset)?v=u.tileset[0].image.dataSource[0]:v=u.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return v?v.glTexture:this.renderer.normalTexture},batchSprite:function(u,v,y){this.lightsActive&&l.prototype.batchSprite.call(this,u,v,y)},batchTexture:function(u,v,y,x,b,w,C,E,T,k,A,I,B,M,O,P,L,_,G,$,W,Y,z,F,N,j,U,V,q,ot,Q,rt){this.lightsActive&&l.prototype.batchTexture.call(this,u,v,y,x,b,w,C,E,T,k,A,I,B,M,O,P,L,_,G,$,W,Y,z,F,N,j,U,V,q,ot,Q,rt)},batchTextureFrame:function(u,v,y,x,b,w,C){this.lightsActive&&l.prototype.batchTextureFrame.call(this,u,v,y,x,b,w,C)}});s.exports=p},56527:(s,g,i)=>{var o=i(83419),m=i(95540),c=i(57516),l=i(45561),h=i(60722),a=i(14500),f=i(29100),p=new o({Extends:c,initialize:function(v){v.fragShader=m(v,"fragShader",l),v.vertShader=m(v,"vertShader",h),v.attributes=m(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:a.UNSIGNED_BYTE,normalized:!0}]),v.forceZero=!0,v.resizeUniform="uResolution",c.call(this,v)},boot:function(){f.prototype.boot.call(this);var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height),this.set1i("uRoundPixels",u.config.roundPixels)}});s.exports=p},57516:(s,g,i)=>{var o=i(83419),m=i(94811),c=i(95540),l=i(98840),h=i(44667),a=i(61340),f=i(70554),p=i(14500),u=i(29100),v=new o({Extends:u,initialize:function(x){var b=x.game.renderer,w=c(x,"fragShader",l);x.fragShader=f.parseFragmentShaderMaxTextures(w,b.maxTextures),x.vertShader=c(x,"vertShader",h),x.attributes=c(x,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:p.UNSIGNED_BYTE,normalized:!0}]),x.resizeUniform="uResolution",u.call(this,x),this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this.calcMatrix=new a,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){u.prototype.boot.call(this);var y=this.renderer;this.set1iv("uMainSampler",y.textureIndexes),this.set2f("uResolution",y.width,y.height),this.set1i("uRoundPixels",y.config.roundPixels)},batchSprite:function(y,x,b){this.manager.set(this,y);var w=this._tempMatrix1,C=this._tempMatrix2,E=this._tempMatrix3,T=y.frame,k=T.glTexture,A=T.u0,I=T.v0,B=T.u1,M=T.v1,O=T.x,P=T.y,L=T.cutWidth,_=T.cutHeight,G=T.customPivot,$=y.displayOriginX,W=y.displayOriginY,Y=-$+O,z=-W+P;if(y.isCropped){var F=y._crop;(F.flipX!==y.flipX||F.flipY!==y.flipY)&&T.updateCropUVs(F,y.flipX,y.flipY),A=F.u0,I=F.v0,B=F.u1,M=F.v1,L=F.width,_=F.height,O=F.x,P=F.y,Y=-$+O,z=-W+P}var N=1,j=1;y.flipX&&(G||(Y+=-T.realWidth+$*2),N=-1),y.flipY&&(G||(z+=-T.realHeight+W*2),j=-1);var U=y.x,V=y.y;C.applyITRS(U,V,y.rotation,y.scaleX*N,y.scaleY*j),w.copyFrom(x.matrix),b?(w.multiplyWithOffset(b,-x.scrollX*y.scrollFactorX,-x.scrollY*y.scrollFactorY),C.e=U,C.f=V):(C.e-=x.scrollX*y.scrollFactorX,C.f-=x.scrollY*y.scrollFactorY),w.multiply(C,E);var q=E.setQuad(Y,z,Y+L,z+_),ot=f.getTintAppendFloatAlpha,Q=x.alpha,rt=ot(y.tintTopLeft,Q*y._alphaTL),Bt=ot(y.tintTopRight,Q*y._alphaTR),K=ot(y.tintBottomLeft,Q*y._alphaBL),Mt=ot(y.tintBottomRight,Q*y._alphaBR);this.shouldFlush(6)&&this.flush();var Ft=this.setGameObject(y,T);this.manager.preBatch(y),this.currentShader.set1i("uRoundPixels",x.roundPixels),this.batchQuad(y,q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],A,I,B,M,rt,Bt,K,Mt,y.tintFill,k,Ft),this.manager.postBatch(y)},batchTexture:function(y,x,b,w,C,E,T,k,A,I,B,M,O,P,L,_,G,$,W,Y,z,F,N,j,U,V,q,ot,Q,rt,Bt,K,Mt){Mt===void 0&&(Mt=!1),this.manager.set(this,y);var Ft=this._tempMatrix1,dt=this._tempMatrix2,yt=this._tempMatrix3,At=$/b+q,Ot=W/w+ot,le=($+Y)/b+q,_t=(W+z)/w+ot,xe=T,ke=k,ve=-_,Fe=-G;if(y.isCropped){var Ze=y._crop,ei=Ze.width,Ci=Ze.height;xe=ei,ke=Ci,T=ei,k=Ci,$=Ze.x,W=Ze.y;var xt=$,et=W;M&&(xt=Y-Ze.x-ei),O&&(et=z-Ze.y-Ci),At=xt/b+q,Ot=et/w+ot,le=(xt+ei)/b+q,_t=(et+Ci)/w+ot,ve=-_+$,Fe=-G+W}O=O^(!Bt&&x.isRenderTexture?1:0),M&&(xe*=-1,ve+=T),O&&(ke*=-1,Fe+=k),dt.applyITRS(C,E,B,A,I),Ft.copyFrom(Q.matrix),rt?(Ft.multiplyWithOffset(rt,-Q.scrollX*P,-Q.scrollY*L),dt.e=C,dt.f=E):(dt.e-=Q.scrollX*P,dt.f-=Q.scrollY*L),Ft.multiply(dt,yt);var tt=yt.setQuad(ve,Fe,ve+xe,Fe+ke);K==null&&(K=this.setTexture2D(x)),y&&!Mt&&this.manager.preBatch(y),this.currentShader.set1i("uRoundPixels",Q.roundPixels),this.batchQuad(y,tt[0],tt[1],tt[2],tt[3],tt[4],tt[5],tt[6],tt[7],At,Ot,le,_t,F,N,j,U,V,x,K),y&&!Mt&&this.manager.postBatch(y)},batchTextureFrame:function(y,x,b,w,C,E,T){this.manager.set(this);var k=this._tempMatrix1.copyFrom(E),A=this._tempMatrix2;T?k.multiply(T,A):A=k;var I=A.setQuad(x,b,x+y.width,b+y.height),B=this.setTexture2D(y.source.glTexture);w=f.getTintAppendFloatAlpha(w,C),this.batchQuad(null,I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],y.u0,y.v0,y.u1,y.v1,w,w,w,w,0,y.glTexture,B)},batchFillRect:function(y,x,b,w,C,E){this.renderer.pipelines.set(this);var T=this.calcMatrix;E&&E.multiply(C,T);var k=T.setQuad(y,x,y+b,x+w),A=this.fillTint;this.batchQuad(null,k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(y,x,b,w,C,E,T,k){this.renderer.pipelines.set(this);var A=this.calcMatrix;k&&k.multiply(T,A);var I=A.getX(y,x),B=A.getY(y,x),M=A.getX(b,w),O=A.getY(b,w),P=A.getX(C,E),L=A.getY(C,E),_=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,I,B,M,O,P,L,0,0,1,1,_.TL,_.TR,_.BL,2)},batchStrokeTriangle:function(y,x,b,w,C,E,T,k,A){var I=this.tempTriangle;I[0].x=y,I[0].y=x,I[0].width=T,I[1].x=b,I[1].y=w,I[1].width=T,I[2].x=C,I[2].y=E,I[2].width=T,I[3].x=y,I[3].y=x,I[3].width=T,this.batchStrokePath(I,T,!1,k,A)},batchFillPath:function(y,x,b){this.renderer.pipelines.set(this);var w=this.calcMatrix;b&&b.multiply(x,w);for(var C=y.length,E=this.polygonCache,T,k,A=this.fillTint.TL,I=this.fillTint.TR,B=this.fillTint.BL,M=0;M<C;++M)k=y[M],E.push(k.x,k.y);T=m(E),C=T.length,this.currentShader.set1i("uRoundPixels",!1);for(var O=0;O<C;O+=3){var P=T[O+0]*2,L=T[O+1]*2,_=T[O+2]*2,G=E[P+0],$=E[P+1],W=E[L+0],Y=E[L+1],z=E[_+0],F=E[_+1],N=w.getX(G,$),j=w.getY(G,$),U=w.getX(W,Y),V=w.getY(W,Y),q=w.getX(z,F),ot=w.getY(z,F);this.batchTri(null,N,j,U,V,q,ot,0,0,1,1,A,I,B,2)}E.length=0},batchStrokePath:function(y,x,b,w,C){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var E=y.length-1,T=0;T<E;T++){var k=y[T],A=y[T+1];this.batchLine(k.x,k.y,A.x,A.y,k.width/2,A.width/2,x,T,!b&&T===E-1,w,C)}},batchLine:function(y,x,b,w,C,E,T,k,A,I,B){this.renderer.pipelines.set(this);var M=this.calcMatrix;B&&B.multiply(I,M);var O=b-y,P=w-x,L=Math.sqrt(O*O+P*P);if(L!==0){var _=C*(w-x)/L,G=C*(y-b)/L,$=E*(w-x)/L,W=E*(y-b)/L,Y=b-$,z=w-W,F=y-_,N=x-G,j=b+$,U=w+W,V=y+_,q=x+G,ot=M.getX(Y,z),Q=M.getY(Y,z),rt=M.getX(F,N),Bt=M.getY(F,N),K=M.getX(j,U),Mt=M.getY(j,U),Ft=M.getX(V,q),dt=M.getY(V,q),yt=this.strokeTint,At=yt.TL,Ot=yt.TR,le=yt.BL,_t=yt.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,Ft,dt,rt,Bt,ot,Q,K,Mt,0,0,1,1,At,Ot,le,_t,2),!(T<=2)){var xe=this.prevQuad,ke=this.firstQuad;k>0&&xe[4]?this.batchQuad(null,Ft,dt,rt,Bt,xe[0],xe[1],xe[2],xe[3],0,0,1,1,At,Ot,le,_t,2):(ke[0]=Ft,ke[1]=dt,ke[2]=rt,ke[3]=Bt,ke[4]=1),A&&ke[4]?this.batchQuad(null,ot,Q,K,Mt,ke[0],ke[1],ke[2],ke[3],0,0,1,1,At,Ot,le,_t,2):(xe[0]=ot,xe[1]=Q,xe[2]=K,xe[3]=Mt,xe[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,u.prototype.destroy.call(this),this}});s.exports=v},43439:(s,g,i)=>{var o=i(83419),m=i(95540),c=i(4127),l=i(89924),h=i(29100),a=new o({Extends:h,initialize:function(p){p.vertShader=m(p,"vertShader",l),p.fragShader=m(p,"fragShader",c),p.attributes=m(p,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),h.call(this,p)},onRender:function(f,p){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",p.zoom)},batchPointLight:function(f,p,u,v,y,x,b,w,C,E,T,k){var A=f.color,I=f.intensity,B=f.radius,M=f.attenuation,O=A.r*I,P=A.g*I,L=A.b*I,_=p.alpha*f.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(u,v,T,k,B,M,O,P,L,_),this.batchLightVert(y,x,T,k,B,M,O,P,L,_),this.batchLightVert(b,w,T,k,B,M,O,P,L,_),this.batchLightVert(u,v,T,k,B,M,O,P,L,_),this.batchLightVert(b,w,T,k,B,M,O,P,L,_),this.batchLightVert(C,E,T,k,B,M,O,P,L,_),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(f,p,u,v,y,x,b,w,C,E){var T=this.vertexViewF32,k=this.vertexCount*this.currentShader.vertexComponentCount-1;T[++k]=f,T[++k]=p,T[++k]=u,T[++k]=v,T[++k]=y,T[++k]=x,T[++k]=b,T[++k]=w,T[++k]=C,T[++k]=E,this.vertexCount++}});s.exports=a},84057:(s,g,i)=>{var o=i(83419),m=i(89422),c=i(95540),l=i(27681),h=i(49627),a=i(29100),f=new o({Extends:a,initialize:function(u){u.renderTarget=c(u,"renderTarget",1),u.fragShader=c(u,"fragShader",l),u.vertShader=c(u,"vertShader",h),u.attributes=c(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),u.batchSize=1,u.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],a.call(this,u),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new m,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){a.prototype.boot.call(this);var p=this.manager.UTILITY_PIPELINE;this.fullFrame1=p.fullFrame1,this.fullFrame2=p.fullFrame2,this.halfFrame1=p.halfFrame1,this.halfFrame2=p.halfFrame2;var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height),this.set1i("uRoundPixels",u.config.roundPixels);for(var v=this.renderTargets,y=0;y<v.length;y++)v[y].autoResize=!0},postBatch:function(p){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(p),this},onDraw:function(p){this.bindAndDraw(p)},getController:function(p){return p!==void 0?p:this.controller?this.controller:this},copySprite:function(p,u,v){v===void 0&&(v=!1);var y=this.gl;y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,p.texture.webGLTexture);var x=y.getParameter(y.FRAMEBUFFER_BINDING);y.bindFramebuffer(y.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,u.texture.webGLTexture,0),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),v&&(y.bindTexture(y.TEXTURE_2D,null),y.bindFramebuffer(y.FRAMEBUFFER,x))},copyFrame:function(p,u,v,y,x){this.manager.copyFrame(p,u,v,y,x)},copyToGame:function(p){this.manager.copyToGame(p)},drawFrame:function(p,u,v){this.manager.drawFrame(p,u,v,this.colorMatrix)},blendFrames:function(p,u,v,y,x){this.manager.blendFrames(p,u,v,y,x)},blendFramesAdditive:function(p,u,v,y,x){this.manager.blendFramesAdditive(p,u,v,y,x)},clearFrame:function(p,u){this.manager.clearFrame(p,u)},blitFrame:function(p,u,v,y,x,b){this.manager.blitFrame(p,u,v,y,x,b)},copyFrameRect:function(p,u,v,y,x,b,w,C){this.manager.copyFrameRect(p,u,v,y,x,b,w,C)},bindAndDraw:function(p,u,v,y,x){v===void 0&&(v=!0),y===void 0&&(y=!0);var b=this.gl,w=this.renderer;this.bind(x),this.set1i("uMainSampler",0),u?(b.viewport(0,0,u.width,u.height),b.bindFramebuffer(b.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,u.texture.webGLTexture,0),v&&(y?b.clearColor(0,0,0,0):b.clearColor(0,0,0,1),b.clear(b.COLOR_BUFFER_BIT))):(w.popFramebuffer(!1,!1),w.currentFramebuffer||b.viewport(0,0,w.width,w.height)),w.restoreStencilMask(),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,p.texture.webGLTexture),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6),u&&(b.bindTexture(b.TEXTURE_2D,null),b.bindFramebuffer(b.FRAMEBUFFER,w.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),a.prototype.destroy.call(this),this}});s.exports=f},43558:(s,g,i)=>{var o=i(10312),m=i(67502),c=i(83419),l=i(96293),h=i(95540),a=i(57516),f=i(27681),p=i(87841),u=i(32302),v=i(45561),y=i(60722),x=i(29100),b=new c({Extends:a,initialize:function(C){var E=h(C,"fragShader",f),T=h(C,"vertShader",y),k=h(C,"drawShader",f),A=[{name:"DrawSprite",fragShader:v,vertShader:y},{name:"CopySprite",fragShader:E,vertShader:T},{name:"DrawGame",fragShader:k,vertShader:y},{name:"ColorMatrix",fragShader:l}],I=h(C,"shaders",[]);C.shaders=A.concat(I),C.vertShader||(C.vertShader=T),C.batchSize=1,a.call(this,C),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new p,this.targetBounds=new p,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){x.prototype.boot.call(this);var w=this.shaders,C=this.renderer;this.drawSpriteShader=w[0],this.copyShader=w[1],this.gameShader=w[2],this.colorMatrixShader=w[3],this.fsTarget=new u(C,C.width,C.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var E=new ArrayBuffer(168);this.quadVertexData=E,this.quadVertexViewF32=new Float32Array(E),this.quadVertexBuffer=C.createVertexBuffer(E,this.gl.STATIC_DRAW),this.onResize(C.width,C.height),this.currentShader=this.copyShader,this.set2f("uResolution",C.width,C.height),this.set1i("uRoundPixels",C.config.roundPixels)},onResize:function(w,C){var E=this.quadVertexViewF32;E[1]=C,E[22]=C,E[14]=w,E[28]=w,E[35]=w,E[36]=C},batchQuad:function(w,C,E,T,k,A,I,B,M,O,P,L,_,G,$,W,Y,z,F){var N=Math.min(C,T,A,B),j=Math.min(E,k,I,M),U=Math.max(C,T,A,B),V=Math.max(E,k,I,M),q=U-N,ot=V-j,Q=this.spriteBounds.setTo(N,j,q,ot),rt=w?w.preFX.padding:0,Bt=q+rt*2,K=ot+rt*2,Mt=Math.abs(Math.max(Bt,K)),Ft=this.manager.getRenderTarget(Mt),dt=this.targetBounds.setTo(0,0,Ft.width,Ft.height);m(dt,Q.centerX,Q.centerY),this.tempSprite=w;var yt=this.gl,At=this.renderer;At.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",At.width,At.height),this.set1i("uRoundPixels",At.config.roundPixels),this.flipProjectionMatrix(!0),w&&(this.onDrawSprite(w,Ft),w.preFX.onFX(this));var Ot=this.fsTarget;return this.flush(),yt.viewport(0,0,At.width,At.height),yt.bindFramebuffer(yt.FRAMEBUFFER,Ot.framebuffer.webGLFramebuffer),yt.framebufferTexture2D(yt.FRAMEBUFFER,yt.COLOR_ATTACHMENT0,yt.TEXTURE_2D,Ot.texture.webGLTexture,0),yt.clearColor(0,0,0,0),yt.clear(yt.COLOR_BUFFER_BIT),this.setTexture2D(F),this.batchVert(C,E,O,P,0,z,G),this.batchVert(T,k,O,_,0,z,W),this.batchVert(A,I,L,_,0,z,Y),this.batchVert(C,E,O,P,0,z,G),this.batchVert(A,I,L,_,0,z,Y),this.batchVert(B,M,L,P,0,z,$),this.flush(),this.flipProjectionMatrix(!1),yt.activeTexture(yt.TEXTURE0),yt.bindTexture(yt.TEXTURE_2D,Ft.texture.webGLTexture),yt.copyTexSubImage2D(yt.TEXTURE_2D,0,0,0,dt.x,dt.y,dt.width,dt.height),yt.bindFramebuffer(yt.FRAMEBUFFER,null),yt.bindTexture(yt.TEXTURE_2D,null),this.onBatch(w),this.currentShader=this.copyShader,this.onDraw(Ft,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(w,C,E,T,k,A,I){E===void 0&&(E=!0),T===void 0&&(T=!0),k===void 0&&(k=!1),I===void 0&&(I=this.copyShader);var B=this.gl,M=this.tempSprite;A&&(I=this.colorMatrixShader),this.currentShader=I;var O=this.setVertexBuffer(this.quadVertexBuffer);I.bind(O,!1);var P=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",P.width,P.height),this.set1i("uRoundPixels",P.config.roundPixels),M.preFX.onFXCopy(this),this.onCopySprite(w,C,M),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),B.activeTexture(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,w.texture.webGLTexture),w.height>C.height)B.viewport(0,0,w.width,w.height),this.setTargetUVs(w,C);else{var L=C.height-w.height;B.viewport(0,L,w.width,w.height),this.resetUVs()}if(B.bindFramebuffer(B.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,C.texture.webGLTexture,0),E&&(B.clearColor(0,0,0,+!T),B.clear(B.COLOR_BUFFER_BIT)),k){var _=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}B.bufferData(B.ARRAY_BUFFER,this.quadVertexData,B.STATIC_DRAW),B.drawArrays(B.TRIANGLES,0,6),k&&this.renderer.setBlendMode(_),B.bindFramebuffer(B.FRAMEBUFFER,null)},copy:function(w,C){var E=this.gl;this.set1i("uMainSampler",0),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,w.texture.webGLTexture),E.viewport(0,0,w.width,w.height),this.setUVs(0,0,0,1,1,1,1,0),E.bindFramebuffer(E.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,C.texture.webGLTexture,0),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.quadVertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null)},blendFrames:function(w,C,E,T,k){this.manager.blendFrames(w,C,E,T,k)},blendFramesAdditive:function(w,C,E,T,k){this.manager.blendFramesAdditive(w,C,E,T,k)},drawToGame:function(w){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(w)},copyToGame:function(w){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(w)},bindAndDraw:function(w){var C=this.gl,E=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(w.texture);var T=this._tempMatrix1.loadIdentity(),k=this.targetBounds.x,A=this.targetBounds.y,I=k+w.width,B=A+w.height,M=T.getX(k,A),O=T.getX(k,B),P=T.getX(I,B),L=T.getX(I,A),_=T.getY(k,A),G=T.getY(k,B),$=T.getY(I,B),W=T.getY(I,A),Y=16777215;this.batchVert(M,_,0,0,0,0,Y),this.batchVert(O,G,0,1,0,0,Y),this.batchVert(P,$,1,1,0,0,Y),this.batchVert(M,_,0,0,0,0,Y),this.batchVert(P,$,1,1,0,0,Y),this.batchVert(L,W,1,0,0,0,Y),E.restoreFramebuffer(!1,!0),E.currentFramebuffer||C.viewport(0,0,E.width,E.height),E.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(w){this.drawToGame(w)},setUVs:function(w,C,E,T,k,A,I,B){var M=this.quadVertexViewF32;M[2]=w,M[3]=C,M[9]=E,M[10]=T,M[16]=k,M[17]=A,M[23]=w,M[24]=C,M[30]=k,M[31]=A,M[37]=I,M[38]=B},setTargetUVs:function(w,C){var E=C.height/w.height;E>.5?E=.5-(E-.5):E=.5+(.5-E),this.setUVs(0,E,0,1+E,1,1+E,1,E)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,a.prototype.destroy.call(this),this}});s.exports=b},81041:(s,g,i)=>{var o=i(83419),m=i(95540),c=i(57516),l=new o({Extends:c,initialize:function(a){a.topology=5,a.batchSize=m(a,"batchSize",256),c.call(this,a)}});s.exports=l},12385:(s,g,i)=>{var o=i(83419),m=i(95540),c=i(57516),l=i(45561),h=i(60722),a=i(29100),f=new o({Extends:c,initialize:function(u){u.fragShader=m(u,"fragShader",l),u.vertShader=m(u,"vertShader",h),u.forceZero=!0,c.call(this,u)},boot:function(){a.prototype.boot.call(this);var p=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",p.width,p.height),this.set1i("uRoundPixels",p.config.roundPixels)}});s.exports=f},7589:(s,g,i)=>{var o=i(35407),m=i(10312),c=i(83419),l=i(89422),h=i(96293),a=i(36682),f=i(95540),p=i(48247),u=i(49627),v=i(29100),y=new c({Extends:v,initialize:function(b){b.renderTarget=f(b,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),b.vertShader=f(b,"vertShader",u),b.shaders=f(b,"shaders",[{name:"Copy",fragShader:a},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:p},{name:"ColorMatrix",fragShader:h}]),b.attributes=f(b,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),b.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],b.batchSize=1,v.call(this,b),this.colorMatrix=new l,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){v.prototype.boot.call(this);var x=this.shaders,b=this.renderTargets;this.copyShader=x[0],this.addShader=x[1],this.linearShader=x[2],this.colorMatrixShader=x[3],this.fullFrame1=b[0],this.fullFrame2=b[1],this.halfFrame1=b[2],this.halfFrame2=b[3]},copyFrame:function(x,b,w,C,E){w===void 0&&(w=1),C===void 0&&(C=!0),E===void 0&&(E=!0);var T=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",w),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,x.texture.webGLTexture),b?(T.viewport(0,0,b.width,b.height),T.bindFramebuffer(T.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,b.texture.webGLTexture,0)):T.viewport(0,0,x.width,x.height),C&&(E?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blitFrame:function(x,b,w,C,E,T,k){w===void 0&&(w=1),C===void 0&&(C=!0),E===void 0&&(E=!0),T===void 0&&(T=!1),k===void 0&&(k=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",w),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,x.texture.webGLTexture),x.height>b.height)A.viewport(0,0,x.width,x.height),this.setTargetUVs(x,b);else{var I=b.height-x.height;A.viewport(0,I,x.width,x.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,b.texture.webGLTexture,0),C&&(E?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),T){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(m.ERASE)}k&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),T&&this.renderer.setBlendMode(B),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(x,b,w,C,E,T,k,A){k===void 0&&(k=!0),A===void 0&&(A=!0);var I=this.gl;I.bindFramebuffer(I.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,x.texture.webGLTexture,0),k&&(A?I.clearColor(0,0,0,0):I.clearColor(0,0,0,1),I.clear(I.COLOR_BUFFER_BIT)),I.activeTexture(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,b.texture.webGLTexture),I.copyTexSubImage2D(I.TEXTURE_2D,0,0,0,w,C,E,T),I.bindFramebuffer(I.FRAMEBUFFER,null),I.bindTexture(I.TEXTURE_2D,null)},copyToGame:function(x){var b=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,x.texture.webGLTexture),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6)},drawFrame:function(x,b,w,C){w===void 0&&(w=!0),C===void 0&&(C=this.colorMatrix);var E=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",C.getData()),this.set1f("uAlpha",C.alpha),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,x.texture.webGLTexture),b?(E.viewport(0,0,b.width,b.height),E.bindFramebuffer(E.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,b.texture.webGLTexture,0)):E.viewport(0,0,x.width,x.height),w?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFrames:function(x,b,w,C,E,T){C===void 0&&(C=1),E===void 0&&(E=!0),T===void 0&&(T=this.linearShader);var k=this.gl;this.setShader(T),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",C),k.activeTexture(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,x.texture.webGLTexture),k.activeTexture(k.TEXTURE1),k.bindTexture(k.TEXTURE_2D,b.texture.webGLTexture),w?(k.bindFramebuffer(k.FRAMEBUFFER,w.framebuffer.webGLFramebuffer),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,w.texture.webGLTexture,0),k.viewport(0,0,w.width,w.height)):k.viewport(0,0,x.width,x.height),E?k.clearColor(0,0,0,0):k.clearColor(0,0,0,1),k.clear(k.COLOR_BUFFER_BIT),k.bufferData(k.ARRAY_BUFFER,this.vertexData,k.STATIC_DRAW),k.drawArrays(k.TRIANGLES,0,6),k.bindFramebuffer(k.FRAMEBUFFER,null),k.bindTexture(k.TEXTURE_2D,null)},blendFramesAdditive:function(x,b,w,C,E){this.blendFrames(x,b,w,C,E,this.addShader)},clearFrame:function(x,b){b===void 0&&(b=!0);var w=this.gl;w.viewport(0,0,x.width,x.height),w.bindFramebuffer(w.FRAMEBUFFER,x.framebuffer.webGLFramebuffer),b?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT);var C=this.renderer.currentFramebuffer;w.bindFramebuffer(w.FRAMEBUFFER,C.webGLFramebuffer)},setUVs:function(x,b,w,C,E,T,k,A){var I=this.vertexViewF32;I[2]=x,I[3]=b,I[6]=w,I[7]=C,I[10]=E,I[11]=T,I[14]=x,I[15]=b,I[18]=E,I[19]=T,I[22]=k,I[23]=A},setTargetUVs:function(x,b){var w=b.height/x.height;w>.5?w=.5-(w-.5):w=.5+(.5-w),this.setUVs(0,w,0,1+w,1,1+w,1,w)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});s.exports=y},36060:s=>{var g={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};s.exports=g},84817:s=>{s.exports="pipelineafterflush"},36712:s=>{s.exports="pipelinebeforeflush"},40285:s=>{s.exports="pipelinebind"},65918:s=>{s.exports="pipelineboot"},92852:s=>{s.exports="pipelinedestroy"},56072:s=>{s.exports="pipelinerebind"},57566:s=>{s.exports="pipelineresize"},77085:(s,g,i)=>{s.exports={AFTER_FLUSH:i(84817),BEFORE_FLUSH:i(36712),BIND:i(40285),BOOT:i(65918),DESTROY:i(92852),REBIND:i(56072),RESIZE:i(57566)}},54812:(s,g,i)=>{var o=i(83419),m=i(99155),c=i(84057),l=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:m}),this.amount=1},onPreRender:function(h,a){h=this.getController(h),this.set1f("amount",h.amount,a)}});s.exports=l},67329:(s,g,i)=>{var o=i(83419),m=i(24400),c=i(84057),l=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:m}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(h){h=this.getController(h),this.set1f("strength",h.blurStrength),this.set3fv("color",h.glcolor)},onDraw:function(h){var a=this.getController(),f=this.fullFrame1,p=this.fullFrame2;this.copyFrame(h,p);for(var u=2/h.width*a.offsetX,v=2/h.height*a.offsetY,y=0;y<a.steps;y++)this.set2f("offset",u,0),this.copySprite(h,f),this.set2f("offset",0,v),this.copySprite(f,h);this.blendFrames(p,h,f,a.strength),this.copyToGame(f)}});s.exports=l},8861:(s,g,i)=>{var o=i(83419),m=i(41514),c=i(51078),l=i(94328),h=i(84057),a=new o({Extends:h,initialize:function(p){h.call(this,{game:p,shaders:[{name:"Gaussian5",fragShader:m},{name:"Gaussian9",fragShader:c},{name:"Gaussian13",fragShader:l}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(f){var p=this.getController(),u=this.gl,v=this.fullFrame1,y=u.getParameter(u.FRAMEBUFFER_BINDING);this.bind(this.shaders[p.quality]),u.activeTexture(u.TEXTURE0),u.viewport(0,0,f.width,f.height),this.set1i("uMainSampler",0),this.set2f("resolution",f.width,f.height),this.set1f("strength",p.strength),this.set3fv("color",p.glcolor);for(var x=0;x<p.steps;x++)this.set2f("offset",p.x,0),this.copySprite(f,v),this.set2f("offset",0,p.y),this.copySprite(v,f);u.bindFramebuffer(u.FRAMEBUFFER,y),u.bindTexture(u.TEXTURE_2D,null),this.copyToGame(f)}});s.exports=a},51051:(s,g,i)=>{var o=i(83419),m=i(90610),c=i(84057),l=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:m}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(h,a,f,p){h=this.getController(h),this.set1f("radius",h.radius,a),this.set1f("amount",h.amount,a),this.set1f("contrast",h.contrast,a),this.set1f("strength",h.strength,a),this.set2f("blur",h.blurX,h.blurY,a),this.setBoolean("isTiltShift",h.isTiltShift,a),f&&p&&this.set2f("resolution",f,p,a)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});s.exports=l},89428:(s,g,i)=>{var o=i(83419),m=i(91899),c=i(84057),l=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:m}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(h,a,f,p){h=this.getController(h),this.set1f("scale",h.scale,a),this.set1f("feather",h.feather,a),this.set1f("thickness",h.thickness,a),this.set3fv("color",h.glcolor,a),this.set4fv("backgroundColor",h.glcolor2,a),f&&p&&this.set2f("resolution",f,p,a)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});s.exports=l},88904:(s,g,i)=>{var o=i(83419),m=i(84057),c=new o({Extends:m,initialize:function(h){m.call(this,{game:h})},onDraw:function(l){var h=this.fullFrame1;this.controller?this.manager.drawFrame(l,h,!0,this.controller):this.drawFrame(l,h),this.copyToGame(h)}});s.exports=c},63563:(s,g,i)=>{var o=i(83419),m=i(47838),c=i(84057),l=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:m}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(h){var a=this.game.textures.getFrame(h);a&&(this.glTexture=a.glTexture)},onDraw:function(h){var a=this.getController(),f=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.copySprite(h,f),this.copyToGame(f)}});s.exports=l},94045:(s,g,i)=>{var o=i(83419),m=i(95540),c=i(98656),l=i(84057),h=i(70554),a=new o({Extends:l,initialize:function(p,u){var v=m(u,"quality",.1),y=m(u,"distance",10);l.call(this,{game:p,fragShader:h.setGlowQuality(c,p,v,y)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(f,p,u,v){f=this.getController(f),this.set1f("outerStrength",f.outerStrength,p),this.set1f("innerStrength",f.innerStrength,p),this.set4fv("glowColor",f.glcolor,p),this.setBoolean("knockout",f.knockout,p),u&&v&&this.set2f("resolution",u,v,p)},onDraw:function(f){this.set2f("resolution",f.width,f.height),this.bindAndDraw(f)}});s.exports=a},74088:(s,g,i)=>{var o=i(83419),m=i(70463),c=i(84057),l=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:m}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(h,a){h=this.getController(h),this.set1f("alpha",h.alpha,a),this.set1i("size",h.size,a),this.set3fv("color1",h.glcolor1,a),this.set3fv("color2",h.glcolor2,a),this.set2f("positionFrom",h.fromX,h.fromY,a),this.set2f("positionTo",h.toX,h.toY,a)}});s.exports=l},99636:(s,g,i)=>{var o=i(83419),m=i(50831),c=i(84057),l=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:m}),this.amount=1},onPreRender:function(h,a,f,p){h=this.getController(h),this.set1f("amount",h.amount,a),f&&p&&this.set2f("resolution",f,p,a)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});s.exports=l},34700:(s,g,i)=>{var o=i(83419),m=i(92595),c=i(84057),l=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:m}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(h,a){h=this.getController(h);var f=h.samples;this.set1i("samples",f,a),this.set1f("intensity",h.intensity,a),this.set1f("decay",h.decay,a),this.set1f("power",h.power/f,a),this.set2f("lightPosition",h.x,h.y,a),this.set4fv("color",h.glcolor,a)}});s.exports=l},91157:(s,g,i)=>{var o=i(83419),m=i(72464),c=i(84057),l=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:m}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(h,a,f,p){h=this.getController(h),this.setTime("time",a),this.set1f("speed",h.speed,a),this.set1f("lineWidth",h.lineWidth,a),this.set1f("gradient",h.gradient,a),this.setBoolean("reveal",h.reveal,a),f&&p&&this.set2f("resolution",f,p,a)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});s.exports=l},27797:(s,g,i)=>{var o=i(83419),m=i(39249),c=i(84057),l=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:m}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(h,a){h=this.getController(h),this.set1f("radius",h.radius,a),this.set1f("strength",h.strength,a),this.set2f("position",h.x,h.y,a)}});s.exports=l},67603:(s,g,i)=>{var o=i(83419),m=i(2878),c=i(84057),l=new o({Extends:c,initialize:function(a){c.call(this,{game:a,fragShader:m}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(h,a){h=this.getController(h);var f=h.progress,p=h.wipeWidth,u=h.direction,v=h.axis;this.set4f("config",f,p,u,v,a),this.setBoolean("reveal",h.reveal,a)}});s.exports=l},58918:(s,g,i)=>{var o={Barrel:i(54812),Bloom:i(67329),Blur:i(8861),Bokeh:i(51051),Circle:i(89428),ColorMatrix:i(88904),Displacement:i(63563),Glow:i(94045),Gradient:i(74088),Pixelate:i(99636),Shadow:i(34700),Shine:i(91157),Vignette:i(27797),Wipe:i(67603)};s.exports=o},96615:(s,g,i)=>{var o=i(36060),m=i(79291),c={FX:i(58918),BitmapMaskPipeline:i(31302),Events:i(77085),FXPipeline:i(92651),LightPipeline:i(96569),MobilePipeline:i(56527),MultiPipeline:i(57516),PointLightPipeline:i(43439),PostFXPipeline:i(84057),PreFXPipeline:i(43558),RopePipeline:i(81041),SinglePipeline:i(12385),UtilityPipeline:i(7589)};c=m(!1,c,o),s.exports=c},35407:s=>{s.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:s=>{s.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:s=>{s.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:s=>{s.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:s=>{s.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:s=>{s.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:s=>{s.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:s=>{s.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:s=>{s.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:s=>{s.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:s=>{s.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:s=>{s.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:s=>{s.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:s=>{s.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:s=>{s.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:s=>{s.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:s=>{s.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:s=>{s.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:s=>{s.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:s=>{s.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:s=>{s.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:s=>{s.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:s=>{s.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:s=>{s.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:s=>{s.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:s=>{s.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:s=>{s.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:s=>{s.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:s=>{s.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:s=>{s.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:s=>{s.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:s=>{s.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:s=>{s.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:s=>{s.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(s,g,i)=>{s.exports={AddBlendFrag:i(35407),BitmapMaskFrag:i(78908),BitmapMaskVert:i(85191),ColorMatrixFrag:i(96293),CopyFrag:i(36682),FXBarrelFrag:i(99155),FXBloomFrag:i(24400),FXBlurHighFrag:i(94328),FXBlurLowFrag:i(41514),FXBlurMedFrag:i(51078),FXBokehFrag:i(90610),FXCircleFrag:i(91899),FXDisplacementFrag:i(47838),FXGlowFrag:i(98656),FXGradientFrag:i(70463),FXPixelateFrag:i(50831),FXShadowFrag:i(92595),FXShineFrag:i(72464),FXVignetteFrag:i(39249),FXWipeFrag:i(2878),LightFrag:i(31063),LinearBlendFrag:i(48247),MeshFrag:i(41214),MeshVert:i(39653),MobileFrag:i(62143),MobileVert:i(47940),MultiFrag:i(98840),MultiVert:i(44667),PointLightFrag:i(4127),PointLightVert:i(89924),PostFXFrag:i(27681),QuadVert:i(49627),SingleFrag:i(45561),SingleVert:i(60722)}},93567:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h,a){this.webGLAttribLocation=-1,this.gl=l,this.program=h,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var c=this.gl;c.isContextLost()||(this.webGLAttribLocation=c.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});s.exports=m},26128:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h,a,f){this.webGLBuffer=null,this.gl=l,this.initialDataOrSize=h,this.bufferType=a,this.bufferUsage=f,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var c=this.gl;if(!c.isContextLost()){var l=this.bufferType,h=c.createBuffer();this.webGLBuffer=h,c.bindBuffer(l,this.webGLBuffer),c.bufferData(l,this.initialDataOrSize,this.bufferUsage),c.bindBuffer(l,null)}}},destroy:function(){var c=this.gl;c.isContextLost()||c.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});s.exports=m},84387:(s,g,i)=>{var o=i(83419),m={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},c=new o({initialize:function(h,a,f,p,u){this.webGLFramebuffer=null,this.gl=h,this.width=a,this.height=f,this.renderTexture=p,this.addDepthStencilBuffer=!!u,this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){var h=this.renderTexture,a=0,f=l.createFramebuffer();if(this.webGLFramebuffer=f,l.bindFramebuffer(l.FRAMEBUFFER,f),h.isRenderTexture=!0,h.isAlphaPremultiplied=!1,l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,h.webGLTexture,0),a=l.checkFramebufferStatus(l.FRAMEBUFFER),a!==l.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(m[a]||a));if(this.addDepthStencilBuffer){var p=l.createRenderbuffer();l.bindRenderbuffer(l.RENDERBUFFER,p),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,this.width,this.height),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.RENDERBUFFER,p)}l.bindFramebuffer(l.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var l=this.gl;if(!l.isContextLost()){l.bindFramebuffer(l.FRAMEBUFFER,this.webGLFramebuffer);var h=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);h!==null&&(l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,null,0),l.deleteTexture(h));var a=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&l.deleteRenderbuffer(a),l.bindFramebuffer(l.FRAMEBUFFER,null),l.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});s.exports=c},1482:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h,a){this.webGLProgram=null,this.gl=l,this.vertexSource=h,this.fragmentSource=a,this.createResource()},createResource:function(){var c=this.gl;if(!c.isContextLost()){var l=c.createProgram(),h=c.createShader(c.VERTEX_SHADER),a=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(h,this.vertexSource),c.shaderSource(a,this.fragmentSource),c.compileShader(h),c.compileShader(a);var f=`Shader failed:
`;if(!c.getShaderParameter(h,c.COMPILE_STATUS))throw new Error("Vertex "+f+c.getShaderInfoLog(h));if(!c.getShaderParameter(a,c.COMPILE_STATUS))throw new Error("Fragment "+f+c.getShaderInfoLog(a));if(c.attachShader(l,h),c.attachShader(l,a),c.linkProgram(l),!c.getProgramParameter(l,c.LINK_STATUS))throw new Error("Link "+f+c.getProgramInfoLog(l));c.useProgram(l),this.webGLProgram=l}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});s.exports=m},82751:(s,g,i)=>{var o=i(83419),m=i(50030),c=new o({initialize:function(h,a,f,p,u,v,y,x,b,w,C,E,T){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=h,this.mipLevel=a,this.minFilter=f,this.magFilter=p,this.wrapT=u,this.wrapS=v,this.format=y,this.pixels=x,this.width=b,this.height=w,this.pma=C==null?!0:C,this.forceSize=!!E,this.flipY=!!T,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){if(this.pixels instanceof c){this.webGLTexture=this.pixels.webGLTexture;return}var h=l.createTexture();h.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=h,this._processTexture()}},update:function(l,h,a,f,p,u,v,y,x){if(!(h===0||a===0)){this.pixels=l,this.width=h,this.height=a,this.flipY=f,this.wrapS=p,this.wrapT=u,this.minFilter=v,this.magFilter=y,this.format=x;var b=this.gl;b.isContextLost()||this._processTexture()}},_processTexture:function(){var l=this.gl;l.activeTexture(l.TEXTURE0);var h=l.getParameter(l.TEXTURE_BINDING_2D);l.bindTexture(l.TEXTURE_2D,this.webGLTexture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this.minFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,this.magFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,this.wrapS),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,this.wrapT),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,this.flipY);var a=this.pixels,f=this.mipLevel,p=this.width,u=this.height,v=this.format,y=!1;if(a==null)l.texImage2D(l.TEXTURE_2D,f,v,p,u,0,v,l.UNSIGNED_BYTE,null),y=m(p,u);else if(a.compressed){p=a.width,u=a.height,y=a.generateMipmap;for(var x=0;x<a.mipmaps.length;x++)l.compressedTexImage2D(l.TEXTURE_2D,x,a.internalFormat,a.mipmaps[x].width,a.mipmaps[x].height,0,a.mipmaps[x].data)}else a instanceof Uint8Array?(l.texImage2D(l.TEXTURE_2D,f,v,p,u,0,v,l.UNSIGNED_BYTE,a),y=m(p,u)):(this.forceSize||(p=a.width,u=a.height),l.texImage2D(l.TEXTURE_2D,f,v,v,l.UNSIGNED_BYTE,a),y=m(p,u));y&&l.generateMipmap(l.TEXTURE_2D),h?l.bindTexture(l.TEXTURE_2D,h):l.bindTexture(l.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(l){this.__SPECTOR_Metadata=l,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=l)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof c||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});s.exports=c},57183:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h,a){this.webGLUniformLocation=null,this.gl=l,this.program=h,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var c=this.gl;c.isContextLost()||(this.webGLUniformLocation=c.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});s.exports=m},9503:(s,g,i)=>{var o={WebGLAttribLocationWrapper:i(93567),WebGLBufferWrapper:i(26128),WebGLProgramWrapper:i(1482),WebGLTextureWrapper:i(82751),WebGLFramebufferWrapper:i(84387),WebGLUniformLocationWrapper:i(57183)};s.exports=o},76531:(s,g,i)=>{var o=i(13560),m=i(83419),c=i(50792),l=i(97480),h=i(8443),a=i(57811),f=i(74403),p=i(45818),u=i(29747),v=i(87841),y=i(86555),x=i(56583),b=i(26099),w=i(38058),C=new m({Extends:c,initialize:function(T){c.call(this),this.game=T,this.canvas,this.canvasBounds=new v,this.parent=null,this.parentIsWindow=!1,this.parentSize=new y,this.gameSize=new y,this.baseSize=new y,this.displaySize=new y,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new b(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:u,windowResize:u,fullScreenChange:u,fullScreenError:u}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(h.BOOT,this.boot,this)},boot:function(){var E=this.game;this.canvas=E.canvas,this.fullscreen=E.device.fullscreen,this.scaleMode!==o.SCALE_MODE.RESIZE&&this.scaleMode!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),E.events.on(h.PRE_STEP,this.step,this),E.events.once(h.READY,this.refresh,this),E.events.once(h.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(E){this.getParent(E),this.getParentBounds();var T=E.width,k=E.height,A=E.scaleMode,I=E.zoom,B=E.autoRound;if(typeof T=="string")if(T.substr(-1)!=="%")T=parseInt(T,10);else{var M=this.parentSize.width;M===0&&(M=window.innerWidth);var O=parseInt(T,10)/100;T=Math.floor(M*O)}if(typeof k=="string")if(k.substr(-1)!=="%")k=parseInt(k,10);else{var P=this.parentSize.height;P===0&&(P=window.innerHeight);var L=parseInt(k,10)/100;k=Math.floor(P*L)}this.scaleMode=A,this.autoRound=B,this.autoCenter=E.autoCenter,this.resizeInterval=E.resizeInterval,B&&(T=Math.floor(T),k=Math.floor(k)),this.gameSize.setSize(T,k),I===o.ZOOM.MAX_ZOOM&&(I=this.getMaxZoom()),this.zoom=I,I!==1&&(this._resetZoom=!0),this.baseSize.setSize(T,k),B&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),E.minWidth>0&&this.displaySize.setMin(E.minWidth*I,E.minHeight*I),E.maxWidth>0&&this.displaySize.setMax(E.maxWidth*I,E.maxHeight*I),this.displaySize.setSize(T,k),(E.snapWidth>0||E.snapHeight>0)&&this.displaySize.setSnap(E.snapWidth,E.snapHeight),this.orientation=p(T,k)},getParent:function(E){var T=E.parent;if(T!==null){if(this.parent=f(T),this.parentIsWindow=this.parent===document.body,E.expandParent&&E.scaleMode!==o.SCALE_MODE.NONE){var k=this.parent.getBoundingClientRect();(this.parentIsWindow||k.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",k=this.parent.getBoundingClientRect(),!this.parentIsWindow&&k.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}E.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=f(E.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var E=this.parentSize,T=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(T.height=a(!0));var k=T.width,A=T.height;if(E.width!==k||E.height!==A)return E.setSize(k,A),!0;if(this.canvas){var I=this.canvasBounds,B=this.canvas.getBoundingClientRect();if(B.x!==I.x||B.y!==I.y)return!0}return!1},lockOrientation:function(E){var T=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return T?T.call(screen,E):!1},setParentSize:function(E,T){return this.parentSize.setSize(E,T),this.refresh()},setGameSize:function(E,T){var k=this.autoRound;k&&(E=Math.floor(E),T=Math.floor(T));var A=this.width,I=this.height;return this.gameSize.resize(E,T),this.baseSize.resize(E,T),k&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(E/T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,I)},resize:function(E,T){var k=this.zoom,A=this.autoRound;A&&(E=Math.floor(E),T=Math.floor(T));var I=this.width,B=this.height;this.gameSize.resize(E,T),this.baseSize.resize(E,T),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(E*k,T*k),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var M=this.canvas.style,O=E*k,P=T*k;return A&&(O=Math.floor(O),P=Math.floor(P)),(O!==E||P!==T)&&(M.width=O+"px",M.height=P+"px"),this.refresh(I,B)},setZoom:function(E){return this.zoom=E,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(E,T){return E===void 0&&(E=0),T===void 0&&(T=E),this.displaySize.setSnap(E,T),this.refresh()},refresh:function(E,T){E===void 0&&(E=this.width),T===void 0&&(T=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var k=this.game.domContainer;if(k){this.baseSize.setCSS(k);var A=this.canvas.style,I=k.style;I.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",I.marginLeft=A.marginLeft,I.marginTop=A.marginTop}return this.emit(l.RESIZE,this.gameSize,this.baseSize,this.displaySize,E,T),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var E=p(this.width,this.height);E!==this.orientation&&(this.orientation=E,this.emit(l.ORIENTATION_CHANGE,E))}},updateScale:function(){var E=this.canvas.style,T=this.gameSize.width,k=this.gameSize.height,A,I,B=this.zoom,M=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(T*B,k*B),A=this.displaySize.width,I=this.displaySize.height,M&&(A=Math.floor(A),I=Math.floor(I)),this._resetZoom&&(E.width=A+"px",E.height=I+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,I=this.displaySize.height,M&&(A=Math.floor(A),I=Math.floor(I)),this.canvas.width=A,this.canvas.height=I;else if(this.scaleMode===o.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,I=this.displaySize.height,M&&(A=Math.floor(A),I=Math.floor(I)),E.width=A+"px",E.height=I+"px";var O=this.parentSize.width/this.gameSize.width,P=this.parentSize.height/this.gameSize.height;O<P?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/O):this.baseSize.setSize(this.displaySize.width/P,this.gameSize.height),A=this.baseSize.width,I=this.baseSize.height,M&&(A=Math.floor(A),I=Math.floor(I)),this.canvas.width=A,this.canvas.height=I}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,I=this.displaySize.height,M&&(A=Math.floor(A),I=Math.floor(I)),E.width=A+"px",E.height=I+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var E=x(this.parentSize.width,this.gameSize.width,0,!0),T=x(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(E,T),1)},updateCenter:function(){var E=this.autoCenter;if(E!==o.CENTER.NO_CENTER){var T=this.canvas,k=T.style,A=T.getBoundingClientRect(),I=A.width,B=A.height,M=Math.floor((this.parentSize.width-I)/2),O=Math.floor((this.parentSize.height-B)/2);E===o.CENTER.CENTER_HORIZONTALLY?O=0:E===o.CENTER.CENTER_VERTICALLY&&(M=0),k.marginLeft=M+"px",k.marginTop=O+"px"}},updateBounds:function(){var E=this.canvasBounds,T=this.canvas.getBoundingClientRect();E.x=T.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),E.y=T.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),E.width=T.width,E.height=T.height},transformX:function(E){return(E-this.canvasBounds.left)*this.displayScale.x},transformY:function(E){return(E-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(E){E===void 0&&(E={navigationUI:"hide"});var T=this.fullscreen;if(!T.available){this.emit(l.FULLSCREEN_UNSUPPORTED);return}if(!T.active){var k=this.getFullscreenTarget();T.keyboard?k[T.request](Element.ALLOW_KEYBOARD_INPUT):k[T.request](E)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(l.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(E){this.removeFullscreenTarget(),this.emit(l.FULLSCREEN_FAILED,E)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var E=document.createElement("div");E.style.margin="0",E.style.padding="0",E.style.width="100%",E.style.height="100%",this.fullscreenTarget=E,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var T=this.canvas.parentNode;T.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var E=this.fullscreenTarget;if(E&&E.parentNode){var T=E.parentNode;T.insertBefore(this.canvas,E),T.removeChild(E)}}},stopFullscreen:function(){var E=this.fullscreen;if(!E.available)return this.emit(l.FULLSCREEN_UNSUPPORTED),!1;E.active&&document[E.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(l.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(E){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(E)},startListeners:function(){var E=this,T=this.domlisteners;if(T.orientationChange=function(){E.updateBounds(),E._checkOrientation=!0,E.dirty=!0,E.refresh()},T.windowResize=function(){E.updateBounds(),E.dirty=!0},window.addEventListener("orientationchange",T.orientationChange,!1),window.addEventListener("resize",T.windowResize,!1),this.fullscreen.available){T.fullScreenChange=function(A){return E.onFullScreenChange(A)},T.fullScreenError=function(A){return E.onFullScreenError(A)};var k=["webkit","moz",""];k.forEach(function(A){document.addEventListener(A+"fullscreenchange",T.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",T.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.addEventListener("MSFullscreenError",T.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(E,T){E instanceof w||(T=E,E=void 0),T===void 0&&(T=new v);var k=this.baseSize,A=this.parentSize,I=this.canvasBounds,B=this.displayScale,M=I.x>=0?0:-(I.x*B.x),O=I.y>=0?0:-(I.y*B.y),P;A.width>=I.width?P=k.width:P=k.width-(I.width-A.width)*B.x;var L;return A.height>=I.height?L=k.height:L=k.height-(I.height-A.height)*B.y,T.setTo(M,O,P,L),E&&(T.width/=E.zoomX,T.height/=E.zoomY,T.centerX=E.centerX+E.scrollX,T.centerY=E.centerY+E.scrollY),T},step:function(E,T){this.parent&&(this._lastCheck+=T,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var E=this.domlisteners;window.removeEventListener("orientationchange",E.orientationChange,!1),window.removeEventListener("resize",E.windowResize,!1);var T=["webkit","moz",""];T.forEach(function(k){document.removeEventListener(k+"fullscreenchange",E.fullScreenChange,!1),document.removeEventListener(k+"fullscreenerror",E.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",E.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});s.exports=C},64743:s=>{s.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:s=>{s.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:s=>{s.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:s=>{s.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(s,g,i)=>{var o={CENTER:i(64743),ORIENTATION:i(39218),SCALE_MODE:i(81050),ZOOM:i(80805)};s.exports=o},56139:s=>{s.exports="enterfullscreen"},2336:s=>{s.exports="fullscreenfailed"},47412:s=>{s.exports="fullscreenunsupported"},51452:s=>{s.exports="leavefullscreen"},20666:s=>{s.exports="orientationchange"},47945:s=>{s.exports="resize"},97480:(s,g,i)=>{s.exports={ENTER_FULLSCREEN:i(56139),FULLSCREEN_FAILED:i(2336),FULLSCREEN_UNSUPPORTED:i(47412),LEAVE_FULLSCREEN:i(51452),ORIENTATION_CHANGE:i(20666),RESIZE:i(47945)}},93364:(s,g,i)=>{var o=i(79291),m=i(13560),c={Center:i(64743),Events:i(97480),Orientation:i(39218),ScaleManager:i(76531),ScaleModes:i(81050),Zoom:i(80805)};c=o(!1,c,m.CENTER),c=o(!1,c,m.ORIENTATION),c=o(!1,c,m.SCALE_MODE),c=o(!1,c,m.ZOOM),s.exports=c},27397:(s,g,i)=>{var o=i(95540),m=i(35355),c=function(l){var h=l.game.config.defaultPhysicsSystem,a=o(l.settings,"physics",!1);if(!(!h&&!a)){var f=[];if(h&&f.push(m(h+"Physics")),a)for(var p in a)p=m(p.concat("Physics")),f.indexOf(p)===-1&&f.push(p);return f}};s.exports=c},52106:(s,g,i)=>{var o=i(95540),m=function(c){var l=c.plugins.getDefaultScenePlugins(),h=o(c.settings,"plugins",!1);return Array.isArray(h)?h:l||[]};s.exports=m},87033:s=>{var g={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};s.exports=g},97482:(s,g,i)=>{var o=i(83419),m=i(2368),c=new o({initialize:function(h){this.sys=new m(this,h),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});s.exports=c},60903:(s,g,i)=>{var o=i(83419),m=i(89993),c=i(44594),l=i(8443),h=i(35154),a=i(54899),f=i(29747),p=i(97482),u=i(2368),v=new o({initialize:function(x,b){if(this.game=x,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,b){Array.isArray(b)||(b=[b]);for(var w=0;w<b.length;w++)this._pending.push({key:"default",scene:b[w],autoStart:w===0,data:{}})}x.events.once(l.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new p),this.game.events.emit(l.SYSTEM_READY,this.systemScene,this);var y,x,b,w;for(y=0;y<this._pending.length;y++){x=this._pending[y],b=x.key,w=x.scene;var C;w instanceof p?C=this.createSceneFromInstance(b,w):typeof w=="object"?C=this.createSceneFromObject(b,w):typeof w=="function"&&(C=this.createSceneFromFunction(b,w)),b=C.sys.settings.key,this.keys[b]=C,this.scenes.push(C),this._data[b]&&(C.sys.settings.data=this._data[b].data,this._data[b].autoStart&&(x.autoStart=!0)),(x.autoStart||C.sys.settings.active)&&this._start.push(b)}for(this._pending.length=0,this._data={},this.isBooted=!0,y=0;y<this._start.length;y++)x=this._start[y],this.start(x);this._start.length=0}},processQueue:function(){var y=this._pending.length,x=this._queue.length;if(!(y===0&&x===0)){var b,w;if(y){for(b=0;b<y;b++)w=this._pending[b],this.add(w.key,w.scene,w.autoStart,w.data);for(b=0;b<this._start.length;b++)w=this._start[b],this.start(w);this._start.length=0,this._pending.length=0}for(b=0;b<this._queue.length;b++)w=this._queue[b],this[w.op](w.keyA,w.keyB);this._queue.length=0}},add:function(y,x,b,w){if(b===void 0&&(b=!1),w===void 0&&(w={}),this.isProcessing||!this.isBooted)return this._pending.push({key:y,scene:x,autoStart:b,data:w}),this.isBooted||(this._data[y]={data:w}),null;y=this.getKey(y,x);var C;return x instanceof p?C=this.createSceneFromInstance(y,x):typeof x=="object"?(x.key=y,C=this.createSceneFromObject(y,x)):typeof x=="function"&&(C=this.createSceneFromFunction(y,x)),C.sys.settings.data=w,y=C.sys.settings.key,this.keys[y]=C,this.scenes.push(C),(b||C.sys.settings.active)&&(this._pending.length?this._start.push(y):this.start(y)),C},remove:function(y){if(this.isProcessing)this._queue.push({op:"remove",keyA:y,keyB:null});else{var x=this.getScene(y);if(!x||x.sys.isTransitioning())return this;var b=this.scenes.indexOf(x),w=x.sys.settings.key;b>-1&&(delete this.keys[w],this.scenes.splice(b,1),this._start.indexOf(w)>-1&&(b=this._start.indexOf(w),this._start.splice(b,1)),x.sys.destroy())}return this},bootScene:function(y){var x=y.sys,b=x.settings;x.sceneUpdate=f,y.init&&(y.init.call(y,b.data),b.status=m.INIT,b.isTransition&&x.events.emit(c.TRANSITION_INIT,b.transitionFrom,b.transitionDuration));var w;x.load&&(w=x.load,w.reset()),w&&y.preload?(y.preload.call(y),b.status=m.LOADING,w.once(a.COMPLETE,this.loadComplete,this),w.start()):this.create(y)},loadComplete:function(y){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(y.scene)},payloadComplete:function(y){this.bootScene(y.scene)},update:function(y,x){this.processQueue(),this.isProcessing=!0;for(var b=this.scenes.length-1;b>=0;b--){var w=this.scenes[b].sys;w.settings.status>m.START&&w.settings.status<=m.RUNNING&&w.step(y,x),w.scenePlugin&&w.scenePlugin._target&&w.scenePlugin.step(y,x)}},render:function(y){for(var x=0;x<this.scenes.length;x++){var b=this.scenes[x].sys;b.settings.visible&&b.settings.status>=m.LOADING&&b.settings.status<m.SLEEPING&&b.render(y)}this.isProcessing=!1},create:function(y){var x=y.sys,b=x.settings;y.create&&(b.status=m.CREATING,y.create.call(y,b.data),b.status===m.DESTROYED)||(b.isTransition&&x.events.emit(c.TRANSITION_START,b.transitionFrom,b.transitionDuration),y.update&&(x.sceneUpdate=y.update),b.status=m.RUNNING,x.events.emit(c.CREATE,y))},createSceneFromFunction:function(y,x){var b=new x;if(b instanceof p){var w=b.sys.settings.key;if(w!==""&&(y=w),this.keys.hasOwnProperty(y))throw new Error("Cannot add a Scene with duplicate key: "+y);return this.createSceneFromInstance(y,b)}else return b.sys=new u(b),b.sys.settings.key=y,b.sys.init(this.game),b},createSceneFromInstance:function(y,x){var b=x.sys.settings.key;return b===""&&(x.sys.settings.key=y),x.sys.init(this.game),x},createSceneFromObject:function(y,x){var b=new p(x),w=b.sys.settings.key;w!==""?y=w:b.sys.settings.key=y,b.sys.init(this.game);for(var C=["init","preload","create","update","render"],E=0;E<C.length;E++){var T=h(x,C[E],null);T&&(b[C[E]]=T)}if(x.hasOwnProperty("extend")){for(var k in x.extend)if(x.extend.hasOwnProperty(k)){var A=x.extend[k];k==="data"&&b.hasOwnProperty("data")&&typeof A=="object"?b.data.merge(A):k!=="sys"&&(b[k]=A)}}return b},getKey:function(y,x){if(y||(y="default"),typeof x=="function")return y;if(x instanceof p?y=x.sys.settings.key:typeof x=="object"&&x.hasOwnProperty("key")&&(y=x.key),this.keys.hasOwnProperty(y))throw new Error("Cannot add a Scene with duplicate key: "+y);return y},getScenes:function(y,x){y===void 0&&(y=!0),x===void 0&&(x=!1);for(var b=[],w=this.scenes,C=0;C<w.length;C++){var E=w[C];E&&(!y||y&&E.sys.isActive())&&b.push(E)}return x?b.reverse():b},getScene:function(y){if(typeof y=="string"){if(this.keys[y])return this.keys[y]}else for(var x=0;x<this.scenes.length;x++)if(y===this.scenes[x])return y;return null},isActive:function(y){var x=this.getScene(y);return x?x.sys.isActive():null},isPaused:function(y){var x=this.getScene(y);return x?x.sys.isPaused():null},isVisible:function(y){var x=this.getScene(y);return x?x.sys.isVisible():null},isSleeping:function(y){var x=this.getScene(y);return x?x.sys.isSleeping():null},pause:function(y,x){var b=this.getScene(y);return b&&b.sys.pause(x),this},resume:function(y,x){var b=this.getScene(y);return b&&b.sys.resume(x),this},sleep:function(y,x){var b=this.getScene(y);return b&&!b.sys.isTransitioning()&&b.sys.sleep(x),this},wake:function(y,x){var b=this.getScene(y);return b&&b.sys.wake(x),this},run:function(y,x){var b=this.getScene(y);if(!b){for(var w=0;w<this._pending.length;w++)if(this._pending[w].key===y){this.queueOp("start",y,x);break}return this}b.sys.isSleeping()?b.sys.wake(x):b.sys.isPaused()?b.sys.resume(x):this.start(y,x)},start:function(y,x){if(!this.isBooted)return this._data[y]={autoStart:!0,data:x},this;var b=this.getScene(y);if(!b)return console.warn("Scene not found for key: "+y),this;var w=b.sys,C=w.settings.status;if(C>=m.START&&C<=m.CREATING)return this;if(C>=m.RUNNING&&C<=m.SLEEPING)w.shutdown(),w.sceneUpdate=f,w.start(x);else{w.sceneUpdate=f,w.start(x);var E;if(w.load&&(E=w.load),E&&w.settings.hasOwnProperty("pack")&&(E.reset(),E.addPack({payload:w.settings.pack})))return w.settings.status=m.LOADING,E.once(a.COMPLETE,this.payloadComplete,this),E.start(),this}return this.bootScene(b),this},stop:function(y,x){var b=this.getScene(y);if(b&&!b.sys.isTransitioning()&&b.sys.settings.status!==m.SHUTDOWN){var w=b.sys.load;w&&(w.off(a.COMPLETE,this.loadComplete,this),w.off(a.COMPLETE,this.payloadComplete,this)),b.sys.shutdown(x)}return this},switch:function(y,x){var b=this.getScene(y),w=this.getScene(x);return b&&w&&b!==w&&(this.sleep(y),this.isSleeping(x)?this.wake(x):this.start(x)),this},getAt:function(y){return this.scenes[y]},getIndex:function(y){var x=this.getScene(y);return this.scenes.indexOf(x)},bringToTop:function(y){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:y,keyB:null});else{var x=this.getIndex(y);if(x!==-1&&x<this.scenes.length){var b=this.getScene(y);this.scenes.splice(x,1),this.scenes.push(b)}}return this},sendToBack:function(y){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:y,keyB:null});else{var x=this.getIndex(y);if(x!==-1&&x>0){var b=this.getScene(y);this.scenes.splice(x,1),this.scenes.unshift(b)}}return this},moveDown:function(y){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:y,keyB:null});else{var x=this.getIndex(y);if(x>0){var b=x-1,w=this.getScene(y),C=this.getAt(b);this.scenes[x]=C,this.scenes[b]=w}}return this},moveUp:function(y){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:y,keyB:null});else{var x=this.getIndex(y);if(x<this.scenes.length-1){var b=x+1,w=this.getScene(y),C=this.getAt(b);this.scenes[x]=C,this.scenes[b]=w}}return this},moveAbove:function(y,x){if(y===x)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:y,keyB:x});else{var b=this.getIndex(y),w=this.getIndex(x);if(b!==-1&&w!==-1&&w<b){var C=this.getAt(w);this.scenes.splice(w,1),this.scenes.splice(b+(w>b),0,C)}}return this},moveBelow:function(y,x){if(y===x)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:y,keyB:x});else{var b=this.getIndex(y),w=this.getIndex(x);if(b!==-1&&w!==-1&&w>b){var C=this.getAt(w);this.scenes.splice(w,1),b===0?this.scenes.unshift(C):this.scenes.splice(b-(w<b),0,C)}}return this},queueOp:function(y,x,b){return this._queue.push({op:y,keyA:x,keyB:b}),this},swapPosition:function(y,x){if(y===x)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:y,keyB:x});else{var b=this.getIndex(y),w=this.getIndex(x);if(b!==w&&b!==-1&&w!==-1){var C=this.getAt(b);this.scenes[b]=this.scenes[w],this.scenes[w]=C}}return this},dump:function(){for(var y=[],x=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],b=0;b<this.scenes.length;b++){var w=this.scenes[b].sys,C=w.settings.visible&&(w.settings.status===m.RUNNING||w.settings.status===m.PAUSED)?"[*] ":"[-] ";C+=w.settings.key+" ("+x[w.settings.status]+")",y.push(C)}console.log(y.join(`
`))},destroy:function(){for(var y=0;y<this.scenes.length;y++){var x=this.scenes[y].sys;x.destroy()}this.systemScene.sys.destroy(),this.update=f,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});s.exports=v},52209:(s,g,i)=>{var o=i(45319),m=i(83419),c=i(44594),l=i(95540),h=i(37277),a=new m({initialize:function(p){this.scene=p,this.systems=p.sys,this.settings=p.sys.settings,this.key=p.sys.settings.key,this.manager=p.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,p.sys.events.once(c.BOOT,this.boot,this),p.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},start:function(f,p){return f===void 0&&(f=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",f,p),this},restart:function(f){var p=this.key;return this.manager.queueOp("stop",p),this.manager.queueOp("start",p,f),this},transition:function(f){f===void 0&&(f={});var p=l(f,"target",!1),u=this.manager.getScene(p);if(!p||!this.checkValidTransition(u))return!1;var v=l(f,"duration",1e3);this._elapsed=0,this._target=u,this._duration=v,this._willSleep=l(f,"sleep",!1),this._willRemove=l(f,"remove",!1);var y=l(f,"onUpdate",null);y&&(this._onUpdate=y,this._onUpdateScope=l(f,"onUpdateScope",this.scene));var x=l(f,"allowInput",!1);this.settings.transitionAllowInput=x;var b=u.sys.settings;b.isTransition=!0,b.transitionFrom=this.scene,b.transitionDuration=v,b.transitionAllowInput=x,l(f,"moveAbove",!1)?this.manager.moveAbove(this.key,p):l(f,"moveBelow",!1)&&this.manager.moveBelow(this.key,p),u.sys.isSleeping()?u.sys.wake(l(f,"data")):this.manager.start(p,l(f,"data"));var w=l(f,"onStart",null),C=l(f,"onStartScope",this.scene);return w&&w.call(C,this.scene,u,v),this.systems.events.emit(c.TRANSITION_OUT,u,v),!0},checkValidTransition:function(f){return!(!f||f.sys.isActive()||f.sys.isTransitioning()||f===this.scene||this.systems.isTransitioning())},step:function(f,p){this._elapsed+=p,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var f=this._target.sys,p=this._target.sys.settings;f.events.emit(c.TRANSITION_COMPLETE,this.scene),p.isTransition=!1,p.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(f,p,u,v){return this.manager.add(f,p,u,v)},launch:function(f,p){return f&&f!==this.key&&this.manager.queueOp("start",f,p),this},run:function(f,p){return f&&f!==this.key&&this.manager.queueOp("run",f,p),this},pause:function(f,p){return f===void 0&&(f=this.key),this.manager.queueOp("pause",f,p),this},resume:function(f,p){return f===void 0&&(f=this.key),this.manager.queueOp("resume",f,p),this},sleep:function(f,p){return f===void 0&&(f=this.key),this.manager.queueOp("sleep",f,p),this},wake:function(f,p){return f===void 0&&(f=this.key),this.manager.queueOp("wake",f,p),this},switch:function(f){return f!==this.key&&this.manager.queueOp("switch",this.key,f),this},stop:function(f,p){return f===void 0&&(f=this.key),this.manager.queueOp("stop",f,p),this},setActive:function(f,p,u){p===void 0&&(p=this.key);var v=this.manager.getScene(p);return v&&v.sys.setActive(f,u),this},setVisible:function(f,p){p===void 0&&(p=this.key);var u=this.manager.getScene(p);return u&&u.sys.setVisible(f),this},isSleeping:function(f){return f===void 0&&(f=this.key),this.manager.isSleeping(f)},isActive:function(f){return f===void 0&&(f=this.key),this.manager.isActive(f)},isPaused:function(f){return f===void 0&&(f=this.key),this.manager.isPaused(f)},isVisible:function(f){return f===void 0&&(f=this.key),this.manager.isVisible(f)},swapPosition:function(f,p){return p===void 0&&(p=this.key),f!==p&&this.manager.swapPosition(f,p),this},moveAbove:function(f,p){return p===void 0&&(p=this.key),f!==p&&this.manager.moveAbove(f,p),this},moveBelow:function(f,p){return p===void 0&&(p=this.key),f!==p&&this.manager.moveBelow(f,p),this},remove:function(f){return f===void 0&&(f=this.key),this.manager.remove(f),this},moveUp:function(f){return f===void 0&&(f=this.key),this.manager.moveUp(f),this},moveDown:function(f){return f===void 0&&(f=this.key),this.manager.moveDown(f),this},bringToTop:function(f){return f===void 0&&(f=this.key),this.manager.bringToTop(f),this},sendToBack:function(f){return f===void 0&&(f=this.key),this.manager.sendToBack(f),this},get:function(f){return this.manager.getScene(f)},getStatus:function(f){var p=this.manager.getScene(f);if(p)return p.sys.getStatus()},getIndex:function(f){return f===void 0&&(f=this.key),this.manager.getIndex(f)},shutdown:function(){var f=this.systems.events;f.off(c.SHUTDOWN,this.shutdown,this),f.off(c.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});h.register("ScenePlugin",a,"scenePlugin"),s.exports=a},55681:(s,g,i)=>{var o=i(89993),m=i(35154),c=i(46975),l=i(87033),h={create:function(a){return typeof a=="string"?a={key:a}:a===void 0&&(a={}),{status:o.PENDING,key:m(a,"key",""),active:m(a,"active",!1),visible:m(a,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:m(a,"pack",!1),cameras:m(a,"cameras",null),map:m(a,"map",c(l,m(a,"mapAdd",{}))),physics:m(a,"physics",{}),loader:m(a,"loader",{}),plugins:m(a,"plugins",!1),input:m(a,"input",{})}}};s.exports=h},2368:(s,g,i)=>{var o=i(83419),m=i(89993),c=i(42363),l=i(44594),h=i(27397),a=i(52106),f=i(29747),p=i(55681),u=new o({initialize:function(y,x){this.scene=y,this.game,this.renderer,this.config=x,this.settings=p.create(x),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=f},init:function(v){this.settings.status=m.INIT,this.sceneUpdate=f,this.game=v,this.renderer=v.renderer,this.canvas=v.canvas,this.context=v.context;var y=v.plugins;this.plugins=y,y.addToScene(this,c.Global,[c.CoreScene,a(this),h(this)]),this.events.emit(l.BOOT,this),this.settings.isBooted=!0},step:function(v,y){var x=this.events;x.emit(l.PRE_UPDATE,v,y),x.emit(l.UPDATE,v,y),this.sceneUpdate.call(this.scene,v,y),x.emit(l.POST_UPDATE,v,y)},render:function(v){var y=this.displayList;y.depthSort(),this.events.emit(l.PRE_RENDER,v),this.cameras.render(v,y),this.events.emit(l.RENDER,v)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(v){var y=this.settings,x=this.getStatus();return x!==m.CREATING&&x!==m.RUNNING?console.warn("Cannot pause non-running Scene",y.key):this.settings.active&&(y.status=m.PAUSED,y.active=!1,this.events.emit(l.PAUSE,this,v)),this},resume:function(v){var y=this.events,x=this.settings;return this.settings.active||(x.status=m.RUNNING,x.active=!0,y.emit(l.RESUME,this,v)),this},sleep:function(v){var y=this.settings,x=this.getStatus();return x!==m.CREATING&&x!==m.RUNNING?console.warn("Cannot sleep non-running Scene",y.key):(y.status=m.SLEEPING,y.active=!1,y.visible=!1,this.events.emit(l.SLEEP,this,v)),this},wake:function(v){var y=this.events,x=this.settings;return x.status=m.RUNNING,x.active=!0,x.visible=!0,y.emit(l.WAKE,this,v),x.isTransition&&y.emit(l.TRANSITION_WAKE,x.transitionFrom,x.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var v=this.settings.status;return v>m.PENDING&&v<=m.RUNNING},isSleeping:function(){return this.settings.status===m.SLEEPING},isActive:function(){return this.settings.status===m.RUNNING},isPaused:function(){return this.settings.status===m.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(v){return this.settings.visible=v,this},setActive:function(v,y){return v?this.resume(y):this.pause(y)},start:function(v){var y=this.events,x=this.settings;v&&(x.data=v),x.status=m.START,x.active=!0,x.visible=!0,y.emit(l.START,this),y.emit(l.READY,this,v)},shutdown:function(v){var y=this.events,x=this.settings;y.off(l.TRANSITION_INIT),y.off(l.TRANSITION_START),y.off(l.TRANSITION_COMPLETE),y.off(l.TRANSITION_OUT),x.status=m.SHUTDOWN,x.active=!1,x.visible=!1,y.emit(l.SHUTDOWN,this,v)},destroy:function(){var v=this.events,y=this.settings;y.status=m.DESTROYED,y.active=!1,y.visible=!1,v.emit(l.DESTROY,this),v.removeAllListeners();for(var x=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],b=0;b<x.length;b++)this[x[b]]=null}});s.exports=u},89993:s=>{var g={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};s.exports=g},69830:s=>{s.exports="addedtoscene"},7919:s=>{s.exports="boot"},46763:s=>{s.exports="create"},11763:s=>{s.exports="destroy"},71555:s=>{s.exports="pause"},36735:s=>{s.exports="postupdate"},3809:s=>{s.exports="prerender"},90716:s=>{s.exports="preupdate"},58262:s=>{s.exports="ready"},91633:s=>{s.exports="removedfromscene"},10319:s=>{s.exports="render"},87132:s=>{s.exports="resume"},81961:s=>{s.exports="shutdown"},90194:s=>{s.exports="sleep"},6265:s=>{s.exports="start"},33178:s=>{s.exports="transitioncomplete"},43063:s=>{s.exports="transitioninit"},11259:s=>{s.exports="transitionout"},61611:s=>{s.exports="transitionstart"},45209:s=>{s.exports="transitionwake"},22966:s=>{s.exports="update"},21747:s=>{s.exports="wake"},44594:(s,g,i)=>{s.exports={ADDED_TO_SCENE:i(69830),BOOT:i(7919),CREATE:i(46763),DESTROY:i(11763),PAUSE:i(71555),POST_UPDATE:i(36735),PRE_RENDER:i(3809),PRE_UPDATE:i(90716),READY:i(58262),REMOVED_FROM_SCENE:i(91633),RENDER:i(10319),RESUME:i(87132),SHUTDOWN:i(81961),SLEEP:i(90194),START:i(6265),TRANSITION_COMPLETE:i(33178),TRANSITION_INIT:i(43063),TRANSITION_OUT:i(11259),TRANSITION_START:i(61611),TRANSITION_WAKE:i(45209),UPDATE:i(22966),WAKE:i(21747)}},62194:(s,g,i)=>{var o=i(89993),m=i(79291),c={Events:i(44594),GetPhysicsPlugins:i(27397),GetScenePlugins:i(52106),SceneManager:i(60903),ScenePlugin:i(52209),Settings:i(55681),Systems:i(2368)};c=m(!1,c,o),s.exports=c},30341:(s,g,i)=>{var o=i(83419),m=i(50792),c=i(14463),l=i(79291),h=i(29747),a=new o({Extends:m,initialize:function(p,u,v){m.call(this),this.manager=p,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=l(this.config,v),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(console.error("addMarker "+f.name+" already exists in Sound"),!1):(f=l(!0,{name:"",start:0,duration:this.totalDuration-(f.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},f),this.markers[f.name]=f,!0)},updateMarker:function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(this.markers[f.name]=l(!0,this.markers[f.name],f),!0):(console.warn("Audio Marker: "+f.name+" missing in Sound: "+this.key),!1)},removeMarker:function(f){var p=this.markers[f];return p?(this.markers[f]=null,p):null},play:function(f,p){if(f===void 0&&(f=""),typeof f=="object"&&(p=f,f=""),typeof f!="string")return!1;if(!f)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[f])return console.warn("Marker: "+f+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[f],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=l(this.currentConfig,p),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:h,calculateRate:function(){var f=1.0005777895065548,p=this.currentConfig.detune+this.manager.detune,u=Math.pow(f,p);this.totalRate=this.currentConfig.rate*this.manager.rate*u},destroy:function(){this.pendingRemove||(this.stop(),this.emit(c.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});s.exports=a},85034:(s,g,i)=>{var o=i(83419),m=i(41786),c=i(50792),l=i(14463),h=i(8443),a=i(46710),f=i(58731),p=i(29747),u=i(26099),v=new o({Extends:c,initialize:function(x){c.call(this),this.game=x,this.jsonCache=x.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new u,x.events.on(h.BLUR,this.onGameBlur,this),x.events.on(h.FOCUS,this.onGameFocus,this),x.events.on(h.PRE_STEP,this.update,this),x.events.once(h.DESTROY,this.destroy,this)},add:p,addAudioSprite:function(y,x){x===void 0&&(x={});var b=this.add(y,x);b.spritemap=this.jsonCache.get(y).spritemap;for(var w in b.spritemap)if(b.spritemap.hasOwnProperty(w)){var C=m(x),E=b.spritemap[w];C.loop=E.hasOwnProperty("loop")?E.loop:!1,b.addMarker({name:w,start:E.start,duration:E.end-E.start,config:C})}return b},get:function(y){return f(this.sounds,"key",y)},getAll:function(y){return y?a(this.sounds,"key",y):a(this.sounds)},getAllPlaying:function(){return a(this.sounds,"isPlaying",!0)},play:function(y,x){var b=this.add(y);return b.once(l.COMPLETE,b.destroy,b),x?x.name?(b.addMarker(x),b.play(x.name)):b.play(x):b.play()},playAudioSprite:function(y,x,b){var w=this.addAudioSprite(y);return w.once(l.COMPLETE,w.destroy,w),w.play(x,b)},remove:function(y){var x=this.sounds.indexOf(y);return x!==-1?(y.destroy(),this.sounds.splice(x,1),!0):!1},removeAll:function(){this.sounds.forEach(function(y){y.destroy()}),this.sounds.length=0},removeByKey:function(y){for(var x=0,b=this.sounds.length-1;b>=0;b--){var w=this.sounds[b];w.key===y&&(w.destroy(),this.sounds.splice(b,1),x++)}return x},pauseAll:function(){this.forEachActiveSound(function(y){y.pause()}),this.emit(l.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(y){y.resume()}),this.emit(l.RESUME_ALL,this)},setListenerPosition:p,stopAll:function(){this.forEachActiveSound(function(y){y.stop()}),this.emit(l.STOP_ALL,this)},stopByKey:function(y){var x=0;return this.getAll(y).forEach(function(b){b.stop()&&x++}),x},unlock:p,onBlur:p,onFocus:p,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(y,x){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(l.UNLOCKED,this));for(var b=this.sounds.length-1;b>=0;b--)this.sounds[b].pendingRemove&&this.sounds.splice(b,1);this.sounds.forEach(function(w){w.update(y,x)})},destroy:function(){this.game.events.off(h.BLUR,this.onGameBlur,this),this.game.events.off(h.FOCUS,this.onGameFocus,this),this.game.events.off(h.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(y,x){var b=this;this.sounds.forEach(function(w,C){w&&!w.pendingRemove&&y.call(x||b,w,C,b.sounds)})},setRate:function(y){return this.rate=y,this},rate:{get:function(){return this._rate},set:function(y){this._rate=y,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(l.GLOBAL_RATE,this,y)}},setDetune:function(y){return this.detune=y,this},detune:{get:function(){return this._detune},set:function(y){this._detune=y,this.forEachActiveSound(function(x){x.calculateRate()}),this.emit(l.GLOBAL_DETUNE,this,y)}}});s.exports=v},14747:(s,g,i)=>{var o=i(33684),m=i(25960),c=i(57490),l={create:function(h){var a=h.config.audio,f=h.device.audio;return a.noAudio||!f.webAudio&&!f.audioData?new m(h):f.webAudio&&!a.disableWebAudio?new c(h):new o(h)}};s.exports=l},19723:s=>{s.exports="complete"},98882:s=>{s.exports="decodedall"},57506:s=>{s.exports="decoded"},73146:s=>{s.exports="destroy"},11305:s=>{s.exports="detune"},40577:s=>{s.exports="detune"},30333:s=>{s.exports="mute"},20394:s=>{s.exports="rate"},21802:s=>{s.exports="volume"},1299:s=>{s.exports="looped"},99190:s=>{s.exports="loop"},97125:s=>{s.exports="mute"},89259:s=>{s.exports="pan"},79986:s=>{s.exports="pauseall"},17586:s=>{s.exports="pause"},19618:s=>{s.exports="play"},42306:s=>{s.exports="rate"},10387:s=>{s.exports="resumeall"},48959:s=>{s.exports="resume"},9960:s=>{s.exports="seek"},19180:s=>{s.exports="stopall"},98328:s=>{s.exports="stop"},50401:s=>{s.exports="unlocked"},52498:s=>{s.exports="volume"},14463:(s,g,i)=>{s.exports={COMPLETE:i(19723),DECODED:i(57506),DECODED_ALL:i(98882),DESTROY:i(73146),DETUNE:i(11305),GLOBAL_DETUNE:i(40577),GLOBAL_MUTE:i(30333),GLOBAL_RATE:i(20394),GLOBAL_VOLUME:i(21802),LOOP:i(99190),LOOPED:i(1299),MUTE:i(97125),PAN:i(89259),PAUSE_ALL:i(79986),PAUSE:i(17586),PLAY:i(19618),RATE:i(42306),RESUME_ALL:i(10387),RESUME:i(48959),SEEK:i(9960),STOP_ALL:i(19180),STOP:i(98328),UNLOCKED:i(50401),VOLUME:i(52498)}},64895:(s,g,i)=>{var o=i(30341),m=i(83419),c=i(14463),l=i(45319),h=new m({Extends:o,initialize:function(f,p,u){if(u===void 0&&(u={}),this.tags=f.game.cache.audio.get(p),!this.tags)throw new Error('No cached audio asset with key "'+p);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,f,p,u)},play:function(a,f){return this.manager.isLocked(this,"play",[a,f])||!o.prototype.play.call(this,a,f)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(c.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(c.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(c.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var a=this.currentConfig.seek,f=this.currentConfig.delay,p=(this.currentMarker?this.currentMarker.start:0)+a;return this.previousTime=p,this.audio.currentTime=p,this.applyConfig(),f===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+f*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var a=0;a<this.tags.length;a++){var f=this.tags[a];if(f.dataset.used==="false")return f.dataset.used="true",this.audio=f,!0}if(!this.manager.override)return!1;var p=[];this.manager.forEachActiveSound(function(v){v.key===this.key&&v.audio&&p.push(v)},this),p.sort(function(v,y){return v.loop===y.loop?y.seek/y.duration-v.seek/v.duration:v.loop?1:-1});var u=p[0];return this.audio=u.audio,u.reset(),u.audio=null,u.startTime=0,u.previousTime=0,!0},playCatchPromise:function(){var a=this.audio.play();a&&a.catch(function(f){console.warn(f)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(a){if(this.isPlaying){if(this.startTime>0){this.startTime<a-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,a-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var f=this.currentMarker?this.currentMarker.start:0,p=f+this.duration,u=this.audio.currentTime;if(this.currentConfig.loop)u>=p-this.manager.loopEndOffset?(this.audio.currentTime=f+Math.max(0,u-p),u=this.audio.currentTime):u<f&&(this.audio.currentTime+=f,u=this.audio.currentTime),u<this.previousTime&&this.emit(c.LOOPED,this);else if(u>=p){this.reset(),this.stopAndReleaseAudioTag(),this.emit(c.COMPLETE,this);return}this.previousTime=u}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=l(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(a){this.currentConfig.mute=a,!this.manager.isLocked(this,"mute",a)&&(this.updateMute(),this.emit(c.MUTE,this,a))}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.currentConfig.volume},set:function(a){this.currentConfig.volume=a,!this.manager.isLocked(this,"volume",a)&&(this.updateVolume(),this.emit(c.VOLUME,this,a))}},setVolume:function(a){return this.volume=a,this},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,!this.manager.isLocked(this,c.RATE,a)&&(this.calculateRate(),this.emit(c.RATE,this,a))}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,!this.manager.isLocked(this,c.DETUNE,a)&&(this.calculateRate(),this.emit(c.DETUNE,this,a))}},setDetune:function(a){return this.detune=a,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.isLocked(this,"seek",a)||this.startTime>0||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.isPlaying?(this.previousTime=a,this.audio.currentTime=a):this.isPaused&&(this.currentConfig.seek=a),this.emit(c.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,!this.manager.isLocked(this,"loop",a)&&(this.audio&&(this.audio.loop=a),this.emit(c.LOOP,this,a))}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.currentConfig.pan},set:function(a){this.currentConfig.pan=a,this.emit(c.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});s.exports=h},33684:(s,g,i)=>{var o=i(85034),m=i(83419),c=i(14463),l=i(64895),h=new m({Extends:o,initialize:function(f){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,f)},add:function(a,f){var p=new l(this,a,f);return this.sounds.push(p),p},unlock:function(){this.locked=!1;var a=this;if(this.game.cache.audio.entries.each(function(v,y){for(var x=0;x<y.length;x++)if(y[x].dataset.locked==="true")return a.locked=!0,!1;return!0}),!!this.locked){var f=!1,p=function(){f=!0},u=function(){if(f){f=!1;return}document.body.removeEventListener("touchmove",p),document.body.removeEventListener("touchend",u);var v=[];if(a.game.cache.audio.entries.each(function(x,b){for(var w=0;w<b.length;w++){var C=b[w];C.dataset.locked==="true"&&v.push(C)}return!0}),v.length!==0){var y=v[v.length-1];y.oncanplaythrough=function(){y.oncanplaythrough=null,v.forEach(function(x){x.dataset.locked="false"}),a.unlocked=!0},v.forEach(function(x){x.load()})}};this.once(c.UNLOCKED,function(){for(this.forEachActiveSound(function(y){y.currentMarker===null&&y.duration===0&&(y.duration=y.tags[0].duration),y.totalDuration=y.tags[0].duration});this.lockedActionsQueue.length;){var v=this.lockedActionsQueue.shift();v.sound[v.prop].apply?v.sound[v.prop].apply(v.sound,v.value||[]):v.sound[v.prop]=v.value}},this),document.body.addEventListener("touchmove",p,!1),document.body.addEventListener("touchend",u,!1)}},onBlur:function(){this.forEachActiveSound(function(a){a.isPlaying&&(this.onBlurPausedSounds.push(a),a.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(a){a.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(a,f,p){return a.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:a,prop:f,value:p}),!0):!1},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this._mute},set:function(a){this._mute=a,this.forEachActiveSound(function(f){f.updateMute()}),this.emit(c.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this._volume},set:function(a){this._volume=a,this.forEachActiveSound(function(f){f.updateVolume()}),this.emit(c.GLOBAL_VOLUME,this,a)}}});s.exports=h},23717:(s,g,i)=>{s.exports={SoundManagerCreator:i(14747),Events:i(14463),BaseSound:i(30341),BaseSoundManager:i(85034),WebAudioSound:i(71741),WebAudioSoundManager:i(57490),HTML5AudioSound:i(64895),HTML5AudioSoundManager:i(33684),NoAudioSound:i(4603),NoAudioSoundManager:i(25960)}},4603:(s,g,i)=>{var o=i(30341),m=i(83419),c=i(50792),l=i(79291),h=i(29747),a=function(){return!1},f=function(){return null},p=function(){return this},u=new m({Extends:c,initialize:function(y,x,b){b===void 0&&(b={}),c.call(this),this.manager=y,this.key=x,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=l({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},b),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:f,play:a,pause:a,resume:a,stop:a,setMute:p,setVolume:p,setRate:p,setDetune:p,setSeek:p,setLoop:p,setPan:p,applyConfig:f,resetConfig:f,update:h,calculateRate:f,destroy:function(){o.prototype.destroy.call(this)}});s.exports=u},25960:(s,g,i)=>{var o=i(85034),m=i(83419),c=i(50792),l=i(4603),h=i(29747),a=new m({Extends:c,initialize:function(p){c.call(this),this.game=p,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(f,p){var u=new l(this,f,p);return this.sounds.push(u),u},addAudioSprite:function(f,p){var u=this.add(f,p);return u.spritemap={},u},get:function(f){return o.prototype.get.call(this,f)},getAll:function(f){return o.prototype.getAll.call(this,f)},play:function(f,p){return!1},playAudioSprite:function(f,p,u){return!1},remove:function(f){return o.prototype.remove.call(this,f)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(f){return o.prototype.removeByKey.call(this,f)},stopByKey:function(f){return o.prototype.stopByKey.call(this,f)},onBlur:h,onFocus:h,onGameBlur:h,onGameFocus:h,pauseAll:h,resumeAll:h,stopAll:h,update:h,setRate:h,setDetune:h,setMute:h,setVolume:h,unlock:h,forEachActiveSound:function(f,p){o.prototype.forEachActiveSound.call(this,f,p)},destroy:function(){o.prototype.destroy.call(this)}});s.exports=a},71741:(s,g,i)=>{var o=i(30341),m=i(83419),c=i(14463),l=i(95540),h=new m({Extends:o,initialize:function(f,p,u){if(u===void 0&&(u={}),this.audioBuffer=f.game.cache.audio.get(p),!this.audioBuffer)throw new Error('Audio key "'+p+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=f.context.createGain(),this.volumeNode=f.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),f.context.createPanner&&(this.spatialNode=f.context.createPanner(),this.volumeNode.connect(this.spatialNode)),f.context.createStereoPanner?(this.pannerNode=f.context.createStereoPanner(),f.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(f.destination)):f.context.createPanner?this.spatialNode.connect(f.destination):this.volumeNode.connect(f.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,f,p,u)},play:function(a,f){return o.prototype.play.call(this,a,f)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(c.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(c.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(c.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(c.STOP,this),!0):!1},createAndStartBufferSource:function(){var a=this.currentConfig.seek,f=this.currentConfig.delay,p=this.manager.context.currentTime+f,u=(this.currentMarker?this.currentMarker.start:0)+a,v=this.duration-a;this.playTime=p-a,this.startTime=p,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,p),Math.max(0,u),Math.max(0,v)),this.resetConfig()},createAndStartLoopBufferSource:function(){var a=this.getLoopTime(),f=this.currentMarker?this.currentMarker.start:0,p=this.duration;this.loopTime=a,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,a),Math.max(0,f),Math.max(0,p))},createBufferSource:function(){var a=this,f=this.manager.context.createBufferSource();return f.buffer=this.audioBuffer,f.connect(this.muteNode),f.onended=function(p){p.target===a.source&&(a.currentConfig.loop?a.hasLooped=!0:a.hasEnded=!0)},f},stopAndRemoveBufferSource:function(){if(this.source){var a=this.source;this.source=null,a.stop(),a.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var a=this.currentConfig.source;if(a&&this.manager.context.createPanner){var f=this.spatialNode;f.panningModel=l(a,"panningModel","equalpower"),f.distanceModel=l(a,"distanceModel","inverse"),f.orientationX.value=l(a,"orientationX",0),f.orientationY.value=l(a,"orientationY",0),f.orientationZ.value=l(a,"orientationZ",-1),f.refDistance=l(a,"refDistance",1),f.maxDistance=l(a,"maxDistance",1e4),f.rolloffFactor=l(a,"rolloffFactor",1),f.coneInnerAngle=l(a,"coneInnerAngle",360),f.coneOuterAngle=l(a,"coneOuterAngle",0),f.coneOuterGain=l(a,"coneOuterGain",0),this.spatialSource=l(a,"follow",null),this.spatialSource||(f.positionX.value=l(a,"x",0),f.positionY.value=l(a,"y",0),f.positionZ.value=l(a,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(a){this.spatialNode&&(this.spatialNode.positionX.value=a)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(a){this.spatialNode&&(this.spatialNode.positionY.value=a)}},update:function(){if(this.isPlaying&&this.spatialSource){var a=l(this.spatialSource,"x",null),f=l(this.spatialSource,"y",null);a&&a!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=a),f&&f!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=f)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(c.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(c.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var a=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,a),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,a)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var a=0,f=0;f<this.rateUpdates.length;f++){var p=0;f<this.rateUpdates.length-1?p=this.rateUpdates[f+1].time:p=this.manager.context.currentTime-this.playTime,a+=(p-this.rateUpdates[f].time)*this.rateUpdates[f].rate}return a},getLoopTime:function(){for(var a=0,f=0;f<this.rateUpdates.length-1;f++)a+=(this.rateUpdates[f+1].time-this.rateUpdates[f].time)*this.rateUpdates[f].rate;var p=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+p.time+(this.duration-a)/p.rate},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,this.calculateRate(),this.emit(c.RATE,this,a)}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,this.calculateRate(),this.emit(c.DETUNE,this,a)}},setDetune:function(a){return this.detune=a,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(a){this.currentConfig.mute=a,this.muteNode.gain.setValueAtTime(a?0:1,0),this.emit(c.MUTE,this,a)}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(a){this.currentConfig.volume=a,this.volumeNode.gain.setValueAtTime(a,0),this.emit(c.VOLUME,this,a)}},setVolume:function(a){return this.volume=a,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.currentConfig.seek=a,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(c.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),a&&this.createAndStartLoopBufferSource()),this.emit(c.LOOP,this,a)}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(a){this.currentConfig.pan=a,this.pannerNode&&this.pannerNode.pan.setValueAtTime(a,this.manager.context.currentTime),this.emit(c.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});s.exports=h},57490:(s,g,i)=>{var o=i(53134),m=i(85034),c=i(83419),l=i(14463),h=i(8443),a=i(71741),f=i(95540),p=new c({Extends:m,initialize:function(v){this.context=this.createAudioContext(v),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),m.call(this,v),this.locked&&v.isBooted?this.unlock():v.events.once(h.BOOT,this.unlock,this)},createAudioContext:function(u){var v=u.config.audio;if(v.context)return v.context.resume(),v.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(u){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=u,this.masterMuteNode=u.createGain(),this.masterVolumeNode=u.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(u.destination),this.destination=this.masterMuteNode,this},add:function(u,v){var y=new a(this,u,v);return this.sounds.push(y),y},decodeAudio:function(u,v){var y;Array.isArray(u)?y=u:y=[{key:u,data:v}];for(var x=this.game.cache.audio,b=y.length,w=0;w<y.length;w++){var C=y[w],E=C.key,T=C.data;typeof T=="string"&&(T=o(T));var k=function(I,B){x.add(I,B),this.emit(l.DECODED,I),b--,b===0&&this.emit(l.DECODED_ALL)}.bind(this,E),A=function(I,B){console.error("Error decoding audio: "+I+" - ",B?B.message:""),b--,b===0&&this.emit(l.DECODED_ALL)}.bind(this,E);this.context.decodeAudioData(T,k,A)}},setListenerPosition:function(u,v){return u===void 0&&(u=this.game.scale.width/2),v===void 0&&(v=this.game.scale.height/2),this.listenerPosition.set(u,v),this},unlock:function(){var u=this,v=document.body,y=function x(){if(u.context&&v){var b=v.removeEventListener.bind(v);u.context.resume().then(function(){b("touchstart",x),b("touchend",x),b("click",x),b("keydown",x),u.unlocked=!0},function(){b("touchstart",x),b("touchend",x),b("click",x),b("keydown",x)})}};v&&(v.addEventListener("touchstart",y,!1),v.addEventListener("touchend",y,!1),v.addEventListener("click",y,!1),v.addEventListener("keydown",y,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var u=this.context;u&&!this.locked&&(u.state==="suspended"||u.state==="interrupted")&&u.resume()},update:function(u,v){var y=this.context.listener;if(y&&y.positionX!==void 0){var x=f(this.listenerPosition,"x",null),b=f(this.listenerPosition,"y",null);x&&x!==this._spatialx&&(this._spatialx=y.positionX.value=x),b&&b!==this._spatialy&&(this._spatialy=y.positionY.value=b)}m.prototype.update.call(this,u,v),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var u=this;this.context.close().then(function(){u.context=null})}m.prototype.destroy.call(this)},setMute:function(u){return this.mute=u,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(u){this.masterMuteNode.gain.setValueAtTime(u?0:1,0),this.emit(l.GLOBAL_MUTE,this,u)}},setVolume:function(u){return this.volume=u,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(u){this.masterVolumeNode.gain.setValueAtTime(u,0),this.emit(l.GLOBAL_VOLUME,this,u)}}});s.exports=p},73162:(s,g,i)=>{var o=i(37105),m=i(83419),c=i(29747),l=i(19186),h=new m({initialize:function(f){this.parent=f,this.list=[],this.position=0,this.addCallback=c,this.removeCallback=c,this._sortKey=""},add:function(a,f){return f?o.Add(this.list,a):o.Add(this.list,a,0,this.addCallback,this)},addAt:function(a,f,p){return p?o.AddAt(this.list,a,f):o.AddAt(this.list,a,f,0,this.addCallback,this)},getAt:function(a){return this.list[a]},getIndex:function(a){return this.list.indexOf(a)},sort:function(a,f){return a?(f===void 0&&(f=function(p,u){return p[a]-u[a]}),l(this.list,f),this):this},getByName:function(a){return o.GetFirst(this.list,"name",a)},getRandom:function(a,f){return o.GetRandom(this.list,a,f)},getFirst:function(a,f,p,u){return o.GetFirst(this.list,a,f,p,u)},getAll:function(a,f,p,u){return o.GetAll(this.list,a,f,p,u)},count:function(a,f){return o.CountAllMatching(this.list,a,f)},swap:function(a,f){o.Swap(this.list,a,f)},moveTo:function(a,f){return o.MoveTo(this.list,a,f)},moveAbove:function(a,f){return o.MoveAbove(this.list,a,f)},moveBelow:function(a,f){return o.MoveBelow(this.list,a,f)},remove:function(a,f){return f?o.Remove(this.list,a):o.Remove(this.list,a,this.removeCallback,this)},removeAt:function(a,f){return f?o.RemoveAt(this.list,a):o.RemoveAt(this.list,a,this.removeCallback,this)},removeBetween:function(a,f,p){return p?o.RemoveBetween(this.list,a,f):o.RemoveBetween(this.list,a,f,this.removeCallback,this)},removeAll:function(a){for(var f=this.list.length;f--;)this.remove(this.list[f],a);return this},bringToTop:function(a){return o.BringToTop(this.list,a)},sendToBack:function(a){return o.SendToBack(this.list,a)},moveUp:function(a){return o.MoveUp(this.list,a),a},moveDown:function(a){return o.MoveDown(this.list,a),a},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(a,f){return o.Replace(this.list,a,f)},exists:function(a){return this.list.indexOf(a)>-1},setAll:function(a,f,p,u){return o.SetAll(this.list,a,f,p,u),this},each:function(a,f){for(var p=[null],u=2;u<arguments.length;u++)p.push(arguments[u]);for(u=0;u<this.list.length;u++)p[0]=this.list[u],a.apply(f,p)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});s.exports=h},90330:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l){this.entries={},this.size=0,this.setAll(l)},setAll:function(c){if(Array.isArray(c))for(var l=0;l<c.length;l++)this.set(c[l][0],c[l][1]);return this},set:function(c,l){return this.has(c)||this.size++,this.entries[c]=l,this},get:function(c){if(this.has(c))return this.entries[c]},getArray:function(){var c=[],l=this.entries;for(var h in l)c.push(l[h]);return c},has:function(c){return this.entries.hasOwnProperty(c)},delete:function(c){return this.has(c)&&(delete this.entries[c],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(c){delete this.entries[c]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var c=[],l=this.entries;for(var h in l)c.push(l[h]);return c},dump:function(){var c=this.entries;console.group("Map");for(var l in c)console.log(l,c[l]);console.groupEnd()},each:function(c){var l=this.entries;for(var h in l)if(c(h,l[h])===!1)break;return this},contains:function(c){var l=this.entries;for(var h in l)if(l[h]===c)return!0;return!1},merge:function(c,l){l===void 0&&(l=!1);var h=this.entries,a=c.entries;for(var f in a)h.hasOwnProperty(f)&&l?h[f]=a[f]:this.set(f,a[f]);return this}});s.exports=m},25774:(s,g,i)=>{var o=i(83419),m=i(50792),c=i(82348),l=new o({Extends:m,initialize:function(){m.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(h){return this._active.indexOf(h)>-1},isPending:function(h){return this._toProcess>0&&this._pending.indexOf(h)>-1},isDestroying:function(h){return this._destroy.indexOf(h)>-1},add:function(h){return this.checkQueue&&this.isActive(h)&&!this.isDestroying(h)||this.isPending(h)||(this._pending.push(h),this._toProcess++),h},remove:function(h){if(this.isPending(h)){var a=this._pending,f=a.indexOf(h);f!==-1&&a.splice(f,1)}else this.isActive(h)&&(this._destroy.push(h),this._toProcess++);return h},removeAll:function(){for(var h=this._active,a=this._destroy,f=h.length;f--;)a.push(h[f]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var h=this._destroy,a=this._active,f,p;for(f=0;f<h.length;f++){p=h[f];var u=a.indexOf(p);u!==-1&&(a.splice(u,1),this.emit(c.PROCESS_QUEUE_REMOVE,p))}for(h.length=0,h=this._pending,f=0;f<h.length;f++)p=h[f],(!this.checkQueue||this.checkQueue&&a.indexOf(p)===-1)&&(a.push(p),this.emit(c.PROCESS_QUEUE_ADD,p));return h.length=0,this._toProcess=0,a},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});s.exports=l},59542:(s,g,i)=>{var o=i(43886);function m(T){if(!(this instanceof m))return new m(T);this._maxEntries=Math.max(4,T||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}m.prototype={all:function(){return this._all(this.data,[])},search:function(T){var k=this.data,A=[],I=this.toBBox;if(!w(T,k))return A;for(var B=[],M,O,P,L;k;){for(M=0,O=k.children.length;M<O;M++)P=k.children[M],L=k.leaf?I(P):P,w(T,L)&&(k.leaf?A.push(P):b(T,L)?this._all(P,A):B.push(P));k=B.pop()}return A},collides:function(T){var k=this.data,A=this.toBBox;if(!w(T,k))return!1;for(var I=[],B,M,O,P;k;){for(B=0,M=k.children.length;B<M;B++)if(O=k.children[B],P=k.leaf?A(O):O,w(T,P)){if(k.leaf||b(T,P))return!0;I.push(O)}k=I.pop()}return!1},load:function(T){if(!(T&&T.length))return this;if(T.length<this._minEntries){for(var k=0,A=T.length;k<A;k++)this.insert(T[k]);return this}var I=this._build(T.slice(),0,T.length-1,0);if(!this.data.children.length)this.data=I;else if(this.data.height===I.height)this._splitRoot(this.data,I);else{if(this.data.height<I.height){var B=this.data;this.data=I,I=B}this._insert(I,this.data.height-I.height-1,!0)}return this},insert:function(T){return T&&this._insert(T,this.data.height-1),this},clear:function(){return this.data=C([]),this},remove:function(T,k){if(!T)return this;for(var A=this.data,I=this.toBBox(T),B=[],M=[],O,P,L,_;A||B.length;){if(A||(A=B.pop(),P=B[B.length-1],O=M.pop(),_=!0),A.leaf&&(L=c(T,A.children,k),L!==-1))return A.children.splice(L,1),B.push(A),this._condense(B),this;!_&&!A.leaf&&b(A,I)?(B.push(A),M.push(O),O=0,P=A,A=A.children[0]):P?(O++,A=P.children[O],_=!1):A=null}return this},toBBox:function(T){return T},compareMinX:f,compareMinY:p,toJSON:function(){return this.data},fromJSON:function(T){return this.data=T,this},_all:function(T,k){for(var A=[];T;)T.leaf?k.push.apply(k,T.children):A.push.apply(A,T.children),T=A.pop();return k},_build:function(T,k,A,I){var B=A-k+1,M=this._maxEntries,O;if(B<=M)return O=C(T.slice(k,A+1)),l(O,this.toBBox),O;I||(I=Math.ceil(Math.log(B)/Math.log(M)),M=Math.ceil(B/Math.pow(M,I-1))),O=C([]),O.leaf=!1,O.height=I;var P=Math.ceil(B/M),L=P*Math.ceil(Math.sqrt(M)),_,G,$,W;for(E(T,k,A,L,this.compareMinX),_=k;_<=A;_+=L)for($=Math.min(_+L-1,A),E(T,_,$,P,this.compareMinY),G=_;G<=$;G+=P)W=Math.min(G+P-1,$),O.children.push(this._build(T,G,W,I-1));return l(O,this.toBBox),O},_chooseSubtree:function(T,k,A,I){for(var B,M,O,P,L,_,G,$;I.push(k),!(k.leaf||I.length-1===A);){for(G=$=1/0,B=0,M=k.children.length;B<M;B++)O=k.children[B],L=u(O),_=y(T,O)-L,_<$?($=_,G=L<G?L:G,P=O):_===$&&L<G&&(G=L,P=O);k=P||k.children[0]}return k},_insert:function(T,k,A){var I=this.toBBox,B=A?T:I(T),M=[],O=this._chooseSubtree(B,this.data,k,M);for(O.children.push(T),a(O,B);k>=0&&M[k].children.length>this._maxEntries;)this._split(M,k),k--;this._adjustParentBBoxes(B,M,k)},_split:function(T,k){var A=T[k],I=A.children.length,B=this._minEntries;this._chooseSplitAxis(A,B,I);var M=this._chooseSplitIndex(A,B,I),O=C(A.children.splice(M,A.children.length-M));O.height=A.height,O.leaf=A.leaf,l(A,this.toBBox),l(O,this.toBBox),k?T[k-1].children.push(O):this._splitRoot(A,O)},_splitRoot:function(T,k){this.data=C([T,k]),this.data.height=T.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(T,k,A){var I,B,M,O,P,L,_,G;for(L=_=1/0,I=k;I<=A-k;I++)B=h(T,0,I,this.toBBox),M=h(T,I,A,this.toBBox),O=x(B,M),P=u(B)+u(M),O<L?(L=O,G=I,_=P<_?P:_):O===L&&P<_&&(_=P,G=I);return G},_chooseSplitAxis:function(T,k,A){var I=T.leaf?this.compareMinX:f,B=T.leaf?this.compareMinY:p,M=this._allDistMargin(T,k,A,I),O=this._allDistMargin(T,k,A,B);M<O&&T.children.sort(I)},_allDistMargin:function(T,k,A,I){T.children.sort(I);var B=this.toBBox,M=h(T,0,k,B),O=h(T,A-k,A,B),P=v(M)+v(O),L,_;for(L=k;L<A-k;L++)_=T.children[L],a(M,T.leaf?B(_):_),P+=v(M);for(L=A-k-1;L>=k;L--)_=T.children[L],a(O,T.leaf?B(_):_),P+=v(O);return P},_adjustParentBBoxes:function(T,k,A){for(var I=A;I>=0;I--)a(k[I],T)},_condense:function(T){for(var k=T.length-1,A;k>=0;k--)T[k].children.length===0?k>0?(A=T[k-1].children,A.splice(A.indexOf(T[k]),1)):this.clear():l(T[k],this.toBBox)},compareMinX:function(T,k){return T.left-k.left},compareMinY:function(T,k){return T.top-k.top},toBBox:function(T){return{minX:T.left,minY:T.top,maxX:T.right,maxY:T.bottom}}};function c(T,k,A){if(!A)return k.indexOf(T);for(var I=0;I<k.length;I++)if(A(T,k[I]))return I;return-1}function l(T,k){h(T,0,T.children.length,k,T)}function h(T,k,A,I,B){B||(B=C(null)),B.minX=1/0,B.minY=1/0,B.maxX=-1/0,B.maxY=-1/0;for(var M=k,O;M<A;M++)O=T.children[M],a(B,T.leaf?I(O):O);return B}function a(T,k){return T.minX=Math.min(T.minX,k.minX),T.minY=Math.min(T.minY,k.minY),T.maxX=Math.max(T.maxX,k.maxX),T.maxY=Math.max(T.maxY,k.maxY),T}function f(T,k){return T.minX-k.minX}function p(T,k){return T.minY-k.minY}function u(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function v(T){return T.maxX-T.minX+(T.maxY-T.minY)}function y(T,k){return(Math.max(k.maxX,T.maxX)-Math.min(k.minX,T.minX))*(Math.max(k.maxY,T.maxY)-Math.min(k.minY,T.minY))}function x(T,k){var A=Math.max(T.minX,k.minX),I=Math.max(T.minY,k.minY),B=Math.min(T.maxX,k.maxX),M=Math.min(T.maxY,k.maxY);return Math.max(0,B-A)*Math.max(0,M-I)}function b(T,k){return T.minX<=k.minX&&T.minY<=k.minY&&k.maxX<=T.maxX&&k.maxY<=T.maxY}function w(T,k){return k.minX<=T.maxX&&k.minY<=T.maxY&&k.maxX>=T.minX&&k.maxY>=T.minY}function C(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function E(T,k,A,I,B){for(var M=[k,A],O;M.length;)A=M.pop(),k=M.pop(),!(A-k<=I)&&(O=k+Math.ceil((A-k)/I/2)*I,o(T,O,k,A,B),M.push(k,O,O,A))}s.exports=m},35072:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l){if(this.entries=[],Array.isArray(l))for(var h=0;h<l.length;h++)this.set(l[h])},set:function(c){return this.entries.indexOf(c)===-1&&this.entries.push(c),this},get:function(c,l){for(var h=0;h<this.entries.length;h++){var a=this.entries[h];if(a[c]===l)return a}},getArray:function(){return this.entries.slice(0)},delete:function(c){var l=this.entries.indexOf(c);return l>-1&&this.entries.splice(l,1),this},dump:function(){console.group("Set");for(var c=0;c<this.entries.length;c++){var l=this.entries[c];console.log(l)}console.groupEnd()},each:function(c,l){var h,a=this.entries.slice(),f=a.length;if(l)for(h=0;h<f&&c.call(l,a[h],h)!==!1;h++);else for(h=0;h<f&&c(a[h],h)!==!1;h++);return this},iterate:function(c,l){var h,a=this.entries.length;if(l)for(h=0;h<a&&c.call(l,this.entries[h],h)!==!1;h++);else for(h=0;h<a&&c(this.entries[h],h)!==!1;h++);return this},iterateLocal:function(c){var l,h=[];for(l=1;l<arguments.length;l++)h.push(arguments[l]);var a=this.entries.length;for(l=0;l<a;l++){var f=this.entries[l];f[c].apply(f,h)}return this},clear:function(){return this.entries.length=0,this},contains:function(c){return this.entries.indexOf(c)>-1},union:function(c){var l=new m;return c.entries.forEach(function(h){l.set(h)}),this.entries.forEach(function(h){l.set(h)}),l},intersect:function(c){var l=new m;return this.entries.forEach(function(h){c.contains(h)&&l.set(h)}),l},difference:function(c){var l=new m;return this.entries.forEach(function(h){c.contains(h)||l.set(h)}),l},size:{get:function(){return this.entries.length},set:function(c){return c<this.entries.length?this.entries.length=c:this.entries.length}}});s.exports=m},86555:(s,g,i)=>{var o=i(45319),m=i(83419),c=i(56583),l=i(26099),h=new m({initialize:function(f,p,u,v){f===void 0&&(f=0),p===void 0&&(p=f),u===void 0&&(u=0),v===void 0&&(v=null),this._width=f,this._height=p,this._parent=v,this.aspectMode=u,this.aspectRatio=p===0?1:f/p,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new l},setAspectMode:function(a){return a===void 0&&(a=0),this.aspectMode=a,this.setSize(this._width,this._height)},setSnap:function(a,f){return a===void 0&&(a=0),f===void 0&&(f=a),this.snapTo.set(a,f),this.setSize(this._width,this._height)},setParent:function(a){return this._parent=a,this.setSize(this._width,this._height)},setMin:function(a,f){return a===void 0&&(a=0),f===void 0&&(f=a),this.minWidth=o(a,0,this.maxWidth),this.minHeight=o(f,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(a,f){return a===void 0&&(a=Number.MAX_VALUE),f===void 0&&(f=a),this.maxWidth=o(a,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(f,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(a,f){switch(a===void 0&&(a=0),f===void 0&&(f=a),this.aspectMode){case h.NONE:this._width=this.getNewWidth(c(a,this.snapTo.x)),this._height=this.getNewHeight(c(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case h.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(c(a,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case h.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(c(f,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case h.FIT:this.constrain(a,f,!0);break;case h.ENVELOP:this.constrain(a,f,!1);break}return this},setAspectRatio:function(a){return this.aspectRatio=a,this.setSize(this._width,this._height)},resize:function(a,f){return this._width=this.getNewWidth(c(a,this.snapTo.x)),this._height=this.getNewHeight(c(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(a,f){return f===void 0&&(f=!0),a=o(a,this.minWidth,this.maxWidth),f&&this._parent&&a>this._parent.width&&(a=Math.max(this.minWidth,this._parent.width)),a},getNewHeight:function(a,f){return f===void 0&&(f=!0),a=o(a,this.minHeight,this.maxHeight),f&&this._parent&&a>this._parent.height&&(a=Math.max(this.minHeight,this._parent.height)),a},constrain:function(a,f,p){a===void 0&&(a=0),f===void 0&&(f=a),p===void 0&&(p=!0),a=this.getNewWidth(a),f=this.getNewHeight(f);var u=this.snapTo,v=f===0?1:a/f;return p&&this.aspectRatio>v||!p&&this.aspectRatio<v?(a=c(a,u.x),f=a/this.aspectRatio,u.y>0&&(f=c(f,u.y),a=f*this.aspectRatio)):(p&&this.aspectRatio<v||!p&&this.aspectRatio>v)&&(f=c(f,u.y),a=f*this.aspectRatio,u.x>0&&(a=c(a,u.x),f=a*(1/this.aspectRatio))),this._width=a,this._height=f,this},fitTo:function(a,f){return this.constrain(a,f,!0)},envelop:function(a,f){return this.constrain(a,f,!1)},setWidth:function(a){return this.setSize(a,this._height)},setHeight:function(a){return this.setSize(this._width,a)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(a){a&&a.style&&(a.style.width=this._width+"px",a.style.height=this._height+"px")},copy:function(a){return a.setAspectMode(this.aspectMode),a.aspectRatio=this.aspectRatio,a.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(a){this.setSize(a,this._height)}},height:{get:function(){return this._height},set:function(a){this.setSize(this._width,a)}}});h.NONE=0,h.WIDTH_CONTROLS_HEIGHT=1,h.HEIGHT_CONTROLS_WIDTH=2,h.FIT=3,h.ENVELOP=4,s.exports=h},15238:s=>{s.exports="add"},56187:s=>{s.exports="remove"},82348:(s,g,i)=>{s.exports={PROCESS_QUEUE_ADD:i(15238),PROCESS_QUEUE_REMOVE:i(56187)}},41392:(s,g,i)=>{s.exports={Events:i(82348),List:i(73162),Map:i(90330),ProcessQueue:i(25774),RTree:i(59542),Set:i(35072),Size:i(86555)}},57382:(s,g,i)=>{var o=i(83419),m=i(45319),c=i(40987),l=i(8054),h=i(50030),a=i(79237),f=new o({Extends:a,initialize:function(u,v,y,x,b){a.call(this,u,v,y,x,b),this.add("__BASE",0,0,0,x,b),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=x,this.height=b,this.imageData=this.context.getImageData(0,0,x,b),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===l.WEBGL&&this.refresh(),this},draw:function(p,u,v,y){return y===void 0&&(y=!0),this.context.drawImage(v,p,u),y&&this.update(),this},drawFrame:function(p,u,v,y,x){v===void 0&&(v=0),y===void 0&&(y=0),x===void 0&&(x=!0);var b=this.manager.getFrame(p,u);if(b){var w=b.canvasData,C=b.cutWidth,E=b.cutHeight,T=b.source.resolution;this.context.drawImage(b.source.image,w.x,w.y,C,E,v,y,C/T,E/T),x&&this.update()}return this},setPixel:function(p,u,v,y,x,b){b===void 0&&(b=255),p=Math.abs(Math.floor(p)),u=Math.abs(Math.floor(u));var w=this.getIndex(p,u);if(w>-1){var C=this.context.getImageData(p,u,1,1);C.data[0]=v,C.data[1]=y,C.data[2]=x,C.data[3]=b,this.context.putImageData(C,p,u)}return this},putData:function(p,u,v,y,x,b,w){return y===void 0&&(y=0),x===void 0&&(x=0),b===void 0&&(b=p.width),w===void 0&&(w=p.height),this.context.putImageData(p,u,v,y,x,b,w),this},getData:function(p,u,v,y){p=m(Math.floor(p),0,this.width-1),u=m(Math.floor(u),0,this.height-1),v=m(v,1,this.width-p),y=m(y,1,this.height-u);var x=this.context.getImageData(p,u,v,y);return x},getPixel:function(p,u,v){v||(v=new c);var y=this.getIndex(p,u);if(y>-1){var x=this.data,b=x[y+0],w=x[y+1],C=x[y+2],E=x[y+3];v.setTo(b,w,C,E)}return v},getPixels:function(p,u,v,y){p===void 0&&(p=0),u===void 0&&(u=0),v===void 0&&(v=this.width),y===void 0&&(y=v),p=Math.abs(Math.round(p)),u=Math.abs(Math.round(u));for(var x=m(p,0,this.width),b=m(p+v,0,this.width),w=m(u,0,this.height),C=m(u+y,0,this.height),E=new c,T=[],k=w;k<C;k++){for(var A=[],I=x;I<b;I++)E=this.getPixel(I,k,E),A.push({x:I,y:k,color:E.color,alpha:E.alphaGL});T.push(A)}return T},getIndex:function(p,u){return p=Math.abs(Math.round(p)),u=Math.abs(Math.round(u)),p<this.width&&u<this.height?(p+u*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(p,u,v,y,x){return p===void 0&&(p=0),u===void 0&&(u=0),v===void 0&&(v=this.width),y===void 0&&(y=this.height),x===void 0&&(x=!0),this.context.clearRect(p,u,v,y),x&&this.update(),this},setSize:function(p,u){return u===void 0&&(u=p),(p!==this.width||u!==this.height)&&(this.canvas.width=p,this.canvas.height=u,this._source.width=p,this._source.height=u,this._source.isPowerOf2=h(p,u),this.frames.__BASE.setSize(p,u,0,0),this.width=p,this.height=u,this.refresh()),this},destroy:function(){a.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});s.exports=f},81320:(s,g,i)=>{var o=i(10312),m=i(71911),c=i(27919),l=i(83419),h=i(8054),a=i(4327),f=i(95540),p=i(36060),u=i(32302),v=i(79237),y=i(70554),x=new l({Extends:v,initialize:function(w,C,E,T){E===void 0&&(E=256),T===void 0&&(T=256),this.type="DynamicTexture";var k=w.game.renderer,A=k&&k.type===h.CANVAS,I=A?c.create2D(this,E,T):[this];v.call(this,w,C,I,E,T),this.add("__BASE",0,0,0,E,T),this.renderer=k,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=A?I:null,this.context=A?I.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new m(0,0,E,T).setScene(w.game.scene.systemScene,!1),this.renderTarget=A?null:new u(k,E,T,1,0,!1,!0,!0,!1),this.pipeline=A?null:k.pipelines.get(p.SINGLE_PIPELINE),this.setSize(E,T)},setSize:function(b,w){w===void 0&&(w=b);var C=this.get(),E=C.source;if(b!==this.width||w!==this.height){this.canvas&&(this.canvas.width=b,this.canvas.height=w);var T=this.renderTarget;T&&(T.willResize(b,w)&&T.resize(b,w),T.texture!==E.glTexture&&this.renderer.deleteTexture(E.glTexture),this.setFromRenderTarget()),this.camera.setSize(b,w),E.width=b,E.height=w,C.setSize(b,w),this.width=b,this.height=w}else{var k=this.getSourceImage();C.cutX+b>k.width&&(b=k.width-C.cutX),C.cutY+w>k.height&&(w=k.height-C.cutY),C.setSize(b,w,C.cutX,C.cutY)}return this},setFromRenderTarget:function(){var b=this.get(),w=b.source,C=this.renderTarget;return w.isRenderTexture=!0,w.isGLTexture=!0,w.glTexture=C.texture,this},setIsSpriteTexture:function(b){return this.isSpriteTexture=b,this},fill:function(b,w,C,E,T,k){var A=this.camera,I=this.renderer;w===void 0&&(w=1),C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=this.width),k===void 0&&(k=this.height);var B=b>>16&255,M=b>>8&255,O=b&255,P=this.renderTarget;if(A.preRender(),P){P.bind(!0);var L=this.pipeline.manager.set(this.pipeline),_=I.width/P.width,G=I.height/P.height,$=P.height-(E+k);L.drawFillRect(C*_,$*G,T*_,k*G,y.getTintFromFloats(O/255,M/255,B/255,1),w),P.unbind(!0)}else{var W=this.context;I.setContext(W),W.globalCompositeOperation="source-over",W.fillStyle="rgba("+B+","+M+","+O+","+w+")",W.fillRect(C,E,T,k),I.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var b=this.context,w=this.renderTarget;w?w.clear():b&&(b.save(),b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,this.width,this.height),b.restore()),this.dirty=!1}return this},stamp:function(b,w,C,E,T){C===void 0&&(C=0),E===void 0&&(E=0);var k=f(T,"alpha",1),A=f(T,"tint",16777215),I=f(T,"angle",0),B=f(T,"rotation",0),M=f(T,"scale",1),O=f(T,"scaleX",M),P=f(T,"scaleY",M),L=f(T,"originX",.5),_=f(T,"originY",.5),G=f(T,"blendMode",0),$=f(T,"erase",!1),W=f(T,"skipBatch",!1),Y=this.manager.resetStamp(k,A);return Y.setAngle(0),I!==0?Y.setAngle(I):B!==0&&Y.setRotation(B),Y.setScale(O,P),Y.setTexture(b,w),Y.setOrigin(L,_),Y.setBlendMode(G),$&&(this._eraseMode=!0),W?this.batchGameObject(Y,C,E):this.draw(Y,C,E),$&&(this._eraseMode=!1),this},erase:function(b,w,C){return this._eraseMode=!0,this.draw(b,w,C),this._eraseMode=!1,this},draw:function(b,w,C,E,T){return this.beginDraw(),this.batchDraw(b,w,C,E,T),this.endDraw(),this},drawFrame:function(b,w,C,E,T,k){return this.beginDraw(),this.batchDrawFrame(b,w,C,E,T,k),this.endDraw(),this},repeat:function(b,w,C,E,T,k,A,I,B){if(C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=this.width),k===void 0&&(k=this.height),A===void 0&&(A=1),I===void 0&&(I=16777215),B===void 0&&(B=!1),b instanceof a?w=b:w=this.manager.getFrame(b,w),!w)return this;var M=this.manager.resetStamp(A,I);M.setFrame(w),M.setOrigin(0);var O=w.width,P=w.height;T=Math.floor(T),k=Math.floor(k);var L=Math.ceil(T/O),_=Math.ceil(k/P),G=L*O-T,$=_*P-k;G>0&&(G=O-G),$>0&&($=P-$),C<0&&(L+=Math.ceil(Math.abs(C)/O)),E<0&&(_+=Math.ceil(Math.abs(E)/P));var W=C,Y=E,z=!1,F=this.manager.stampCrop.setTo(0,0,O,P);B||this.beginDraw();for(var N=0;N<_;N++){if(Y+P<0){Y+=P;continue}for(var j=0;j<L;j++){if(z=!1,W+O<0){W+=O;continue}else W<0&&(z=!0,F.width=O+W,F.x=O-F.width);Y<0&&(z=!0,F.height=P+Y,F.y=P-F.height),G>0&&j===L-1&&(z=!0,F.width=G),$>0&&N===_-1&&(z=!0,F.height=$),z&&M.setCrop(F),this.batchGameObject(M,W,Y),M.isCropped=!1,F.setTo(0,0,O,P),W+=O}W=C,Y+=P}return B||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var b=this.camera,w=this.renderer,C=this.renderTarget;b.preRender(),C?w.beginCapture(C.width,C.height):w.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(b,w,C,E,T){return Array.isArray(b)||(b=[b]),this.batchList(b,w,C,E,T),this},batchDrawFrame:function(b,w,C,E,T,k){C===void 0&&(C=0),E===void 0&&(E=0),T===void 0&&(T=1),k===void 0&&(k=16777215);var A=this.manager.getFrame(b,w);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,C,E,k,T,this.camera.matrix,null):this.batchTextureFrame(A,C,E,T,k)),this},endDraw:function(b){if(b===void 0&&(b=this._eraseMode),this.isDrawing){var w=this.renderer,C=this.renderTarget;if(C){var E=w.endCapture(),T=w.pipelines.setUtility();T.blitFrame(E,C,1,!1,!1,b,this.isSpriteTexture),w.resetScissor(),w.resetViewport()}else w.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(b,w,C,E,T){var k=b.length;if(k!==0)for(var A=0;A<k;A++){var I=b[A];!I||I===this||(I.renderWebGL||I.renderCanvas?this.batchGameObject(I,w,C):I.isParent||I.list?this.batchGroup(I.getChildren(),w,C):typeof I=="string"?this.batchTextureFrameKey(I,null,w,C,E,T):I instanceof a?this.batchTextureFrame(I,w,C,E,T):Array.isArray(I)&&this.batchList(I,w,C,E,T))}},batchGroup:function(b,w,C){w===void 0&&(w=0),C===void 0&&(C=0);for(var E=0;E<b.length;E++){var T=b[E];T.willRender(this.camera)&&this.batchGameObject(T,T.x+w,T.y+C)}},batchGameObject:function(b,w,C){w===void 0&&(w=b.x),C===void 0&&(C=b.y);var E=b.x,T=b.y,k=this.camera,A=this.renderer,I=this._eraseMode,B=b.mask;if(b.setPosition(w,C),this.canvas){if(I){var M=b.blendMode;b.blendMode=o.ERASE}B&&B.preRenderCanvas(A,b,k),b.renderCanvas(A,b,k,null),B&&B.postRenderCanvas(A,b,k),I&&(b.blendMode=M)}else A&&(B&&B.preRenderWebGL(A,b,k),I||A.setBlendMode(b.blendMode),b.renderWebGL(A,b,k),B&&B.postRenderWebGL(A,k,this.renderTarget));b.setPosition(E,T)},batchTextureFrameKey:function(b,w,C,E,T,k){var A=this.manager.getFrame(b,w);A&&this.batchTextureFrame(A,C,E,T,k)},batchTextureFrame:function(b,w,C,E,T){w===void 0&&(w=0),C===void 0&&(C=0),E===void 0&&(E=1),T===void 0&&(T=16777215);var k=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(b,w,C,T,E,k,null);else{var I=this.context,B=b.canvasData,M=b.source.image;I.save(),I.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",I.globalAlpha=E,k.setToContext(I),B.width>0&&B.height>0&&I.drawImage(M,B.x,B.y,B.width,B.height,w,C,B.width,B.height),I.restore()}},snapshotArea:function(b,w,C,E,T,k,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,T,!1,b,w,C,E,k,A):this.renderer.snapshotCanvas(this.canvas,T,!1,b,w,C,E,k,A),this},snapshot:function(b,w,C){return this.snapshotArea(0,0,this.width,this.height,b,w,C)},snapshotPixel:function(b,w,C){return this.snapshotArea(b,w,1,1,C,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(b,w,C,E){var T=this.manager.resetStamp();T.setTexture(this),T.setOrigin(0),T.renderWebGL(b,T,C,E)},renderCanvas:function(){},destroy:function(){var b=this.manager.stamp;b&&b.texture===this&&this.manager.resetStamp(),v.prototype.destroy.call(this),c.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});s.exports=x},4327:(s,g,i)=>{var o=i(83419),m=i(45319),c=i(79291),l=new o({initialize:function(a,f,p,u,v,y,x){this.texture=a,this.name=f,this.source=a.source[p],this.sourceIndex=p,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(y,x,u,v)},setSize:function(h,a,f,p){f===void 0&&(f=0),p===void 0&&(p=0),this.cutX=f,this.cutY=p,this.cutWidth=h,this.cutHeight=a,this.width=h,this.height=a,this.halfWidth=Math.floor(h*.5),this.halfHeight=Math.floor(a*.5),this.centerX=Math.floor(h/2),this.centerY=Math.floor(a/2);var u=this.data,v=u.cut;v.x=f,v.y=p,v.w=h,v.h=a,v.r=f+h,v.b=p+a,u.sourceSize.w=h,u.sourceSize.h=a,u.spriteSourceSize.w=h,u.spriteSourceSize.h=a,u.radius=.5*Math.sqrt(h*h+a*a);var y=u.drawImage;return y.x=f,y.y=p,y.width=h,y.height=a,this.updateUVs()},setTrim:function(h,a,f,p,u,v){var y=this.data,x=y.spriteSourceSize;return y.trim=!0,y.sourceSize.w=h,y.sourceSize.h=a,x.x=f,x.y=p,x.w=u,x.h=v,x.r=f+u,x.b=p+v,this.x=f,this.y=p,this.width=u,this.height=v,this.halfWidth=u*.5,this.halfHeight=v*.5,this.centerX=Math.floor(u/2),this.centerY=Math.floor(v/2),this.updateUVs()},setScale9:function(h,a,f,p){var u=this.data;return u.scale9=!0,u.is3Slice=a===0&&p===this.height,u.scale9Borders.x=h,u.scale9Borders.y=a,u.scale9Borders.w=f,u.scale9Borders.h=p,this},setCropUVs:function(h,a,f,p,u,v,y){var x=this.cutX,b=this.cutY,w=this.cutWidth,C=this.cutHeight,E=this.realWidth,T=this.realHeight;a=m(a,0,E),f=m(f,0,T),p=m(p,0,E-a),u=m(u,0,T-f);var k=x+a,A=b+f,I=p,B=u,M=this.data;if(M.trim){var O=M.spriteSourceSize;p=m(p,0,w-a),u=m(u,0,C-f);var P=a+p,L=f+u,_=!(O.r<a||O.b<f||O.x>P||O.y>L);if(_){var G=Math.max(O.x,a),$=Math.max(O.y,f),W=Math.min(O.r,P)-G,Y=Math.min(O.b,L)-$;I=W,B=Y,v?k=x+(w-(G-O.x)-W):k=x+(G-O.x),y?A=b+(C-($-O.y)-Y):A=b+($-O.y),a=G,f=$,p=W,u=Y}else k=0,A=0,I=0,B=0}else v&&(k=x+(w-a-p)),y&&(A=b+(C-f-u));var z=this.source.width,F=this.source.height;return h.u0=Math.max(0,k/z),h.v0=Math.max(0,A/F),h.u1=Math.min(1,(k+I)/z),h.v1=Math.min(1,(A+B)/F),h.x=a,h.y=f,h.cx=k,h.cy=A,h.cw=I,h.ch=B,h.width=p,h.height=u,h.flipX=v,h.flipY=y,h},updateCropUVs:function(h,a,f){return this.setCropUVs(h,h.x,h.y,h.width,h.height,a,f)},setUVs:function(h,a,f,p,u,v){var y=this.data.drawImage;return y.width=h,y.height=a,this.u0=f,this.v0=p,this.u1=u,this.v1=v,this},updateUVs:function(){var h=this.cutX,a=this.cutY,f=this.cutWidth,p=this.cutHeight,u=this.data.drawImage;u.width=f,u.height=p;var v=this.source.width,y=this.source.height;return this.u0=h/v,this.v0=a/y,this.u1=(h+f)/v,this.v1=(a+p)/y,this},updateUVsInverted:function(){var h=this.source.width,a=this.source.height;return this.u0=(this.cutX+this.cutHeight)/h,this.v0=this.cutY/a,this.u1=this.cutX/h,this.v1=(this.cutY+this.cutWidth)/a,this},clone:function(){var h=new l(this.texture,this.name,this.sourceIndex);return h.cutX=this.cutX,h.cutY=this.cutY,h.cutWidth=this.cutWidth,h.cutHeight=this.cutHeight,h.x=this.x,h.y=this.y,h.width=this.width,h.height=this.height,h.halfWidth=this.halfWidth,h.halfHeight=this.halfHeight,h.centerX=this.centerX,h.centerY=this.centerY,h.rotated=this.rotated,h.data=c(!0,h.data,this.data),h.updateUVs(),h},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});s.exports=l},79237:(s,g,i)=>{var o=i(83419),m=i(4327),c=i(11876),l='Texture "%s" has no frame "%s"',h=new o({initialize:function(f,p,u,v,y){Array.isArray(u)||(u=[u]),this.manager=f,this.key=p,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var x=0;x<u.length;x++)this.source.push(new c(this,u[x],v,y))},add:function(a,f,p,u,v,y){if(this.has(a))return null;var x=new m(this,a,f,p,u,v,y);return this.frames[a]=x,this.firstFrame==="__BASE"&&(this.firstFrame=a),this.frameTotal++,x},remove:function(a){if(this.has(a)){var f=this.get(a);return f.destroy(),delete this.frames[a],!0}return!1},has:function(a){return this.frames.hasOwnProperty(a)},get:function(a){a||(a=this.firstFrame);var f=this.frames[a];return f||(console.warn(l,this.key,a),f=this.frames[this.firstFrame]),f},getTextureSourceIndex:function(a){for(var f=0;f<this.source.length;f++)if(this.source[f]===a)return f;return-1},getFramesFromTextureSource:function(a,f){f===void 0&&(f=!1);var p=[];for(var u in this.frames)if(!(u==="__BASE"&&!f)){var v=this.frames[u];v.sourceIndex===a&&p.push(v)}return p},getFrameBounds:function(a){a===void 0&&(a=0);for(var f=this.getFramesFromTextureSource(a),p=1/0,u=1/0,v=0,y=0,x=0;x<f.length;x++){var b=f[x];b.cutX<p&&(p=b.cutX),b.cutY<u&&(u=b.cutY),b.cutX+b.cutWidth>v&&(v=b.cutX+b.cutWidth),b.cutY+b.cutHeight>y&&(y=b.cutY+b.cutHeight)}return{x:p,y:u,width:v-p,height:y-u}},getFrameNames:function(a){a===void 0&&(a=!1);var f=Object.keys(this.frames);if(!a){var p=f.indexOf("__BASE");p!==-1&&f.splice(p,1)}return f},getSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var f=this.frames[a];return f?f.source.image:(console.warn(l,this.key,a),this.frames.__BASE.source.image)},getDataSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var f=this.frames[a],p;return f?p=f.sourceIndex:(console.warn(l,this.key,a),p=this.frames.__BASE.sourceIndex),this.dataSource[p].image},setDataSource:function(a){Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++){var p=this.source[f];this.dataSource.push(new c(this,a[f],p.width,p.height))}},setFilter:function(a){var f;for(f=0;f<this.source.length;f++)this.source[f].setFilter(a);for(f=0;f<this.dataSource.length;f++)this.dataSource[f].setFilter(a)},destroy:function(){var a,f=this.source,p=this.dataSource;for(a=0;a<f.length;a++)f[a]&&f[a].destroy();for(a=0;a<p.length;a++)p[a]&&p[a].destroy();for(var u in this.frames){var v=this.frames[u];v&&v.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});s.exports=h},17130:(s,g,i)=>{var o=i(27919),m=i(57382),c=i(83419),l=i(40987),h=i(8054),a=i(81320),f=i(50792),p=i(69442),u=i(4327),v=i(8443),y=i(99584),x=i(35154),b=i(88571),w=i(41212),C=i(61309),E=i(87841),T=i(79237),k=new c({Extends:f,initialize:function(I){f.call(this),this.game=I,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new E,this.silentWarnings=!1,I.events.once(v.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(p.LOAD,this.updatePending,this),this.on(p.ERROR,this.updatePending,this);var A=this.game.config;this.addBase64("__DEFAULT",A.defaultImage),this.addBase64("__MISSING",A.missingImage),this.addBase64("__WHITE",A.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(v.DESTROY,this.destroy,this),this.game.events.once(v.SYSTEM_READY,function(I){this.stamp=new b(I).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(p.LOAD),this.off(p.ERROR),this.emit(p.READY))},checkKey:function(A){return this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;var I=A.key;return this.list.hasOwnProperty(I)&&(A.destroy(),this.emit(p.REMOVE,I),this.emit(p.REMOVE_KEY+I)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,I){if(this.checkKey(A)){var B=this,M=new Image;M.onerror=function(){B.emit(p.ERROR,A)},M.onload=function(){var O=B.create(A,M);C.Image(O,0),B.emit(p.ADD,A,O),B.emit(p.ADD_KEY+A,O),B.emit(p.LOAD,A,O)},M.src=I}return this},getBase64:function(A,I,B,M){B===void 0&&(B="image/png"),M===void 0&&(M=.92);var O="",P=this.getFrame(A,I);if(P&&(P.source.isRenderTexture||P.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(P){var L=P.canvasData,_=o.create2D(this,L.width,L.height),G=_.getContext("2d",{willReadFrequently:!0});L.width>0&&L.height>0&&G.drawImage(P.source.image,L.x,L.y,L.width,L.height,0,0,L.width,L.height),O=_.toDataURL(B,M),o.remove(_)}return O},addImage:function(A,I,B){var M=null;return this.checkKey(A)&&(M=this.create(A,I),C.Image(M,0),B&&M.setDataSource(B),this.emit(p.ADD,A,M),this.emit(p.ADD_KEY+A,M)),M},addGLTexture:function(A,I){var B=null;if(this.checkKey(A)){var M=I.width,O=I.height;B=this.create(A,I,M,O),B.add("__BASE",0,0,0,M,O),this.emit(p.ADD,A,B),this.emit(p.ADD_KEY+A,B)}return B},addCompressedTexture:function(A,I,B){var M=null;if(this.checkKey(A)){if(M=this.create(A,I),M.add("__BASE",0,0,0,I.width,I.height),B){var O=function(L,_,G){Array.isArray(G.textures)||Array.isArray(G.frames)?C.JSONArray(L,_,G):C.JSONHash(L,_,G)};if(Array.isArray(B))for(var P=0;P<B.length;P++)O(M,P,B[P]);else O(M,0,B)}this.emit(p.ADD,A,M),this.emit(p.ADD_KEY+A,M)}return M},addRenderTexture:function(A,I){var B=null;return this.checkKey(A)&&(B=this.create(A,I),B.add("__BASE",0,0,0,I.width,I.height),this.emit(p.ADD,A,B),this.emit(p.ADD_KEY+A,B)),B},generate:function(A,I){if(this.checkKey(A)){var B=o.create(this,1,1);return I.canvas=B,y(I),this.addCanvas(A,B)}else return null},createCanvas:function(A,I,B){if(I===void 0&&(I=256),B===void 0&&(B=256),this.checkKey(A)){var M=o.create(this,I,B,h.CANVAS,!0);return this.addCanvas(A,M)}return null},addCanvas:function(A,I,B){B===void 0&&(B=!1);var M=null;return B?M=new m(this,A,I,I.width,I.height):this.checkKey(A)&&(M=new m(this,A,I,I.width,I.height),this.list[A]=M,this.emit(p.ADD,A,M),this.emit(p.ADD_KEY+A,M)),M},addDynamicTexture:function(A,I,B){var M=null;return typeof A=="string"&&!this.exists(A)?M=new a(this,A,I,B):(M=A,A=M.key),this.checkKey(A)?(this.list[A]=M,this.emit(p.ADD,A,M),this.emit(p.ADD_KEY+A,M)):M=null,M},addAtlas:function(A,I,B,M){return Array.isArray(B.textures)||Array.isArray(B.frames)?this.addAtlasJSONArray(A,I,B,M):this.addAtlasJSONHash(A,I,B,M)},addAtlasJSONArray:function(A,I,B,M){var O=null;if(I instanceof T?(A=I.key,O=I):this.checkKey(A)&&(O=this.create(A,I)),O){if(Array.isArray(B))for(var P=B.length===1,L=0;L<O.source.length;L++){var _=P?B[0]:B[L];C.JSONArray(O,L,_)}else C.JSONArray(O,0,B);M&&O.setDataSource(M),this.emit(p.ADD,A,O),this.emit(p.ADD_KEY+A,O)}return O},addAtlasJSONHash:function(A,I,B,M){var O=null;if(I instanceof T?(A=I.key,O=I):this.checkKey(A)&&(O=this.create(A,I)),O){if(Array.isArray(B))for(var P=0;P<B.length;P++)C.JSONHash(O,P,B[P]);else C.JSONHash(O,0,B);M&&O.setDataSource(M),this.emit(p.ADD,A,O),this.emit(p.ADD_KEY+A,O)}return O},addAtlasXML:function(A,I,B,M){var O=null;return I instanceof T?(A=I.key,O=I):this.checkKey(A)&&(O=this.create(A,I)),O&&(C.AtlasXML(O,0,B),M&&O.setDataSource(M),this.emit(p.ADD,A,O),this.emit(p.ADD_KEY+A,O)),O},addUnityAtlas:function(A,I,B,M){var O=null;return I instanceof T?(A=I.key,O=I):this.checkKey(A)&&(O=this.create(A,I)),O&&(C.UnityYAML(O,0,B),M&&O.setDataSource(M),this.emit(p.ADD,A,O),this.emit(p.ADD_KEY+A,O)),O},addSpriteSheet:function(A,I,B,M){var O=null;if(I instanceof T?(A=I.key,O=I):this.checkKey(A)&&(O=this.create(A,I)),O){var P=O.source[0].width,L=O.source[0].height;C.SpriteSheet(O,0,0,0,P,L,B),M&&O.setDataSource(M),this.emit(p.ADD,A,O),this.emit(p.ADD_KEY+A,O)}return O},addSpriteSheetFromAtlas:function(A,I){if(!this.checkKey(A))return null;var B=x(I,"atlas",null),M=x(I,"frame",null);if(!(!B||!M)){var O=this.get(B),P=O.get(M);if(P){var L=P.source.image;L||(L=P.source.glTexture);var _=this.create(A,L);return P.trimmed?C.SpriteSheetFromAtlas(_,P,I):C.SpriteSheet(_,0,P.cutX,P.cutY,P.cutWidth,P.cutHeight,I),this.emit(p.ADD,A,_),this.emit(p.ADD_KEY+A,_),_}}},addUint8Array:function(A,I,B,M){if(!this.checkKey(A)||I.length/4!==B*M)return null;var O=this.create(A,I,B,M);return O.add("__BASE",0,0,0,B,M),this.emit(p.ADD,A,O),this.emit(p.ADD_KEY+A,O),O},create:function(A,I,B,M){var O=null;return this.checkKey(A)&&(O=new T(this,A,I,B,M),this.list[A]=O),O},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof T?A:A instanceof u?A.texture:this.list.__MISSING},cloneFrame:function(A,I){if(this.list[A])return this.list[A].get(I).clone()},getFrame:function(A,I){if(this.list[A])return this.list[A].get(I)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(w(A))return this.getFrame(A.key,A.frame);if(A instanceof T)return A.get();if(A instanceof u)return A}else return},getTextureKeys:function(){var A=[];for(var I in this.list)I!=="__DEFAULT"&&I!=="__MISSING"&&I!=="__WHITE"&&I!=="__NORMAL"&&A.push(I);return A},getPixel:function(A,I,B,M){var O=this.getFrame(B,M);if(O){A-=O.x,I-=O.y;var P=O.data.cut;if(A+=P.x,I+=P.y,A>=P.x&&A<P.r&&I>=P.y&&I<P.b){var L=this._tempContext;L.clearRect(0,0,1,1),L.drawImage(O.source.image,A,I,1,1,0,0,1,1);var _=L.getImageData(0,0,1,1);return new l(_.data[0],_.data[1],_.data[2],_.data[3])}}return null},getPixelAlpha:function(A,I,B,M){var O=this.getFrame(B,M);if(O){A-=O.x,I-=O.y;var P=O.data.cut;if(A+=P.x,I+=P.y,A>=P.x&&A<P.r&&I>=P.y&&I<P.b){var L=this._tempContext;L.clearRect(0,0,1,1),L.drawImage(O.source.image,A,I,1,1,0,0,1,1);var _=L.getImageData(0,0,1,1);return _.data[3]}}return null},setTexture:function(A,I,B){return this.list[I]&&(A.texture=this.list[I],A.frame=A.texture.get(B)),A},renameTexture:function(A,I){var B=this.get(A);return B&&A!==I?(B.key=I,this.list[I]=B,delete this.list[A],!0):!1},each:function(A,I){for(var B=[null],M=1;M<arguments.length;M++)B.push(arguments[M]);for(var O in this.list)B[0]=this.list[O],A.apply(I,B)},resetStamp:function(A,I){A===void 0&&(A=1),I===void 0&&(I=16777215);var B=this.stamp;return B.setCrop(),B.setPosition(0),B.setAngle(0),B.setScale(1),B.setAlpha(A),B.setTint(I),B.setTexture("__WHITE"),B},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});s.exports=k},11876:(s,g,i)=>{var o=i(27919),m=i(83419),c=i(50030),l=i(29795),h=i(82751),a=new m({initialize:function(p,u,v,y,x){x===void 0&&(x=!1);var b=p.manager.game;this.renderer=b.renderer,this.texture=p,this.source=u,this.image=u.compressed?null:u,this.compressionAlgorithm=u.compressed?u.format:null,this.resolution=1,this.width=v||u.naturalWidth||u.videoWidth||u.width||0,this.height=y||u.naturalHeight||u.videoHeight||u.height||0,this.scaleMode=l.DEFAULT,this.isCanvas=u instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&u instanceof HTMLVideoElement,this.isRenderTexture=u.type==="RenderTexture"||u.type==="DynamicTexture",this.isGLTexture=u instanceof h,this.isPowerOf2=c(this.width,this.height),this.glTexture=null,this.flipY=x,this.init(b)},init:function(f){var p=this.renderer;if(p){var u=this.source;if(p.gl){var v=this.image,y=this.flipY,x=this.width,b=this.height,w=this.scaleMode;this.isCanvas?this.glTexture=p.createCanvasTexture(v,!1,y):this.isVideo?this.glTexture=p.createVideoTexture(v,!1,y):this.isRenderTexture?this.glTexture=p.createTextureFromSource(null,x,b,w):this.isGLTexture?this.glTexture=u:this.compressionAlgorithm?this.glTexture=p.createTextureFromSource(u,void 0,void 0,w):u instanceof Uint8Array?this.glTexture=p.createUint8ArrayTexture(u,x,b,w):this.glTexture=p.createTextureFromSource(v,x,b,w)}else this.isRenderTexture&&(this.image=u.canvas)}f.config.antialias||this.setFilter(1)},setFilter:function(f){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,f),this.scaleMode=f},setFlipY:function(f){return f===void 0&&(f=!0),f===this.flipY?this:(this.flipY=f,this.update(),this)},update:function(){var f=this.renderer,p=this.image,u=this.flipY,v=f.gl;v&&this.isCanvas?f.updateCanvasTexture(p,this.glTexture,u):v&&this.isVideo&&f.updateVideoTexture(p,this.glTexture,u)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});s.exports=a},19673:s=>{var g={LINEAR:0,NEAREST:1};s.exports=g},44538:s=>{s.exports="addtexture"},63486:s=>{s.exports="addtexture-"},94851:s=>{s.exports="onerror"},29099:s=>{s.exports="onload"},8678:s=>{s.exports="ready"},86415:s=>{s.exports="removetexture"},30879:s=>{s.exports="removetexture-"},69442:(s,g,i)=>{s.exports={ADD:i(44538),ADD_KEY:i(63486),ERROR:i(94851),LOAD:i(29099),READY:i(8678),REMOVE:i(86415),REMOVE_KEY:i(30879)}},27458:(s,g,i)=>{var o=i(79291),m=i(19673),c={CanvasTexture:i(57382),DynamicTexture:i(81320),Events:i(69442),FilterMode:m,Frame:i(4327),Parsers:i(61309),Texture:i(79237),TextureManager:i(17130),TextureSource:i(11876)};c=o(!1,c,m),s.exports=c},89905:s=>{var g=function(i,o,m){if(!m.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var c=i.source[o];i.add("__BASE",o,0,0,c.width,c.height);for(var l=m.getElementsByTagName("SubTexture"),h,a=0;a<l.length;a++){var f=l[a].attributes,p=f.name.value,u=parseInt(f.x.value,10),v=parseInt(f.y.value,10),y=parseInt(f.width.value,10),x=parseInt(f.height.value,10);if(h=i.add(p,o,u,v,y,x),f.frameX){var b=Math.abs(parseInt(f.frameX.value,10)),w=Math.abs(parseInt(f.frameY.value,10)),C=parseInt(f.frameWidth.value,10),E=parseInt(f.frameHeight.value,10);h.setTrim(y,x,b,w,C,E)}}return i};s.exports=g},72893:s=>{var g=function(i,o){var m=i.source[o];return i.add("__BASE",o,0,0,m.width,m.height),i};s.exports=g},4832:s=>{var g=function(i,o){var m=i.source[o];return i.add("__BASE",o,0,0,m.width,m.height),i};s.exports=g},78566:(s,g,i)=>{var o=i(41786),m=function(c,l,h){if(!h.frames&&!h.textures){console.warn("Invalid Texture Atlas JSON Array");return}var a=c.source[l];c.add("__BASE",l,0,0,a.width,a.height);for(var f=Array.isArray(h.textures)?h.textures[l].frames:h.frames,p,u=0;u<f.length;u++){var v=f[u];if(p=c.add(v.filename,l,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!p){console.warn("Invalid atlas json, frame already exists: "+v.filename);continue}v.trimmed&&p.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(p.rotated=!0,p.updateUVsInverted());var y=v.anchor||v.pivot;y&&(p.customPivot=!0,p.pivotX=y.x,p.pivotY=y.y),v.scale9Borders&&p.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),p.customData=o(v)}for(var x in h)x!=="frames"&&(Array.isArray(h[x])?c.customData[x]=h[x].slice(0):c.customData[x]=h[x]);return c};s.exports=m},39711:(s,g,i)=>{var o=i(41786),m=function(c,l,h){if(!h.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var a=c.source[l];c.add("__BASE",l,0,0,a.width,a.height);var f=h.frames,p;for(var u in f)if(f.hasOwnProperty(u)){var v=f[u];if(p=c.add(u,l,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!p){console.warn("Invalid atlas json, frame already exists: "+u);continue}v.trimmed&&p.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(p.rotated=!0,p.updateUVsInverted());var y=v.anchor||v.pivot;y&&(p.customPivot=!0,p.pivotX=y.x,p.pivotY=y.y),v.scale9Borders&&p.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),p.customData=o(v)}for(var x in h)x!=="frames"&&(Array.isArray(h[x])?c.customData[x]=h[x].slice(0):c.customData[x]=h[x]);return c};s.exports=m},31403:s=>{var g=function(i){var o=[171,75,84,88,32,49,49,187,13,10,26,10],m,c=new Uint8Array(i,0,12);for(m=0;m<c.length;m++)if(c[m]!==o[m]){console.warn("KTXParser - Invalid file format");return}var l=Uint32Array.BYTES_PER_ELEMENT,h=new DataView(i,12,13*l),a=h.getUint32(0,!0)===67305985,f=h.getUint32(1*l,a);if(f!==0){console.warn("KTXParser - Only compressed formats supported");return}var p=h.getUint32(4*l,a),u=h.getUint32(6*l,a),v=h.getUint32(7*l,a),y=Math.max(1,h.getUint32(11*l,a)),x=h.getUint32(12*l,a),b=new Array(y),w=12+13*4+x,C=u,E=v;for(m=0;m<y;m++){var T=new Int32Array(i,w,1)[0];w+=4,b[m]={data:new Uint8Array(i,w,T),width:C,height:E},C=Math.max(1,C>>1),E=Math.max(1,E>>1),w+=T}return{mipmaps:b,width:u,height:v,internalFormat:p,compressed:!0,generateMipmap:!1}};s.exports=g},82038:s=>{function g(I,B,M,O,P,L,_){return _===void 0&&(_=16),Math.floor((I+M)/P)*Math.floor((B+O)/L)*_}function i(I,B){return I=Math.max(I,16),B=Math.max(B,8),I*B/4}function o(I,B){return I=Math.max(I,8),B=Math.max(B,8),I*B/2}function m(I,B){return Math.ceil(I/4)*Math.ceil(B/4)*16}function c(I,B){return g(I,B,3,3,4,4,8)}function l(I,B){return g(I,B,3,3,4,4)}function h(I,B){return g(I,B,4,3,5,4)}function a(I,B){return g(I,B,4,4,5,5)}function f(I,B){return g(I,B,5,4,6,5)}function p(I,B){return g(I,B,5,5,6,6)}function u(I,B){return g(I,B,7,4,8,5)}function v(I,B){return g(I,B,7,5,8,6)}function y(I,B){return g(I,B,7,7,8,8)}function x(I,B){return g(I,B,9,4,10,5)}function b(I,B){return g(I,B,9,5,10,6)}function w(I,B){return g(I,B,9,7,10,8)}function C(I,B){return g(I,B,9,9,10,10)}function E(I,B){return g(I,B,11,9,12,10)}function T(I,B){return g(I,B,11,11,12,12)}var k={0:{sizeFunc:i,glFormat:[35841]},1:{sizeFunc:i,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:c,glFormat:[36196]},7:{sizeFunc:c,glFormat:[33776,35916]},8:{sizeFunc:l,glFormat:[33777,35917]},9:{sizeFunc:l,glFormat:[33778,35918]},11:{sizeFunc:l,glFormat:[33779,35919]},14:{sizeFunc:m,glFormat:[36494,36495]},15:{sizeFunc:m,glFormat:[36492,36493]},22:{sizeFunc:c,glFormat:[37492,37493]},23:{sizeFunc:l,glFormat:[37496,37497]},24:{sizeFunc:c,glFormat:[37494,37495]},25:{sizeFunc:c,glFormat:[37488]},26:{sizeFunc:l,glFormat:[37490]},27:{sizeFunc:l,glFormat:[37808,37840]},28:{sizeFunc:h,glFormat:[37809,37841]},29:{sizeFunc:a,glFormat:[37810,37842]},30:{sizeFunc:f,glFormat:[37811,37843]},31:{sizeFunc:p,glFormat:[37812,37844]},32:{sizeFunc:u,glFormat:[37813,37845]},33:{sizeFunc:v,glFormat:[37814,37846]},34:{sizeFunc:y,glFormat:[37815,37847]},35:{sizeFunc:x,glFormat:[37816,37848]},36:{sizeFunc:b,glFormat:[37817,37849]},37:{sizeFunc:w,glFormat:[37818,37850]},38:{sizeFunc:C,glFormat:[37819,37851]},39:{sizeFunc:E,glFormat:[37820,37852]},40:{sizeFunc:T,glFormat:[37821,37853]}},A=function(I){for(var B=new Uint32Array(I,0,13),M=B[0],O=M===55727696,P=O?B[2]:B[3],L=B[4],_=k[P].glFormat[L],G=k[P].sizeFunc,$=B[11],W=B[7],Y=B[6],z=52+B[12],F=new Uint8Array(I,z),N=new Array($),j=0,U=W,V=Y,q=0;q<$;q++){var ot=G(U,V);N[q]={data:new Uint8Array(F.buffer,F.byteOffset+j,ot),width:U,height:V},U=Math.max(1,U>>1),V=Math.max(1,V>>1),j+=ot}return{mipmaps:N,width:W,height:Y,internalFormat:_,compressed:!0,generateMipmap:!1}};s.exports=A},75549:(s,g,i)=>{var o=i(95540),m=function(c,l,h,a,f,p,u){var v=o(u,"frameWidth",null),y=o(u,"frameHeight",v);if(v===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var x=c.source[l];c.add("__BASE",l,0,0,x.width,x.height);var b=o(u,"startFrame",0),w=o(u,"endFrame",-1),C=o(u,"margin",0),E=o(u,"spacing",0),T=Math.floor((f-C+E)/(v+E)),k=Math.floor((p-C+E)/(y+E)),A=T*k;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",c.key),(b>A||b<-A)&&(b=0),b<0&&(b=A+b),(w===-1||w>A||w<b)&&(w=A);for(var I=C,B=C,M=0,O=0,P=0,L=0;L<A;L++){M=0,O=0;var _=I+v,G=B+y;_>f&&(M=_-f),G>p&&(O=G-p),L>=b&&L<=w&&(c.add(P,l,h+I,a+B,v-M,y-O),P++),I+=v+E,I+v>f&&(I=C,B+=y+E)}return c};s.exports=m},47534:(s,g,i)=>{var o=i(95540),m=function(c,l,h){var a=o(h,"frameWidth",null),f=o(h,"frameHeight",a);if(!a)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var p=c.source[0];c.add("__BASE",0,0,0,p.width,p.height),o(h,"startFrame",0),o(h,"endFrame",-1);for(var u=o(h,"margin",0),v=o(h,"spacing",0),y=l.cutX,x=l.cutY,b=l.cutWidth,w=l.cutHeight,C=l.realWidth,E=l.realHeight,T=Math.floor((C-u+v)/(a+v)),k=Math.floor((E-u+v)/(f+v)),A=l.x,I=a-A,B=a-(C-b-A),M=l.y,O=f-M,P=f-(E-w-M),L,_=u,G=u,$=0,W=0,Y=0;Y<k;Y++){for(var z=Y===0,F=Y===k-1,N=0;N<T;N++){var j=N===0,U=N===T-1;if(L=c.add($,W,y+_,x+G,a,f),j||z||U||F){var V=j?A:0,q=z?M:0,ot=0,Q=0;j&&(ot+=a-I),U&&(ot+=a-B),z&&(Q+=f-O),F&&(Q+=f-P);var rt=a-ot,Bt=f-Q;L.cutWidth=rt,L.cutHeight=Bt,L.setTrim(a,f,V,q,rt,Bt)}_+=v,j?_+=I:U?_+=B:_+=a,$++}_=u,G+=v,z?G+=O:F?G+=P:G+=f}return c};s.exports=m},86147:s=>{var g=0,i=function(m,c,l,h){var a=g-h.y-h.height;m.add(l,c,h.x,a,h.width,h.height)},o=function(m,c,l){var h=m.source[c];m.add("__BASE",c,0,0,h.width,h.height),g=h.height;for(var a=l.split(`
`),f=/^[ ]*(- )*(\w+)+[: ]+(.*)/,p="",u="",v={x:0,y:0,width:0,height:0},y=0;y<a.length;y++){var x=a[y].match(f);if(x){var b=x[1]==="- ",w=x[2],C=x[3];if(b&&(u!==p&&(i(m,c,u,v),p=u),v={x:0,y:0,width:0,height:0}),w==="name"){u=C;continue}switch(w){case"x":case"y":case"width":case"height":v[w]=parseInt(C,10);break}}}return u!==p&&i(m,c,u,v),m};s.exports=o},55222:(s,g,i)=>{var o=i(50030),m=function(p){for(var u=p.mipmaps,v=1;v<u.length;v++){var y=u[v].width,x=u[v].height;if(!o(y,x))return console.warn("Mip level "+v+" is not a power-of-two size: "+y+"x"+x),!1}var b=f[p.internalFormat];return b?b(p):(console.warn("No format checker found for internal format "+p.internalFormat+". Assuming valid."),!0)};function c(p){for(var u=p.mipmaps,v=0;v<u.length;v++){var y=u[v].width,x=u[v].height;if((y<<v)%4!==0||(x<<v)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+v+" is "+y+"x"+x),!1}return!0}function l(){return!0}function h(p){var u=p.mipmaps,v=u[0];return o(v.width,v.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+v.width+"x"+v.height),!1)}function a(p){var u=p.mipmaps,v=u[0];return v.width%4!==0||v.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+v.width+"x"+v.height+" pixels"),!1):!0}var f={37488:l,37489:l,37490:l,37491:l,37492:l,37493:l,37494:l,37495:l,37496:l,37497:l,36196:l,37808:l,37809:l,37810:l,37811:l,37812:l,37813:l,37814:l,37815:l,37816:l,37817:l,37818:l,37819:l,37820:l,37821:l,37840:l,37841:l,37842:l,37843:l,37844:l,37845:l,37846:l,37847:l,37848:l,37849:l,37850:l,37851:l,37852:l,37853:l,36492:c,36493:c,36494:c,36495:c,36283:c,36284:c,36285:c,36286:c,35840:h,35841:h,35842:h,35843:h,33776:c,33777:c,33778:c,33779:c,35916:a,35917:a,35918:a,35919:a};s.exports=m},61309:(s,g,i)=>{s.exports={AtlasXML:i(89905),Canvas:i(72893),Image:i(4832),JSONArray:i(78566),JSONHash:i(39711),KTXParser:i(31403),PVRParser:i(82038),SpriteSheet:i(75549),SpriteSheetFromAtlas:i(47534),UnityYAML:i(86147)}},80341:s=>{s.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l,h,a,f,p,u,v){(a===void 0||a<=0)&&(a=32),(f===void 0||f<=0)&&(f=32),p===void 0&&(p=0),u===void 0&&(u=0),this.name=l,this.firstgid=h|0,this.imageWidth=a|0,this.imageHeight=f|0,this.imageMargin=p|0,this.imageSpacing=u|0,this.properties=v||{},this.images=[],this.total=0},containsImageIndex:function(c){return c>=this.firstgid&&c<this.firstgid+this.total},addImage:function(c,l){return this.images.push({gid:c,image:l}),this.total++,this}});s.exports=m},27462:(s,g,i)=>{var o=i(83419),m=new o({initialize:function(l){if(this.gids=[],l!==void 0)for(var h=0;h<l.length;++h)for(var a=l[h],f=0;f<a.total;++f)this.gids[a.firstgid+f]=a;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(c){this.gids=c?this._gids:void 0}},getTypeIncludingTile:function(c){if(c.type!==void 0&&c.type!=="")return c.type;if(!(!this.gids||c.gid===void 0)){var l=this.gids[c.gid];if(l){var h=l.getTileData(c.gid);if(h)return h.type}}},setTextureAndFrame:function(c,l,h,a){if(l===null&&this.gids&&a.gid!==void 0){var f=this.gids[a.gid];f&&(l===null&&f.image!==void 0&&(l=f.image.key),h===null&&(h=a.gid-f.firstgid),c.scene.textures.getFrame(l,h)||(l=null,h=null))}c.setTexture(l,h)},setPropertiesFromTiledObject:function(c,l){if(this.gids!==void 0&&l.gid!==void 0){var h=this.gids[l.gid];h!==void 0&&this.setFromJSON(c,h.getTileProperties(l.gid))}this.setFromJSON(c,l.properties)},setFromJSON:function(c,l){if(l){if(Array.isArray(l)){for(var h=0;h<l.length;h++){var a=l[h];c[a.name]!==void 0?c[a.name]=a.value:c.setData(a.name,a.value)}return}for(var f in l)c[f]!==void 0?c[f]=l[f]:c.setData(f,l[f])}}});s.exports=m},31989:(s,g,i)=>{var o=i(80341),m=i(87010),c=i(46177),l=i(49075),h=function(a,f,p,u,v,y,x,b){p===void 0&&(p=32),u===void 0&&(u=32),v===void 0&&(v=10),y===void 0&&(y=10),b===void 0&&(b=!1);var w=null;if(Array.isArray(x)){var C=f!==void 0?f:"map";w=c(C,o.ARRAY_2D,x,p,u,b)}else if(f!==void 0){var E=a.cache.tilemap.get(f);E?w=c(f,E.format,E.data,p,u,b):console.warn("No map data found for key "+f)}return w===null&&(w=new m({tileWidth:p,tileHeight:u,width:v,height:y})),new l(a,w)};s.exports=h},23029:(s,g,i)=>{var o=i(83419),m=i(31401),c=i(91907),l=i(62644),h=i(93232),a=new o({Mixins:[m.AlphaSingle,m.Flip,m.Visible],initialize:function(p,u,v,y,x,b,w,C){this.layer=p,this.index=u,this.x=v,this.y=y,this.width=x,this.height=b,this.right,this.bottom,this.baseWidth=w!==void 0?w:x,this.baseHeight=C!==void 0?C:b,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(f,p){return!(f<this.pixelX||p<this.pixelY||f>this.right||p>this.bottom)},copy:function(f){return this.index=f.index,this.alpha=f.alpha,this.properties=l(f.properties),this.visible=f.visible,this.setFlip(f.flipX,f.flipY),this.tint=f.tint,this.rotation=f.rotation,this.collideUp=f.collideUp,this.collideDown=f.collideDown,this.collideLeft=f.collideLeft,this.collideRight=f.collideRight,this.collisionCallback=f.collisionCallback,this.collisionCallbackContext=f.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(f){var p=this.tilemapLayer;if(p){var u=p.tileToWorldXY(this.x,this.y,void 0,f);return u.x}return this.x*this.baseWidth},getRight:function(f){var p=this.tilemapLayer;return p?this.getLeft(f)+this.width*p.scaleX:this.getLeft(f)+this.width},getTop:function(f){var p=this.tilemapLayer;if(p){var u=p.tileToWorldXY(this.x,this.y,void 0,f);return u.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(f){var p=this.tilemapLayer;return p?this.getTop(f)+this.height*p.scaleY:this.getTop(f)+this.height},getBounds:function(f,p){return p===void 0&&(p=new h),p.x=this.getLeft(f),p.y=this.getTop(f),p.width=this.getRight(f)-p.x,p.height=this.getBottom(f)-p.y,p},getCenterX:function(f){return(this.getLeft(f)+this.getRight(f))/2},getCenterY:function(f){return(this.getTop(f)+this.getBottom(f))/2},intersects:function(f,p,u,v){return!(u<=this.pixelX||v<=this.pixelY||f>=this.right||p>=this.bottom)},isInteresting:function(f,p){return f&&p?this.canCollide||this.hasInterestingFace:f?this.collides:p?this.hasInterestingFace:!1},resetCollision:function(f){if(f===void 0&&(f=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,f){var p=this.tilemapLayer;p&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(f,p,u,v,y){if(p===void 0&&(p=f),u===void 0&&(u=f),v===void 0&&(v=f),y===void 0&&(y=!0),this.collideLeft=f,this.collideRight=p,this.collideUp=u,this.collideDown=v,this.faceLeft=f,this.faceRight=p,this.faceTop=u,this.faceBottom=v,y){var x=this.tilemapLayer;x&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(f,p){return f===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=f,this.collisionCallbackContext=p),this},setSize:function(f,p,u,v){return f!==void 0&&(this.width=f),p!==void 0&&(this.height=p),u!==void 0&&(this.baseWidth=u),v!==void 0&&(this.baseHeight=v),this.updatePixelXY(),this},updatePixelXY:function(){var f=this.layer.orientation;if(f===c.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(f===c.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(f===c.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(f===c.HEXAGONAL){var p=this.layer.staggerAxis,u=this.layer.staggerIndex,v=this.layer.hexSideLength,y,x;p==="y"?(x=(this.baseHeight-v)/2+v,u==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*x):p==="x"&&(y=(this.baseWidth-v)/2+v,this.pixelX=this.x*y,u==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var f=this.layer.tilemapLayer;if(f){var p=f.gidMap[this.index];if(p)return p}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var f=this.tilemapLayer;return f?f.tilemap:null}}});s.exports=a},49075:(s,g,i)=>{var o=i(84101),m=i(83419),c=i(39506),l=i(80341),h=i(95540),a=i(14977),f=i(27462),p=i(91907),u=i(36305),v=i(19133),y=i(68287),x=i(23029),b=i(81086),w=i(20442),C=i(33629),E=new m({initialize:function(k,A){this.scene=k,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var I=this.orientation;this._convert={WorldToTileXY:b.GetWorldToTileXYFunction(I),WorldToTileX:b.GetWorldToTileXFunction(I),WorldToTileY:b.GetWorldToTileYFunction(I),TileToWorldXY:b.GetTileToWorldXYFunction(I),TileToWorldX:b.GetTileToWorldXFunction(I),TileToWorldY:b.GetTileToWorldYFunction(I),GetTileCorners:b.GetTileCornersFunction(I)}},setRenderOrder:function(T){var k=["right-down","left-down","right-up","left-up"];return typeof T=="number"&&(T=k[T]),k.indexOf(T)>-1&&(this.renderOrder=T),this},addTilesetImage:function(T,k,A,I,B,M,O,P){if(T===void 0)return null;k==null&&(k=T);var L=this.scene.sys.textures;if(!L.exists(k))return console.warn('Texture key "%s" not found',k),null;var _=L.get(k),G=this.getTilesetIndex(T);if(G===null&&this.format===l.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',T,this.tilesets),null;var $=this.tilesets[G];return $?($.setTileSize(A,I),$.setSpacing(B,M),$.setImage(_),$):(A===void 0&&(A=this.tileWidth),I===void 0&&(I=this.tileHeight),B===void 0&&(B=0),M===void 0&&(M=0),O===void 0&&(O=0),P===void 0&&(P={x:0,y:0}),$=new C(T,O,A,I,B,M,void 0,void 0,P),$.setImage(_),this.tilesets.push($),this.tiles=o(this),$)},copy:function(T,k,A,I,B,M,O,P){return P=this.getLayer(P),P!==null?(b.Copy(T,k,A,I,B,M,O,P),this):null},createBlankLayer:function(T,k,A,I,B,M,O,P){A===void 0&&(A=0),I===void 0&&(I=0),B===void 0&&(B=this.width),M===void 0&&(M=this.height),O===void 0&&(O=this.tileWidth),P===void 0&&(P=this.tileHeight);var L=this.getLayerIndex(T);if(L!==null)return console.warn("Invalid Tilemap Layer ID: "+T),null;for(var _=new a({name:T,tileWidth:O,tileHeight:P,width:B,height:M,orientation:this.orientation}),G,$=0;$<M;$++){G=[];for(var W=0;W<B;W++)G.push(new x(_,-1,W,$,O,P,this.tileWidth,this.tileHeight));_.data.push(G)}this.layers.push(_),this.currentLayerIndex=this.layers.length-1;var Y=new w(this.scene,this,this.currentLayerIndex,k,A,I);return Y.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Y),Y},createLayer:function(T,k,A,I){var B=this.getLayerIndex(T);if(B===null)return console.warn("Invalid Tilemap Layer ID: "+T),typeof T=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var M=this.layers[B];if(M.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+T),null;this.currentLayerIndex=B,A===void 0&&(A=M.x),I===void 0&&(I=M.y);var O=new w(this.scene,this,B,k,A,I);return O.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(O),O},createFromObjects:function(T,k,A){A===void 0&&(A=!0);var I=[],B=this.getObjectLayer(T);if(!B)return console.warn("createFromObjects: Invalid objectLayerName given: "+T),I;var M=new f(A?this.tilesets:void 0);Array.isArray(k)||(k=[k]);for(var O=B.objects,P=0;P<k.length;P++){var L=k[P],_=h(L,"id",null),G=h(L,"gid",null),$=h(L,"name",null),W=h(L,"type",null);M.enabled=!h(L,"ignoreTileset",null);for(var Y,z=[],F=0;F<O.length;F++)Y=O[F],(_===null&&G===null&&$===null&&W===null||_!==null&&Y.id===_||G!==null&&Y.gid===G||$!==null&&Y.name===$||W!==null&&M.getTypeIncludingTile(Y)===W)&&z.push(Y);for(var N=h(L,"classType",y),j=h(L,"scene",this.scene),U=h(L,"container",null),V=h(L,"key",null),q=h(L,"frame",null),ot=0;ot<z.length;ot++){Y=z[ot];var Q=new N(j);if(Q.setName(Y.name),Q.setPosition(Y.x,Y.y),M.setTextureAndFrame(Q,V,q,Y),Y.width&&(Q.displayWidth=Y.width),Y.height&&(Q.displayHeight=Y.height),this.orientation===p.ISOMETRIC){var rt=this.tileWidth/this.tileHeight,Bt={x:Q.x-Q.y,y:(Q.x+Q.y)/rt};Q.x=Bt.x,Q.y=Bt.y}var K={x:Q.originX*Y.width,y:(Q.originY-(Y.gid?1:0))*Y.height};if(Y.rotation){var Mt=c(Y.rotation);u(K,Mt),Q.rotation=Mt}Q.x+=K.x,Q.y+=K.y,(Y.flippedHorizontal!==void 0||Y.flippedVertical!==void 0)&&Q.setFlip(Y.flippedHorizontal,Y.flippedVertical),Y.visible||(Q.visible=!1),M.setPropertiesFromTiledObject(Q,Y),U?U.add(Q):j.add.existing(Q),I.push(Q)}}return I},createFromTiles:function(T,k,A,I,B,M){return M=this.getLayer(M),M===null?null:b.CreateFromTiles(T,k,A,I,B,M)},fill:function(T,k,A,I,B,M,O){return M===void 0&&(M=!0),O=this.getLayer(O),O===null?null:(b.Fill(T,k,A,I,B,M,O),this)},filterObjects:function(T,k,A){if(typeof T=="string"){var I=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+I),null}return T.objects.filter(k,A)},filterTiles:function(T,k,A,I,B,M,O,P){return P=this.getLayer(P),P===null?null:b.FilterTiles(T,k,A,I,B,M,O,P)},findByIndex:function(T,k,A,I){return I=this.getLayer(I),I===null?null:b.FindByIndex(T,k,A,I)},findObject:function(T,k,A){if(typeof T=="string"){var I=T;if(T=this.getObjectLayer(T),!T)return console.warn("No object layer found with the name: "+I),null}return T.objects.find(k,A)||null},findTile:function(T,k,A,I,B,M,O,P){return P=this.getLayer(P),P===null?null:b.FindTile(T,k,A,I,B,M,O,P)},forEachTile:function(T,k,A,I,B,M,O,P){return P=this.getLayer(P),P===null?null:(b.ForEachTile(T,k,A,I,B,M,O,P),this)},getImageIndex:function(T){return this.getIndex(this.images,T)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(T){return T.name})},getIndex:function(T,k){for(var A=0;A<T.length;A++)if(T[A].name===k)return A;return null},getLayer:function(T){var k=this.getLayerIndex(T);return k!==null?this.layers[k]:null},getObjectLayer:function(T){var k=this.getIndex(this.objects,T);return k!==null?this.objects[k]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(T){return T.name})},getLayerIndex:function(T){return T===void 0?this.currentLayerIndex:typeof T=="string"?this.getLayerIndexByName(T):typeof T=="number"&&T<this.layers.length?T:T instanceof w&&T.tilemap===this?T.layerIndex:null},getLayerIndexByName:function(T){return this.getIndex(this.layers,T)},getTileAt:function(T,k,A,I){return I=this.getLayer(I),I===null?null:b.GetTileAt(T,k,A,I)},getTileAtWorldXY:function(T,k,A,I,B){return B=this.getLayer(B),B===null?null:b.GetTileAtWorldXY(T,k,A,I,B)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(T){return T.name})},getTilesWithin:function(T,k,A,I,B,M){return M=this.getLayer(M),M===null?null:b.GetTilesWithin(T,k,A,I,B,M)},getTilesWithinShape:function(T,k,A,I){return I=this.getLayer(I),I===null?null:b.GetTilesWithinShape(T,k,A,I)},getTilesWithinWorldXY:function(T,k,A,I,B,M,O){return O=this.getLayer(O),O===null?null:b.GetTilesWithinWorldXY(T,k,A,I,B,M,O)},getTileset:function(T){var k=this.getIndex(this.tilesets,T);return k!==null?this.tilesets[k]:null},getTilesetIndex:function(T){return this.getIndex(this.tilesets,T)},hasTileAt:function(T,k,A){return A=this.getLayer(A),A===null?null:b.HasTileAt(T,k,A)},hasTileAtWorldXY:function(T,k,A,I){return I=this.getLayer(I),I===null?null:b.HasTileAtWorldXY(T,k,A,I)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(T){this.setLayer(T)}},putTileAt:function(T,k,A,I,B){return I===void 0&&(I=!0),B=this.getLayer(B),B===null?null:b.PutTileAt(T,k,A,I,B)},putTileAtWorldXY:function(T,k,A,I,B,M){return I===void 0&&(I=!0),M=this.getLayer(M),M===null?null:b.PutTileAtWorldXY(T,k,A,I,B,M)},putTilesAt:function(T,k,A,I,B){return I===void 0&&(I=!0),B=this.getLayer(B),B===null?null:(b.PutTilesAt(T,k,A,I,B),this)},randomize:function(T,k,A,I,B,M){return M=this.getLayer(M),M===null?null:(b.Randomize(T,k,A,I,B,M),this)},calculateFacesAt:function(T,k,A){return A=this.getLayer(A),A===null?null:(b.CalculateFacesAt(T,k,A),this)},calculateFacesWithin:function(T,k,A,I,B){return B=this.getLayer(B),B===null?null:(b.CalculateFacesWithin(T,k,A,I,B),this)},removeLayer:function(T){var k=this.getLayerIndex(T);if(k!==null){v(this.layers,k);for(var A=k;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===k&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(T){var k=this.getLayerIndex(T);return k!==null?(T=this.layers[k],T.tilemapLayer.destroy(),v(this.layers,k),this.currentLayerIndex===k&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var T=this.layers,k=0;k<T.length;k++)T[k].tilemapLayer&&T[k].tilemapLayer.destroy(!1);return T.length=0,this.currentLayerIndex=0,this},removeTile:function(T,k,A){k===void 0&&(k=-1),A===void 0&&(A=!0);var I=[];Array.isArray(T)||(T=[T]);for(var B=0;B<T.length;B++){var M=T[B];I.push(this.removeTileAt(M.x,M.y,!0,A,M.tilemapLayer)),k>-1&&this.putTileAt(k,M.x,M.y,A,M.tilemapLayer)}return I},removeTileAt:function(T,k,A,I,B){return A===void 0&&(A=!0),I===void 0&&(I=!0),B=this.getLayer(B),B===null?null:b.RemoveTileAt(T,k,A,I,B)},removeTileAtWorldXY:function(T,k,A,I,B,M){return A===void 0&&(A=!0),I===void 0&&(I=!0),M=this.getLayer(M),M===null?null:b.RemoveTileAtWorldXY(T,k,A,I,B,M)},renderDebug:function(T,k,A){return A=this.getLayer(A),A===null?null:(this.orientation===p.ORTHOGONAL&&b.RenderDebug(T,k,A),this)},renderDebugFull:function(T,k){for(var A=this.layers,I=0;I<A.length;I++)b.RenderDebug(T,k,A[I]);return this},replaceByIndex:function(T,k,A,I,B,M,O){return O=this.getLayer(O),O===null?null:(b.ReplaceByIndex(T,k,A,I,B,M,O),this)},setCollision:function(T,k,A,I,B){return k===void 0&&(k=!0),A===void 0&&(A=!0),B===void 0&&(B=!0),I=this.getLayer(I),I===null?null:(b.SetCollision(T,k,A,I,B),this)},setCollisionBetween:function(T,k,A,I,B){return A===void 0&&(A=!0),I===void 0&&(I=!0),B=this.getLayer(B),B===null?null:(b.SetCollisionBetween(T,k,A,I,B),this)},setCollisionByProperty:function(T,k,A,I){return k===void 0&&(k=!0),A===void 0&&(A=!0),I=this.getLayer(I),I===null?null:(b.SetCollisionByProperty(T,k,A,I),this)},setCollisionByExclusion:function(T,k,A,I){return k===void 0&&(k=!0),A===void 0&&(A=!0),I=this.getLayer(I),I===null?null:(b.SetCollisionByExclusion(T,k,A,I),this)},setCollisionFromCollisionGroup:function(T,k,A){return T===void 0&&(T=!0),k===void 0&&(k=!0),A=this.getLayer(A),A===null?null:(b.SetCollisionFromCollisionGroup(T,k,A),this)},setTileIndexCallback:function(T,k,A,I){return I=this.getLayer(I),I===null?null:(b.SetTileIndexCallback(T,k,A,I),this)},setTileLocationCallback:function(T,k,A,I,B,M,O){return O=this.getLayer(O),O===null?null:(b.SetTileLocationCallback(T,k,A,I,B,M,O),this)},setLayer:function(T){var k=this.getLayerIndex(T);return k!==null&&(this.currentLayerIndex=k),this},setBaseTileSize:function(T,k){this.tileWidth=T,this.tileHeight=k,this.widthInPixels=this.width*T,this.heightInPixels=this.height*k;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=T,this.layers[A].baseTileHeight=k;for(var I=this.layers[A].data,B=this.layers[A].width,M=this.layers[A].height,O=0;O<M;O++)for(var P=0;P<B;P++){var L=I[O][P];L!==null&&L.setSize(void 0,void 0,T,k)}}return this},setLayerTileSize:function(T,k,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=T,A.tileHeight=k;for(var I=A.data,B=A.width,M=A.height,O=0;O<M;O++)for(var P=0;P<B;P++){var L=I[O][P];L!==null&&L.setSize(T,k)}return this},shuffle:function(T,k,A,I,B){return B=this.getLayer(B),B===null?null:(b.Shuffle(T,k,A,I,B),this)},swapByIndex:function(T,k,A,I,B,M,O){return O=this.getLayer(O),O===null?null:(b.SwapByIndex(T,k,A,I,B,M,O),this)},tileToWorldX:function(T,k,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(T,k,A)},tileToWorldY:function(T,k,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(T,k,A)},tileToWorldXY:function(T,k,A,I,B){return B=this.getLayer(B),B===null?null:this._convert.TileToWorldXY(T,k,A,I,B)},getTileCorners:function(T,k,A,I){return I=this.getLayer(I),I===null?null:this._convert.GetTileCorners(T,k,A,I)},weightedRandomize:function(T,k,A,I,B,M){return M=this.getLayer(M),M===null?null:(b.WeightedRandomize(k,A,I,B,T,M),this)},worldToTileX:function(T,k,A,I){return I=this.getLayer(I),I===null?null:this._convert.WorldToTileX(T,k,A,I)},worldToTileY:function(T,k,A,I){return I=this.getLayer(I),I===null?null:this._convert.WorldToTileY(T,k,A,I)},worldToTileXY:function(T,k,A,I,B,M){return M=this.getLayer(M),M===null?null:this._convert.WorldToTileXY(T,k,A,I,B,M)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});s.exports=E},45939:(s,g,i)=>{var o=i(44603),m=i(31989);o.register("tilemap",function(c){var l=c!==void 0?c:{};return m(this.scene,l.key,l.tileWidth,l.tileHeight,l.width,l.height,l.data,l.insertNull)})},46029:(s,g,i)=>{var o=i(39429),m=i(31989);o.register("tilemap",function(c,l,h,a,f,p,u){return c===null&&(c=void 0),l===null&&(l=void 0),h===null&&(h=void 0),a===null&&(a=void 0),f===null&&(f=void 0),m(this.scene,c,l,h,a,f,p,u)})},20442:(s,g,i)=>{var o=i(83419),m=i(78389),c=i(31401),l=i(95643),h=i(81086),a=i(19218),f=i(26099),p=new o({Extends:l,Mixins:[c.Alpha,c.BlendMode,c.ComputedSize,c.Depth,c.Flip,c.GetBounds,c.Mask,c.Origin,c.Pipeline,c.PostPipeline,c.Transform,c.Visible,c.ScrollFactor,m,a],initialize:function(v,y,x,b,w,C){l.call(this,v,"TilemapLayer"),this.isTilemap=!0,this.tilemap=y,this.layerIndex=x,this.layer=y.layers[x],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=h.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new f,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(b),this.setAlpha(this.layer.alpha),this.setPosition(w,C),this.setOrigin(0,0),this.setSize(y.tileWidth*this.layer.width,y.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(u){var v=[],y=[],x=this.tilemap;Array.isArray(u)||(u=[u]);for(var b=0;b<u.length;b++){var w=u[b];if(typeof w=="string"&&(w=x.getTileset(w)),w){y.push(w);for(var C=w.firstgid,E=0;E<w.total;E++)v[C+E]=w}}this.gidMap=v,this.tileset=y},setRenderOrder:function(u){var v=["right-down","left-down","right-up","left-up"];return typeof u=="string"&&(u=v.indexOf(u)),u>=0&&u<4&&(this._renderOrder=u),this},calculateFacesAt:function(u,v){return h.CalculateFacesAt(u,v,this.layer),this},calculateFacesWithin:function(u,v,y,x){return h.CalculateFacesWithin(u,v,y,x,this.layer),this},createFromTiles:function(u,v,y,x,b){return h.CreateFromTiles(u,v,y,x,b,this.layer)},cull:function(u){return this.cullCallback(this.layer,u,this.culledTiles,this._renderOrder)},copy:function(u,v,y,x,b,w,C){return h.Copy(u,v,y,x,b,w,C,this.layer),this},fill:function(u,v,y,x,b,w){return h.Fill(u,v,y,x,b,w,this.layer),this},filterTiles:function(u,v,y,x,b,w,C){return h.FilterTiles(u,v,y,x,b,w,C,this.layer)},findByIndex:function(u,v,y){return h.FindByIndex(u,v,y,this.layer)},findTile:function(u,v,y,x,b,w,C){return h.FindTile(u,v,y,x,b,w,C,this.layer)},forEachTile:function(u,v,y,x,b,w,C){return h.ForEachTile(u,v,y,x,b,w,C,this.layer),this},setTint:function(u,v,y,x,b,w){u===void 0&&(u=16777215);var C=function(E){E.tint=u,E.tintFill=!1};return this.forEachTile(C,this,v,y,x,b,w)},setTintFill:function(u,v,y,x,b,w){u===void 0&&(u=16777215);var C=function(E){E.tint=u,E.tintFill=!0};return this.forEachTile(C,this,v,y,x,b,w)},getTileAt:function(u,v,y){return h.GetTileAt(u,v,y,this.layer)},getTileAtWorldXY:function(u,v,y,x){return h.GetTileAtWorldXY(u,v,y,x,this.layer)},getIsoTileAtWorldXY:function(u,v,y,x,b){y===void 0&&(y=!0);var w=this.tempVec;return h.IsometricWorldToTileXY(u,v,!0,w,b,this.layer,y),this.getTileAt(w.x,w.y,x)},getTilesWithin:function(u,v,y,x,b){return h.GetTilesWithin(u,v,y,x,b,this.layer)},getTilesWithinShape:function(u,v,y){return h.GetTilesWithinShape(u,v,y,this.layer)},getTilesWithinWorldXY:function(u,v,y,x,b,w){return h.GetTilesWithinWorldXY(u,v,y,x,b,w,this.layer)},hasTileAt:function(u,v){return h.HasTileAt(u,v,this.layer)},hasTileAtWorldXY:function(u,v,y){return h.HasTileAtWorldXY(u,v,y,this.layer)},putTileAt:function(u,v,y,x){return h.PutTileAt(u,v,y,x,this.layer)},putTileAtWorldXY:function(u,v,y,x,b){return h.PutTileAtWorldXY(u,v,y,x,b,this.layer)},putTilesAt:function(u,v,y,x){return h.PutTilesAt(u,v,y,x,this.layer),this},randomize:function(u,v,y,x,b){return h.Randomize(u,v,y,x,b,this.layer),this},removeTileAt:function(u,v,y,x){return h.RemoveTileAt(u,v,y,x,this.layer)},removeTileAtWorldXY:function(u,v,y,x,b){return h.RemoveTileAtWorldXY(u,v,y,x,b,this.layer)},renderDebug:function(u,v){return h.RenderDebug(u,v,this.layer),this},replaceByIndex:function(u,v,y,x,b,w){return h.ReplaceByIndex(u,v,y,x,b,w,this.layer),this},setSkipCull:function(u){return u===void 0&&(u=!0),this.skipCull=u,this},setCullPadding:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=1),this.cullPaddingX=u,this.cullPaddingY=v,this},setCollision:function(u,v,y,x){return h.SetCollision(u,v,y,this.layer,x),this},setCollisionBetween:function(u,v,y,x){return h.SetCollisionBetween(u,v,y,x,this.layer),this},setCollisionByProperty:function(u,v,y){return h.SetCollisionByProperty(u,v,y,this.layer),this},setCollisionByExclusion:function(u,v,y){return h.SetCollisionByExclusion(u,v,y,this.layer),this},setCollisionFromCollisionGroup:function(u,v){return h.SetCollisionFromCollisionGroup(u,v,this.layer),this},setTileIndexCallback:function(u,v,y){return h.SetTileIndexCallback(u,v,y,this.layer),this},setTileLocationCallback:function(u,v,y,x,b,w){return h.SetTileLocationCallback(u,v,y,x,b,w,this.layer),this},shuffle:function(u,v,y,x){return h.Shuffle(u,v,y,x,this.layer),this},swapByIndex:function(u,v,y,x,b,w){return h.SwapByIndex(u,v,y,x,b,w,this.layer),this},tileToWorldX:function(u,v){return this.tilemap.tileToWorldX(u,v,this)},tileToWorldY:function(u,v){return this.tilemap.tileToWorldY(u,v,this)},tileToWorldXY:function(u,v,y,x){return this.tilemap.tileToWorldXY(u,v,y,x,this)},getTileCorners:function(u,v,y){return this.tilemap.getTileCorners(u,v,y,this)},weightedRandomize:function(u,v,y,x,b){return h.WeightedRandomize(v,y,x,b,u,this.layer),this},worldToTileX:function(u,v,y){return this.tilemap.worldToTileX(u,v,y,this)},worldToTileY:function(u,v,y){return this.tilemap.worldToTileY(u,v,y,this)},worldToTileXY:function(u,v,y,x,b){return this.tilemap.worldToTileXY(u,v,y,x,b,this)},destroy:function(u){u===void 0&&(u=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),u&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],l.prototype.destroy.call(this))}});s.exports=p},16153:(s,g,i)=>{var o=i(61340),m=new o,c=new o,l=new o,h=function(a,f,p,u){var v=f.cull(p),y=v.length,x=p.alpha*f.alpha;if(!(y===0||x<=0)){var b=m,w=c,C=l;w.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),b.copyFrom(p.matrix);var E=a.currentContext,T=f.gidMap;E.save(),u?(b.multiplyWithOffset(u,-p.scrollX*f.scrollFactorX,-p.scrollY*f.scrollFactorY),w.e=f.x,w.f=f.y,b.multiply(w,C),C.copyToContext(E)):(w.e-=p.scrollX*f.scrollFactorX,w.f-=p.scrollY*f.scrollFactorY,w.copyToContext(E)),(!a.antialias||f.scaleX>1||f.scaleY>1)&&(E.imageSmoothingEnabled=!1);for(var k=0;k<y;k++){var A=v[k],I=T[A.index];if(I){var B=I.image.getSourceImage(),M=I.getTileTextureCoordinates(A.index),O=I.tileWidth,P=I.tileHeight;if(!(M===null||O===0||P===0)){var L=O*.5,_=P*.5;M.x+=I.tileOffset.x,M.y+=I.tileOffset.y,E.save(),E.translate(A.pixelX+L,A.pixelY+_),A.rotation!==0&&E.rotate(A.rotation),(A.flipX||A.flipY)&&E.scale(A.flipX?-1:1,A.flipY?-1:1),E.globalAlpha=x*A.alpha,E.drawImage(B,M.x,M.y,O,P,-L,-_,O,P),E.restore()}}}E.restore()}};s.exports=h},19218:(s,g,i)=>{var o=i(29747),m=o,c=o;m=i(99558),c=i(16153),s.exports={renderWebGL:m,renderCanvas:c}},99558:(s,g,i)=>{var o=i(70554),m=function(c,l,h){var a=l.cull(h),f=a.length,p=h.alpha*l.alpha;if(!(f===0||p<=0)){var u=l.gidMap,v=c.pipelines.set(l.pipeline,l),y=o.getTintAppendFloatAlpha,x=l.scrollFactorX,b=l.scrollFactorY,w=l.x,C=l.y,E=l.scaleX,T=l.scaleY;c.pipelines.preBatch(l);for(var k=0;k<f;k++){var A=a[k],I=u[A.index];if(I){var B=I.getTileTextureCoordinates(A.index),M=I.tileWidth,O=I.tileHeight;if(!(!B||M===0||O===0)){var P=M*.5,L=O*.5,_=I.glTexture,G=v.setTexture2D(_,l),$=M,W=O,Y=B.x,z=B.y,F=I.tileOffset.x,N=I.tileOffset.y,j=y(A.tint,p*A.alpha);v.batchTexture(l,_,_.width,_.height,w+A.pixelX*E+(P*E-F),C+A.pixelY*T+(L*T-N),M,O,E,T,A.rotation,A.flipX,A.flipY,x,b,P,L,Y,z,$,W,j,j,j,j,A.tintFill,0,0,h,null,!0,G,!0)}}}c.pipelines.postBatch(l)}};s.exports=m},33629:(s,g,i)=>{var o=i(83419),m=i(26099),c=new o({initialize:function(h,a,f,p,u,v,y,x,b){(f===void 0||f<=0)&&(f=32),(p===void 0||p<=0)&&(p=32),u===void 0&&(u=0),v===void 0&&(v=0),y===void 0&&(y={}),x===void 0&&(x={}),this.name=h,this.firstgid=a,this.tileWidth=f,this.tileHeight=p,this.tileMargin=u,this.tileSpacing=v,this.tileProperties=y,this.tileData=x,this.tileOffset=new m,b!==void 0&&this.tileOffset.set(b.x,b.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(l){return this.containsTileIndex(l)?this.tileProperties[l-this.firstgid]:null},getTileData:function(l){return this.containsTileIndex(l)?this.tileData[l-this.firstgid]:null},getTileCollisionGroup:function(l){var h=this.getTileData(l);return h&&h.objectgroup?h.objectgroup:null},containsTileIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},getTileTextureCoordinates:function(l){return this.containsTileIndex(l)?this.texCoordinates[l-this.firstgid]:null},setImage:function(l){this.image=l;var h=l.get(),a=l.getFrameBounds();return this.glTexture=h.source.glTexture,h.width>a.width||h.height>a.height?this.updateTileData(h.width,h.height):this.updateTileData(a.width,a.height,a.x,a.y),this},setTileSize:function(l,h){return l!==void 0&&(this.tileWidth=l),h!==void 0&&(this.tileHeight=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(l,h){return l!==void 0&&(this.tileMargin=l),h!==void 0&&(this.tileSpacing=h),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(l,h,a,f){a===void 0&&(a=0),f===void 0&&(f=0);var p=(h-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),u=(l-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(p%1!==0||u%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),p=Math.floor(p),u=Math.floor(u),this.rows=p,this.columns=u,this.total=p*u,this.texCoordinates.length=0;for(var v=this.tileMargin+a,y=this.tileMargin+f,x=0;x<this.rows;x++){for(var b=0;b<this.columns;b++)this.texCoordinates.push({x:v,y}),v+=this.tileWidth+this.tileSpacing;v=this.tileMargin+a,y+=this.tileHeight+this.tileSpacing}return this}});s.exports=c},72023:(s,g,i)=>{var o=i(7423),m=function(c,l,h){var a=o(c,l,!0,h),f=o(c,l-1,!0,h),p=o(c,l+1,!0,h),u=o(c-1,l,!0,h),v=o(c+1,l,!0,h),y=a&&a.collides;return y&&(a.faceTop=!0,a.faceBottom=!0,a.faceLeft=!0,a.faceRight=!0),f&&f.collides&&(y&&(a.faceTop=!1),f.faceBottom=!y),p&&p.collides&&(y&&(a.faceBottom=!1),p.faceTop=!y),u&&u.collides&&(y&&(a.faceLeft=!1),u.faceRight=!y),v&&v.collides&&(y&&(a.faceRight=!1),v.faceLeft=!y),a&&!a.collides&&a.resetFaces(),a};s.exports=m},42573:(s,g,i)=>{var o=i(7423),m=i(7386),c=function(l,h,a,f,p){for(var u=null,v=null,y=null,x=null,b=m(l,h,a,f,null,p),w=0;w<b.length;w++){var C=b[w];C&&(C.collides?(u=o(C.x,C.y-1,!0,p),v=o(C.x,C.y+1,!0,p),y=o(C.x-1,C.y,!0,p),x=o(C.x+1,C.y,!0,p),C.faceTop=!(u&&u.collides),C.faceBottom=!(v&&v.collides),C.faceLeft=!(y&&y.collides),C.faceRight=!(x&&x.collides)):C.resetFaces())}};s.exports=c},33528:(s,g,i)=>{var o=i(26099),m=new o,c=function(l,h,a,f){var p=a.tilemapLayer,u=p.cullPaddingX,v=p.cullPaddingY,y=p.tilemap.tileToWorldXY(l,h,m,f,p);return y.x>f.worldView.x+p.scaleX*a.tileWidth*(-u-.5)&&y.x<f.worldView.right+p.scaleX*a.tileWidth*(u-.5)&&y.y>f.worldView.y+p.scaleY*a.tileHeight*(-v-1)&&y.y<f.worldView.bottom+p.scaleY*a.tileHeight*(v-.5)};s.exports=c},1785:(s,g,i)=>{var o=i(42573),m=i(7386),c=i(62991),l=i(23029),h=function(a,f,p,u,v,y,x,b){x===void 0&&(x=!0);var w=m(a,f,p,u,null,b),C=[];w.forEach(function(M){var O=new l(M.layer,M.index,M.x,M.y,M.width,M.height,M.baseWidth,M.baseHeight);O.copy(M),C.push(O)});for(var E=v-a,T=y-f,k=0;k<C.length;k++){var A=C[k],I=A.x+E,B=A.y+T;c(I,B,b)&&b.data[B][I]&&(A.x=I,A.y=B,A.updatePixelXY(),b.data[B][I]=A)}x&&o(v-1,y-1,p+2,u+2,b),w.length=0,C.length=0};s.exports=h},78419:(s,g,i)=>{var o=i(62644),m=i(7386),c=i(27987),l=function(h,a,f,p,u,v){f||(f={}),Array.isArray(h)||(h=[h]);var y=v.tilemapLayer;p||(p=y.scene),u||(u=p.cameras.main);var x=v.width,b=v.height,w=m(0,0,x,b,null,v),C=[],E,T=function(B,M,O){for(var P=0;P<O.length;P++){var L=O[P];B.hasOwnProperty(L)||(B[L]=M[L])}};for(E=0;E<w.length;E++){var k=w[E],A=o(f);if(h.indexOf(k.index)!==-1){var I=y.tileToWorldXY(k.x,k.y,void 0,u,v);A.x=I.x,A.y=I.y,T(A,k,["rotation","flipX","flipY","alpha","visible","tint"]),A.hasOwnProperty("origin")||(A.x+=k.width*.5,A.y+=k.height*.5),A.hasOwnProperty("useSpriteSheet")&&(A.key=k.tileset.image,A.frame=k.index-1),C.push(p.make.sprite(A))}}if(Array.isArray(a))for(E=0;E<h.length;E++)c(h[E],a[E],0,0,x,b,v);else if(a!==null)for(E=0;E<h.length;E++)c(h[E],a,0,0,x,b,v);return C};s.exports=l},19545:(s,g,i)=>{var o=i(87841),m=i(63448),c=i(56583),l=new o,h=function(a,f){var p=a.tilemapLayer.tilemap,u=a.tilemapLayer,v=Math.floor(p.tileWidth*u.scaleX),y=Math.floor(p.tileHeight*u.scaleY),x=c(f.worldView.x-u.x,v,0,!0)-u.cullPaddingX,b=m(f.worldView.right-u.x,v,0,!0)+u.cullPaddingX,w=c(f.worldView.y-u.y,y,0,!0)-u.cullPaddingY,C=m(f.worldView.bottom-u.y,y,0,!0)+u.cullPaddingY;return l.setTo(x,w,b-x,C-w)};s.exports=h},30003:(s,g,i)=>{var o=i(19545),m=i(32483),c=function(l,h,a,f){a===void 0&&(a=[]),f===void 0&&(f=0),a.length=0;var p=l.tilemapLayer,u=o(l,h);return(p.skipCull||p.scrollFactorX!==1||p.scrollFactorY!==1)&&(u.left=0,u.right=l.width,u.top=0,u.bottom=l.height),m(l,u,f,a),a};s.exports=c},35137:(s,g,i)=>{var o=i(7386),m=i(42573),c=i(20576),l=function(h,a,f,p,u,v,y){for(var x=y.collideIndexes.indexOf(h)!==-1,b=o(a,f,p,u,null,y),w=0;w<b.length;w++)b[w].index=h,c(b[w],x);v&&m(a-1,f-1,p+2,u+2,y)};s.exports=l},40253:(s,g,i)=>{var o=i(7386),m=function(c,l,h,a,f,p,u,v){var y=o(h,a,f,p,u,v);return y.filter(c,l)};s.exports=m},52692:s=>{var g=function(i,o,m,c){o===void 0&&(o=0),m===void 0&&(m=!1);var l=0,h,a,f;if(m){for(a=c.height-1;a>=0;a--)for(h=c.width-1;h>=0;h--)if(f=c.data[a][h],f&&f.index===i){if(l===o)return f;l+=1}}else for(a=0;a<c.height;a++)for(h=0;h<c.width;h++)if(f=c.data[a][h],f&&f.index===i){if(l===o)return f;l+=1}return null};s.exports=g},66151:(s,g,i)=>{var o=i(7386),m=function(c,l,h,a,f,p,u,v){var y=o(h,a,f,p,u,v);return y.find(c,l)||null};s.exports=m},97560:(s,g,i)=>{var o=i(7386),m=function(c,l,h,a,f,p,u,v){var y=o(h,a,f,p,u,v);y.forEach(c,l)};s.exports=m},43305:(s,g,i)=>{var o=i(91907),m=i(30003),c=i(9474),l=i(14018),h=i(29747),a=i(54503),f=function(p){return p===o.ORTHOGONAL?m:p===o.HEXAGONAL?c:p===o.STAGGERED?a:p===o.ISOMETRIC?l:h};s.exports=f},7423:(s,g,i)=>{var o=i(62991),m=function(c,l,h,a){if(h===void 0&&(h=!1),o(c,l,a)){var f=a.data[l][c]||null;return f?f.index===-1?h?f:null:f:null}else return null};s.exports=m},60540:(s,g,i)=>{var o=i(7423),m=i(26099),c=new m,l=function(h,a,f,p,u){return u.tilemapLayer.worldToTileXY(h,a,!0,c,p),o(c.x,c.y,f,u)};s.exports=l},55826:(s,g,i)=>{var o=i(26099),m=function(c,l,h,a){var f=a.baseTileWidth,p=a.baseTileHeight,u=a.tilemapLayer,v=0,y=0;u&&(h||(h=u.scene.cameras.main),v=u.x+h.scrollX*(1-u.scrollFactorX),y=u.y+h.scrollY*(1-u.scrollFactorY),f*=u.scaleX,p*=u.scaleY);var x=v+c*f,b=y+l*p;return[new o(x,b),new o(x+f,b),new o(x+f,b+p),new o(x,b+p)]};s.exports=m},11758:(s,g,i)=>{var o=i(91907),m=i(27229),c=i(29747),l=i(55826),h=function(a){return a===o.ORTHOGONAL?l:a===o.ISOMETRIC?c:a===o.HEXAGONAL?m:(a===o.STAGGERED,c)};s.exports=h},39167:(s,g,i)=>{var o=i(91907),m=i(29747),c=i(97281),l=function(h){return h===o.ORTHOGONAL?c:m};s.exports=l},62e3:(s,g,i)=>{var o=i(91907),m=i(19951),c=i(14127),l=i(29747),h=i(97202),a=i(70326),f=function(p){return p===o.ORTHOGONAL?a:p===o.ISOMETRIC?c:p===o.HEXAGONAL?m:p===o.STAGGERED?h:l};s.exports=f},5984:(s,g,i)=>{var o=i(91907),m=i(29747),c=i(28054),l=i(29650),h=function(a){return a===o.ORTHOGONAL?l:a===o.STAGGERED?c:m};s.exports=h},7386:(s,g,i)=>{var o=i(95540),m=function(c,l,h,a,f,p){c===void 0&&(c=0),l===void 0&&(l=0),h===void 0&&(h=p.width),a===void 0&&(a=p.height),f||(f={});var u=o(f,"isNotEmpty",!1),v=o(f,"isColliding",!1),y=o(f,"hasInterestingFace",!1);c<0&&(h+=c,c=0),l<0&&(a+=l,l=0),c+h>p.width&&(h=Math.max(p.width-c,0)),l+a>p.height&&(a=Math.max(p.height-l,0));for(var x=[],b=l;b<l+a;b++)for(var w=c;w<c+h;w++){var C=p.data[b][w];if(C!==null){if(u&&C.index===-1||v&&!C.collides||y&&!C.hasInterestingFace)continue;x.push(C)}}return x};s.exports=m},91141:(s,g,i)=>{var o=i(55738),m=i(7386),c=i(91865),l=i(29747),h=i(26099),a=function(y,x){return c.RectangleToTriangle(x,y)},f=new h,p=new h,u=new h,v=function(y,x,b,w){if(y===void 0)return[];var C=l;y instanceof o.Circle?C=c.CircleToRectangle:y instanceof o.Rectangle?C=c.RectangleToRectangle:y instanceof o.Triangle?C=a:y instanceof o.Line&&(C=c.LineToRectangle),w.tilemapLayer.worldToTileXY(y.left,y.top,!0,p,b);var E=p.x,T=p.y;w.tilemapLayer.worldToTileXY(y.right,y.bottom,!1,u,b);var k=Math.ceil(u.x),A=Math.ceil(u.y),I=Math.max(k-E,1),B=Math.max(A-T,1),M=m(E,T,I,B,x,w),O=w.tileWidth,P=w.tileHeight;w.tilemapLayer&&(O*=w.tilemapLayer.scaleX,P*=w.tilemapLayer.scaleY);for(var L=[],_=new o.Rectangle(0,0,O,P),G=0;G<M.length;G++){var $=M[G];w.tilemapLayer.tileToWorldXY($.x,$.y,f,b),_.x=f.x,_.y=f.y,C(y,_)&&L.push($)}return L};s.exports=v},96523:(s,g,i)=>{var o=i(7386),m=i(26099),c=new m,l=new m,h=function(a,f,p,u,v,y,x){var b=x.tilemapLayer.tilemap._convert.WorldToTileXY;b(a,f,!0,c,y,x);var w=c.x,C=c.y;b(a+p,f+u,!1,l,y,x);var E=Math.ceil(l.x),T=Math.ceil(l.y);return o(w,C,E-w,T-C,v,x)};s.exports=h},96113:(s,g,i)=>{var o=i(91907),m=i(20242),c=i(10095),l=function(h){return h===o.ORTHOGONAL?c:m};s.exports=l},16926:(s,g,i)=>{var o=i(91907),m=i(86625),c=i(96897),l=i(29747),h=i(15108),a=i(85896),f=function(p){return p===o.ORTHOGONAL?a:p===o.ISOMETRIC?c:p===o.HEXAGONAL?m:p===o.STAGGERED?h:l};s.exports=f},55762:(s,g,i)=>{var o=i(91907),m=i(20242),c=i(51900),l=i(63288),h=function(a){return a===o.ORTHOGONAL?l:a===o.STAGGERED?c:m};s.exports=h},45091:(s,g,i)=>{var o=i(62991),m=function(c,l,h){if(o(c,l,h)){var a=h.data[l][c];return a!==null&&a.index>-1}else return!1};s.exports=m},24152:(s,g,i)=>{var o=i(45091),m=i(26099),c=new m,l=function(h,a,f,p){p.tilemapLayer.worldToTileXY(h,a,!0,c,f);var u=c.x,v=c.y;return o(u,v,p)};s.exports=l},90454:(s,g,i)=>{var o=i(63448),m=i(56583),c=function(l,h){var a=l.tilemapLayer.tilemap,f=l.tilemapLayer,p=Math.floor(a.tileWidth*f.scaleX),u=Math.floor(a.tileHeight*f.scaleY),v=l.hexSideLength,y,x,b,w;if(l.staggerAxis==="y"){var C=(u-v)/2+v;y=m(h.worldView.x-f.x,p,0,!0)-f.cullPaddingX,x=o(h.worldView.right-f.x,p,0,!0)+f.cullPaddingX,b=m(h.worldView.y-f.y,C,0,!0)-f.cullPaddingY,w=o(h.worldView.bottom-f.y,C,0,!0)+f.cullPaddingY}else{var E=(p-v)/2+v;y=m(h.worldView.x-f.x,E,0,!0)-f.cullPaddingX,x=o(h.worldView.right-f.x,E,0,!0)+f.cullPaddingX,b=m(h.worldView.y-f.y,u,0,!0)-f.cullPaddingY,w=o(h.worldView.bottom-f.y,u,0,!0)+f.cullPaddingY}return{left:y,right:x,top:b,bottom:w}};s.exports=c},9474:(s,g,i)=>{var o=i(90454),m=i(32483),c=function(l,h,a,f){a===void 0&&(a=[]),f===void 0&&(f=0),a.length=0;var p=l.tilemapLayer,u=o(l,h);return p.skipCull&&p.scrollFactorX===1&&p.scrollFactorY===1&&(u.left=0,u.right=l.width,u.top=0,u.bottom=l.height),m(l,u,f,a),a};s.exports=c},27229:(s,g,i)=>{var o=i(19951),m=i(26099),c=new m,l=function(h,a,f,p){var u=p.baseTileWidth,v=p.baseTileHeight,y=p.tilemapLayer;y&&(u*=y.scaleX,v*=y.scaleY);var x=o(h,a,c,f,p),b=[],w=.5773502691896257,C,E;p.staggerAxis==="y"?(C=w*u,E=v/2):(C=u/2,E=w*v);for(var T=0;T<6;T++){var k=2*Math.PI*(.5-T)/6;b.push(new m(x.x+C*Math.cos(k),x.y+E*Math.sin(k)))}return b};s.exports=l},19951:(s,g,i)=>{var o=i(26099),m=function(c,l,h,a,f){h||(h=new o);var p=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,y=0,x=0;v&&(a||(a=v.scene.cameras.main),y=v.x+a.scrollX*(1-v.scrollFactorX),x=v.y+a.scrollY*(1-v.scrollFactorY),p*=v.scaleX,u*=v.scaleY);var b=p/2,w=u/2,C,E;return f.staggerAxis==="y"?(C=y+p*c+p,E=x+1.5*l*w+w,l%2===0&&(this.staggerIndex==="odd"?C-=b:C+=b)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(C=y+1.5*c*b+b,E=x+u*c+u,c%2===0&&(this.staggerIndex==="odd"?E-=w:E+=w)),h.set(C,E)};s.exports=m},86625:(s,g,i)=>{var o=i(26099),m=function(c,l,h,a,f,p){a||(a=new o);var u=p.baseTileWidth,v=p.baseTileHeight,y=p.tilemapLayer;y&&(f||(f=y.scene.cameras.main),c=c-(y.x+f.scrollX*(1-y.scrollFactorX)),l=l-(y.y+f.scrollY*(1-y.scrollFactorY)),u*=y.scaleX,v*=y.scaleY);var x=.5773502691896257,b=-.3333333333333333,w=0,C=.6666666666666666,E=u/2,T=v/2,k,A,I,B,M;p.staggerAxis==="y"?(k=(c-E)/(x*u),A=(l-T)/T,I=x*k+b*A,B=w*k+C*A):(k=(c-E)/E,A=(l-T)/(x*v),I=b*k+x*A,B=C*k+w*A),M=-I-B;var O=Math.round(I),P=Math.round(B),L=Math.round(M),_=Math.abs(O-I),G=Math.abs(P-B),$=Math.abs(L-M);_>G&&_>$?O=-P-L:G>$&&(P=-O-L);var W,Y=P;return p.staggerIndex==="odd"?W=Y%2===0?P/2+O:P/2+O-.5:W=Y%2===0?P/2+O:P/2+O+.5,a.set(W,Y)};s.exports=m},62991:s=>{var g=function(i,o,m){return i>=0&&i<m.width&&o>=0&&o<m.height};s.exports=g},14018:(s,g,i)=>{var o=i(33528),m=function(c,l,h,a){h===void 0&&(h=[]),a===void 0&&(a=0),h.length=0;var f=c.tilemapLayer,p=c.data,u=c.width,v=c.height,y=f.skipCull,x=0,b=u,w=0,C=v,E,T,k;if(a===0)for(T=w;T<C;T++)for(E=x;E<b;E++)k=p[T][E],!(!k||k.index===-1||!k.visible||k.alpha===0)&&(!y&&!o(E,T,c,l)||h.push(k));else if(a===1)for(T=w;T<C;T++)for(E=b;E>=x;E--)k=p[T][E],!(!k||k.index===-1||!k.visible||k.alpha===0)&&(!y&&!o(E,T,c,l)||h.push(k));else if(a===2)for(T=C;T>=w;T--)for(E=x;E<b;E++)k=p[T][E],!(!k||k.index===-1||!k.visible||k.alpha===0)&&(!y&&!o(E,T,c,l)||h.push(k));else if(a===3)for(T=C;T>=w;T--)for(E=b;E>=x;E--)k=p[T][E],!(!k||k.index===-1||!k.visible||k.alpha===0)&&(!y&&!o(E,T,c,l)||h.push(k));return f.tilesDrawn=h.length,f.tilesTotal=u*v,h};s.exports=m},14127:(s,g,i)=>{var o=i(26099),m=function(c,l,h,a,f){h||(h=new o);var p=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,y=0,x=0;v&&(a||(a=v.scene.cameras.main),y=v.x+a.scrollX*(1-v.scrollFactorX),p*=v.scaleX,x=v.y+a.scrollY*(1-v.scrollFactorY),u*=v.scaleY);var b=y+(c-l)*(p/2),w=x+(c+l)*(u/2);return h.set(b,w)};s.exports=m},96897:(s,g,i)=>{var o=i(26099),m=function(c,l,h,a,f,p,u){a||(a=new o);var v=p.baseTileWidth,y=p.baseTileHeight,x=p.tilemapLayer;x&&(f||(f=x.scene.cameras.main),l=l-(x.y+f.scrollY*(1-x.scrollFactorY)),y*=x.scaleY,c=c-(x.x+f.scrollX*(1-x.scrollFactorX)),v*=x.scaleX);var b=v/2,w=y/2;c=c-b,u||(l=l-y);var C=.5*(c/b+l/w),E=.5*(-c/b+l/w);return h&&(C=Math.floor(C),E=Math.floor(E)),a.set(C,E)};s.exports=m},71558:(s,g,i)=>{var o=i(23029),m=i(62991),c=i(72023),l=i(20576),h=function(a,f,p,u,v){if(u===void 0&&(u=!0),!m(f,p,v))return null;var y,x=v.data[p][f],b=x&&x.collides;a instanceof o?(v.data[p][f]===null&&(v.data[p][f]=new o(v,a.index,f,p,v.tileWidth,v.tileHeight)),v.data[p][f].copy(a)):(y=a,v.data[p][f]===null?v.data[p][f]=new o(v,y,f,p,v.tileWidth,v.tileHeight):v.data[p][f].index=y);var w=v.data[p][f],C=v.collideIndexes.indexOf(w.index)!==-1;if(y=a instanceof o?a.index:a,y===-1)w.width=v.tileWidth,w.height=v.tileHeight;else{var E=v.tilemapLayer.tilemap,T=E.tiles,k=T[y][2],A=E.tilesets[k];w.width=A.tileWidth,w.height=A.tileHeight}return l(w,C),u&&b!==w.collides&&c(f,p,v),w};s.exports=h},26303:(s,g,i)=>{var o=i(71558),m=i(26099),c=new m,l=function(h,a,f,p,u,v){return v.tilemapLayer.worldToTileXY(a,f,!0,c,u,v),o(h,c.x,c.y,p,v)};s.exports=l},14051:(s,g,i)=>{var o=i(42573),m=i(71558),c=function(l,h,a,f,p){if(f===void 0&&(f=!0),!Array.isArray(l))return null;Array.isArray(l[0])||(l=[l]);for(var u=l.length,v=l[0].length,y=0;y<u;y++)for(var x=0;x<v;x++){var b=l[y][x];m(b,h+x,a+y,!1,p)}f&&o(h-1,a-1,v+2,u+2,p)};s.exports=c},77389:(s,g,i)=>{var o=i(7386),m=i(26546),c=function(l,h,a,f,p,u){var v,y=o(l,h,a,f,{},u);if(!p)for(p=[],v=0;v<y.length;v++)p.indexOf(y[v].index)===-1&&p.push(y[v].index);for(v=0;v<y.length;v++)y[v].index=m(p)};s.exports=c},63557:(s,g,i)=>{var o=i(23029),m=i(62991),c=i(72023),l=function(h,a,f,p,u){if(f===void 0&&(f=!0),p===void 0&&(p=!0),!m(h,a,u))return null;var v=u.data[a][h];if(v)u.data[a][h]=f?null:new o(u,-1,h,a,u.tileWidth,u.tileHeight);else return null;return p&&v&&v.collides&&c(h,a,u),v};s.exports=l},94178:(s,g,i)=>{var o=i(63557),m=i(26099),c=new m,l=function(h,a,f,p,u,v){return v.tilemapLayer.worldToTileXY(h,a,!0,c,u,v),o(c.x,c.y,f,p,v)};s.exports=l},15533:(s,g,i)=>{var o=i(7386),m=i(3956),c=new m(105,210,231,150),l=new m(243,134,48,200),h=new m(40,39,37,150),a=function(f,p,u){p===void 0&&(p={});var v=p.tileColor!==void 0?p.tileColor:c,y=p.collidingTileColor!==void 0?p.collidingTileColor:l,x=p.faceColor!==void 0?p.faceColor:h,b=o(0,0,u.width,u.height,null,u);f.translateCanvas(u.tilemapLayer.x,u.tilemapLayer.y),f.scaleCanvas(u.tilemapLayer.scaleX,u.tilemapLayer.scaleY);for(var w=0;w<b.length;w++){var C=b[w],E=C.width,T=C.height,k=C.pixelX,A=C.pixelY,I=C.collides?y:v;I!==null&&(f.fillStyle(I.color,I.alpha/255),f.fillRect(k,A,E,T)),k+=1,A+=1,E-=2,T-=2,x!==null&&(f.lineStyle(1,x.color,x.alpha/255),C.faceTop&&f.lineBetween(k,A,k+E,A),C.faceRight&&f.lineBetween(k+E,A,k+E,A+T),C.faceBottom&&f.lineBetween(k,A+T,k+E,A+T),C.faceLeft&&f.lineBetween(k,A,k,A+T))}};s.exports=a},27987:(s,g,i)=>{var o=i(7386),m=function(c,l,h,a,f,p,u){for(var v=o(h,a,f,p,null,u),y=0;y<v.length;y++)v[y]&&v[y].index===c&&(v[y].index=l)};s.exports=m},32483:s=>{var g=function(i,o,m,c){var l=i.data,h=i.width,a=i.height,f=i.tilemapLayer,p=Math.max(0,o.left),u=Math.min(h,o.right),v=Math.max(0,o.top),y=Math.min(a,o.bottom),x,b,w;if(m===0)for(b=v;b<y;b++)for(x=p;l[b]&&x<u;x++)w=l[b][x],!(!w||w.index===-1||!w.visible||w.alpha===0)&&c.push(w);else if(m===1)for(b=v;b<y;b++)for(x=u;l[b]&&x>=p;x--)w=l[b][x],!(!w||w.index===-1||!w.visible||w.alpha===0)&&c.push(w);else if(m===2)for(b=y;b>=v;b--)for(x=p;l[b]&&x<u;x++)w=l[b][x],!(!w||w.index===-1||!w.visible||w.alpha===0)&&c.push(w);else if(m===3)for(b=y;b>=v;b--)for(x=u;l[b]&&x>=p;x--)w=l[b][x],!(!w||w.index===-1||!w.visible||w.alpha===0)&&c.push(w);return f.tilesDrawn=c.length,f.tilesTotal=h*a,c};s.exports=g},57068:(s,g,i)=>{var o=i(20576),m=i(42573),c=i(9589),l=function(h,a,f,p,u){a===void 0&&(a=!0),f===void 0&&(f=!0),u===void 0&&(u=!0),Array.isArray(h)||(h=[h]);for(var v=0;v<h.length;v++)c(h[v],a,p);if(u)for(var y=0;y<p.height;y++)for(var x=0;x<p.width;x++){var b=p.data[y][x];b&&h.indexOf(b.index)!==-1&&o(b,a)}f&&m(0,0,p.width,p.height,p)};s.exports=l},37266:(s,g,i)=>{var o=i(20576),m=i(42573),c=i(9589),l=function(h,a,f,p,u,v){if(f===void 0&&(f=!0),p===void 0&&(p=!0),v===void 0&&(v=!0),!(h>a)){for(var y=h;y<=a;y++)c(y,f,u);if(v)for(var x=0;x<u.height;x++)for(var b=0;b<u.width;b++){var w=u.data[x][b];w&&w.index>=h&&w.index<=a&&o(w,f)}p&&m(0,0,u.width,u.height,u)}};s.exports=l},75661:(s,g,i)=>{var o=i(20576),m=i(42573),c=i(9589),l=function(h,a,f,p){a===void 0&&(a=!0),f===void 0&&(f=!0),Array.isArray(h)||(h=[h]);for(var u=0;u<p.height;u++)for(var v=0;v<p.width;v++){var y=p.data[u][v];y&&h.indexOf(y.index)===-1&&(o(y,a),c(y.index,a,p))}f&&m(0,0,p.width,p.height,p)};s.exports=l},64740:(s,g,i)=>{var o=i(20576),m=i(42573),c=i(97022),l=function(h,a,f,p){a===void 0&&(a=!0),f===void 0&&(f=!0);for(var u=0;u<p.height;u++)for(var v=0;v<p.width;v++){var y=p.data[u][v];if(y){for(var x in h)if(c(y.properties,x)){var b=h[x];Array.isArray(b)||(b=[b]);for(var w=0;w<b.length;w++)y.properties[x]===b[w]&&o(y,a)}}}f&&m(0,0,p.width,p.height,p)};s.exports=l},63307:(s,g,i)=>{var o=i(20576),m=i(42573),c=function(l,h,a){l===void 0&&(l=!0),h===void 0&&(h=!0);for(var f=0;f<a.height;f++)for(var p=0;p<a.width;p++){var u=a.data[f][p];if(u){var v=u.getCollisionGroup();v&&v.objects&&v.objects.length>0&&o(u,l)}}h&&m(0,0,a.width,a.height,a)};s.exports=c},9589:s=>{var g=function(i,o,m){var c=m.collideIndexes.indexOf(i);o&&c===-1?m.collideIndexes.push(i):!o&&c!==-1&&m.collideIndexes.splice(c,1)};s.exports=g},20576:s=>{var g=function(i,o){o?i.setCollision(!0,!0,!0,!0,!1):i.resetCollision(!1)};s.exports=g},79583:s=>{var g=function(i,o,m,c){if(typeof i=="number")c.callbacks[i]=o!==null?{callback:o,callbackContext:m}:void 0;else for(var l=0,h=i.length;l<h;l++)c.callbacks[i[l]]=o!==null?{callback:o,callbackContext:m}:void 0};s.exports=g},93254:(s,g,i)=>{var o=i(7386),m=function(c,l,h,a,f,p,u){for(var v=o(c,l,h,a,null,u),y=0;y<v.length;y++)v[y].setCollisionCallback(f,p)};s.exports=m},32903:(s,g,i)=>{var o=i(7386),m=i(33680),c=function(l,h,a,f,p){var u=o(l,h,a,f,null,p),v=u.map(function(x){return x.index});m(v);for(var y=0;y<u.length;y++)u[y].index=v[y]};s.exports=c},61325:(s,g,i)=>{var o=i(63448),m=i(56583),c=function(l,h){var a=l.tilemapLayer.tilemap,f=l.tilemapLayer,p=Math.floor(a.tileWidth*f.scaleX),u=Math.floor(a.tileHeight*f.scaleY),v=m(h.worldView.x-f.x,p,0,!0)-f.cullPaddingX,y=o(h.worldView.right-f.x,p,0,!0)+f.cullPaddingX,x=m(h.worldView.y-f.y,u/2,0,!0)-f.cullPaddingY,b=o(h.worldView.bottom-f.y,u/2,0,!0)+f.cullPaddingY;return{left:v,right:y,top:x,bottom:b}};s.exports=c},54503:(s,g,i)=>{var o=i(61325),m=i(32483),c=function(l,h,a,f){a===void 0&&(a=[]),f===void 0&&(f=0),a.length=0;var p=l.tilemapLayer,u=o(l,h);return p.skipCull&&p.scrollFactorX===1&&p.scrollFactorY===1&&(u.left=0,u.right=l.width,u.top=0,u.bottom=l.height),m(l,u,f,a),a};s.exports=c},97202:(s,g,i)=>{var o=i(26099),m=function(c,l,h,a,f){h||(h=new o);var p=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,y=0,x=0;v&&(a||(a=v.scene.cameras.main),y=v.x+a.scrollX*(1-v.scrollFactorX),p*=v.scaleX,x=v.y+a.scrollY*(1-v.scrollFactorY),u*=v.scaleY);var b=y+c*p+l%2*(p/2),w=x+l*(u/2);return h.set(b,w)};s.exports=m},28054:s=>{var g=function(i,o,m){var c=m.baseTileHeight,l=m.tilemapLayer,h=0;return l&&(o===void 0&&(o=l.scene.cameras.main),h=l.y+o.scrollY*(1-l.scrollFactorY),c*=l.scaleY),h+i*(c/2)+c};s.exports=g},15108:(s,g,i)=>{var o=i(26099),m=function(c,l,h,a,f,p){a||(a=new o);var u=p.baseTileWidth,v=p.baseTileHeight,y=p.tilemapLayer;y&&(f||(f=y.scene.cameras.main),l=l-(y.y+f.scrollY*(1-y.scrollFactorY)),v*=y.scaleY,c=c-(y.x+f.scrollX*(1-y.scrollFactorX)),u*=y.scaleX);var x=h?Math.floor(l/(v/2)):l/(v/2),b=h?Math.floor((c+x%2*.5*u)/u):(c+x%2*.5*u)/u;return a.set(b,x)};s.exports=m},51900:s=>{var g=function(i,o,m,c){var l=c.baseTileHeight,h=c.tilemapLayer;return h&&(m||(m=h.scene.cameras.main),i=i-(h.y+m.scrollY*(1-h.scrollFactorY)),l*=h.scaleY),o?Math.floor(i/(l/2)):i/(l/2)};s.exports=g},86560:(s,g,i)=>{var o=i(7386),m=function(c,l,h,a,f,p,u){for(var v=o(h,a,f,p,null,u),y=0;y<v.length;y++)v[y]&&(v[y].index===c?v[y].index=l:v[y].index===l&&(v[y].index=c))};s.exports=m},97281:s=>{var g=function(i,o,m){var c=m.baseTileWidth,l=m.tilemapLayer,h=0;return l&&(o||(o=l.scene.cameras.main),h=l.x+o.scrollX*(1-l.scrollFactorX),c*=l.scaleX),h+i*c};s.exports=g},70326:(s,g,i)=>{var o=i(97281),m=i(29650),c=i(26099),l=function(h,a,f,p,u){return f||(f=new c(0,0)),f.x=o(h,p,u),f.y=m(a,p,u),f};s.exports=l},29650:s=>{var g=function(i,o,m){var c=m.baseTileHeight,l=m.tilemapLayer,h=0;return l&&(o||(o=l.scene.cameras.main),h=l.y+o.scrollY*(1-l.scrollFactorY),c*=l.scaleY),h+i*c};s.exports=g},77366:(s,g,i)=>{var o=i(7386),m=i(75508),c=function(l,h,a,f,p,u){if(p){var v,y=o(l,h,a,f,null,u),x=0;for(v=0;v<p.length;v++)x+=p[v].weight;if(!(x<=0))for(v=0;v<y.length;v++){for(var b=m.RND.frac()*x,w=0,C=-1,E=0;E<p.length;E++)if(w+=p[E].weight,b<=w){var T=p[E].index;C=Array.isArray(T)?T[Math.floor(m.RND.frac()*T.length)]:T;break}y[v].index=C}}};s.exports=c},10095:(s,g,i)=>{var o=i(85896),m=i(26099),c=new m,l=function(h,a,f,p){return o(h,0,a,c,f,p),c.x};s.exports=l},85896:(s,g,i)=>{var o=i(26099),m=function(c,l,h,a,f,p){h===void 0&&(h=!0),a||(a=new o);var u=p.baseTileWidth,v=p.baseTileHeight,y=p.tilemapLayer;y&&(f||(f=y.scene.cameras.main),c=c-(y.x+f.scrollX*(1-y.scrollFactorX)),l=l-(y.y+f.scrollY*(1-y.scrollFactorY)),u*=y.scaleX,v*=y.scaleY);var x=c/u,b=l/v;return h&&(x=Math.floor(x),b=Math.floor(b)),a.set(x,b)};s.exports=m},63288:(s,g,i)=>{var o=i(85896),m=i(26099),c=new m,l=function(h,a,f,p){return o(0,h,a,c,f,p),c.y};s.exports=l},81086:(s,g,i)=>{s.exports={CalculateFacesAt:i(72023),CalculateFacesWithin:i(42573),CheckIsoBounds:i(33528),Copy:i(1785),CreateFromTiles:i(78419),CullBounds:i(19545),CullTiles:i(30003),Fill:i(35137),FilterTiles:i(40253),FindByIndex:i(52692),FindTile:i(66151),ForEachTile:i(97560),GetCullTilesFunction:i(43305),GetTileAt:i(7423),GetTileAtWorldXY:i(60540),GetTileCorners:i(55826),GetTileCornersFunction:i(11758),GetTilesWithin:i(7386),GetTilesWithinShape:i(91141),GetTilesWithinWorldXY:i(96523),GetTileToWorldXFunction:i(39167),GetTileToWorldXYFunction:i(62e3),GetTileToWorldYFunction:i(5984),GetWorldToTileXFunction:i(96113),GetWorldToTileXYFunction:i(16926),GetWorldToTileYFunction:i(55762),HasTileAt:i(45091),HasTileAtWorldXY:i(24152),HexagonalCullBounds:i(90454),HexagonalCullTiles:i(9474),HexagonalGetTileCorners:i(27229),HexagonalTileToWorldXY:i(19951),HexagonalWorldToTileXY:i(86625),IsInLayerBounds:i(62991),IsometricCullTiles:i(14018),IsometricTileToWorldXY:i(14127),IsometricWorldToTileXY:i(96897),PutTileAt:i(71558),PutTileAtWorldXY:i(26303),PutTilesAt:i(14051),Randomize:i(77389),RemoveTileAt:i(63557),RemoveTileAtWorldXY:i(94178),RenderDebug:i(15533),ReplaceByIndex:i(27987),RunCull:i(32483),SetCollision:i(57068),SetCollisionBetween:i(37266),SetCollisionByExclusion:i(75661),SetCollisionByProperty:i(64740),SetCollisionFromCollisionGroup:i(63307),SetLayerCollisionIndex:i(9589),SetTileCollision:i(20576),SetTileIndexCallback:i(79583),SetTileLocationCallback:i(93254),Shuffle:i(32903),StaggeredCullBounds:i(61325),StaggeredCullTiles:i(54503),StaggeredTileToWorldXY:i(97202),StaggeredTileToWorldY:i(28054),StaggeredWorldToTileXY:i(15108),StaggeredWorldToTileY:i(51900),SwapByIndex:i(86560),TileToWorldX:i(97281),TileToWorldXY:i(70326),TileToWorldY:i(29650),WeightedRandomize:i(77366),WorldToTileX:i(10095),WorldToTileXY:i(85896),WorldToTileY:i(63288)}},91907:s=>{s.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(s,g,i)=>{var o={ORIENTATION:i(91907)};s.exports=o},62501:(s,g,i)=>{var o=i(79291),m=i(21829),c={Components:i(81086),Parsers:i(57442),Formats:i(80341),ImageCollection:i(16536),ParseToTilemap:i(31989),Tile:i(23029),Tilemap:i(49075),TilemapCreator:i(45939),TilemapFactory:i(46029),Tileset:i(33629),TilemapLayer:i(20442),Orientation:i(91907),LayerData:i(14977),MapData:i(87010),ObjectLayer:i(48700)};c=o(!1,c,m.ORIENTATION),s.exports=c},14977:(s,g,i)=>{var o=i(83419),m=i(91907),c=i(95540),l=new o({initialize:function(a){a===void 0&&(a={}),this.name=c(a,"name","layer"),this.id=c(a,"id",0),this.x=c(a,"x",0),this.y=c(a,"y",0),this.width=c(a,"width",0),this.height=c(a,"height",0),this.tileWidth=c(a,"tileWidth",0),this.tileHeight=c(a,"tileHeight",0),this.baseTileWidth=c(a,"baseTileWidth",this.tileWidth),this.baseTileHeight=c(a,"baseTileHeight",this.tileHeight),this.orientation=c(a,"orientation",m.ORTHOGONAL),this.widthInPixels=c(a,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=c(a,"heightInPixels",this.height*this.baseTileHeight),this.alpha=c(a,"alpha",1),this.visible=c(a,"visible",!0),this.properties=c(a,"properties",[]),this.indexes=c(a,"indexes",[]),this.collideIndexes=c(a,"collideIndexes",[]),this.callbacks=c(a,"callbacks",[]),this.bodies=c(a,"bodies",[]),this.data=c(a,"data",[]),this.tilemapLayer=c(a,"tilemapLayer",null),this.hexSideLength=c(a,"hexSideLength",0),this.staggerAxis=c(a,"staggerAxis","y"),this.staggerIndex=c(a,"staggerIndex","odd")}});s.exports=l},87010:(s,g,i)=>{var o=i(83419),m=i(91907),c=i(95540),l=new o({initialize:function(a){a===void 0&&(a={}),this.name=c(a,"name","map"),this.width=c(a,"width",0),this.height=c(a,"height",0),this.infinite=c(a,"infinite",!1),this.tileWidth=c(a,"tileWidth",0),this.tileHeight=c(a,"tileHeight",0),this.widthInPixels=c(a,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=c(a,"heightInPixels",this.height*this.tileHeight),this.format=c(a,"format",null),this.orientation=c(a,"orientation",m.ORTHOGONAL),this.renderOrder=c(a,"renderOrder","right-down"),this.version=c(a,"version","1"),this.properties=c(a,"properties",{}),this.layers=c(a,"layers",[]),this.images=c(a,"images",[]),this.objects=c(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=c(a,"collision",{}),this.tilesets=c(a,"tilesets",[]),this.imageCollections=c(a,"imageCollections",[]),this.tiles=c(a,"tiles",[]),this.hexSideLength=c(a,"hexSideLength",0),this.staggerAxis=c(a,"staggerAxis","y"),this.staggerIndex=c(a,"staggerIndex","odd")}});s.exports=l},48700:(s,g,i)=>{var o=i(83419),m=i(95540),c=new o({initialize:function(h){h===void 0&&(h={}),this.name=m(h,"name","object layer"),this.id=m(h,"id",0),this.opacity=m(h,"opacity",1),this.properties=m(h,"properties",{}),this.propertyTypes=m(h,"propertytypes",{}),this.type=m(h,"type","objectgroup"),this.visible=m(h,"visible",!0),this.objects=m(h,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});s.exports=c},6641:(s,g,i)=>{var o=i(91907),m=function(c){return c=c.toLowerCase(),c==="isometric"?o.ISOMETRIC:c==="staggered"?o.STAGGERED:c==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};s.exports=m},46177:(s,g,i)=>{var o=i(80341),m=i(2342),c=i(82593),l=i(46594),h=i(87021),a=function(f,p,u,v,y,x){var b;switch(p){case o.ARRAY_2D:b=m(f,u,v,y,x);break;case o.CSV:b=c(f,u,v,y,x);break;case o.TILED_JSON:b=l(f,u,x);break;case o.WELTMEISTER:b=h(f,u,x);break;default:console.warn("Unrecognized tilemap data format: "+p),b=null}return b};s.exports=a},2342:(s,g,i)=>{var o=i(80341),m=i(14977),c=i(87010),l=i(23029),h=function(a,f,p,u,v){for(var y=new m({tileWidth:p,tileHeight:u}),x=new c({name:a,tileWidth:p,tileHeight:u,format:o.ARRAY_2D,layers:[y]}),b=[],w=f.length,C=0,E=0;E<f.length;E++){b[E]=[];for(var T=f[E],k=0;k<T.length;k++){var A=parseInt(T[k],10);isNaN(A)||A===-1?b[E][k]=v?null:new l(y,-1,k,E,p,u):b[E][k]=new l(y,A,k,E,p,u)}C===0&&(C=T.length)}return x.width=y.width=C,x.height=y.height=w,x.widthInPixels=y.widthInPixels=C*p,x.heightInPixels=y.heightInPixels=w*u,y.data=b,x};s.exports=h},82593:(s,g,i)=>{var o=i(80341),m=i(2342),c=function(l,h,a,f,p){var u=h.trim().split(`
`).map(function(y){return y.split(",")}),v=m(l,u,a,f,p);return v.format=o.CSV,v};s.exports=c},6656:(s,g,i)=>{var o=i(14977),m=i(23029),c=function(l,h){for(var a=[],f=0;f<l.layer.length;f++){for(var p=l.layer[f],u=new o({name:p.name,width:p.width,height:p.height,tileWidth:p.tilesize,tileHeight:p.tilesize,visible:p.visible===1}),v=[],y=[],x=0;x<p.data.length;x++){for(var b=0;b<p.data[x].length;b++){var w=p.data[x][b]-1,C;w>-1?C=new m(u,w,b,x,p.tilesize,p.tilesize):C=h?null:new m(u,-1,b,x,p.tilesize,p.tilesize),v.push(C)}y.push(v),v=[]}u.data=y,a.push(u)}return a};s.exports=c},96483:(s,g,i)=>{var o=i(33629),m=function(c){for(var l=[],h=[],a=0;a<c.layer.length;a++){var f=c.layer[a],p=f.tilesetName;p!==""&&h.indexOf(p)===-1&&(h.push(p),l.push(new o(p,0,f.tilesize,f.tilesize,0,0)))}return l};s.exports=m},87021:(s,g,i)=>{var o=i(80341),m=i(87010),c=i(6656),l=i(96483),h=function(a,f,p){if(f.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+a),null;for(var u=0,v=0,y=0;y<f.layer.length;y++)f.layer[y].width>u&&(u=f.layer[y].width),f.layer[y].height>v&&(v=f.layer[y].height);var x=new m({width:u,height:v,name:a,tileWidth:f.layer[0].tilesize,tileHeight:f.layer[0].tilesize,format:o.WELTMEISTER});return x.layers=c(f,p),x.tilesets=l(f),x};s.exports=h},52833:(s,g,i)=>{s.exports={ParseTileLayers:i(6656),ParseTilesets:i(96483),ParseWeltmeister:i(87021)}},57442:(s,g,i)=>{s.exports={FromOrientationString:i(6641),Parse:i(46177),Parse2DArray:i(2342),ParseCSV:i(82593),Impact:i(52833),Tiled:i(96761)}},51233:(s,g,i)=>{var o=i(79291),m=function(c){for(var l,h,a,f,p,u=0;u<c.layers.length;u++){l=c.layers[u],f=null;for(var v=0;v<l.data.length;v++){p=l.data[v];for(var y=0;y<p.length;y++)h=p[y],!(h===null||h.index<0)&&(a=c.tiles[h.index][2],f=c.tilesets[a],h.width=f.tileWidth,h.height=f.tileHeight,f.tileProperties&&f.tileProperties[h.index-f.firstgid]&&(h.properties=o(h.properties,f.tileProperties[h.index-f.firstgid])))}}};s.exports=m},41868:s=>{var g=function(i){for(var o=window.atob(i),m=o.length,c=new Array(m/4),l=0;l<m;l+=4)c[l/4]=(o.charCodeAt(l)|o.charCodeAt(l+1)<<8|o.charCodeAt(l+2)<<16|o.charCodeAt(l+3)<<24)>>>0;return c};s.exports=g},84101:(s,g,i)=>{var o=i(33629),m=function(c){var l,h,a=[];for(l=0;l<c.imageCollections.length;l++)for(var f=c.imageCollections[l],p=f.images,u=0;u<p.length;u++){var v=p[u];h=new o(v.image,v.gid,f.imageWidth,f.imageHeight,0,0),h.updateTileData(f.imageWidth,f.imageHeight),c.tilesets.push(h)}for(l=0;l<c.tilesets.length;l++){h=c.tilesets[l];for(var y=h.tileMargin,x=h.tileMargin,b=0,w=0,C=0,E=h.firstgid;E<h.firstgid+h.total&&(a[E]=[y,x,l],y+=h.tileWidth+h.tileSpacing,b++,!(b===h.total||(w++,w===h.columns&&(y=h.tileMargin,x+=h.tileHeight+h.tileSpacing,w=0,C++,C===h.rows))));E++);}return a};s.exports=m},79677:(s,g,i)=>{var o=i(95540),m=function(c,l,h){if(!l)return{i:0,layers:c.layers,name:"",opacity:1,visible:!0,x:0,y:0};var a=l.x+o(l,"startx",0)*c.tilewidth+o(l,"offsetx",0),f=l.y+o(l,"starty",0)*c.tileheight+o(l,"offsety",0);return{i:0,layers:l.layers,name:h.name+l.name+"/",opacity:h.opacity*l.opacity,visible:h.visible&&l.visible,x:h.x+a,y:h.y+f}};s.exports=m},29920:s=>{var g=2147483648,i=1073741824,o=536870912,m=function(c){var l=!!(c&g),h=!!(c&i),a=!!(c&o);c=c&~(g|i|o);var f=0,p=!1;return l&&h&&a?(f=Math.PI/2,p=!0):l&&h&&!a?(f=Math.PI,p=!1):l&&!h&&a?(f=Math.PI/2,p=!1):l&&!h&&!a?(f=0,p=!0):!l&&h&&a?(f=3*Math.PI/2,p=!1):!l&&h&&!a?(f=Math.PI,p=!0):!l&&!h&&a?(f=3*Math.PI/2,p=!0):!l&&!h&&!a&&(f=0,p=!1),{gid:c,flippedHorizontal:l,flippedVertical:h,flippedAntiDiagonal:a,rotation:f,flipped:p}};s.exports=m},12635:(s,g,i)=>{var o=i(95540),m=i(79677),c=function(l){for(var h=[],a=[],f=m(l);f.i<f.layers.length||a.length>0;){if(f.i>=f.layers.length){if(a.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=a.pop();continue}var p=f.layers[f.i];if(f.i++,p.type!=="imagelayer"){if(p.type==="group"){var u=m(l,p,f);a.push(f),f=u}continue}var v=o(p,"offsetx",0)+o(p,"startx",0),y=o(p,"offsety",0)+o(p,"starty",0);h.push({name:f.name+p.name,image:p.image,x:f.x+v+p.x,y:f.y+y+p.y,alpha:f.opacity*p.opacity,visible:f.visible&&p.visible,properties:o(p,"properties",{})})}return h};s.exports=c},46594:(s,g,i)=>{var o=i(51233),m=i(84101),c=i(91907),l=i(62644),h=i(80341),a=i(6641),f=i(87010),p=i(12635),u=i(22611),v=i(28200),y=i(24619),x=function(b,w,C){var E=l(w),T=new f({width:E.width,height:E.height,name:b,tileWidth:E.tilewidth,tileHeight:E.tileheight,orientation:a(E.orientation),format:h.TILED_JSON,version:E.version,properties:E.properties,renderOrder:E.renderorder,infinite:E.infinite});T.orientation===c.HEXAGONAL&&(T.hexSideLength=E.hexsidelength,T.staggerAxis=E.staggeraxis,T.staggerIndex=E.staggerindex),T.layers=v(E,C),T.images=p(E);var k=y(E);return T.tilesets=k.tilesets,T.imageCollections=k.imageCollections,T.objects=u(E),T.tiles=m(T),o(T),T};s.exports=x},52205:(s,g,i)=>{var o=i(18254),m=i(29920),c=function(a){return{x:a.x,y:a.y}},l=["id","name","type","rotation","properties","visible","x","y","width","height"],h=function(a,f,p){f===void 0&&(f=0),p===void 0&&(p=0);var u=o(a,l);if(u.x+=f,u.y+=p,a.gid){var v=m(a.gid);u.gid=v.gid,u.flippedHorizontal=v.flippedHorizontal,u.flippedVertical=v.flippedVertical,u.flippedAntiDiagonal=v.flippedAntiDiagonal}else a.polyline?u.polyline=a.polyline.map(c):a.polygon?u.polygon=a.polygon.map(c):a.ellipse?u.ellipse=a.ellipse:a.text?u.text=a.text:a.point?u.point=!0:u.rectangle=!0;return u};s.exports=h},22611:(s,g,i)=>{var o=i(95540),m=i(52205),c=i(48700),l=i(79677),h=function(a){for(var f=[],p=[],u=l(a);u.i<u.layers.length||p.length>0;){if(u.i>=u.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=p.pop();continue}var v=u.layers[u.i];if(u.i++,v.opacity*=u.opacity,v.visible=u.visible&&v.visible,v.type!=="objectgroup"){if(v.type==="group"){var y=l(a,v,u);p.push(u),u=y}continue}v.name=u.name+v.name;for(var x=u.x+o(v,"startx",0)+o(v,"offsetx",0),b=u.y+o(v,"starty",0)+o(v,"offsety",0),w=[],C=0;C<v.objects.length;C++){var E=m(v.objects[C],x,b);w.push(E)}var T=new c(v);T.objects=w,f.push(T)}return f};s.exports=h},28200:(s,g,i)=>{var o=i(41868),m=i(91907),c=i(79677),l=i(6641),h=i(95540),a=i(14977),f=i(29920),p=i(23029),u=function(v,y){for(var x=h(v,"infinite",!1),b=[],w=[],C=c(v);C.i<C.layers.length||w.length>0;){if(C.i>=C.layers.length){if(w.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}C=w.pop();continue}var E=C.layers[C.i];if(C.i++,E.type!=="tilelayer"){if(E.type==="group"){var T=c(v,E,C);w.push(C),C=T}continue}if(E.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+E.name+"'");continue}else if(E.encoding&&E.encoding==="base64"){if(E.chunks)for(var k=0;k<E.chunks.length;k++)E.chunks[k].data=o(E.chunks[k].data);E.data&&(E.data=o(E.data)),delete E.encoding}var A,I,B,M,O=[],P=0;if(x){var L=h(E,"startx",0)+E.x,_=h(E,"starty",0)+E.y;A=new a({name:C.name+E.name,id:E.id,x:C.x+h(E,"offsetx",0)+L*v.tilewidth,y:C.y+h(E,"offsety",0)+_*v.tileheight,width:E.width,height:E.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:C.opacity*E.opacity,visible:C.visible&&E.visible,properties:h(E,"properties",[]),orientation:l(v.orientation)}),A.orientation===m.HEXAGONAL&&(A.hexSideLength=v.hexsidelength,A.staggerAxis=v.staggeraxis,A.staggerIndex=v.staggerindex);for(var G=0;G<E.height;G++){O[G]=[null];for(var $=0;$<E.width;$++)O[G][$]=null}for(G=0,Q=E.chunks.length;G<Q;G++)for(var W=E.chunks[G],Y=W.x-L,z=W.y-_,F=0,N=0,j=W.data.length;N<j;N++){var U=P+Y,V=F+z;I=f(W.data[N]),I.gid>0?(B=new p(A,I.gid,U,V,v.tilewidth,v.tileheight),B.rotation=I.rotation,B.flipX=I.flipped,O[V][U]=B):(M=y?null:new p(A,-1,U,V,v.tilewidth,v.tileheight),O[V][U]=M),P++,P===W.width&&(F++,P=0)}}else{A=new a({name:C.name+E.name,id:E.id,x:C.x+h(E,"offsetx",0)+E.x,y:C.y+h(E,"offsety",0)+E.y,width:E.width,height:E.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:C.opacity*E.opacity,visible:C.visible&&E.visible,properties:h(E,"properties",[]),orientation:l(v.orientation)}),A.orientation===m.HEXAGONAL&&(A.hexSideLength=v.hexsidelength,A.staggerAxis=v.staggeraxis,A.staggerIndex=v.staggerindex);for(var q=[],ot=0,Q=E.data.length;ot<Q;ot++)I=f(E.data[ot]),I.gid>0?(B=new p(A,I.gid,P,O.length,v.tilewidth,v.tileheight),B.rotation=I.rotation,B.flipX=I.flipped,q.push(B)):(M=y?null:new p(A,-1,P,O.length,v.tilewidth,v.tileheight),q.push(M)),P++,P===E.width&&(O.push(q),P=0,q=[])}A.data=O,b.push(A)}return b};s.exports=u},24619:(s,g,i)=>{var o=i(33629),m=i(16536),c=i(52205),l=i(57880),h=function(a){for(var f=[],p=[],u=null,v,y=0;y<a.tilesets.length;y++){var x=a.tilesets[y];if(x.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(x.image){var b=new o(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,void 0,void 0,x.tileoffset);if(a.version>1){var w=void 0,C=void 0;if(Array.isArray(x.tiles)){w=w||{},C=C||{};for(var E=0;E<x.tiles.length;E++){var T=x.tiles[E];if(T.properties){var k={};T.properties.forEach(function(G){k[G.name]=G.value}),C[T.id]=k}if(T.objectgroup&&((w[T.id]||(w[T.id]={})).objectgroup=T.objectgroup,T.objectgroup.objects)){var A=T.objectgroup.objects.map(function(G){return c(G)});w[T.id].objectgroup.objects=A}T.animation&&((w[T.id]||(w[T.id]={})).animation=T.animation),T.type&&((w[T.id]||(w[T.id]={})).type=T.type)}}Array.isArray(x.wangsets)&&(w=w||{},C=C||{},l(x.wangsets,w)),w&&(b.tileData=w,b.tileProperties=C)}else if(x.tileproperties&&(b.tileProperties=x.tileproperties),x.tiles){b.tileData=x.tiles;for(v in b.tileData){var I=b.tileData[v].objectgroup;if(I&&I.objects){var B=I.objects.map(function(G){return c(G)});b.tileData[v].objectgroup.objects=B}}}b.updateTileData(x.imagewidth,x.imageheight),f.push(b)}else{var M=new m(x.name,x.firstgid,x.tilewidth,x.tileheight,x.margin,x.spacing,x.properties),O=0;for(E=0;E<x.tiles.length;E++){T=x.tiles[E];var P=T.image,L=parseInt(T.id,10),_=x.firstgid+L;M.addImage(_,P),O=Math.max(L,O)}M.maxId=O,p.push(M)}u&&(u.lastgid=x.firstgid-1),u=x}return{tilesets:f,imageCollections:p}};s.exports=h},57880:s=>{var g=function(i,o){for(var m=0;m<i.length;m++){var c=i[m],l=m;if(c.name&&c.name!==""&&(l=c.name),Array.isArray(c.wangtiles)&&c.wangtiles.length>0){var h={},a={},f,p,u;if(Array.isArray(c.edgecolors))for(f=0;f<c.edgecolors.length;f++)u=1+f,p=c.edgecolors[f],p.name!==""&&(h[u]=p.name);if(Array.isArray(c.cornercolors))for(f=0;f<c.cornercolors.length;f++)u=1+f,p=c.cornercolors[f],p.name!==""&&(a[u]=p.name);if(Array.isArray(c.colors))for(f=0;f<c.colors.length;f++)p=c.colors[f],u=1+f,p.name!==""&&(h[u]=a[u]=p.name);for(var v=[h,a,h,a,h,a,h,a],y=0;y<c.wangtiles.length;y++){var x=c.wangtiles[y],b=o[x.tileid]||(o[x.tileid]={});b=b.wangid||(b.wangid={});for(var w=[],C=0;C<Math.min(v.length,x.wangid.length);C++){if(p=x.wangid[C],p===0){w.push(void 0);continue}var E=v[C][p];if(E!==void 0){w.push(E);continue}w.push(p)}b[l]=w}}}};s.exports=g},96761:(s,g,i)=>{s.exports={AssignTileProperties:i(51233),Base64Decode:i(41868),BuildTilesetIndex:i(84101),CreateGroupLayer:i(79677),ParseGID:i(29920),ParseImageLayers:i(12635),ParseJSONTiled:i(46594),ParseObject:i(52205),ParseObjectLayers:i(22611),ParseTileLayers:i(28200),ParseTilesets:i(24619)}},33385:(s,g,i)=>{var o=i(83419),m=i(37277),c=i(44594),l=i(94880),h=i(72905),a=new o({initialize:function(p){this.scene=p,this.systems=p.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],p.sys.events.once(c.BOOT,this.boot,this),p.sys.events.on(c.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var f=this.systems.events;f.on(c.PRE_UPDATE,this.preUpdate,this),f.on(c.UPDATE,this.update,this),f.once(c.SHUTDOWN,this.shutdown,this)},addEvent:function(f){var p;return f instanceof l?(p=f,this.removeEvent(p),p.elapsed=p.startAt,p.hasDispatched=!1,p.repeatCount=p.repeat===-1||p.loop?999999999999:p.repeat):p=new l(f),this._pendingInsertion.push(p),p},delayedCall:function(f,p,u,v){return this.addEvent({delay:f,callback:p,args:u,callbackScope:v})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(f){Array.isArray(f)||(f=[f]);for(var p=0;p<f.length;p++){var u=f[p];h(this._pendingRemoval,u),h(this._pendingInsertion,u),h(this._active,u)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var f=this._pendingRemoval.length,p=this._pendingInsertion.length;if(!(f===0&&p===0)){var u,v;for(u=0;u<f;u++){v=this._pendingRemoval[u];var y=this._active.indexOf(v);y>-1&&this._active.splice(y,1),v.destroy()}for(u=0;u<p;u++)v=this._pendingInsertion[u],this._active.push(v);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(f,p){if(this.now=f,!this.paused){p*=this.timeScale;for(var u=0;u<this._active.length;u++){var v=this._active[u];if(!v.paused&&(v.elapsed+=p*v.timeScale,v.elapsed>=v.delay)){var y=v.elapsed-v.delay;if(v.elapsed=v.delay,!v.hasDispatched&&v.callback&&(v.hasDispatched=!0,v.callback.apply(v.callbackScope,v.args)),v.repeatCount>0){if(v.repeatCount--,y>=v.delay)for(;y>=v.delay&&v.repeatCount>0;)v.callback&&v.callback.apply(v.callbackScope,v.args),y-=v.delay,v.repeatCount--;v.elapsed=y,v.hasDispatched=!1}else v.hasDispatched&&this._pendingRemoval.push(v)}}}},shutdown:function(){var f;for(f=0;f<this._pendingInsertion.length;f++)this._pendingInsertion[f].destroy();for(f=0;f<this._active.length;f++)this._active[f].destroy();for(f=0;f<this._pendingRemoval.length;f++)this._pendingRemoval[f].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var p=this.systems.events;p.off(c.PRE_UPDATE,this.preUpdate,this),p.off(c.UPDATE,this.update,this),p.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});m.register("Clock",a,"time"),s.exports=a},96120:(s,g,i)=>{var o=i(83419),m=i(50792),c=i(39429),l=i(95540),h=i(44594),a=i(89809),f=new o({Extends:m,initialize:function(u,v){m.call(this),this.scene=u,this.systems=u.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var y=this.systems.events;y.on(h.PRE_UPDATE,this.preUpdate,this),y.on(h.UPDATE,this.update,this),y.once(h.SHUTDOWN,this.destroy,this),v&&this.add(v)},preUpdate:function(p,u){this.paused||(this.elapsed+=u)},update:function(){if(!(this.paused||this.complete)){var p,u=this.events,v=!1,y=this.systems,x;for(p=0;p<u.length;p++){var b=u[p];if(!b.complete&&b.time<=this.elapsed){if(b.complete=!0,this.totalComplete++,x=b.target?b.target:this,b.if&&!b.if.call(x,b))continue;if(b.once&&(v=!0),b.set&&b.target)for(var w in b.set)b.target[w]=b.set[w];this.iteration&&b.repeat++,b.loop&&b.repeat&&b.loop.call(x),b.tween&&y.tweens.add(b.tween),b.sound&&(typeof b.sound=="string"?y.sound.play(b.sound):y.sound.play(b.sound.key,b.sound.config)),b.event&&this.emit(b.event,x),b.run&&b.run.call(x),b.stop&&this.stop()}}if(v)for(p=0;p<u.length;p++)u[p].complete&&u[p].once&&(u.splice(p,1),p--);this.totalComplete>=u.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(a.COMPLETE,this)}},play:function(p){return p===void 0&&(p=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,p&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(p){return(p===void 0||p===!0)&&(p=-1),p===!1&&(p=0),this.loop=p,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(p){p===void 0&&(p=!1),this.elapsed=0,p||(this.iteration=0);for(var u=0;u<this.events.length;u++)this.events[u].complete=!1,p||(this.events[u].repeat=0);return this.play(!1)},add:function(p){Array.isArray(p)||(p=[p]);var u=this.events,v=0;u.length>0&&(v=u[u.length-1].time);for(var y=0;y<p.length;y++){var x=p[y],b=l(x,"at",0),w=l(x,"in",null);w!==null&&(b=this.elapsed+w);var C=l(x,"from",null);C!==null&&(b=v+C),u.push({complete:!1,time:b,repeat:0,if:l(x,"if",null),run:l(x,"run",null),loop:l(x,"loop",null),event:l(x,"event",null),target:l(x,"target",null),set:l(x,"set",null),tween:l(x,"tween",null),sound:l(x,"sound",null),once:l(x,"once",!1),stop:l(x,"stop",!1)}),v=b}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var p=Math.min(this.totalComplete,this.events.length);return p/this.events.length},destroy:function(){var p=this.systems.events;p.off(h.PRE_UPDATE,this.preUpdate,this),p.off(h.UPDATE,this.update,this),p.off(h.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});c.register("timeline",function(p){return new f(this.scene,p)}),s.exports=f},94880:(s,g,i)=>{var o=i(83419),m=i(95540),c=new o({initialize:function(h){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(h)},reset:function(l){if(this.delay=m(l,"delay",0),this.repeat=m(l,"repeat",0),this.loop=m(l,"loop",!1),this.callback=m(l,"callback",void 0),this.callbackScope=m(l,"callbackScope",this),this.args=m(l,"args",[]),this.timeScale=m(l,"timeScale",1),this.startAt=m(l,"startAt",0),this.paused=m(l,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var l=this.delay+this.delay*this.repeat,h=this.elapsed+this.delay*(this.repeat-this.repeatCount);return h/l}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(l){l===void 0&&(l=!1),this.elapsed=this.delay,this.hasDispatched=!l,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});s.exports=c},35945:s=>{s.exports="complete"},89809:(s,g,i)=>{s.exports={COMPLETE:i(35945)}},90291:(s,g,i)=>{s.exports={Clock:i(33385),Events:i(89809),Timeline:i(96120),TimerEvent:i(94880)}},40382:(s,g,i)=>{var o=i(72905),m=i(83419),c=i(43491),l=i(88032),h=i(37277),a=i(44594),f=i(93109),p=i(86081),u=i(8357),v=i(43960),y=i(26012),x=new m({initialize:function(w){this.scene=w,this.events=w.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(a.UPDATE,this.update,this),this.events.once(a.SHUTDOWN,this.shutdown,this)},create:function(b){Array.isArray(b)||(b=[b]);for(var w=[],C=0;C<b.length;C++){var E=b[C];E instanceof p||E instanceof v?w.push(E):Array.isArray(E.tweens)?w.push(y(this,E)):w.push(u(this,E))}return w.length===1?w[0]:w},add:function(b){var w=b,C=this.tweens;return w instanceof p||w instanceof v||(Array.isArray(w.tweens)?w=y(this,w):w=u(this,w)),C.push(w.reset()),w},addMultiple:function(b){for(var w,C=[],E=this.tweens,T=0;T<b.length;T++)w=b[T],w instanceof p||w instanceof v||(Array.isArray(w.tweens)?w=y(this,w):w=u(this,w)),E.push(w.reset()),C.push(w);return C},chain:function(b){var w=y(this,b);return this.tweens.push(w.init()),w},getChainedTweens:function(b){return b.getChainedTweens()},has:function(b){return this.tweens.indexOf(b)>-1},existing:function(b){return this.has(b)||this.tweens.push(b.reset()),this},addCounter:function(b){var w=l(this,b);return this.tweens.push(w.reset()),w},stagger:function(b,w){return f(b,w)},setLagSmooth:function(b,w){return b===void 0&&(b=1/1e-8),w===void 0&&(w=0),this.maxLag=b,this.lagSkip=Math.min(w,this.maxLag),this},setFps:function(b){return b===void 0&&(b=240),this.gap=1e3/b,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(b){var w=Date.now()-this.prevTime;w>this.maxLag&&(this.startTime+=w-this.lagSkip),this.prevTime+=w;var C=this.prevTime-this.startTime,E=C-this.nextTime,T=C-this.time*1e3;return E>0||b?(C/=1e3,this.time=C,this.nextTime+=E+(E>=this.gap?4:this.gap-E)):T=0,T},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(b){b===void 0&&(b=!1);var w=this.getDelta(b);if(!(w<=0)){this.processing=!0;var C,E,T=[],k=this.tweens;for(C=0;C<k.length;C++)E=k[C],E.update(w)&&T.push(E);var A=T.length;if(A&&k.length>0){for(C=0;C<A;C++){E=T[C];var I=k.indexOf(E);I>-1&&(E.isPendingRemove()||E.isDestroyed())&&(k.splice(I,1),E.destroy())}T.length=0}this.processing=!1}},remove:function(b){return this.processing?b.setPendingRemoveState():(o(this.tweens,b),b.setRemovedState()),this},reset:function(b){return this.existing(b),b.seek(),b.setActiveState(),this},makeActive:function(b){return this.existing(b),b.setActiveState(),this},each:function(b,w){var C,E=[null];for(C=1;C<arguments.length;C++)E.push(arguments[C]);return this.tweens.forEach(function(T){E[0]=T,b.apply(w,E)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(b){var w=[],C=this.tweens;Array.isArray(b)?b=c(b):b=[b];for(var E=b.length,T=0;T<C.length;T++)for(var k=C[T],A=0;A<E;A++)!k.isDestroyed()&&k.hasTarget(b[A])&&w.push(k);return w},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(b){return this.timeScale=b,this},isTweening:function(b){for(var w=this.tweens,C,E=0;E<w.length;E++)if(C=w[E],C.isPlaying()&&C.hasTarget(b))return!0;return!1},killAll:function(){for(var b=this.processing?this.getTweens():this.tweens,w=0;w<b.length;w++)b[w].destroy();return this.processing||(b.length=0),this},killTweensOf:function(b){for(var w=this.getTweensOf(b),C=0;C<w.length;C++)w[C].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(a.UPDATE,this.update,this),this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.events=null}});h.register("TweenManager",x,"tweens"),s.exports=x},57355:s=>{var g=function(i,o,m){return i&&i.hasOwnProperty(o)?i[o]:m};s.exports=g},6113:(s,g,i)=>{var o=i(62640),m=i(35355),c=function(l,h){var a=o.Power0;if(typeof l=="string")if(o.hasOwnProperty(l))a=o[l];else{var f="";if(l.indexOf(".")){f=l.substring(l.indexOf(".")+1);var p=f.toLowerCase();p==="in"?f="easeIn":p==="out"?f="easeOut":p==="inout"&&(f="easeInOut")}l=m(l.substring(0,l.indexOf(".")+1)+f),o.hasOwnProperty(l)&&(a=o[l])}else typeof l=="function"&&(a=l);if(!h)return a;var u=h.slice(0);return u.unshift(0),function(v){return u[0]=v,a.apply(this,u)}};s.exports=c},91389:(s,g,i)=>{var o=i(89318),m=i(77259),c=i(28392),l={bezier:o,catmull:m,catmullrom:m,linear:c},h=function(a){if(a===null)return null;var f=l.linear;return typeof a=="string"?l.hasOwnProperty(a)&&(f=l[a]):typeof a=="function"&&(f=a),f};s.exports=h},55292:s=>{var g=function(i,o,m){var c;if(i.hasOwnProperty(o)){var l=typeof i[o];l==="function"?c=function(h,a,f,p,u,v){return i[o](h,a,f,p,u,v)}:c=function(){return i[o]}}else typeof m=="function"?c=m:c=function(){return m};return c};s.exports=g},82985:(s,g,i)=>{var o=i(81076),m=function(c){var l,h=[];if(c.hasOwnProperty("props"))for(l in c.props)l.substring(0,1)!=="_"&&h.push({key:l,value:c.props[l]});else for(l in c)o.indexOf(l)===-1&&l.substring(0,1)!=="_"&&h.push({key:l,value:c[l]});return h};s.exports=m},62329:(s,g,i)=>{var o=i(35154),m=function(c){var l=o(c,"targets",null);return l===null||(typeof l=="function"&&(l=l.call()),Array.isArray(l)||(l=[l])),l};s.exports=m},17777:(s,g,i)=>{var o=i(30976),m=i(99472);function c(p){return!!p.getActive&&typeof p.getActive=="function"}function l(p){return!!p.getStart&&typeof p.getStart=="function"}function h(p){return!!p.getEnd&&typeof p.getEnd=="function"}function a(p){return l(p)||h(p)||c(p)}var f=function(p,u){var v,y=function(W,Y,z){return z},x=function(W,Y,z){return z},b=null,w=typeof u;if(w==="number")y=function(){return u};else if(Array.isArray(u))x=function(){return u[0]},y=function(){return u[u.length-1]};else if(w==="string"){var C=u.toLowerCase(),E=C.substring(0,6)==="random",T=C.substring(0,3)==="int";if(E||T){var k=C.indexOf("("),A=C.indexOf(")"),I=C.indexOf(",");if(k&&A&&I){var B=parseFloat(C.substring(k+1,I)),M=parseFloat(C.substring(I+1,A));E?y=function(){return m(B,M)}:y=function(){return o(B,M)}}else throw new Error("invalid random() format")}else{C=C[0];var O=parseFloat(u.substr(2));switch(C){case"+":y=function(W,Y,z){return z+O};break;case"-":y=function(W,Y,z){return z-O};break;case"*":y=function(W,Y,z){return z*O};break;case"/":y=function(W,Y,z){return z/O};break;default:y=function(){return parseFloat(u)}}}}else if(w==="function")y=u;else if(w==="object")if(a(u))c(u)&&(b=u.getActive),h(u)&&(y=u.getEnd),l(u)&&(x=u.getStart);else if(u.hasOwnProperty("value"))v=f(p,u.value);else{var P=u.hasOwnProperty("to"),L=u.hasOwnProperty("from"),_=u.hasOwnProperty("start");if(P&&(L||_)){if(v=f(p,u.to),_){var G=f(p,u.start);v.getActive=G.getEnd}if(L){var $=f(p,u.from);v.getStart=$.getEnd}}}return v||(v={getActive:b,getEnd:y,getStart:x}),v};s.exports=f},88032:(s,g,i)=>{var o=i(70402),m=i(69902),c=i(23568),l=i(57355),h=i(6113),a=i(55292),f=i(35154),p=i(17777),u=i(269),v=i(86081),y=function(x,b,w){if(b instanceof v)return b.parent=x,b;w===void 0?w=m:w=u(m,w);var C=f(b,"from",0),E=f(b,"to",1),T=[{value:C}],k=f(b,"delay",w.delay),A=f(b,"easeParams",w.easeParams),I=f(b,"ease",w.ease),B=p("value",E),M=new v(x,T),O=M.add(0,"value",B.getEnd,B.getStart,B.getActive,h(f(b,"ease",I),f(b,"easeParams",A)),a(b,"delay",k),f(b,"duration",w.duration),l(b,"yoyo",w.yoyo),f(b,"hold",w.hold),f(b,"repeat",w.repeat),f(b,"repeatDelay",w.repeatDelay),!1,!1);O.start=C,O.current=C,M.completeDelay=c(b,"completeDelay",0),M.loop=Math.round(c(b,"loop",0)),M.loopDelay=Math.round(c(b,"loopDelay",0)),M.paused=l(b,"paused",!1),M.persist=l(b,"persist",!1),M.callbackScope=f(b,"callbackScope",M);for(var P=o.TYPES,L=0;L<P.length;L++){var _=P[L],G=f(b,_,!1);if(G){var $=f(b,_+"Params",[]);M.setCallback(_,G,$)}}return M};s.exports=y},93109:(s,g,i)=>{var o=i(6113),m=i(35154),c=i(36383),l=function(h,a){a===void 0&&(a={});var f,p=m(a,"start",0),u=m(a,"ease",null),v=m(a,"grid",null),y=m(a,"from",0),x=y==="first",b=y==="center",w=y==="last",C=typeof y=="number",E=Array.isArray(h),T=parseFloat(E?h[0]:h),k=E?parseFloat(h[1]):0,A=Math.max(T,k);if(E&&(p+=T),v){var I=v[0],B=v[1],M=0,O=0,P=0,L=0,_=[];w?(M=I-1,O=B-1):C?(M=y%I,O=Math.floor(y/I)):b&&(M=(I-1)/2,O=(B-1)/2);for(var G=c.MIN_SAFE_INTEGER,$=0;$<B;$++){_[$]=[];for(var W=0;W<I;W++){P=M-W,L=O-$;var Y=Math.sqrt(P*P+L*L);Y>G&&(G=Y),_[$][W]=Y}}}var z=u?o(u):null;return v?f=function(F,N,j,U){var V=0,q=U%I,ot=Math.floor(U/I);q>=0&&q<I&&ot>=0&&ot<B&&(V=_[ot][q]);var Q;if(E){var rt=k-T;z?Q=V/G*rt*z(V/G):Q=V/G*rt}else z?Q=V*T*z(V/G):Q=V*T;return Q+p}:f=function(F,N,j,U,V){V--;var q;x?q=U:b?q=Math.abs(V/2-U):w?q=V-U:C&&(q=Math.abs(y-U));var ot;if(E){var Q;b?Q=(k-T)/V*(q*2):Q=(k-T)/V*q,z?ot=Q*z(q/V):ot=Q}else z?ot=V*A*z(q/V):ot=q*T;return ot+p},f};s.exports=l},8357:(s,g,i)=>{var o=i(70402),m=i(69902),c=i(23568),l=i(57355),h=i(6113),a=i(91389),f=i(55292),p=i(82985),u=i(62329),v=i(35154),y=i(17777),x=i(269),b=i(86081),w=function(C,E,T){if(E instanceof b)return E.parent=C,E;T===void 0?T=m:T=x(m,T);var k=u(E);!k&&T.targets&&(k=T.targets);for(var A=p(E),I=v(E,"delay",T.delay),B=v(E,"duration",T.duration),M=v(E,"easeParams",T.easeParams),O=v(E,"ease",T.ease),P=v(E,"hold",T.hold),L=v(E,"repeat",T.repeat),_=v(E,"repeatDelay",T.repeatDelay),G=l(E,"yoyo",T.yoyo),$=l(E,"flipX",T.flipX),W=l(E,"flipY",T.flipY),Y=v(E,"interpolation",T.interpolation),z=function(K,Mt,Ft,dt){if(Ft==="texture"){var yt=dt,At=void 0;Array.isArray(dt)?(yt=dt[0],At=dt[1]):dt.hasOwnProperty("value")?(yt=dt.value,Array.isArray(dt.value)?(yt=dt.value[0],At=dt.value[1]):typeof dt.value=="string"&&(yt=dt.value)):typeof dt=="string"&&(yt=dt),K.addFrame(Mt,yt,At,f(dt,"delay",I),v(dt,"duration",B),v(dt,"hold",P),v(dt,"repeat",L),v(dt,"repeatDelay",_),l(dt,"flipX",$),l(dt,"flipY",W))}else{var Ot=y(Ft,dt),le=a(v(dt,"interpolation",Y));K.add(Mt,Ft,Ot.getEnd,Ot.getStart,Ot.getActive,h(v(dt,"ease",O),v(dt,"easeParams",M)),f(dt,"delay",I),v(dt,"duration",B),l(dt,"yoyo",G),v(dt,"hold",P),v(dt,"repeat",L),v(dt,"repeatDelay",_),l(dt,"flipX",$),l(dt,"flipY",W),le,le?dt:null)}},F=new b(C,k),N=0;N<A.length;N++)for(var j=A[N].key,U=A[N].value,V=0;V<k.length;V++)j==="scale"&&!k[V].hasOwnProperty("scale")?(z(F,V,"scaleX",U),z(F,V,"scaleY",U)):z(F,V,j,U);F.completeDelay=c(E,"completeDelay",0),F.loop=Math.round(c(E,"loop",0)),F.loopDelay=Math.round(c(E,"loopDelay",0)),F.paused=l(E,"paused",!1),F.persist=l(E,"persist",!1),F.callbackScope=v(E,"callbackScope",F);for(var q=o.TYPES,ot=0;ot<q.length;ot++){var Q=q[ot],rt=v(E,Q,!1);if(rt){var Bt=v(E,Q+"Params",[]);F.setCallback(Q,rt,Bt)}}return F};s.exports=w},26012:(s,g,i)=>{var o=i(70402),m=i(23568),c=i(57355),l=i(62329),h=i(35154),a=i(8357),f=i(43960),p=function(u,v){if(v instanceof f)return v.parent=u,v;var y=new f(u);y.startDelay=h(v,"delay",0),y.completeDelay=m(v,"completeDelay",0),y.loop=Math.round(m(v,"loop",h(v,"repeat",0))),y.loopDelay=Math.round(m(v,"loopDelay",h(v,"repeatDelay",0))),y.paused=c(v,"paused",!1),y.persist=c(v,"persist",!1),y.callbackScope=h(v,"callbackScope",y);var x,b=o.TYPES;for(x=0;x<b.length;x++){var w=b[x],C=h(v,w,!1);if(C){var E=h(v,w+"Params",[]);y.setCallback(w,C,E)}}var T=h(v,"tweens",null);if(Array.isArray(T)){var k=[],A=l(v),I=void 0;for(A&&(I={targets:A}),x=0;x<T.length;x++)k.push(a(y,T[x],I));y.add(k)}return y};s.exports=p},30231:(s,g,i)=>{s.exports={GetBoolean:i(57355),GetEaseFunction:i(6113),GetInterpolationFunction:i(91389),GetNewValue:i(55292),GetProps:i(82985),GetTargets:i(62329),GetValueOp:i(17777),NumberTweenBuilder:i(88032),StaggerBuilder:i(93109),TweenBuilder:i(8357)}},73685:s=>{s.exports="active"},98540:s=>{s.exports="complete"},67233:s=>{s.exports="loop"},2859:s=>{s.exports="pause"},98336:s=>{s.exports="repeat"},25764:s=>{s.exports="resume"},32193:s=>{s.exports="start"},84371:s=>{s.exports="stop"},70766:s=>{s.exports="update"},55659:s=>{s.exports="yoyo"},842:(s,g,i)=>{s.exports={TWEEN_ACTIVE:i(73685),TWEEN_COMPLETE:i(98540),TWEEN_LOOP:i(67233),TWEEN_PAUSE:i(2859),TWEEN_RESUME:i(25764),TWEEN_REPEAT:i(98336),TWEEN_START:i(32193),TWEEN_STOP:i(84371),TWEEN_UPDATE:i(70766),TWEEN_YOYO:i(55659)}},43066:(s,g,i)=>{var o={States:i(86353),Builders:i(30231),Events:i(842),TweenManager:i(40382),Tween:i(86081),TweenData:i(48177),TweenFrameData:i(42220),BaseTween:i(70402),TweenChain:i(43960)};s.exports=o},70402:(s,g,i)=>{var o=i(83419),m=i(50792),c=i(842),l=i(86353),h=new o({Extends:m,initialize:function(f){m.call(this),this.parent=f,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=l.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(a){return this.timeScale=a,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(c.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(c.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(c.TWEEN_COMPLETE,"onComplete")},complete:function(a){return a===void 0&&(a=0),a?(this.setCompleteDelayState(),this.countdown=a):this.onCompleteHandler(),this},completeAfterLoop:function(a){return a===void 0&&(a=0),this.loopCounter>a&&(this.loopCounter=a),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(c.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(a){this.countdown-=a,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(a){return this.countdown-=a,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(c.TWEEN_START,"onStart"),a=0),a},updateCompleteDelay:function(a){this.countdown-=a,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(a,f,p){return p===void 0&&(p=[]),this.callbacks.hasOwnProperty(a)&&(this.callbacks[a]={func:f,params:p}),this},setPendingState:function(){this.state=l.PENDING},setActiveState:function(){this.state=l.ACTIVE},setLoopDelayState:function(){this.state=l.LOOP_DELAY},setCompleteDelayState:function(){this.state=l.COMPLETE_DELAY},setStartDelayState:function(){this.state=l.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=l.PENDING_REMOVE},setRemovedState:function(){this.state=l.REMOVED},setFinishedState:function(){this.state=l.FINISHED},setDestroyedState:function(){this.state=l.DESTROYED},isPending:function(){return this.state===l.PENDING},isActive:function(){return this.state===l.ACTIVE},isLoopDelayed:function(){return this.state===l.LOOP_DELAY},isCompleteDelayed:function(){return this.state===l.COMPLETE_DELAY},isStartDelayed:function(){return this.state===l.START_DELAY},isPendingRemove:function(){return this.state===l.PENDING_REMOVE},isRemoved:function(){return this.state===l.REMOVED},isFinished:function(){return this.state===l.FINISHED},isDestroyed:function(){return this.state===l.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(a){a.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});h.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],s.exports=h},95042:(s,g,i)=>{var o=i(83419),m=i(842),c=i(86353),l=new o({initialize:function(a,f,p,u,v,y,x,b,w,C){this.tween=a,this.targetIndex=f,this.duration=u,this.totalDuration=0,this.delay=0,this.getDelay=p,this.yoyo=v,this.hold=y,this.repeat=x,this.repeatDelay=b,this.repeatCounter=0,this.flipX=w,this.flipY=C,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(h){h===void 0&&(h=this.current),this.tween.targets[this.targetIndex][this.key]=h},setCreatedState:function(){this.state=c.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=c.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=c.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=c.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=c.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=c.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=c.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=c.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===c.CREATED},isDelayed:function(){return this.state===c.DELAY},isPendingRender:function(){return this.state===c.PENDING_RENDER},isPlayingForward:function(){return this.state===c.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===c.PLAYING_BACKWARD},isHolding:function(){return this.state===c.HOLD_DELAY},isRepeating:function(){return this.state===c.REPEAT_DELAY},isComplete:function(){return this.state===c.COMPLETE},setStateFromEnd:function(h){this.yoyo?this.onRepeat(h,!0,!0):this.repeatCounter>0?this.onRepeat(h,!0,!1):this.setCompleteState()},setStateFromStart:function(h){this.repeatCounter>0?this.onRepeat(h,!1):this.setCompleteState()},reset:function(){var h=this.tween,a=h.totalTargets,f=this.targetIndex,p=h.targets[f],u=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(p,u,0,f,a,h),this.repeatCounter=this.repeat===-1?c.MAX:this.repeat,this.setPendingRenderState();var v=this.duration+this.hold;this.yoyo&&(v+=this.duration);var y=v+this.repeatDelay;this.totalDuration=this.delay+v,this.repeat===-1?(this.totalDuration+=y*c.MAX,h.isInfinite=!0):this.repeat>0&&(this.totalDuration+=y*this.repeat),this.totalDuration>h.duration&&(h.duration=this.totalDuration),this.delay<h.startDelay&&(h.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(h,a,f){var p=this.tween,u=p.totalTargets,v=this.targetIndex,y=p.targets[v],x=this.key,b=x!=="texture";if(this.elapsed=h,this.progress=h/this.duration,this.flipX&&y.toggleFlipX(),this.flipY&&y.toggleFlipY(),b&&(a||f)&&(this.start=this.getStartValue(y,x,this.start,v,u,p)),f){this.setPlayingBackwardState(),this.dispatchEvent(m.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,b&&(this.end=this.getEndValue(y,x,this.start,v,u,p)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-h,b&&(this.current=this.start,y[x]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(m.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});s.exports=l},69902:s=>{var g={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};s.exports=g},81076:s=>{s.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(s,g,i)=>{var o=i(70402),m=i(83419),c=i(842),l=i(44603),h=i(39429),a=i(36383),f=i(86353),p=i(48177),u=i(42220),v=new m({Extends:o,initialize:function(x,b){o.call(this,x),this.targets=b,this.totalTargets=b.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(y,x,b,w,C,E,T,k,A,I,B,M,O,P,L,_){var G=new p(this,y,x,b,w,C,E,T,k,A,I,B,M,O,P,L,_);return this.totalData=this.data.push(G),G},addFrame:function(y,x,b,w,C,E,T,k,A,I){var B=new u(this,y,x,b,w,C,E,T,k,A,I);return this.totalData=this.data.push(B),B},getValue:function(y){y===void 0&&(y=0);var x=null;return this.data&&(x=this.data[y].current),x},hasTarget:function(y){return this.targets&&this.targets.indexOf(y)!==-1},updateTo:function(y,x,b){if(b===void 0&&(b=!1),y!=="texture")for(var w=0;w<this.totalData;w++){var C=this.data[w];C.key===y&&(C.isPlayingForward()||C.isPlayingBackward())&&(C.end=x,b&&(C.start=C.current))}return this},restart:function(){switch(this.state){case f.REMOVED:case f.FINISHED:this.seek(),this.parent.makeActive(this);break;case f.PENDING:case f.PENDING_REMOVE:this.parent.reset(this);break;case f.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(c.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(y,x,b){if(y===void 0&&(y=0),x===void 0&&(x=16.6),b===void 0&&(b=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;b||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive");var w=this.paused;if(this.paused=!1,y>0){for(var C=Math.floor(y/x),E=y-C*x,T=0;T<C;T++)this.update(x);E>0&&this.update(E)}return this.paused=w,this.isSeeking=!1,this},initTweenData:function(y){y===void 0&&(y=!1),this.duration=0,this.startDelay=a.MAX_SAFE_INTEGER;for(var x=this.data,b=0;b<this.totalData;b++)x[b].reset(y);this.duration=Math.max(this.duration,.01);var w=this.duration,C=this.completeDelay,E=this.loopCounter,T=this.loopDelay;E>0?this.totalDuration=w+C+(w+T)*E:this.totalDuration=w+C},reset:function(y){return y===void 0&&(y=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=f.MAX),y||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(c.TWEEN_ACTIVE,"onActive")),this},update:function(y){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(y*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(y),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(y),!1;this.hasStarted||(this.startDelay-=y,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(c.TWEEN_START,"onStart"),y=0));var x=!1;if(this.isActive())for(var b=this.data,w=0;w<this.totalData;w++)b[w].update(y)&&(x=!0);this.elapsed+=y,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=y,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),x||this.nextState();var C=this.isPendingRemove();return C&&this.persist&&(this.setFinishedState(),C=!1),C},forward:function(y){return this.update(y),this},rewind:function(y){return this.update(-y),this},dispatchEvent:function(y,x){if(!this.isSeeking){this.emit(y,this,this.targets);var b=this.callbacks[x];b&&b.func.apply(this.callbackScope,[this,this.targets].concat(b.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});h.register("tween",function(y){return this.scene.sys.tweens.add(y)}),l.register("tween",function(y){return this.scene.sys.tweens.create(y)}),s.exports=v},43960:(s,g,i)=>{var o=i(72905),m=i(70402),c=i(83419),l=i(842),h=i(44603),a=i(39429),f=i(86353),p=new c({Extends:m,initialize:function(v){m.call(this,v),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?f.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(l.TWEEN_ACTIVE,"onActive"),this},add:function(u){var v=this.parent.create(u);Array.isArray(v)||(v=[v]);for(var y=this.data,x=0;x<v.length;x++){var b=v[x];b.parent=this,y.push(b.reset())}return this.totalData=y.length,this},remove:function(u){return o(this.data,u),u.setRemovedState(),u===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(u){for(var v=this.data,y=0;y<this.totalData;y++)if(v[y].hasTarget(u))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(u){return u.seek(),u.setActiveState(),this},makeActive:function(u){return u.reset(),u.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var u=this.data,v=this.totalData,y=0;y<v;y++)u[y].reset(!1);this.currentIndex=0,this.currentTween=u[0]},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;u*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(u):this.isCompleteDelayed()?this.updateCompleteDelay(u):this.isStartDelayed()&&(u=this.updateStartCountdown(u));var v=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(u)&&this.nextTween()&&this.nextState(),v=this.isPendingRemove(),v&&this.persist&&(this.setFinishedState(),v=!1)),v},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(u){this.currentIndex=u,this.currentTween=this.data[u],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(l.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(u,v){this.emit(u,this);var y=this.callbacks[v];y&&y.func.apply(this.callbackScope,[this].concat(y.params))},destroy:function(){m.prototype.destroy.call(this),this.currentTween=null}});a.register("tweenchain",function(u){return this.scene.sys.tweens.chain(u)}),h.register("tweenchain",function(u){return this.scene.sys.tweens.create(u)}),s.exports=p},48177:(s,g,i)=>{var o=i(95042),m=i(45319),c=i(83419),l=i(842),h=new c({Extends:o,initialize:function(f,p,u,v,y,x,b,w,C,E,T,k,A,I,B,M,O){o.call(this,f,p,w,C,E,T,k,A,I,B),this.key=u,this.getActiveValue=x,this.getEndValue=v,this.getStartValue=y,this.ease=b,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=M,this.interpolationData=O},reset:function(a){o.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex],p=this.key;a&&(f[p]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(f[p]=this.getActiveValue(f,p,0))},update:function(a){var f=this.tween,p=f.totalTargets,u=this.targetIndex,v=f.targets[u],y=this.key;if(!v)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(v,y,v[y],u,p,f),this.end=this.getEndValue(v,y,this.start,u,p,f),this.current=this.start,v[y]=this.start,this.setPlayingForwardState(),!0;var x=this.isPlayingForward(),b=this.isPlayingBackward();if(x||b){var w=this.elapsed,C=this.duration,E=0,T=!1;w+=a,w>=C?(E=w-C,w=C,T=!0):w<0&&(w=0);var k=m(w/C,0,1);if(this.elapsed=w,this.progress=k,this.previous=this.current,T)x?(this.current=this.end,v[y]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(E)):(this.current=this.start,v[y]=this.start,this.setStateFromStart(E));else{x||(k=1-k);var A=this.ease(k);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,v[y]=this.current}this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,f){var p=this.tween;if(!p.isSeeking){var u=p.targets[this.targetIndex],v=this.key,y=this.current,x=this.previous;p.emit(a,p,v,u,y,x);var b=p.callbacks[f];b&&b.func.apply(p.callbackScope,[p,u,v,y,x].concat(b.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});s.exports=h},42220:(s,g,i)=>{var o=i(95042),m=i(45319),c=i(83419),l=i(842),h=new c({Extends:o,initialize:function(f,p,u,v,y,x,b,w,C,E,T){o.call(this,f,p,y,x,!1,b,w,C,E,T),this.key="texture",this.startTexture=null,this.endTexture=u,this.startFrame=null,this.endFrame=v,this.yoyo=w!==0},reset:function(a){o.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=f.texture.key,this.startFrame=f.frame.name),a&&f.setTexture(this.startTexture,this.startFrame)},update:function(a){var f=this.tween,p=this.targetIndex,u=f.targets[p];if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&u.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var v=this.isPlayingForward(),y=this.isPlayingBackward();if(v||y){var x=this.elapsed,b=this.duration,w=0,C=!1;x+=a,x>=b?(w=x-b,x=b,C=!0):x<0&&(x=0);var E=m(x/b,0,1);this.elapsed=x,this.progress=E,C&&(v?(u.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(w)):(u.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(w))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,f){var p=this.tween;if(!p.isSeeking){var u=p.targets[this.targetIndex],v=this.key;p.emit(a,p,v,u);var y=p.callbacks[f];y&&y.func.apply(p.callbackScope,[p,u,v].concat(y.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});s.exports=h},86353:s=>{var g={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};s.exports=g},83419:s=>{function g(h){return!!h.get&&typeof h.get=="function"||!!h.set&&typeof h.set=="function"}function i(h,a,f){var p=f?h[a]:Object.getOwnPropertyDescriptor(h,a);return!f&&p.value&&typeof p.value=="object"&&(p=p.value),p&&g(p)?(typeof p.enumerable=="undefined"&&(p.enumerable=!0),typeof p.configurable=="undefined"&&(p.configurable=!0),p):!1}function o(h,a){var f=Object.getOwnPropertyDescriptor(h,a);return f?(f.value&&typeof f.value=="object"&&(f=f.value),f.configurable===!1):!1}function m(h,a,f,p){for(var u in a)if(a.hasOwnProperty(u)){var v=i(a,u,f);if(v!==!1){var y=p||h;if(o(y.prototype,u)){if(l.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(h.prototype,u,v)}else h.prototype[u]=a[u]}}function c(h,a){if(a){Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++)m(h,a[f].prototype||a[f])}}function l(h){h||(h={});var a,f;if(h.initialize){if(typeof h.initialize!="function")throw new Error("initialize must be a function");a=h.initialize,delete h.initialize}else if(h.Extends){var p=h.Extends;a=function(){p.apply(this,arguments)}}else a=function(){};h.Extends?(a.prototype=Object.create(h.Extends.prototype),a.prototype.constructor=a,f=h.Extends,delete h.Extends):a.prototype.constructor=a;var u=null;return h.Mixins&&(u=h.Mixins,delete h.Mixins),c(a,u),m(a,h,!0,f),a}l.extend=m,l.mixin=c,l.ignoreFinals=!1,s.exports=l},29747:s=>{var g=function(){};s.exports=g},20242:s=>{var g=function(){return null};s.exports=g},71146:s=>{var g=function(i,o,m,c,l){if(l===void 0&&(l=i),m>0){var h=m-i.length;if(h<=0)return null}if(!Array.isArray(o))return i.indexOf(o)===-1?(i.push(o),c&&c.call(l,o),o):null;for(var a=o.length-1;a>=0;)i.indexOf(o[a])!==-1&&o.splice(a,1),a--;if(a=o.length,a===0)return null;m>0&&a>h&&(o.splice(h),a=h);for(var f=0;f<a;f++){var p=o[f];i.push(p),c&&c.call(l,p)}return o};s.exports=g},51067:s=>{var g=function(i,o,m,c,l,h){if(m===void 0&&(m=0),h===void 0&&(h=i),c>0){var a=c-i.length;if(a<=0)return null}if(!Array.isArray(o))return i.indexOf(o)===-1?(i.splice(m,0,o),l&&l.call(h,o),o):null;for(var f=o.length-1;f>=0;)i.indexOf(o[f])!==-1&&o.pop(),f--;if(f=o.length,f===0)return null;c>0&&f>a&&(o.splice(a),f=a);for(var p=f-1;p>=0;p--){var u=o[p];i.splice(m,0,u),l&&l.call(h,u)}return o};s.exports=g},66905:s=>{var g=function(i,o){var m=i.indexOf(o);return m!==-1&&m<i.length&&(i.splice(m,1),i.push(o)),o};s.exports=g},21612:(s,g,i)=>{var o=i(82011),m=function(c,l,h,a,f){a===void 0&&(a=0),f===void 0&&(f=c.length);var p=0;if(o(c,a,f))for(var u=a;u<f;u++){var v=c[u];v[l]===h&&p++}return p};s.exports=m},95428:s=>{var g=function(i,o,m){var c,l=[null];for(c=3;c<arguments.length;c++)l.push(arguments[c]);for(c=0;c<i.length;c++)l[0]=i[c],o.apply(m,l);return i};s.exports=g},36914:(s,g,i)=>{var o=i(82011),m=function(c,l,h,a,f){if(a===void 0&&(a=0),f===void 0&&(f=c.length),o(c,a,f)){var p,u=[null];for(p=5;p<arguments.length;p++)u.push(arguments[p]);for(p=a;p<f;p++)u[0]=c[p],l.apply(h,u)}return c};s.exports=m},81957:s=>{var g=function(i,o,m){if(o.length){if(o.length===1)return o[0]}else return NaN;var c=1,l,h;if(m){if(i<o[0][m])return o[0];for(;o[c][m]<i;)c++}else for(;o[c]<i;)c++;return c>o.length&&(c=o.length),m?(l=o[c-1][m],h=o[c][m],h-i<=i-l?o[c]:o[c-1]):(l=o[c-1],h=o[c],h-i<=i-l?h:l)};s.exports=g},43491:s=>{var g=function(i,o){o===void 0&&(o=[]);for(var m=0;m<i.length;m++)Array.isArray(i[m])?g(i[m],o):o.push(i[m]);return o};s.exports=g},46710:(s,g,i)=>{var o=i(82011),m=function(c,l,h,a,f){a===void 0&&(a=0),f===void 0&&(f=c.length);var p=[];if(o(c,a,f))for(var u=a;u<f;u++){var v=c[u];(!l||l&&h===void 0&&v.hasOwnProperty(l)||l&&h!==void 0&&v[l]===h)&&p.push(v)}return p};s.exports=m},58731:(s,g,i)=>{var o=i(82011),m=function(c,l,h,a,f){if(a===void 0&&(a=0),f===void 0&&(f=c.length),o(c,a,f))for(var p=a;p<f;p++){var u=c[p];if(!l||l&&h===void 0&&u.hasOwnProperty(l)||l&&h!==void 0&&u[l]===h)return u}return null};s.exports=m},26546:s=>{var g=function(i,o,m){o===void 0&&(o=0),m===void 0&&(m=i.length);var c=o+Math.floor(Math.random()*m);return i[c]===void 0?null:i[c]};s.exports=g},85835:s=>{var g=function(i,o,m){if(o===m)return i;var c=i.indexOf(o),l=i.indexOf(m);if(c<0||l<0)throw new Error("Supplied items must be elements of the same array");return c>l||(i.splice(c,1),l===i.length-1?i.push(o):i.splice(l,0,o)),i};s.exports=g},83371:s=>{var g=function(i,o,m){if(o===m)return i;var c=i.indexOf(o),l=i.indexOf(m);if(c<0||l<0)throw new Error("Supplied items must be elements of the same array");return c<l||(i.splice(c,1),l===0?i.unshift(o):i.splice(l,0,o)),i};s.exports=g},70864:s=>{var g=function(i,o){var m=i.indexOf(o);if(m>0){var c=i[m-1],l=i.indexOf(c);i[m]=c,i[l]=o}return i};s.exports=g},69693:s=>{var g=function(i,o,m){var c=i.indexOf(o);if(c===-1||m<0||m>=i.length)throw new Error("Supplied index out of bounds");return c!==m&&(i.splice(c,1),i.splice(m,0,o)),o};s.exports=g},40853:s=>{var g=function(i,o){var m=i.indexOf(o);if(m!==-1&&m<i.length-1){var c=i[m+1],l=i.indexOf(c);i[m]=c,i[l]=o}return i};s.exports=g},20283:s=>{var g=function(i,o,m,c){var l=[],h,a=!1;if((m||c)&&(a=!0,m||(m=""),c||(c="")),o<i)for(h=i;h>=o;h--)a?l.push(m+h.toString()+c):l.push(h);else for(h=i;h<=o;h++)a?l.push(m+h.toString()+c):l.push(h);return l};s.exports=g},593:(s,g,i)=>{var o=i(2284),m=function(c,l,h){c===void 0&&(c=0),l===void 0&&(l=null),h===void 0&&(h=1),l===null&&(l=c,c=0);for(var a=[],f=Math.max(o((l-c)/(h||1)),0),p=0;p<f;p++)a.push(c),c+=h;return a};s.exports=m},43886:s=>{function g(m,c,l){var h=m[c];m[c]=m[l],m[l]=h}function i(m,c){return m<c?-1:m>c?1:0}var o=function(m,c,l,h,a){for(l===void 0&&(l=0),h===void 0&&(h=m.length-1),a===void 0&&(a=i);h>l;){if(h-l>600){var f=h-l+1,p=c-l+1,u=Math.log(f),v=.5*Math.exp(2*u/3),y=.5*Math.sqrt(u*v*(f-v)/f)*(p-f/2<0?-1:1),x=Math.max(l,Math.floor(c-p*v/f+y)),b=Math.min(h,Math.floor(c+(f-p)*v/f+y));o(m,c,x,b,a)}var w=m[c],C=l,E=h;for(g(m,l,c),a(m[h],w)>0&&g(m,l,h);C<E;){for(g(m,C,E),C++,E--;a(m[C],w)<0;)C++;for(;a(m[E],w)>0;)E--}a(m[l],w)===0?g(m,l,E):(E++,g(m,E,h)),E<=c&&(l=E+1),c<=E&&(h=E-1)}};s.exports=o},88492:(s,g,i)=>{var o=i(35154),m=i(33680),c=function(h,a,f){for(var p=[],u=0;u<h.length;u++)for(var v=0;v<a.length;v++)for(var y=0;y<f;y++)p.push({a:h[u],b:a[v]});return p},l=function(h,a,f){var p=o(f,"max",0),u=o(f,"qty",1),v=o(f,"random",!1),y=o(f,"randomB",!1),x=o(f,"repeat",0),b=o(f,"yoyo",!1),w=[];if(y&&m(a),x===-1)if(p===0)x=0;else{var C=h.length*a.length*u;b&&(C*=2),x=Math.ceil(p/C)}for(var E=0;E<=x;E++){var T=c(h,a,u);v&&m(T),w=w.concat(T),b&&(T.reverse(),w=w.concat(T))}return p&&w.splice(p),w};s.exports=l},72905:(s,g,i)=>{var o=i(19133),m=function(c,l,h,a){a===void 0&&(a=c);var f;if(!Array.isArray(l))return f=c.indexOf(l),f!==-1?(o(c,f),h&&h.call(a,l),l):null;for(var p=l.length-1,u=[];p>=0;){var v=l[p];f=c.indexOf(v),f!==-1&&(o(c,f),u.push(v),h&&h.call(a,v)),p--}return u};s.exports=m},60248:(s,g,i)=>{var o=i(19133),m=function(c,l,h,a){if(a===void 0&&(a=c),l<0||l>c.length-1)throw new Error("Index out of bounds");var f=o(c,l);return h&&h.call(a,f),f};s.exports=m},81409:(s,g,i)=>{var o=i(82011),m=function(c,l,h,a,f){if(l===void 0&&(l=0),h===void 0&&(h=c.length),f===void 0&&(f=c),o(c,l,h)){var p=h-l,u=c.splice(l,p);if(a)for(var v=0;v<u.length;v++){var y=u[v];a.call(f,y)}return u}else return[]};s.exports=m},31856:(s,g,i)=>{var o=i(19133),m=function(c,l,h){l===void 0&&(l=0),h===void 0&&(h=c.length);var a=l+Math.floor(Math.random()*h);return o(c,a)};s.exports=m},42169:s=>{var g=function(i,o,m){var c=i.indexOf(o),l=i.indexOf(m);return c!==-1&&l===-1?(i[c]=m,!0):!1};s.exports=g},86003:s=>{var g=function(i,o){o===void 0&&(o=1);for(var m=null,c=0;c<o;c++)m=i.shift(),i.push(m);return m};s.exports=g},49498:s=>{var g=function(i,o){o===void 0&&(o=1);for(var m=null,c=0;c<o;c++)m=i.pop(),i.unshift(m);return m};s.exports=g},82011:s=>{var g=function(i,o,m,c){var l=i.length;if(o<0||o>l||o>=m||m>l){if(c)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};s.exports=g},89545:s=>{var g=function(i,o){var m=i.indexOf(o);return m!==-1&&m>0&&(i.splice(m,1),i.unshift(o)),o};s.exports=g},17810:(s,g,i)=>{var o=i(82011),m=function(c,l,h,a,f){if(a===void 0&&(a=0),f===void 0&&(f=c.length),o(c,a,f))for(var p=a;p<f;p++){var u=c[p];u.hasOwnProperty(l)&&(u[l]=h)}return c};s.exports=m},33680:s=>{var g=function(i){for(var o=i.length-1;o>0;o--){var m=Math.floor(Math.random()*(o+1)),c=i[o];i[o]=i[m],i[m]=c}return i};s.exports=g},90126:s=>{var g=function(i){var o=/\D/g;return i.sort(function(m,c){return parseInt(m.replace(o,""),10)-parseInt(c.replace(o,""),10)}),i};s.exports=g},19133:s=>{var g=function(i,o){if(!(o>=i.length)){for(var m=i.length-1,c=i[o],l=o;l<m;l++)i[l]=i[l+1];return i.length=m,c}};s.exports=g},19186:(s,g,i)=>{var o=i(82264);function m(a,f){return String(a).localeCompare(f)}function c(a,f){var p=a.length;if(p<=1)return a;for(var u=new Array(p),v=1;v<p;v*=2){l(a,f,v,u);var y=a;a=u,u=y}return a}function l(a,f,p,u){var v=a.length,y=0,x=p*2,b,w,C,E,T;for(b=0;b<v;b+=x)for(w=b+p,C=w+p,w>v&&(w=v),C>v&&(C=v),E=b,T=w;;)if(E<w&&T<C)f(a[E],a[T])<=0?u[y++]=a[E++]:u[y++]=a[T++];else if(E<w)u[y++]=a[E++];else if(T<C)u[y++]=a[T++];else break}var h=function(a,f){if(f===void 0&&(f=m),!a||a.length<2)return a;if(o.features.stableSort)return a.sort(f);var p=c(a,f);return p!==a&&l(p,null,a.length,a),a};s.exports=h},25630:s=>{var g=function(i,o,m){if(o===m)return i;var c=i.indexOf(o),l=i.indexOf(m);if(c<0||l<0)throw new Error("Supplied items must be elements of the same array");return i[c]=m,i[l]=o,i};s.exports=g},37105:(s,g,i)=>{s.exports={Matrix:i(54915),Add:i(71146),AddAt:i(51067),BringToTop:i(66905),CountAllMatching:i(21612),Each:i(95428),EachInRange:i(36914),FindClosestInSorted:i(81957),Flatten:i(43491),GetAll:i(46710),GetFirst:i(58731),GetRandom:i(26546),MoveDown:i(70864),MoveTo:i(69693),MoveUp:i(40853),MoveAbove:i(85835),MoveBelow:i(83371),NumberArray:i(20283),NumberArrayStep:i(593),QuickSelect:i(43886),Range:i(88492),Remove:i(72905),RemoveAt:i(60248),RemoveBetween:i(81409),RemoveRandomElement:i(31856),Replace:i(42169),RotateLeft:i(86003),RotateRight:i(49498),SafeRange:i(82011),SendToBack:i(89545),SetAll:i(17810),Shuffle:i(33680),SortByDigits:i(90126),SpliceOne:i(19133),StableSort:i(19186),Swap:i(25630)}},86922:s=>{var g=function(i){if(!Array.isArray(i)||!Array.isArray(i[0]))return!1;for(var o=i[0].length,m=1;m<i.length;m++)if(i[m].length!==o)return!1;return!0};s.exports=g},63362:(s,g,i)=>{var o=i(41836),m=i(86922),c=function(l){var h="";if(!m(l))return h;for(var a=0;a<l.length;a++){for(var f=0;f<l[a].length;f++){var p=l[a][f].toString();p!=="undefined"?h+=o(p,2):h+="?",f<l[a].length-1&&(h+=" |")}if(a<l.length-1){h+=`
`;for(var u=0;u<l[a].length;u++)h+="---",u<l[a].length-1&&(h+="+");h+=`
`}}return h};s.exports=c},92598:s=>{var g=function(i){return i.reverse()};s.exports=g},21224:s=>{var g=function(i){for(var o=0;o<i.length;o++)i[o].reverse();return i};s.exports=g},98717:(s,g,i)=>{var o=i(37829),m=function(c){return o(c,180)};s.exports=m},44657:(s,g,i)=>{var o=i(37829),m=function(c,l){l===void 0&&(l=1);for(var h=0;h<l;h++)c=o(c,90);return c};s.exports=m},37829:(s,g,i)=>{var o=i(86922),m=i(2429),c=function(l,h){if(h===void 0&&(h=90),!o(l))return null;if(typeof h!="string"&&(h=(h%360+360)%360),h===90||h===-270||h==="rotateLeft")l=m(l),l.reverse();else if(h===-90||h===270||h==="rotateRight")l.reverse(),l=m(l);else if(Math.abs(h)===180||h==="rotate180"){for(var a=0;a<l.length;a++)l[a].reverse();l.reverse()}return l};s.exports=c},92632:(s,g,i)=>{var o=i(37829),m=function(c,l){l===void 0&&(l=1);for(var h=0;h<l;h++)c=o(c,-90);return c};s.exports=m},69512:(s,g,i)=>{var o=i(86003),m=i(49498),c=function(l,h,a){if(h===void 0&&(h=0),a===void 0&&(a=0),a!==0&&(a<0?o(l,Math.abs(a)):m(l,a)),h!==0)for(var f=0;f<l.length;f++){var p=l[f];h<0?o(p,Math.abs(h)):m(p,h)}return l};s.exports=c},2429:s=>{var g=function(i){for(var o=i.length,m=i[0].length,c=new Array(m),l=0;l<m;l++){c[l]=new Array(o);for(var h=o-1;h>-1;h--)c[l][h]=i[h][l]}return c};s.exports=g},54915:(s,g,i)=>{s.exports={CheckMatrix:i(86922),MatrixToString:i(63362),ReverseColumns:i(92598),ReverseRows:i(21224),Rotate180:i(98717),RotateLeft:i(44657),RotateMatrix:i(37829),RotateRight:i(92632),Translate:i(69512),TransposeMatrix:i(2429)}},71334:s=>{var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(o,m){for(var c=new Uint8Array(o),l=c.length,h=m?"data:"+m+";base64,":"",a=0;a<l;a+=3)h+=g[c[a]>>2],h+=g[(c[a]&3)<<4|c[a+1]>>4],h+=g[(c[a+1]&15)<<2|c[a+2]>>6],h+=g[c[a+2]&63];return l%3===2?h=h.substring(0,h.length-1)+"=":l%3===1&&(h=h.substring(0,h.length-2)+"=="),h};s.exports=i},53134:s=>{for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),o=0;o<g.length;o++)i[g.charCodeAt(o)]=o;var m=function(c){c=c.substr(c.indexOf(",")+1);var l=c.length,h=l*.75,a=0,f,p,u,v;c[l-1]==="="&&(h--,c[l-2]==="="&&h--);for(var y=new ArrayBuffer(h),x=new Uint8Array(y),b=0;b<l;b+=4)f=i[c.charCodeAt(b)],p=i[c.charCodeAt(b+1)],u=i[c.charCodeAt(b+2)],v=i[c.charCodeAt(b+3)],x[a++]=f<<2|p>>4,x[a++]=(p&15)<<4|u>>2,x[a++]=(u&3)<<6|v&63;return y};s.exports=m},65839:(s,g,i)=>{s.exports={ArrayBufferToBase64:i(71334),Base64ToArrayBuffer:i(53134)}},91799:(s,g,i)=>{s.exports={Array:i(37105),Base64:i(65839),Objects:i(1183),String:i(31749),NOOP:i(29747),NULL:i(20242)}},41786:s=>{var g=function(i){var o={};for(var m in i)Array.isArray(i[m])?o[m]=i[m].slice(0):o[m]=i[m];return o};s.exports=g},62644:s=>{var g=function(i){var o,m,c;if(typeof i!="object"||i===null)return i;o=Array.isArray(i)?[]:{};for(c in i)m=i[c],o[c]=g(m);return o};s.exports=g},79291:(s,g,i)=>{var o=i(41212),m=function(){var c,l,h,a,f,p,u=arguments[0]||{},v=1,y=arguments.length,x=!1;for(typeof u=="boolean"&&(x=u,u=arguments[1]||{},v=2),y===v&&(u=this,--v);v<y;v++)if((c=arguments[v])!=null)for(l in c)h=u[l],a=c[l],u!==a&&(x&&a&&(o(a)||(f=Array.isArray(a)))?(f?(f=!1,p=h&&Array.isArray(h)?h:[]):p=h&&o(h)?h:{},u[l]=m(x,p,a)):a!==void 0&&(u[l]=a));return u};s.exports=m},23568:(s,g,i)=>{var o=i(75508),m=i(35154),c=function(l,h,a){var f=m(l,h,null);if(f===null)return a;if(Array.isArray(f))return o.RND.pick(f);if(typeof f=="object"){if(f.hasOwnProperty("randInt"))return o.RND.integerInRange(f.randInt[0],f.randInt[1]);if(f.hasOwnProperty("randFloat"))return o.RND.realInRange(f.randFloat[0],f.randFloat[1])}else if(typeof f=="function")return f(h);return f};s.exports=c},95540:s=>{var g=function(i,o,m){var c=typeof i;return!i||c==="number"||c==="string"?m:i.hasOwnProperty(o)&&i[o]!==void 0?i[o]:m};s.exports=g},82840:(s,g,i)=>{var o=i(35154),m=i(45319),c=function(l,h,a,f,p){p===void 0&&(p=a);var u=o(l,h,p);return m(u,a,f)};s.exports=c},35154:s=>{var g=function(i,o,m,c){if(!i&&!c||typeof i=="number")return m;if(i&&i.hasOwnProperty(o))return i[o];if(c&&c.hasOwnProperty(o))return c[o];if(o.indexOf(".")!==-1){for(var l=o.split("."),h=i,a=c,f=m,p=m,u=!0,v=!0,y=0;y<l.length;y++)h&&h.hasOwnProperty(l[y])?(f=h[l[y]],h=h[l[y]]):u=!1,a&&a.hasOwnProperty(l[y])?(p=a[l[y]],a=a[l[y]]):v=!1;return u?f:v?p:m}else return m};s.exports=g},69036:s=>{var g=function(i,o){for(var m=0;m<o.length;m++)if(!i.hasOwnProperty(o[m]))return!1;return!0};s.exports=g},1985:s=>{var g=function(i,o){for(var m=0;m<o.length;m++)if(i.hasOwnProperty(o[m]))return!0;return!1};s.exports=g},97022:s=>{var g=function(i,o){return i.hasOwnProperty(o)};s.exports=g},41212:s=>{var g=function(i){if(!i||typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch(o){return!1}return!0};s.exports=g},46975:(s,g,i)=>{var o=i(41786),m=function(c,l){var h=o(c);for(var a in l)h.hasOwnProperty(a)||(h[a]=l[a]);return h};s.exports=m},269:(s,g,i)=>{var o=i(41786),m=function(c,l){var h=o(c);for(var a in l)h.hasOwnProperty(a)&&(h[a]=l[a]);return h};s.exports=m},18254:(s,g,i)=>{var o=i(97022),m=function(c,l){for(var h={},a=0;a<l.length;a++){var f=l[a];o(c,f)&&(h[f]=c[f])}return h};s.exports=m},61622:s=>{var g=function(i,o,m){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(o))return i[o]=m,!0;if(o.indexOf(".")!==-1){for(var c=o.split("."),l=i,h=i,a=0;a<c.length;a++)if(l.hasOwnProperty(c[a]))h=l,l=l[c[a]];else return!1;return h[c[c.length-1]]=m,!0}return!1};s.exports=g},1183:(s,g,i)=>{s.exports={Clone:i(41786),DeepCopy:i(62644),Extend:i(79291),GetAdvancedValue:i(23568),GetFastValue:i(95540),GetMinMaxValue:i(82840),GetValue:i(35154),HasAll:i(69036),HasAny:i(1985),HasValue:i(97022),IsPlainObject:i(41212),Merge:i(46975),MergeRight:i(269),Pick:i(18254),SetValue:i(61622)}},27902:s=>{var g=function(i,o){return i.replace(/%([0-9]+)/g,function(m,c){return o[Number(c)-1]})};s.exports=g},41836:s=>{var g=function(i,o,m,c){o===void 0&&(o=0),m===void 0&&(m=" "),c===void 0&&(c=3),i=i.toString();var l=0;if(o+1>=i.length)switch(c){case 1:i=new Array(o+1-i.length).join(m)+i;break;case 3:var h=Math.ceil((l=o-i.length)/2),a=l-h;i=new Array(a+1).join(m)+i+new Array(h+1).join(m);break;default:i=i+new Array(o+1-i.length).join(m);break}return i};s.exports=g},33628:s=>{var g=function(i,o){return o===0?i.slice(1):i.slice(0,o-1)+i.slice(o)};s.exports=g},27671:s=>{var g=function(i){return i.split("").reverse().join("")};s.exports=g},45650:s=>{var g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var o=Math.random()*16|0,m=i==="x"?o:o&3|8;return m.toString(16)})};s.exports=g},35355:s=>{var g=function(i){return i&&i[0].toUpperCase()+i.slice(1)};s.exports=g},31749:(s,g,i)=>{s.exports={Format:i(27902),Pad:i(41836),RemoveAt:i(33628),Reverse:i(27671),UppercaseFirst:i(35355),UUID:i(45650)}}},n={};function d(s){var g=n[s];if(g!==void 0)return g.exports;var i=n[s]={exports:{}};return r[s](i,i.exports,d),i.exports}d.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(s){if(typeof window=="object")return window}}();var S=d(85454);return S})())})(gz);var zMt=gz.exports;const qv=ks(zMt),UMt={"uncommon-1":{url:"https://media.blooket.com/image/upload/v1658567787/Media/market/particles/square_green.svg",width:25,height:25},"uncommon-2":{url:"https://media.blooket.com/image/upload/v1658567787/Media/market/particles/square_light_green.svg",width:25,height:25},"uncommon-3":{url:"https://media.blooket.com/image/upload/v1658567785/Media/market/particles/circle_dark_green.svg",width:25,height:25},"uncommon-4":{url:"https://media.blooket.com/image/upload/v1658567785/Media/market/particles/serpentine_dark_green.svg",width:30,height:30},"uncommon-5":{url:"https://media.blooket.com/image/upload/v1658567785/Media/market/particles/triangle_light_green.svg",width:30,height:30},"uncommon-6":{url:"https://media.blooket.com/image/upload/v1658567785/Media/market/particles/serpentine_light_green.svg",width:30,height:30},"uncommon-7":{url:"https://media.blooket.com/image/upload/v1658567785/Media/market/particles/triangle_green.svg",width:30,height:30},"rare-1":{url:"https://media.blooket.com/image/upload/v1658567765/Media/market/particles/square_light_blue.svg",width:25,height:25},"rare-2":{url:"https://media.blooket.com/image/upload/v1658567765/Media/market/particles/square_dark_blue.svg",width:25,height:25},"rare-3":{url:"https://media.blooket.com/image/upload/v1658567763/Media/market/particles/triangle_blue.svg",width:30,height:30},"rare-4":{url:"https://media.blooket.com/image/upload/v1658567763/Media/market/particles/serpentine_blue.svg",width:30,height:30},"rare-5":{url:"https://media.blooket.com/image/upload/v1658567763/Media/market/particles/triangle_light_blue.svg",width:30,height:30},"rare-6":{url:"https://media.blooket.com/image/upload/v1658567763/Media/market/particles/serpentine_light_blue.svg",width:30,height:30},"rare-7":{url:"https://media.blooket.com/image/upload/v1658567763/Media/market/particles/circle_dark_blue.svg",width:25,height:25},"epic-1":{url:"https://media.blooket.com/image/upload/v1658790239/Media/market/particles/red.svg",width:25,height:25},"epic-2":{url:"https://media.blooket.com/image/upload/v1658790237/Media/market/particles/light_red.svg",width:25,height:25},"epic-3":{url:"https://media.blooket.com/image/upload/v1658790239/Media/market/particles/serpentine_red.svg",width:30,height:30},"epic-4":{url:"https://media.blooket.com/image/upload/v1658790239/Media/market/particles/serpentine_dark_red.svg",width:30,height:30},"epic-5":{url:"https://media.blooket.com/image/upload/v1658790237/Media/market/particles/triangle_red.svg",width:30,height:30},"epic-6":{url:"https://media.blooket.com/image/upload/v1658790237/Media/market/particles/triangle_light_red.svg",width:30,height:30},"epic-7":{url:"https://media.blooket.com/image/upload/v1658790237/Media/market/particles/circle_dark_red.svg",width:25,height:25},"legendary-1":{url:"https://media.blooket.com/image/upload/v1658567740/Media/market/particles/square_orange.svg",width:25,height:25},"legendary-2":{url:"https://media.blooket.com/image/upload/v1658567740/Media/market/particles/square_light_orange.svg",width:25,height:25},"legendary-3":{url:"https://media.blooket.com/image/upload/v1658567738/Media/market/particles/circle_orange.svg",width:25,height:25},"legendary-4":{url:"https://media.blooket.com/image/upload/v1658567738/Media/market/particles/serpentine_orange.svg",width:30,height:30},"legendary-5":{url:"https://media.blooket.com/image/upload/v1658567738/Media/market/particles/serpentine_light_orange.svg",width:30,height:30},"legendary-6":{url:"https://media.blooket.com/image/upload/v1658567738/Media/market/particles/circle_dark_orange.svg",width:25,height:25},"legendary-7":{url:"https://media.blooket.com/image/upload/v1658567738/Media/market/particles/triangle_dark_orange.svg",width:30,height:30},"chroma-1":{url:"https://media.blooket.com/image/upload/v1658790246/Media/market/particles/square_turquoise.svg",width:25,height:25},"chroma-2":{url:"https://media.blooket.com/image/upload/v1658790246/Media/market/particles/square_light_turquoise.svg",width:25,height:25},"chroma-3":{url:"https://media.blooket.com/image/upload/v1658790244/Media/market/particles/serpentine_dark_turquoise.svg",width:30,height:30},"chroma-4":{url:"https://media.blooket.com/image/upload/v1658790244/Media/market/particles/serpentine_turquoise.svg",width:30,height:30},"chroma-5":{url:"https://media.blooket.com/image/upload/v1658790244/Media/market/particles/triangle_turquoise.svg",width:30,height:30},"chroma-6":{url:"https://media.blooket.com/image/upload/v1658790244/Media/market/particles/triangle_light_turquoise.svg",width:30,height:30},"chroma-7":{url:"https://media.blooket.com/image/upload/v1658790244/Media/market/particles/circle_dark_turquoise.svg",width:25,height:25}};class GMt extends qv.GameObjects.Image{constructor(r){super(r,0,0,"uncommon-1");Ei(this,"lifespan");this.setDepth(3),this.lifespan=0}spawn(r,n,d,S,s,g,i,o,m){this.setTexture(m),this.setActive(!0),this.setVisible(!0),this.setPosition(r,n),this.setScale(d);const c=this.body;if(!c)throw new Error("cannot spawn particle without body");this.scene.physics.velocityFromAngle(S,s,c.velocity),c.setGravityY(g),c.setAngularVelocity(i),this.lifespan=o}update(r,n){this.lifespan-=n,this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1))}}const HMt=(e,t)=>{if(e==="center"){const r=dr(-115,-65);return{x:t.width/2,y:t.height/2,scale:dr(.7,1),angle:r,velocity:dr(600,750),gravity:700,angVelocity:(r>-90?1:-1)*dr(125,175),lifespan:2500}}if(e==="right")return{x:t.width,y:dr(0,t.height),scale:dr(.7,1),angle:-180,velocity:dr(600,750),gravity:0,angVelocity:dr(-175,-125),lifespan:2500};if(e==="left")return{x:0,y:dr(0,t.height),scale:dr(.7,1),angle:0,velocity:dr(600,750),gravity:0,angVelocity:dr(125,175),lifespan:2500};if(e==="right-bottom")return{x:t.width,y:t.height,scale:dr(.7,1),angle:dr(-160,-110),velocity:dr(600,750),gravity:500,angVelocity:dr(-175,-125),lifespan:2500};if(e==="left-bottom")return{x:0,y:t.height,scale:dr(.7,1),angle:dr(-70,-20),velocity:dr(600,750),gravity:500,angVelocity:dr(125,175),lifespan:2500};if(e==="top")return{x:dr(0,t.width),y:-50,scale:dr(.7,1),angle:90,velocity:dr(0,50),gravity:700,angVelocity:dr(-150,150),lifespan:2500};if(e==="right-shower")return{x:t.width,y:dr(0,t.height),scale:dr(.7,1),angle:dr(-180,-130),velocity:dr(600,750),gravity:500,angVelocity:dr(-175,-125),lifespan:2500};if(e==="left-shower")return{x:0,y:dr(0,t.height),scale:dr(.7,1),angle:dr(-50,0),velocity:dr(600,750),gravity:500,angVelocity:dr(125,175),lifespan:2500};if(e==="right-diamond"){const r=dr(0,t.height);return{x:t.width,y:r,scale:dr(.7,1),angle:r>t.height/2?-150:-210,velocity:dr(600,750),gravity:0,angVelocity:dr(-175,-125),lifespan:2500}}if(e==="left-diamond"){const r=dr(0,t.height);return{x:0,y:r,scale:dr(.7,1),angle:r>t.height/2?-30:30,velocity:dr(600,750),gravity:0,angVelocity:dr(125,175),lifespan:2500}}return e==="center-spread"?{x:t.width/2,y:t.height/2,scale:dr(.7,1),angle:dr(0,360),velocity:dr(600,750),gravity:0,angVelocity:dr(-175,175),lifespan:2500}:{}},$Mt={Uncommon:2,Rare:2,Epic:2,Legendary:3,Chroma:3},WMt=(e,t)=>{switch(e){case"Uncommon":return"center";case"Rare":return t%2===0?"left-bottom":"right-bottom";case"Epic":return t%2===0?"left-shower":"right-shower";case"Legendary":return"top";case"Chroma":return t%2===0?"left-diamond":"right-diamond";default:return"center"}},yz="current-scene-ready",xz="start-particles";class VMt extends qv.Scene{constructor(r,n){super();Ei(this,"rarity");Ei(this,"numParticlesToSpawn");Ei(this,"particles");Ei(this,"interationsUntilNextParticleSpawn",0);Ei(this,"numExplosions",0);Ei(this,"eventBus");this.eventBus=n,this.rarity=r,this.numParticlesToSpawn=$Mt[this.rarity]||0}preload(){this.load.setCORS("anonymous");const r=this.rarity.toLowerCase();Object.entries(UMt).filter(([n])=>n.includes(r)).forEach(([n,d])=>{this.load.svg(n,d.url,{width:d.width,height:d.height})})}create(){this.particles=this.physics.add.group({classType:GMt,runChildUpdate:!0}),this.interationsUntilNextParticleSpawn=0,this.numExplosions=0,this.eventBus.on(xz,()=>{this.rarity==="Uncommon"?this.numExplosions=75:this.rarity==="Rare"?this.numExplosions=100:this.numExplosions=-1}),this.eventBus.emit(yz)}update(r,n){var S;if(this.numExplosions===0||(this.interationsUntilNextParticleSpawn-=n,this.interationsUntilNextParticleSpawn>0))return;const d=this.cameras.main.worldView;for(let s=0;s<this.numParticlesToSpawn;s++){const g=(S=this.particles)==null?void 0:S.get();if(g){const i=WMt(this.rarity,s),o=HMt(i,d),m=`${this.rarity.toLowerCase()}-${Za(1,8)}`;g.spawn(...Object.values(o),m)}}this.interationsUntilNextParticleSpawn=20,this.numExplosions>0&&(this.numExplosions=Math.max(this.numExplosions-1,0))}}const YMt=(e,t)=>({type:qv.WEBGL,width:"100%",height:"100%",scale:{mode:qv.Scale.NONE,autoCenter:qv.Scale.CENTER_BOTH},transparent:!0,physics:{default:"arcade"},scene:new VMt(e,t)}),bz="purchase-phaser-container",XMt=(e,t)=>{const r=YMt(e,t);return new Phaser.Game(Fr(Fi({},r),{parent:bz}))},QMt=e=>{const t=_i.useRef(),r=_i.useRef(),[n,d]=_i.useState(!1);return _i.useEffect(()=>{var S;return e.rarity&&!t.current&&(r.current=new Phaser.Events.EventEmitter,(S=r.current)==null||S.on(yz,()=>{d(!0)}),t.current=XMt(e.rarity,r.current)),()=>{var s;t.current&&(t.current.destroy(!0),t.current=void 0,(s=r.current)==null||s.destroy(),r.current=void 0,d(!1))}},[t,e.rarity,d]),_i.useEffect(()=>{var S;e.rarity&&e.showering&&n&&((S=r.current)==null||S.emit(xz))},[e.rarity,e.showering,n]),e.rarity?R.jsx("div",{id:bz}):null},ww={Blizzard:{url:Ee.fullPacks.Blizzard,noTopUrl:Ee.packBottoms.Blizzard,background:"radial-gradient(circle, #bdf 0%, #31aae0 100%)"},Lunch:{url:Ee.fullPacks.Lunch,noTopUrl:Ee.packBottoms.Lunch,background:"radial-gradient(circle, #c377d4 0%, #772b88 100%)"},Bug:{url:Ee.fullPacks.Bug,noTopUrl:Ee.packBottoms.Bug,background:"radial-gradient(circle, rgba(146,181,125,1) 0%, rgba(65,96,57,1) 100%)"},Pirate:{url:Ee.fullPacks.Pirate,noTopUrl:Ee.packBottoms.Pirate,background:"radial-gradient(circle, rgba(104,219,255,1) 0%, rgba(12,153,198,1) 100%)"},Outback:{url:Ee.fullPacks.Outback,noTopUrl:Ee.packBottoms.Outback,background:"radial-gradient(circle, rgba(240,137,65,1) 0%, rgba(150,66,29,1) 100%)"},"Ice Monster":{url:Ee.fullPacks.IceMonsters,noTopUrl:Ee.packBottoms.IceMonsters,background:"radial-gradient(circle, rgba(29,76,94,1) 0%, rgba(0,52,73,1) 100%)"},Dino:{url:Ee.fullPacks.Dino,noTopUrl:Ee.packBottoms.Dino,background:"radial-gradient(circle, rgba(160,189,65,1) 0%, rgba(21,59,49,1) 100%)"},Aquatic:{url:Ee.fullPacks.Aquatic,noTopUrl:Ee.packBottoms.Aquatic,background:"radial-gradient(circle, rgba(0,204,255,1) 0%, rgba(0,51,204,1) 100%)"},Safari:{url:Ee.fullPacks.Safari,noTopUrl:Ee.packBottoms.Safari,background:"radial-gradient(circle, rgba(255,219,77,1) 0%, rgba(255,102,0,1) 100%)"},Bot:{url:Ee.fullPacks.Bot,noTopUrl:Ee.packBottoms.Bot,background:"radial-gradient(circle, rgba(51,204,51,1) 0%, rgba(45,134,89,1) 100%)"},Space:{url:Ee.fullPacks.Space,noTopUrl:Ee.packBottoms.Space,background:"radial-gradient(circle, rgba(28,37,156,1) 0%, rgba(7,0,40,1) 100%)"},Medieval:{url:Ee.fullPacks.Medieval,noTopUrl:Ee.packBottoms.Medieval,background:"radial-gradient(circle, rgba(200,200,200,1) 0%, rgba(110,110,110,1) 100%)"},Wonderland:{url:Ee.fullPacks.Wonderland,noTopUrl:Ee.packBottoms.Wonderland,background:"radial-gradient(circle, rgba(0,170,255,1) 0%, rgba(97,32,87,1) 100%)"},Breakfast:{url:Ee.fullPacks.Breakfast,noTopUrl:Ee.packBottoms.Breakfast,background:"radial-gradient(circle, rgba(255,166,95,1) 0%, rgba(193,85,35,1) 100%)"}},KMt=e=>{const t=pz(ss[e].realSet||ss[e].set);let r=0;return t.forEach(n=>{n[0]===e&&(r=n[1])}),r};class Sz extends ti.Component{constructor(t){super(t),this.state={tokens:0,currentPack:"",unlockedBlook:"",newUnlock:!1,openPack:!1,opening:!1,canOpen:!1,doneOpening:!1,instantOpen:!1,user:null,currentItem:null,loadingItem:!1,banners:[],titles:[],blookParts:{},weeklyShopItems:[],limitedBlooks:[],currentSeason:Xu.NONE,purchasedBlookRarity:void 0},this.here=!0,this.handleBigClick=this.handleBigClick.bind(this),this.viewPack=this.viewPack.bind(this),this.buyPack=this.buyPack.bind(this),this.startOpening=this.startOpening.bind(this),this.buyItem=this.buyItem.bind(this)}componentDidMount(){return ci(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ve.logError("MarketPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}this.setState({user:t}),ci(this,null,function*(){const r=yield Yr.weeklyShop({}),n=yield Yr.limitedBlooks({});vi.get("/api/users/market").then(d=>{this.here&&this.setState({tokens:d.data.tokens,banners:d.data.banners||[],titles:d.data.titles||[],blookParts:d.data.blookParts||{},limitedBlooks:n.limitedBlooks,weeklyShopItems:r.items,currentSeason:S_()})}).catch(d=>{Ve.logError(d)})})})}componentWillUnmount(){this.here=!1,clearTimeout(this.openTimeout),clearTimeout(this.particleTimeout),clearTimeout(this.canOpenTimeout)}handleBigClick(){!this.state.opening&&this.state.canOpen?this.startOpening():this.state.doneOpening&&this.setState({opening:!1,doneOpening:!1,openPack:!1,currentPack:"",unlockedBlook:"",purchasedBlookRarity:void 0})}viewPack(t){this.setState({currentPack:t})}buyPack(t,r){return ci(this,null,function*(){if(!t)return this.setState({currentPack:""});if(!(this.state.tokens<rf[r]||this.state.loadingPack)){this.setState({loadingPack:!0,tokens:this.state.tokens-rf[r]});try{const n=yield Yr.purchaseBlookBox({boxName:r});this.setState({loadingPack:!1,currentPack:r,openPack:!0,unlockedBlook:n.unlockedBlook,tokens:n.tokens,newUnlock:n.isNewToUser,canOpen:!1},()=>{this.canOpenTimeout=setTimeout(()=>{this.setState({canOpen:!0})},200)})}catch(n){Ve.logError(n),this.setState({loadingPack:!1,currentPack:""})}}})}startOpening(){if(this.state.opening)return;const t=ou(this.state.unlockedBlook);this.setState({opening:!0,purchasedBlookRarity:t},()=>ci(this,null,function*(){this.openTimeout=setTimeout(()=>{this.setState({doneOpening:!0})},["Uncommon","Rare"].includes(t)?750:t==="Chroma"?2e3:1250)}))}buyItem(){this.state.loadingItem||this.state.tokens<this.state.currentItem.data.price||(this.setState({loadingItem:!0,tokens:this.state.tokens-this.state.currentItem.data.price}),this.state.currentItem.type==="blook/limited"?ci(this,null,function*(){const t=yield Yr.purchaseLimitedBlook({name:this.state.currentItem.id});this.setState({limitedBlooks:t.limitedBlooks,loadingItem:!1,currentItem:null})}):vi.put(`/api/users/buy/${this.state.currentItem.type}`,{id:this.state.currentItem.id}).then(t=>{this.setState({loadingItem:!1,currentItem:null,banners:this.state.currentItem.type==="banner"?t.data:this.state.banners,titles:this.state.currentItem.type==="title"?t.data:this.state.titles,blookParts:this.state.currentItem.type==="part"?t.data:this.state.blookParts,limitedBlooks:this.state.currentItem.type==="blook/limited"?t.data:this.state.limitedBlooks})}).catch(t=>{Ve.logError(t),this.setState({loadingItem:!1,currentItem:null})}))}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Market | Blooket",desc:"Use the market to buy packs with tokens that are collected from games. There are tons of new Blooks to unlock, and this is the best place to get them."}),R.jsx(la,{user:this.state.user,page:"Market",topContent:R.jsxs("div",{className:Ni.tokenBalance,children:[R.jsx("img",{src:Ee.basic.token,alt:"Token",className:Ni.tokenBalanceIcon,draggable:!1}),$i(this.state.tokens)]})}),R.jsxs("div",{className:Qe.profileBody,children:[R.jsx("div",{className:Ni.header,children:"Market"}),R.jsxs("div",{className:Ni.mTokenBalance,children:[R.jsx("img",{src:Ee.basic.token,alt:"Token",className:Ni.tokenBalanceIcon,draggable:!1}),$i(this.state.tokens)]}),R.jsx("div",{className:Ni.flex,children:R.jsx("div",{className:Ni.mInstantButton,role:"button",tabIndex:0,onClick:()=>this.setState({instantOpen:!this.state.instantOpen}),children:`Instant Open: ${this.state.instantOpen?"On":"Off"}`})}),R.jsxs("div",{className:Ni.storeContainer,children:[this.state.currentSeason===Xu.WINTER?R.jsxs(R.Fragment,{children:[R.jsx("img",{src:Ee.market.CashierWinter,alt:"Mark the Cashier",className:Ni.blizzardCashierBlook,draggable:!1}),R.jsx("img",{src:Ee.market.StoreWinter,alt:"Store",className:Ni.storeImg,draggable:!1})]}):this.state.currentSeason===Xu.FALL?R.jsxs(R.Fragment,{children:[R.jsx("img",{src:Ee.market.CashierFall,alt:"Mark the Cashier",className:Ni.fallCashierBlook,draggable:!1}),R.jsx("img",{src:Ee.market.StoreFall,alt:"Store",className:Ni.fallStoreImg,draggable:!1})]}):this.state.currentSeason===Xu.SPOOKY?R.jsxs(R.Fragment,{children:[R.jsx("img",{src:Ee.market.CashierSpooky,alt:"Mark the Cashier",className:Ni.spookyCashierBlook,draggable:!1}),R.jsx("img",{src:Ee.market.StoreSpooky,alt:"Store",className:Ni.storeImg,draggable:!1})]}):this.state.currentSeason===Xu.SHAMROCK?R.jsxs(R.Fragment,{children:[R.jsx("img",{src:Ee.market.CashierShamrock,alt:"Mark the Cashier",className:Ni.cashierBlook,draggable:!1}),R.jsx("img",{src:Ee.market.StoreShamrock,alt:"Store",className:Ni.storeImg,draggable:!1})]}):this.state.currentSeason===Xu.EASTER?R.jsxs(R.Fragment,{children:[R.jsx("img",{src:Ee.market.CashierEaster,alt:"Mark the Cashier",className:Ni.cashierBlook,draggable:!1}),R.jsx("img",{src:Ee.market.StoreEaster,alt:"Store",className:Ni.storeImg,draggable:!1})]}):R.jsxs(R.Fragment,{children:[R.jsx("img",{src:Ee.market.Cashier,alt:"Mark the Cashier",className:Ni.cashierBlook,draggable:!1}),R.jsx("img",{src:Ee.market.Store,alt:"Store",className:Ni.storeImg,draggable:!1})]}),R.jsx("div",{className:Ni.instantButton,role:"button",tabIndex:0,onClick:()=>this.setState({instantOpen:!this.state.instantOpen}),children:`Instant Open: ${this.state.instantOpen?"On":"Off"}`})]}),R.jsxs("div",{className:Ni.leftColumn,children:[R.jsxs("div",{className:Ni.packsWrapper,children:[this.state.limitedBlooks.map(t=>R.jsxs("div",{className:Ni.packContainer,style:{background:"radial-gradient(circle, #fea1de 20%, #fec200 100%)"},role:"button",tabIndex:0,onClick:t.owned?()=>{}:()=>this.setState({currentItem:{id:t.name,type:"blook/limited",data:{name:t.name,price:t.price}}}),children:[R.jsxs("div",{className:Ni.packImgContainer,children:[R.jsx(kn,{name:t.name,className:Ni.packShadow,style:{transform:"translate(-50%, -55%) rotate(10deg)"}}),R.jsx(kn,{name:t.name,className:Ni.packImg,style:{transform:"translate(-50%, -55%) rotate(10deg)"}})]}),t.owned?R.jsx("div",{className:Ni.packBottom,children:"Owned"}):R.jsxs("div",{className:Ni.packBottom,children:[R.jsx("img",{src:Ee.basic.token,alt:"Token",className:Ni.packPriceImg,draggable:!1}),$i(t.price)]})]},t.name)),Object.entries(ww).map(([t,r])=>R.jsxs("div",{className:Ni.packContainer,style:{background:r.background},role:"button",tabIndex:0,onClick:this.state.instantOpen?()=>this.buyPack(!0,t):()=>this.viewPack(t),children:[R.jsxs("div",{className:Ni.packImgContainer,children:[R.jsx("img",{src:Kg(r.url),alt:t,className:Ni.packShadow,draggable:!1}),R.jsx("img",{src:Kg(r.url),alt:t,className:Ni.packImg,draggable:!1})]}),R.jsxs("div",{className:Ni.packBottom,children:[R.jsx("img",{src:Ee.basic.token,alt:"Token",className:Ni.packPriceImg,draggable:!1}),rf[t]]})]},t))]}),R.jsx("div",{className:Ni.subheader,children:"Weekly Shop"}),R.jsx("div",{className:Ni.weeklyWrapper,children:this.state.weeklyShopItems.map((t,r)=>R.jsxs("div",{className:Ni.weeklyContainer,role:"button",tabIndex:0,onClick:t.type==="title"&&this.state.titles.includes(t.id)||t.type==="banner"&&this.state.banners.includes(t.id)||t.type==="part"&&this.state.blookParts[t.data.type]&&this.state.blookParts[t.data.type].includes(t.data.num)?()=>{}:()=>this.setState({currentItem:t}),children:[R.jsx("div",{className:Ni.weeklyName,children:t.type==="title"?"Title":t.data.name}),t.type==="banner"?R.jsx("img",{src:t.data.url,alt:t.data.name,className:Ni.weeklyBanner,draggable:!1}):t.type==="part"?R.jsx("img",{src:pr[t.data.type][t.data.num].url,alt:t.data.name,className:Ni.weeklyPart,draggable:!1}):R.jsx("div",{className:Ni.weeklyTitle,children:t.data.name}),t.type==="title"&&this.state.titles.includes(t.id)||t.type==="banner"&&this.state.banners.includes(t.id)||t.type==="part"&&this.state.blookParts[t.data.type]&&this.state.blookParts[t.data.type].includes(t.data.num)?R.jsx("div",{className:Ni.weeklyBottom,children:"Owned"}):R.jsxs("div",{className:Ni.weeklyBottom,children:[R.jsx("img",{src:Ee.basic.token,alt:"Token",className:Ni.packPriceImg,draggable:!1}),$i(t.data.price)]}),R.jsx("div",{className:Ni.weeklyRarity,style:{backgroundColor:t.data.rarity==="Common"?"#3a3a3a":Gv[t.data.rarity]},children:t.data.rarity})]},r))})]})]}),this.state.currentPack?R.jsx(xr,{content:R.jsxs("div",{children:[R.jsx(kc,{place:"left",effect:"solid",multiline:!0,html:!0,clickable:!0,className:Ni.tooltip}),`Purchase the ${this.state.currentPack} Pack`,R.jsx("i",{className:Ct(Ni.rateIcon,"far fa-question-circle"),"data-tip":$Rt.renderToStaticMarkup(R.jsxs("div",{children:[R.jsx("div",{children:"Pack Rates:"}),pz(this.state.currentPack).map(t=>R.jsx("div",{children:`${pd(t[0])}: ${t[1]}%`},pd(t[0])))]}))}),`for ${$i(rf[this.state.currentPack])} tokens?`]}),loading:this.state.loadingPack,buttonOne:this.state.tokens>=rf[this.state.currentPack]?{text:"Yes",click:()=>this.buyPack(!0,this.state.currentPack),color:"blue"}:{text:"Not Enough Tokens",click:()=>this.buyPack(!1),color:"blue"},buttonTwo:this.state.tokens>=rf[this.state.currentPack]?{text:"No",click:()=>this.buyPack(!1),color:"blue"}:null}):this.state.currentItem?R.jsx(xr,{text:`Purchase the ${this.state.currentItem.data.name} ${this.state.currentItem.type==="blook/limited"?"Blook":this.state.currentItem.type} for ${$i(this.state.currentItem.data.price)} tokens?`,loading:this.state.loadingItem,buttonOne:this.state.tokens>=this.state.currentItem.data.price?{text:"Yes",click:this.buyItem,color:"blue"}:{text:"Not Enough Tokens",click:()=>this.setState({currentItem:null}),color:"blue"},buttonTwo:this.state.tokens>=this.state.currentItem.data.price?{text:"No",click:()=>this.setState({currentItem:null}),color:"blue"}:null}):null,this.state.openPack?R.jsxs("div",{className:Ni.openBackground,style:{background:ww[ss[this.state.unlockedBlook].realSet||ss[this.state.unlockedBlook].set].background},children:[R.jsx("img",{src:FMt[ss[this.state.unlockedBlook].realSet||ss[this.state.unlockedBlook].set],alt:"Icon",className:Ni.cornerIcon,draggable:!1}),R.jsx("div",{className:Ni.phaserContainer,children:R.jsx(QMt,{rarity:this.state.purchasedBlookRarity,showering:this.state.opening})}),R.jsxs("div",{className:Ct(Ni.openContainer,{[Ni.openingContainer]:this.state.opening,[Ni.openingContainerEpic]:this.state.opening&&ou(this.state.unlockedBlook)==="Epic",[Ni.openingContainerLegendary]:this.state.opening&&ou(this.state.unlockedBlook)==="Legendary",[Ni.openingContainerChroma]:this.state.opening&&ou(this.state.unlockedBlook)==="Chroma"}),children:[R.jsx("img",{src:Kg(vz[ss[this.state.unlockedBlook].realSet||ss[this.state.unlockedBlook].set]),alt:"Background",className:Ni.blookBackground,draggable:!1}),R.jsx(kn,{name:this.state.unlockedBlook,className:Ni.unlockedBlookImage}),R.jsxs("div",{className:Ni.unlockedText,children:[R.jsx(Vx,{className:Ni.unlockedBlook,mode:"single",forceSingleModeWidth:!1,min:1,max:40,children:pd(this.state.unlockedBlook)}),R.jsx("div",{className:Ni.rarityText,style:{color:Gv[ou(this.state.unlockedBlook)]},children:ou(this.state.unlockedBlook)})]}),R.jsx("div",{className:Ni.bottomText,children:`${KMt(this.state.unlockedBlook)}%${this.state.newUnlock?" - NEW!":""}`}),R.jsx("div",{className:Ni.bottomShadow})]}),R.jsxs("div",{className:this.state.opening?Ni.openingPackContainer:Ni.openPackContainer,role:"button",tabIndex:0,onClick:this.startOpening,children:[R.jsx("div",{className:Ct(Ni.openPackTop,{[Ni.isOpeningPackTop]:this.state.opening}),style:{backgroundImage:`url(${Ee.basic.PackTop})`}}),R.jsx("img",{className:Ct(Ni.openPack,{[Ni.isOpeningPack]:this.state.opening}),src:Kg(ww[ss[this.state.unlockedBlook].realSet||ss[this.state.unlockedBlook].set].noTopUrl),alt:"Pack"})]}),R.jsx("div",{className:Ct(Ni.openBigButton,{[Ni.canOpen]:!this.state.opening&&this.state.canOpen||this.state.opening&&this.state.doneOpening}),role:"button",tabIndex:0,onClick:this.handleBigClick})]}):null]})}}Sz.propTypes={user:Xt.object};const JMt=()=>({}),ZMt=e=>Ns({},e),qMt=jn(Ls(Qs(JMt,ZMt)(Sz))),tBt="_header_r64q1_1",eBt="_mainContainer_r64q1_9",iBt="_infoContainer_r64q1_18",rBt="_headerRow_r64q1_30",nBt="_headerIcon_r64q1_38",sBt="_infoHeader_r64q1_44",aBt="_text_r64q1_50",oBt="_link_r64q1_57",lBt="_socialIcon_r64q1_71",uBt="_subscriptionText_r64q1_75",hBt="_blooketText_r64q1_83",cBt="_planText_r64q1_89",dBt="_planTextOrange_r64q1_95",fBt="_upgradeButton_r64q1_99",pBt="_upgradeButtonInside_r64q1_104",vBt="_tempContactSupportText_r64q1_135",er={header:tBt,mainContainer:eBt,infoContainer:iBt,headerRow:rBt,headerIcon:nBt,infoHeader:sBt,text:aBt,link:oBt,socialIcon:lBt,subscriptionText:uBt,blooketText:hBt,planText:cBt,planTextOrange:dBt,upgradeButton:fBt,upgradeButtonInside:pBt,tempContactSupportText:vBt},mBt=e=>{const t=_i.useContext(bm),[r,n]=_i.useState(null),[d,S]=_i.useState(""),[s,g]=_i.useState(""),[i,o]=_i.useState(null),[m,c]=_i.useState(""),[l,h]=_i.useState(""),[a,f]=_i.useState(""),[p,u]=_i.useState(!1),[v,y]=_i.useState(!1),x=_i.useCallback(()=>{ci(An,null,function*(){var E;const w=yield Yr.settingsPageData({}),C=w.planEndsAt?li(w.planEndsAt.toDate()).format("dddd, MMMM Do, YYYY"):"indefinite";S(w.username),g(w.email),o(w.dashboardLayout),c(li((E=w.userCreatedAt)==null?void 0:E.toDate()).format("dddd, MMMM Do, YYYY")),h(w.planName),f(C),u(w.planRenewsAutomatically)})},[S,g,o,c,h,f,u]),b=_i.useCallback(()=>{ci(An,null,function*(){yield t==null?void 0:t.getLoggedIn(),yield t==null?void 0:t.getData(),x()})},[e,x]);return _i.useEffect(()=>{x()},[x]),_i.useEffect(()=>{ci(An,null,function*(){const w=yield t==null?void 0:t.getData();n(w)})},[e,n,i]),R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Settings | Blooket",desc:"View your settings and basic information about your account. You can also request a password reset or contact the help team here."}),R.jsx(la,{user:r,page:"Settings"}),R.jsxs("div",{className:Qe.profileBody,children:[R.jsx("div",{className:er.header,children:"Settings"}),d?R.jsxs("div",{className:er.mainContainer,children:[R.jsx(wz,{username:d,email:s,dashboardLayout:i,joinedAtLabel:m}),R.jsx(Tz,{planName:l,planEnd:a,planRenew:p,setLoading:w=>y(w)}),R.jsx(Cz,{dashboardLayout:i,setLoading:w=>y(w),onChange:()=>b()}),R.jsx(bBt,{}),R.jsx(SBt,{}),R.jsx(wBt,{})]}):null]}),v&&R.jsx(xr,{text:"Processing...",loading:v})]})},gBt=()=>({planEnd:"",planName:"",planRenew:!1,setLoading:()=>{}}),yBt=e=>Ns({},e),xBt=Ls(Qs(gBt,yBt)(mBt)),wz=e=>{const{username:t,email:r,dashboardLayout:n,joinedAtLabel:d}=e,S=n===io.TEACHER?"Teacher":"Student";return R.jsxs("div",{className:er.infoContainer,children:[R.jsxs("div",{className:er.headerRow,children:[R.jsx("i",{className:Ct("fas fa-user",er.headerIcon),style:{lineHeight:1}}),R.jsx("div",{className:er.infoHeader,children:"Profile"})]}),R.jsxs("div",{className:er.text,children:[R.jsx("b",{children:"Username:"})," ",t]}),R.jsxs("div",{className:er.text,children:[R.jsx("b",{children:"Email:"})," ",r]}),R.jsxs("div",{className:er.text,children:[R.jsx("b",{children:"Dashboard Layout:"})," ",S]}),R.jsxs("div",{className:er.text,children:[R.jsx("b",{children:"Joined:"})," ",d]})]})};wz.propTypes={username:Xt.string,email:Xt.string,dashboardLayout:Xt.number,joinedAtLabel:Xt.string};const Tz=e=>{const{planName:t,planEnd:r,planRenew:n,setLoading:d}=e,S=dW(),s=_i.useCallback(()=>{d(!0),ci(An,null,function*(){try{const i=yield Yr.createBillingSession({});window.open(i.sessionUrl,"_self")}catch(i){Ve.logError(i,null),d(!1)}})},[]),g=()=>{S.push("/upgrade")};return R.jsxs("div",{className:er.infoContainer,children:[R.jsxs("div",{className:er.headerRow,children:[R.jsx("i",{className:Ct("fas fa-clipboard-list",er.headerIcon),style:{lineHeight:1}}),R.jsx("div",{className:er.infoHeader,children:"Plan"})]}),R.jsxs("div",{className:er.subscriptionText,children:[R.jsx("div",{className:er.blooketText,children:"Blooket"}),R.jsx("div",{className:Ct(er.planText,{[er.planTextOrange]:t!=="Starter"}),children:t})]}),t!=="Starter"?R.jsxs("div",{children:[R.jsxs("div",{className:er.text,children:[R.jsx("b",{children:"End Date:"})," ",r]}),n?R.jsx("div",{className:er.link,role:"button",tabIndex:0,onClick:s,children:"Edit Subscription"}):null]}):R.jsx(Ri,{color:"#ff7b24",onClick:g,outsideClass:er.upgradeButton,insideClass:er.upgradeButtonInside,children:"Upgrade Now!"})]})};Tz.propTypes={planName:Xt.string,planEnd:Xt.string,planRenew:Xt.bool,setLoading:Xt.func};const Cz=e=>{const{dashboardLayout:t,setLoading:r,onChange:n}=e,d=_i.useCallback(()=>{ci(An,null,function*(){r(!0);const S=t===io.TEACHER?io.STUDENT:io.TEACHER;yield Yr.setDashboardLayout({layout:S}),r(!1),n()})},[t]);return R.jsxs("div",{className:er.infoContainer,children:[R.jsxs("div",{className:er.headerRow,children:[R.jsx("i",{className:Ct("fas fa-pencil-alt",er.headerIcon),style:{lineHeight:1}}),R.jsx("div",{className:er.infoHeader,children:"Edit Info"})]}),R.jsx("div",{children:R.jsx(xa,{className:er.link,to:"/change/name",children:"Change Name"})}),R.jsx("div",{children:R.jsx("div",{className:er.link,role:"button",tabIndex:0,onClick:d,children:t===io.TEACHER?"Switch to Student Layout":"Switch to Teacher Layout"})}),R.jsx("div",{children:R.jsx("a",{className:er.link,href:`${ar.id}/forgot`,children:"Request Password Reset"})}),R.jsx("div",{children:R.jsx("a",{className:er.link,href:`${ar.id}/change/email`,children:"Change Email"})}),R.jsx("div",{children:R.jsx("a",{className:er.link,href:`${ar.id}/delete`,children:"Permanently Delete Account"})})]})};Cz.propTypes={dashboardLayout:Xt.number,setLoading:Xt.func,onChange:Xt.func};const bBt=()=>R.jsxs("div",{className:er.infoContainer,children:[R.jsxs("div",{className:er.headerRow,children:[R.jsx("i",{className:Ct("fas fa-comments",er.headerIcon),style:{lineHeight:1}}),R.jsx("div",{className:er.infoHeader,children:"Social"})]}),R.jsx("div",{children:R.jsxs("a",{className:er.link,href:"https://twitter.com/playblooket",target:"_blank",rel:"noopener noreferrer",children:[R.jsx("i",{className:Ct("fab fa-twitter-square",er.socialIcon)}),"Twitter (@PlayBlooket)"]})}),R.jsx("div",{children:R.jsxs("a",{className:er.link,href:"https://www.instagram.com/playblooket",target:"_blank",rel:"noopener noreferrer",children:[R.jsx("i",{className:Ct("fab fa-instagram-square",er.socialIcon)}),"Instagram (@PlayBlooket)"]})}),R.jsx("div",{children:R.jsxs("a",{className:er.link,href:"https://www.facebook.com/PlayBlooket",target:"_blank",rel:"noopener noreferrer",children:[R.jsx("i",{className:Ct("fab fa-facebook-square",er.socialIcon)}),"Facebook (@PlayBlooket)"]})})]}),SBt=()=>R.jsxs("div",{className:er.infoContainer,children:[R.jsxs("div",{className:er.headerRow,children:[R.jsx("i",{className:Ct("fas fa-question-circle",er.headerIcon),style:{lineHeight:1}}),R.jsx("div",{className:er.infoHeader,children:"Support"})]}),R.jsxs("div",{className:er.text,children:["Contact us at: ",R.jsx("a",{className:er.link,href:"mailto:contact-us@blooket.com",children:"contact-us@blooket.com"})]}),R.jsx("div",{children:R.jsx("a",{className:er.link,href:"https://help.blooket.com",target:"_blank",rel:"noopener noreferrer",children:"View Our Help Center"})}),R.jsx("div",{children:R.jsx("a",{className:er.link,href:"https://www.blooket.com/faq",target:"_blank",rel:"noopener noreferrer",children:"Frequently Asked Questions"})})]}),wBt=()=>R.jsxs("div",{className:er.infoContainer,children:[R.jsxs("div",{className:er.headerRow,children:[R.jsx("i",{className:Ct("fas fa-lock",er.headerIcon),style:{lineHeight:1}}),R.jsx("div",{className:er.infoHeader,children:"Privacy"})]}),R.jsx("div",{children:R.jsx("a",{className:er.link,href:`${ar.www}/privacy`,children:"Privacy Policy"})}),R.jsx("div",{children:R.jsx("a",{className:er.link,href:`${ar.www}/terms`,children:"Terms of Service"})})]}),TBt="_overlay_jxjc4_1",CBt="_modal_jxjc4_13",EBt="_closeIcon_jxjc4_31",kBt="_topRow_jxjc4_46",PBt="_khanmigoImg_jxjc4_60",ABt="_centerRow_jxjc4_65",RBt="_anim_jxjc4_72",IBt="_subheader_jxjc4_78",MBt="_subheaderIcon_jxjc4_85",BBt="_text_jxjc4_92",OBt="_buttonLink_jxjc4_97",NBt="_learnLink_jxjc4_114",Ra={overlay:TBt,modal:CBt,closeIcon:EBt,topRow:kBt,khanmigoImg:PBt,centerRow:ABt,anim:RBt,subheader:IBt,subheaderIcon:MBt,text:BBt,buttonLink:OBt,learnLink:NBt};function LBt({show:e,onClose:t}){return e?R.jsxs(R.Fragment,{children:[R.jsx("button",{type:"button",className:Ra.overlay,onClick:t,children:R.jsx("span",{className:"sr-only",children:"Close"})}),R.jsxs("div",{className:Ra.modal,children:[R.jsxs("button",{type:"button",className:Ra.closeIcon,onClick:t,children:[R.jsx("i",{className:"fas fa-times"}),R.jsx("span",{className:"sr-only",children:"Close"})]}),R.jsxs("div",{className:Ra.topRow,children:["Generate Questions with",R.jsx("img",{src:Ee.basic.khanmigoBanner,alt:"Khanmigo by Khan Academy",className:Ra.khanmigoImg,draggable:!1})]}),R.jsxs("div",{className:Ra.centerRow,children:[R.jsx("img",{src:Ee.basic.khanmigoAnim,className:Ra.anim,draggable:!1,alt:"Khanmigo"}),R.jsxs("div",{children:[R.jsxs("div",{className:Ra.subheader,children:[R.jsx("i",{className:Ct("fas fa-sign-in-alt",Ra.subheaderIcon)}),"Sign in to Khan Academy"]}),R.jsx("div",{className:Ra.text,children:"Khanmigo's AI powered teacher tools are free for educators! Sign up or sign in to your existing account."}),R.jsx("div",{style:{height:10}}),R.jsxs("div",{className:Ra.subheader,children:[R.jsx("i",{className:Ct("fas fa-rocket",Ra.subheaderIcon)}),"Generate & Export"]}),R.jsx("div",{className:Ra.text,children:'Create questions based on your topic and click the "Export to Blooket" button to open, save, and use your set in Blooket.'})]})]}),R.jsx("a",{className:Ra.buttonLink,href:"https://khanacademy.org/teacher/blooket",target:"_blank",children:"Get Started"}),R.jsx("a",{className:Ra.learnLink,href:"https://help.blooket.com/hc/en-us/articles/28660875749527-AI-Generated-Question-Sets-with-Khanmigo",target:"_blank",children:"Learn more about how it works"})]})]}):null}const FBt="_mainContainer_2dg4p_1",DBt="_closeIcon_2dg4p_32",_Bt="_logoHeader_2dg4p_49",jBt="_stepHeader_2dg4p_55",zBt="_stepDesc_2dg4p_64",UBt="_buttonContainer_2dg4p_72",GBt="_button_2dg4p_72",HBt="_userIcon_2dg4p_101",$Bt="_searchIcon_2dg4p_107",WBt="_buttonText_2dg4p_113",VBt="_nextButton_2dg4p_119",YBt="_exportStep_2dg4p_142",XBt="_imageStep_2dg4p_149",QBt="_imageStep3_2dg4p_154",KBt="_exportInstructions_2dg4p_161",JBt="_exportSub_2dg4p_169",ZBt="_input_2dg4p_174",qBt="_stepRow_2dg4p_196",tOt="_checkBox_2dg4p_203",eOt="_checkIcon_2dg4p_218",iOt="_checkYes_2dg4p_223",rOt="_checkNo_2dg4p_229",nOt="_checkText_2dg4p_235",sOt="_errorContainer_2dg4p_242",aOt="_errorIcon_2dg4p_254",oOt="_errorText_2dg4p_263",Br={mainContainer:FBt,closeIcon:DBt,logoHeader:_Bt,stepHeader:jBt,stepDesc:zBt,buttonContainer:UBt,button:GBt,userIcon:HBt,searchIcon:$Bt,buttonText:WBt,nextButton:VBt,exportStep:YBt,imageStep:XBt,imageStep3:QBt,exportInstructions:KBt,exportSub:JBt,input:ZBt,stepRow:qBt,checkBox:tOt,checkIcon:eOt,checkYes:iOt,checkNo:rOt,checkText:nOt,errorContainer:sOt,errorIcon:aOt,errorText:oOt},lOt=Ee.basic.QuizletFullLogo,uOt=Ee.basic.QuizletImportStep1,hOt=Ee.basic.QuizletImportStep2,cOt=Ee.basic.QuizletImportStep3;class g4 extends ti.Component{constructor(t){super(t),this.state={stage:1,input:"",loading:!1,isFlipped:!1},this.here=!0,this.onCreate=this.onCreate.bind(this)}componentWillUnmount(){this.here=!1}onCreate(t){t.preventDefault(),this.setState({loading:!0}),vi.put("/api/games/quizlet-import",{text:this.state.input,isFlipped:this.state.isFlipped,gameId:this.props.gameId}).then(()=>{this.props.done(null,!0)}).catch(r=>{this.props.done(null,!1),this.here&&this.setState({error:`Error: ${r.response.data.msg}`,loading:!1})})}render(){return R.jsxs("div",{className:Br.mainContainer,children:[R.jsx("i",{className:Ct(Br.closeIcon,"fas fa-times"),role:"button",tabIndex:0,onClick:()=>this.props.close()}),R.jsx("img",{src:lOt,alt:"Quizlet",className:Br.logoHeader}),R.jsx("div",{className:Br.stepHeader,children:this.state.stage===1?"Step 1: Find a Set":this.state.stage===2?"Step 2: How to Export":"Step 3: Paste and Create"}),this.state.stage===1?R.jsxs("div",{children:[R.jsxs("div",{className:Br.stepDesc,children:["Any of Quizlet's sets can quickly be converted into a Blooket set! Then, you can go back and edit it to make it your own. Once you find a set, hit the next button below."," For the best results, use Quizlet sets that list the answer first and the question second."]}),R.jsxs("div",{className:Br.buttonContainer,children:[R.jsxs("a",{className:Br.button,href:"https://quizlet.com/latest",target:"_blank",rel:"noopener noreferrer",children:[R.jsx("i",{className:Ct(Br.userIcon,"fas fa-user-astronaut"),style:{lineHeight:1}}),R.jsx("div",{className:Br.buttonText,children:"Your Quizlet"})]}),R.jsxs("a",{className:Br.button,href:"https://quizlet.com/subject",target:"_blank",rel:"noopener noreferrer",children:[R.jsx("i",{className:Ct(Br.searchIcon,"fas fa-search"),style:{lineHeight:1}}),R.jsx("div",{className:Br.buttonText,children:"Search Quizlet"})]})]})]}):this.state.stage===2?R.jsxs("div",{children:[R.jsx("div",{className:Br.stepDesc,children:"Follow the steps below to export a set from Quizlet. Then, hit the next button after copying the set."}),R.jsxs("div",{className:Br.exportStep,children:[R.jsx("img",{src:uOt,alt:"Export Step One",className:Br.imageStep}),R.jsx("div",{className:Br.exportInstructions,children:"Click the '3 dots' button on the set you want to export"})]}),R.jsxs("div",{className:Br.exportStep,children:[R.jsx("img",{src:hOt,alt:"Export Step Two",className:Br.imageStep}),R.jsx("div",{className:Br.exportInstructions,children:"Under the dropdown menu, click 'Export'"}),R.jsx("div",{className:Ct(Br.exportInstructions,Br.exportSub),children:"(You must own the set to export it, so if the option doesn't appear create a copy of it for yourself.)"})]}),R.jsxs("div",{className:Br.exportStep,children:[R.jsx("img",{src:cOt,alt:"Export Step Three",className:Br.imageStep3}),R.jsx("div",{className:Br.exportInstructions,children:"Leave 'Tab' and 'New line' selected, then click 'Copy Text'"})]})]}):R.jsxs("div",{children:[R.jsx("div",{className:Br.stepDesc,children:"Now, paste the text into the text box below and hit the 'Add Questions' button under it."}),R.jsxs("div",{className:Br.stepRow,children:[R.jsx("div",{className:Ct(Br.checkBox,this.state.isFlipped?Br.checkYes:Br.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({isFlipped:!this.state.isFlipped}),children:R.jsx("i",{className:Ct(Br.checkIcon,"fas fa-check")})}),R.jsx("div",{className:Br.checkText,children:"Flip questions and answers"})]}),R.jsx("textarea",{className:Br.input,onChange:t=>this.setState({input:t.target.value}),"data-gramm_editor":"false"})]}),this.state.error?R.jsxs("div",{className:Br.errorContainer,children:[R.jsx("i",{className:Ct(Br.errorIcon,"fas fa-times-circle")}),R.jsx("div",{className:Br.errorText,children:this.state.error})]}):null,this.state.loading?R.jsx(Po,{}):this.state.stage===3?R.jsx("div",{className:Br.nextButton,role:"button",tabIndex:0,onClick:t=>this.onCreate(t),children:"Add Questions"}):R.jsx("div",{className:Br.nextButton,role:"button",tabIndex:0,onClick:()=>this.setState({stage:this.state.stage+1}),children:"Next Step"})]})}}g4.propTypes={gameId:ip.string,done:Xt.func.isRequired,close:Xt.func.isRequired};var y4={exports:{}},Mf=typeof Reflect=="object"?Reflect:null,s7=Mf&&typeof Mf.apply=="function"?Mf.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},w1;Mf&&typeof Mf.ownKeys=="function"?w1=Mf.ownKeys:Object.getOwnPropertySymbols?w1=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:w1=function(t){return Object.getOwnPropertyNames(t)};function dOt(e){console&&console.warn&&console.warn(e)}var Ez=Number.isNaN||function(t){return t!==t};function fn(){fn.init.call(this)}y4.exports=fn;y4.exports.once=mOt;fn.EventEmitter=fn;fn.prototype._events=void 0;fn.prototype._eventsCount=0;fn.prototype._maxListeners=void 0;var a7=10;function ib(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(fn,"defaultMaxListeners",{enumerable:!0,get:function(){return a7},set:function(e){if(typeof e!="number"||e<0||Ez(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a7=e}});fn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};fn.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Ez(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function kz(e){return e._maxListeners===void 0?fn.defaultMaxListeners:e._maxListeners}fn.prototype.getMaxListeners=function(){return kz(this)};fn.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var d=t==="error",S=this._events;if(S!==void 0)d=d&&S.error===void 0;else if(!d)return!1;if(d){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var g=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw g.context=s,g}var i=S[t];if(i===void 0)return!1;if(typeof i=="function")s7(i,this,r);else for(var o=i.length,m=Mz(i,o),n=0;n<o;++n)s7(m[n],this,r);return!0};function Pz(e,t,r,n){var d,S,s;if(ib(r),S=e._events,S===void 0?(S=e._events=Object.create(null),e._eventsCount=0):(S.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),S=e._events),s=S[t]),s===void 0)s=S[t]=r,++e._eventsCount;else if(typeof s=="function"?s=S[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),d=kz(e),d>0&&s.length>d&&!s.warned){s.warned=!0;var g=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");g.name="MaxListenersExceededWarning",g.emitter=e,g.type=t,g.count=s.length,dOt(g)}return e}fn.prototype.addListener=function(t,r){return Pz(this,t,r,!1)};fn.prototype.on=fn.prototype.addListener;fn.prototype.prependListener=function(t,r){return Pz(this,t,r,!0)};function fOt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Az(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},d=fOt.bind(n);return d.listener=r,n.wrapFn=d,d}fn.prototype.once=function(t,r){return ib(r),this.on(t,Az(this,t,r)),this};fn.prototype.prependOnceListener=function(t,r){return ib(r),this.prependListener(t,Az(this,t,r)),this};fn.prototype.removeListener=function(t,r){var n,d,S,s,g;if(ib(r),d=this._events,d===void 0)return this;if(n=d[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete d[t],d.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(S=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){g=n[s].listener,S=s;break}if(S<0)return this;S===0?n.shift():pOt(n,S),n.length===1&&(d[t]=n[0]),d.removeListener!==void 0&&this.emit("removeListener",t,g||r)}return this};fn.prototype.off=fn.prototype.removeListener;fn.prototype.removeAllListeners=function(t){var r,n,d;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var S=Object.keys(n),s;for(d=0;d<S.length;++d)s=S[d],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(d=r.length-1;d>=0;d--)this.removeListener(t,r[d]);return this};function Rz(e,t,r){var n=e._events;if(n===void 0)return[];var d=n[t];return d===void 0?[]:typeof d=="function"?r?[d.listener||d]:[d]:r?vOt(d):Mz(d,d.length)}fn.prototype.listeners=function(t){return Rz(this,t,!0)};fn.prototype.rawListeners=function(t){return Rz(this,t,!1)};fn.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Iz.call(e,t)};fn.prototype.listenerCount=Iz;function Iz(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}fn.prototype.eventNames=function(){return this._eventsCount>0?w1(this._events):[]};function Mz(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function pOt(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function vOt(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function mOt(e,t){return new Promise(function(r,n){function d(s){e.removeListener(t,S),n(s)}function S(){typeof e.removeListener=="function"&&e.removeListener("error",d),r([].slice.call(arguments))}Bz(e,t,S,{once:!0}),t!=="error"&&gOt(e,d,{once:!0})})}function gOt(e,t,r){typeof e.on=="function"&&Bz(e,"error",t,r)}function Bz(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function d(S){n.once&&e.removeEventListener(t,d),r(S)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var x4=y4.exports,zC={exports:{}};typeof Object.create=="function"?zC.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:zC.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Ld=zC.exports,Tw,o7;function Oz(){return o7||(o7=1,Tw=x4.EventEmitter),Tw}const rb=pR(akt);var Cw={},Ew={},kw,l7;function Nz(){return l7||(l7=1,kw=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var d=42;t[r]=d;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var S=Object.getOwnPropertySymbols(t);if(S.length!==1||S[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==d||s.enumerable!==!0)return!1}return!0}),kw}var Pw,u7;function b4(){if(u7)return Pw;u7=1;var e=Nz();return Pw=function(){return e()&&!!Symbol.toStringTag},Pw}var Aw,h7;function yOt(){return h7||(h7=1,Aw=Error),Aw}var Rw,c7;function xOt(){return c7||(c7=1,Rw=EvalError),Rw}var Iw,d7;function bOt(){return d7||(d7=1,Iw=RangeError),Iw}var Mw,f7;function SOt(){return f7||(f7=1,Mw=ReferenceError),Mw}var Bw,p7;function Lz(){return p7||(p7=1,Bw=SyntaxError),Bw}var Ow,v7;function nb(){return v7||(v7=1,Ow=TypeError),Ow}var Nw,m7;function wOt(){return m7||(m7=1,Nw=URIError),Nw}var Lw,g7;function TOt(){if(g7)return Lw;g7=1;var e=typeof Symbol!="undefined"&&Symbol,t=Nz();return Lw=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Lw}var Fw,y7;function COt(){if(y7)return Fw;y7=1;var e={__proto__:null,foo:{}},t=Object;return Fw=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof t)},Fw}var Dw,x7;function EOt(){if(x7)return Dw;x7=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",d=function(i,o){for(var m=[],c=0;c<i.length;c+=1)m[c]=i[c];for(var l=0;l<o.length;l+=1)m[l+i.length]=o[l];return m},S=function(i,o){for(var m=[],c=o,l=0;c<i.length;c+=1,l+=1)m[l]=i[c];return m},s=function(g,i){for(var o="",m=0;m<g.length;m+=1)o+=g[m],m+1<g.length&&(o+=i);return o};return Dw=function(i){var o=this;if(typeof o!="function"||t.apply(o)!==n)throw new TypeError(e+o);for(var m=S(arguments,1),c,l=function(){if(this instanceof c){var u=o.apply(this,d(m,arguments));return Object(u)===u?u:this}return o.apply(i,d(m,arguments))},h=r(0,o.length-m.length),a=[],f=0;f<h;f++)a[f]="$"+f;if(c=Function("binder","return function ("+s(a,",")+"){ return binder.apply(this,arguments); }")(l),o.prototype){var p=function(){};p.prototype=o.prototype,c.prototype=new p,p.prototype=null}return c},Dw}var _w,b7;function S4(){if(b7)return _w;b7=1;var e=EOt();return _w=Function.prototype.bind||e,_w}var jw,S7;function kOt(){if(S7)return jw;S7=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=S4();return jw=r.call(e,t),jw}var zw,w7;function pg(){if(w7)return zw;w7=1;var e,t=yOt(),r=xOt(),n=bOt(),d=SOt(),S=Lz(),s=nb(),g=wOt(),i=Function,o=function(L){try{return i('"use strict"; return ('+L+").constructor;")()}catch(_){}},m=Object.getOwnPropertyDescriptor;if(m)try{m({},"")}catch(L){m=null}var c=function(){throw new s},l=m?function(){try{return arguments.callee,c}catch(L){try{return m(arguments,"callee").get}catch(_){return c}}}():c,h=TOt()(),a=COt()(),f=Object.getPrototypeOf||(a?function(L){return L.__proto__}:null),p={},u=typeof Uint8Array=="undefined"||!f?e:f(Uint8Array),v={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?e:ArrayBuffer,"%ArrayIteratorPrototype%":h&&f?f([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":typeof Atomics=="undefined"?e:Atomics,"%BigInt%":typeof BigInt=="undefined"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array=="undefined"?e:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?e:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":typeof Int8Array=="undefined"?e:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?e:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h&&f?f(f([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map=="undefined"?e:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!h||!f?e:f(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?e:Promise,"%Proxy%":typeof Proxy=="undefined"?e:Proxy,"%RangeError%":n,"%ReferenceError%":d,"%Reflect%":typeof Reflect=="undefined"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?e:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!h||!f?e:f(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h&&f?f(""[Symbol.iterator]()):e,"%Symbol%":h?Symbol:e,"%SyntaxError%":S,"%ThrowTypeError%":l,"%TypedArray%":u,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array=="undefined"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?e:Uint32Array,"%URIError%":g,"%WeakMap%":typeof WeakMap=="undefined"?e:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?e:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?e:WeakSet};if(f)try{null.error}catch(L){var y=f(f(L));v["%Error.prototype%"]=y}var x=function L(_){var G;if(_==="%AsyncFunction%")G=o("async function () {}");else if(_==="%GeneratorFunction%")G=o("function* () {}");else if(_==="%AsyncGeneratorFunction%")G=o("async function* () {}");else if(_==="%AsyncGenerator%"){var $=L("%AsyncGeneratorFunction%");$&&(G=$.prototype)}else if(_==="%AsyncIteratorPrototype%"){var W=L("%AsyncGenerator%");W&&f&&(G=f(W.prototype))}return v[_]=G,G},b={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=S4(),C=kOt(),E=w.call(Function.call,Array.prototype.concat),T=w.call(Function.apply,Array.prototype.splice),k=w.call(Function.call,String.prototype.replace),A=w.call(Function.call,String.prototype.slice),I=w.call(Function.call,RegExp.prototype.exec),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,O=function(_){var G=A(_,0,1),$=A(_,-1);if(G==="%"&&$!=="%")throw new S("invalid intrinsic syntax, expected closing `%`");if($==="%"&&G!=="%")throw new S("invalid intrinsic syntax, expected opening `%`");var W=[];return k(_,B,function(Y,z,F,N){W[W.length]=F?k(N,M,"$1"):z||Y}),W},P=function(_,G){var $=_,W;if(C(b,$)&&(W=b[$],$="%"+W[0]+"%"),C(v,$)){var Y=v[$];if(Y===p&&(Y=x($)),typeof Y=="undefined"&&!G)throw new s("intrinsic "+_+" exists, but is not available. Please file an issue!");return{alias:W,name:$,value:Y}}throw new S("intrinsic "+_+" does not exist!")};return zw=function(_,G){if(typeof _!="string"||_.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof G!="boolean")throw new s('"allowMissing" argument must be a boolean');if(I(/^%?[^%]*%?$/,_)===null)throw new S("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var $=O(_),W=$.length>0?$[0]:"",Y=P("%"+W+"%",G),z=Y.name,F=Y.value,N=!1,j=Y.alias;j&&(W=j[0],T($,E([0,1],j)));for(var U=1,V=!0;U<$.length;U+=1){var q=$[U],ot=A(q,0,1),Q=A(q,-1);if((ot==='"'||ot==="'"||ot==="`"||Q==='"'||Q==="'"||Q==="`")&&ot!==Q)throw new S("property names with quotes must have matching quotes");if((q==="constructor"||!V)&&(N=!0),W+="."+q,z="%"+W+"%",C(v,z))F=v[z];else if(F!=null){if(!(q in F)){if(!G)throw new s("base intrinsic for "+_+" exists, but the property is not available.");return}if(m&&U+1>=$.length){var rt=m(F,q);V=!!rt,V&&"get"in rt&&!("originalValue"in rt.get)?F=rt.get:F=F[q]}else V=C(F,q),F=F[q];V&&!N&&(v[z]=F)}}return F},zw}var Uw={exports:{}},Gw,T7;function w4(){if(T7)return Gw;T7=1;var e=pg(),t=e("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch(r){t=!1}return Gw=t,Gw}var Hw,C7;function T4(){if(C7)return Hw;C7=1;var e=pg(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch(r){t=null}return Hw=t,Hw}var $w,E7;function POt(){if(E7)return $w;E7=1;var e=w4(),t=Lz(),r=nb(),n=T4();return $w=function(S,s,g){if(!S||typeof S!="object"&&typeof S!="function")throw new r("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,m=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,l=!!n&&n(S,s);if(e)e(S,s,{configurable:m===null&&l?l.configurable:!m,enumerable:i===null&&l?l.enumerable:!i,value:g,writable:o===null&&l?l.writable:!o});else if(c||!i&&!o&&!m)S[s]=g;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$w}var Ww,k7;function AOt(){if(k7)return Ww;k7=1;var e=w4(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch(n){return!0}},Ww=t,Ww}var Vw,P7;function ROt(){if(P7)return Vw;P7=1;var e=pg(),t=POt(),r=AOt()(),n=T4(),d=nb(),S=e("%Math.floor%");return Vw=function(g,i){if(typeof g!="function")throw new d("`fn` is not a function");if(typeof i!="number"||i<0||i>4294967295||S(i)!==i)throw new d("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],m=!0,c=!0;if("length"in g&&n){var l=n(g,"length");l&&!l.configurable&&(m=!1),l&&!l.writable&&(c=!1)}return(m||c||!o)&&(r?t(g,"length",i,!0,!0):t(g,"length",i)),g},Vw}var A7;function Fz(){return A7||(A7=1,function(e){var t=S4(),r=pg(),n=ROt(),d=nb(),S=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),g=r("%Reflect.apply%",!0)||t.call(s,S),i=w4(),o=r("%Math.max%");e.exports=function(l){if(typeof l!="function")throw new d("a function is required");var h=g(t,s,arguments);return n(h,1+o(0,l.length-(arguments.length-1)),!0)};var m=function(){return g(t,S,arguments)};i?i(e.exports,"apply",{value:m}):e.exports.apply=m}(Uw)),Uw.exports}var Yw,R7;function Dz(){if(R7)return Yw;R7=1;var e=pg(),t=Fz(),r=t(e("String.prototype.indexOf"));return Yw=function(d,S){var s=e(d,!!S);return typeof s=="function"&&r(d,".prototype.")>-1?t(s):s},Yw}var Xw,I7;function IOt(){if(I7)return Xw;I7=1;var e=b4()(),t=Dz(),r=t("Object.prototype.toString"),n=function(g){return e&&g&&typeof g=="object"&&Symbol.toStringTag in g?!1:r(g)==="[object Arguments]"},d=function(g){return n(g)?!0:g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&r(g)!=="[object Array]"&&r(g.callee)==="[object Function]"},S=function(){return n(arguments)}();return n.isLegacyArguments=d,Xw=S?n:d,Xw}var Qw,M7;function MOt(){if(M7)return Qw;M7=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=b4()(),d=Object.getPrototypeOf,S=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch(g){}},s;return Qw=function(i){if(typeof i!="function")return!1;if(r.test(t.call(i)))return!0;if(!n){var o=e.call(i);return o==="[object GeneratorFunction]"}if(!d)return!1;if(typeof s=="undefined"){var m=S();s=m?d(m):!1}return d(i)===s},Qw}var Kw,B7;function BOt(){if(B7)return Kw;B7=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(v){v!==n&&(t=null)}else t=null;var d=/^\s*class\b/,S=function(y){try{var x=e.call(y);return d.test(x)}catch(b){return!1}},s=function(y){try{return S(y)?!1:(e.call(y),!0)}catch(x){return!1}},g=Object.prototype.toString,i="[object Object]",o="[object Function]",m="[object GeneratorFunction]",c="[object HTMLAllCollection]",l="[object HTML document.all class]",h="[object HTMLCollection]",a=typeof Symbol=="function"&&!!Symbol.toStringTag,f=!(0 in[,]),p=function(){return!1};if(typeof document=="object"){var u=document.all;g.call(u)===g.call(document.all)&&(p=function(y){if((f||!y)&&(typeof y=="undefined"||typeof y=="object"))try{var x=g.call(y);return(x===c||x===l||x===h||x===i)&&y("")==null}catch(b){}return!1})}return Kw=t?function(y){if(p(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;try{t(y,null,r)}catch(x){if(x!==n)return!1}return!S(y)&&s(y)}:function(y){if(p(y))return!0;if(!y||typeof y!="function"&&typeof y!="object")return!1;if(a)return s(y);if(S(y))return!1;var x=g.call(y);return x!==o&&x!==m&&!/^\[object HTML/.test(x)?!1:s(y)},Kw}var Jw,O7;function OOt(){if(O7)return Jw;O7=1;var e=BOt(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(i,o,m){for(var c=0,l=i.length;c<l;c++)r.call(i,c)&&(m==null?o(i[c],c,i):o.call(m,i[c],c,i))},d=function(i,o,m){for(var c=0,l=i.length;c<l;c++)m==null?o(i.charAt(c),c,i):o.call(m,i.charAt(c),c,i)},S=function(i,o,m){for(var c in i)r.call(i,c)&&(m==null?o(i[c],c,i):o.call(m,i[c],c,i))},s=function(i,o,m){if(!e(o))throw new TypeError("iterator must be a function");var c;arguments.length>=3&&(c=m),t.call(i)==="[object Array]"?n(i,o,c):typeof i=="string"?d(i,o,c):S(i,o,c)};return Jw=s,Jw}var Zw,N7;function NOt(){return N7||(N7=1,Zw=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Zw}var qw,L7;function LOt(){if(L7)return qw;L7=1;var e=NOt(),t=globalThis;return qw=function(){for(var n=[],d=0;d<e.length;d++)typeof t[e[d]]=="function"&&(n[n.length]=e[d]);return n},qw}var tT,F7;function _z(){if(F7)return tT;F7=1;var e=OOt(),t=LOt(),r=Fz(),n=Dz(),d=T4(),S=n("Object.prototype.toString"),s=b4()(),g=globalThis,i=t(),o=n("String.prototype.slice"),m=Object.getPrototypeOf,c=n("Array.prototype.indexOf",!0)||function(p,u){for(var v=0;v<p.length;v+=1)if(p[v]===u)return v;return-1},l={__proto__:null};s&&d&&m?e(i,function(f){var p=new g[f];if(Symbol.toStringTag in p){var u=m(p),v=d(u,Symbol.toStringTag);if(!v){var y=m(u);v=d(y,Symbol.toStringTag)}l["$"+f]=r(v.get)}}):e(i,function(f){var p=new g[f],u=p.slice||p.set;u&&(l["$"+f]=r(u))});var h=function(p){var u=!1;return e(l,function(v,y){if(!u)try{"$"+v(p)===y&&(u=o(y,1))}catch(x){}}),u},a=function(p){var u=!1;return e(l,function(v,y){if(!u)try{v(p),u=o(y,1)}catch(x){}}),u};return tT=function(p){if(!p||typeof p!="object")return!1;if(!s){var u=o(S(p),8,-1);return c(i,u)>-1?u:u!=="Object"?!1:a(p)}return d?h(p):null},tT}var eT,D7;function FOt(){if(D7)return eT;D7=1;var e=_z();return eT=function(r){return!!e(r)},eT}var _7;function DOt(){return _7||(_7=1,function(e){var t=IOt(),r=MOt(),n=_z(),d=FOt();function S(At){return At.call.bind(At)}var s=typeof BigInt!="undefined",g=typeof Symbol!="undefined",i=S(Object.prototype.toString),o=S(Number.prototype.valueOf),m=S(String.prototype.valueOf),c=S(Boolean.prototype.valueOf);if(s)var l=S(BigInt.prototype.valueOf);if(g)var h=S(Symbol.prototype.valueOf);function a(At,Ot){if(typeof At!="object")return!1;try{return Ot(At),!0}catch(le){return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=d;function f(At){return typeof Promise!="undefined"&&At instanceof Promise||At!==null&&typeof At=="object"&&typeof At.then=="function"&&typeof At.catch=="function"}e.isPromise=f;function p(At){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(At):d(At)||z(At)}e.isArrayBufferView=p;function u(At){return n(At)==="Uint8Array"}e.isUint8Array=u;function v(At){return n(At)==="Uint8ClampedArray"}e.isUint8ClampedArray=v;function y(At){return n(At)==="Uint16Array"}e.isUint16Array=y;function x(At){return n(At)==="Uint32Array"}e.isUint32Array=x;function b(At){return n(At)==="Int8Array"}e.isInt8Array=b;function w(At){return n(At)==="Int16Array"}e.isInt16Array=w;function C(At){return n(At)==="Int32Array"}e.isInt32Array=C;function E(At){return n(At)==="Float32Array"}e.isFloat32Array=E;function T(At){return n(At)==="Float64Array"}e.isFloat64Array=T;function k(At){return n(At)==="BigInt64Array"}e.isBigInt64Array=k;function A(At){return n(At)==="BigUint64Array"}e.isBigUint64Array=A;function I(At){return i(At)==="[object Map]"}I.working=typeof Map!="undefined"&&I(new Map);function B(At){return typeof Map=="undefined"?!1:I.working?I(At):At instanceof Map}e.isMap=B;function M(At){return i(At)==="[object Set]"}M.working=typeof Set!="undefined"&&M(new Set);function O(At){return typeof Set=="undefined"?!1:M.working?M(At):At instanceof Set}e.isSet=O;function P(At){return i(At)==="[object WeakMap]"}P.working=typeof WeakMap!="undefined"&&P(new WeakMap);function L(At){return typeof WeakMap=="undefined"?!1:P.working?P(At):At instanceof WeakMap}e.isWeakMap=L;function _(At){return i(At)==="[object WeakSet]"}_.working=typeof WeakSet!="undefined"&&_(new WeakSet);function G(At){return _(At)}e.isWeakSet=G;function $(At){return i(At)==="[object ArrayBuffer]"}$.working=typeof ArrayBuffer!="undefined"&&$(new ArrayBuffer);function W(At){return typeof ArrayBuffer=="undefined"?!1:$.working?$(At):At instanceof ArrayBuffer}e.isArrayBuffer=W;function Y(At){return i(At)==="[object DataView]"}Y.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Y(new DataView(new ArrayBuffer(1),0,1));function z(At){return typeof DataView=="undefined"?!1:Y.working?Y(At):At instanceof DataView}e.isDataView=z;var F=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function N(At){return i(At)==="[object SharedArrayBuffer]"}function j(At){return typeof F=="undefined"?!1:(typeof N.working=="undefined"&&(N.working=N(new F)),N.working?N(At):At instanceof F)}e.isSharedArrayBuffer=j;function U(At){return i(At)==="[object AsyncFunction]"}e.isAsyncFunction=U;function V(At){return i(At)==="[object Map Iterator]"}e.isMapIterator=V;function q(At){return i(At)==="[object Set Iterator]"}e.isSetIterator=q;function ot(At){return i(At)==="[object Generator]"}e.isGeneratorObject=ot;function Q(At){return i(At)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=Q;function rt(At){return a(At,o)}e.isNumberObject=rt;function Bt(At){return a(At,m)}e.isStringObject=Bt;function K(At){return a(At,c)}e.isBooleanObject=K;function Mt(At){return s&&a(At,l)}e.isBigIntObject=Mt;function Ft(At){return g&&a(At,h)}e.isSymbolObject=Ft;function dt(At){return rt(At)||Bt(At)||K(At)||Mt(At)||Ft(At)}e.isBoxedPrimitive=dt;function yt(At){return typeof Uint8Array!="undefined"&&(W(At)||j(At))}e.isAnyArrayBuffer=yt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(At){Object.defineProperty(e,At,{enumerable:!1,value:function(){throw new Error(At+" is not supported in userland")}})})}(Ew)),Ew}var iT,j7;function _Ot(){return j7||(j7=1,iT=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),iT}var z7;function jz(){return z7||(z7=1,function(e){var t={},r=Object.getOwnPropertyDescriptors||function(F){for(var N=Object.keys(F),j={},U=0;U<N.length;U++)j[N[U]]=Object.getOwnPropertyDescriptor(F,N[U]);return j},n=/%[sdj%]/g;e.format=function(z){if(!w(z)){for(var F=[],N=0;N<arguments.length;N++)F.push(g(arguments[N]));return F.join(" ")}for(var N=1,j=arguments,U=j.length,V=String(z).replace(n,function(ot){if(ot==="%%")return"%";if(N>=U)return ot;switch(ot){case"%s":return String(j[N++]);case"%d":return Number(j[N++]);case"%j":try{return JSON.stringify(j[N++])}catch(Q){return"[Circular]"}default:return ot}}),q=j[N];N<U;q=j[++N])y(q)||!k(q)?V+=" "+q:V+=" "+g(q);return V},e.deprecate=function(z,F){if(typeof hr!="undefined"&&hr.noDeprecation===!0)return z;if(typeof hr=="undefined")return function(){return e.deprecate(z,F).apply(this,arguments)};var N=!1;function j(){if(!N){if(hr.throwDeprecation)throw new Error(F);hr.traceDeprecation?console.trace(F):console.error(F),N=!0}return z.apply(this,arguments)}return j};var d={},S=/^$/;if(t.NODE_DEBUG){var s=t.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),S=new RegExp("^"+s+"$","i")}e.debuglog=function(z){if(z=z.toUpperCase(),!d[z])if(S.test(z)){var F=hr.pid;d[z]=function(){var N=e.format.apply(e,arguments);console.error("%s %d: %s",z,F,N)}}else d[z]=function(){};return d[z]};function g(z,F){var N={seen:[],stylize:o};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),v(F)?N.showHidden=F:F&&e._extend(N,F),E(N.showHidden)&&(N.showHidden=!1),E(N.depth)&&(N.depth=2),E(N.colors)&&(N.colors=!1),E(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=i),c(N,z,N.depth)}e.inspect=g,g.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},g.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function i(z,F){var N=g.styles[F];return N?"\x1B["+g.colors[N][0]+"m"+z+"\x1B["+g.colors[N][1]+"m":z}function o(z,F){return z}function m(z){var F={};return z.forEach(function(N,j){F[N]=!0}),F}function c(z,F,N){if(z.customInspect&&F&&B(F.inspect)&&F.inspect!==e.inspect&&!(F.constructor&&F.constructor.prototype===F)){var j=F.inspect(N,z);return w(j)||(j=c(z,j,N)),j}var U=l(z,F);if(U)return U;var V=Object.keys(F),q=m(V);if(z.showHidden&&(V=Object.getOwnPropertyNames(F)),I(F)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return h(F);if(V.length===0){if(B(F)){var ot=F.name?": "+F.name:"";return z.stylize("[Function"+ot+"]","special")}if(T(F))return z.stylize(RegExp.prototype.toString.call(F),"regexp");if(A(F))return z.stylize(Date.prototype.toString.call(F),"date");if(I(F))return h(F)}var Q="",rt=!1,Bt=["{","}"];if(u(F)&&(rt=!0,Bt=["[","]"]),B(F)){var K=F.name?": "+F.name:"";Q=" [Function"+K+"]"}if(T(F)&&(Q=" "+RegExp.prototype.toString.call(F)),A(F)&&(Q=" "+Date.prototype.toUTCString.call(F)),I(F)&&(Q=" "+h(F)),V.length===0&&(!rt||F.length==0))return Bt[0]+Q+Bt[1];if(N<0)return T(F)?z.stylize(RegExp.prototype.toString.call(F),"regexp"):z.stylize("[Object]","special");z.seen.push(F);var Mt;return rt?Mt=a(z,F,N,q,V):Mt=V.map(function(Ft){return f(z,F,N,q,Ft,rt)}),z.seen.pop(),p(Mt,Q,Bt)}function l(z,F){if(E(F))return z.stylize("undefined","undefined");if(w(F)){var N="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return z.stylize(N,"string")}if(b(F))return z.stylize(""+F,"number");if(v(F))return z.stylize(""+F,"boolean");if(y(F))return z.stylize("null","null")}function h(z){return"["+Error.prototype.toString.call(z)+"]"}function a(z,F,N,j,U){for(var V=[],q=0,ot=F.length;q<ot;++q)G(F,String(q))?V.push(f(z,F,N,j,String(q),!0)):V.push("");return U.forEach(function(Q){Q.match(/^\d+$/)||V.push(f(z,F,N,j,Q,!0))}),V}function f(z,F,N,j,U,V){var q,ot,Q;if(Q=Object.getOwnPropertyDescriptor(F,U)||{value:F[U]},Q.get?Q.set?ot=z.stylize("[Getter/Setter]","special"):ot=z.stylize("[Getter]","special"):Q.set&&(ot=z.stylize("[Setter]","special")),G(j,U)||(q="["+U+"]"),ot||(z.seen.indexOf(Q.value)<0?(y(N)?ot=c(z,Q.value,null):ot=c(z,Q.value,N-1),ot.indexOf(`
`)>-1&&(V?ot=ot.split(`
`).map(function(rt){return"  "+rt}).join(`
`).slice(2):ot=`
`+ot.split(`
`).map(function(rt){return"   "+rt}).join(`
`))):ot=z.stylize("[Circular]","special")),E(q)){if(V&&U.match(/^\d+$/))return ot;q=JSON.stringify(""+U),q.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(q=q.slice(1,-1),q=z.stylize(q,"name")):(q=q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),q=z.stylize(q,"string"))}return q+": "+ot}function p(z,F,N){var j=z.reduce(function(U,V){return V.indexOf(`
`)>=0,U+V.replace(/\u001b\[\d\d?m/g,"").length+1},0);return j>60?N[0]+(F===""?"":F+`
 `)+" "+z.join(`,
  `)+" "+N[1]:N[0]+F+" "+z.join(", ")+" "+N[1]}e.types=DOt();function u(z){return Array.isArray(z)}e.isArray=u;function v(z){return typeof z=="boolean"}e.isBoolean=v;function y(z){return z===null}e.isNull=y;function x(z){return z==null}e.isNullOrUndefined=x;function b(z){return typeof z=="number"}e.isNumber=b;function w(z){return typeof z=="string"}e.isString=w;function C(z){return typeof z=="symbol"}e.isSymbol=C;function E(z){return z===void 0}e.isUndefined=E;function T(z){return k(z)&&O(z)==="[object RegExp]"}e.isRegExp=T,e.types.isRegExp=T;function k(z){return typeof z=="object"&&z!==null}e.isObject=k;function A(z){return k(z)&&O(z)==="[object Date]"}e.isDate=A,e.types.isDate=A;function I(z){return k(z)&&(O(z)==="[object Error]"||z instanceof Error)}e.isError=I,e.types.isNativeError=I;function B(z){return typeof z=="function"}e.isFunction=B;function M(z){return z===null||typeof z=="boolean"||typeof z=="number"||typeof z=="string"||typeof z=="symbol"||typeof z=="undefined"}e.isPrimitive=M,e.isBuffer=_Ot();function O(z){return Object.prototype.toString.call(z)}function P(z){return z<10?"0"+z.toString(10):z.toString(10)}var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(){var z=new Date,F=[P(z.getHours()),P(z.getMinutes()),P(z.getSeconds())].join(":");return[z.getDate(),L[z.getMonth()],F].join(" ")}e.log=function(){console.log("%s - %s",_(),e.format.apply(e,arguments))},e.inherits=Ld,e._extend=function(z,F){if(!F||!k(F))return z;for(var N=Object.keys(F),j=N.length;j--;)z[N[j]]=F[N[j]];return z};function G(z,F){return Object.prototype.hasOwnProperty.call(z,F)}var $=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;e.promisify=function(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');if($&&F[$]){var N=F[$];if(typeof N!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(N,$,{value:N,enumerable:!1,writable:!1,configurable:!0}),N}function N(){for(var j,U,V=new Promise(function(Q,rt){j=Q,U=rt}),q=[],ot=0;ot<arguments.length;ot++)q.push(arguments[ot]);q.push(function(Q,rt){Q?U(Q):j(rt)});try{F.apply(this,q)}catch(Q){U(Q)}return V}return Object.setPrototypeOf(N,Object.getPrototypeOf(F)),$&&Object.defineProperty(N,$,{value:N,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(N,r(F))},e.promisify.custom=$;function W(z,F){if(!z){var N=new Error("Promise was rejected with a falsy value");N.reason=z,z=N}return F(z)}function Y(z){if(typeof z!="function")throw new TypeError('The "original" argument must be of type Function');function F(){for(var N=[],j=0;j<arguments.length;j++)N.push(arguments[j]);var U=N.pop();if(typeof U!="function")throw new TypeError("The last argument must be of type Function");var V=this,q=function(){return U.apply(V,arguments)};z.apply(this,N).then(function(ot){hr.nextTick(q.bind(null,null,ot))},function(ot){hr.nextTick(W.bind(null,ot,q))})}return Object.setPrototypeOf(F,Object.getPrototypeOf(z)),Object.defineProperties(F,r(z)),F}e.callbackify=Y}(Cw)),Cw}var rT,U7;function jOt(){if(U7)return rT;U7=1;function e(a,f){var p=Object.keys(a);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);f&&(u=u.filter(function(v){return Object.getOwnPropertyDescriptor(a,v).enumerable})),p.push.apply(p,u)}return p}function t(a){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?e(Object(p),!0).forEach(function(u){r(a,u,p[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(p)):e(Object(p)).forEach(function(u){Object.defineProperty(a,u,Object.getOwnPropertyDescriptor(p,u))})}return a}function r(a,f,p){return f=s(f),f in a?Object.defineProperty(a,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):a[f]=p,a}function n(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}function d(a,f){for(var p=0;p<f.length;p++){var u=f[p];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,s(u.key),u)}}function S(a,f,p){return f&&d(a.prototype,f),Object.defineProperty(a,"prototype",{writable:!1}),a}function s(a){var f=g(a,"string");return typeof f=="symbol"?f:String(f)}function g(a,f){if(typeof a!="object"||a===null)return a;var p=a[Symbol.toPrimitive];if(p!==void 0){var u=p.call(a,f);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}var i=rb,o=i.Buffer,m=jz(),c=m.inspect,l=c&&c.custom||"inspect";function h(a,f,p){o.prototype.copy.call(a,f,p)}return rT=function(){function a(){n(this,a),this.head=null,this.tail=null,this.length=0}return S(a,[{key:"push",value:function(p){var u={data:p,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(p){var u={data:p,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var u=this.head,v=""+u.data;u=u.next;)v+=p+u.data;return v}},{key:"concat",value:function(p){if(this.length===0)return o.alloc(0);for(var u=o.allocUnsafe(p>>>0),v=this.head,y=0;v;)h(v.data,u,y),y+=v.data.length,v=v.next;return u}},{key:"consume",value:function(p,u){var v;return p<this.head.data.length?(v=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?v=this.shift():v=u?this._getString(p):this._getBuffer(p),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var u=this.head,v=1,y=u.data;for(p-=y.length;u=u.next;){var x=u.data,b=p>x.length?x.length:p;if(b===x.length?y+=x:y+=x.slice(0,p),p-=b,p===0){b===x.length?(++v,u.next?this.head=u.next:this.head=this.tail=null):(this.head=u,u.data=x.slice(b));break}++v}return this.length-=v,y}},{key:"_getBuffer",value:function(p){var u=o.allocUnsafe(p),v=this.head,y=1;for(v.data.copy(u),p-=v.data.length;v=v.next;){var x=v.data,b=p>x.length?x.length:p;if(x.copy(u,u.length-p,0,b),p-=b,p===0){b===x.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=x.slice(b));break}++y}return this.length-=y,u}},{key:l,value:function(p,u){return c(this,t(t({},u),{},{depth:0,customInspect:!1}))}}]),a}(),rT}var nT,G7;function zz(){if(G7)return nT;G7=1;function e(s,g){var i=this,o=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return o||m?(g?g(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,hr.nextTick(d,this,s)):hr.nextTick(d,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(c){!g&&c?i._writableState?i._writableState.errorEmitted?hr.nextTick(r,i):(i._writableState.errorEmitted=!0,hr.nextTick(t,i,c)):hr.nextTick(t,i,c):g?(hr.nextTick(r,i),g(c)):hr.nextTick(r,i)}),this)}function t(s,g){d(s,g),r(s)}function r(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(s,g){s.emit("error",g)}function S(s,g){var i=s._readableState,o=s._writableState;i&&i.autoDestroy||o&&o.autoDestroy?s.destroy(g):s.emit("error",g)}return nT={destroy:e,undestroy:n,errorOrDestroy:S},nT}var sT={},H7;function wp(){if(H7)return sT;H7=1;function e(g,i){g.prototype=Object.create(i.prototype),g.prototype.constructor=g,g.__proto__=i}var t={};function r(g,i,o){o||(o=Error);function m(l,h,a){return typeof i=="string"?i:i(l,h,a)}var c=function(l){e(h,l);function h(a,f,p){return l.call(this,m(a,f,p))||this}return h}(o);c.prototype.name=o.name,c.prototype.code=g,t[g]=c}function n(g,i){if(Array.isArray(g)){var o=g.length;return g=g.map(function(m){return String(m)}),o>2?"one of ".concat(i," ").concat(g.slice(0,o-1).join(", "),", or ")+g[o-1]:o===2?"one of ".concat(i," ").concat(g[0]," or ").concat(g[1]):"of ".concat(i," ").concat(g[0])}else return"of ".concat(i," ").concat(String(g))}function d(g,i,o){return g.substr(0,i.length)===i}function S(g,i,o){return o=g.length,g.substring(o-i.length,o)===i}function s(g,i,o){return typeof o!="number"&&(o=0),o+i.length>g.length?!1:g.indexOf(i,o)!==-1}return r("ERR_INVALID_OPT_VALUE",function(g,i){return'The value "'+i+'" is invalid for option "'+g+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(g,i,o){var m;typeof i=="string"&&d(i,"not ")?(m="must not be",i=i.replace(/^not /,"")):m="must be";var c;if(S(g," argument"))c="The ".concat(g," ").concat(m," ").concat(n(i,"type"));else{var l=s(g,".")?"property":"argument";c='The "'.concat(g,'" ').concat(l," ").concat(m," ").concat(n(i,"type"))}return c+=". Received type ".concat(typeof o),c},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(g){return"The "+g+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(g){return"Cannot call "+g+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(g){return"Unknown encoding: "+g},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),sT.codes=t,sT}var aT,$7;function Uz(){if($7)return aT;$7=1;var e=wp().codes.ERR_INVALID_OPT_VALUE;function t(n,d,S){return n.highWaterMark!=null?n.highWaterMark:d?n[S]:null}function r(n,d,S,s){var g=t(d,s,S);if(g!=null){if(!(isFinite(g)&&Math.floor(g)===g)||g<0){var i=s?S:"highWaterMark";throw new e(i,g)}return Math.floor(g)}return n.objectMode?16:16*1024}return aT={getHighWaterMark:r},aT}var oT,W7;function zOt(){if(W7)return oT;W7=1,oT=e;function e(r,n){if(t("noDeprecation"))return r;var d=!1;function S(){if(!d){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),d=!0}return r.apply(this,arguments)}return S}function t(r){try{if(!globalThis.localStorage)return!1}catch(d){return!1}var n=globalThis.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return oT}var lT,V7;function Gz(){if(V7)return lT;V7=1,lT=E;function e(j){var U=this;this.next=null,this.entry=null,this.finish=function(){N(U,j)}}var t;E.WritableState=w;var r={deprecate:zOt()},n=Oz(),d=rb.Buffer,S=(typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function s(j){return d.from(j)}function g(j){return d.isBuffer(j)||j instanceof S}var i=zz(),o=Uz(),m=o.getHighWaterMark,c=wp().codes,l=c.ERR_INVALID_ARG_TYPE,h=c.ERR_METHOD_NOT_IMPLEMENTED,a=c.ERR_MULTIPLE_CALLBACK,f=c.ERR_STREAM_CANNOT_PIPE,p=c.ERR_STREAM_DESTROYED,u=c.ERR_STREAM_NULL_VALUES,v=c.ERR_STREAM_WRITE_AFTER_END,y=c.ERR_UNKNOWN_ENCODING,x=i.errorOrDestroy;Ld(E,n);function b(){}function w(j,U,V){t=t||Zf(),j=j||{},typeof V!="boolean"&&(V=U instanceof t),this.objectMode=!!j.objectMode,V&&(this.objectMode=this.objectMode||!!j.writableObjectMode),this.highWaterMark=m(this,j,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=j.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ot){P(U,ot)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}w.prototype.getBuffer=function(){for(var U=this.bufferedRequest,V=[];U;)V.push(U),U=U.next;return V},function(){try{Object.defineProperty(w.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(j){}}();var C;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(U){return C.call(this,U)?!0:this!==E?!1:U&&U._writableState instanceof w}})):C=function(U){return U instanceof this};function E(j){t=t||Zf();var U=this instanceof t;if(!U&&!C.call(E,this))return new E(j);this._writableState=new w(j,this,U),this.writable=!0,j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final)),n.call(this)}E.prototype.pipe=function(){x(this,new f)};function T(j,U){var V=new v;x(j,V),hr.nextTick(U,V)}function k(j,U,V,q){var ot;return V===null?ot=new u:typeof V!="string"&&!U.objectMode&&(ot=new l("chunk",["string","Buffer"],V)),ot?(x(j,ot),hr.nextTick(q,ot),!1):!0}E.prototype.write=function(j,U,V){var q=this._writableState,ot=!1,Q=!q.objectMode&&g(j);return Q&&!d.isBuffer(j)&&(j=s(j)),typeof U=="function"&&(V=U,U=null),Q?U="buffer":U||(U=q.defaultEncoding),typeof V!="function"&&(V=b),q.ending?T(this,V):(Q||k(this,q,j,V))&&(q.pendingcb++,ot=I(this,q,Q,j,U,V)),ot},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var j=this._writableState;j.corked&&(j.corked--,!j.writing&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&G(this,j))},E.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new y(U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function A(j,U,V){return!j.objectMode&&j.decodeStrings!==!1&&typeof U=="string"&&(U=d.from(U,V)),U}Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function I(j,U,V,q,ot,Q){if(!V){var rt=A(U,q,ot);q!==rt&&(V=!0,ot="buffer",q=rt)}var Bt=U.objectMode?1:q.length;U.length+=Bt;var K=U.length<U.highWaterMark;if(K||(U.needDrain=!0),U.writing||U.corked){var Mt=U.lastBufferedRequest;U.lastBufferedRequest={chunk:q,encoding:ot,isBuf:V,callback:Q,next:null},Mt?Mt.next=U.lastBufferedRequest:U.bufferedRequest=U.lastBufferedRequest,U.bufferedRequestCount+=1}else B(j,U,!1,Bt,q,ot,Q);return K}function B(j,U,V,q,ot,Q,rt){U.writelen=q,U.writecb=rt,U.writing=!0,U.sync=!0,U.destroyed?U.onwrite(new p("write")):V?j._writev(ot,U.onwrite):j._write(ot,Q,U.onwrite),U.sync=!1}function M(j,U,V,q,ot){--U.pendingcb,V?(hr.nextTick(ot,q),hr.nextTick(z,j,U),j._writableState.errorEmitted=!0,x(j,q)):(ot(q),j._writableState.errorEmitted=!0,x(j,q),z(j,U))}function O(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}function P(j,U){var V=j._writableState,q=V.sync,ot=V.writecb;if(typeof ot!="function")throw new a;if(O(V),U)M(j,V,q,U,ot);else{var Q=$(V)||j.destroyed;!Q&&!V.corked&&!V.bufferProcessing&&V.bufferedRequest&&G(j,V),q?hr.nextTick(L,j,V,Q,ot):L(j,V,Q,ot)}}function L(j,U,V,q){V||_(j,U),U.pendingcb--,q(),z(j,U)}function _(j,U){U.length===0&&U.needDrain&&(U.needDrain=!1,j.emit("drain"))}function G(j,U){U.bufferProcessing=!0;var V=U.bufferedRequest;if(j._writev&&V&&V.next){var q=U.bufferedRequestCount,ot=new Array(q),Q=U.corkedRequestsFree;Q.entry=V;for(var rt=0,Bt=!0;V;)ot[rt]=V,V.isBuf||(Bt=!1),V=V.next,rt+=1;ot.allBuffers=Bt,B(j,U,!0,U.length,ot,"",Q.finish),U.pendingcb++,U.lastBufferedRequest=null,Q.next?(U.corkedRequestsFree=Q.next,Q.next=null):U.corkedRequestsFree=new e(U),U.bufferedRequestCount=0}else{for(;V;){var K=V.chunk,Mt=V.encoding,Ft=V.callback,dt=U.objectMode?1:K.length;if(B(j,U,!1,dt,K,Mt,Ft),V=V.next,U.bufferedRequestCount--,U.writing)break}V===null&&(U.lastBufferedRequest=null)}U.bufferedRequest=V,U.bufferProcessing=!1}E.prototype._write=function(j,U,V){V(new h("_write()"))},E.prototype._writev=null,E.prototype.end=function(j,U,V){var q=this._writableState;return typeof j=="function"?(V=j,j=null,U=null):typeof U=="function"&&(V=U,U=null),j!=null&&this.write(j,U),q.corked&&(q.corked=1,this.uncork()),q.ending||F(this,q,V),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function $(j){return j.ending&&j.length===0&&j.bufferedRequest===null&&!j.finished&&!j.writing}function W(j,U){j._final(function(V){U.pendingcb--,V&&x(j,V),U.prefinished=!0,j.emit("prefinish"),z(j,U)})}function Y(j,U){!U.prefinished&&!U.finalCalled&&(typeof j._final=="function"&&!U.destroyed?(U.pendingcb++,U.finalCalled=!0,hr.nextTick(W,j,U)):(U.prefinished=!0,j.emit("prefinish")))}function z(j,U){var V=$(U);if(V&&(Y(j,U),U.pendingcb===0&&(U.finished=!0,j.emit("finish"),U.autoDestroy))){var q=j._readableState;(!q||q.autoDestroy&&q.endEmitted)&&j.destroy()}return V}function F(j,U,V){U.ending=!0,z(j,U),V&&(U.finished?hr.nextTick(V):j.once("finish",V)),U.ended=!0,j.writable=!1}function N(j,U,V){var q=j.entry;for(j.entry=null;q;){var ot=q.callback;U.pendingcb--,ot(V),q=q.next}U.corkedRequestsFree.next=j}return Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),E.prototype.destroy=i.destroy,E.prototype._undestroy=i.undestroy,E.prototype._destroy=function(j,U){U(j)},lT}var uT,Y7;function Zf(){if(Y7)return uT;Y7=1;var e=Object.keys||function(o){var m=[];for(var c in o)m.push(c);return m};uT=s;var t=Hz(),r=Gz();Ld(s,t);for(var n=e(r.prototype),d=0;d<n.length;d++){var S=n[d];s.prototype[S]||(s.prototype[S]=r.prototype[S])}function s(o){if(!(this instanceof s))return new s(o);t.call(this,o),r.call(this,o),this.allowHalfOpen=!0,o&&(o.readable===!1&&(this.readable=!1),o.writable===!1&&(this.writable=!1),o.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",g)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function g(){this._writableState.ended||hr.nextTick(i,this)}function i(o){o.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),uT}var hT={},R0={exports:{}};var X7;function UOt(){return X7||(X7=1,function(e,t){var r=rb,n=r.Buffer;function d(s,g){for(var i in s)g[i]=s[i]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(d(r,t),t.Buffer=S);function S(s,g,i){return n(s,g,i)}S.prototype=Object.create(n.prototype),d(n,S),S.from=function(s,g,i){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,g,i)},S.alloc=function(s,g,i){if(typeof s!="number")throw new TypeError("Argument must be a number");var o=n(s);return g!==void 0?typeof i=="string"?o.fill(g,i):o.fill(g):o.fill(0),o},S.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},S.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}}(R0,R0.exports)),R0.exports}var Q7;function K7(){if(Q7)return hT;Q7=1;var e=UOt().Buffer,t=e.isEncoding||function(u){switch(u=""+u,u&&u.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(u){if(!u)return"utf8";for(var v;;)switch(u){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return u;default:if(v)return;u=(""+u).toLowerCase(),v=!0}}function n(u){var v=r(u);if(typeof v!="string"&&(e.isEncoding===t||!t(u)))throw new Error("Unknown encoding: "+u);return v||u}hT.StringDecoder=d;function d(u){this.encoding=n(u);var v;switch(this.encoding){case"utf16le":this.text=c,this.end=l,v=4;break;case"utf8":this.fillLast=i,v=4;break;case"base64":this.text=h,this.end=a,v=3;break;default:this.write=f,this.end=p;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(v)}d.prototype.write=function(u){if(u.length===0)return"";var v,y;if(this.lastNeed){if(v=this.fillLast(u),v===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<u.length?v?v+this.text(u,y):this.text(u,y):v||""},d.prototype.end=m,d.prototype.text=o,d.prototype.fillLast=function(u){if(this.lastNeed<=u.length)return u.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);u.copy(this.lastChar,this.lastTotal-this.lastNeed,0,u.length),this.lastNeed-=u.length};function S(u){return u<=127?0:u>>5===6?2:u>>4===14?3:u>>3===30?4:u>>6===2?-1:-2}function s(u,v,y){var x=v.length-1;if(x<y)return 0;var b=S(v[x]);return b>=0?(b>0&&(u.lastNeed=b-1),b):--x<y||b===-2?0:(b=S(v[x]),b>=0?(b>0&&(u.lastNeed=b-2),b):--x<y||b===-2?0:(b=S(v[x]),b>=0?(b>0&&(b===2?b=0:u.lastNeed=b-3),b):0))}function g(u,v,y){if((v[0]&192)!==128)return u.lastNeed=0,"";if(u.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return u.lastNeed=1,"";if(u.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return u.lastNeed=2,""}}function i(u){var v=this.lastTotal-this.lastNeed,y=g(this,u);if(y!==void 0)return y;if(this.lastNeed<=u.length)return u.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);u.copy(this.lastChar,v,0,u.length),this.lastNeed-=u.length}function o(u,v){var y=s(this,u,v);if(!this.lastNeed)return u.toString("utf8",v);this.lastTotal=y;var x=u.length-(y-this.lastNeed);return u.copy(this.lastChar,0,x),u.toString("utf8",v,x)}function m(u){var v=u&&u.length?this.write(u):"";return this.lastNeed?v+"":v}function c(u,v){if((u.length-v)%2===0){var y=u.toString("utf16le",v);if(y){var x=y.charCodeAt(y.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=u[u.length-2],this.lastChar[1]=u[u.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=u[u.length-1],u.toString("utf16le",v,u.length-1)}function l(u){var v=u&&u.length?this.write(u):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,y)}return v}function h(u,v){var y=(u.length-v)%3;return y===0?u.toString("base64",v):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=u[u.length-1]:(this.lastChar[0]=u[u.length-2],this.lastChar[1]=u[u.length-1]),u.toString("base64",v,u.length-y))}function a(u){var v=u&&u.length?this.write(u):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function f(u){return u.toString(this.encoding)}function p(u){return u&&u.length?this.write(u):""}return hT}var cT,J7;function C4(){if(J7)return cT;J7=1;var e=wp().codes.ERR_STREAM_PREMATURE_CLOSE;function t(S){var s=!1;return function(){if(!s){s=!0;for(var g=arguments.length,i=new Array(g),o=0;o<g;o++)i[o]=arguments[o];S.apply(this,i)}}}function r(){}function n(S){return S.setHeader&&typeof S.abort=="function"}function d(S,s,g){if(typeof s=="function")return d(S,null,s);s||(s={}),g=t(g||r);var i=s.readable||s.readable!==!1&&S.readable,o=s.writable||s.writable!==!1&&S.writable,m=function(){S.writable||l()},c=S._writableState&&S._writableState.finished,l=function(){o=!1,c=!0,i||g.call(S)},h=S._readableState&&S._readableState.endEmitted,a=function(){i=!1,h=!0,o||g.call(S)},f=function(y){g.call(S,y)},p=function(){var y;if(i&&!h)return(!S._readableState||!S._readableState.ended)&&(y=new e),g.call(S,y);if(o&&!c)return(!S._writableState||!S._writableState.ended)&&(y=new e),g.call(S,y)},u=function(){S.req.on("finish",l)};return n(S)?(S.on("complete",l),S.on("abort",p),S.req?u():S.on("request",u)):o&&!S._writableState&&(S.on("end",m),S.on("close",m)),S.on("end",a),S.on("finish",l),s.error!==!1&&S.on("error",f),S.on("close",p),function(){S.removeListener("complete",l),S.removeListener("abort",p),S.removeListener("request",u),S.req&&S.req.removeListener("finish",l),S.removeListener("end",m),S.removeListener("close",m),S.removeListener("finish",l),S.removeListener("end",a),S.removeListener("error",f),S.removeListener("close",p)}}return cT=d,cT}var dT,Z7;function GOt(){if(Z7)return dT;Z7=1;var e;function t(y,x,b){return x=r(x),x in y?Object.defineProperty(y,x,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[x]=b,y}function r(y){var x=n(y,"string");return typeof x=="symbol"?x:String(x)}function n(y,x){if(typeof y!="object"||y===null)return y;var b=y[Symbol.toPrimitive];if(b!==void 0){var w=b.call(y,x);if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}var d=C4(),S=Symbol("lastResolve"),s=Symbol("lastReject"),g=Symbol("error"),i=Symbol("ended"),o=Symbol("lastPromise"),m=Symbol("handlePromise"),c=Symbol("stream");function l(y,x){return{value:y,done:x}}function h(y){var x=y[S];if(x!==null){var b=y[c].read();b!==null&&(y[o]=null,y[S]=null,y[s]=null,x(l(b,!1)))}}function a(y){hr.nextTick(h,y)}function f(y,x){return function(b,w){y.then(function(){if(x[i]){b(l(void 0,!0));return}x[m](b,w)},w)}}var p=Object.getPrototypeOf(function(){}),u=Object.setPrototypeOf((e={get stream(){return this[c]},next:function(){var x=this,b=this[g];if(b!==null)return Promise.reject(b);if(this[i])return Promise.resolve(l(void 0,!0));if(this[c].destroyed)return new Promise(function(T,k){hr.nextTick(function(){x[g]?k(x[g]):T(l(void 0,!0))})});var w=this[o],C;if(w)C=new Promise(f(w,this));else{var E=this[c].read();if(E!==null)return Promise.resolve(l(E,!1));C=new Promise(this[m])}return this[o]=C,C}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var x=this;return new Promise(function(b,w){x[c].destroy(null,function(C){if(C){w(C);return}b(l(void 0,!0))})})}),e),p),v=function(x){var b,w=Object.create(u,(b={},t(b,c,{value:x,writable:!0}),t(b,S,{value:null,writable:!0}),t(b,s,{value:null,writable:!0}),t(b,g,{value:null,writable:!0}),t(b,i,{value:x._readableState.endEmitted,writable:!0}),t(b,m,{value:function(E,T){var k=w[c].read();k?(w[o]=null,w[S]=null,w[s]=null,E(l(k,!1))):(w[S]=E,w[s]=T)},writable:!0}),b));return w[o]=null,d(x,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var E=w[s];E!==null&&(w[o]=null,w[S]=null,w[s]=null,E(C)),w[g]=C;return}var T=w[S];T!==null&&(w[o]=null,w[S]=null,w[s]=null,T(l(void 0,!0))),w[i]=!0}),x.on("readable",a.bind(null,w)),w};return dT=v,dT}var fT,q7;function HOt(){return q7||(q7=1,fT=function(){throw new Error("Readable.from is not available in the browser")}),fT}var pT,tR;function Hz(){if(tR)return pT;tR=1,pT=T;var e;T.ReadableState=E,x4.EventEmitter;var t=function(rt,Bt){return rt.listeners(Bt).length},r=Oz(),n=rb.Buffer,d=(typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function S(Q){return n.from(Q)}function s(Q){return n.isBuffer(Q)||Q instanceof d}var g=jz(),i;g&&g.debuglog?i=g.debuglog("stream"):i=function(){};var o=jOt(),m=zz(),c=Uz(),l=c.getHighWaterMark,h=wp().codes,a=h.ERR_INVALID_ARG_TYPE,f=h.ERR_STREAM_PUSH_AFTER_EOF,p=h.ERR_METHOD_NOT_IMPLEMENTED,u=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,y,x;Ld(T,r);var b=m.errorOrDestroy,w=["error","close","destroy","pause","resume"];function C(Q,rt,Bt){if(typeof Q.prependListener=="function")return Q.prependListener(rt,Bt);!Q._events||!Q._events[rt]?Q.on(rt,Bt):Array.isArray(Q._events[rt])?Q._events[rt].unshift(Bt):Q._events[rt]=[Bt,Q._events[rt]]}function E(Q,rt,Bt){e=e||Zf(),Q=Q||{},typeof Bt!="boolean"&&(Bt=rt instanceof e),this.objectMode=!!Q.objectMode,Bt&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=l(this,Q,"readableHighWaterMark",Bt),this.buffer=new o,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(v||(v=K7().StringDecoder),this.decoder=new v(Q.encoding),this.encoding=Q.encoding)}function T(Q){if(e=e||Zf(),!(this instanceof T))return new T(Q);var rt=this instanceof e;this._readableState=new E(Q,this,rt),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),r.call(this)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(rt){this._readableState&&(this._readableState.destroyed=rt)}}),T.prototype.destroy=m.destroy,T.prototype._undestroy=m.undestroy,T.prototype._destroy=function(Q,rt){rt(Q)},T.prototype.push=function(Q,rt){var Bt=this._readableState,K;return Bt.objectMode?K=!0:typeof Q=="string"&&(rt=rt||Bt.defaultEncoding,rt!==Bt.encoding&&(Q=n.from(Q,rt),rt=""),K=!0),k(this,Q,rt,!1,K)},T.prototype.unshift=function(Q){return k(this,Q,null,!0,!1)};function k(Q,rt,Bt,K,Mt){i("readableAddChunk",rt);var Ft=Q._readableState;if(rt===null)Ft.reading=!1,P(Q,Ft);else{var dt;if(Mt||(dt=I(Ft,rt)),dt)b(Q,dt);else if(Ft.objectMode||rt&&rt.length>0)if(typeof rt!="string"&&!Ft.objectMode&&Object.getPrototypeOf(rt)!==n.prototype&&(rt=S(rt)),K)Ft.endEmitted?b(Q,new u):A(Q,Ft,rt,!0);else if(Ft.ended)b(Q,new f);else{if(Ft.destroyed)return!1;Ft.reading=!1,Ft.decoder&&!Bt?(rt=Ft.decoder.write(rt),Ft.objectMode||rt.length!==0?A(Q,Ft,rt,!1):G(Q,Ft)):A(Q,Ft,rt,!1)}else K||(Ft.reading=!1,G(Q,Ft))}return!Ft.ended&&(Ft.length<Ft.highWaterMark||Ft.length===0)}function A(Q,rt,Bt,K){rt.flowing&&rt.length===0&&!rt.sync?(rt.awaitDrain=0,Q.emit("data",Bt)):(rt.length+=rt.objectMode?1:Bt.length,K?rt.buffer.unshift(Bt):rt.buffer.push(Bt),rt.needReadable&&L(Q)),G(Q,rt)}function I(Q,rt){var Bt;return!s(rt)&&typeof rt!="string"&&rt!==void 0&&!Q.objectMode&&(Bt=new a("chunk",["string","Buffer","Uint8Array"],rt)),Bt}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(Q){v||(v=K7().StringDecoder);var rt=new v(Q);this._readableState.decoder=rt,this._readableState.encoding=this._readableState.decoder.encoding;for(var Bt=this._readableState.buffer.head,K="";Bt!==null;)K+=rt.write(Bt.data),Bt=Bt.next;return this._readableState.buffer.clear(),K!==""&&this._readableState.buffer.push(K),this._readableState.length=K.length,this};var B=1073741824;function M(Q){return Q>=B?Q=B:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function O(Q,rt){return Q<=0||rt.length===0&&rt.ended?0:rt.objectMode?1:Q!==Q?rt.flowing&&rt.length?rt.buffer.head.data.length:rt.length:(Q>rt.highWaterMark&&(rt.highWaterMark=M(Q)),Q<=rt.length?Q:rt.ended?rt.length:(rt.needReadable=!0,0))}T.prototype.read=function(Q){i("read",Q),Q=parseInt(Q,10);var rt=this._readableState,Bt=Q;if(Q!==0&&(rt.emittedReadable=!1),Q===0&&rt.needReadable&&((rt.highWaterMark!==0?rt.length>=rt.highWaterMark:rt.length>0)||rt.ended))return i("read: emitReadable",rt.length,rt.ended),rt.length===0&&rt.ended?V(this):L(this),null;if(Q=O(Q,rt),Q===0&&rt.ended)return rt.length===0&&V(this),null;var K=rt.needReadable;i("need readable",K),(rt.length===0||rt.length-Q<rt.highWaterMark)&&(K=!0,i("length less than watermark",K)),rt.ended||rt.reading?(K=!1,i("reading or ended",K)):K&&(i("do read"),rt.reading=!0,rt.sync=!0,rt.length===0&&(rt.needReadable=!0),this._read(rt.highWaterMark),rt.sync=!1,rt.reading||(Q=O(Bt,rt)));var Mt;return Q>0?Mt=U(Q,rt):Mt=null,Mt===null?(rt.needReadable=rt.length<=rt.highWaterMark,Q=0):(rt.length-=Q,rt.awaitDrain=0),rt.length===0&&(rt.ended||(rt.needReadable=!0),Bt!==Q&&rt.ended&&V(this)),Mt!==null&&this.emit("data",Mt),Mt};function P(Q,rt){if(i("onEofChunk"),!rt.ended){if(rt.decoder){var Bt=rt.decoder.end();Bt&&Bt.length&&(rt.buffer.push(Bt),rt.length+=rt.objectMode?1:Bt.length)}rt.ended=!0,rt.sync?L(Q):(rt.needReadable=!1,rt.emittedReadable||(rt.emittedReadable=!0,_(Q)))}}function L(Q){var rt=Q._readableState;i("emitReadable",rt.needReadable,rt.emittedReadable),rt.needReadable=!1,rt.emittedReadable||(i("emitReadable",rt.flowing),rt.emittedReadable=!0,hr.nextTick(_,Q))}function _(Q){var rt=Q._readableState;i("emitReadable_",rt.destroyed,rt.length,rt.ended),!rt.destroyed&&(rt.length||rt.ended)&&(Q.emit("readable"),rt.emittedReadable=!1),rt.needReadable=!rt.flowing&&!rt.ended&&rt.length<=rt.highWaterMark,j(Q)}function G(Q,rt){rt.readingMore||(rt.readingMore=!0,hr.nextTick($,Q,rt))}function $(Q,rt){for(;!rt.reading&&!rt.ended&&(rt.length<rt.highWaterMark||rt.flowing&&rt.length===0);){var Bt=rt.length;if(i("maybeReadMore read 0"),Q.read(0),Bt===rt.length)break}rt.readingMore=!1}T.prototype._read=function(Q){b(this,new p("_read()"))},T.prototype.pipe=function(Q,rt){var Bt=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=Q;break;case 1:K.pipes=[K.pipes,Q];break;default:K.pipes.push(Q);break}K.pipesCount+=1,i("pipe count=%d opts=%j",K.pipesCount,rt);var Mt=(!rt||rt.end!==!1)&&Q!==hr.stdout&&Q!==hr.stderr,Ft=Mt?yt:Fe;K.endEmitted?hr.nextTick(Ft):Bt.once("end",Ft),Q.on("unpipe",dt);function dt(Ze,ei){i("onunpipe"),Ze===Bt&&ei&&ei.hasUnpiped===!1&&(ei.hasUnpiped=!0,le())}function yt(){i("onend"),Q.end()}var At=W(Bt);Q.on("drain",At);var Ot=!1;function le(){i("cleanup"),Q.removeListener("close",ke),Q.removeListener("finish",ve),Q.removeListener("drain",At),Q.removeListener("error",xe),Q.removeListener("unpipe",dt),Bt.removeListener("end",yt),Bt.removeListener("end",Fe),Bt.removeListener("data",_t),Ot=!0,K.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&At()}Bt.on("data",_t);function _t(Ze){i("ondata");var ei=Q.write(Ze);i("dest.write",ei),ei===!1&&((K.pipesCount===1&&K.pipes===Q||K.pipesCount>1&&ot(K.pipes,Q)!==-1)&&!Ot&&(i("false write response, pause",K.awaitDrain),K.awaitDrain++),Bt.pause())}function xe(Ze){i("onerror",Ze),Fe(),Q.removeListener("error",xe),t(Q,"error")===0&&b(Q,Ze)}C(Q,"error",xe);function ke(){Q.removeListener("finish",ve),Fe()}Q.once("close",ke);function ve(){i("onfinish"),Q.removeListener("close",ke),Fe()}Q.once("finish",ve);function Fe(){i("unpipe"),Bt.unpipe(Q)}return Q.emit("pipe",Bt),K.flowing||(i("pipe resume"),Bt.resume()),Q};function W(Q){return function(){var Bt=Q._readableState;i("pipeOnDrain",Bt.awaitDrain),Bt.awaitDrain&&Bt.awaitDrain--,Bt.awaitDrain===0&&t(Q,"data")&&(Bt.flowing=!0,j(Q))}}T.prototype.unpipe=function(Q){var rt=this._readableState,Bt={hasUnpiped:!1};if(rt.pipesCount===0)return this;if(rt.pipesCount===1)return Q&&Q!==rt.pipes?this:(Q||(Q=rt.pipes),rt.pipes=null,rt.pipesCount=0,rt.flowing=!1,Q&&Q.emit("unpipe",this,Bt),this);if(!Q){var K=rt.pipes,Mt=rt.pipesCount;rt.pipes=null,rt.pipesCount=0,rt.flowing=!1;for(var Ft=0;Ft<Mt;Ft++)K[Ft].emit("unpipe",this,{hasUnpiped:!1});return this}var dt=ot(rt.pipes,Q);return dt===-1?this:(rt.pipes.splice(dt,1),rt.pipesCount-=1,rt.pipesCount===1&&(rt.pipes=rt.pipes[0]),Q.emit("unpipe",this,Bt),this)},T.prototype.on=function(Q,rt){var Bt=r.prototype.on.call(this,Q,rt),K=this._readableState;return Q==="data"?(K.readableListening=this.listenerCount("readable")>0,K.flowing!==!1&&this.resume()):Q==="readable"&&!K.endEmitted&&!K.readableListening&&(K.readableListening=K.needReadable=!0,K.flowing=!1,K.emittedReadable=!1,i("on readable",K.length,K.reading),K.length?L(this):K.reading||hr.nextTick(z,this)),Bt},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(Q,rt){var Bt=r.prototype.removeListener.call(this,Q,rt);return Q==="readable"&&hr.nextTick(Y,this),Bt},T.prototype.removeAllListeners=function(Q){var rt=r.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&hr.nextTick(Y,this),rt};function Y(Q){var rt=Q._readableState;rt.readableListening=Q.listenerCount("readable")>0,rt.resumeScheduled&&!rt.paused?rt.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function z(Q){i("readable nexttick read 0"),Q.read(0)}T.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(i("resume"),Q.flowing=!Q.readableListening,F(this,Q)),Q.paused=!1,this};function F(Q,rt){rt.resumeScheduled||(rt.resumeScheduled=!0,hr.nextTick(N,Q,rt))}function N(Q,rt){i("resume",rt.reading),rt.reading||Q.read(0),rt.resumeScheduled=!1,Q.emit("resume"),j(Q),rt.flowing&&!rt.reading&&Q.read(0)}T.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function j(Q){var rt=Q._readableState;for(i("flow",rt.flowing);rt.flowing&&Q.read()!==null;);}T.prototype.wrap=function(Q){var rt=this,Bt=this._readableState,K=!1;Q.on("end",function(){if(i("wrapped end"),Bt.decoder&&!Bt.ended){var dt=Bt.decoder.end();dt&&dt.length&&rt.push(dt)}rt.push(null)}),Q.on("data",function(dt){if(i("wrapped data"),Bt.decoder&&(dt=Bt.decoder.write(dt)),!(Bt.objectMode&&dt==null)&&!(!Bt.objectMode&&(!dt||!dt.length))){var yt=rt.push(dt);yt||(K=!0,Q.pause())}});for(var Mt in Q)this[Mt]===void 0&&typeof Q[Mt]=="function"&&(this[Mt]=function(yt){return function(){return Q[yt].apply(Q,arguments)}}(Mt));for(var Ft=0;Ft<w.length;Ft++)Q.on(w[Ft],this.emit.bind(this,w[Ft]));return this._read=function(dt){i("wrapped _read",dt),K&&(K=!1,Q.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=GOt()),y(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(rt){this._readableState&&(this._readableState.flowing=rt)}}),T._fromList=U,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function U(Q,rt){if(rt.length===0)return null;var Bt;return rt.objectMode?Bt=rt.buffer.shift():!Q||Q>=rt.length?(rt.decoder?Bt=rt.buffer.join(""):rt.buffer.length===1?Bt=rt.buffer.first():Bt=rt.buffer.concat(rt.length),rt.buffer.clear()):Bt=rt.buffer.consume(Q,rt.decoder),Bt}function V(Q){var rt=Q._readableState;i("endReadable",rt.endEmitted),rt.endEmitted||(rt.ended=!0,hr.nextTick(q,rt,Q))}function q(Q,rt){if(i("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,rt.readable=!1,rt.emit("end"),Q.autoDestroy)){var Bt=rt._writableState;(!Bt||Bt.autoDestroy&&Bt.finished)&&rt.destroy()}}typeof Symbol=="function"&&(T.from=function(Q,rt){return x===void 0&&(x=HOt()),x(T,Q,rt)});function ot(Q,rt){for(var Bt=0,K=Q.length;Bt<K;Bt++)if(Q[Bt]===rt)return Bt;return-1}return pT}var vT,eR;function $z(){if(eR)return vT;eR=1,vT=g;var e=wp().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=e.ERR_TRANSFORM_WITH_LENGTH_0,S=Zf();Ld(g,S);function s(m,c){var l=this._transformState;l.transforming=!1;var h=l.writecb;if(h===null)return this.emit("error",new r);l.writechunk=null,l.writecb=null,c!=null&&this.push(c),h(m);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function g(m){if(!(this instanceof g))return new g(m);S.call(this,m),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",i)}function i(){var m=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(c,l){o(m,c,l)}):o(this,null,null)}g.prototype.push=function(m,c){return this._transformState.needTransform=!1,S.prototype.push.call(this,m,c)},g.prototype._transform=function(m,c,l){l(new t("_transform()"))},g.prototype._write=function(m,c,l){var h=this._transformState;if(h.writecb=l,h.writechunk=m,h.writeencoding=c,!h.transforming){var a=this._readableState;(h.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},g.prototype._read=function(m){var c=this._transformState;c.writechunk!==null&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},g.prototype._destroy=function(m,c){S.prototype._destroy.call(this,m,function(l){c(l)})};function o(m,c,l){if(c)return m.emit("error",c);if(l!=null&&m.push(l),m._writableState.length)throw new d;if(m._transformState.transforming)throw new n;return m.push(null)}return vT}var mT,iR;function $Ot(){if(iR)return mT;iR=1,mT=t;var e=$z();Ld(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,d){d(null,r)},mT}var gT,rR;function WOt(){if(rR)return gT;rR=1;var e;function t(l){var h=!1;return function(){h||(h=!0,l.apply(void 0,arguments))}}var r=wp().codes,n=r.ERR_MISSING_ARGS,d=r.ERR_STREAM_DESTROYED;function S(l){if(l)throw l}function s(l){return l.setHeader&&typeof l.abort=="function"}function g(l,h,a,f){f=t(f);var p=!1;l.on("close",function(){p=!0}),e===void 0&&(e=C4()),e(l,{readable:h,writable:a},function(v){if(v)return f(v);p=!0,f()});var u=!1;return function(v){if(!p&&!u){if(u=!0,s(l))return l.abort();if(typeof l.destroy=="function")return l.destroy();f(v||new d("pipe"))}}}function i(l){l()}function o(l,h){return l.pipe(h)}function m(l){return!l.length||typeof l[l.length-1]!="function"?S:l.pop()}function c(){for(var l=arguments.length,h=new Array(l),a=0;a<l;a++)h[a]=arguments[a];var f=m(h);if(Array.isArray(h[0])&&(h=h[0]),h.length<2)throw new n("streams");var p,u=h.map(function(v,y){var x=y<h.length-1,b=y>0;return g(v,x,b,function(w){p||(p=w),w&&u.forEach(i),!x&&(u.forEach(i),f(p))})});return h.reduce(o)}return gT=c,gT}var VOt=tl,E4=x4.EventEmitter,YOt=Ld;YOt(tl,E4);tl.Readable=Hz();tl.Writable=Gz();tl.Duplex=Zf();tl.Transform=$z();tl.PassThrough=$Ot();tl.finished=C4();tl.pipeline=WOt();tl.Stream=tl;function tl(){E4.call(this)}tl.prototype.pipe=function(e,t){var r=this;function n(m){e.writable&&e.write(m)===!1&&r.pause&&r.pause()}r.on("data",n);function d(){r.readable&&r.resume&&r.resume()}e.on("drain",d),!e._isStdio&&(!t||t.end!==!1)&&(r.on("end",s),r.on("close",g));var S=!1;function s(){S||(S=!0,e.end())}function g(){S||(S=!0,typeof e.destroy=="function"&&e.destroy())}function i(m){if(o(),E4.listenerCount(this,"error")===0)throw m}r.on("error",i),e.on("error",i);function o(){r.removeListener("data",n),e.removeListener("drain",d),r.removeListener("end",s),r.removeListener("close",g),r.removeListener("error",i),e.removeListener("error",i),r.removeListener("end",o),r.removeListener("close",o),e.removeListener("close",o)}return r.on("end",o),r.on("close",o),e.on("close",o),e.emit("pipe",r),e};const Wz=function(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)};class Zr extends Error{constructor(t,r,n,...d){Array.isArray(r)&&(r=r.join(" ").trim()),super(r),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,Zr),this.code=t;for(const S of d)for(const s in S){const g=S[s];this[s]=Zi.isBuffer(g)?g.toString(n.encoding):g==null?g:JSON.parse(JSON.stringify(g))}}}const Vz=function(e){const t=[];for(let r=0,n=e.length;r<n;r++){const d=e[r];if(d==null||d===!1)t[r]={disabled:!0};else if(typeof d=="string")t[r]={name:d};else if(Wz(d)){if(typeof d.name!="string")throw new Zr("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${r}`,"when column is an object literal"]);t[r]=d}else throw new Zr("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(d)} at position ${r}`])}return t};class nR{constructor(t=100){this.size=t,this.length=0,this.buf=Zi.allocUnsafe(t)}prepend(t){if(Zi.isBuffer(t)){const r=this.length+t.length;if(r>=this.size&&(this.resize(),r>=this.size))throw Error("INVALID_BUFFER_STATE");const n=this.buf;this.buf=Zi.allocUnsafe(this.size),t.copy(this.buf,0),n.copy(this.buf,t.length),this.length+=t.length}else{const r=this.length++;r===this.size&&this.resize();const n=this.clone();this.buf[0]=t,n.copy(this.buf,1,0,r)}}append(t){const r=this.length++;r===this.size&&this.resize(),this.buf[r]=t}clone(){return Zi.from(this.buf.slice(0,this.length))}resize(){const t=this.length;this.size=this.size*2;const r=Zi.allocUnsafe(this.size);this.buf.copy(r,0,0,t),this.buf=r}toString(t){return t?this.buf.slice(0,this.length).toString(t):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}const XOt=12,QOt=13,KOt=10,JOt=32,ZOt=9,qOt=function(e){return{bomSkipped:!1,bufBytesStart:0,castField:e.cast_function,commenting:!1,error:void 0,enabled:e.from_line===1,escaping:!1,escapeIsQuote:Zi.isBuffer(e.escape)&&Zi.isBuffer(e.quote)&&Zi.compare(e.escape,e.quote)===0,expectedRecordLength:Array.isArray(e.columns)?e.columns.length:void 0,field:new nR(20),firstLineToHeaders:e.cast_first_line_to_header,needMoreDataSize:Math.max(e.comment!==null?e.comment.length:0,...e.delimiter.map(t=>t.length),e.quote!==null?e.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new nR(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:e.record_delimiter.length===0?0:Math.max(...e.record_delimiter.map(t=>t.length)),trimChars:[Zi.from(" ",e.encoding)[0],Zi.from("	",e.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[Zi.from(Zi.from([QOt],"utf8").toString(),e.encoding),Zi.from(Zi.from([KOt],"utf8").toString(),e.encoding),Zi.from(Zi.from([XOt],"utf8").toString(),e.encoding),Zi.from(Zi.from([JOt],"utf8").toString(),e.encoding),Zi.from(Zi.from([ZOt],"utf8").toString(),e.encoding)]}},tNt=function(e){return e.replace(/([A-Z])/g,function(t,r){return"_"+r.toLowerCase()})},sR=function(e){const t={};for(const n in e)t[tNt(n)]=e[n];if(t.encoding===void 0||t.encoding===!0)t.encoding="utf8";else if(t.encoding===null||t.encoding===!1)t.encoding=null;else if(typeof t.encoding!="string"&&t.encoding!==null)throw new Zr("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(t.encoding)}`],t);if(t.bom===void 0||t.bom===null||t.bom===!1)t.bom=!1;else if(t.bom!==!0)throw new Zr("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(t.bom)}`],t);if(t.cast_function=null,t.cast===void 0||t.cast===null||t.cast===!1||t.cast==="")t.cast=void 0;else if(typeof t.cast=="function")t.cast_function=t.cast,t.cast=!0;else if(t.cast!==!0)throw new Zr("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(t.cast)}`],t);if(t.cast_date===void 0||t.cast_date===null||t.cast_date===!1||t.cast_date==="")t.cast_date=!1;else if(t.cast_date===!0)t.cast_date=function(n){const d=Date.parse(n);return isNaN(d)?n:new Date(d)};else if(typeof t.cast_date!="function")throw new Zr("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(t.cast_date)}`],t);if(t.cast_first_line_to_header=null,t.columns===!0)t.cast_first_line_to_header=void 0;else if(typeof t.columns=="function")t.cast_first_line_to_header=t.columns,t.columns=!0;else if(Array.isArray(t.columns))t.columns=Vz(t.columns);else if(t.columns===void 0||t.columns===null||t.columns===!1)t.columns=!1;else throw new Zr("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(t.columns)}`],t);if(t.group_columns_by_name===void 0||t.group_columns_by_name===null||t.group_columns_by_name===!1)t.group_columns_by_name=!1;else{if(t.group_columns_by_name!==!0)throw new Zr("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(t.group_columns_by_name)}`],t);if(t.columns===!1)throw new Zr("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],t)}if(t.comment===void 0||t.comment===null||t.comment===!1||t.comment==="")t.comment=null;else if(typeof t.comment=="string"&&(t.comment=Zi.from(t.comment,t.encoding)),!Zi.isBuffer(t.comment))throw new Zr("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(t.comment)}`],t);if(t.comment_no_infix===void 0||t.comment_no_infix===null||t.comment_no_infix===!1)t.comment_no_infix=!1;else if(t.comment_no_infix!==!0)throw new Zr("CSV_INVALID_OPTION_COMMENT",["Invalid option comment_no_infix:","value must be a boolean,",`got ${JSON.stringify(t.comment_no_infix)}`],t);const r=JSON.stringify(t.delimiter);if(Array.isArray(t.delimiter)||(t.delimiter=[t.delimiter]),t.delimiter.length===0)throw new Zr("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],t);if(t.delimiter=t.delimiter.map(function(n){if(n==null||n===!1)return Zi.from(",",t.encoding);if(typeof n=="string"&&(n=Zi.from(n,t.encoding)),!Zi.isBuffer(n)||n.length===0)throw new Zr("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],t);return n}),t.escape===void 0||t.escape===!0?t.escape=Zi.from('"',t.encoding):typeof t.escape=="string"?t.escape=Zi.from(t.escape,t.encoding):(t.escape===null||t.escape===!1)&&(t.escape=null),t.escape!==null&&!Zi.isBuffer(t.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(t.escape)}`);if(t.from===void 0||t.from===null)t.from=1;else if(typeof t.from=="string"&&/\d+/.test(t.from)&&(t.from=parseInt(t.from)),Number.isInteger(t.from)){if(t.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(e.from)}`)}else throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(t.from)}`);if(t.from_line===void 0||t.from_line===null)t.from_line=1;else if(typeof t.from_line=="string"&&/\d+/.test(t.from_line)&&(t.from_line=parseInt(t.from_line)),Number.isInteger(t.from_line)){if(t.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(e.from_line)}`)}else throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(e.from_line)}`);if(t.ignore_last_delimiters===void 0||t.ignore_last_delimiters===null)t.ignore_last_delimiters=!1;else if(typeof t.ignore_last_delimiters=="number")t.ignore_last_delimiters=Math.floor(t.ignore_last_delimiters),t.ignore_last_delimiters===0&&(t.ignore_last_delimiters=!1);else if(typeof t.ignore_last_delimiters!="boolean")throw new Zr("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(t.ignore_last_delimiters)}`],t);if(t.ignore_last_delimiters===!0&&t.columns===!1)throw new Zr("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],t);if(t.info===void 0||t.info===null||t.info===!1)t.info=!1;else if(t.info!==!0)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(t.info)}`);if(t.max_record_size===void 0||t.max_record_size===null||t.max_record_size===!1)t.max_record_size=0;else if(!(Number.isInteger(t.max_record_size)&&t.max_record_size>=0))if(typeof t.max_record_size=="string"&&/\d+/.test(t.max_record_size))t.max_record_size=parseInt(t.max_record_size);else throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(t.max_record_size)}`);if(t.objname===void 0||t.objname===null||t.objname===!1)t.objname=void 0;else if(Zi.isBuffer(t.objname)){if(t.objname.length===0)throw new Error("Invalid Option: objname must be a non empty buffer");t.encoding===null||(t.objname=t.objname.toString(t.encoding))}else if(typeof t.objname=="string"){if(t.objname.length===0)throw new Error("Invalid Option: objname must be a non empty string")}else if(typeof t.objname!="number")throw new Error(`Invalid Option: objname must be a string or a buffer, got ${t.objname}`);if(t.objname!==void 0){if(typeof t.objname=="number"){if(t.columns!==!1)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(t.columns===!1)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(t.on_record===void 0||t.on_record===null)t.on_record=void 0;else if(typeof t.on_record!="function")throw new Zr("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(t.on_record)}`],t);if(t.quote===null||t.quote===!1||t.quote==="")t.quote=null;else if(t.quote===void 0||t.quote===!0?t.quote=Zi.from('"',t.encoding):typeof t.quote=="string"&&(t.quote=Zi.from(t.quote,t.encoding)),!Zi.isBuffer(t.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(t.quote)}`);if(t.raw===void 0||t.raw===null||t.raw===!1)t.raw=!1;else if(t.raw!==!0)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(t.raw)}`);if(t.record_delimiter===void 0)t.record_delimiter=[];else if(typeof t.record_delimiter=="string"||Zi.isBuffer(t.record_delimiter)){if(t.record_delimiter.length===0)throw new Zr("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(t.record_delimiter)}`],t);t.record_delimiter=[t.record_delimiter]}else if(!Array.isArray(t.record_delimiter))throw new Zr("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(t.record_delimiter)}`],t);if(t.record_delimiter=t.record_delimiter.map(function(n,d){if(typeof n!="string"&&!Zi.isBuffer(n))throw new Zr("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${d},`,`got ${JSON.stringify(n)}`],t);if(n.length===0)throw new Zr("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${d},`,`got ${JSON.stringify(n)}`],t);return typeof n=="string"&&(n=Zi.from(n,t.encoding)),n}),typeof t.relax_column_count!="boolean")if(t.relax_column_count===void 0||t.relax_column_count===null)t.relax_column_count=!1;else throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(t.relax_column_count)}`);if(typeof t.relax_column_count_less!="boolean")if(t.relax_column_count_less===void 0||t.relax_column_count_less===null)t.relax_column_count_less=!1;else throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(t.relax_column_count_less)}`);if(typeof t.relax_column_count_more!="boolean")if(t.relax_column_count_more===void 0||t.relax_column_count_more===null)t.relax_column_count_more=!1;else throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(t.relax_column_count_more)}`);if(typeof t.relax_quotes!="boolean")if(t.relax_quotes===void 0||t.relax_quotes===null)t.relax_quotes=!1;else throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(t.relax_quotes)}`);if(typeof t.skip_empty_lines!="boolean")if(t.skip_empty_lines===void 0||t.skip_empty_lines===null)t.skip_empty_lines=!1;else throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(t.skip_empty_lines)}`);if(typeof t.skip_records_with_empty_values!="boolean")if(t.skip_records_with_empty_values===void 0||t.skip_records_with_empty_values===null)t.skip_records_with_empty_values=!1;else throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(t.skip_records_with_empty_values)}`);if(typeof t.skip_records_with_error!="boolean")if(t.skip_records_with_error===void 0||t.skip_records_with_error===null)t.skip_records_with_error=!1;else throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(t.skip_records_with_error)}`);if(t.rtrim===void 0||t.rtrim===null||t.rtrim===!1)t.rtrim=!1;else if(t.rtrim!==!0)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(t.rtrim)}`);if(t.ltrim===void 0||t.ltrim===null||t.ltrim===!1)t.ltrim=!1;else if(t.ltrim!==!0)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(t.ltrim)}`);if(t.trim===void 0||t.trim===null||t.trim===!1)t.trim=!1;else if(t.trim!==!0)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(t.trim)}`);if(t.trim===!0&&e.ltrim!==!1?t.ltrim=!0:t.ltrim!==!0&&(t.ltrim=!1),t.trim===!0&&e.rtrim!==!1?t.rtrim=!0:t.rtrim!==!0&&(t.rtrim=!1),t.to===void 0||t.to===null)t.to=-1;else if(typeof t.to=="string"&&/\d+/.test(t.to)&&(t.to=parseInt(t.to)),Number.isInteger(t.to)){if(t.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(e.to)}`)}else throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(e.to)}`);if(t.to_line===void 0||t.to_line===null)t.to_line=-1;else if(typeof t.to_line=="string"&&/\d+/.test(t.to_line)&&(t.to_line=parseInt(t.to_line)),Number.isInteger(t.to_line)){if(t.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(e.to_line)}`)}else throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(e.to_line)}`);return t},aR=function(e){return e.every(t=>t==null||t.toString&&t.toString().trim()==="")},eNt=13,iNt=10,nf={utf8:Zi.from([239,187,191]),utf16le:Zi.from([255,254])},rNt=function(e={}){const t={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},r=sR(e);return{info:t,original_options:e,options:r,state:qOt(r),__needMoreData:function(n,d,S){if(S)return!1;const{encoding:s,escape:g,quote:i}=this.options,{quoting:o,needMoreDataSize:m,recordDelimiterMaxLength:c}=this.state,l=d-n-1,h=Math.max(m,c===0?Zi.from(`\r
`,s).length:c,o?(g===null?0:g.length)+i.length:0,o?i.length+c:0);return l<h},parse:function(n,d,S,s){const{bom:g,comment_no_infix:i,encoding:o,from_line:m,ltrim:c,max_record_size:l,raw:h,relax_quotes:a,rtrim:f,skip_empty_lines:p,to:u,to_line:v}=this.options;let{comment:y,escape:x,quote:b,record_delimiter:w}=this.options;const{bomSkipped:C,previousBuf:E,rawBuffer:T,escapeIsQuote:k}=this.state;let A;if(E===void 0)if(n===void 0){s();return}else A=n;else E!==void 0&&n===void 0?A=E:A=Zi.concat([E,n]);if(C===!1)if(g===!1)this.state.bomSkipped=!0;else if(A.length<3){if(d===!1){this.state.previousBuf=A;return}}else{for(const M in nf)if(nf[M].compare(A,0,nf[M].length)===0){const O=nf[M].length;this.state.bufBytesStart+=O,A=A.slice(O),this.options=sR(Fr(Fi({},this.original_options),{encoding:M})),{comment:y,escape:x,quote:b}=this.options;break}this.state.bomSkipped=!0}const I=A.length;let B;for(B=0;B<I&&!this.__needMoreData(B,I,d);B++){if(this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1),v!==-1&&this.info.lines>v){this.state.stop=!0,s();return}this.state.quoting===!1&&w.length===0&&this.__autoDiscoverRecordDelimiter(A,B)&&(w=this.options.record_delimiter);const M=A[B];if(h===!0&&T.append(M),(M===eNt||M===iNt)&&this.state.wasRowDelimiter===!1&&(this.state.wasRowDelimiter=!0),this.state.escaping===!0)this.state.escaping=!1;else{if(x!==null&&this.state.quoting===!0&&this.__isEscape(A,B,M)&&B+x.length<I)if(k){if(this.__isQuote(A,B+x.length)){this.state.escaping=!0,B+=x.length-1;continue}}else{this.state.escaping=!0,B+=x.length-1;continue}if(this.state.commenting===!1&&this.__isQuote(A,B))if(this.state.quoting===!0){const L=A[B+b.length],_=f&&this.__isCharTrimable(A,B+b.length),G=y!==null&&this.__compareBytes(y,A,B+b.length,L),$=this.__isDelimiter(A,B+b.length,L),W=w.length===0?this.__autoDiscoverRecordDelimiter(A,B+b.length):this.__isRecordDelimiter(L,A,B+b.length);if(x!==null&&this.__isEscape(A,B,M)&&this.__isQuote(A,B+x.length))B+=x.length-1;else if(!L||$||W||G||_){this.state.quoting=!1,this.state.wasQuoting=!0,B+=b.length-1;continue}else if(a===!1){const Y=this.__error(new Zr("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(L)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(Y!==void 0)return Y}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(b),B+=b.length-1}else if(this.state.field.length!==0){if(a===!1){const L=this.__infoField(),_=Object.keys(nf).map($=>nf[$].equals(this.state.field.toString())?$:!1).filter(Boolean)[0],G=this.__error(new Zr("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(L.column)} at line ${L.lines}, value is ${JSON.stringify(this.state.field.toString(o))}`,_?`(${_} bom)`:void 0],this.options,L,{field:this.state.field}));if(G!==void 0)return G}}else{this.state.quoting=!0,B+=b.length-1;continue}if(this.state.quoting===!1){const L=this.__isRecordDelimiter(M,A,B);if(L!==0){if(this.state.commenting&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0)this.info.comment_lines++;else{if(this.state.enabled===!1&&this.info.lines+(this.state.wasRowDelimiter===!0?1:0)>=m){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),B+=L-1;continue}if(p===!0&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++,B+=L-1;continue}this.info.bytes=this.state.bufBytesStart+B;const $=this.__onField();if($!==void 0)return $;this.info.bytes=this.state.bufBytesStart+B+L;const W=this.__onRecord(S);if(W!==void 0)return W;if(u!==-1&&this.info.records>=u){this.state.stop=!0,s();return}}this.state.commenting=!1,B+=L-1;continue}if(this.state.commenting)continue;if(y!==null&&(i===!1||this.state.record.length===0&&this.state.field.length===0)&&this.__compareBytes(y,A,B,M)!==0){this.state.commenting=!0;continue}const _=this.__isDelimiter(A,B,M);if(_!==0){this.info.bytes=this.state.bufBytesStart+B;const G=this.__onField();if(G!==void 0)return G;B+=_-1;continue}}}if(this.state.commenting===!1&&l!==0&&this.state.record_length+this.state.field.length>l)return this.__error(new Zr("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${l}`,`at line ${this.info.lines}`],this.options,this.__infoField()));const O=c===!1||this.state.quoting===!0||this.state.field.length!==0||!this.__isCharTrimable(A,B),P=f===!1||this.state.wasQuoting===!1;if(O===!0&&P===!0)this.state.field.append(M);else{if(f===!0&&!this.__isCharTrimable(A,B))return this.__error(new Zr("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));O===!1&&(B+=this.__isCharTrimable(A,B)-1);continue}}if(d===!0)if(this.state.quoting===!0){const M=this.__error(new Zr("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(M!==void 0)return M}else if(this.state.wasQuoting===!0||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+B;const M=this.__onField();if(M!==void 0)return M;const O=this.__onRecord(S);if(O!==void 0)return O}else this.state.wasRowDelimiter===!0?this.info.empty_lines++:this.state.commenting===!0&&this.info.comment_lines++;else this.state.bufBytesStart+=B,this.state.previousBuf=A.slice(B);this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(n){const{columns:d,group_columns_by_name:S,encoding:s,info:g,from:i,relax_column_count:o,relax_column_count_less:m,relax_column_count_more:c,raw:l,skip_records_with_empty_values:h}=this.options,{enabled:a,record:f}=this.state;if(a===!1)return this.__resetRecord();const p=f.length;if(d===!0){if(h===!0&&aR(f)){this.__resetRecord();return}return this.__firstLineToColumns(f)}if(d===!1&&this.info.records===0&&(this.state.expectedRecordLength=p),p!==this.state.expectedRecordLength){const u=d===!1?new Zr("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${p} on line ${this.info.lines}`],this.options,this.__infoField(),{record:f}):new Zr("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${d.length},`,`got ${p} on line ${this.info.lines}`],this.options,this.__infoField(),{record:f});if(o===!0||m===!0&&p<this.state.expectedRecordLength||c===!0&&p>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=u;else{const v=this.__error(u);if(v)return v}}if(h===!0&&aR(f)){this.__resetRecord();return}if(this.state.recordHasError===!0){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,i===1||this.info.records>=i){const{objname:u}=this.options;if(d!==!1){const v={};for(let y=0,x=f.length;y<x;y++)d[y]===void 0||d[y].disabled||(S===!0&&v[d[y].name]!==void 0?Array.isArray(v[d[y].name])?v[d[y].name]=v[d[y].name].concat(f[y]):v[d[y].name]=[v[d[y].name],f[y]]:v[d[y].name]=f[y]);if(l===!0||g===!0){const y=Object.assign({record:v},l===!0?{raw:this.state.rawBuffer.toString(s)}:{},g===!0?{info:this.__infoRecord()}:{}),x=this.__push(u===void 0?y:[v[u],y],n);if(x)return x}else{const y=this.__push(u===void 0?v:[v[u],v],n);if(y)return y}}else if(l===!0||g===!0){const v=Object.assign({record:f},l===!0?{raw:this.state.rawBuffer.toString(s)}:{},g===!0?{info:this.__infoRecord()}:{}),y=this.__push(u===void 0?v:[f[u],v],n);if(y)return y}else{const v=this.__push(u===void 0?f:[f[u],f],n);if(v)return v}}this.__resetRecord()},__firstLineToColumns:function(n){const{firstLineToHeaders:d}=this.state;try{const S=d===void 0?n:d.call(null,n);if(!Array.isArray(S))return this.__error(new Zr("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(S)}`],this.options,this.__infoField(),{headers:S}));const s=Vz(S);this.state.expectedRecordLength=s.length,this.options.columns=s,this.__resetRecord();return}catch(S){return S}},__resetRecord:function(){this.options.raw===!0&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){const{cast:n,encoding:d,rtrim:S,max_record_size:s}=this.options,{enabled:g,wasQuoting:i}=this.state;if(g===!1)return this.__resetField();let o=this.state.field.toString(d);if(S===!0&&i===!1&&(o=o.trimRight()),n===!0){const[m,c]=this.__cast(o);if(m!==void 0)return m;o=c}this.state.record.push(o),s!==0&&typeof o=="string"&&(this.state.record_length+=o.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(n,d){const{on_record:S}=this.options;if(S!==void 0){const s=this.__infoRecord();try{n=S.call(null,n,s)}catch(g){return g}if(n==null)return}d(n)},__cast:function(n){const{columns:d,relax_column_count:S}=this.options;if(Array.isArray(d)===!0&&S&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(this.state.castField!==null)try{const g=this.__infoField();return[void 0,this.state.castField.call(null,n,g)]}catch(g){return[g]}if(this.__isFloat(n))return[void 0,parseFloat(n)];if(this.options.cast_date!==!1){const g=this.__infoField();return[void 0,this.options.cast_date.call(null,n,g)]}return[void 0,n]},__isCharTrimable:function(n,d){return((s,g)=>{const{timchars:i}=this.state;t:for(let o=0;o<i.length;o++){const m=i[o];for(let c=0;c<m.length;c++)if(m[c]!==s[g+c])continue t;return m.length}return 0})(n,d)},__isFloat:function(n){return n-parseFloat(n)+1>=0},__compareBytes:function(n,d,S,s){if(n[0]!==s)return 0;const g=n.length;for(let i=1;i<g;i++)if(n[i]!==d[S+i])return 0;return g},__isDelimiter:function(n,d,S){const{delimiter:s,ignore_last_delimiters:g}=this.options;if(g===!0&&this.state.record.length===this.options.columns.length-1)return 0;if(g!==!1&&typeof g=="number"&&this.state.record.length===g-1)return 0;t:for(let i=0;i<s.length;i++){const o=s[i];if(o[0]===S){for(let m=1;m<o.length;m++)if(o[m]!==n[d+m])continue t;return o.length}}return 0},__isRecordDelimiter:function(n,d,S){const{record_delimiter:s}=this.options,g=s.length;t:for(let i=0;i<g;i++){const o=s[i],m=o.length;if(o[0]===n){for(let c=1;c<m;c++)if(o[c]!==d[S+c])continue t;return o.length}}return 0},__isEscape:function(n,d,S){const{escape:s}=this.options;if(s===null)return!1;const g=s.length;if(s[0]===S){for(let i=0;i<g;i++)if(s[i]!==n[d+i])return!1;return!0}return!1},__isQuote:function(n,d){const{quote:S}=this.options;if(S===null)return!1;const s=S.length;for(let g=0;g<s;g++)if(S[g]!==n[d+g])return!1;return!0},__autoDiscoverRecordDelimiter:function(n,d){const{encoding:S}=this.options,s=[Zi.from(`\r
`,S),Zi.from(`
`,S),Zi.from("\r",S)];t:for(let g=0;g<s.length;g++){const i=s[g].length;for(let o=0;o<i;o++)if(s[g][o]!==n[d+o])continue t;return this.options.record_delimiter.push(s[g]),this.state.recordDelimiterMaxLength=s[g].length,s[g].length}return 0},__error:function(n){const{encoding:d,raw:S,skip_records_with_error:s}=this.options,g=typeof n=="string"?new Error(n):n;if(s){this.state.recordHasError=!0,this.options.on_skip!==void 0&&this.options.on_skip(g,S?this.state.rawBuffer.toString(d):void 0);return}else return g},__infoDataSet:function(){return Fr(Fi({},this.info),{columns:this.options.columns})},__infoRecord:function(){const{columns:n,raw:d,encoding:S}=this.options;return Fr(Fi({},this.__infoDataSet()),{error:this.state.error,header:n===!0,index:this.state.record.length,raw:d?this.state.rawBuffer.toString(S):void 0})},__infoField:function(){const{columns:n}=this.options,d=Array.isArray(n);return Fr(Fi({},this.__infoRecord()),{column:d===!0?n.length>this.state.record.length?n[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting})}}};class nNt extends VOt.Transform{constructor(t={}){super(Fr(Fi({readableObjectMode:!0},t),{encoding:null})),this.api=rNt(t),this.api.options.on_skip=(r,n)=>{this.emit("skip",r,n)},this.state=this.api.state,this.options=this.api.options,this.info=this.api.info}_transform(t,r,n){if(this.state.stop===!0)return;const d=this.api.parse(t,!1,S=>{this.push(S)},()=>{this.push(null),this.end(),this.on("end",this.destroy)});d!==void 0&&(this.state.stop=!0),n(d)}_flush(t){if(this.state.stop===!0)return;const r=this.api.parse(void 0,!0,n=>{this.push(n)},()=>{this.push(null),this.on("end",this.destroy)});t(r)}}const oR=function(){let e,t,r;for(const d in arguments){const S=arguments[d],s=typeof S;if(e===void 0&&(typeof S=="string"||Zi.isBuffer(S)))e=S;else if(t===void 0&&Wz(S))t=S;else if(r===void 0&&s==="function")r=S;else throw new Zr("CSV_INVALID_ARGUMENT",["Invalid argument:",`got ${JSON.stringify(S)} at index ${d}`],t||{})}const n=new nNt(t);if(r){const d=t===void 0||t.objname===void 0?[]:{};n.on("readable",function(){let S;for(;(S=this.read())!==null;)t===void 0||t.objname===void 0?d.push(S):d[S[0]]=S[1]}),n.on("error",function(S){r(S,void 0,n.api.__infoDataSet())}),n.on("end",function(){r(void 0,d,n.api.__infoDataSet())})}if(e!==void 0){const d=function(){n.write(e),n.end()};typeof setImmediate=="function"?setImmediate(d):setTimeout(d,0)}return n},sNt="_mainContainer_oaval_1",aNt="_closeIcon_oaval_19",oNt="_header_oaval_36",lNt="_dropContainer_oaval_43",uNt="_activeDropContainer_oaval_57",hNt="_desc_oaval_61",cNt="_link_oaval_67",dNt="_button_oaval_74",fNt="_errorContainer_oaval_94",pNt="_errorIcon_oaval_106",vNt="_errorText_oaval_113",Qa={mainContainer:sNt,closeIcon:aNt,header:oNt,dropContainer:lNt,activeDropContainer:uNt,desc:hNt,link:cNt,button:dNt,errorContainer:fNt,errorIcon:pNt,errorText:vNt},mNt=()=>{Nj.saveAs(Ee.basic.spreadsheetTemplate,"Blooket Spreadsheet Import Template.xlsx")};class k4 extends ti.Component{constructor(t){super(t),this.state={loading:!1},this.dropzoneRef=ti.createRef(),this.onDrop=this.onDrop.bind(this)}onDrop(t){return ci(this,null,function*(){if(this.state.loading)return;this.setState({loading:!0,error:""});const r=t[0];if(r){const n=yield r.text(),d=yield new Promise(S=>{oR(n,{},(s,g)=>{s?oR(n,{delimiter:";"},(i,o)=>{S(o.slice(2).filter(m=>m.length>=8&&m[1]!=="").map(m=>m.slice(0,10)))}):S(g.slice(2).filter(i=>i.length>=8&&i[1]!=="").map(i=>i.slice(0,10)))})});this.props.done(null,!1,d)}else this.setState({loading:!1,error:"Error uploading the file."})})}render(){return R.jsxs("div",{className:Qa.mainContainer,children:[R.jsx("i",{className:Ct(Qa.closeIcon,"fas fa-times"),role:"button",tabIndex:0,onClick:()=>this.props.close()}),R.jsx("div",{className:Qa.header,children:"Import From Spreadsheet"}),R.jsxs(Md,{multiple:!1,accept:".csv",onDropAccepted:this.onDrop,onDropRejected:()=>this.setState({error:"CSV Denied (Check Size < 2.5 MB)"}),className:Qa.dropContainer,activeClassName:Qa.activeDropContainer,ref:this.dropzoneRef,maxSize:25e5,disableClick:!0,children:[R.jsxs("div",{className:Qa.desc,children:["1. ",R.jsx("a",{href:"https://docs.google.com/spreadsheets/d/1zg8YPkiF1sFu-p_PLbraRtOm1jlQ0uks-aCUtZCk-JI/copy",target:"_blank",rel:"noopener noreferrer",className:Qa.link,children:"Copy"})," or ",R.jsx("div",{role:"button",tabIndex:0,onClick:mNt,className:Qa.link,children:"Download"})," our template."]}),R.jsx("div",{className:Qa.desc,children:"2. Fill it out and export as CSV"}),R.jsx("div",{className:Qa.desc,children:"3. Upload Below"}),this.state.loading?R.jsx(Po,{}):R.jsx("div",{className:Qa.button,role:"button",tabIndex:0,onClick:()=>this.dropzoneRef.current.open(),children:"Upload CSV"})]}),this.state.error?R.jsxs("div",{className:Qa.errorContainer,children:[R.jsx("i",{className:Ct(Qa.errorIcon,"fas fa-times-circle")}),R.jsx("div",{className:Qa.errorText,children:this.state.error})]}):null]})}}k4.propTypes={done:Xt.func.isRequired,close:Xt.func.isRequired};const gNt="_mainContainer_l1z4x_1",yNt="_closeIcon_l1z4x_30",xNt="_searchContainer_l1z4x_47",bNt="_searchIcon_l1z4x_61",SNt="_searchInput_l1z4x_76",wNt="_loaderContainer_l1z4x_94",TNt="_logoText_l1z4x_102",CNt="_logoLink_l1z4x_108",ENt="_unsplashLogo_l1z4x_113",kNt="_imagesHolder_l1z4x_119",PNt="_imageContainer_l1z4x_127",ANt="_imageButton_l1z4x_135",RNt="_image_l1z4x_119",INt="_imageText_l1z4x_156",MNt="_imageLink_l1z4x_164",BNt="_showMoreContainer_l1z4x_168",ONt="_showMoreButton_l1z4x_173",NNt="_spacer_l1z4x_193",Is={mainContainer:gNt,closeIcon:yNt,searchContainer:xNt,searchIcon:bNt,searchInput:SNt,loaderContainer:wNt,logoText:TNt,logoLink:CNt,unsplashLogo:ENt,imagesHolder:kNt,imageContainer:PNt,imageButton:ANt,image:RNt,imageText:INt,imageLink:MNt,showMoreContainer:BNt,showMoreButton:ONt,spacer:NNt};class sb extends ti.Component{constructor(t){super(t),this.state={loading:!1,searchText:"",images:[],page:1,pagesLeft:0},this.loading=!1,this.onSelect=this.onSelect.bind(this),this.search=this.search.bind(this),this.showMore=this.showMore.bind(this)}onSelect(t){this.loading=!0,vi.post("/api/media/track-unsplash-download",{imageId:t.id}).catch(r=>{Ve.logError(r)}),this.props.select(t.smallImageURL)}search(t){t.preventDefault(),!this.loading&&(this.loading=!0,this.setState({loading:!0}),vi.get("/api/media/image-search",{params:{query:this.state.searchText,page:1}}).then(r=>{this.loading=!1,this.setState({images:r.data.results,loading:!1,page:1,pagesLeft:r.data.totalPages-1})}).catch(r=>{Ve.logError(r),this.loading=!1,this.setState({loading:!1,page:1,pagesLeft:0,images:[]})}))}showMore(){if(this.loading)return;this.loading=!0;const t=this.state.page+1,r=this.state.pagesLeft-1;vi.get("/api/media/image-search",{params:{query:this.state.searchText,page:t}}).then(n=>{this.loading=!1,this.setState({images:[...this.state.images,...n.data.results],page:t,pagesLeft:r})}).catch(n=>{Ve.logError(n),this.loading=!1})}render(){return R.jsx("div",{className:Qe.modal,children:R.jsxs("div",{className:Is.mainContainer,children:[R.jsx("i",{className:Ct(Is.closeIcon,"fas fa-times"),role:"button",tabIndex:0,onClick:this.props.close}),R.jsxs("form",{onSubmit:this.search,className:Is.searchContainer,children:[R.jsx("input",{className:Is.searchInput,type:"search",value:this.state.searchText,onChange:t=>this.setState({searchText:t.target.value}),placeholder:"Search for Images...",autoFocus:mr?"":"autofocus"}),R.jsx("i",{className:Ct(Is.searchIcon,"fas fa-search"),role:"button",tabIndex:0,onClick:this.search})]}),this.state.loading?R.jsx("div",{className:Is.loaderContainer,children:R.jsx(Po,{})}):this.state.images.length===0?R.jsx("div",{className:Is.loaderContainer,children:R.jsxs("div",{className:Is.logoText,children:["Images By:",R.jsx("br",{}),R.jsx("a",{className:Is.logoLink,target:"_blank",rel:"noopener noreferrer",href:"https://www.unsplash.com/?utm_source=blooket&utm_medium=referral",children:R.jsx("img",{src:Ee.basic.unsplashLogo,alt:"Images By Unsplash",className:Is.unsplashLogo,draggable:!1})})]})}):R.jsx("div",{className:Is.imagesHolder,children:this.state.images.map(t=>R.jsxs("div",{className:Is.imageContainer,children:[R.jsx("div",{className:Is.imageButton,role:"button",tabIndex:0,onClick:()=>this.onSelect(t),children:R.jsx("img",{src:t.smallImageURL,alt:t.altDescription,className:Is.image,draggable:!1})}),R.jsxs("div",{className:Is.imageText,children:["By: ",R.jsx("a",{className:Is.imageLink,target:"_blank",rel:"noopener noreferrer",href:t.attributionLink,children:t.unsplashUserName})]})]},t.id))}),this.state.pagesLeft>0&&!this.state.loading?R.jsx("div",{className:Is.showMoreContainer,children:R.jsx("div",{className:Is.showMoreButton,role:"button",tabIndex:0,onClick:this.showMore,children:"Show More"})}):null,R.jsx("div",{className:Is.spacer})]})})}}sb.propTypes={select:Xt.func.isRequired,close:Xt.func.isRequired};const LNt="_header_x45s0_1",FNt="_headerLinkButton_x45s0_12",DNt="_headerLinkIcon_x45s0_30",_Nt="_wideContainer_x45s0_34",jNt="_wideContainerStart_x45s0_42",zNt="_dropHolder_x45s0_46",UNt="_dropContainer_x45s0_56",GNt="_activeDropContainer_x45s0_69",HNt="_dropHeader_x45s0_73",$Nt="_dropText_x45s0_83",WNt="_uploadButtonContainer_x45s0_93",VNt="_uploadButton_x45s0_93",YNt="_uploadButtonInside_x45s0_106",XNt="_uploadIcon_x45s0_115",QNt="_uploadText_x45s0_122",KNt="_imgContainer_x45s0_129",JNt="_coverImage_x45s0_142",ZNt="_removeImageContainer_x45s0_149",qNt="_removeImageButton_x45s0_158",tLt="_removeImageIcon_x45s0_171",eLt="_removeImageText_x45s0_180",iLt="_upperRightContainer_x45s0_188",rLt="_titleHeader_x45s0_199",nLt="_titleSub_x45s0_207",sLt="_descHeader_x45s0_212",aLt="_input_x45s0_220",oLt="_descInput_x45s0_240",lLt="_inputFilled_x45s0_258",uLt="_inputError_x45s0_262",hLt="_categoryContainer_x45s0_266",cLt="_categoryHeader_x45s0_276",dLt="_categoryDesc_x45s0_283",fLt="_privacyRow_x45s0_290",pLt="_privacyCheckbox_x45s0_298",vLt="_privacyCheckboxChecked_x45s0_311",mLt="_privacyCheckboxSquare_x45s0_315",gLt="_privacyText_x45s0_331",yLt="_privacyTextDesc_x45s0_337",xLt="_methodContainer_x45s0_341",bLt="_methodButton_x45s0_352",SLt="_methodButtonInside_x45s0_357",wLt="_methodSelected_x45s0_367",TLt="_methodIcon_x45s0_371",CLt="_methodHeader_x45s0_378",ELt="_quizletImage_x45s0_386",kLt="_quizletImageSelected_x45s0_392",PLt="_bottomRow_x45s0_396",ALt="_buttonWrapper_x45s0_405",RLt="_createButton_x45s0_412",ILt="_buttonFilled_x45s0_424",MLt="_buttonError_x45s0_429",BLt="_errorContainer_x45s0_434",OLt="_errorIcon_x45s0_448",NLt="_spacer_x45s0_453",LLt="_hiddenInput_x45s0_457",FLt="_khanmigoBanner_x45s0_462",DLt="_khanmigoBannerInside_x45s0_468",_Lt="_khanmigoImg_x45s0_481",jLt="_khanmigoButton_x45s0_486",zLt="_khanmigoText_x45s0_527",Ti={header:LNt,headerLinkButton:FNt,headerLinkIcon:DNt,wideContainer:_Nt,wideContainerStart:jNt,dropHolder:zNt,dropContainer:UNt,activeDropContainer:GNt,dropHeader:HNt,dropText:$Nt,uploadButtonContainer:WNt,uploadButton:VNt,uploadButtonInside:YNt,uploadIcon:XNt,uploadText:QNt,imgContainer:KNt,coverImage:JNt,removeImageContainer:ZNt,removeImageButton:qNt,removeImageIcon:tLt,removeImageText:eLt,upperRightContainer:iLt,titleHeader:rLt,titleSub:nLt,descHeader:sLt,input:aLt,descInput:oLt,inputFilled:lLt,inputError:uLt,categoryContainer:hLt,categoryHeader:cLt,categoryDesc:dLt,privacyRow:fLt,privacyCheckbox:pLt,privacyCheckboxChecked:vLt,privacyCheckboxSquare:mLt,privacyText:gLt,privacyTextDesc:yLt,methodContainer:xLt,methodButton:bLt,methodButtonInside:SLt,methodSelected:wLt,methodIcon:TLt,methodHeader:CLt,quizletImage:ELt,quizletImageSelected:kLt,bottomRow:PLt,buttonWrapper:ALt,createButton:RLt,buttonFilled:ILt,buttonError:MLt,errorContainer:BLt,errorIcon:OLt,spacer:NLt,hiddenInput:LLt,khanmigoBanner:FLt,khanmigoBannerInside:DLt,khanmigoImg:_Lt,khanmigoButton:jLt,khanmigoText:zLt};var ULt={};const GLt=Ee.basic.QuizletLogo;class Yz extends ti.Component{constructor(t){super(t),this.state={game:{title:"",author:"",desc:"",id:"",coverImage:{},private:!1},user:null,importing:!1,coverImageFile:{},coverImageURL:"",titleError:"",descError:"",imageError:"",uploadingURL:!1,tempURL:"",urlError:"",method:3,loading:!1,showUnsplash:!1,unsplashURL:"",showKhanmigo:!1,dashboardLayout:null},this.onCreate=this.onCreate.bind(this),this.onTitleUpdate=this.onTitleUpdate.bind(this),this.onDescUpdate=this.onDescUpdate.bind(this),this.onURLUpdate=this.onURLUpdate.bind(this),this.onImageDrop=this.onImageDrop.bind(this),this.onURLSubmit=this.onURLSubmit.bind(this)}componentDidMount(){return ci(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ve.logError("CreatePage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}const r=yield Yr.me();this.setState({user:t,dashboardLayout:r.dashboardLayout})})}onCreate(t,r,n){if(t&&t.preventDefault(),this.state.loading)return;this.setState({loading:!0});const d=kL(this.state.game.title),S=PL(this.state.game.desc);if(this.setState({titleError:d,descError:S}),!d&&!S){if(this.state.method===1&&r!==void 0){this.props.history.push(`/edit?id=${this.state.game.id}`);return}if(this.state.method===1&&this.setState({importing:!0,loading:!1}),this.state.method===2&&!n){this.setState({importing:!0,loading:!1});return}this.setState({game:Fr(Fi({},this.state.game),{author:this.state.user.name})},()=>{if(this.state.coverImageFile&&this.state.coverImageFile.size){const s=new w5;s.append("file",this.state.coverImageFile),s.append("tags",""),s.append("upload_preset","normal"),s.append("api_key",ULt.CLOUDINARY_API_KEY),s.append("timestamp",parseInt(Date.now()/1e3,10)),ng.post("https://api.cloudinary.com/v1_1/blooket/image/upload",s,{headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!1}).then(g=>{const i={};i.url=g.data.secure_url,i.id=g.data.public_id,vi.post("/api/games",{title:this.state.game.title.trim(),author:this.state.game.author,desc:this.state.game.desc.trim(),coverImage:i,private:this.state.game.private}).then(o=>{this.setState({game:Fr(Fi({},this.state.game),{id:o.data._id,coverImage:i})},()=>{n?vi.put("/api/games/spreadsheet-import",{gameId:this.state.game.id,spreadsheetData:n}).then(()=>{this.props.history.push(`/edit?id=${this.state.game.id}`)}).catch(()=>{this.props.history.push(`/edit?id=${this.state.game.id}`)}):this.state.method!==1&&this.props.history.push(`/edit?id=${this.state.game.id}`)})}).catch(o=>{if(Ve.logError(o),o.response){const m={};o.response&&o.response.data&&o.response.data.msg&&o.response.data.msg.includes("description")?m.descError=o.response.data.msg:m.titleError=o.response.data.msg,this.setState(Fr(Fi({},m),{loading:!1}))}})}).catch(g=>{Ve.logError(g)})}else{const s={};this.state.coverImageURL?s.url=this.state.coverImageURL:this.state.unsplashURL&&(s.url=this.state.unsplashURL,s.id="u"),vi.post("/api/games",{title:this.state.game.title.trim(),author:this.state.game.author,desc:this.state.game.desc.trim(),coverImage:s,private:this.state.game.private}).then(g=>{this.setState({game:Fr(Fi({},this.state.game),{id:g.data._id,coverImage:s})},()=>{n?vi.put("/api/games/spreadsheet-import",{gameId:this.state.game.id,spreadsheetData:n}).then(()=>{this.props.history.push(`/edit?id=${this.state.game.id}`)}).catch(()=>{this.props.history.push(`/edit?id=${this.state.game.id}`)}):this.state.method!==1&&this.props.history.push(`/edit?id=${this.state.game.id}`)})}).catch(g=>{if(Ve.logError(g),g.response){const i={};g.response&&g.response.data&&g.response.data.msg&&g.response.data.msg.includes("description")?i.descError=g.response.data.msg:i.titleError=g.response.data.msg,this.setState(Fr(Fi({},i),{loading:!1}))}})}})}else this.setState({loading:!1})}onTitleUpdate(t){this.setState({game:Fr(Fi({},this.state.game),{title:t.target.value.slice(0,WE)}),titleError:""})}onDescUpdate(t){this.setState({game:Fr(Fi({},this.state.game),{desc:t.target.value.slice(0,VE)}),descError:""})}onURLUpdate(t){this.setState({tempURL:t.target.value,urlError:""})}onURLSubmit(t){return ci(this,null,function*(){if(t.preventDefault(),this.loading)return;this.loading=!0,this.setState({loading:!0});let r="";this.state.tempURL||(r="Where's the URL?"),(yield new Promise(d=>{vi.get("/api/games/is-image",{params:{url:this.state.tempURL}}).then(S=>{d(S.data)}).catch(()=>d(!1))}))||(r="We can't find a supported image for that URL."),r?this.setState({imageError:"",urlError:r,loading:!1}):this.setState({imageError:"",coverImageURL:this.state.tempURL,coverImageFile:{},urlError:"",tempURL:"",uploadingURL:!1,loading:!1}),this.loading=!1})}onImageDrop(t){const r=t[0];r?this.setState({imageError:"",coverImageFile:r,coverImageURL:URL.createObjectURL(r)}):this.setState({imageError:"Error Uploading the File.",coverImageFile:{},coverImageURL:""})}render(){const t=ti.createRef();return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Set Creator | Blooket",desc:"Sets are groups of questions that are used in games. Use this page to create a set with a title, description, cover image, and privacy setting."}),R.jsx(la,{user:this.state.user,page:"Set Creator"}),R.jsxs("div",{className:Qe.profileBody,children:[this.state.dashboardLayout===io.TEACHER?R.jsx("div",{className:Ti.khanmigoBanner,children:R.jsxs("div",{className:Ti.khanmigoBannerInside,children:[R.jsx("div",{className:Ti.khanmigoText,children:"Generate Questions with"}),R.jsx("img",{src:Ee.basic.khanmigoBanner,alt:"Khanmigo by Khan Academy",className:Ti.khanmigoImg,draggable:!1}),R.jsx(Ri,{onClick:()=>this.setState({showKhanmigo:!0}),color:"#9a49aa",insideClass:Ti.khanmigoButton,style:{marginTop:5},children:"Try Now"})]})}):null,R.jsxs("div",{className:Ti.header,children:["Question Set Creator",R.jsx("a",{className:Ti.headerLinkButton,href:this.state.user&&this.state.user.dashboardLayout==="Student"?"https://help.blooket.com/hc/en-us/articles/16289513807383-Creating-a-Question-Set":"https://help.blooket.com/hc/en-us/articles/15980599804823-Creating-a-Question-Set",target:"_blank",rel:"noopener noreferrer",children:R.jsx("i",{className:Ct("far fa-question-circle",Ti.headerLinkIcon)})})]}),R.jsxs("form",{onSubmit:this.onCreate,className:Ti.inputContainer,children:[R.jsxs("div",{className:Ti.wideContainer,children:[R.jsx("div",{className:Ti.dropHolder,children:!this.state.coverImageURL&&!this.state.unsplashURL?R.jsxs(Md,{multiple:!1,accept:"image/jpeg, image/png, image/gif",onDropAccepted:this.onImageDrop,onDropRejected:()=>this.setState({imageError:"Image Denied (Check Size < 2.5 MB)"}),className:Ti.dropContainer,activeClassName:Ti.activeDropContainer,ref:t,maxSize:25e5,disableClick:!0,children:[R.jsx("div",{className:Ti.dropHeader,children:"Cover Image"}),R.jsx("div",{className:Ti.dropText,children:"Drag and Drop or"}),R.jsxs("div",{className:Ti.uploadButtonContainer,children:[R.jsx(Ri,{outsideClass:Ti.uploadButton,color:"#fff",onClick:()=>this.setState({showUnsplash:!0}),children:R.jsxs("div",{className:Ti.uploadButtonInside,children:[R.jsx("i",{className:Ct(Ti.uploadIcon,"fas fa-image")}),R.jsxs("div",{className:Ti.uploadText,children:["Image",R.jsx("br",{}),"Gallery"]})]})}),R.jsx(Ri,{outsideClass:Ti.uploadButton,color:"#fff",onClick:()=>t.current.open(),children:R.jsxs("div",{className:Ti.uploadButtonInside,children:[R.jsx("i",{className:Ct(Ti.uploadIcon,"fas fa-file-upload")}),R.jsxs("div",{className:Ti.uploadText,children:["Upload",R.jsx("br",{}),"a File"]})]})}),R.jsx(Ri,{outsideClass:Ti.uploadButton,color:"#fff",onClick:()=>this.setState({uploadingURL:!0,urlError:""}),children:R.jsxs("div",{className:Ti.uploadButtonInside,children:[R.jsx("i",{className:Ct(Ti.uploadIcon,"fas fa-link")}),R.jsxs("div",{className:Ti.uploadText,children:["Upload",R.jsx("br",{}),"by URL"]})]})})]})]}):R.jsxs("div",{className:Ti.imgContainer,children:[R.jsx("img",{src:this.state.coverImageURL||this.state.unsplashURL,alt:"Upload",className:Ti.coverImage}),R.jsx("div",{className:Ti.removeImageContainer}),R.jsxs("div",{className:Ti.removeImageButton,role:"button",tabIndex:0,onClick:()=>this.setState({coverImageURL:"",coverImageFile:{},unsplashURL:""}),children:[R.jsx("i",{className:Ct(Ti.removeImageIcon,"fas fa-times")}),R.jsx("div",{className:Ti.removeImageText,children:"Remove"})]})]})}),R.jsxs("div",{className:Ti.upperRightContainer,children:[R.jsxs("div",{className:Ti.titleHeader,children:["Title ",R.jsx("span",{className:Ti.titleSub,children:"(required)"})]}),R.jsx("input",{className:Ct(Ti.input,{[Ti.inputFilled]:this.state.game.title,[Ti.inputError]:this.state.titleError}),onChange:this.onTitleUpdate,value:this.state.game.title,type:"text",placeholder:"Add a descriptive title",autoFocus:mr?"":"autofocus"}),R.jsx("div",{className:Ti.descHeader,children:"Description"}),R.jsx("textarea",{className:Ct(Ti.descInput,{[Ti.inputFilled]:this.state.game.desc,[Ti.inputError]:this.state.descError}),onChange:this.onDescUpdate,value:this.state.game.desc,placeholder:"Tell users about your question set","data-gramm_editor":"false"})]})]}),R.jsxs("div",{className:Ct(Ti.wideContainer,Ti.wideContainerStart),children:[R.jsxs("div",{className:Ti.categoryContainer,children:[R.jsx("div",{className:Ti.categoryHeader,children:"Privacy Setting"}),R.jsx("div",{className:Ti.categoryDesc,children:"This decides who can find and play your question set"}),R.jsxs("div",{className:Ti.privacyRow,children:[R.jsx("div",{className:Ct(Ti.privacyCheckbox,{[Ti.privacyCheckboxChecked]:!this.state.game.private}),role:"button",tabIndex:0,onClick:()=>{this.setState({game:Fr(Fi({},this.state.game),{private:!this.state.game.private})})},children:R.jsx("div",{className:Ti.privacyCheckboxSquare})}),R.jsx("div",{className:Ti.privacyText,children:this.state.game.private?"Private":"Public"}),R.jsx("div",{className:Ti.privacyTextDesc,children:this.state.game.private?"Only Playable by You":"Playable by Everyone"})]})]}),R.jsxs("div",{className:Ti.categoryContainer,children:[R.jsx("div",{className:Ti.categoryHeader,children:"Creation Method"}),R.jsx("div",{className:Ti.categoryDesc,children:"This decides how you will start adding questions to your set"}),R.jsxs("div",{className:Ti.methodContainer,children:[R.jsx(Ri,{outsideClass:Ti.methodButton,color:this.state.method===3?"#0bc2cf":"#fff",onClick:()=>this.setState({method:3}),children:R.jsxs("div",{className:Ct(Ti.methodButtonInside,{[Ti.methodSelected]:this.state.method===3}),children:[R.jsx("i",{className:Ct(Ti.methodIcon,"fas fa-edit")}),R.jsx("div",{className:Ti.methodHeader,children:"Manual"})]})}),R.jsx(Ri,{outsideClass:Ti.methodButton,color:this.state.method===1?"#4053b3":"#fff",onClick:()=>this.setState({method:1}),children:R.jsxs("div",{className:Ct(Ti.methodButtonInside,{[Ti.methodSelected]:this.state.method===1}),children:[R.jsx("img",{src:GLt,alt:"Quizlet",className:Ct(Ti.quizletImage,{[Ti.quizletImageSelected]:this.state.method===1}),draggable:!1}),R.jsx("div",{className:Ti.methodHeader,children:"Quizlet Import"})]})}),R.jsx(Ri,{outsideClass:Ti.methodButton,color:this.state.method===2?"#007337":"#fff",onClick:()=>this.setState({method:2}),children:R.jsxs("div",{className:Ct(Ti.methodButtonInside,{[Ti.methodSelected]:this.state.method===2}),children:[R.jsx("i",{className:Ct(Ti.methodIcon,"fas fa-table")}),R.jsx("div",{className:Ti.methodHeader,children:"CSV Import"})]})})]})]})]}),R.jsxs("div",{className:Ti.bottomRow,children:[this.state.titleError||this.state.descError||this.state.imageError?R.jsxs("div",{className:Ti.errorContainer,children:[R.jsx("i",{className:Ct(Ti.errorIcon,"fas fa-times-circle")}),this.state.titleError||this.state.descError||this.state.imageError]}):null,R.jsx("div",{className:Ti.buttonWrapper,children:this.state.loading?R.jsx(Po,{}):R.jsx(Ri,{color:"#0bc2cf",onClick:this.onCreate,children:R.jsx("div",{className:Ti.createButton,children:"Create"})})})]}),R.jsx("div",{className:Ti.spacer}),R.jsx("input",{type:"submit",className:Ti.hiddenInput})]}),this.state.uploadingURL?R.jsx(xr,{text:"Enter Image URL Address:",loading:this.state.loading,stringValue:this.state.tempURL,stringChange:this.onURLUpdate,stringPlaceholder:"Image URL",onSubmit:this.onURLSubmit,error:this.state.urlError,buttonOne:{text:"Upload",click:this.onURLSubmit,color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({uploadingURL:!1,tempURL:""}),color:"blue"}}):null]}),this.state.importing?this.state.method===1?R.jsx("div",{className:Qe.modal,children:R.jsx(g4,{done:this.onCreate,gameId:this.state.game.id,close:()=>this.setState({importing:!1})})}):R.jsx("div",{className:Qe.modal,children:R.jsx(k4,{done:this.onCreate,close:()=>this.setState({importing:!1})})}):null,this.state.showUnsplash?R.jsx(sb,{select:r=>this.setState({showUnsplash:!1,unsplashURL:r}),close:()=>this.setState({showUnsplash:!1})}):null,R.jsx(LBt,{show:this.state.showKhanmigo,onClose:()=>this.setState({showKhanmigo:!1})})]})}}Yz.propTypes={history:Xt.object.isRequired,user:Xt.object};const HLt=()=>({}),$Lt=e=>Ns({},e),WLt=jn(Ls(Qs(HLt,$Lt)(Yz))),VLt="_mainRow_1byfb_1",YLt="_leftColumn_1byfb_10",XLt="_headerContainer_1byfb_16",QLt="_coverFillerContainer_1byfb_27",KLt="_coverImageContainer_1byfb_27",JLt="_coverImage_1byfb_27",ZLt="_coverFillerImage_1byfb_50",qLt="_headerTitle_1byfb_58",tFt="_headerDesc_1byfb_64",eFt="_headerPrivateContainer_1byfb_71",iFt="_headerPrivateIcon_1byfb_79",rFt="_headerPrivateText_1byfb_84",nFt="_saveButton_1byfb_89",sFt="_saveButtonInside_1byfb_94",aFt="_saveIcon_1byfb_107",oFt="_smallButtonsContainer_1byfb_112",lFt="_smallButton_1byfb_112",uFt="_smallIcon_1byfb_142",hFt="_addQuestionWrapper_1byfb_147",cFt="_addButton_1byfb_155",dFt="_addButtonInside_1byfb_159",fFt="_addIcon_1byfb_174",pFt="_addImage_1byfb_181",vFt="_questionSection_1byfb_186",mFt="_questionSectionTop_1byfb_192",gFt="_numQuestions_1byfb_201",yFt="_addQuestionButtonInside_1byfb_213",xFt="_addQuestionIcon_1byfb_225",bFt="_questionContainer_1byfb_230",SFt="_questionRow_1byfb_241",wFt="_questionInfoRow_1byfb_250",TFt="_questionInfo_1byfb_250",CFt="_questionInfoIcon_1byfb_272",EFt="_questionImageContainer_1byfb_276",kFt="_questionImageButton_1byfb_294",PFt="_questionImage_1byfb_276",AFt="_questionLeftRow_1byfb_305",RFt="_questionArrowsHolder_1byfb_315",IFt="_arrowIcon_1byfb_324",MFt="_questionButtonColumn_1byfb_345",BFt="_editButton_1byfb_354",OFt="_editIcon_1byfb_367",NFt="_questionButtonRow_1byfb_372",LFt="_questionButtonIcon_1byfb_380",FFt="_questionTextContainer_1byfb_391",DFt="_questionNum_1byfb_401",_Ft="_questionTextRow_1byfb_407",jFt="_questionText_1byfb_391",zFt="_questionFunc_1byfb_423",UFt="_qMathField_1byfb_431",GFt="_answerContainer_1byfb_439",HFt="_answerContainerStart_1byfb_450",$Ft="_typingAnswer_1byfb_454",WFt="_typingAnswerIcon_1byfb_464",VFt="_answer_1byfb_439",YFt="_answerIcon_1byfb_485",XFt="_answerMediaContainer_1byfb_492",QFt="_answerMediaCapped_1byfb_500",KFt="_answerText_1byfb_504",JFt="_answerImg_1byfb_512",ZFt="_mathField_1byfb_520",qFt="_faded_1byfb_528",tDt="_bottomSpacer_1byfb_532",wi={mainRow:VLt,leftColumn:YLt,headerContainer:XLt,coverFillerContainer:QLt,coverImageContainer:KLt,coverImage:JLt,coverFillerImage:ZLt,headerTitle:qLt,headerDesc:tFt,headerPrivateContainer:eFt,headerPrivateIcon:iFt,headerPrivateText:rFt,saveButton:nFt,saveButtonInside:sFt,saveIcon:aFt,smallButtonsContainer:oFt,smallButton:lFt,smallIcon:uFt,addQuestionWrapper:hFt,addButton:cFt,addButtonInside:dFt,addIcon:fFt,addImage:pFt,questionSection:vFt,questionSectionTop:mFt,numQuestions:gFt,addQuestionButtonInside:yFt,addQuestionIcon:xFt,questionContainer:bFt,questionRow:SFt,questionInfoRow:wFt,questionInfo:TFt,questionInfoIcon:CFt,questionImageContainer:EFt,questionImageButton:kFt,questionImage:PFt,questionLeftRow:AFt,questionArrowsHolder:RFt,arrowIcon:IFt,questionButtonColumn:MFt,editButton:BFt,editIcon:OFt,questionButtonRow:NFt,questionButtonIcon:LFt,questionTextContainer:FFt,questionNum:DFt,questionTextRow:_Ft,questionText:jFt,questionFunc:zFt,qMathField:UFt,answerContainer:GFt,answerContainerStart:HFt,typingAnswer:$Ft,typingAnswerIcon:WFt,answer:VFt,answerIcon:YFt,answerMediaContainer:XFt,answerMediaCapped:QFt,answerText:KFt,answerImg:JFt,mathField:ZFt,faded:qFt,bottomSpacer:tDt},eDt="_wrapper_1tul9_1",iDt="_modal_1tul9_12",rDt="_mainContainer_1tul9_23",nDt="_header_1tul9_37",sDt="_headerContainer_1tul9_62",aDt="_headerContainerButton_1tul9_62",oDt="_headerRow_1tul9_56",lDt="_headerIcon_1tul9_85",uDt="_headerText_1tul9_89",hDt="_questionTypeArrow_1tul9_96",cDt="_timeInput_1tul9_100",dDt="_randomButton_1tul9_118",fDt="_randomCheck_1tul9_133",pDt="_isRandom_1tul9_140",vDt="_cancelButton_1tul9_144",mDt="_cancelIcon_1tul9_164",gDt="_cancelText_1tul9_170",yDt="_saveButton_1tul9_174",xDt="_saveIcon_1tul9_193",bDt="_saveText_1tul9_198",SDt="_loadingIcon_1tul9_203",wDt="_spin_1tul9_1",TDt="_questionRegularBody_1tul9_213",CDt="_questionContainer_1tul9_221",EDt="_questionLeftContainer_1tul9_233",kDt="_questionButton_1tul9_243",PDt="_questionIcon_1tul9_266",ADt="_questionImgWrapper_1tul9_270",RDt="_questionImgContainer_1tul9_280",IDt="_questionEqWrapper_1tul9_288",MDt="_removeQButton_1tul9_298",BDt="_removeQIcon_1tul9_317",ODt="_questionTextContainer_1tul9_322",NDt="_questionText_1tul9_322",LDt="_placeholder_1tul9_362",FDt="_errorContainer_1tul9_375",DDt="_imageContainer_1tul9_388",_Dt="_img_1tul9_400",jDt="_typingAnswersWrapper_1tul9_407",zDt="_typingAnswersHolder_1tul9_420",UDt="_typingAnswersInside_1tul9_431",GDt="_typingAnswerHeader_1tul9_442",HDt="_typingAnswerSubheader_1tul9_450",$Dt="_typingAnswerRow_1tul9_458",WDt="_answerTypeDropdown_1tul9_468",VDt="_answerTypeArrow_1tul9_490",YDt="_answerTypeDropdownMenu_1tul9_494",XDt="_answerTypeDropdownOption_1tul9_521",QDt="_typingAnswerContainer_1tul9_540",KDt="_typingAnswerInput_1tul9_554",JDt="_removeTypingAnswerButton_1tul9_574",ZDt="_removeTrashIcon_1tul9_597",qDt="_addAnswerButton_1tul9_603",t_t="_answersHolder_1tul9_620",e_t="_answerWrapper_1tul9_634",i_t="_answerContainer_1tul9_641",r_t="_answerLeftContainer_1tul9_654",n_t="_correctButton_1tul9_664",s_t="_correctCheck_1tul9_683",a_t="_correctAnswer_1tul9_693",o_t="_answerButtonRow_1tul9_700",l_t="_answerIconButton_1tul9_709",u_t="_answerIcon_1tul9_709",h_t="_answerTextContainer_1tul9_733",c_t="_answerText_1tul9_733",d_t="_answerImgContainer_1tul9_776",f_t="_answerImg_1tul9_776",p_t="_removeButton_1tul9_791",v_t="_mathField_1tul9_811",m_t="_mathAnswerField_1tul9_820",g_t="_keyboardIcon_1tul9_828",y_t="_errorBorder_1tul9_854",x_t="_tooltip_1tul9_858",b_t="_answerTwo_1tul9_958",mi={wrapper:eDt,modal:iDt,mainContainer:rDt,header:nDt,headerContainer:sDt,headerContainerButton:aDt,headerRow:oDt,headerIcon:lDt,headerText:uDt,questionTypeArrow:hDt,timeInput:cDt,randomButton:dDt,randomCheck:fDt,isRandom:pDt,cancelButton:vDt,cancelIcon:mDt,cancelText:gDt,saveButton:yDt,saveIcon:xDt,saveText:bDt,loadingIcon:SDt,spin:wDt,questionRegularBody:TDt,questionContainer:CDt,questionLeftContainer:EDt,questionButton:kDt,questionIcon:PDt,questionImgWrapper:ADt,questionImgContainer:RDt,questionEqWrapper:IDt,removeQButton:MDt,removeQIcon:BDt,questionTextContainer:ODt,questionText:NDt,placeholder:LDt,errorContainer:FDt,imageContainer:DDt,img:_Dt,typingAnswersWrapper:jDt,typingAnswersHolder:zDt,typingAnswersInside:UDt,typingAnswerHeader:GDt,typingAnswerSubheader:HDt,typingAnswerRow:$Dt,answerTypeDropdown:WDt,answerTypeArrow:VDt,answerTypeDropdownMenu:YDt,answerTypeDropdownOption:XDt,typingAnswerContainer:QDt,typingAnswerInput:KDt,removeTypingAnswerButton:JDt,removeTrashIcon:ZDt,addAnswerButton:qDt,answersHolder:t_t,answerWrapper:e_t,answerContainer:i_t,answerLeftContainer:r_t,correctButton:n_t,correctCheck:s_t,correctAnswer:a_t,answerButtonRow:o_t,answerIconButton:l_t,answerIcon:u_t,answerTextContainer:h_t,answerText:c_t,answerImgContainer:d_t,answerImg:f_t,removeButton:p_t,mathField:v_t,mathAnswerField:m_t,keyboardIcon:g_t,errorBorder:y_t,tooltip:x_t,answerTwo:b_t},S_t="_modal_158j6_1",w_t="_mainContainer_158j6_14",T_t="_header_158j6_29",C_t="_text_158j6_47",E_t="_uploadButtonContainer_158j6_54",k_t="_uploadButton_158j6_54",P_t="_uploadIcon_158j6_83",A_t="_uploadText_158j6_90",R_t="_dropContainer_158j6_95",I_t="_activeDropContainer_158j6_114",M_t="_dropzoneIcon_158j6_118",B_t="_urlInput_158j6_131",O_t="_inputFilled_158j6_157",N_t="_buttonRow_158j6_161",L_t="_button_158j6_161",F_t="_errorContainer_158j6_190",D_t="_errorIcon_158j6_202",__t="_errorText_158j6_209",Sn={modal:S_t,mainContainer:w_t,header:T_t,text:C_t,uploadButtonContainer:E_t,uploadButton:k_t,uploadIcon:P_t,uploadText:A_t,dropContainer:R_t,activeDropContainer:I_t,dropzoneIcon:M_t,urlInput:B_t,inputFilled:O_t,buttonRow:N_t,button:L_t,errorContainer:F_t,errorIcon:D_t,errorText:__t};class Xz extends ti.Component{constructor(t){super(t),this.state={error:"",showUnsplash:!1,urlInput:"",showURL:!1},this.loading=!1,this.dropzoneRef=ti.createRef(),this.onImageDrop=this.onImageDrop.bind(this),this.onURLSubmit=this.onURLSubmit.bind(this)}onImageDrop(t){const r=t[0];r?this.props.onDone(URL.createObjectURL(r),r):this.setState({error:"Error Uploading the File."})}onURLSubmit(t){return ci(this,null,function*(){if(t.preventDefault(),this.loading)return;this.loading=!0;let r="";this.state.urlInput?(yield new Promise(d=>{vi.get("/api/games/is-image",{params:{url:this.state.urlInput}}).then(S=>{d(S.data)}).catch(S=>{Ve.logError(S),d(!1)})}))||(r="We can't find a supported image for that URL."):r="Where's the URL?",r?this.setState({error:r}):this.props.onDone(this.state.urlInput),this.loading=!1})}render(){return this.state.showUnsplash?R.jsx(sb,{select:t=>this.props.onDone(t,null),close:()=>this.setState({showUnsplash:!1})}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:Sn.modal,role:"button",tabIndex:0,onClick:this.props.onClose}),R.jsxs("div",{className:Sn.mainContainer,children:[this.state.showURL?R.jsxs("form",{onSubmit:this.onURLSubmit,children:[R.jsx("div",{className:Sn.header,children:"Upload by URL"}),R.jsx("div",{className:Sn.text,children:"Enter image address:"}),R.jsx("input",{className:Ct(Sn.urlInput,{[Sn.inputFilled]:this.state.urlInput}),placeholder:"Image url...",onChange:t=>this.setState({urlInput:t.target.value,error:""}),value:this.state.urlInput,type:"text",autoFocus:mr?"":"autofocus"}),R.jsxs("div",{className:Sn.buttonRow,children:[R.jsx("div",{className:Sn.button,role:"button",tabIndex:0,onClick:()=>this.setState({showURL:!1}),children:"Back"}),R.jsx("div",{className:Sn.button,role:"button",tabIndex:0,onClick:this.onURLSubmit,children:"Submit"})]})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:Sn.header,children:"Image Uploader"}),R.jsxs("div",{className:Sn.uploadButtonContainer,children:[R.jsxs("div",{className:Sn.uploadButton,role:"button",tabIndex:0,onClick:()=>this.setState({showUnsplash:!0}),children:[R.jsx("i",{className:Ct(Sn.uploadIcon,"fas fa-image")}),R.jsxs("div",{className:Sn.uploadText,children:["Image",R.jsx("br",{}),"Gallery"]})]}),R.jsxs("div",{className:Sn.uploadButton,role:"button",tabIndex:0,onClick:()=>this.dropzoneRef.current.open(),children:[R.jsx("i",{className:Ct(Sn.uploadIcon,"fas fa-file-upload")}),R.jsxs("div",{className:Sn.uploadText,children:["Upload",R.jsx("br",{}),"a File"]})]}),R.jsxs("div",{className:Sn.uploadButton,role:"button",tabIndex:0,onClick:()=>this.setState({showURL:!0,urlInput:""}),children:[R.jsx("i",{className:Ct(Sn.uploadIcon,"fas fa-link")}),R.jsxs("div",{className:Sn.uploadText,children:["Upload",R.jsx("br",{}),"by URL"]})]})]}),R.jsxs(Md,{multiple:!1,accept:"image/jpeg, image/png, image/gif, image/svg+xml",onDropAccepted:this.onImageDrop,onDropRejected:()=>{this.setState({error:"Image Denied (Check Size < 2.5 MB)"})},className:Sn.dropContainer,activeClassName:Sn.activeDropContainer,ref:this.dropzoneRef,maxSize:25e5,children:[R.jsx("i",{className:Ct("fas fa-file-image",Sn.dropzoneIcon)}),"Or Drag and Drop a File Here (< 2.5 MB)"]})]}),this.state.error?R.jsxs("div",{className:Sn.errorContainer,children:[R.jsx("i",{className:Ct(Sn.errorIcon,"fas fa-times-circle")}),R.jsx("div",{className:Sn.errorText,children:this.state.error})]}):null]})]})}}Xz.propTypes={onClose:Xt.func.isRequired,onDone:Xt.func.isRequired};const yT=[[{text:"+",latex:"+"},{text:"-",latex:"-"},{text:"\\cdot",latex:"\\cdot"},{text:"\\times",latex:"\\times"},{text:"\\div",latex:"\\div"},{text:"=",latex:"="},{text:"\\pm",latex:"\\pm"},{text:"\\ne",latex:"\\ne"},{text:"\\pi",latex:"\\pi"},{text:"",latex:""}],[{text:"a^2",latex:"^2"},{text:"a^b",latex:"^{ }",offset:1},{text:"\\frac{a}{b}",latex:"\\frac{ }{ }",offset:2},{text:"a_b",latex:"_{ }",offset:1},{text:"|a|",latex:"| |",offset:1},{text:"\\sqrt{a}",latex:"\\sqrt{ }",offset:1},{text:"\\sqrt[b]{a}",latex:"\\sqrt[ ]{ }",offset:2},{text:"\\overline{a}",latex:"\\overline{ }",offset:1},{text:"\\overleftarrow{ab}",latex:"\\overleftarrow{ }",offset:1},{text:"\\overrightarrow{ab}",latex:"\\overrightarrow{ }",offset:1},{text:"\\lim _{a \\to b}",latex:"\\lim _{ \\to }",offset:2,fontSize:12},{text:"\\sum _{b}^{a}",latex:"\\sum _{ }^{ }",offset:2,fontSize:12},{text:"\\prod _{b}^{a}",latex:"\\prod _{ }^{ }",offset:2,fontSize:12},{text:"\\lceil a\\rceil",latex:"\\lceil { }\\rceil",offset:1},{text:"\\lfloor a\\rfloor",latex:"\\lfloor { }\\rfloor",offset:1},{text:"\\ln a",latex:"\\ln { }"},{text:"\\log _ba",latex:"\\log _{ }{ }",offset:1,fontSize:14},{text:"\\int _b^a",latex:"\\int _{ }^{ }",offset:2,fontSize:14}],[{text:"<",latex:"<"},{text:">",latex:">"},{text:" ",latex:" "},{text:"\\degree",latex:"\\degree"},{text:"\\circ",latex:"\\circ"},{text:"\\le",latex:"\\le"},{text:"\\ge",latex:"\\ge"},{text:"",latex:""},{text:"\\parallel",latex:"\\parallel"},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"~",latex:"~"},{text:"\\approx",latex:"\\approx"},{text:"\\cong",latex:"\\cong"},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""}],[{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""}],[{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:" ",latex:" "},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""}],[{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"\\pi",latex:"\\pi"},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""},{text:"",latex:""}]],j_t="_modal_1vbfo_1",z_t="_mainContainer_1vbfo_14",U_t="_header_1vbfo_33",G_t="_topRow_1vbfo_51",H_t="_mathInputWrapper_1vbfo_60",$_t="_mathInput_1vbfo_60",W_t="_insertButton_1vbfo_84",V_t="_bottomWrapper_1vbfo_104",Y_t="_button_1vbfo_112",X_t="_mathField_1vbfo_130",Q_t="_buttonRow_1vbfo_137",K_t="_bottomButtons_1vbfo_145",J_t="_importantButtons_1vbfo_145",Z_t="_topButtons_1vbfo_145",q_t="_smallSpacer_1vbfo_162",tjt="_spacer_1vbfo_166",rs={modal:j_t,mainContainer:z_t,header:U_t,topRow:G_t,mathInputWrapper:H_t,mathInput:$_t,insertButton:W_t,bottomWrapper:V_t,button:Y_t,mathField:X_t,buttonRow:Q_t,bottomButtons:K_t,importantButtons:J_t,topButtons:Z_t,smallSpacer:q_t,spacer:tjt};Fn.addStyles();class Qz extends ti.Component{constructor(t){super(t),this.state={latex:t.equation||""},this.mathField=null,this.onKeyPress=this.onKeyPress.bind(this),this.addLatex=this.addLatex.bind(this),this.submitLatex=this.submitLatex.bind(this)}componentDidMount(){document.addEventListener("keypress",this.onKeyPress)}componentWillUnmount(){document.removeEventListener("keypress",this.onKeyPress)}onKeyPress(t){(t||window.event).keyCode===13&&this.submitLatex()}addLatex(t){this.mathField.write(t.latex),this.mathField.focus();for(let r=0;r<t.offset;r++)this.mathField.keystroke("Left")}submitLatex(t){t&&t.preventDefault(),this.props.onDone(this.state.latex)}render(){return R.jsxs(R.Fragment,{children:[R.jsx("div",{className:rs.modal,role:"button",tabIndex:0,onClick:this.props.onClose}),R.jsxs("div",{className:rs.mainContainer,children:[R.jsx("div",{className:rs.header,children:"Equation Editor"}),R.jsxs("form",{onSubmit:this.submitLatex,className:rs.topRow,children:[R.jsx("div",{className:rs.mathInputWrapper,children:R.jsx(Fn.EditableMathField,{latex:this.state.latex,onChange:t=>{this.setState({latex:t.latex()})},mathquillDidMount:t=>{this.mathField=t,this.mathField.focus()},className:rs.mathInput})}),R.jsx("div",{className:rs.insertButton,role:"button",tabIndex:0,onClick:this.submitLatex,children:"Insert"})]}),R.jsxs("div",{className:rs.bottomWrapper,children:[R.jsx("div",{className:rs.buttonRow,children:R.jsx("div",{className:rs.importantButtons,children:yT[0].map((t,r)=>R.jsx("div",{className:rs.button,role:"button",tabIndex:0,onClick:()=>this.addLatex(t),children:R.jsx(Fn.StaticMathField,{className:rs.mathField,style:{fontSize:t.fontSize},children:t.text})},r))})}),R.jsx("div",{className:rs.smallSpacer}),R.jsx("div",{className:rs.buttonRow,children:yT.slice(1,4).map((t,r)=>R.jsx("div",{className:rs.topButtons,children:t.map((n,d)=>R.jsx("div",{className:rs.button,role:"button",tabIndex:0,onClick:()=>this.addLatex(n),children:R.jsx(Fn.StaticMathField,{className:rs.mathField,style:{fontSize:n.fontSize},children:n.text})},d))},r))}),R.jsx("div",{className:rs.spacer}),R.jsx("div",{className:rs.buttonRow,children:yT.slice(4).map((t,r)=>R.jsx("div",{className:rs.bottomButtons,children:t.map((n,d)=>R.jsx("div",{className:rs.button,role:"button",tabIndex:0,onClick:()=>this.addLatex(n),children:R.jsx(Fn.StaticMathField,{className:rs.mathField,style:{fontSize:n.fontSize},children:n.text})},d))},r))})]})]})]})}}Qz.propTypes={equation:Xt.string,onDone:Xt.func.isRequired,onClose:Xt.func.isRequired};var Kz={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Bm,function(){function r(Yt){return new Int8Array(Yt)}function n(Yt){return new Int16Array(Yt)}function d(Yt){return new Int32Array(Yt)}function S(Yt){return new Float32Array(Yt)}function s(Yt){return new Float64Array(Yt)}function g(Yt){if(Yt.length==1)return S(Yt[0]);var ge=Yt[0];Yt=Yt.slice(1);for(var be=[],Se=0;Se<ge;Se++)be.push(g(Yt));return be}function i(Yt){if(Yt.length==1)return d(Yt[0]);var ge=Yt[0];Yt=Yt.slice(1);for(var be=[],Se=0;Se<ge;Se++)be.push(i(Yt));return be}function o(Yt){if(Yt.length==1)return n(Yt[0]);var ge=Yt[0];Yt=Yt.slice(1);for(var be=[],Se=0;Se<ge;Se++)be.push(o(Yt));return be}function m(Yt){if(Yt.length==1)return new Array(Yt[0]);var ge=Yt[0];Yt=Yt.slice(1);for(var be=[],Se=0;Se<ge;Se++)be.push(m(Yt));return be}var c={};c.fill=function(Yt,ge,be,Se){if(arguments.length==2)for(var De=0;De<Yt.length;De++)Yt[De]=arguments[1];else for(var De=ge;De<be;De++)Yt[De]=Se};var l={};l.arraycopy=function(Yt,ge,be,Se,De){for(var me=ge+De;ge<me;)be[Se++]=Yt[ge++]};var h={};h.SQRT2=1.4142135623730951,h.FAST_LOG10=function(Yt){return Math.log10(Yt)},h.FAST_LOG10_X=function(Yt,ge){return Math.log10(Yt)*ge};function a(Yt){this.ordinal=Yt}a.short_block_allowed=new a(0),a.short_block_coupled=new a(1),a.short_block_dispensed=new a(2),a.short_block_forced=new a(3);var f={};f.MAX_VALUE=34028235e31;function p(Yt){this.ordinal=Yt}p.vbr_off=new p(0),p.vbr_mt=new p(1),p.vbr_rh=new p(2),p.vbr_abr=new p(3),p.vbr_mtrh=new p(4),p.vbr_default=p.vbr_mtrh;var u=function(Yt){},v={System:l,VbrMode:p,Float:f,ShortBlock:a,Util:h,Arrays:c,new_array_n:m,new_byte:r,new_double:s,new_float:S,new_float_n:g,new_int:d,new_int_n:i,new_short:n,new_short_n:o,assert:u},y=v.System,x=v.Util,b=v.Arrays,w=v.new_float;function C(){var Yt=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*x.SQRT2*.5/2384e-9,.017876148*x.SQRT2*.5/2384e-9,.003134727*x.SQRT2*.5/2384e-9,.002457142*x.SQRT2*.5/2384e-9,971317e-9*x.SQRT2*.5/2384e-9,218868e-9*x.SQRT2*.5/2384e-9,101566e-9*x.SQRT2*.5/2384e-9,13828e-9*x.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],ge=12,be=36,Se=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],De=Se[F.SHORT_TYPE],me=Se[F.SHORT_TYPE],_e=Se[F.SHORT_TYPE],ui=Se[F.SHORT_TYPE],ai=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function se(Wt,Qt,J){for(var ae=10,ne=Qt+238-14-286,Zt=-15;Zt<0;Zt++){var lt,Pt,zt;lt=Yt[ae+-10],Pt=Wt[ne+-224]*lt,zt=Wt[Qt+224]*lt,lt=Yt[ae+-9],Pt+=Wt[ne+-160]*lt,zt+=Wt[Qt+160]*lt,lt=Yt[ae+-8],Pt+=Wt[ne+-96]*lt,zt+=Wt[Qt+96]*lt,lt=Yt[ae+-7],Pt+=Wt[ne+-32]*lt,zt+=Wt[Qt+32]*lt,lt=Yt[ae+-6],Pt+=Wt[ne+32]*lt,zt+=Wt[Qt+-32]*lt,lt=Yt[ae+-5],Pt+=Wt[ne+96]*lt,zt+=Wt[Qt+-96]*lt,lt=Yt[ae+-4],Pt+=Wt[ne+160]*lt,zt+=Wt[Qt+-160]*lt,lt=Yt[ae+-3],Pt+=Wt[ne+224]*lt,zt+=Wt[Qt+-224]*lt,lt=Yt[ae+-2],Pt+=Wt[Qt+-256]*lt,zt-=Wt[ne+256]*lt,lt=Yt[ae+-1],Pt+=Wt[Qt+-192]*lt,zt-=Wt[ne+192]*lt,lt=Yt[ae+0],Pt+=Wt[Qt+-128]*lt,zt-=Wt[ne+128]*lt,lt=Yt[ae+1],Pt+=Wt[Qt+-64]*lt,zt-=Wt[ne+64]*lt,lt=Yt[ae+2],Pt+=Wt[Qt+0]*lt,zt-=Wt[ne+0]*lt,lt=Yt[ae+3],Pt+=Wt[Qt+64]*lt,zt-=Wt[ne+-64]*lt,lt=Yt[ae+4],Pt+=Wt[Qt+128]*lt,zt-=Wt[ne+-128]*lt,lt=Yt[ae+5],Pt+=Wt[Qt+192]*lt,zt-=Wt[ne+-192]*lt,Pt*=Yt[ae+6],lt=zt-Pt,J[30+Zt*2]=zt+Pt,J[31+Zt*2]=Yt[ae+7]*lt,ae+=18,Qt--,ne++}{var Pt,zt,Ut,Ht;zt=Wt[Qt+-16]*Yt[ae+-10],Pt=Wt[Qt+-32]*Yt[ae+-2],zt+=(Wt[Qt+-48]-Wt[Qt+16])*Yt[ae+-9],Pt+=Wt[Qt+-96]*Yt[ae+-1],zt+=(Wt[Qt+-80]+Wt[Qt+48])*Yt[ae+-8],Pt+=Wt[Qt+-160]*Yt[ae+0],zt+=(Wt[Qt+-112]-Wt[Qt+80])*Yt[ae+-7],Pt+=Wt[Qt+-224]*Yt[ae+1],zt+=(Wt[Qt+-144]+Wt[Qt+112])*Yt[ae+-6],Pt-=Wt[Qt+32]*Yt[ae+2],zt+=(Wt[Qt+-176]-Wt[Qt+144])*Yt[ae+-5],Pt-=Wt[Qt+96]*Yt[ae+3],zt+=(Wt[Qt+-208]+Wt[Qt+176])*Yt[ae+-4],Pt-=Wt[Qt+160]*Yt[ae+4],zt+=(Wt[Qt+-240]-Wt[Qt+208])*Yt[ae+-3],Pt-=Wt[Qt+224],Ut=Pt-zt,Ht=Pt+zt,zt=J[14],Pt=J[15]-zt,J[31]=Ht+zt,J[30]=Ut+Pt,J[15]=Ut-Pt,J[14]=Ht-zt}{var nt;nt=J[28]-J[0],J[0]+=J[28],J[28]=nt*Yt[ae+-2*18+7],nt=J[29]-J[1],J[1]+=J[29],J[29]=nt*Yt[ae+-2*18+7],nt=J[26]-J[2],J[2]+=J[26],J[26]=nt*Yt[ae+-4*18+7],nt=J[27]-J[3],J[3]+=J[27],J[27]=nt*Yt[ae+-4*18+7],nt=J[24]-J[4],J[4]+=J[24],J[24]=nt*Yt[ae+-6*18+7],nt=J[25]-J[5],J[5]+=J[25],J[25]=nt*Yt[ae+-6*18+7],nt=J[22]-J[6],J[6]+=J[22],J[22]=nt*x.SQRT2,nt=J[23]-J[7],J[7]+=J[23],J[23]=nt*x.SQRT2-J[7],J[7]-=J[6],J[22]-=J[7],J[23]-=J[22],nt=J[6],J[6]=J[31]-nt,J[31]=J[31]+nt,nt=J[7],J[7]=J[30]-nt,J[30]=J[30]+nt,nt=J[22],J[22]=J[15]-nt,J[15]=J[15]+nt,nt=J[23],J[23]=J[14]-nt,J[14]=J[14]+nt,nt=J[20]-J[8],J[8]+=J[20],J[20]=nt*Yt[ae+-10*18+7],nt=J[21]-J[9],J[9]+=J[21],J[21]=nt*Yt[ae+-10*18+7],nt=J[18]-J[10],J[10]+=J[18],J[18]=nt*Yt[ae+-12*18+7],nt=J[19]-J[11],J[11]+=J[19],J[19]=nt*Yt[ae+-12*18+7],nt=J[16]-J[12],J[12]+=J[16],J[16]=nt*Yt[ae+-14*18+7],nt=J[17]-J[13],J[13]+=J[17],J[17]=nt*Yt[ae+-14*18+7],nt=-J[20]+J[24],J[20]+=J[24],J[24]=nt*Yt[ae+-12*18+7],nt=-J[21]+J[25],J[21]+=J[25],J[25]=nt*Yt[ae+-12*18+7],nt=J[4]-J[8],J[4]+=J[8],J[8]=nt*Yt[ae+-12*18+7],nt=J[5]-J[9],J[5]+=J[9],J[9]=nt*Yt[ae+-12*18+7],nt=J[0]-J[12],J[0]+=J[12],J[12]=nt*Yt[ae+-4*18+7],nt=J[1]-J[13],J[1]+=J[13],J[13]=nt*Yt[ae+-4*18+7],nt=J[16]-J[28],J[16]+=J[28],J[28]=nt*Yt[ae+-4*18+7],nt=-J[17]+J[29],J[17]+=J[29],J[29]=nt*Yt[ae+-4*18+7],nt=x.SQRT2*(J[2]-J[10]),J[2]+=J[10],J[10]=nt,nt=x.SQRT2*(J[3]-J[11]),J[3]+=J[11],J[11]=nt,nt=x.SQRT2*(-J[18]+J[26]),J[18]+=J[26],J[26]=nt-J[18],nt=x.SQRT2*(-J[19]+J[27]),J[19]+=J[27],J[27]=nt-J[19],nt=J[2],J[19]-=J[3],J[3]-=nt,J[2]=J[31]-nt,J[31]+=nt,nt=J[3],J[11]-=J[19],J[18]-=nt,J[3]=J[30]-nt,J[30]+=nt,nt=J[18],J[27]-=J[11],J[19]-=nt,J[18]=J[15]-nt,J[15]+=nt,nt=J[19],J[10]-=nt,J[19]=J[14]-nt,J[14]+=nt,nt=J[10],J[11]-=nt,J[10]=J[23]-nt,J[23]+=nt,nt=J[11],J[26]-=nt,J[11]=J[22]-nt,J[22]+=nt,nt=J[26],J[27]-=nt,J[26]=J[7]-nt,J[7]+=nt,nt=J[27],J[27]=J[6]-nt,J[6]+=nt,nt=x.SQRT2*(J[0]-J[4]),J[0]+=J[4],J[4]=nt,nt=x.SQRT2*(J[1]-J[5]),J[1]+=J[5],J[5]=nt,nt=x.SQRT2*(J[16]-J[20]),J[16]+=J[20],J[20]=nt,nt=x.SQRT2*(J[17]-J[21]),J[17]+=J[21],J[21]=nt,nt=-x.SQRT2*(J[8]-J[12]),J[8]+=J[12],J[12]=nt-J[8],nt=-x.SQRT2*(J[9]-J[13]),J[9]+=J[13],J[13]=nt-J[9],nt=-x.SQRT2*(J[25]-J[29]),J[25]+=J[29],J[29]=nt-J[25],nt=-x.SQRT2*(J[24]+J[28]),J[24]-=J[28],J[28]=nt-J[24],nt=J[24]-J[16],J[24]=nt,nt=J[20]-nt,J[20]=nt,nt=J[28]-nt,J[28]=nt,nt=J[25]-J[17],J[25]=nt,nt=J[21]-nt,J[21]=nt,nt=J[29]-nt,J[29]=nt,nt=J[17]-J[1],J[17]=nt,nt=J[9]-nt,J[9]=nt,nt=J[25]-nt,J[25]=nt,nt=J[5]-nt,J[5]=nt,nt=J[21]-nt,J[21]=nt,nt=J[13]-nt,J[13]=nt,nt=J[29]-nt,J[29]=nt,nt=J[1]-J[0],J[1]=nt,nt=J[16]-nt,J[16]=nt,nt=J[17]-nt,J[17]=nt,nt=J[8]-nt,J[8]=nt,nt=J[9]-nt,J[9]=nt,nt=J[24]-nt,J[24]=nt,nt=J[25]-nt,J[25]=nt,nt=J[4]-nt,J[4]=nt,nt=J[5]-nt,J[5]=nt,nt=J[20]-nt,J[20]=nt,nt=J[21]-nt,J[21]=nt,nt=J[12]-nt,J[12]=nt,nt=J[13]-nt,J[13]=nt,nt=J[28]-nt,J[28]=nt,nt=J[29]-nt,J[29]=nt,nt=J[0],J[0]+=J[31],J[31]-=nt,nt=J[1],J[1]+=J[30],J[30]-=nt,nt=J[16],J[16]+=J[15],J[15]-=nt,nt=J[17],J[17]+=J[14],J[14]-=nt,nt=J[8],J[8]+=J[23],J[23]-=nt,nt=J[9],J[9]+=J[22],J[22]-=nt,nt=J[24],J[24]+=J[7],J[7]-=nt,nt=J[25],J[25]+=J[6],J[6]-=nt,nt=J[4],J[4]+=J[27],J[27]-=nt,nt=J[5],J[5]+=J[26],J[26]-=nt,nt=J[20],J[20]+=J[11],J[11]-=nt,nt=J[21],J[21]+=J[10],J[10]-=nt,nt=J[12],J[12]+=J[19],J[19]-=nt,nt=J[13],J[13]+=J[18],J[18]-=nt,nt=J[28],J[28]+=J[3],J[3]-=nt,nt=J[29],J[29]+=J[2],J[2]-=nt}}function Ue(Wt,Qt){for(var J=0;J<3;J++){var ae,ne,Zt,lt,Pt,zt;lt=Wt[Qt+2*3]*Se[F.SHORT_TYPE][0]-Wt[Qt+5*3],ae=Wt[Qt+0*3]*Se[F.SHORT_TYPE][2]-Wt[Qt+3*3],ne=lt+ae,Zt=lt-ae,lt=Wt[Qt+5*3]*Se[F.SHORT_TYPE][0]+Wt[Qt+2*3],ae=Wt[Qt+3*3]*Se[F.SHORT_TYPE][2]+Wt[Qt+0*3],Pt=lt+ae,zt=-lt+ae,ae=(Wt[Qt+1*3]*Se[F.SHORT_TYPE][1]-Wt[Qt+4*3])*2069978111953089e-26,lt=(Wt[Qt+4*3]*Se[F.SHORT_TYPE][1]+Wt[Qt+1*3])*2069978111953089e-26,Wt[Qt+3*0]=ne*190752519173728e-25+ae,Wt[Qt+3*5]=-Pt*190752519173728e-25+lt,Zt=Zt*.8660254037844387*1907525191737281e-26,Pt=Pt*.5*1907525191737281e-26+lt,Wt[Qt+3*1]=Zt-Pt,Wt[Qt+3*2]=Zt+Pt,ne=ne*.5*1907525191737281e-26-ae,zt=zt*.8660254037844387*1907525191737281e-26,Wt[Qt+3*3]=ne+zt,Wt[Qt+3*4]=ne-zt,Qt++}}function Gt(Wt,Qt,J){var ae,ne;{var Zt,lt,Pt,zt,Ut,Ht,nt,It;Zt=J[17]-J[9],Pt=J[15]-J[11],zt=J[14]-J[12],Ut=J[0]+J[8],Ht=J[1]+J[7],nt=J[2]+J[6],It=J[3]+J[5],Wt[Qt+17]=Ut+nt-It-(Ht-J[4]),ne=(Ut+nt-It)*me[19]+(Ht-J[4]),ae=(Zt-Pt-zt)*me[18],Wt[Qt+5]=ae+ne,Wt[Qt+6]=ae-ne,lt=(J[16]-J[10])*me[18],Ht=Ht*me[19]+J[4],ae=Zt*me[12]+lt+Pt*me[13]+zt*me[14],ne=-Ut*me[16]+Ht-nt*me[17]+It*me[15],Wt[Qt+1]=ae+ne,Wt[Qt+2]=ae-ne,ae=Zt*me[13]-lt-Pt*me[14]+zt*me[12],ne=-Ut*me[17]+Ht-nt*me[15]+It*me[16],Wt[Qt+9]=ae+ne,Wt[Qt+10]=ae-ne,ae=Zt*me[14]-lt+Pt*me[12]-zt*me[13],ne=Ut*me[15]-Ht+nt*me[16]-It*me[17],Wt[Qt+13]=ae+ne,Wt[Qt+14]=ae-ne}{var bt,ct,Tt,kt,ht,pt,vt,Vt;bt=J[8]-J[0],Tt=J[6]-J[2],kt=J[5]-J[3],ht=J[17]+J[9],pt=J[16]+J[10],vt=J[15]+J[11],Vt=J[14]+J[12],Wt[Qt+0]=ht+vt+Vt+(pt+J[13]),ae=(ht+vt+Vt)*me[19]-(pt+J[13]),ne=(bt-Tt+kt)*me[18],Wt[Qt+11]=ae+ne,Wt[Qt+12]=ae-ne,ct=(J[7]-J[1])*me[18],pt=J[13]-pt*me[19],ae=ht*me[15]-pt+vt*me[16]+Vt*me[17],ne=bt*me[14]+ct+Tt*me[12]+kt*me[13],Wt[Qt+3]=ae+ne,Wt[Qt+4]=ae-ne,ae=-ht*me[17]+pt-vt*me[15]-Vt*me[16],ne=bt*me[13]+ct-Tt*me[14]-kt*me[12],Wt[Qt+7]=ae+ne,Wt[Qt+8]=ae-ne,ae=-ht*me[16]+pt-vt*me[17]-Vt*me[15],ne=bt*me[12]-ct+Tt*me[13]-kt*me[14],Wt[Qt+15]=ae+ne,Wt[Qt+16]=ae-ne}}this.mdct_sub48=function(Wt,Qt,J){for(var ae=Qt,ne=286,Zt=0;Zt<Wt.channels_out;Zt++){for(var lt=0;lt<Wt.mode_gr;lt++){for(var Pt,zt=Wt.l3_side.tt[lt][Zt],Ut=zt.xr,Ht=0,nt=Wt.sb_sample[Zt][1-lt],It=0,bt=0;bt<18/2;bt++)for(se(ae,ne,nt[It]),se(ae,ne+32,nt[It+1]),It+=2,ne+=64,Pt=1;Pt<32;Pt+=2)nt[It-1][Pt]*=-1;for(Pt=0;Pt<32;Pt++,Ht+=18){var ct=zt.block_type,Tt=Wt.sb_sample[Zt][lt],kt=Wt.sb_sample[Zt][1-lt];if(zt.mixed_block_flag!=0&&Pt<2&&(ct=0),Wt.amp_filter[Pt]<1e-12)b.fill(Ut,Ht+0,Ht+18,0);else{if(Wt.amp_filter[Pt]<1)for(var bt=0;bt<18;bt++)kt[bt][ai[Pt]]*=Wt.amp_filter[Pt];if(ct==F.SHORT_TYPE){for(var bt=-ge/4;bt<0;bt++){var ht=Se[F.SHORT_TYPE][bt+3];Ut[Ht+bt*3+9]=Tt[9+bt][ai[Pt]]*ht-Tt[8-bt][ai[Pt]],Ut[Ht+bt*3+18]=Tt[14-bt][ai[Pt]]*ht+Tt[15+bt][ai[Pt]],Ut[Ht+bt*3+10]=Tt[15+bt][ai[Pt]]*ht-Tt[14-bt][ai[Pt]],Ut[Ht+bt*3+19]=kt[2-bt][ai[Pt]]*ht+kt[3+bt][ai[Pt]],Ut[Ht+bt*3+11]=kt[3+bt][ai[Pt]]*ht-kt[2-bt][ai[Pt]],Ut[Ht+bt*3+20]=kt[8-bt][ai[Pt]]*ht+kt[9+bt][ai[Pt]]}Ue(Ut,Ht)}else{for(var pt=w(18),bt=-be/4;bt<0;bt++){var vt,Vt;vt=Se[ct][bt+27]*kt[bt+9][ai[Pt]]+Se[ct][bt+36]*kt[8-bt][ai[Pt]],Vt=Se[ct][bt+9]*Tt[bt+9][ai[Pt]]-Se[ct][bt+18]*Tt[8-bt][ai[Pt]],pt[bt+9]=vt-Vt*De[3+bt+9],pt[bt+18]=vt*De[3+bt+9]+Vt}Gt(Ut,Ht,pt)}}if(ct!=F.SHORT_TYPE&&Pt!=0)for(var bt=7;bt>=0;--bt){var Re,ee;Re=Ut[Ht+bt]*_e[20+bt]+Ut[Ht+-1-bt]*ui[28+bt],ee=Ut[Ht+bt]*ui[28+bt]-Ut[Ht+-1-bt]*_e[20+bt],Ut[Ht+-1-bt]=Re,Ut[Ht+bt]=ee}}}if(ae=J,ne=286,Wt.mode_gr==1)for(var pe=0;pe<18;pe++)y.arraycopy(Wt.sb_sample[Zt][1][pe],0,Wt.sb_sample[Zt][0][pe],0,32)}}}var E=C,T=v.System,k=v.new_float,A=v.new_float_n;function I(){this.l=k(F.SBMAX_l),this.s=A([F.SBMAX_s,3]);var Yt=this;this.assign=function(ge){T.arraycopy(ge.l,0,Yt.l,0,F.SBMAX_l);for(var be=0;be<F.SBMAX_s;be++)for(var Se=0;Se<3;Se++)Yt.s[be][Se]=ge.s[be][Se]}}var B=I;function M(){this.thm=new B,this.en=new B}var O=M,P=v.System,L=v.VbrMode,_=v.new_array_n,G=v.new_float,$=v.new_float_n,W=v.new_int,Y=v.assert;z.ENCDELAY=576,z.POSTDELAY=1152,z.MDCTDELAY=48,z.FFTOFFSET=224+z.MDCTDELAY,z.DECDELAY=528,z.SBLIMIT=32,z.CBANDS=64,z.SBPSY_l=21,z.SBPSY_s=12,z.SBMAX_l=22,z.SBMAX_s=13,z.PSFB21=6,z.PSFB12=6,z.BLKSIZE=1024,z.HBLKSIZE=z.BLKSIZE/2+1,z.BLKSIZE_s=256,z.HBLKSIZE_s=z.BLKSIZE_s/2+1,z.NORM_TYPE=0,z.START_TYPE=1,z.SHORT_TYPE=2,z.STOP_TYPE=3,z.MPG_MD_LR_LR=0,z.MPG_MD_LR_I=1,z.MPG_MD_MS_LR=2,z.MPG_MD_MS_I=3,z.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function z(){var Yt=E,ge=O,be=z.FFTOFFSET,Se=z.MPG_MD_MS_LR,De=null;this.psy=null;var me=null,_e=null,ui=null;this.setModules=function(Wt,Qt,J,ae){De=Wt,this.psy=Qt,me=Qt,_e=ae,ui=J};var ai=new Yt;function se(Wt){var Qt,J;if(Wt.ATH.useAdjust==0){Wt.ATH.adjust=1;return}if(J=Wt.loudness_sq[0][0],Qt=Wt.loudness_sq[1][0],Wt.channels_out==2?(J+=Wt.loudness_sq[0][1],Qt+=Wt.loudness_sq[1][1]):(J+=J,Qt+=Qt),Wt.mode_gr==2&&(J=Math.max(J,Qt)),J*=.5,J*=Wt.ATH.aaSensitivityP,J>.03125)Wt.ATH.adjust>=1?Wt.ATH.adjust=1:Wt.ATH.adjust<Wt.ATH.adjustLimit&&(Wt.ATH.adjust=Wt.ATH.adjustLimit),Wt.ATH.adjustLimit=1;else{var ae=31.98*J+625e-6;Wt.ATH.adjust>=ae?(Wt.ATH.adjust*=ae*.075+.925,Wt.ATH.adjust<ae&&(Wt.ATH.adjust=ae)):Wt.ATH.adjustLimit>=ae?Wt.ATH.adjust=ae:Wt.ATH.adjust<Wt.ATH.adjustLimit&&(Wt.ATH.adjust=Wt.ATH.adjustLimit),Wt.ATH.adjustLimit=ae}}function Ue(Wt){var Qt,J;for(Y(0<=Wt.bitrate_index&&Wt.bitrate_index<16),Y(0<=Wt.mode_ext&&Wt.mode_ext<4),Wt.bitrate_stereoMode_Hist[Wt.bitrate_index][4]++,Wt.bitrate_stereoMode_Hist[15][4]++,Wt.channels_out==2&&(Wt.bitrate_stereoMode_Hist[Wt.bitrate_index][Wt.mode_ext]++,Wt.bitrate_stereoMode_Hist[15][Wt.mode_ext]++),Qt=0;Qt<Wt.mode_gr;++Qt)for(J=0;J<Wt.channels_out;++J){var ae=Wt.l3_side.tt[Qt][J].block_type|0;Wt.l3_side.tt[Qt][J].mixed_block_flag!=0&&(ae=4),Wt.bitrate_blockType_Hist[Wt.bitrate_index][ae]++,Wt.bitrate_blockType_Hist[Wt.bitrate_index][5]++,Wt.bitrate_blockType_Hist[15][ae]++,Wt.bitrate_blockType_Hist[15][5]++}}function Gt(Wt,Qt){var J=Wt.internal_flags,ae,ne;if(J.lame_encode_frame_init==0){var Zt,lt,Pt=G(2014),zt=G(2014);for(J.lame_encode_frame_init=1,Zt=0,lt=0;Zt<286+576*(1+J.mode_gr);++Zt)Zt<576*J.mode_gr?(Pt[Zt]=0,J.channels_out==2&&(zt[Zt]=0)):(Pt[Zt]=Qt[0][lt],J.channels_out==2&&(zt[Zt]=Qt[1][lt]),++lt);for(ne=0;ne<J.mode_gr;ne++)for(ae=0;ae<J.channels_out;ae++)J.l3_side.tt[ne][ae].block_type=z.SHORT_TYPE;ai.mdct_sub48(J,Pt,zt),Y(J.mf_size>=z.BLKSIZE+Wt.framesize-z.FFTOFFSET),Y(J.mf_size>=512+Wt.framesize-32)}}this.lame_encode_mp3_frame=function(Wt,Qt,J,ae,ne,Zt){var lt,Pt=_([2,2]);Pt[0][0]=new ge,Pt[0][1]=new ge,Pt[1][0]=new ge,Pt[1][1]=new ge;var zt=_([2,2]);zt[0][0]=new ge,zt[0][1]=new ge,zt[1][0]=new ge,zt[1][1]=new ge;var Ut,Ht=[null,null],nt=Wt.internal_flags,It=$([2,4]),bt=[.5,.5],ct=[[0,0],[0,0]],Tt=[[0,0],[0,0]],kt,ht,pt;if(Ht[0]=Qt,Ht[1]=J,nt.lame_encode_frame_init==0&&Gt(Wt,Ht),nt.padding=0,(nt.slot_lag-=nt.frac_SpF)<0&&(nt.slot_lag+=Wt.out_samplerate,nt.padding=1),nt.psymodel!=0){var vt,Vt=[null,null],Re=0,ee=W(2);for(pt=0;pt<nt.mode_gr;pt++){for(ht=0;ht<nt.channels_out;ht++)Vt[ht]=Ht[ht],Re=576+pt*576-z.FFTOFFSET;if(Wt.VBR==L.vbr_mtrh||Wt.VBR==L.vbr_mt?vt=me.L3psycho_anal_vbr(Wt,Vt,Re,pt,Pt,zt,ct[pt],Tt[pt],It[pt],ee):vt=me.L3psycho_anal_ns(Wt,Vt,Re,pt,Pt,zt,ct[pt],Tt[pt],It[pt],ee),vt!=0)return-4;for(Wt.mode==Lt.JOINT_STEREO&&(bt[pt]=It[pt][2]+It[pt][3],bt[pt]>0&&(bt[pt]=It[pt][3]/bt[pt])),ht=0;ht<nt.channels_out;ht++){var pe=nt.l3_side.tt[pt][ht];pe.block_type=ee[ht],pe.mixed_block_flag=0}}}else for(pt=0;pt<nt.mode_gr;pt++)for(ht=0;ht<nt.channels_out;ht++)nt.l3_side.tt[pt][ht].block_type=z.NORM_TYPE,nt.l3_side.tt[pt][ht].mixed_block_flag=0,Tt[pt][ht]=ct[pt][ht]=700;if(se(nt),ai.mdct_sub48(nt,Ht[0],Ht[1]),nt.mode_ext=z.MPG_MD_LR_LR,Wt.force_ms)nt.mode_ext=z.MPG_MD_MS_LR;else if(Wt.mode==Lt.JOINT_STEREO){var at=0,gt=0;for(pt=0;pt<nt.mode_gr;pt++)for(ht=0;ht<nt.channels_out;ht++)at+=Tt[pt][ht],gt+=ct[pt][ht];if(at<=1*gt){var Oe=nt.l3_side.tt[0],wt=nt.l3_side.tt[nt.mode_gr-1];Oe[0].block_type==Oe[1].block_type&&wt[0].block_type==wt[1].block_type&&(nt.mode_ext=z.MPG_MD_MS_LR)}}if(nt.mode_ext==Se?(Ut=zt,kt=Tt):(Ut=Pt,kt=ct),Wt.analysis&&nt.pinfo!=null)for(pt=0;pt<nt.mode_gr;pt++)for(ht=0;ht<nt.channels_out;ht++)nt.pinfo.ms_ratio[pt]=nt.ms_ratio[pt],nt.pinfo.ms_ener_ratio[pt]=bt[pt],nt.pinfo.blocktype[pt][ht]=nt.l3_side.tt[pt][ht].block_type,nt.pinfo.pe[pt][ht]=kt[pt][ht],P.arraycopy(nt.l3_side.tt[pt][ht].xr,0,nt.pinfo.xr[pt][ht],0,576),nt.mode_ext==Se&&(nt.pinfo.ers[pt][ht]=nt.pinfo.ers[pt][ht+2],P.arraycopy(nt.pinfo.energy[pt][ht+2],0,nt.pinfo.energy[pt][ht],0,nt.pinfo.energy[pt][ht].length));if(Wt.VBR==L.vbr_off||Wt.VBR==L.vbr_abr){var $t,te;for($t=0;$t<18;$t++)nt.nsPsy.pefirbuf[$t]=nt.nsPsy.pefirbuf[$t+1];for(te=0,pt=0;pt<nt.mode_gr;pt++)for(ht=0;ht<nt.channels_out;ht++)te+=kt[pt][ht];for(nt.nsPsy.pefirbuf[18]=te,te=nt.nsPsy.pefirbuf[9],$t=0;$t<9;$t++)te+=(nt.nsPsy.pefirbuf[$t]+nt.nsPsy.pefirbuf[18-$t])*z.fircoef[$t];for(te=670*5*nt.mode_gr*nt.channels_out/te,pt=0;pt<nt.mode_gr;pt++)for(ht=0;ht<nt.channels_out;ht++)kt[pt][ht]*=te}if(nt.iteration_loop.iteration_loop(Wt,kt,bt,Ut),De.format_bitstream(Wt),lt=De.copy_buffer(nt,ae,ne,Zt,1),Wt.bWriteVbrTag&&_e.addVbrFrame(Wt),Wt.analysis&&nt.pinfo!=null){for(ht=0;ht<nt.channels_out;ht++){var re;for(re=0;re<be;re++)nt.pinfo.pcmdata[ht][re]=nt.pinfo.pcmdata[ht][re+Wt.framesize];for(re=be;re<1600;re++)nt.pinfo.pcmdata[ht][re]=Ht[ht][re-be]}ui.set_frame_pinfo(Wt,Ut)}return Ue(nt),lt}}var F=z,N=v.Util,j=v.new_float;function U(){var Yt=j(F.BLKSIZE),ge=j(F.BLKSIZE_s/2),be=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function Se(me,_e,ui){var ai=0,se,Ue,Gt;ui<<=1;var Wt=_e+ui;se=4;do{var Qt,J,ae,ne,Zt,lt,Pt;Pt=se>>1,ne=se,Zt=se<<1,lt=Zt+ne,se=Zt<<1,Ue=_e,Gt=Ue+Pt;do{var zt,Ut,Ht,nt;Ut=me[Ue+0]-me[Ue+ne],zt=me[Ue+0]+me[Ue+ne],nt=me[Ue+Zt]-me[Ue+lt],Ht=me[Ue+Zt]+me[Ue+lt],me[Ue+Zt]=zt-Ht,me[Ue+0]=zt+Ht,me[Ue+lt]=Ut-nt,me[Ue+ne]=Ut+nt,Ut=me[Gt+0]-me[Gt+ne],zt=me[Gt+0]+me[Gt+ne],nt=N.SQRT2*me[Gt+lt],Ht=N.SQRT2*me[Gt+Zt],me[Gt+Zt]=zt-Ht,me[Gt+0]=zt+Ht,me[Gt+lt]=Ut-nt,me[Gt+ne]=Ut+nt,Gt+=se,Ue+=se}while(Ue<Wt);for(J=be[ai+0],Qt=be[ai+1],ae=1;ae<Pt;ae++){var It,bt;It=1-2*Qt*Qt,bt=2*Qt*J,Ue=_e+ae,Gt=_e+ne-ae;do{var ct,Tt,kt,zt,Ut,ht,Ht,pt,nt,vt;Tt=bt*me[Ue+ne]-It*me[Gt+ne],ct=It*me[Ue+ne]+bt*me[Gt+ne],Ut=me[Ue+0]-ct,zt=me[Ue+0]+ct,ht=me[Gt+0]-Tt,kt=me[Gt+0]+Tt,Tt=bt*me[Ue+lt]-It*me[Gt+lt],ct=It*me[Ue+lt]+bt*me[Gt+lt],nt=me[Ue+Zt]-ct,Ht=me[Ue+Zt]+ct,vt=me[Gt+Zt]-Tt,pt=me[Gt+Zt]+Tt,Tt=Qt*Ht-J*vt,ct=J*Ht+Qt*vt,me[Ue+Zt]=zt-ct,me[Ue+0]=zt+ct,me[Gt+lt]=ht-Tt,me[Gt+ne]=ht+Tt,Tt=J*pt-Qt*nt,ct=Qt*pt+J*nt,me[Gt+Zt]=kt-ct,me[Gt+0]=kt+ct,me[Ue+lt]=Ut-Tt,me[Ue+ne]=Ut+Tt,Gt+=se,Ue+=se}while(Ue<Wt);It=J,J=It*be[ai+0]-Qt*be[ai+1],Qt=It*be[ai+1]+Qt*be[ai+0]}ai+=2}while(se<ui)}var De=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(me,_e,ui,ai,se){for(var Ue=0;Ue<3;Ue++){var Gt=F.BLKSIZE_s/2,Wt=65535&576/3*(Ue+1),Qt=F.BLKSIZE_s/8-1;do{var J,ae,ne,Zt,lt,Pt=De[Qt<<2]&255;J=ge[Pt]*ai[ui][se+Pt+Wt],lt=ge[127-Pt]*ai[ui][se+Pt+Wt+128],ae=J-lt,J=J+lt,ne=ge[Pt+64]*ai[ui][se+Pt+Wt+64],lt=ge[63-Pt]*ai[ui][se+Pt+Wt+192],Zt=ne-lt,ne=ne+lt,Gt-=4,_e[Ue][Gt+0]=J+ne,_e[Ue][Gt+2]=J-ne,_e[Ue][Gt+1]=ae+Zt,_e[Ue][Gt+3]=ae-Zt,J=ge[Pt+1]*ai[ui][se+Pt+Wt+1],lt=ge[126-Pt]*ai[ui][se+Pt+Wt+129],ae=J-lt,J=J+lt,ne=ge[Pt+65]*ai[ui][se+Pt+Wt+65],lt=ge[62-Pt]*ai[ui][se+Pt+Wt+193],Zt=ne-lt,ne=ne+lt,_e[Ue][Gt+F.BLKSIZE_s/2+0]=J+ne,_e[Ue][Gt+F.BLKSIZE_s/2+2]=J-ne,_e[Ue][Gt+F.BLKSIZE_s/2+1]=ae+Zt,_e[Ue][Gt+F.BLKSIZE_s/2+3]=ae-Zt}while(--Qt>=0);Se(_e[Ue],Gt,F.BLKSIZE_s/2)}},this.fft_long=function(me,_e,ui,ai,se){var Ue=F.BLKSIZE/8-1,Gt=F.BLKSIZE/2;do{var Wt,Qt,J,ae,ne,Zt=De[Ue]&255;Wt=Yt[Zt]*ai[ui][se+Zt],ne=Yt[Zt+512]*ai[ui][se+Zt+512],Qt=Wt-ne,Wt=Wt+ne,J=Yt[Zt+256]*ai[ui][se+Zt+256],ne=Yt[Zt+768]*ai[ui][se+Zt+768],ae=J-ne,J=J+ne,Gt-=4,_e[Gt+0]=Wt+J,_e[Gt+2]=Wt-J,_e[Gt+1]=Qt+ae,_e[Gt+3]=Qt-ae,Wt=Yt[Zt+1]*ai[ui][se+Zt+1],ne=Yt[Zt+513]*ai[ui][se+Zt+513],Qt=Wt-ne,Wt=Wt+ne,J=Yt[Zt+257]*ai[ui][se+Zt+257],ne=Yt[Zt+769]*ai[ui][se+Zt+769],ae=J-ne,J=J+ne,_e[Gt+F.BLKSIZE/2+0]=Wt+J,_e[Gt+F.BLKSIZE/2+2]=Wt-J,_e[Gt+F.BLKSIZE/2+1]=Qt+ae,_e[Gt+F.BLKSIZE/2+3]=Qt-ae}while(--Ue>=0);Se(_e,Gt,F.BLKSIZE/2)},this.init_fft=function(me){for(var _e=0;_e<F.BLKSIZE;_e++)Yt[_e]=.42-.5*Math.cos(2*Math.PI*(_e+.5)/F.BLKSIZE)+.08*Math.cos(4*Math.PI*(_e+.5)/F.BLKSIZE);for(var _e=0;_e<F.BLKSIZE_s/2;_e++)ge[_e]=.5*(1-Math.cos(2*Math.PI*(_e+.5)/F.BLKSIZE_s))}}var V=U,q=v.VbrMode,ot=v.Float,Q=v.ShortBlock,rt=v.Util,Bt=v.Arrays,K=v.new_float,Mt=v.new_float_n,Ft=v.new_int,dt=v.assert;function yt(){var Yt=new V,ge=2.302585092994046,be=2,Se=16,De=2,me=16,_e=.34,ui=1/(14752*14752)/(F.BLKSIZE/2),ai=.01,se=.8,Ue=.6,Gt=.3,Wt=3.5,Qt=21,J=.2302585093;function ae(Dt){return Dt}function ne(Dt,jt){for(var qt=0,oe=0;oe<F.BLKSIZE/2;++oe)qt+=Dt[oe]*jt.ATH.eql_w[oe];return qt*=ui,qt}function Zt(Dt,jt,qt,oe,Te,Kt,we,Ae,ye,He,Ie){var $e=Dt.internal_flags;if(ye<2)Yt.fft_long($e,oe[Te],ye,He,Ie),Yt.fft_short($e,Kt[we],ye,He,Ie);else if(ye==2){for(var bi=F.BLKSIZE-1;bi>=0;--bi){var Qi=oe[Te+0][bi],ii=oe[Te+1][bi];oe[Te+0][bi]=(Qi+ii)*rt.SQRT2*.5,oe[Te+1][bi]=(Qi-ii)*rt.SQRT2*.5}for(var Vi=2;Vi>=0;--Vi)for(var bi=F.BLKSIZE_s-1;bi>=0;--bi){var Qi=Kt[we+0][Vi][bi],ii=Kt[we+1][Vi][bi];Kt[we+0][Vi][bi]=(Qi+ii)*rt.SQRT2*.5,Kt[we+1][Vi][bi]=(Qi-ii)*rt.SQRT2*.5}}jt[0]=oe[Te+0][0],jt[0]*=jt[0];for(var bi=F.BLKSIZE/2-1;bi>=0;--bi){var je=oe[Te+0][F.BLKSIZE/2-bi],Mi=oe[Te+0][F.BLKSIZE/2+bi];jt[F.BLKSIZE/2-bi]=(je*je+Mi*Mi)*.5}for(var Vi=2;Vi>=0;--Vi){qt[Vi][0]=Kt[we+0][Vi][0],qt[Vi][0]*=qt[Vi][0];for(var bi=F.BLKSIZE_s/2-1;bi>=0;--bi){var je=Kt[we+0][Vi][F.BLKSIZE_s/2-bi],Mi=Kt[we+0][Vi][F.BLKSIZE_s/2+bi];qt[Vi][F.BLKSIZE_s/2-bi]=(je*je+Mi*Mi)*.5}}{for(var yr=0,bi=11;bi<F.HBLKSIZE;bi++)yr+=jt[bi];$e.tot_ener[ye]=yr}if(Dt.analysis){for(var bi=0;bi<F.HBLKSIZE;bi++)$e.pinfo.energy[Ae][ye][bi]=$e.pinfo.energy_save[ye][bi],$e.pinfo.energy_save[ye][bi]=jt[bi];$e.pinfo.pe[Ae][ye]=$e.pe[ye]}Dt.athaa_loudapprox==2&&ye<2&&($e.loudness_sq[Ae][ye]=$e.loudness_sq_save[ye],$e.loudness_sq_save[ye]=ne(jt,$e))}var lt=8,Pt=23,zt=15,Ut,Ht,nt,It=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function bt(){Ut=Math.pow(10,(lt+1)/16),Ht=Math.pow(10,(Pt+1)/16),nt=Math.pow(10,zt/10)}var ct=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],Tt=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],kt=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function ht(Dt,jt,qt,oe,Te,Kt){var we;if(jt>Dt)if(jt<Dt*Ht)we=jt/Dt;else return Dt+jt;else{if(Dt>=jt*Ht)return Dt+jt;we=Dt/jt}if(Dt+=jt,oe+3<=6){if(we>=Ut)return Dt;var Ae=0|rt.FAST_LOG10_X(we,16);return Dt*Tt[Ae]}var Ae=0|rt.FAST_LOG10_X(we,16);if(jt=Te.ATH.cb_l[qt]*Te.ATH.adjust,Dt<nt*jt){if(Dt>jt){var ye,He;return ye=1,Ae<=13&&(ye=kt[Ae]),He=rt.FAST_LOG10_X(Dt/jt,10/15),Dt*((ct[Ae]-ye)*He+ye)}return Ae>13?Dt:Dt*kt[Ae]}return Dt*ct[Ae]}var pt=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function vt(Dt,jt,qt){var oe;if(Dt<0&&(Dt=0),jt<0&&(jt=0),Dt<=0)return jt;if(jt<=0)return Dt;if(jt>Dt?oe=jt/Dt:oe=Dt/jt,-2<=qt&&qt<=2){if(oe>=Ut)return Dt+jt;var Te=0|rt.FAST_LOG10_X(oe,16);return(Dt+jt)*pt[Te]}return oe<Ht?Dt+jt:(Dt<jt&&(Dt=jt),Dt)}function Vt(Dt,jt){var qt=Dt.internal_flags;if(qt.channels_out>1){for(var oe=0;oe<F.SBMAX_l;oe++){var Te=qt.thm[0].l[oe],Kt=qt.thm[1].l[oe];qt.thm[0].l[oe]+=Kt*jt,qt.thm[1].l[oe]+=Te*jt}for(var oe=0;oe<F.SBMAX_s;oe++)for(var we=0;we<3;we++){var Te=qt.thm[0].s[oe][we],Kt=qt.thm[1].s[oe][we];qt.thm[0].s[oe][we]+=Kt*jt,qt.thm[1].s[oe][we]+=Te*jt}}}function Re(Dt){for(var jt=0;jt<F.SBMAX_l;jt++)if(!(Dt.thm[0].l[jt]>1.58*Dt.thm[1].l[jt]||Dt.thm[1].l[jt]>1.58*Dt.thm[0].l[jt])){var qt=Dt.mld_l[jt]*Dt.en[3].l[jt],oe=Math.max(Dt.thm[2].l[jt],Math.min(Dt.thm[3].l[jt],qt));qt=Dt.mld_l[jt]*Dt.en[2].l[jt];var Te=Math.max(Dt.thm[3].l[jt],Math.min(Dt.thm[2].l[jt],qt));Dt.thm[2].l[jt]=oe,Dt.thm[3].l[jt]=Te}for(var jt=0;jt<F.SBMAX_s;jt++)for(var Kt=0;Kt<3;Kt++)if(!(Dt.thm[0].s[jt][Kt]>1.58*Dt.thm[1].s[jt][Kt]||Dt.thm[1].s[jt][Kt]>1.58*Dt.thm[0].s[jt][Kt])){var qt=Dt.mld_s[jt]*Dt.en[3].s[jt][Kt],oe=Math.max(Dt.thm[2].s[jt][Kt],Math.min(Dt.thm[3].s[jt][Kt],qt));qt=Dt.mld_s[jt]*Dt.en[2].s[jt][Kt];var Te=Math.max(Dt.thm[3].s[jt][Kt],Math.min(Dt.thm[2].s[jt][Kt],qt));Dt.thm[2].s[jt][Kt]=oe,Dt.thm[3].s[jt][Kt]=Te}}function ee(Dt,jt,qt){var oe=jt,Te=Math.pow(10,qt);jt*=2,oe*=2;for(var Kt=0;Kt<F.SBMAX_l;Kt++){var we,Ae,ye,He;if(He=Dt.ATH.cb_l[Dt.bm_l[Kt]]*Te,we=Math.min(Math.max(Dt.thm[0].l[Kt],He),Math.max(Dt.thm[1].l[Kt],He)),Ae=Math.max(Dt.thm[2].l[Kt],He),ye=Math.max(Dt.thm[3].l[Kt],He),we*jt<Ae+ye){var Ie=we*oe/(Ae+ye);Ae*=Ie,ye*=Ie}Dt.thm[2].l[Kt]=Math.min(Ae,Dt.thm[2].l[Kt]),Dt.thm[3].l[Kt]=Math.min(ye,Dt.thm[3].l[Kt])}Te*=F.BLKSIZE_s/F.BLKSIZE;for(var Kt=0;Kt<F.SBMAX_s;Kt++)for(var $e=0;$e<3;$e++){var we,Ae,ye,He;if(He=Dt.ATH.cb_s[Dt.bm_s[Kt]]*Te,we=Math.min(Math.max(Dt.thm[0].s[Kt][$e],He),Math.max(Dt.thm[1].s[Kt][$e],He)),Ae=Math.max(Dt.thm[2].s[Kt][$e],He),ye=Math.max(Dt.thm[3].s[Kt][$e],He),we*jt<Ae+ye){var Ie=we*jt/(Ae+ye);Ae*=Ie,ye*=Ie}Dt.thm[2].s[Kt][$e]=Math.min(Dt.thm[2].s[Kt][$e],Ae),Dt.thm[3].s[Kt][$e]=Math.min(Dt.thm[3].s[Kt][$e],ye)}}function pe(Dt,jt,qt,oe,Te){var Kt,we,Ae=0,ye=0;for(Kt=we=0;Kt<F.SBMAX_s;++we,++Kt){for(var He=Dt.bo_s[Kt],Ie=Dt.npart_s,$e=He<Ie?He:Ie;we<$e;)dt(jt[we]>=0),dt(qt[we]>=0),Ae+=jt[we],ye+=qt[we],we++;if(Dt.en[oe].s[Kt][Te]=Ae,Dt.thm[oe].s[Kt][Te]=ye,we>=Ie){++Kt;break}dt(jt[we]>=0),dt(qt[we]>=0);{var bi=Dt.PSY.bo_s_weight[Kt],Qi=1-bi;Ae=bi*jt[we],ye=bi*qt[we],Dt.en[oe].s[Kt][Te]+=Ae,Dt.thm[oe].s[Kt][Te]+=ye,Ae=Qi*jt[we],ye=Qi*qt[we]}}for(;Kt<F.SBMAX_s;++Kt)Dt.en[oe].s[Kt][Te]=0,Dt.thm[oe].s[Kt][Te]=0}function at(Dt,jt,qt,oe){var Te,Kt,we=0,Ae=0;for(Te=Kt=0;Te<F.SBMAX_l;++Kt,++Te){for(var ye=Dt.bo_l[Te],He=Dt.npart_l,Ie=ye<He?ye:He;Kt<Ie;)dt(jt[Kt]>=0),dt(qt[Kt]>=0),we+=jt[Kt],Ae+=qt[Kt],Kt++;if(Dt.en[oe].l[Te]=we,Dt.thm[oe].l[Te]=Ae,Kt>=He){++Te;break}dt(jt[Kt]>=0),dt(qt[Kt]>=0);{var $e=Dt.PSY.bo_l_weight[Te],bi=1-$e;we=$e*jt[Kt],Ae=$e*qt[Kt],Dt.en[oe].l[Te]+=we,Dt.thm[oe].l[Te]+=Ae,we=bi*jt[Kt],Ae=bi*qt[Kt]}}for(;Te<F.SBMAX_l;++Te)Dt.en[oe].l[Te]=0,Dt.thm[oe].l[Te]=0}function gt(Dt,jt,qt,oe,Te,Kt){var we=Dt.internal_flags,Ae,ye;for(ye=Ae=0;ye<we.npart_s;++ye){for(var He=0,Ie=we.numlines_s[ye],$e=0;$e<Ie;++$e,++Ae){var bi=jt[Kt][Ae];He+=bi}qt[ye]=He}for(dt(ye==we.npart_s),Ae=ye=0;ye<we.npart_s;ye++){var Qi=we.s3ind_s[ye][0],ii=we.s3_ss[Ae++]*qt[Qi];for(++Qi;Qi<=we.s3ind_s[ye][1];)ii+=we.s3_ss[Ae]*qt[Qi],++Ae,++Qi;{var Vi=De*we.nb_s1[Te][ye];oe[ye]=Math.min(ii,Vi)}if(we.blocktype_old[Te&1]==F.SHORT_TYPE){var Vi=me*we.nb_s2[Te][ye],je=oe[ye];oe[ye]=Math.min(Vi,je)}we.nb_s2[Te][ye]=we.nb_s1[Te][ye],we.nb_s1[Te][ye]=ii,dt(oe[ye]>=0)}for(;ye<=F.CBANDS;++ye)qt[ye]=0,oe[ye]=0}function Oe(Dt,jt,qt,oe){var Te=Dt.internal_flags;Dt.short_blocks==Q.short_block_coupled&&!(jt[0]!=0&&jt[1]!=0)&&(jt[0]=jt[1]=0);for(var Kt=0;Kt<Te.channels_out;Kt++)oe[Kt]=F.NORM_TYPE,Dt.short_blocks==Q.short_block_dispensed&&(jt[Kt]=1),Dt.short_blocks==Q.short_block_forced&&(jt[Kt]=0),jt[Kt]!=0?(dt(Te.blocktype_old[Kt]!=F.START_TYPE),Te.blocktype_old[Kt]==F.SHORT_TYPE&&(oe[Kt]=F.STOP_TYPE)):(oe[Kt]=F.SHORT_TYPE,Te.blocktype_old[Kt]==F.NORM_TYPE&&(Te.blocktype_old[Kt]=F.START_TYPE),Te.blocktype_old[Kt]==F.STOP_TYPE&&(Te.blocktype_old[Kt]=F.SHORT_TYPE)),qt[Kt]=Te.blocktype_old[Kt],Te.blocktype_old[Kt]=oe[Kt]}function wt(Dt,jt,qt){return qt>=1?Dt:qt<=0?jt:jt>0?Math.pow(Dt/jt,qt)*jt:0}var $t=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function te(Dt,jt){for(var qt=309.07,oe=0;oe<F.SBMAX_s-1;oe++)for(var Te=0;Te<3;Te++){var Kt=Dt.thm.s[oe][Te];if(Kt>0){var we=Kt*jt,Ae=Dt.en.s[oe][Te];Ae>we&&(Ae>we*1e10?qt+=$t[oe]*(10*ge):qt+=$t[oe]*rt.FAST_LOG10(Ae/we))}}return qt}var re=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function fe(Dt,jt){for(var qt=281.0575,oe=0;oe<F.SBMAX_l-1;oe++){var Te=Dt.thm.l[oe];if(Te>0){var Kt=Te*jt,we=Dt.en.l[oe];we>Kt&&(we>Kt*1e10?qt+=re[oe]*(10*ge):qt+=re[oe]*rt.FAST_LOG10(we/Kt))}}return qt}function Je(Dt,jt,qt,oe,Te){var Kt,we;for(Kt=we=0;Kt<Dt.npart_l;++Kt){var Ae=0,ye=0,He;for(He=0;He<Dt.numlines_l[Kt];++He,++we){var Ie=jt[we];Ae+=Ie,ye<Ie&&(ye=Ie)}qt[Kt]=Ae,oe[Kt]=ye,Te[Kt]=Ae*Dt.rnumlines_l[Kt],dt(Dt.rnumlines_l[Kt]>=0),dt(qt[Kt]>=0),dt(oe[Kt]>=0),dt(Te[Kt]>=0)}}function ze(Dt,jt,qt,oe){var Te=It.length-1,Kt=0,we=qt[Kt]+qt[Kt+1];if(we>0){var Ae=jt[Kt];Ae<jt[Kt+1]&&(Ae=jt[Kt+1]),dt(Dt.numlines_l[Kt]+Dt.numlines_l[Kt+1]-1>0),we=20*(Ae*2-we)/(we*(Dt.numlines_l[Kt]+Dt.numlines_l[Kt+1]-1));var ye=0|we;ye>Te&&(ye=Te),oe[Kt]=ye}else oe[Kt]=0;for(Kt=1;Kt<Dt.npart_l-1;Kt++)if(we=qt[Kt-1]+qt[Kt]+qt[Kt+1],we>0){var Ae=jt[Kt-1];Ae<jt[Kt]&&(Ae=jt[Kt]),Ae<jt[Kt+1]&&(Ae=jt[Kt+1]),dt(Dt.numlines_l[Kt-1]+Dt.numlines_l[Kt]+Dt.numlines_l[Kt+1]-1>0),we=20*(Ae*3-we)/(we*(Dt.numlines_l[Kt-1]+Dt.numlines_l[Kt]+Dt.numlines_l[Kt+1]-1));var ye=0|we;ye>Te&&(ye=Te),oe[Kt]=ye}else oe[Kt]=0;if(dt(Kt==Dt.npart_l-1),we=qt[Kt-1]+qt[Kt],we>0){var Ae=jt[Kt-1];Ae<jt[Kt]&&(Ae=jt[Kt]),dt(Dt.numlines_l[Kt-1]+Dt.numlines_l[Kt]-1>0),we=20*(Ae*2-we)/(we*(Dt.numlines_l[Kt-1]+Dt.numlines_l[Kt]-1));var ye=0|we;ye>Te&&(ye=Te),oe[Kt]=ye}else oe[Kt]=0;dt(Kt==Dt.npart_l-1)}var Me=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(Dt,jt,qt,oe,Te,Kt,we,Ae,ye,He){var Ie=Dt.internal_flags,$e=Mt([2,F.BLKSIZE]),bi=Mt([2,3,F.BLKSIZE_s]),Qi=K(F.CBANDS+1),ii=K(F.CBANDS+1),Vi=K(F.CBANDS+2),je=Ft(2),Mi=Ft(2),yr,ri,Oi,ni,Ki,bn,Si,ur,Tr=Mt([2,576]),Gn,fo=Ft(F.CBANDS+2),ps=Ft(F.CBANDS+2);for(Bt.fill(ps,0),yr=Ie.channels_out,Dt.mode==Lt.JOINT_STEREO&&(yr=4),Dt.VBR==q.vbr_off?Gn=Ie.ResvMax==0?0:Ie.ResvSize/Ie.ResvMax*.5:Dt.VBR==q.vbr_rh||Dt.VBR==q.vbr_mtrh||Dt.VBR==q.vbr_mt?Gn=.6:Gn=1,ri=0;ri<Ie.channels_out;ri++){var Hn=jt[ri],Wa=qt+576-350-Qt+192;for(ni=0;ni<576;ni++){var po,vo;for(po=Hn[Wa+ni+10],vo=0,Ki=0;Ki<(Qt-1)/2-1;Ki+=2)po+=Me[Ki]*(Hn[Wa+ni+Ki]+Hn[Wa+ni+Qt-Ki]),vo+=Me[Ki+1]*(Hn[Wa+ni+Ki+1]+Hn[Wa+ni+Qt-Ki-1]);Tr[ri][ni]=po+vo}Te[oe][ri].en.assign(Ie.en[ri]),Te[oe][ri].thm.assign(Ie.thm[ri]),yr>2&&(Kt[oe][ri].en.assign(Ie.en[ri+2]),Kt[oe][ri].thm.assign(Ie.thm[ri+2]))}for(ri=0;ri<yr;ri++){var hl,cl,fa=K(12),ql=[0,0,0,0],Ud=K(12),fb=1,R4,I4=K(F.CBANDS),M4=K(F.CBANDS),$n=[0,0,0,0],B4=K(F.HBLKSIZE),O4=Mt([3,F.HBLKSIZE_s]);for(dt(Ie.npart_s<=F.CBANDS),dt(Ie.npart_l<=F.CBANDS),ni=0;ni<3;ni++)fa[ni]=Ie.nsPsy.last_en_subshort[ri][ni+6],dt(Ie.nsPsy.last_en_subshort[ri][ni+4]>0),Ud[ni]=fa[ni]/Ie.nsPsy.last_en_subshort[ri][ni+4],ql[0]+=fa[ni];if(ri==2)for(ni=0;ni<576;ni++){var pb,vb;pb=Tr[0][ni],vb=Tr[1][ni],Tr[0][ni]=pb+vb,Tr[1][ni]=pb-vb}{var N4=Tr[ri&1],Ip=0;for(ni=0;ni<9;ni++){for(var pU=Ip+64,Gs=1;Ip<pU;Ip++)Gs<Math.abs(N4[Ip])&&(Gs=Math.abs(N4[Ip]));Ie.nsPsy.last_en_subshort[ri][ni]=fa[ni+3]=Gs,ql[1+ni/3]+=Gs,Gs>fa[ni+3-2]?(dt(fa[ni+3-2]>0),Gs=Gs/fa[ni+3-2]):fa[ni+3-2]>Gs*10?Gs=fa[ni+3-2]/(Gs*10):Gs=0,Ud[ni+3]=Gs}}if(Dt.analysis){var mb=Ud[0];for(ni=1;ni<12;ni++)mb<Ud[ni]&&(mb=Ud[ni]);Ie.pinfo.ers[oe][ri]=Ie.pinfo.ers_save[ri],Ie.pinfo.ers_save[ri]=mb}for(R4=ri==3?Ie.nsPsy.attackthre_s:Ie.nsPsy.attackthre,ni=0;ni<12;ni++)$n[ni/3]==0&&Ud[ni]>R4&&($n[ni/3]=ni%3+1);for(ni=1;ni<4;ni++){var gb;ql[ni-1]>ql[ni]?(dt(ql[ni]>0),gb=ql[ni-1]/ql[ni]):(dt(ql[ni-1]>0),gb=ql[ni]/ql[ni-1]),gb<1.7&&($n[ni]=0,ni==1&&($n[0]=0))}for($n[0]!=0&&Ie.nsPsy.lastAttacks[ri]!=0&&($n[0]=0),(Ie.nsPsy.lastAttacks[ri]==3||$n[0]+$n[1]+$n[2]+$n[3]!=0)&&(fb=0,$n[1]!=0&&$n[0]!=0&&($n[1]=0),$n[2]!=0&&$n[1]!=0&&($n[2]=0),$n[3]!=0&&$n[2]!=0&&($n[3]=0)),ri<2?Mi[ri]=fb:fb==0&&(Mi[0]=Mi[1]=0),ye[ri]=Ie.tot_ener[ri],cl=bi,hl=$e,Zt(Dt,B4,O4,hl,ri&1,cl,ri&1,oe,ri,jt,qt),Je(Ie,B4,Qi,I4,M4),ze(Ie,I4,M4,fo),ur=0;ur<3;ur++){var yb,Va;for(gt(Dt,O4,ii,Vi,ri,ur),pe(Ie,ii,Vi,ri,ur),Si=0;Si<F.SBMAX_s;Si++){if(Va=Ie.thm[ri].s[Si][ur],Va*=se,$n[ur]>=2||$n[ur+1]==1){var Mp=ur!=0?ur-1:2,Gs=wt(Ie.thm[ri].s[Si][Mp],Va,Ue*Gn);Va=Math.min(Va,Gs)}if($n[ur]==1){var Mp=ur!=0?ur-1:2,Gs=wt(Ie.thm[ri].s[Si][Mp],Va,Gt*Gn);Va=Math.min(Va,Gs)}else if(ur!=0&&$n[ur-1]==3||ur==0&&Ie.nsPsy.lastAttacks[ri]==3){var Mp=ur!=2?ur+1:0,Gs=wt(Ie.thm[ri].s[Si][Mp],Va,Gt*Gn);Va=Math.min(Va,Gs)}yb=fa[ur*3+3]+fa[ur*3+4]+fa[ur*3+5],fa[ur*3+5]*6<yb&&(Va*=.5,fa[ur*3+4]*6<yb&&(Va*=.5)),Ie.thm[ri].s[Si][ur]=Va}}for(Ie.nsPsy.lastAttacks[ri]=$n[2],bn=0,Oi=0;Oi<Ie.npart_l;Oi++){for(var Dc=Ie.s3ind[Oi][0],xb=Qi[Dc]*It[fo[Dc]],_c=Ie.s3_ll[bn++]*xb;++Dc<=Ie.s3ind[Oi][1];)xb=Qi[Dc]*It[fo[Dc]],_c=ht(_c,Ie.s3_ll[bn++]*xb,Dc,Dc-Oi,Ie);_c*=.158489319246111,Ie.blocktype_old[ri&1]==F.SHORT_TYPE?Vi[Oi]=_c:Vi[Oi]=wt(Math.min(_c,Math.min(be*Ie.nb_1[ri][Oi],Se*Ie.nb_2[ri][Oi])),_c,Gn),Ie.nb_2[ri][Oi]=Ie.nb_1[ri][Oi],Ie.nb_1[ri][Oi]=_c}for(;Oi<=F.CBANDS;++Oi)Qi[Oi]=0,Vi[Oi]=0;at(Ie,Qi,Vi,ri)}if((Dt.mode==Lt.STEREO||Dt.mode==Lt.JOINT_STEREO)&&Dt.interChRatio>0&&Vt(Dt,Dt.interChRatio),Dt.mode==Lt.JOINT_STEREO){var bb;Re(Ie),bb=Dt.msfix,Math.abs(bb)>0&&ee(Ie,bb,Dt.ATHlower*Ie.ATH.adjust)}for(Oe(Dt,Mi,He,je),ri=0;ri<yr;ri++){var Bp,Op=0,Ag,Rg;ri>1?(Bp=Ae,Op=-2,Ag=F.NORM_TYPE,(He[0]==F.SHORT_TYPE||He[1]==F.SHORT_TYPE)&&(Ag=F.SHORT_TYPE),Rg=Kt[oe][ri-2]):(Bp=we,Op=0,Ag=He[ri],Rg=Te[oe][ri]),Ag==F.SHORT_TYPE?Bp[Op+ri]=te(Rg,Ie.masking_lower):Bp[Op+ri]=fe(Rg,Ie.masking_lower),Dt.analysis&&(Ie.pinfo.pe[oe][ri]=Bp[Op+ri])}return 0};function hi(Dt,jt,qt,oe,Te,Kt,we,Ae){var ye=Dt.internal_flags;if(oe<2)Yt.fft_long(ye,we[Ae],oe,jt,qt);else if(oe==2)for(var He=F.BLKSIZE-1;He>=0;--He){var Ie=we[Ae+0][He],$e=we[Ae+1][He];we[Ae+0][He]=(Ie+$e)*rt.SQRT2*.5,we[Ae+1][He]=(Ie-$e)*rt.SQRT2*.5}Kt[0]=we[Ae+0][0],Kt[0]*=Kt[0];for(var He=F.BLKSIZE/2-1;He>=0;--He){var bi=we[Ae+0][F.BLKSIZE/2-He],Qi=we[Ae+0][F.BLKSIZE/2+He];Kt[F.BLKSIZE/2-He]=(bi*bi+Qi*Qi)*.5}{for(var ii=0,He=11;He<F.HBLKSIZE;He++)ii+=Kt[He];ye.tot_ener[oe]=ii}if(Dt.analysis){for(var He=0;He<F.HBLKSIZE;He++)ye.pinfo.energy[Te][oe][He]=ye.pinfo.energy_save[oe][He],ye.pinfo.energy_save[oe][He]=Kt[He];ye.pinfo.pe[Te][oe]=ye.pe[oe]}}function rr(Dt,jt,qt,oe,Te,Kt,we,Ae){var ye=Dt.internal_flags;if(Te==0&&oe<2&&Yt.fft_short(ye,we[Ae],oe,jt,qt),oe==2)for(var He=F.BLKSIZE_s-1;He>=0;--He){var Ie=we[Ae+0][Te][He],$e=we[Ae+1][Te][He];we[Ae+0][Te][He]=(Ie+$e)*rt.SQRT2*.5,we[Ae+1][Te][He]=(Ie-$e)*rt.SQRT2*.5}Kt[Te][0]=we[Ae+0][Te][0],Kt[Te][0]*=Kt[Te][0];for(var He=F.BLKSIZE_s/2-1;He>=0;--He){var bi=we[Ae+0][Te][F.BLKSIZE_s/2-He],Qi=we[Ae+0][Te][F.BLKSIZE_s/2+He];Kt[Te][F.BLKSIZE_s/2-He]=(bi*bi+Qi*Qi)*.5}}function ki(Dt,jt,qt,oe){var Te=Dt.internal_flags;Dt.athaa_loudapprox==2&&qt<2&&(Te.loudness_sq[jt][qt]=Te.loudness_sq_save[qt],Te.loudness_sq_save[qt]=ne(oe,Te))}var Li=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function Xi(Dt,jt,qt,oe,Te,Kt,we,Ae,ye,He){for(var Ie=Mt([2,576]),$e=Dt.internal_flags,bi=$e.channels_out,Qi=Dt.mode==Lt.JOINT_STEREO?4:bi,ii=0;ii<bi;ii++){firbuf=jt[ii];for(var Vi=qt+576-350-Qt+192,je=0;je<576;je++){var Mi,yr;Mi=firbuf[Vi+je+10],yr=0;for(var ri=0;ri<(Qt-1)/2-1;ri+=2)Mi+=Li[ri]*(firbuf[Vi+je+ri]+firbuf[Vi+je+Qt-ri]),yr+=Li[ri+1]*(firbuf[Vi+je+ri+1]+firbuf[Vi+je+Qt-ri-1]);Ie[ii][je]=Mi+yr}Te[oe][ii].en.assign($e.en[ii]),Te[oe][ii].thm.assign($e.thm[ii]),Qi>2&&(Kt[oe][ii].en.assign($e.en[ii+2]),Kt[oe][ii].thm.assign($e.thm[ii+2]))}for(var ii=0;ii<Qi;ii++){var Oi=K(12),ni=K(12),Ki=[0,0,0,0],bn=Ie[ii&1],Si=0,ur=ii==3?$e.nsPsy.attackthre_s:$e.nsPsy.attackthre,Tr=1;if(ii==2)for(var je=0,ri=576;ri>0;++je,--ri){var Gn=Ie[0][je],fo=Ie[1][je];Ie[0][je]=Gn+fo,Ie[1][je]=Gn-fo}for(var je=0;je<3;je++)ni[je]=$e.nsPsy.last_en_subshort[ii][je+6],dt($e.nsPsy.last_en_subshort[ii][je+4]>0),Oi[je]=ni[je]/$e.nsPsy.last_en_subshort[ii][je+4],Ki[0]+=ni[je];for(var je=0;je<9;je++){for(var ps=Si+64,Hn=1;Si<ps;Si++)Hn<Math.abs(bn[Si])&&(Hn=Math.abs(bn[Si]));$e.nsPsy.last_en_subshort[ii][je]=ni[je+3]=Hn,Ki[1+je/3]+=Hn,Hn>ni[je+3-2]?(dt(ni[je+3-2]>0),Hn=Hn/ni[je+3-2]):ni[je+3-2]>Hn*10?Hn=ni[je+3-2]/(Hn*10):Hn=0,Oi[je+3]=Hn}for(var je=0;je<3;++je){var Wa=ni[je*3+3]+ni[je*3+4]+ni[je*3+5],po=1;ni[je*3+5]*6<Wa&&(po*=.5,ni[je*3+4]*6<Wa&&(po*=.5)),Ae[ii][je]=po}if(Dt.analysis){for(var vo=Oi[0],je=1;je<12;je++)vo<Oi[je]&&(vo=Oi[je]);$e.pinfo.ers[oe][ii]=$e.pinfo.ers_save[ii],$e.pinfo.ers_save[ii]=vo}for(var je=0;je<12;je++)ye[ii][je/3]==0&&Oi[je]>ur&&(ye[ii][je/3]=je%3+1);for(var je=1;je<4;je++){var hl=Ki[je-1],cl=Ki[je],fa=Math.max(hl,cl);fa<4e4&&hl<1.7*cl&&cl<1.7*hl&&(je==1&&ye[ii][0]<=ye[ii][je]&&(ye[ii][0]=0),ye[ii][je]=0)}ye[ii][0]<=$e.nsPsy.lastAttacks[ii]&&(ye[ii][0]=0),($e.nsPsy.lastAttacks[ii]==3||ye[ii][0]+ye[ii][1]+ye[ii][2]+ye[ii][3]!=0)&&(Tr=0,ye[ii][1]!=0&&ye[ii][0]!=0&&(ye[ii][1]=0),ye[ii][2]!=0&&ye[ii][1]!=0&&(ye[ii][2]=0),ye[ii][3]!=0&&ye[ii][2]!=0&&(ye[ii][3]=0)),ii<2?He[ii]=Tr:Tr==0&&(He[0]=He[1]=0),we[ii]=$e.tot_ener[ii]}}function Bi(Dt,jt,qt){if(qt==0)for(var oe=0;oe<Dt.npart_s;oe++)Dt.nb_s2[jt][oe]=Dt.nb_s1[jt][oe],Dt.nb_s1[jt][oe]=0}function Ir(Dt,jt){for(var qt=0;qt<Dt.npart_l;qt++)Dt.nb_2[jt][qt]=Dt.nb_1[jt][qt],Dt.nb_1[jt][qt]=0}function mn(Dt,jt,qt,oe){var Te=It.length-1,Kt=0,we=qt[Kt]+qt[Kt+1];if(we>0){var Ae=jt[Kt];Ae<jt[Kt+1]&&(Ae=jt[Kt+1]),dt(Dt.numlines_s[Kt]+Dt.numlines_s[Kt+1]-1>0),we=20*(Ae*2-we)/(we*(Dt.numlines_s[Kt]+Dt.numlines_s[Kt+1]-1));var ye=0|we;ye>Te&&(ye=Te),oe[Kt]=ye}else oe[Kt]=0;for(Kt=1;Kt<Dt.npart_s-1;Kt++)if(we=qt[Kt-1]+qt[Kt]+qt[Kt+1],dt(Kt+1<Dt.npart_s),we>0){var Ae=jt[Kt-1];Ae<jt[Kt]&&(Ae=jt[Kt]),Ae<jt[Kt+1]&&(Ae=jt[Kt+1]),dt(Dt.numlines_s[Kt-1]+Dt.numlines_s[Kt]+Dt.numlines_s[Kt+1]-1>0),we=20*(Ae*3-we)/(we*(Dt.numlines_s[Kt-1]+Dt.numlines_s[Kt]+Dt.numlines_s[Kt+1]-1));var ye=0|we;ye>Te&&(ye=Te),oe[Kt]=ye}else oe[Kt]=0;if(dt(Kt==Dt.npart_s-1),we=qt[Kt-1]+qt[Kt],we>0){var Ae=jt[Kt-1];Ae<jt[Kt]&&(Ae=jt[Kt]),dt(Dt.numlines_s[Kt-1]+Dt.numlines_s[Kt]-1>0),we=20*(Ae*2-we)/(we*(Dt.numlines_s[Kt-1]+Dt.numlines_s[Kt]-1));var ye=0|we;ye>Te&&(ye=Te),oe[Kt]=ye}else oe[Kt]=0;dt(Kt==Dt.npart_s-1)}function Jr(Dt,jt,qt,oe,Te,Kt){var we=Dt.internal_flags,Ae=new float[F.CBANDS],ye=K(F.CBANDS),He,Ie,$e,bi=new int[F.CBANDS];for($e=Ie=0;$e<we.npart_s;++$e){var Qi=0,ii=0,Vi=we.numlines_s[$e];for(He=0;He<Vi;++He,++Ie){var je=jt[Kt][Ie];Qi+=je,ii<je&&(ii=je)}qt[$e]=Qi,Ae[$e]=ii,ye[$e]=Qi/Vi,dt(ye[$e]>=0)}for(dt($e==we.npart_s);$e<F.CBANDS;++$e)Ae[$e]=0,ye[$e]=0;for(mn(we,Ae,ye,bi),Ie=$e=0;$e<we.npart_s;$e++){var Mi=we.s3ind_s[$e][0],yr=we.s3ind_s[$e][1],ri,Oi,ni,Ki,bn;for(ri=bi[Mi],Oi=1,Ki=we.s3_ss[Ie]*qt[Mi]*It[bi[Mi]],++Ie,++Mi;Mi<=yr;)ri+=bi[Mi],Oi+=1,ni=we.s3_ss[Ie]*qt[Mi]*It[bi[Mi]],Ki=vt(Ki,ni,Mi-$e),++Ie,++Mi;ri=(1+2*ri)/(2*Oi),bn=It[ri]*.5,Ki*=bn,oe[$e]=Ki,we.nb_s2[Te][$e]=we.nb_s1[Te][$e],we.nb_s1[Te][$e]=Ki,ni=Ae[$e],ni*=we.minval_s[$e],ni*=bn,oe[$e]>ni&&(oe[$e]=ni),we.masking_lower>1&&(oe[$e]*=we.masking_lower),oe[$e]>qt[$e]&&(oe[$e]=qt[$e]),we.masking_lower<1&&(oe[$e]*=we.masking_lower),dt(oe[$e]>=0)}for(;$e<F.CBANDS;++$e)qt[$e]=0,oe[$e]=0}function on(Dt,jt,qt,oe,Te){var Kt=K(F.CBANDS),we=K(F.CBANDS),Ae=Ft(F.CBANDS+2),ye;Je(Dt,jt,qt,Kt,we),ze(Dt,Kt,we,Ae);var He=0;for(ye=0;ye<Dt.npart_l;ye++){var Ie,$e,bi,Qi,ii=Dt.s3ind[ye][0],Vi=Dt.s3ind[ye][1],je=0,Mi=0;for(je=Ae[ii],Mi+=1,$e=Dt.s3_ll[He]*qt[ii]*It[Ae[ii]],++He,++ii;ii<=Vi;)je+=Ae[ii],Mi+=1,Ie=Dt.s3_ll[He]*qt[ii]*It[Ae[ii]],Qi=vt($e,Ie,ii-ye),$e=Qi,++He,++ii;if(je=(1+2*je)/(2*Mi),bi=It[je]*.5,$e*=bi,Dt.blocktype_old[Te&1]==F.SHORT_TYPE){var yr=be*Dt.nb_1[Te][ye];yr>0?oe[ye]=Math.min($e,yr):oe[ye]=Math.min($e,qt[ye]*Gt)}else{var ri=Se*Dt.nb_2[Te][ye],Oi=be*Dt.nb_1[Te][ye],yr;ri<=0&&(ri=$e),Oi<=0&&(Oi=$e),Dt.blocktype_old[Te&1]==F.NORM_TYPE?yr=Math.min(Oi,ri):yr=Oi,oe[ye]=Math.min($e,yr)}Dt.nb_2[Te][ye]=Dt.nb_1[Te][ye],Dt.nb_1[Te][ye]=$e,Ie=Kt[ye],Ie*=Dt.minval_l[ye],Ie*=bi,oe[ye]>Ie&&(oe[ye]=Ie),Dt.masking_lower>1&&(oe[ye]*=Dt.masking_lower),oe[ye]>qt[ye]&&(oe[ye]=qt[ye]),Dt.masking_lower<1&&(oe[ye]*=Dt.masking_lower),dt(oe[ye]>=0)}for(;ye<F.CBANDS;++ye)qt[ye]=0,oe[ye]=0}function On(Dt,jt){var qt=Dt.internal_flags;Dt.short_blocks==Q.short_block_coupled&&!(jt[0]!=0&&jt[1]!=0)&&(jt[0]=jt[1]=0);for(var oe=0;oe<qt.channels_out;oe++)Dt.short_blocks==Q.short_block_dispensed&&(jt[oe]=1),Dt.short_blocks==Q.short_block_forced&&(jt[oe]=0)}function As(Dt,jt,qt){for(var oe=Dt.internal_flags,Te=0;Te<oe.channels_out;Te++){var Kt=F.NORM_TYPE;jt[Te]!=0?(dt(oe.blocktype_old[Te]!=F.START_TYPE),oe.blocktype_old[Te]==F.SHORT_TYPE&&(Kt=F.STOP_TYPE)):(Kt=F.SHORT_TYPE,oe.blocktype_old[Te]==F.NORM_TYPE&&(oe.blocktype_old[Te]=F.START_TYPE),oe.blocktype_old[Te]==F.STOP_TYPE&&(oe.blocktype_old[Te]=F.SHORT_TYPE)),qt[Te]=oe.blocktype_old[Te],oe.blocktype_old[Te]=Kt}}function jr(Dt,jt,qt,oe,Te,Kt,we){for(var Ae=Kt*2,ye=Kt>0?Math.pow(10,Te):1,He,Ie,$e=0;$e<we;++$e){var bi=Dt[2][$e],Qi=Dt[3][$e],ii=jt[0][$e],Vi=jt[1][$e],je=jt[2][$e],Mi=jt[3][$e];if(ii<=1.58*Vi&&Vi<=1.58*ii){var yr=qt[$e]*Qi,ri=qt[$e]*bi;Ie=Math.max(je,Math.min(Mi,yr)),He=Math.max(Mi,Math.min(je,ri))}else Ie=je,He=Mi;if(Kt>0){var Oi,ni,Ki=oe[$e]*ye;if(Oi=Math.min(Math.max(ii,Ki),Math.max(Vi,Ki)),je=Math.max(Ie,Ki),Mi=Math.max(He,Ki),ni=je+Mi,ni>0&&Oi*Ae<ni){var bn=Oi*Ae/ni;je*=bn,Mi*=bn}Ie=Math.min(je,Ie),He=Math.min(Mi,He)}Ie>bi&&(Ie=bi),He>Qi&&(He=Qi),jt[2][$e]=Ie,jt[3][$e]=He}}this.L3psycho_anal_vbr=function(Dt,jt,qt,oe,Te,Kt,we,Ae,ye,He){var Ie=Dt.internal_flags,$e,bi,Qi=K(F.HBLKSIZE),ii=Mt([3,F.HBLKSIZE_s]),Vi=Mt([2,F.BLKSIZE]),je=Mt([2,3,F.BLKSIZE_s]),Mi=Mt([4,F.CBANDS]),yr=Mt([4,F.CBANDS]),ri=Mt([4,3]),Oi=.6,ni=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Ki=Ft(2),bn=Dt.mode==Lt.JOINT_STEREO?4:Ie.channels_out;Xi(Dt,jt,qt,oe,Te,Kt,ye,ri,ni,Ki),On(Dt,Ki);{for(var Si=0;Si<bn;Si++){var ur=Si&1;$e=Vi,hi(Dt,jt,qt,Si,oe,Qi,$e,ur),ki(Dt,oe,Si,Qi),Ki[ur]!=0?on(Ie,Qi,Mi[Si],yr[Si],Si):Ir(Ie,Si)}Ki[0]+Ki[1]==2&&Dt.mode==Lt.JOINT_STEREO&&jr(Mi,yr,Ie.mld_cb_l,Ie.ATH.cb_l,Dt.ATHlower*Ie.ATH.adjust,Dt.msfix,Ie.npart_l);for(var Si=0;Si<bn;Si++){var ur=Si&1;Ki[ur]!=0&&at(Ie,Mi[Si],yr[Si],Si)}}{for(var Tr=0;Tr<3;Tr++){for(var Si=0;Si<bn;++Si){var ur=Si&1;Ki[ur]!=0?Bi(Ie,Si,Tr):(bi=je,rr(Dt,jt,qt,Si,Tr,ii,bi,ur),Jr(Dt,ii,Mi[Si],yr[Si],Si,Tr))}Ki[0]+Ki[1]==0&&Dt.mode==Lt.JOINT_STEREO&&jr(Mi,yr,Ie.mld_cb_s,Ie.ATH.cb_s,Dt.ATHlower*Ie.ATH.adjust,Dt.msfix,Ie.npart_s);for(var Si=0;Si<bn;++Si){var ur=Si&1;Ki[ur]==0&&pe(Ie,Mi[Si],yr[Si],Si,Tr)}}for(var Si=0;Si<bn;Si++){var ur=Si&1;if(Ki[ur]==0)for(var Gn=0;Gn<F.SBMAX_s;Gn++){for(var fo=K(3),Tr=0;Tr<3;Tr++){var ps=Ie.thm[Si].s[Gn][Tr];if(ps*=se,ni[Si][Tr]>=2||ni[Si][Tr+1]==1){var Hn=Tr!=0?Tr-1:2,Wa=wt(Ie.thm[Si].s[Gn][Hn],ps,Ue*Oi);ps=Math.min(ps,Wa)}else if(ni[Si][Tr]==1){var Hn=Tr!=0?Tr-1:2,Wa=wt(Ie.thm[Si].s[Gn][Hn],ps,Gt*Oi);ps=Math.min(ps,Wa)}else if(Tr!=0&&ni[Si][Tr-1]==3||Tr==0&&Ie.nsPsy.lastAttacks[Si]==3){var Hn=Tr!=2?Tr+1:0,Wa=wt(Ie.thm[Si].s[Gn][Hn],ps,Gt*Oi);ps=Math.min(ps,Wa)}ps*=ri[Si][Tr],fo[Tr]=ps}for(var Tr=0;Tr<3;Tr++)Ie.thm[Si].s[Gn][Tr]=fo[Tr]}}}for(var Si=0;Si<bn;Si++)Ie.nsPsy.lastAttacks[Si]=ni[Si][2];As(Dt,Ki,He);for(var Si=0;Si<bn;Si++){var po,vo,hl,cl;Si>1?(po=Ae,vo=-2,hl=F.NORM_TYPE,(He[0]==F.SHORT_TYPE||He[1]==F.SHORT_TYPE)&&(hl=F.SHORT_TYPE),cl=Kt[oe][Si-2]):(po=we,vo=0,hl=He[Si],cl=Te[oe][Si]),hl==F.SHORT_TYPE?po[vo+Si]=te(cl,Ie.masking_lower):po[vo+Si]=fe(cl,Ie.masking_lower),Dt.analysis&&(Ie.pinfo.pe[oe][Si]=po[vo+Si])}return 0};function fs(Dt,jt){var qt=Dt,oe;return qt>=0?oe=-qt*27:oe=qt*jt,oe<=-72?0:Math.exp(oe*J)}function Rs(Dt){var jt=0,qt=0;{var oe=0,Te,Kt;for(oe=0;fs(oe,Dt)>1e-20;oe-=1);for(Te=oe,Kt=0;Math.abs(Kt-Te)>1e-12;)oe=(Kt+Te)/2,fs(oe,Dt)>0?Kt=oe:Te=oe;jt=Te}{var oe=0,Te,Kt;for(oe=0;fs(oe,Dt)>1e-20;oe+=1);for(Te=0,Kt=oe;Math.abs(Kt-Te)>1e-12;)oe=(Kt+Te)/2,fs(oe,Dt)>0?Te=oe:Kt=oe;qt=Kt}{var we=0,Ae=1e3,ye;for(ye=0;ye<=Ae;++ye){var oe=jt+ye*(qt-jt)/Ae,He=fs(oe,Dt);we+=He}{var Ie=(Ae+1)/(we*(qt-jt));return Ie}}}function $a(Dt){var jt,qt,oe,Te;return jt=Dt,jt>=0?jt*=3:jt*=1.5,jt>=.5&&jt<=2.5?(Te=jt-.5,qt=8*(Te*Te-2*Te)):qt=0,jt+=.474,oe=15.811389+7.5*jt-17.5*Math.sqrt(1+jt*jt),oe<=-60?0:(jt=Math.exp((qt+oe)*J),jt/=.6609193,jt)}function da(Dt){return Dt<0&&(Dt=0),Dt=Dt*.001,13*Math.atan(.76*Dt)+3.5*Math.atan(Dt*Dt/(7.5*7.5))}function Nu(Dt,jt,qt,oe,Te,Kt,we,Ae,ye,He,Ie,$e){var bi=K(F.CBANDS+1),Qi=Ae/($e>15?2*576:2*192),ii=Ft(F.HBLKSIZE),Vi;Ae/=ye;var je=0,Mi=0;for(Vi=0;Vi<F.CBANDS;Vi++){var yr,ri;for(yr=da(Ae*je),bi[Vi]=Ae*je,ri=je;da(Ae*ri)-yr<_e&&ri<=ye/2;ri++);for(Dt[Vi]=ri-je,Mi=Vi+1;je<ri;)ii[je++]=Vi;if(je>ye/2){je=ye/2,++Vi;break}}bi[Vi]=Ae*je;for(var Oi=0;Oi<$e;Oi++){var ni,Ki,bn,Si,ur;bn=He[Oi],Si=He[Oi+1],ni=0|Math.floor(.5+Ie*(bn-.5)),ni<0&&(ni=0),Ki=0|Math.floor(.5+Ie*(Si-.5)),Ki>ye/2&&(Ki=ye/2),qt[Oi]=(ii[ni]+ii[Ki])/2,jt[Oi]=ii[Ki];var Tr=Qi*Si;we[Oi]=(Tr-bi[jt[Oi]])/(bi[jt[Oi]+1]-bi[jt[Oi]]),we[Oi]<0?we[Oi]=0:we[Oi]>1&&(we[Oi]=1),ur=da(Ae*He[Oi]*Ie),ur=Math.min(ur,15.5)/15.5,Kt[Oi]=Math.pow(10,1.25*(1-Math.cos(Math.PI*ur))-2.5)}je=0;for(var Gn=0;Gn<Mi;Gn++){var fo=Dt[Gn],yr,ps;yr=da(Ae*je),ps=da(Ae*(je+fo-1)),oe[Gn]=.5*(yr+ps),yr=da(Ae*(je-.5)),ps=da(Ae*(je+fo-.5)),Te[Gn]=ps-yr,je+=fo}return Mi}function Pg(Dt,jt,qt,oe,Te,Kt){var we=Mt([F.CBANDS,F.CBANDS]),Ae,ye=0;if(Kt)for(var He=0;He<jt;He++)for(Ae=0;Ae<jt;Ae++){var Ie=$a(qt[He]-qt[Ae])*oe[Ae];we[He][Ae]=Ie*Te[He]}else for(Ae=0;Ae<jt;Ae++)for(var $e=15+Math.min(21/qt[Ae],12),bi=Rs($e),He=0;He<jt;He++){var Ie=bi*fs(qt[He]-qt[Ae],$e)*oe[Ae];we[He][Ae]=Ie*Te[He]}for(var He=0;He<jt;He++){for(Ae=0;Ae<jt&&!(we[He][Ae]>0);Ae++);for(Dt[He][0]=Ae,Ae=jt-1;Ae>0&&!(we[He][Ae]>0);Ae--);Dt[He][1]=Ae,ye+=Dt[He][1]-Dt[He][0]+1}for(var Qi=K(ye),ii=0,He=0;He<jt;He++)for(Ae=Dt[He][0];Ae<=Dt[He][1];Ae++)Qi[ii++]=we[He][Ae];return Qi}function A4(Dt){var jt=da(Dt);return jt=Math.min(jt,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*jt))-2.5)}this.psymodel_init=function(Dt){var jt=Dt.internal_flags,qt,oe=!0,Te=13,Kt=24,we=0,Ae=0,ye=-8.25,He=-4.5,Ie=K(F.CBANDS),$e=K(F.CBANDS),bi=K(F.CBANDS),Qi=Dt.out_samplerate;switch(Dt.experimentalZ){default:case 0:oe=!0;break;case 1:oe=!(Dt.VBR==q.vbr_mtrh||Dt.VBR==q.vbr_mt);break;case 2:oe=!1;break;case 3:Te=8,we=-1.75,Ae=-.0125,ye=-8.25,He=-2.25;break}for(jt.ms_ener_ratio_old=.25,jt.blocktype_old[0]=jt.blocktype_old[1]=F.NORM_TYPE,qt=0;qt<4;++qt){for(var je=0;je<F.CBANDS;++je)jt.nb_1[qt][je]=1e20,jt.nb_2[qt][je]=1e20,jt.nb_s1[qt][je]=jt.nb_s2[qt][je]=1;for(var ii=0;ii<F.SBMAX_l;ii++)jt.en[qt].l[ii]=1e20,jt.thm[qt].l[ii]=1e20;for(var je=0;je<3;++je){for(var ii=0;ii<F.SBMAX_s;ii++)jt.en[qt].s[ii][je]=1e20,jt.thm[qt].s[ii][je]=1e20;jt.nsPsy.lastAttacks[qt]=0}for(var je=0;je<9;je++)jt.nsPsy.last_en_subshort[qt][je]=10}for(jt.loudness_sq_save[0]=jt.loudness_sq_save[1]=0,jt.npart_l=Nu(jt.numlines_l,jt.bo_l,jt.bm_l,Ie,$e,jt.mld_l,jt.PSY.bo_l_weight,Qi,F.BLKSIZE,jt.scalefac_band.l,F.BLKSIZE/(2*576),F.SBMAX_l),dt(jt.npart_l<F.CBANDS),qt=0;qt<jt.npart_l;qt++){var Vi=we;Ie[qt]>=Te&&(Vi=Ae*(Ie[qt]-Te)/(Kt-Te)+we*(Kt-Ie[qt])/(Kt-Te)),bi[qt]=Math.pow(10,Vi/10),jt.numlines_l[qt]>0?jt.rnumlines_l[qt]=1/jt.numlines_l[qt]:jt.rnumlines_l[qt]=0}jt.s3_ll=Pg(jt.s3ind,jt.npart_l,Ie,$e,bi,oe);var je=0;for(qt=0;qt<jt.npart_l;qt++){var Mi;Mi=ot.MAX_VALUE;for(var yr=0;yr<jt.numlines_l[qt];yr++,je++){var ri=Qi*je/(1e3*F.BLKSIZE),Oi;Oi=this.ATHformula(ri*1e3,Dt)-20,Oi=Math.pow(10,.1*Oi),Oi*=jt.numlines_l[qt],Mi>Oi&&(Mi=Oi)}jt.ATH.cb_l[qt]=Mi,Mi=-20+Ie[qt]*20/10,Mi>6&&(Mi=100),Mi<-15&&(Mi=-15),Mi-=8,jt.minval_l[qt]=Math.pow(10,Mi/10)*jt.numlines_l[qt]}for(jt.npart_s=Nu(jt.numlines_s,jt.bo_s,jt.bm_s,Ie,$e,jt.mld_s,jt.PSY.bo_s_weight,Qi,F.BLKSIZE_s,jt.scalefac_band.s,F.BLKSIZE_s/(2*192),F.SBMAX_s),dt(jt.npart_s<F.CBANDS),je=0,qt=0;qt<jt.npart_s;qt++){var Mi,Vi=ye;Ie[qt]>=Te&&(Vi=He*(Ie[qt]-Te)/(Kt-Te)+ye*(Kt-Ie[qt])/(Kt-Te)),bi[qt]=Math.pow(10,Vi/10),Mi=ot.MAX_VALUE;for(var yr=0;yr<jt.numlines_s[qt];yr++,je++){var ri=Qi*je/(1e3*F.BLKSIZE_s),Oi;Oi=this.ATHformula(ri*1e3,Dt)-20,Oi=Math.pow(10,.1*Oi),Oi*=jt.numlines_s[qt],Mi>Oi&&(Mi=Oi)}jt.ATH.cb_s[qt]=Mi,Mi=-7+Ie[qt]*7/12,Ie[qt]>12&&(Mi*=1+Math.log(1+Mi)*3.1),Ie[qt]<12&&(Mi*=1+Math.log(1-Mi)*2.3),Mi<-15&&(Mi=-15),Mi-=8,jt.minval_s[qt]=Math.pow(10,Mi/10)*jt.numlines_s[qt]}jt.s3_ss=Pg(jt.s3ind_s,jt.npart_s,Ie,$e,bi,oe),bt(),Yt.init_fft(jt),jt.decay=Math.exp(-1*ge/(ai*Qi/192));{var ni;ni=Wt,Dt.exp_nspsytune&2&&(ni=1),Math.abs(Dt.msfix)>0&&(ni=Dt.msfix),Dt.msfix=ni;for(var Ki=0;Ki<jt.npart_l;Ki++)jt.s3ind[Ki][1]>jt.npart_l-1&&(jt.s3ind[Ki][1]=jt.npart_l-1)}var bn=576*jt.mode_gr/Qi;if(jt.ATH.decay=Math.pow(10,-12/10*bn),jt.ATH.adjust=.01,jt.ATH.adjustLimit=1,dt(jt.bo_l[F.SBMAX_l-1]<=jt.npart_l),dt(jt.bo_s[F.SBMAX_s-1]<=jt.npart_s),Dt.ATHtype!=-1){var ri,Si=Dt.out_samplerate/F.BLKSIZE,ur=0;for(ri=0,qt=0;qt<F.BLKSIZE/2;++qt)ri+=Si,jt.ATH.eql_w[qt]=1/Math.pow(10,this.ATHformula(ri,Dt)/10),ur+=jt.ATH.eql_w[qt];for(ur=1/ur,qt=F.BLKSIZE/2;--qt>=0;)jt.ATH.eql_w[qt]*=ur}{for(var Ki=je=0;Ki<jt.npart_s;++Ki)for(qt=0;qt<jt.numlines_s[Ki];++qt)++je;for(var Ki=je=0;Ki<jt.npart_l;++Ki)for(qt=0;qt<jt.numlines_l[Ki];++qt)++je}for(je=0,qt=0;qt<jt.npart_l;qt++){var ri=Qi*(je+jt.numlines_l[qt]/2)/(1*F.BLKSIZE);jt.mld_cb_l[qt]=A4(ri),je+=jt.numlines_l[qt]}for(;qt<F.CBANDS;++qt)jt.mld_cb_l[qt]=1;for(je=0,qt=0;qt<jt.npart_s;qt++){var ri=Qi*(je+jt.numlines_s[qt]/2)/(1*F.BLKSIZE_s);jt.mld_cb_s[qt]=A4(ri),je+=jt.numlines_s[qt]}for(;qt<F.CBANDS;++qt)jt.mld_cb_s[qt]=1;return 0};function zd(Dt,jt){Dt<-.3&&(Dt=3410),Dt/=1e3,Dt=Math.max(.1,Dt);var qt=3.64*Math.pow(Dt,-.8)-6.8*Math.exp(-.6*Math.pow(Dt-3.4,2))+6*Math.exp(-.15*Math.pow(Dt-8.7,2))+(.6+.04*jt)*.001*Math.pow(Dt,4);return qt}this.ATHformula=function(Dt,jt){var qt;switch(jt.ATHtype){case 0:qt=zd(Dt,9);break;case 1:qt=zd(Dt,-1);break;case 2:qt=zd(Dt,0);break;case 3:qt=zd(Dt,1)+6;break;case 4:qt=zd(Dt,jt.ATHcurve);break;default:qt=zd(Dt,0);break}return qt}}var At=yt;function Ot(Yt){var ge=Yt;this.ordinal=function(){return ge}}Ot.STEREO=new Ot(0),Ot.JOINT_STEREO=new Ot(1),Ot.DUAL_CHANNEL=new Ot(2),Ot.MONO=new Ot(3),Ot.NOT_SET=new Ot(4);var le=Ot;function _t(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=le.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var xe=_t,ke={};ke.SFBMAX=F.SBMAX_s*3;var ve=ke,Fe=v.new_float,Ze=v.new_int;function ei(){this.xr=Fe(576),this.l3_enc=Ze(576),this.scalefac=Ze(ve.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=Ze(3),this.subblock_gain=Ze(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=Ze(ve.SFBMAX),this.window=Ze(ve.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=Ze(4),this.max_nonzero_coeff=0;var Yt=this;function ge(Se){return new Int32Array(Se)}function be(Se){return new Float32Array(Se)}this.assign=function(Se){Yt.xr=be(Se.xr),Yt.l3_enc=ge(Se.l3_enc),Yt.scalefac=ge(Se.scalefac),Yt.xrpow_max=Se.xrpow_max,Yt.part2_3_length=Se.part2_3_length,Yt.big_values=Se.big_values,Yt.count1=Se.count1,Yt.global_gain=Se.global_gain,Yt.scalefac_compress=Se.scalefac_compress,Yt.block_type=Se.block_type,Yt.mixed_block_flag=Se.mixed_block_flag,Yt.table_select=ge(Se.table_select),Yt.subblock_gain=ge(Se.subblock_gain),Yt.region0_count=Se.region0_count,Yt.region1_count=Se.region1_count,Yt.preflag=Se.preflag,Yt.scalefac_scale=Se.scalefac_scale,Yt.count1table_select=Se.count1table_select,Yt.part2_length=Se.part2_length,Yt.sfb_lmax=Se.sfb_lmax,Yt.sfb_smin=Se.sfb_smin,Yt.psy_lmax=Se.psy_lmax,Yt.sfbmax=Se.sfbmax,Yt.psymax=Se.psymax,Yt.sfbdivide=Se.sfbdivide,Yt.width=ge(Se.width),Yt.window=ge(Se.window),Yt.count1bits=Se.count1bits,Yt.sfb_partition_table=Se.sfb_partition_table.slice(0),Yt.slen=ge(Se.slen),Yt.max_nonzero_coeff=Se.max_nonzero_coeff}}var Ci=ei,xt=v.new_int;function et(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[xt(4),xt(4)];for(var Yt=0;Yt<2;Yt++)for(var ge=0;ge<2;ge++)this.tt[Yt][ge]=new Ci}var tt=et,Nt=v.System,ie=v.new_int;function Ce(Yt,ge,be,Se){this.l=ie(1+F.SBMAX_l),this.s=ie(1+F.SBMAX_s),this.psfb21=ie(1+F.PSFB21),this.psfb12=ie(1+F.PSFB12);var De=this.l,me=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],Nt.arraycopy(this.arrL,0,De,0,Math.min(this.arrL.length,this.l.length)),Nt.arraycopy(this.arrS,0,me,0,Math.min(this.arrS.length,this.s.length)),Nt.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),Nt.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var Le=Ce,Gi=v.new_float,Sr=v.new_float_n,lr=v.new_int;function gr(){this.last_en_subshort=Sr([4,9]),this.lastAttacks=lr(4),this.pefirbuf=Gi(19),this.longfact=Gi(F.SBMAX_l),this.shortfact=Gi(F.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var Cr=gr;function Oo(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var za=Oo,ua=v.new_byte,Xl=v.new_double,Ds=v.new_float,ha=v.new_float_n,cs=v.new_int,ll=v.new_int_n;Vr.MFSIZE=3*1152+F.ENCDELAY-F.MDCTDELAY,Vr.MAX_HEADER_BUF=256,Vr.MAX_BITS_PER_CHANNEL=4095,Vr.MAX_BITS_PER_GRANULE=7680,Vr.BPC=320;function Vr(){var Yt=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=ha([2,Vr.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new tt,this.ms_ratio=Ds(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=cs(2),this.CurrentStep=cs(2),this.masking_lower=0,this.bv_scf=cs(576),this.pseudohalf=cs(ve.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*Vr.BPC+1),this.itime=Xl(2),this.sideinfo_len=0,this.sb_sample=ha([2,2,18,F.SBLIMIT]),this.amp_filter=Ds(32);function ge(){this.write_timing=0,this.ptr=0,this.buf=ua(Yt)}this.header=new Array(Vr.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new Le,this.minval_l=Ds(F.CBANDS),this.minval_s=Ds(F.CBANDS),this.nb_1=ha([4,F.CBANDS]),this.nb_2=ha([4,F.CBANDS]),this.nb_s1=ha([4,F.CBANDS]),this.nb_s2=ha([4,F.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Ds(4),this.loudness_sq=ha([2,2]),this.loudness_sq_save=Ds(2),this.mld_l=Ds(F.SBMAX_l),this.mld_s=Ds(F.SBMAX_s),this.bm_l=cs(F.SBMAX_l),this.bo_l=cs(F.SBMAX_l),this.bm_s=cs(F.SBMAX_s),this.bo_s=cs(F.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=ll([F.CBANDS,2]),this.s3ind_s=ll([F.CBANDS,2]),this.numlines_s=cs(F.CBANDS),this.numlines_l=cs(F.CBANDS),this.rnumlines_l=Ds(F.CBANDS),this.mld_cb_l=Ds(F.CBANDS),this.mld_cb_s=Ds(F.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Ds(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=cs(2),this.nsPsy=new Cr,this.VBR_seek_table=new za,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=ll([16,5]),this.bitrate_blockType_Hist=ll([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var be=0;be<this.en.length;be++)this.en[be]=new B;for(var be=0;be<this.thm.length;be++)this.thm[be]=new B;for(var be=0;be<this.header.length;be++)this.header[be]=new ge}var Ar=Vr,Ua=v.new_float;function Un(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=Ua(F.SBMAX_l),this.s=Ua(F.SBMAX_s),this.psfb21=Ua(F.PSFB21),this.psfb12=Ua(F.PSFB12),this.cb_l=Ua(F.CBANDS),this.cb_s=Ua(F.CBANDS),this.eql_w=Ua(F.BLKSIZE/2)}var _s=Un,ds=v.System,Rc=v.Arrays;Kr.STEPS_per_dB=100,Kr.MAX_dB=120,Kr.GAIN_NOT_ENOUGH_SAMPLES=-24601,Kr.GAIN_ANALYSIS_ERROR=0,Kr.GAIN_ANALYSIS_OK=1,Kr.INIT_GAIN_ANALYSIS_ERROR=0,Kr.INIT_GAIN_ANALYSIS_OK=1,Kr.YULE_ORDER=10,Kr.MAX_ORDER=Kr.YULE_ORDER,Kr.MAX_SAMP_FREQ=48e3,Kr.RMS_WINDOW_TIME_NUMERATOR=1,Kr.RMS_WINDOW_TIME_DENOMINATOR=20,Kr.MAX_SAMPLES_PER_WINDOW=Kr.MAX_SAMP_FREQ*Kr.RMS_WINDOW_TIME_NUMERATOR/Kr.RMS_WINDOW_TIME_DENOMINATOR+1;function Kr(){var Yt=64.82,ge=.95,be=Kr.RMS_WINDOW_TIME_NUMERATOR,Se=Kr.RMS_WINDOW_TIME_DENOMINATOR,De=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],me=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function _e(Gt,Wt,Qt,J,ae,ne){for(;ae--!=0;)Qt[J]=1e-10+Gt[Wt+0]*ne[0]-Qt[J-1]*ne[1]+Gt[Wt-1]*ne[2]-Qt[J-2]*ne[3]+Gt[Wt-2]*ne[4]-Qt[J-3]*ne[5]+Gt[Wt-3]*ne[6]-Qt[J-4]*ne[7]+Gt[Wt-4]*ne[8]-Qt[J-5]*ne[9]+Gt[Wt-5]*ne[10]-Qt[J-6]*ne[11]+Gt[Wt-6]*ne[12]-Qt[J-7]*ne[13]+Gt[Wt-7]*ne[14]-Qt[J-8]*ne[15]+Gt[Wt-8]*ne[16]-Qt[J-9]*ne[17]+Gt[Wt-9]*ne[18]-Qt[J-10]*ne[19]+Gt[Wt-10]*ne[20],++J,++Wt}function ui(Gt,Wt,Qt,J,ae,ne){for(;ae--!=0;)Qt[J]=Gt[Wt+0]*ne[0]-Qt[J-1]*ne[1]+Gt[Wt-1]*ne[2]-Qt[J-2]*ne[3]+Gt[Wt-2]*ne[4],++J,++Wt}function ai(Gt,Wt){for(var Qt=0;Qt<MAX_ORDER;Qt++)Gt.linprebuf[Qt]=Gt.lstepbuf[Qt]=Gt.loutbuf[Qt]=Gt.rinprebuf[Qt]=Gt.rstepbuf[Qt]=Gt.routbuf[Qt]=0;switch(0|Wt){case 48e3:Gt.reqindex=0;break;case 44100:Gt.reqindex=1;break;case 32e3:Gt.reqindex=2;break;case 24e3:Gt.reqindex=3;break;case 22050:Gt.reqindex=4;break;case 16e3:Gt.reqindex=5;break;case 12e3:Gt.reqindex=6;break;case 11025:Gt.reqindex=7;break;case 8e3:Gt.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return Gt.sampleWindow=0|(Wt*be+Se-1)/Se,Gt.lsum=0,Gt.rsum=0,Gt.totsamp=0,Rc.ill(Gt.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(Gt,Wt){return ai(Gt,Wt)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(Gt.linpre=MAX_ORDER,Gt.rinpre=MAX_ORDER,Gt.lstep=MAX_ORDER,Gt.rstep=MAX_ORDER,Gt.lout=MAX_ORDER,Gt.rout=MAX_ORDER,Rc.fill(Gt.B,0),INIT_GAIN_ANALYSIS_OK)};function se(Gt){return Gt*Gt}this.AnalyzeSamples=function(Gt,Wt,Qt,J,ae,ne,Zt){var lt,Pt,zt,Ut,Ht,nt,It;if(ne==0)return GAIN_ANALYSIS_OK;switch(It=0,Ht=ne,Zt){case 1:J=Wt,ae=Qt;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(ne<MAX_ORDER?(ds.arraycopy(Wt,Qt,Gt.linprebuf,MAX_ORDER,ne),ds.arraycopy(J,ae,Gt.rinprebuf,MAX_ORDER,ne)):(ds.arraycopy(Wt,Qt,Gt.linprebuf,MAX_ORDER,MAX_ORDER),ds.arraycopy(J,ae,Gt.rinprebuf,MAX_ORDER,MAX_ORDER));Ht>0;){nt=Ht>Gt.sampleWindow-Gt.totsamp?Gt.sampleWindow-Gt.totsamp:Ht,It<MAX_ORDER?(lt=Gt.linpre+It,Pt=Gt.linprebuf,zt=Gt.rinpre+It,Ut=Gt.rinprebuf,nt>MAX_ORDER-It&&(nt=MAX_ORDER-It)):(lt=Qt+It,Pt=Wt,zt=ae+It,Ut=J),_e(Pt,lt,Gt.lstepbuf,Gt.lstep+Gt.totsamp,nt,De[Gt.reqindex]),_e(Ut,zt,Gt.rstepbuf,Gt.rstep+Gt.totsamp,nt,De[Gt.reqindex]),ui(Gt.lstepbuf,Gt.lstep+Gt.totsamp,Gt.loutbuf,Gt.lout+Gt.totsamp,nt,me[Gt.reqindex]),ui(Gt.rstepbuf,Gt.rstep+Gt.totsamp,Gt.routbuf,Gt.rout+Gt.totsamp,nt,me[Gt.reqindex]),lt=Gt.lout+Gt.totsamp,Pt=Gt.loutbuf,zt=Gt.rout+Gt.totsamp,Ut=Gt.routbuf;for(var bt=nt%8;bt--!=0;)Gt.lsum+=se(Pt[lt++]),Gt.rsum+=se(Ut[zt++]);for(bt=nt/8;bt--!=0;)Gt.lsum+=se(Pt[lt+0])+se(Pt[lt+1])+se(Pt[lt+2])+se(Pt[lt+3])+se(Pt[lt+4])+se(Pt[lt+5])+se(Pt[lt+6])+se(Pt[lt+7]),lt+=8,Gt.rsum+=se(Ut[zt+0])+se(Ut[zt+1])+se(Ut[zt+2])+se(Ut[zt+3])+se(Ut[zt+4])+se(Ut[zt+5])+se(Ut[zt+6])+se(Ut[zt+7]),zt+=8;if(Ht-=nt,It+=nt,Gt.totsamp+=nt,Gt.totsamp==Gt.sampleWindow){var ct=Kr.STEPS_per_dB*10*Math.log10((Gt.lsum+Gt.rsum)/Gt.totsamp*.5+1e-37),Tt=ct<=0?0:0|ct;Tt>=Gt.A.length&&(Tt=Gt.A.length-1),Gt.A[Tt]++,Gt.lsum=Gt.rsum=0,ds.arraycopy(Gt.loutbuf,Gt.totsamp,Gt.loutbuf,0,MAX_ORDER),ds.arraycopy(Gt.routbuf,Gt.totsamp,Gt.routbuf,0,MAX_ORDER),ds.arraycopy(Gt.lstepbuf,Gt.totsamp,Gt.lstepbuf,0,MAX_ORDER),ds.arraycopy(Gt.rstepbuf,Gt.totsamp,Gt.rstepbuf,0,MAX_ORDER),Gt.totsamp=0}if(Gt.totsamp>Gt.sampleWindow)return GAIN_ANALYSIS_ERROR}return ne<MAX_ORDER?(ds.arraycopy(Gt.linprebuf,ne,Gt.linprebuf,0,MAX_ORDER-ne),ds.arraycopy(Gt.rinprebuf,ne,Gt.rinprebuf,0,MAX_ORDER-ne),ds.arraycopy(Wt,Qt,Gt.linprebuf,MAX_ORDER-ne,ne),ds.arraycopy(J,ae,Gt.rinprebuf,MAX_ORDER-ne,ne)):(ds.arraycopy(Wt,Qt+ne-MAX_ORDER,Gt.linprebuf,0,MAX_ORDER),ds.arraycopy(J,ae+ne-MAX_ORDER,Gt.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function Ue(Gt,Wt){var Qt,J=0;for(Qt=0;Qt<Wt;Qt++)J+=Gt[Qt];if(J==0)return GAIN_NOT_ENOUGH_SAMPLES;var ae=0|Math.ceil(J*(1-ge));for(Qt=Wt;Qt-- >0&&!((ae-=Gt[Qt])<=0););return Yt-Qt/Kr.STEPS_per_dB}this.GetTitleGain=function(Gt){for(var Wt=Ue(Gt.A,Gt.A.length),Qt=0;Qt<Gt.A.length;Qt++)Gt.B[Qt]+=Gt.A[Qt],Gt.A[Qt]=0;for(var Qt=0;Qt<MAX_ORDER;Qt++)Gt.linprebuf[Qt]=Gt.lstepbuf[Qt]=Gt.loutbuf[Qt]=Gt.rinprebuf[Qt]=Gt.rstepbuf[Qt]=Gt.routbuf[Qt]=0;return Gt.totsamp=0,Gt.lsum=Gt.rsum=0,Wt}}var Mn=Kr,js=v.new_float,Pa=v.new_int;function Th(){this.linprebuf=js(Mn.MAX_ORDER*2),this.linpre=0,this.lstepbuf=js(Mn.MAX_SAMPLES_PER_WINDOW+Mn.MAX_ORDER),this.lstep=0,this.loutbuf=js(Mn.MAX_SAMPLES_PER_WINDOW+Mn.MAX_ORDER),this.lout=0,this.rinprebuf=js(Mn.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=js(Mn.MAX_SAMPLES_PER_WINDOW+Mn.MAX_ORDER),this.rstep=0,this.routbuf=js(Mn.MAX_SAMPLES_PER_WINDOW+Mn.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=Pa(0|Mn.STEPS_per_dB*Mn.MAX_dB),this.B=Pa(0|Mn.STEPS_per_dB*Mn.MAX_dB)}var Bu=Th;function Fd(Yt){this.bits=Yt}var Ch=Fd,Ic=v.new_float,ft=v.new_int,Et=v.assert;function X(Yt){var ge=Yt;this.quantize=ge,this.iteration_loop=function(be,Se,De,me){var _e=be.internal_flags,ui=Ic(ve.SFBMAX),ai=Ic(576),se=ft(2),Ue=0,Gt,Wt=_e.l3_side,Qt=new Ch(Ue);this.quantize.rv.ResvFrameBegin(be,Qt),Ue=Qt.bits;for(var J=0;J<_e.mode_gr;J++){Gt=this.quantize.qupvt.on_pe(be,Se,se,Ue,J,J),_e.mode_ext==F.MPG_MD_MS_LR&&(this.quantize.ms_convert(_e.l3_side,J),this.quantize.qupvt.reduce_side(se,De[J],Ue,Gt));for(var ae=0;ae<_e.channels_out;ae++){var ne,Zt,lt=Wt.tt[J][ae];lt.block_type!=F.SHORT_TYPE?(ne=0,Zt=_e.PSY.mask_adjust-ne):(ne=0,Zt=_e.PSY.mask_adjust_short-ne),_e.masking_lower=Math.pow(10,Zt*.1),this.quantize.init_outer_loop(_e,lt),this.quantize.init_xrpow(_e,lt,ai)&&(this.quantize.qupvt.calc_xmin(be,me[J][ae],lt,ui),this.quantize.outer_loop(be,lt,ui,ai,ae,se[ae])),this.quantize.iteration_finish_one(_e,J,ae),Et(lt.part2_3_length<=Ar.MAX_BITS_PER_CHANNEL),Et(lt.part2_3_length<=se[ae])}}this.quantize.rv.ResvFrameEnd(_e,Ue)}}var Z=X;function ut(Yt,ge,be,Se){this.xlen=Yt,this.linmax=ge,this.table=be,this.hlen=Se}var Rt={};Rt.t1HB=[1,1,1,0],Rt.t2HB=[1,2,1,3,1,1,3,2,0],Rt.t3HB=[3,2,1,1,1,1,3,2,0],Rt.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],Rt.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],Rt.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],Rt.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],Rt.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],Rt.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],Rt.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],Rt.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],Rt.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],Rt.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],Rt.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],Rt.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],Rt.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],Rt.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],Rt.t1l=[1,4,3,5],Rt.t2l=[1,4,7,4,5,7,6,7,8],Rt.t3l=[2,3,7,4,4,7,6,7,8],Rt.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],Rt.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],Rt.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],Rt.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],Rt.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],Rt.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],Rt.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],Rt.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],Rt.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],Rt.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],Rt.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],Rt.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],Rt.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],Rt.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],Rt.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],Rt.ht=[new ut(0,0,null,null),new ut(2,0,Rt.t1HB,Rt.t1l),new ut(3,0,Rt.t2HB,Rt.t2l),new ut(3,0,Rt.t3HB,Rt.t3l),new ut(0,0,null,null),new ut(4,0,Rt.t5HB,Rt.t5l),new ut(4,0,Rt.t6HB,Rt.t6l),new ut(6,0,Rt.t7HB,Rt.t7l),new ut(6,0,Rt.t8HB,Rt.t8l),new ut(6,0,Rt.t9HB,Rt.t9l),new ut(8,0,Rt.t10HB,Rt.t10l),new ut(8,0,Rt.t11HB,Rt.t11l),new ut(8,0,Rt.t12HB,Rt.t12l),new ut(16,0,Rt.t13HB,Rt.t13l),new ut(0,0,null,Rt.t16_5l),new ut(16,0,Rt.t15HB,Rt.t15l),new ut(1,1,Rt.t16HB,Rt.t16l),new ut(2,3,Rt.t16HB,Rt.t16l),new ut(3,7,Rt.t16HB,Rt.t16l),new ut(4,15,Rt.t16HB,Rt.t16l),new ut(6,63,Rt.t16HB,Rt.t16l),new ut(8,255,Rt.t16HB,Rt.t16l),new ut(10,1023,Rt.t16HB,Rt.t16l),new ut(13,8191,Rt.t16HB,Rt.t16l),new ut(4,15,Rt.t24HB,Rt.t24l),new ut(5,31,Rt.t24HB,Rt.t24l),new ut(6,63,Rt.t24HB,Rt.t24l),new ut(7,127,Rt.t24HB,Rt.t24l),new ut(8,255,Rt.t24HB,Rt.t24l),new ut(9,511,Rt.t24HB,Rt.t24l),new ut(11,2047,Rt.t24HB,Rt.t24l),new ut(13,8191,Rt.t24HB,Rt.t24l),new ut(0,0,Rt.t32HB,Rt.t32l),new ut(0,0,Rt.t33HB,Rt.t33l)],Rt.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],Rt.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],Rt.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],Rt.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],Rt.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],Rt.scfsi_band=[0,6,11,16,21];var Jt=Rt,ce=v.VbrMode,de=v.Float,Ge=v.Util,pi=v.new_float,Ui=v.new_int,Yi=v.assert;cr.Q_MAX=257,cr.Q_MAX2=116,cr.LARGE_BITS=1e5,cr.IXMAX_VAL=8206;function cr(){var Yt=null,ge=null,be=null;this.setModules=function(lt,Pt,zt){Yt=lt,ge=Pt,be=zt};function Se(lt){return Gt[lt+cr.Q_MAX2]}this.IPOW20=function(lt){return Wt[lt]};var De=2220446049250313e-31,me=cr.IXMAX_VAL,_e=me+2,ui=cr.Q_MAX,ai=cr.Q_MAX2,se=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var Ue=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=Ue,this.sfBandIndex=[new Le([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Le([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Le([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Le([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Le([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Le([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Le([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Le([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Le([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var Gt=pi(ui+ai+1),Wt=pi(ui),Qt=pi(_e),J=pi(_e);this.adj43=J;function ae(lt,Pt){var zt=be.ATHformula(Pt,lt);return zt-=se,zt=Math.pow(10,zt/10+lt.ATHlower),zt}function ne(lt){for(var Pt=lt.internal_flags.ATH.l,zt=lt.internal_flags.ATH.psfb21,Ut=lt.internal_flags.ATH.s,Ht=lt.internal_flags.ATH.psfb12,nt=lt.internal_flags,It=lt.out_samplerate,bt=0;bt<F.SBMAX_l;bt++){var ct=nt.scalefac_band.l[bt],Tt=nt.scalefac_band.l[bt+1];Pt[bt]=de.MAX_VALUE;for(var kt=ct;kt<Tt;kt++){var ht=kt*It/1152,pt=ae(lt,ht);Pt[bt]=Math.min(Pt[bt],pt)}}for(var bt=0;bt<F.PSFB21;bt++){var ct=nt.scalefac_band.psfb21[bt],Tt=nt.scalefac_band.psfb21[bt+1];zt[bt]=de.MAX_VALUE;for(var kt=ct;kt<Tt;kt++){var ht=kt*It/1152,pt=ae(lt,ht);zt[bt]=Math.min(zt[bt],pt)}}for(var bt=0;bt<F.SBMAX_s;bt++){var ct=nt.scalefac_band.s[bt],Tt=nt.scalefac_band.s[bt+1];Ut[bt]=de.MAX_VALUE;for(var kt=ct;kt<Tt;kt++){var ht=kt*It/384,pt=ae(lt,ht);Ut[bt]=Math.min(Ut[bt],pt)}Ut[bt]*=nt.scalefac_band.s[bt+1]-nt.scalefac_band.s[bt]}for(var bt=0;bt<F.PSFB12;bt++){var ct=nt.scalefac_band.psfb12[bt],Tt=nt.scalefac_band.psfb12[bt+1];Ht[bt]=de.MAX_VALUE;for(var kt=ct;kt<Tt;kt++){var ht=kt*It/384,pt=ae(lt,ht);Ht[bt]=Math.min(Ht[bt],pt)}Ht[bt]*=nt.scalefac_band.s[13]-nt.scalefac_band.s[12]}if(lt.noATH){for(var bt=0;bt<F.SBMAX_l;bt++)Pt[bt]=1e-20;for(var bt=0;bt<F.PSFB21;bt++)zt[bt]=1e-20;for(var bt=0;bt<F.SBMAX_s;bt++)Ut[bt]=1e-20;for(var bt=0;bt<F.PSFB12;bt++)Ht[bt]=1e-20}nt.ATH.floor=10*Math.log10(ae(lt,-1))}this.iteration_init=function(lt){var Pt=lt.internal_flags,zt=Pt.l3_side,Ut;if(Pt.iteration_init_init==0){for(Pt.iteration_init_init=1,zt.main_data_begin=0,ne(lt),Qt[0]=0,Ut=1;Ut<_e;Ut++)Qt[Ut]=Math.pow(Ut,4/3);for(Ut=0;Ut<_e-1;Ut++)J[Ut]=Ut+1-Math.pow(.5*(Qt[Ut]+Qt[Ut+1]),.75);for(J[Ut]=.5,Ut=0;Ut<ui;Ut++)Wt[Ut]=Math.pow(2,(Ut-210)*-.1875);for(Ut=0;Ut<=ui+ai;Ut++)Gt[Ut]=Math.pow(2,(Ut-210-ai)*.25);Yt.huffman_init(Pt);{var Ht,nt,It,bt;for(Ut=lt.exp_nspsytune>>2&63,Ut>=32&&(Ut-=64),Ht=Math.pow(10,Ut/4/10),Ut=lt.exp_nspsytune>>8&63,Ut>=32&&(Ut-=64),nt=Math.pow(10,Ut/4/10),Ut=lt.exp_nspsytune>>14&63,Ut>=32&&(Ut-=64),It=Math.pow(10,Ut/4/10),Ut=lt.exp_nspsytune>>20&63,Ut>=32&&(Ut-=64),bt=It*Math.pow(10,Ut/4/10),Ut=0;Ut<F.SBMAX_l;Ut++){var ct;Ut<=6?ct=Ht:Ut<=13?ct=nt:Ut<=20?ct=It:ct=bt,Pt.nsPsy.longfact[Ut]=ct}for(Ut=0;Ut<F.SBMAX_s;Ut++){var ct;Ut<=5?ct=Ht:Ut<=10?ct=nt:Ut<=11?ct=It:ct=bt,Pt.nsPsy.shortfact[Ut]=ct}}}},this.on_pe=function(lt,Pt,zt,Ut,Ht,nt){var It=lt.internal_flags,bt=0,ct,Tt=Ui(2),kt,ht=new Ch(bt),pt=ge.ResvMaxBits(lt,Ut,ht,nt);bt=ht.bits;var vt=bt+pt;for(vt>Ar.MAX_BITS_PER_GRANULE&&(vt=Ar.MAX_BITS_PER_GRANULE),ct=0,kt=0;kt<It.channels_out;++kt)zt[kt]=Math.min(Ar.MAX_BITS_PER_CHANNEL,bt/It.channels_out),Tt[kt]=0|zt[kt]*Pt[Ht][kt]/700-zt[kt],Tt[kt]>Ut*3/4&&(Tt[kt]=Ut*3/4),Tt[kt]<0&&(Tt[kt]=0),Tt[kt]+zt[kt]>Ar.MAX_BITS_PER_CHANNEL&&(Tt[kt]=Math.max(0,Ar.MAX_BITS_PER_CHANNEL-zt[kt])),ct+=Tt[kt];if(ct>pt)for(kt=0;kt<It.channels_out;++kt)Tt[kt]=pt*Tt[kt]/ct;for(kt=0;kt<It.channels_out;++kt)zt[kt]+=Tt[kt],pt-=Tt[kt];for(ct=0,kt=0;kt<It.channels_out;++kt)ct+=zt[kt];if(ct>Ar.MAX_BITS_PER_GRANULE){var Vt=0;for(kt=0;kt<It.channels_out;++kt)zt[kt]*=Ar.MAX_BITS_PER_GRANULE,zt[kt]/=ct,Vt+=zt[kt]}return vt},this.reduce_side=function(lt,Pt,zt,Ut){Yi(lt[0]+lt[1]<=Ar.MAX_BITS_PER_GRANULE);var Ht=.33*(.5-Pt)/.5;Ht<0&&(Ht=0),Ht>.5&&(Ht=.5);var nt=0|Ht*.5*(lt[0]+lt[1]);nt>Ar.MAX_BITS_PER_CHANNEL-lt[0]&&(nt=Ar.MAX_BITS_PER_CHANNEL-lt[0]),nt<0&&(nt=0),lt[1]>=125&&(lt[1]-nt>125?(lt[0]<zt&&(lt[0]+=nt),lt[1]-=nt):(lt[0]+=lt[1]-125,lt[1]=125)),nt=lt[0]+lt[1],nt>Ut&&(lt[0]=Ut*lt[0]/nt,lt[1]=Ut*lt[1]/nt),Yi(lt[0]<=Ar.MAX_BITS_PER_CHANNEL),Yi(lt[1]<=Ar.MAX_BITS_PER_CHANNEL),Yi(lt[0]+lt[1]<=Ar.MAX_BITS_PER_GRANULE)},this.athAdjust=function(lt,Pt,zt){var Ut=90.30873362,Ht=94.82444863,nt=Ge.FAST_LOG10_X(Pt,10),It=lt*lt,bt=0;return nt-=zt,It>1e-20&&(bt=1+Ge.FAST_LOG10_X(It,10/Ut)),bt<0&&(bt=0),nt*=bt,nt+=zt+Ut-Ht,Math.pow(10,.1*nt)},this.calc_xmin=function(lt,Pt,zt,Ut){var Ht=0,nt=lt.internal_flags,It,bt=0,ct=0,Tt=nt.ATH,kt=zt.xr,ht=lt.VBR==ce.vbr_mtrh?1:0,pt=nt.masking_lower;for((lt.VBR==ce.vbr_mtrh||lt.VBR==ce.vbr_mt)&&(pt=1),It=0;It<zt.psy_lmax;It++){var vt,Vt,Re,ee,pe,at;lt.VBR==ce.vbr_rh||lt.VBR==ce.vbr_mtrh?Vt=athAdjust(Tt.adjust,Tt.l[It],Tt.floor):Vt=Tt.adjust*Tt.l[It],pe=zt.width[It],Re=Vt/pe,ee=De,at=pe>>1,vt=0;do{var gt,Oe;gt=kt[bt]*kt[bt],vt+=gt,ee+=gt<Re?gt:Re,bt++,Oe=kt[bt]*kt[bt],vt+=Oe,ee+=Oe<Re?Oe:Re,bt++}while(--at>0);if(vt>Vt&&ct++,It==F.SBPSY_l){var wt=Vt*nt.nsPsy.longfact[It];ee<wt&&(ee=wt)}if(ht!=0&&(Vt=ee),!lt.ATHonly){var $t=Pt.en.l[It];if($t>0){var wt;wt=vt*Pt.thm.l[It]*pt/$t,ht!=0&&(wt*=nt.nsPsy.longfact[It]),Vt<wt&&(Vt=wt)}}ht!=0?Ut[Ht++]=Vt:Ut[Ht++]=Vt*nt.nsPsy.longfact[It]}var te=575;if(zt.block_type!=F.SHORT_TYPE)for(var re=576;re--!=0&&ue.EQ(kt[re],0);)te=re;zt.max_nonzero_coeff=te;for(var fe=zt.sfb_smin;It<zt.psymax;fe++,It+=3){var pe,Je,ze;for(lt.VBR==ce.vbr_rh||lt.VBR==ce.vbr_mtrh?ze=athAdjust(Tt.adjust,Tt.s[fe],Tt.floor):ze=Tt.adjust*Tt.s[fe],pe=zt.width[It],Je=0;Je<3;Je++){var vt=0,Vt,Re,ee,at=pe>>1;Re=ze/pe,ee=De;do{var gt,Oe;gt=kt[bt]*kt[bt],vt+=gt,ee+=gt<Re?gt:Re,bt++,Oe=kt[bt]*kt[bt],vt+=Oe,ee+=Oe<Re?Oe:Re,bt++}while(--at>0);if(vt>ze&&ct++,fe==F.SBPSY_s){var wt=ze*nt.nsPsy.shortfact[fe];ee<wt&&(ee=wt)}if(ht!=0?Vt=ee:Vt=ze,!lt.ATHonly&&!lt.ATHshort){var $t=Pt.en.s[fe][Je];if($t>0){var wt;wt=vt*Pt.thm.s[fe][Je]*pt/$t,ht!=0&&(wt*=nt.nsPsy.shortfact[fe]),Vt<wt&&(Vt=wt)}}ht!=0?Ut[Ht++]=Vt:Ut[Ht++]=Vt*nt.nsPsy.shortfact[fe]}lt.useTemporal&&(Ut[Ht-3]>Ut[Ht-3+1]&&(Ut[Ht-3+1]+=(Ut[Ht-3]-Ut[Ht-3+1])*nt.decay),Ut[Ht-3+1]>Ut[Ht-3+2]&&(Ut[Ht-3+2]+=(Ut[Ht-3+1]-Ut[Ht-3+2])*nt.decay))}return ct};function Zt(lt){this.s=lt}this.calc_noise_core=function(lt,Pt,zt,Ut){var Ht=0,nt=Pt.s,It=lt.l3_enc;if(nt>lt.count1)for(;zt--!=0;){var bt;bt=lt.xr[nt],nt++,Ht+=bt*bt,bt=lt.xr[nt],nt++,Ht+=bt*bt}else if(nt>lt.big_values){var ct=pi(2);for(ct[0]=0,ct[1]=Ut;zt--!=0;){var bt;bt=Math.abs(lt.xr[nt])-ct[It[nt]],nt++,Ht+=bt*bt,bt=Math.abs(lt.xr[nt])-ct[It[nt]],nt++,Ht+=bt*bt}}else for(;zt--!=0;){var bt;bt=Math.abs(lt.xr[nt])-Qt[It[nt]]*Ut,nt++,Ht+=bt*bt,bt=Math.abs(lt.xr[nt])-Qt[It[nt]]*Ut,nt++,Ht+=bt*bt}return Pt.s=nt,Ht},this.calc_noise=function(lt,Pt,zt,Ut,Ht){var nt=0,It=0,bt,ct,Tt=0,kt=0,ht=0,pt=-20,vt=0,Vt=lt.scalefac,Re=0;for(Ut.over_SSD=0,bt=0;bt<lt.psymax;bt++){var ee=lt.global_gain-(Vt[Re++]+(lt.preflag!=0?Ue[bt]:0)<<lt.scalefac_scale+1)-lt.subblock_gain[lt.window[bt]]*8,pe=0;if(Ht!=null&&Ht.step[bt]==ee)pe=Ht.noise[bt],vt+=lt.width[bt],zt[nt++]=pe/Pt[It++],pe=Ht.noise_log[bt];else{var at=Se(ee);if(ct=lt.width[bt]>>1,vt+lt.width[bt]>lt.max_nonzero_coeff){var gt;gt=lt.max_nonzero_coeff-vt+1,gt>0?ct=gt>>1:ct=0}var Oe=new Zt(vt);pe=this.calc_noise_core(lt,Oe,ct,at),vt=Oe.s,Ht!=null&&(Ht.step[bt]=ee,Ht.noise[bt]=pe),pe=zt[nt++]=pe/Pt[It++],pe=Ge.FAST_LOG10(Math.max(pe,1e-20)),Ht!=null&&(Ht.noise_log[bt]=pe)}if(Ht!=null&&(Ht.global_gain=lt.global_gain),ht+=pe,pe>0){var wt;wt=Math.max(0|pe*10+.5,1),Ut.over_SSD+=wt*wt,Tt++,kt+=pe}pt=Math.max(pt,pe)}return Ut.over_count=Tt,Ut.tot_noise=ht,Ut.over_noise=kt,Ut.max_noise=pt,Tt},this.set_pinfo=function(lt,Pt,zt,Ut,Ht){var nt=lt.internal_flags,It,bt,ct,Tt,kt,ht=Pt.scalefac_scale==0?.5:1,pt=Pt.scalefac,vt=pi(L3Side.SFBMAX),Vt=pi(L3Side.SFBMAX),Re=new CalcNoiseResult;calc_xmin(lt,zt,Pt,vt),calc_noise(Pt,vt,Vt,Re,null);var ee=0;for(bt=Pt.sfb_lmax,Pt.block_type!=F.SHORT_TYPE&&Pt.mixed_block_flag==0&&(bt=22),It=0;It<bt;It++){var pe=nt.scalefac_band.l[It],at=nt.scalefac_band.l[It+1],gt=at-pe;for(Tt=0;ee<at;ee++)Tt+=Pt.xr[ee]*Pt.xr[ee];Tt/=gt,kt=1e15,nt.pinfo.en[Ut][Ht][It]=kt*Tt,nt.pinfo.xfsf[Ut][Ht][It]=kt*vt[It]*Vt[It]/gt,zt.en.l[It]>0&&!lt.ATHonly?Tt=Tt/zt.en.l[It]:Tt=0,nt.pinfo.thr[Ut][Ht][It]=kt*Math.max(Tt*zt.thm.l[It],nt.ATH.l[It]),nt.pinfo.LAMEsfb[Ut][Ht][It]=0,Pt.preflag!=0&&It>=11&&(nt.pinfo.LAMEsfb[Ut][Ht][It]=-ht*Ue[It]),It<F.SBPSY_l&&(Yi(pt[It]>=0),nt.pinfo.LAMEsfb[Ut][Ht][It]-=ht*pt[It])}if(Pt.block_type==F.SHORT_TYPE)for(bt=It,It=Pt.sfb_smin;It<F.SBMAX_s;It++)for(var pe=nt.scalefac_band.s[It],at=nt.scalefac_band.s[It+1],gt=at-pe,Oe=0;Oe<3;Oe++){for(Tt=0,ct=pe;ct<at;ct++)Tt+=Pt.xr[ee]*Pt.xr[ee],ee++;Tt=Math.max(Tt/gt,1e-20),kt=1e15,nt.pinfo.en_s[Ut][Ht][3*It+Oe]=kt*Tt,nt.pinfo.xfsf_s[Ut][Ht][3*It+Oe]=kt*vt[bt]*Vt[bt]/gt,zt.en.s[It][Oe]>0?Tt=Tt/zt.en.s[It][Oe]:Tt=0,(lt.ATHonly||lt.ATHshort)&&(Tt=0),nt.pinfo.thr_s[Ut][Ht][3*It+Oe]=kt*Math.max(Tt*zt.thm.s[It][Oe],nt.ATH.s[It]),nt.pinfo.LAMEsfb_s[Ut][Ht][3*It+Oe]=-2*Pt.subblock_gain[Oe],It<F.SBPSY_s&&(nt.pinfo.LAMEsfb_s[Ut][Ht][3*It+Oe]-=ht*pt[bt]),bt++}nt.pinfo.LAMEqss[Ut][Ht]=Pt.global_gain,nt.pinfo.LAMEmainbits[Ut][Ht]=Pt.part2_3_length+Pt.part2_length,nt.pinfo.LAMEsfbits[Ut][Ht]=Pt.part2_length,nt.pinfo.over[Ut][Ht]=Re.over_count,nt.pinfo.max_noise[Ut][Ht]=Re.max_noise*10,nt.pinfo.over_noise[Ut][Ht]=Re.over_noise*10,nt.pinfo.tot_noise[Ut][Ht]=Re.tot_noise*10,nt.pinfo.over_SSD[Ut][Ht]=Re.over_SSD}}var Pi=cr,Or=v.System,_r=v.Arrays,an=v.new_int,Ps=v.assert;function Mc(){var Yt=null;this.qupvt=null,this.setModules=function(ct){this.qupvt=ct,Yt=ct};function ge(ct){this.bits=0|ct}var be=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function Se(ct,Tt,kt,ht,pt,vt){var Vt=.5946/Tt;for(ct=ct>>1;ct--!=0;)pt[vt++]=Vt>kt[ht++]?0:1,pt[vt++]=Vt>kt[ht++]?0:1}function De(ct,Tt,kt,ht,pt,vt){ct=ct>>1;var Vt=ct%2;for(ct=ct>>1;ct--!=0;){var Re,ee,pe,at,gt,Oe,wt,$t;Re=kt[ht++]*Tt,ee=kt[ht++]*Tt,gt=0|Re,pe=kt[ht++]*Tt,Oe=0|ee,at=kt[ht++]*Tt,wt=0|pe,Re+=Yt.adj43[gt],$t=0|at,ee+=Yt.adj43[Oe],pt[vt++]=0|Re,pe+=Yt.adj43[wt],pt[vt++]=0|ee,at+=Yt.adj43[$t],pt[vt++]=0|pe,pt[vt++]=0|at}if(Vt!=0){var Re,ee,gt,Oe;Re=kt[ht++]*Tt,ee=kt[ht++]*Tt,gt=0|Re,Oe=0|ee,Re+=Yt.adj43[gt],ee+=Yt.adj43[Oe],pt[vt++]=0|Re,pt[vt++]=0|ee}}function me(ct,Tt,kt,ht,pt){var vt,Vt,Re=0,ee,pe=0,at=0,gt=0,Oe=Tt,wt=0,$t=Oe,te=0,re=ct,fe=0;for(ee=pt!=null&&ht.global_gain==pt.global_gain,ht.block_type==F.SHORT_TYPE?Vt=38:Vt=21,vt=0;vt<=Vt;vt++){var Je=-1;if((ee||ht.block_type==F.NORM_TYPE)&&(Je=ht.global_gain-(ht.scalefac[vt]+(ht.preflag!=0?Yt.pretab[vt]:0)<<ht.scalefac_scale+1)-ht.subblock_gain[ht.window[vt]]*8),Ps(ht.width[vt]>=0),ee&&pt.step[vt]==Je)pe!=0&&(De(pe,kt,re,fe,$t,te),pe=0),at!=0&&(Se(at,kt,re,fe,$t,te),at=0);else{var ze=ht.width[vt];if(Re+ht.width[vt]>ht.max_nonzero_coeff){var Me;Me=ht.max_nonzero_coeff-Re+1,_r.fill(Tt,ht.max_nonzero_coeff,576,0),ze=Me,ze<0&&(ze=0),vt=Vt+1}if(pe==0&&at==0&&($t=Oe,te=wt,re=ct,fe=gt),pt!=null&&pt.sfb_count1>0&&vt>=pt.sfb_count1&&pt.step[vt]>0&&Je>=pt.step[vt]?(pe!=0&&(De(pe,kt,re,fe,$t,te),pe=0,$t=Oe,te=wt,re=ct,fe=gt),at+=ze):(at!=0&&(Se(at,kt,re,fe,$t,te),at=0,$t=Oe,te=wt,re=ct,fe=gt),pe+=ze),ze<=0){at!=0&&(Se(at,kt,re,fe,$t,te),at=0),pe!=0&&(De(pe,kt,re,fe,$t,te),pe=0);break}}vt<=Vt&&(wt+=ht.width[vt],gt+=ht.width[vt],Re+=ht.width[vt])}pe!=0&&(De(pe,kt,re,fe,$t,te),pe=0),at!=0&&(Se(at,kt,re,fe,$t,te),at=0)}function _e(ct,Tt,kt){var ht=0,pt=0;do{var vt=ct[Tt++],Vt=ct[Tt++];ht<vt&&(ht=vt),pt<Vt&&(pt=Vt)}while(Tt<kt);return ht<pt&&(ht=pt),ht}function ui(ct,Tt,kt,ht,pt,vt){var Vt=Jt.ht[ht].xlen*65536+Jt.ht[pt].xlen,Re=0,ee;do{var pe=ct[Tt++],at=ct[Tt++];pe!=0&&(pe>14&&(pe=15,Re+=Vt),pe*=16),at!=0&&(at>14&&(at=15,Re+=Vt),pe+=at),Re+=Jt.largetbl[pe]}while(Tt<kt);return ee=Re&65535,Re>>=16,Re>ee&&(Re=ee,ht=pt),vt.bits+=Re,ht}function ai(ct,Tt,kt,ht){var pt=0,vt=Jt.ht[1].hlen;do{var Vt=ct[Tt+0]*2+ct[Tt+1];Tt+=2,pt+=vt[Vt]}while(Tt<kt);return ht.bits+=pt,1}function se(ct,Tt,kt,ht,pt){var vt=0,Vt,Re=Jt.ht[ht].xlen,ee;ht==2?ee=Jt.table23:ee=Jt.table56;do{var pe=ct[Tt+0]*Re+ct[Tt+1];Tt+=2,vt+=ee[pe]}while(Tt<kt);return Vt=vt&65535,vt>>=16,vt>Vt&&(vt=Vt,ht++),pt.bits+=vt,ht}function Ue(ct,Tt,kt,ht,pt){var vt=0,Vt=0,Re=0,ee=Jt.ht[ht].xlen,pe=Jt.ht[ht].hlen,at=Jt.ht[ht+1].hlen,gt=Jt.ht[ht+2].hlen;do{var Oe=ct[Tt+0]*ee+ct[Tt+1];Tt+=2,vt+=pe[Oe],Vt+=at[Oe],Re+=gt[Oe]}while(Tt<kt);var wt=ht;return vt>Vt&&(vt=Vt,wt++),vt>Re&&(vt=Re,wt=ht+2),pt.bits+=vt,wt}var Gt=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function Wt(ct,Tt,kt,ht){var pt=_e(ct,Tt,kt);switch(pt){case 0:return pt;case 1:return ai(ct,Tt,kt,ht);case 2:case 3:return se(ct,Tt,kt,Gt[pt-1],ht);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return Ue(ct,Tt,kt,Gt[pt-1],ht);default:if(pt>Pi.IXMAX_VAL)return ht.bits=Pi.LARGE_BITS,-1;pt-=15;var vt;for(vt=24;vt<32&&!(Jt.ht[vt].linmax>=pt);vt++);var Vt;for(Vt=vt-8;Vt<24&&!(Jt.ht[Vt].linmax>=pt);Vt++);return ui(ct,Tt,kt,Vt,vt,ht)}}this.noquant_count_bits=function(ct,Tt,kt){var ht=Tt.l3_enc,pt=Math.min(576,Tt.max_nonzero_coeff+2>>1<<1);for(kt!=null&&(kt.sfb_count1=0);pt>1&&!(ht[pt-1]|ht[pt-2]);pt-=2);Tt.count1=pt;for(var vt=0,Vt=0;pt>3;pt-=4){var Re;if(((ht[pt-1]|ht[pt-2]|ht[pt-3]|ht[pt-4])&2147483647)>1)break;Re=((ht[pt-4]*2+ht[pt-3])*2+ht[pt-2])*2+ht[pt-1],vt+=Jt.t32l[Re],Vt+=Jt.t33l[Re]}var ee=vt;if(Tt.count1table_select=0,vt>Vt&&(ee=Vt,Tt.count1table_select=1),Tt.count1bits=ee,Tt.big_values=pt,pt==0)return ee;if(Tt.block_type==F.SHORT_TYPE)vt=3*ct.scalefac_band.s[3],vt>Tt.big_values&&(vt=Tt.big_values),Vt=Tt.big_values;else if(Tt.block_type==F.NORM_TYPE){if(vt=Tt.region0_count=ct.bv_scf[pt-2],Vt=Tt.region1_count=ct.bv_scf[pt-1],Vt=ct.scalefac_band.l[vt+Vt+2],vt=ct.scalefac_band.l[vt+1],Vt<pt){var pe=new ge(ee);Tt.table_select[2]=Wt(ht,Vt,pt,pe),ee=pe.bits}}else Tt.region0_count=7,Tt.region1_count=F.SBMAX_l-1-7-1,vt=ct.scalefac_band.l[8],Vt=pt,vt>Vt&&(vt=Vt);if(vt=Math.min(vt,pt),Vt=Math.min(Vt,pt),0<vt){var pe=new ge(ee);Tt.table_select[0]=Wt(ht,0,vt,pe),ee=pe.bits}if(vt<Vt){var pe=new ge(ee);Tt.table_select[1]=Wt(ht,vt,Vt,pe),ee=pe.bits}if(ct.use_best_huffman==2&&(Tt.part2_3_length=ee,best_huffman_divide(ct,Tt),ee=Tt.part2_3_length),kt!=null&&Tt.block_type==F.NORM_TYPE){for(var at=0;ct.scalefac_band.l[at]<Tt.big_values;)at++;kt.sfb_count1=at}return ee},this.count_bits=function(ct,Tt,kt,ht){var pt=kt.l3_enc,vt=Pi.IXMAX_VAL/Yt.IPOW20(kt.global_gain);if(kt.xrpow_max>vt)return Pi.LARGE_BITS;if(me(Tt,pt,Yt.IPOW20(kt.global_gain),kt,ht),ct.substep_shaping&2)for(var Vt=0,Re=kt.global_gain+kt.scalefac_scale,ee=.634521682242439/Yt.IPOW20(Re),pe=0;pe<kt.sfbmax;pe++){var at=kt.width[pe];if(ct.pseudohalf[pe]==0)Vt+=at;else{var gt;for(gt=Vt,Vt+=at;gt<Vt;++gt)pt[gt]=Tt[gt]>=ee?pt[gt]:0}}return this.noquant_count_bits(ct,kt,ht)};function Qt(ct,Tt,kt,ht,pt,vt,Vt){for(var Re=Tt.big_values,ee=0;ee<=22;ee++)ht[ee]=Pi.LARGE_BITS;for(var ee=0;ee<16;ee++){var pe=ct.scalefac_band.l[ee+1];if(pe>=Re)break;var at=0,gt=new ge(at),Oe=Wt(kt,0,pe,gt);at=gt.bits;for(var wt=0;wt<8;wt++){var $t=ct.scalefac_band.l[ee+wt+2];if($t>=Re)break;var te=at;gt=new ge(te);var re=Wt(kt,pe,$t,gt);te=gt.bits,ht[ee+wt]>te&&(ht[ee+wt]=te,pt[ee+wt]=ee,vt[ee+wt]=Oe,Vt[ee+wt]=re)}}}function J(ct,Tt,kt,ht,pt,vt,Vt,Re){for(var ee=Tt.big_values,pe=2;pe<F.SBMAX_l+1;pe++){var at=ct.scalefac_band.l[pe];if(at>=ee)break;var gt=pt[pe-2]+Tt.count1bits;if(kt.part2_3_length<=gt)break;var Oe=new ge(gt),wt=Wt(ht,at,ee,Oe);gt=Oe.bits,!(kt.part2_3_length<=gt)&&(kt.assign(Tt),kt.part2_3_length=gt,kt.region0_count=vt[pe-2],kt.region1_count=pe-2-vt[pe-2],kt.table_select[0]=Vt[pe-2],kt.table_select[1]=Re[pe-2],kt.table_select[2]=wt)}}this.best_huffman_divide=function(ct,Tt){var kt=new Ci,ht=Tt.l3_enc,pt=an(23),vt=an(23),Vt=an(23),Re=an(23);if(!(Tt.block_type==F.SHORT_TYPE&&ct.mode_gr==1)){kt.assign(Tt),Tt.block_type==F.NORM_TYPE&&(Qt(ct,Tt,ht,pt,vt,Vt,Re),J(ct,kt,Tt,ht,pt,vt,Vt,Re));var ee=kt.big_values;if(!(ee==0||(ht[ee-2]|ht[ee-1])>1)&&(ee=Tt.count1+2,!(ee>576))){kt.assign(Tt),kt.count1=ee;for(var pe=0,at=0;ee>kt.big_values;ee-=4){var gt=((ht[ee-4]*2+ht[ee-3])*2+ht[ee-2])*2+ht[ee-1];pe+=Jt.t32l[gt],at+=Jt.t33l[gt]}if(kt.big_values=ee,kt.count1table_select=0,pe>at&&(pe=at,kt.count1table_select=1),kt.count1bits=pe,kt.block_type==F.NORM_TYPE)J(ct,kt,Tt,ht,pt,vt,Vt,Re);else{if(kt.part2_3_length=pe,pe=ct.scalefac_band.l[8],pe>ee&&(pe=ee),pe>0){var Oe=new ge(kt.part2_3_length);kt.table_select[0]=Wt(ht,0,pe,Oe),kt.part2_3_length=Oe.bits}if(ee>pe){var Oe=new ge(kt.part2_3_length);kt.table_select[1]=Wt(ht,pe,ee,Oe),kt.part2_3_length=Oe.bits}Tt.part2_3_length>kt.part2_3_length&&Tt.assign(kt)}}}};var ae=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],ne=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],Zt=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],lt=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];Mc.slen1_tab=Zt,Mc.slen2_tab=lt;function Pt(ct,Tt){for(var kt,ht=Tt.tt[1][ct],pt=Tt.tt[0][ct],vt=0;vt<Jt.scfsi_band.length-1;vt++){for(kt=Jt.scfsi_band[vt];kt<Jt.scfsi_band[vt+1]&&!(pt.scalefac[kt]!=ht.scalefac[kt]&&ht.scalefac[kt]>=0);kt++);if(kt==Jt.scfsi_band[vt+1]){for(kt=Jt.scfsi_band[vt];kt<Jt.scfsi_band[vt+1];kt++)ht.scalefac[kt]=-1;Tt.scfsi[ct][vt]=1}}var Vt=0,Re=0;for(kt=0;kt<11;kt++)ht.scalefac[kt]!=-1&&(Re++,Vt<ht.scalefac[kt]&&(Vt=ht.scalefac[kt]));for(var ee=0,pe=0;kt<F.SBPSY_l;kt++)ht.scalefac[kt]!=-1&&(pe++,ee<ht.scalefac[kt]&&(ee=ht.scalefac[kt]));for(var vt=0;vt<16;vt++)if(Vt<ae[vt]&&ee<ne[vt]){var at=Zt[vt]*Re+lt[vt]*pe;ht.part2_length>at&&(ht.part2_length=at,ht.scalefac_compress=vt)}}this.best_scalefac_store=function(ct,Tt,kt,ht){var pt=ht.tt[Tt][kt],vt,Vt,Re,ee,pe=0;for(Re=0,vt=0;vt<pt.sfbmax;vt++){var at=pt.width[vt];for(Re+=at,ee=-at;ee<0&&pt.l3_enc[ee+Re]==0;ee++);ee==0&&(pt.scalefac[vt]=pe=-2)}if(pt.scalefac_scale==0&&pt.preflag==0){var gt=0;for(vt=0;vt<pt.sfbmax;vt++)pt.scalefac[vt]>0&&(gt|=pt.scalefac[vt]);if(!(gt&1)&&gt!=0){for(vt=0;vt<pt.sfbmax;vt++)pt.scalefac[vt]>0&&(pt.scalefac[vt]>>=1);pt.scalefac_scale=pe=1}}if(pt.preflag==0&&pt.block_type!=F.SHORT_TYPE&&ct.mode_gr==2){for(vt=11;vt<F.SBPSY_l&&!(pt.scalefac[vt]<Yt.pretab[vt]&&pt.scalefac[vt]!=-2);vt++);if(vt==F.SBPSY_l){for(vt=11;vt<F.SBPSY_l;vt++)pt.scalefac[vt]>0&&(pt.scalefac[vt]-=Yt.pretab[vt]);pt.preflag=pe=1}}for(Vt=0;Vt<4;Vt++)ht.scfsi[kt][Vt]=0;for(ct.mode_gr==2&&Tt==1&&ht.tt[0][kt].block_type!=F.SHORT_TYPE&&ht.tt[1][kt].block_type!=F.SHORT_TYPE&&(Pt(kt,ht),pe=0),vt=0;vt<pt.sfbmax;vt++)pt.scalefac[vt]==-2&&(pt.scalefac[vt]=0);pe!=0&&(ct.mode_gr==2?this.scale_bitcount(pt):this.scale_bitcount_lsf(ct,pt))};function zt(ct,Tt){for(var kt=0;kt<Tt;++kt)if(ct[kt]<0)return!1;return!0}var Ut=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],Ht=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],nt=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(ct){var Tt,kt,ht=0,pt=0,vt,Vt=ct.scalefac;if(Ps(zt(Vt,ct.sfbmax)),ct.block_type==F.SHORT_TYPE)vt=Ut,ct.mixed_block_flag!=0&&(vt=Ht);else if(vt=nt,ct.preflag==0){for(kt=11;kt<F.SBPSY_l&&!(Vt[kt]<Yt.pretab[kt]);kt++);if(kt==F.SBPSY_l)for(ct.preflag=1,kt=11;kt<F.SBPSY_l;kt++)Vt[kt]-=Yt.pretab[kt]}for(kt=0;kt<ct.sfbdivide;kt++)ht<Vt[kt]&&(ht=Vt[kt]);for(;kt<ct.sfbmax;kt++)pt<Vt[kt]&&(pt=Vt[kt]);for(ct.part2_length=Pi.LARGE_BITS,Tt=0;Tt<16;Tt++)ht<ae[Tt]&&pt<ne[Tt]&&ct.part2_length>vt[Tt]&&(ct.part2_length=vt[Tt],ct.scalefac_compress=Tt);return ct.part2_length==Pi.LARGE_BITS};var It=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(ct,Tt){var kt,ht,pt,vt,Vt,Re,ee,pe,at=an(4),gt=Tt.scalefac;for(Tt.preflag!=0?kt=2:kt=0,ee=0;ee<4;ee++)at[ee]=0;if(Tt.block_type==F.SHORT_TYPE){ht=1;var Oe=Yt.nr_of_sfb_block[kt][ht];for(pe=0,pt=0;pt<4;pt++)for(vt=Oe[pt]/3,ee=0;ee<vt;ee++,pe++)for(Vt=0;Vt<3;Vt++)gt[pe*3+Vt]>at[pt]&&(at[pt]=gt[pe*3+Vt])}else{ht=0;var Oe=Yt.nr_of_sfb_block[kt][ht];for(pe=0,pt=0;pt<4;pt++)for(vt=Oe[pt],ee=0;ee<vt;ee++,pe++)gt[pe]>at[pt]&&(at[pt]=gt[pe])}for(Re=!1,pt=0;pt<4;pt++)at[pt]>It[kt][pt]&&(Re=!0);if(!Re){var wt,$t,te,re;for(Tt.sfb_partition_table=Yt.nr_of_sfb_block[kt][ht],pt=0;pt<4;pt++)Tt.slen[pt]=bt[at[pt]];switch(wt=Tt.slen[0],$t=Tt.slen[1],te=Tt.slen[2],re=Tt.slen[3],kt){case 0:Tt.scalefac_compress=(wt*5+$t<<4)+(te<<2)+re;break;case 1:Tt.scalefac_compress=400+(wt*5+$t<<2)+te;break;case 2:Tt.scalefac_compress=500+wt*3+$t;break;default:Or.err.printf(`intensity stereo not implemented yet
`);break}}if(!Re)for(Ps(Tt.sfb_partition_table!=null),Tt.part2_length=0,pt=0;pt<4;pt++)Tt.part2_length+=Tt.slen[pt]*Tt.sfb_partition_table[pt];return Re};var bt=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(ct){for(var Tt=2;Tt<=576;Tt+=2){for(var kt=0,ht;ct.scalefac_band.l[++kt]<Tt;);for(ht=be[kt][0];ct.scalefac_band.l[ht+1]>Tt;)ht--;for(ht<0&&(ht=be[kt][0]),ct.bv_scf[Tt-2]=ht,ht=be[kt][1];ct.scalefac_band.l[ht+ct.bv_scf[Tt-2]+2]>Tt;)ht--;ht<0&&(ht=be[kt][1]),ct.bv_scf[Tt-1]=ht}}}var ul=Mc,zs=v.System,Tp=v.Arrays,vg=v.new_byte,ca=v.new_float_n,Eh=v.new_int,Bn=v.assert;Dd.EQ=function(Yt,ge){return Math.abs(Yt)>Math.abs(ge)?Math.abs(Yt-ge)<=Math.abs(Yt)*1e-6:Math.abs(Yt-ge)<=Math.abs(ge)*1e-6},Dd.NEQ=function(Yt,ge){return!Dd.EQ(Yt,ge)};function Dd(){var Yt=this,ge=32773,be=null,Se=null,De=null,me=null;this.setModules=function(It,bt,ct,Tt){be=It,Se=bt,De=ct,me=Tt};var _e=null,ui=0,ai=0,se=0;this.getframebits=function(It){var bt=It.internal_flags,ct;bt.bitrate_index!=0?ct=Jt.bitrate_table[It.version][bt.bitrate_index]:ct=It.brate;var Tt=0|(It.version+1)*72e3*ct/It.out_samplerate+bt.padding;return 8*Tt};function Ue(It){zs.arraycopy(It.header[It.w_ptr].buf,0,_e,ai,It.sideinfo_len),ai+=It.sideinfo_len,ui+=It.sideinfo_len*8,It.w_ptr=It.w_ptr+1&Ar.MAX_HEADER_BUF-1}function Gt(It,bt,ct){for(;ct>0;){var Tt;se==0&&(se=8,ai++,Bn(It.header[It.w_ptr].write_timing>=ui),It.header[It.w_ptr].write_timing==ui&&Ue(It),_e[ai]=0),Tt=Math.min(ct,se),ct-=Tt,se-=Tt,_e[ai]|=bt>>ct<<se,ui+=Tt}}function Wt(It,bt,ct){for(;ct>0;){var Tt;se==0&&(se=8,ai++,_e[ai]=0),Tt=Math.min(ct,se),ct-=Tt,se-=Tt,_e[ai]|=bt>>ct<<se,ui+=Tt}}function Qt(It,bt){var ct=It.internal_flags,Tt;if(bt>=8&&(Gt(ct,76,8),bt-=8),bt>=8&&(Gt(ct,65,8),bt-=8),bt>=8&&(Gt(ct,77,8),bt-=8),bt>=8&&(Gt(ct,69,8),bt-=8),bt>=32){var kt=De.getLameShortVersion();if(bt>=32)for(Tt=0;Tt<kt.length&&bt>=8;++Tt)bt-=8,Gt(ct,kt.charAt(Tt),8)}for(;bt>=1;bt-=1)Gt(ct,ct.ancillary_flag,1),ct.ancillary_flag^=It.disable_reservoir?0:1}function J(It,bt,ct){for(var Tt=It.header[It.h_ptr].ptr;ct>0;){var kt=Math.min(ct,8-(Tt&7));ct-=kt,It.header[It.h_ptr].buf[Tt>>3]|=bt>>ct<<8-(Tt&7)-kt,Tt+=kt}It.header[It.h_ptr].ptr=Tt}function ae(It,bt){It<<=8;for(var ct=0;ct<8;ct++)It<<=1,bt<<=1,(bt^It)&65536&&(bt^=ge);return bt}this.CRC_writeheader=function(It,bt){var ct=65535;ct=ae(bt[2]&255,ct),ct=ae(bt[3]&255,ct);for(var Tt=6;Tt<It.sideinfo_len;Tt++)ct=ae(bt[Tt]&255,ct);bt[4]=byte(ct>>8),bt[5]=byte(ct&255)};function ne(It,bt){var ct=It.internal_flags,Tt,kt,ht;if(Tt=ct.l3_side,ct.header[ct.h_ptr].ptr=0,Tp.fill(ct.header[ct.h_ptr].buf,0,ct.sideinfo_len,0),It.out_samplerate<16e3?J(ct,4094,12):J(ct,4095,12),J(ct,It.version,1),J(ct,1,2),J(ct,It.error_protection?0:1,1),J(ct,ct.bitrate_index,4),J(ct,ct.samplerate_index,2),J(ct,ct.padding,1),J(ct,It.extension,1),J(ct,It.mode.ordinal(),2),J(ct,ct.mode_ext,2),J(ct,It.copyright,1),J(ct,It.original,1),J(ct,It.emphasis,2),It.error_protection&&J(ct,0,16),It.version==1){for(Bn(Tt.main_data_begin>=0),J(ct,Tt.main_data_begin,9),ct.channels_out==2?J(ct,Tt.private_bits,3):J(ct,Tt.private_bits,5),ht=0;ht<ct.channels_out;ht++){var pt;for(pt=0;pt<4;pt++)J(ct,Tt.scfsi[ht][pt],1)}for(kt=0;kt<2;kt++)for(ht=0;ht<ct.channels_out;ht++){var vt=Tt.tt[kt][ht];J(ct,vt.part2_3_length+vt.part2_length,12),J(ct,vt.big_values/2,9),J(ct,vt.global_gain,8),J(ct,vt.scalefac_compress,4),vt.block_type!=F.NORM_TYPE?(J(ct,1,1),J(ct,vt.block_type,2),J(ct,vt.mixed_block_flag,1),vt.table_select[0]==14&&(vt.table_select[0]=16),J(ct,vt.table_select[0],5),vt.table_select[1]==14&&(vt.table_select[1]=16),J(ct,vt.table_select[1],5),J(ct,vt.subblock_gain[0],3),J(ct,vt.subblock_gain[1],3),J(ct,vt.subblock_gain[2],3)):(J(ct,0,1),vt.table_select[0]==14&&(vt.table_select[0]=16),J(ct,vt.table_select[0],5),vt.table_select[1]==14&&(vt.table_select[1]=16),J(ct,vt.table_select[1],5),vt.table_select[2]==14&&(vt.table_select[2]=16),J(ct,vt.table_select[2],5),Bn(0<=vt.region0_count&&vt.region0_count<16),Bn(0<=vt.region1_count&&vt.region1_count<8),J(ct,vt.region0_count,4),J(ct,vt.region1_count,3)),J(ct,vt.preflag,1),J(ct,vt.scalefac_scale,1),J(ct,vt.count1table_select,1)}}else for(Bn(Tt.main_data_begin>=0),J(ct,Tt.main_data_begin,8),J(ct,Tt.private_bits,ct.channels_out),kt=0,ht=0;ht<ct.channels_out;ht++){var vt=Tt.tt[kt][ht];J(ct,vt.part2_3_length+vt.part2_length,12),J(ct,vt.big_values/2,9),J(ct,vt.global_gain,8),J(ct,vt.scalefac_compress,9),vt.block_type!=F.NORM_TYPE?(J(ct,1,1),J(ct,vt.block_type,2),J(ct,vt.mixed_block_flag,1),vt.table_select[0]==14&&(vt.table_select[0]=16),J(ct,vt.table_select[0],5),vt.table_select[1]==14&&(vt.table_select[1]=16),J(ct,vt.table_select[1],5),J(ct,vt.subblock_gain[0],3),J(ct,vt.subblock_gain[1],3),J(ct,vt.subblock_gain[2],3)):(J(ct,0,1),vt.table_select[0]==14&&(vt.table_select[0]=16),J(ct,vt.table_select[0],5),vt.table_select[1]==14&&(vt.table_select[1]=16),J(ct,vt.table_select[1],5),vt.table_select[2]==14&&(vt.table_select[2]=16),J(ct,vt.table_select[2],5),Bn(0<=vt.region0_count&&vt.region0_count<16),Bn(0<=vt.region1_count&&vt.region1_count<8),J(ct,vt.region0_count,4),J(ct,vt.region1_count,3)),J(ct,vt.scalefac_scale,1),J(ct,vt.count1table_select,1)}It.error_protection&&CRC_writeheader(ct,ct.header[ct.h_ptr].buf);{var Vt=ct.h_ptr;Bn(ct.header[Vt].ptr==ct.sideinfo_len*8),ct.h_ptr=Vt+1&Ar.MAX_HEADER_BUF-1,ct.header[ct.h_ptr].write_timing=ct.header[Vt].write_timing+bt,ct.h_ptr==ct.w_ptr&&zs.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function Zt(It,bt){var ct=Jt.ht[bt.count1table_select+32],Tt,kt=0,ht=bt.big_values,pt=bt.big_values;for(Bn(bt.count1table_select<2),Tt=(bt.count1-bt.big_values)/4;Tt>0;--Tt){var vt=0,Vt=0,Re;Re=bt.l3_enc[ht+0],Re!=0&&(Vt+=8,bt.xr[pt+0]<0&&vt++),Re=bt.l3_enc[ht+1],Re!=0&&(Vt+=4,vt*=2,bt.xr[pt+1]<0&&vt++),Re=bt.l3_enc[ht+2],Re!=0&&(Vt+=2,vt*=2,bt.xr[pt+2]<0&&vt++),Re=bt.l3_enc[ht+3],Re!=0&&(Vt++,vt*=2,bt.xr[pt+3]<0&&vt++),ht+=4,pt+=4,Gt(It,vt+ct.table[Vt],ct.hlen[Vt]),kt+=ct.hlen[Vt]}return kt}function lt(It,bt,ct,Tt,kt){var ht=Jt.ht[bt],pt=0;if(bt==0)return pt;for(var vt=ct;vt<Tt;vt+=2){var Vt=0,Re=0,ee=ht.xlen,pe=ht.xlen,at=0,gt=kt.l3_enc[vt],Oe=kt.l3_enc[vt+1];if(gt!=0&&(kt.xr[vt]<0&&at++,Vt--),bt>15){if(gt>14){var wt=gt-15;Bn(wt<=ht.linmax),at|=wt<<1,Re=ee,gt=15}if(Oe>14){var $t=Oe-15;Bn($t<=ht.linmax),at<<=ee,at|=$t,Re+=ee,Oe=15}pe=16}Oe!=0&&(at<<=1,kt.xr[vt+1]<0&&at++,Vt--),gt=gt*pe+Oe,Re-=Vt,Vt+=ht.hlen[gt],Gt(It,ht.table[gt],Vt),Gt(It,at,Re),pt+=Vt+Re}return pt}function Pt(It,bt){var ct=3*It.scalefac_band.s[3];ct>bt.big_values&&(ct=bt.big_values);var Tt=lt(It,bt.table_select[0],0,ct,bt);return Tt+=lt(It,bt.table_select[1],ct,bt.big_values,bt),Tt}function zt(It,bt){var ct,Tt,kt,ht;ct=bt.big_values;var pt=bt.region0_count+1;return Bn(pt<It.scalefac_band.l.length),kt=It.scalefac_band.l[pt],pt+=bt.region1_count+1,Bn(pt<It.scalefac_band.l.length),ht=It.scalefac_band.l[pt],kt>ct&&(kt=ct),ht>ct&&(ht=ct),Tt=lt(It,bt.table_select[0],0,kt,bt),Tt+=lt(It,bt.table_select[1],kt,ht,bt),Tt+=lt(It,bt.table_select[2],ht,ct,bt),Tt}function Ut(It){var bt,ct,Tt,kt,ht=0,pt=It.internal_flags,vt=pt.l3_side;if(It.version==1)for(bt=0;bt<2;bt++)for(ct=0;ct<pt.channels_out;ct++){var Vt=vt.tt[bt][ct],Re=ul.slen1_tab[Vt.scalefac_compress],ee=ul.slen2_tab[Vt.scalefac_compress];for(kt=0,Tt=0;Tt<Vt.sfbdivide;Tt++)Vt.scalefac[Tt]!=-1&&(Gt(pt,Vt.scalefac[Tt],Re),kt+=Re);for(;Tt<Vt.sfbmax;Tt++)Vt.scalefac[Tt]!=-1&&(Gt(pt,Vt.scalefac[Tt],ee),kt+=ee);Bn(kt==Vt.part2_length),Vt.block_type==F.SHORT_TYPE?kt+=Pt(pt,Vt):kt+=zt(pt,Vt),kt+=Zt(pt,Vt),Bn(kt==Vt.part2_3_length+Vt.part2_length),ht+=kt}else for(bt=0,ct=0;ct<pt.channels_out;ct++){var Vt=vt.tt[bt][ct],pe,at,gt=0;if(Bn(Vt.sfb_partition_table!=null),kt=0,Tt=0,at=0,Vt.block_type==F.SHORT_TYPE){for(;at<4;at++){var Oe=Vt.sfb_partition_table[at]/3,wt=Vt.slen[at];for(pe=0;pe<Oe;pe++,Tt++)Gt(pt,Math.max(Vt.scalefac[Tt*3+0],0),wt),Gt(pt,Math.max(Vt.scalefac[Tt*3+1],0),wt),Gt(pt,Math.max(Vt.scalefac[Tt*3+2],0),wt),gt+=3*wt}kt+=Pt(pt,Vt)}else{for(;at<4;at++){var Oe=Vt.sfb_partition_table[at],wt=Vt.slen[at];for(pe=0;pe<Oe;pe++,Tt++)Gt(pt,Math.max(Vt.scalefac[Tt],0),wt),gt+=wt}kt+=zt(pt,Vt)}kt+=Zt(pt,Vt),Bn(kt==Vt.part2_3_length),Bn(gt==Vt.part2_length),ht+=gt+kt}return ht}function Ht(){this.total=0}function nt(It,bt){var ct=It.internal_flags,Tt,kt,ht,pt,vt;return vt=ct.w_ptr,pt=ct.h_ptr-1,pt==-1&&(pt=Ar.MAX_HEADER_BUF-1),Tt=ct.header[pt].write_timing-ui,bt.total=Tt,Tt>=0&&(kt=1+pt-vt,pt<vt&&(kt=1+pt-vt+Ar.MAX_HEADER_BUF),Tt-=kt*8*ct.sideinfo_len),ht=Yt.getframebits(It),Tt+=ht,bt.total+=ht,bt.total%8!=0?bt.total=1+bt.total/8:bt.total=bt.total/8,bt.total+=ai+1,Tt<0&&zs.err.println(`strange error flushing buffer ... 
`),Tt}this.flush_bitstream=function(It){var bt=It.internal_flags,ct,Tt,kt=bt.h_ptr-1;if(kt==-1&&(kt=Ar.MAX_HEADER_BUF-1),ct=bt.l3_side,!((Tt=nt(It,new Ht))<0)){if(Qt(It,Tt),Bn(bt.header[kt].write_timing+this.getframebits(It)==ui),bt.ResvSize=0,ct.main_data_begin=0,bt.findReplayGain){var ht=be.GetTitleGain(bt.rgdata);Bn(NEQ(ht,H.GAIN_NOT_ENOUGH_SAMPLES)),bt.RadioGain=Math.floor(ht*10+.5)|0}bt.findPeakSample&&(bt.noclipGainChange=Math.ceil(Math.log10(bt.PeakSample/32767)*20*10)|0,bt.noclipGainChange>0&&(EQ(It.scale,1)||EQ(It.scale,0))?bt.noclipScale=Math.floor(32767/bt.PeakSample*100)/100:bt.noclipScale=-1)}},this.add_dummy_byte=function(It,bt,ct){for(var Tt=It.internal_flags,kt;ct-- >0;)for(Wt(Tt,bt,8),kt=0;kt<Ar.MAX_HEADER_BUF;++kt)Tt.header[kt].write_timing+=8},this.format_bitstream=function(It){var bt=It.internal_flags,ct;ct=bt.l3_side;var Tt=this.getframebits(It);Qt(It,ct.resvDrain_pre),ne(It,Tt);var kt=8*bt.sideinfo_len;if(kt+=Ut(It),Qt(It,ct.resvDrain_post),kt+=ct.resvDrain_post,ct.main_data_begin+=(Tt-kt)/8,nt(It,new Ht)!=bt.ResvSize&&zs.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),ct.main_data_begin*8!=bt.ResvSize&&(zs.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*ct.main_data_begin,bt.ResvSize,ct.resvDrain_post,ct.resvDrain_pre,8*bt.sideinfo_len,kt-ct.resvDrain_post-8*bt.sideinfo_len,kt,kt%8,Tt),zs.err.println("This is a fatal error.  It has several possible causes:"),zs.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),zs.err.println(" 9%%  Your system is overclocked"),zs.err.println(" 1%%  bug in LAME encoding library"),bt.ResvSize=ct.main_data_begin*8),ui>1e9){var ht;for(ht=0;ht<Ar.MAX_HEADER_BUF;++ht)bt.header[ht].write_timing-=ui;ui=0}return 0},this.copy_buffer=function(It,bt,ct,Tt,kt){var ht=ai+1;if(ht<=0)return 0;if(Tt!=0&&ht>Tt)return-1;if(zs.arraycopy(_e,0,bt,ct,ht),ai=-1,se=0,kt!=0){var pt=Eh(1);if(pt[0]=It.nMusicCRC,me.updateMusicCRC(pt,bt,ct,ht),It.nMusicCRC=pt[0],ht>0&&(It.VBR_seek_table.nBytesWritten+=ht),It.decode_on_the_fly){for(var vt=ca([2,1152]),Vt=ht,Re=-1,ee;Re!=0;)if(Re=Se.hip_decode1_unclipped(It.hip,bt,ct,Vt,vt[0],vt[1]),Vt=0,Re==-1&&(Re=0),Re>0){if(It.findPeakSample){for(ee=0;ee<Re;ee++)vt[0][ee]>It.PeakSample?It.PeakSample=vt[0][ee]:-vt[0][ee]>It.PeakSample&&(It.PeakSample=-vt[0][ee]);if(It.channels_out>1)for(ee=0;ee<Re;ee++)vt[1][ee]>It.PeakSample?It.PeakSample=vt[1][ee]:-vt[1][ee]>It.PeakSample&&(It.PeakSample=-vt[1][ee])}if(It.findReplayGain&&be.AnalyzeSamples(It.rgdata,vt[0],0,vt[1],0,Re,It.channels_out)==H.GAIN_ANALYSIS_ERROR)return-6}}}return ht},this.init_bit_stream_w=function(It){_e=vg(rn.LAME_MAXMP3BUFFER),It.h_ptr=It.w_ptr=0,It.header[It.h_ptr].write_timing=0,ai=-1,se=0,ui=0}}var Ql=Dd,Cp=v.System,en=v.VbrMode,kh=v.ShortBlock,Kl=v.new_float,Ga=v.new_int_n,mg=v.new_short_n,Ha=v.assert;function is(){var Yt=this,ge=128*1024;is.V9=410,is.V8=420,is.V7=430,is.V6=440,is.V5=450,is.V4=460,is.V3=470,is.V2=480,is.V1=490,is.V0=500,is.R3MIX=1e3,is.STANDARD=1001,is.EXTREME=1002,is.INSANE=1003,is.STANDARD_FAST=1004,is.EXTREME_FAST=1005,is.MEDIUM=1006,is.MEDIUM_FAST=1007;var be=16384+ge;is.LAME_MAXMP3BUFFER=be;var Se,De,me,_e,ui,ai=new At,se,Ue,Gt;this.enc=new F,this.setModules=function(at,gt,Oe,wt,$t,te,re,fe,Je){Se=at,De=gt,me=Oe,_e=wt,ui=$t,se=te,Ue=fe,Gt=Je,this.enc.setModules(De,ai,_e,se)};function Wt(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=Kl(F.SBMAX_l),this.bo_s_weight=Kl(F.SBMAX_s)}function Qt(){this.lowerlimit=0}function J(at,gt){this.lowpass=gt}var ae=4294479419;function ne(at){var gt;return at.class_id=ae,gt=at.internal_flags=new Ar,at.mode=Lt.NOT_SET,at.original=1,at.in_samplerate=44100,at.num_channels=2,at.num_samples=-1,at.bWriteVbrTag=!0,at.quality=-1,at.short_blocks=null,gt.subblock_gain=-1,at.lowpassfreq=0,at.highpassfreq=0,at.lowpasswidth=-1,at.highpasswidth=-1,at.VBR=en.vbr_off,at.VBR_q=4,at.ATHcurve=-1,at.VBR_mean_bitrate_kbps=128,at.VBR_min_bitrate_kbps=0,at.VBR_max_bitrate_kbps=0,at.VBR_hard_min=0,gt.VBR_min_bitrate=1,gt.VBR_max_bitrate=13,at.quant_comp=-1,at.quant_comp_short=-1,at.msfix=-1,gt.resample_ratio=1,gt.OldValue[0]=180,gt.OldValue[1]=180,gt.CurrentStep[0]=4,gt.CurrentStep[1]=4,gt.masking_lower=1,gt.nsPsy.attackthre=-1,gt.nsPsy.attackthre_s=-1,at.scale=-1,at.athaa_type=-1,at.ATHtype=-1,at.athaa_loudapprox=-1,at.athaa_sensitivity=0,at.useTemporal=null,at.interChRatio=-1,gt.mf_samples_to_encode=F.ENCDELAY+F.POSTDELAY,at.encoder_padding=0,gt.mf_size=F.ENCDELAY-F.MDCTDELAY,at.findReplayGain=!1,at.decode_on_the_fly=!1,gt.decode_on_the_fly=!1,gt.findReplayGain=!1,gt.findPeakSample=!1,gt.RadioGain=0,gt.AudiophileGain=0,gt.noclipGainChange=0,gt.noclipScale=-1,at.preset=0,at.write_id3tag_automatic=!0,0}this.lame_init=function(){var at=new xe;return ne(at),at.lame_allocated_gfp=1,at};function Zt(at){return at>1?0:at<=0?1:Math.cos(Math.PI/2*at)}this.nearestBitrateFullIndex=function(at){var gt=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],Oe=0,wt=0,$t=0,te=0;te=gt[16],$t=16,wt=gt[16],Oe=16;for(var re=0;re<16;re++)if(Math.max(at,gt[re+1])!=at){te=gt[re+1],$t=re+1,wt=gt[re],Oe=re;break}return te-at>at-wt?Oe:$t};function lt(at,gt){var Oe=44100;return gt>=48e3?Oe=48e3:gt>=44100?Oe=44100:gt>=32e3?Oe=32e3:gt>=24e3?Oe=24e3:gt>=22050?Oe=22050:gt>=16e3?Oe=16e3:gt>=12e3?Oe=12e3:gt>=11025?Oe=11025:gt>=8e3&&(Oe=8e3),at==-1?Oe:(at<=15960&&(Oe=44100),at<=15250&&(Oe=32e3),at<=11220&&(Oe=24e3),at<=9970&&(Oe=22050),at<=7230&&(Oe=16e3),at<=5420&&(Oe=12e3),at<=4510&&(Oe=11025),at<=3970&&(Oe=8e3),gt<Oe?gt>44100?48e3:gt>32e3?44100:gt>24e3?32e3:gt>22050?24e3:gt>16e3?22050:gt>12e3?16e3:gt>11025?12e3:gt>8e3?11025:8e3:Oe)}function Pt(at,gt){switch(at){case 44100:return gt.version=1,0;case 48e3:return gt.version=1,1;case 32e3:return gt.version=1,2;case 22050:return gt.version=0,0;case 24e3:return gt.version=0,1;case 16e3:return gt.version=0,2;case 11025:return gt.version=0,0;case 12e3:return gt.version=0,1;case 8e3:return gt.version=0,2;default:return gt.version=0,-1}}function zt(at,gt,Oe){Oe<16e3&&(gt=2);for(var wt=Jt.bitrate_table[gt][1],$t=2;$t<=14;$t++)Jt.bitrate_table[gt][$t]>0&&Math.abs(Jt.bitrate_table[gt][$t]-at)<Math.abs(wt-at)&&(wt=Jt.bitrate_table[gt][$t]);return wt}function Ut(at,gt,Oe){Oe<16e3&&(gt=2);for(var wt=0;wt<=14;wt++)if(Jt.bitrate_table[gt][wt]>0&&Jt.bitrate_table[gt][wt]==at)return wt;return-1}function Ht(at,gt){var Oe=[new J(8,2e3),new J(16,3700),new J(24,3900),new J(32,5500),new J(40,7e3),new J(48,7500),new J(56,1e4),new J(64,11e3),new J(80,13500),new J(96,15100),new J(112,15600),new J(128,17e3),new J(160,17500),new J(192,18600),new J(224,19400),new J(256,19700),new J(320,20500)],wt=Yt.nearestBitrateFullIndex(gt);at.lowerlimit=Oe[wt].lowpass}function nt(at){var gt=at.internal_flags,Oe=32,wt=-1;if(gt.lowpass1>0){for(var $t=999,te=0;te<=31;te++){var re=te/31;re>=gt.lowpass2&&(Oe=Math.min(Oe,te)),gt.lowpass1<re&&re<gt.lowpass2&&($t=Math.min($t,te))}$t==999?gt.lowpass1=(Oe-.75)/31:gt.lowpass1=($t-.75)/31,gt.lowpass2=Oe/31}if(gt.highpass2>0&&gt.highpass2<.9*(.75/31)&&(gt.highpass1=0,gt.highpass2=0,Cp.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),gt.highpass2>0){for(var fe=-1,te=0;te<=31;te++){var re=te/31;re<=gt.highpass1&&(wt=Math.max(wt,te)),gt.highpass1<re&&re<gt.highpass2&&(fe=Math.max(fe,te))}gt.highpass1=wt/31,fe==-1?gt.highpass2=(wt+.75)/31:gt.highpass2=(fe+.75)/31}for(var te=0;te<32;te++){var Je,ze,re=te/31;gt.highpass2>gt.highpass1?Je=Zt((gt.highpass2-re)/(gt.highpass2-gt.highpass1+1e-20)):Je=1,gt.lowpass2>gt.lowpass1?ze=Zt((re-gt.lowpass1)/(gt.lowpass2-gt.lowpass1+1e-20)):ze=1,gt.amp_filter[te]=Je*ze}}function It(at){var gt=at.internal_flags;switch(at.quality){default:case 9:gt.psymodel=0,gt.noise_shaping=0,gt.noise_shaping_amp=0,gt.noise_shaping_stop=0,gt.use_best_huffman=0,gt.full_outer_loop=0;break;case 8:at.quality=7;case 7:gt.psymodel=1,gt.noise_shaping=0,gt.noise_shaping_amp=0,gt.noise_shaping_stop=0,gt.use_best_huffman=0,gt.full_outer_loop=0;break;case 6:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.noise_shaping_amp=0,gt.noise_shaping_stop=0,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=0,gt.full_outer_loop=0;break;case 5:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.noise_shaping_amp=0,gt.noise_shaping_stop=0,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=0,gt.full_outer_loop=0;break;case 4:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.noise_shaping_amp=0,gt.noise_shaping_stop=0,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=1,gt.full_outer_loop=0;break;case 3:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.noise_shaping_amp=1,gt.noise_shaping_stop=1,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=1,gt.full_outer_loop=0;break;case 2:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.substep_shaping==0&&(gt.substep_shaping=2),gt.noise_shaping_amp=1,gt.noise_shaping_stop=1,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=1,gt.full_outer_loop=0;break;case 1:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.substep_shaping==0&&(gt.substep_shaping=2),gt.noise_shaping_amp=2,gt.noise_shaping_stop=1,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=1,gt.full_outer_loop=0;break;case 0:gt.psymodel=1,gt.noise_shaping==0&&(gt.noise_shaping=1),gt.substep_shaping==0&&(gt.substep_shaping=2),gt.noise_shaping_amp=2,gt.noise_shaping_stop=1,gt.subblock_gain==-1&&(gt.subblock_gain=1),gt.use_best_huffman=1,gt.full_outer_loop=0;break}}function bt(at){var gt=at.internal_flags;at.frameNum=0,at.write_id3tag_automatic&&Ue.id3tag_write_v2(at),gt.bitrate_stereoMode_Hist=Ga([16,5]),gt.bitrate_blockType_Hist=Ga([16,6]),gt.PeakSample=0,at.bWriteVbrTag&&se.InitVbrTag(at)}this.lame_init_params=function(at){var gt=at.internal_flags;if(gt.Class_ID=0,gt.ATH==null&&(gt.ATH=new _s),gt.PSY==null&&(gt.PSY=new Wt),gt.rgdata==null&&(gt.rgdata=new Bu),gt.channels_in=at.num_channels,gt.channels_in==1&&(at.mode=Lt.MONO),gt.channels_out=at.mode==Lt.MONO?1:2,gt.mode_ext=F.MPG_MD_MS_LR,at.mode==Lt.MONO&&(at.force_ms=!1),at.VBR==en.vbr_off&&at.VBR_mean_bitrate_kbps!=128&&at.brate==0&&(at.brate=at.VBR_mean_bitrate_kbps),at.VBR==en.vbr_off||at.VBR==en.vbr_mtrh||at.VBR==en.vbr_mt||(at.free_format=!1),at.VBR==en.vbr_off&&at.brate==0&&Ql.EQ(at.compression_ratio,0)&&(at.compression_ratio=11.025),at.VBR==en.vbr_off&&at.compression_ratio>0&&(at.out_samplerate==0&&(at.out_samplerate=map2MP3Frequency(int(.97*at.in_samplerate))),at.brate=0|at.out_samplerate*16*gt.channels_out/(1e3*at.compression_ratio),gt.samplerate_index=Pt(at.out_samplerate,at),at.free_format||(at.brate=zt(at.brate,at.version,at.out_samplerate))),at.out_samplerate!=0&&(at.out_samplerate<16e3?(at.VBR_mean_bitrate_kbps=Math.max(at.VBR_mean_bitrate_kbps,8),at.VBR_mean_bitrate_kbps=Math.min(at.VBR_mean_bitrate_kbps,64)):at.out_samplerate<32e3?(at.VBR_mean_bitrate_kbps=Math.max(at.VBR_mean_bitrate_kbps,8),at.VBR_mean_bitrate_kbps=Math.min(at.VBR_mean_bitrate_kbps,160)):(at.VBR_mean_bitrate_kbps=Math.max(at.VBR_mean_bitrate_kbps,32),at.VBR_mean_bitrate_kbps=Math.min(at.VBR_mean_bitrate_kbps,320))),at.lowpassfreq==0){var Oe=16e3;switch(at.VBR){case en.vbr_off:{var wt=new Qt;Ht(wt,at.brate),Oe=wt.lowerlimit;break}case en.vbr_abr:{var wt=new Qt;Ht(wt,at.VBR_mean_bitrate_kbps),Oe=wt.lowerlimit;break}case en.vbr_rh:{var $t=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=at.VBR_q&&at.VBR_q<=9){var te=$t[at.VBR_q],re=$t[at.VBR_q+1],fe=at.VBR_q_frac;Oe=linear_int(te,re,fe)}else Oe=19500;break}default:{var $t=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=at.VBR_q&&at.VBR_q<=9){var te=$t[at.VBR_q],re=$t[at.VBR_q+1],fe=at.VBR_q_frac;Oe=linear_int(te,re,fe)}else Oe=19500}}at.mode==Lt.MONO&&(at.VBR==en.vbr_off||at.VBR==en.vbr_abr)&&(Oe*=1.5),at.lowpassfreq=Oe|0}if(at.out_samplerate==0&&(2*at.lowpassfreq>at.in_samplerate&&(at.lowpassfreq=at.in_samplerate/2),at.out_samplerate=lt(at.lowpassfreq|0,at.in_samplerate)),at.lowpassfreq=Math.min(20500,at.lowpassfreq),at.lowpassfreq=Math.min(at.out_samplerate/2,at.lowpassfreq),at.VBR==en.vbr_off&&(at.compression_ratio=at.out_samplerate*16*gt.channels_out/(1e3*at.brate)),at.VBR==en.vbr_abr&&(at.compression_ratio=at.out_samplerate*16*gt.channels_out/(1e3*at.VBR_mean_bitrate_kbps)),at.bWriteVbrTag||(at.findReplayGain=!1,at.decode_on_the_fly=!1,gt.findPeakSample=!1),gt.findReplayGain=at.findReplayGain,gt.decode_on_the_fly=at.decode_on_the_fly,gt.decode_on_the_fly&&(gt.findPeakSample=!0),gt.findReplayGain&&Se.InitGainAnalysis(gt.rgdata,at.out_samplerate)==H.INIT_GAIN_ANALYSIS_ERROR)return at.internal_flags=null,-6;switch(gt.decode_on_the_fly&&!at.decode_only&&(gt.hip!=null&&Gt.hip_decode_exit(gt.hip),gt.hip=Gt.hip_decode_init()),gt.mode_gr=at.out_samplerate<=24e3?1:2,at.framesize=576*gt.mode_gr,at.encoder_delay=F.ENCDELAY,gt.resample_ratio=at.in_samplerate/at.out_samplerate,at.VBR){case en.vbr_mt:case en.vbr_rh:case en.vbr_mtrh:{var Je=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];at.compression_ratio=Je[at.VBR_q]}break;case en.vbr_abr:at.compression_ratio=at.out_samplerate*16*gt.channels_out/(1e3*at.VBR_mean_bitrate_kbps);break;default:at.compression_ratio=at.out_samplerate*16*gt.channels_out/(1e3*at.brate);break}if(at.mode==Lt.NOT_SET&&(at.mode=Lt.JOINT_STEREO),at.highpassfreq>0?(gt.highpass1=2*at.highpassfreq,at.highpasswidth>=0?gt.highpass2=2*(at.highpassfreq+at.highpasswidth):gt.highpass2=1*2*at.highpassfreq,gt.highpass1/=at.out_samplerate,gt.highpass2/=at.out_samplerate):(gt.highpass1=0,gt.highpass2=0),at.lowpassfreq>0?(gt.lowpass2=2*at.lowpassfreq,at.lowpasswidth>=0?(gt.lowpass1=2*(at.lowpassfreq-at.lowpasswidth),gt.lowpass1<0&&(gt.lowpass1=0)):gt.lowpass1=1*2*at.lowpassfreq,gt.lowpass1/=at.out_samplerate,gt.lowpass2/=at.out_samplerate):(gt.lowpass1=0,gt.lowpass2=0),nt(at),gt.samplerate_index=Pt(at.out_samplerate,at),gt.samplerate_index<0)return at.internal_flags=null,-1;if(at.VBR==en.vbr_off){if(at.free_format)gt.bitrate_index=0;else if(at.brate=zt(at.brate,at.version,at.out_samplerate),gt.bitrate_index=Ut(at.brate,at.version,at.out_samplerate),gt.bitrate_index<=0)return at.internal_flags=null,-1}else gt.bitrate_index=1;at.analysis&&(at.bWriteVbrTag=!1),gt.pinfo!=null&&(at.bWriteVbrTag=!1),De.init_bit_stream_w(gt);for(var ze=gt.samplerate_index+3*at.version+6*(at.out_samplerate<16e3?1:0),Me=0;Me<F.SBMAX_l+1;Me++)gt.scalefac_band.l[Me]=_e.sfBandIndex[ze].l[Me];for(var Me=0;Me<F.PSFB21+1;Me++){var hi=(gt.scalefac_band.l[22]-gt.scalefac_band.l[21])/F.PSFB21,rr=gt.scalefac_band.l[21]+Me*hi;gt.scalefac_band.psfb21[Me]=rr}gt.scalefac_band.psfb21[F.PSFB21]=576;for(var Me=0;Me<F.SBMAX_s+1;Me++)gt.scalefac_band.s[Me]=_e.sfBandIndex[ze].s[Me];for(var Me=0;Me<F.PSFB12+1;Me++){var hi=(gt.scalefac_band.s[13]-gt.scalefac_band.s[12])/F.PSFB12,rr=gt.scalefac_band.s[12]+Me*hi;gt.scalefac_band.psfb12[Me]=rr}gt.scalefac_band.psfb12[F.PSFB12]=192,at.version==1?gt.sideinfo_len=gt.channels_out==1?21:36:gt.sideinfo_len=gt.channels_out==1?13:21,at.error_protection&&(gt.sideinfo_len+=2),bt(at),gt.Class_ID=ae;{var ki;for(ki=0;ki<19;ki++)gt.nsPsy.pefirbuf[ki]=700*gt.mode_gr*gt.channels_out;at.ATHtype==-1&&(at.ATHtype=4)}switch(Ha(at.VBR_q<=9),Ha(at.VBR_q>=0),at.VBR){case en.vbr_mt:at.VBR=en.vbr_mtrh;case en.vbr_mtrh:{at.useTemporal==null&&(at.useTemporal=!1),me.apply_preset(at,500-at.VBR_q*10,0),at.quality<0&&(at.quality=LAME_DEFAULT_QUALITY),at.quality<5&&(at.quality=0),at.quality>5&&(at.quality=5),gt.PSY.mask_adjust=at.maskingadjust,gt.PSY.mask_adjust_short=at.maskingadjust_short,at.experimentalY?gt.sfb21_extra=!1:gt.sfb21_extra=at.out_samplerate>44e3,gt.iteration_loop=new VBRNewIterationLoop(ui);break}case en.vbr_rh:{me.apply_preset(at,500-at.VBR_q*10,0),gt.PSY.mask_adjust=at.maskingadjust,gt.PSY.mask_adjust_short=at.maskingadjust_short,at.experimentalY?gt.sfb21_extra=!1:gt.sfb21_extra=at.out_samplerate>44e3,at.quality>6&&(at.quality=6),at.quality<0&&(at.quality=LAME_DEFAULT_QUALITY),gt.iteration_loop=new VBROldIterationLoop(ui);break}default:{var Li;gt.sfb21_extra=!1,at.quality<0&&(at.quality=LAME_DEFAULT_QUALITY),Li=at.VBR,Li==en.vbr_off&&(at.VBR_mean_bitrate_kbps=at.brate),me.apply_preset(at,at.VBR_mean_bitrate_kbps,0),at.VBR=Li,gt.PSY.mask_adjust=at.maskingadjust,gt.PSY.mask_adjust_short=at.maskingadjust_short,Li==en.vbr_off?gt.iteration_loop=new Z(ui):gt.iteration_loop=new ABRIterationLoop(ui);break}}if(Ha(at.scale>=0),at.VBR!=en.vbr_off){if(gt.VBR_min_bitrate=1,gt.VBR_max_bitrate=14,at.out_samplerate<16e3&&(gt.VBR_max_bitrate=8),at.VBR_min_bitrate_kbps!=0&&(at.VBR_min_bitrate_kbps=zt(at.VBR_min_bitrate_kbps,at.version,at.out_samplerate),gt.VBR_min_bitrate=Ut(at.VBR_min_bitrate_kbps,at.version,at.out_samplerate),gt.VBR_min_bitrate<0)||at.VBR_max_bitrate_kbps!=0&&(at.VBR_max_bitrate_kbps=zt(at.VBR_max_bitrate_kbps,at.version,at.out_samplerate),gt.VBR_max_bitrate=Ut(at.VBR_max_bitrate_kbps,at.version,at.out_samplerate),gt.VBR_max_bitrate<0))return-1;at.VBR_min_bitrate_kbps=Jt.bitrate_table[at.version][gt.VBR_min_bitrate],at.VBR_max_bitrate_kbps=Jt.bitrate_table[at.version][gt.VBR_max_bitrate],at.VBR_mean_bitrate_kbps=Math.min(Jt.bitrate_table[at.version][gt.VBR_max_bitrate],at.VBR_mean_bitrate_kbps),at.VBR_mean_bitrate_kbps=Math.max(Jt.bitrate_table[at.version][gt.VBR_min_bitrate],at.VBR_mean_bitrate_kbps)}return at.tune&&(gt.PSY.mask_adjust+=at.tune_value_a,gt.PSY.mask_adjust_short+=at.tune_value_a),It(at),Ha(at.scale>=0),at.athaa_type<0?gt.ATH.useAdjust=3:gt.ATH.useAdjust=at.athaa_type,gt.ATH.aaSensitivityP=Math.pow(10,at.athaa_sensitivity/-10),at.short_blocks==null&&(at.short_blocks=kh.short_block_allowed),at.short_blocks==kh.short_block_allowed&&(at.mode==Lt.JOINT_STEREO||at.mode==Lt.STEREO)&&(at.short_blocks=kh.short_block_coupled),at.quant_comp<0&&(at.quant_comp=1),at.quant_comp_short<0&&(at.quant_comp_short=0),at.msfix<0&&(at.msfix=0),at.exp_nspsytune=at.exp_nspsytune|1,at.internal_flags.nsPsy.attackthre<0&&(at.internal_flags.nsPsy.attackthre=At.NSATTACKTHRE),at.internal_flags.nsPsy.attackthre_s<0&&(at.internal_flags.nsPsy.attackthre_s=At.NSATTACKTHRE_S),Ha(at.scale>=0),at.scale<0&&(at.scale=1),at.ATHtype<0&&(at.ATHtype=4),at.ATHcurve<0&&(at.ATHcurve=4),at.athaa_loudapprox<0&&(at.athaa_loudapprox=2),at.interChRatio<0&&(at.interChRatio=0),at.useTemporal==null&&(at.useTemporal=!0),gt.slot_lag=gt.frac_SpF=0,at.VBR==en.vbr_off&&(gt.slot_lag=gt.frac_SpF=(at.version+1)*72e3*at.brate%at.out_samplerate|0),_e.iteration_init(at),ai.psymodel_init(at),Ha(at.scale>=0),0};function ct(at,gt){(at.in_buffer_0==null||at.in_buffer_nsamples<gt)&&(at.in_buffer_0=Kl(gt),at.in_buffer_1=Kl(gt),at.in_buffer_nsamples=gt)}this.lame_encode_flush=function(at,gt,Oe,wt){var $t=at.internal_flags,te=mg([2,1152]),re=0,fe,Je,ze,Me,hi=$t.mf_samples_to_encode-F.POSTDELAY,rr=Tt(at);if($t.mf_samples_to_encode<1)return 0;for(fe=0,at.in_samplerate!=at.out_samplerate&&(hi+=16*at.out_samplerate/at.in_samplerate),ze=at.framesize-hi%at.framesize,ze<576&&(ze+=at.framesize),at.encoder_padding=ze,Me=(hi+ze)/at.framesize;Me>0&&re>=0;){var ki=rr-$t.mf_size,Li=at.frameNum;ki*=at.in_samplerate,ki/=at.out_samplerate,ki>1152&&(ki=1152),ki<1&&(ki=1),Je=wt-fe,wt==0&&(Je=0),re=this.lame_encode_buffer(at,te[0],te[1],ki,gt,Oe,Je),Oe+=re,fe+=re,Me-=Li!=at.frameNum?1:0}if($t.mf_samples_to_encode=0,re<0||(Je=wt-fe,wt==0&&(Je=0),De.flush_bitstream(at),re=De.copy_buffer($t,gt,Oe,Je,1),re<0))return re;if(Oe+=re,fe+=re,Je=wt-fe,wt==0&&(Je=0),at.write_id3tag_automatic){if(Ue.id3tag_write_v1(at),re=De.copy_buffer($t,gt,Oe,Je,0),re<0)return re;fe+=re}return fe},this.lame_encode_buffer=function(at,gt,Oe,wt,$t,te,re){var fe=at.internal_flags,Je=[null,null];if(fe.Class_ID!=ae)return-3;if(wt==0)return 0;ct(fe,wt),Je[0]=fe.in_buffer_0,Je[1]=fe.in_buffer_1;for(var ze=0;ze<wt;ze++)Je[0][ze]=gt[ze],fe.channels_in>1&&(Je[1][ze]=Oe[ze]);return kt(at,Je[0],Je[1],wt,$t,te,re)};function Tt(at){var gt=F.BLKSIZE+at.framesize-F.FFTOFFSET;return gt=Math.max(gt,512+at.framesize-32),gt}function kt(at,gt,Oe,wt,$t,te,re){var fe=at.internal_flags,Je=0,ze,Me,hi,rr,ki,Li=[null,null],Xi=[null,null];if(fe.Class_ID!=ae)return-3;if(wt==0)return 0;if(ki=De.copy_buffer(fe,$t,te,re,0),ki<0)return ki;if(te+=ki,Je+=ki,Xi[0]=gt,Xi[1]=Oe,Ql.NEQ(at.scale,0)&&Ql.NEQ(at.scale,1))for(Me=0;Me<wt;++Me)Xi[0][Me]*=at.scale,fe.channels_out==2&&(Xi[1][Me]*=at.scale);if(Ql.NEQ(at.scale_left,0)&&Ql.NEQ(at.scale_left,1))for(Me=0;Me<wt;++Me)Xi[0][Me]*=at.scale_left;if(Ql.NEQ(at.scale_right,0)&&Ql.NEQ(at.scale_right,1))for(Me=0;Me<wt;++Me)Xi[1][Me]*=at.scale_right;if(at.num_channels==2&&fe.channels_out==1)for(Me=0;Me<wt;++Me)Xi[0][Me]=.5*(Xi[0][Me]+Xi[1][Me]),Xi[1][Me]=0;rr=Tt(at),Li[0]=fe.mfbuf[0],Li[1]=fe.mfbuf[1];for(var Bi=0;wt>0;){var Ir=[null,null],mn=0,Jr=0;Ir[0]=Xi[0],Ir[1]=Xi[1];var on=new pt;if(pe(at,Li,Ir,Bi,wt,on),mn=on.n_in,Jr=on.n_out,fe.findReplayGain&&!fe.decode_on_the_fly&&Se.AnalyzeSamples(fe.rgdata,Li[0],fe.mf_size,Li[1],fe.mf_size,Jr,fe.channels_out)==H.GAIN_ANALYSIS_ERROR)return-6;if(wt-=mn,Bi+=mn,fe.channels_out==2,fe.mf_size+=Jr,Ha(fe.mf_size<=Ar.MFSIZE),fe.mf_samples_to_encode<1&&(fe.mf_samples_to_encode=F.ENCDELAY+F.POSTDELAY),fe.mf_samples_to_encode+=Jr,fe.mf_size>=rr){var On=re-Je;if(re==0&&(On=0),ze=ht(at,Li[0],Li[1],$t,te,On),ze<0)return ze;for(te+=ze,Je+=ze,fe.mf_size-=at.framesize,fe.mf_samples_to_encode-=at.framesize,hi=0;hi<fe.channels_out;hi++)for(Me=0;Me<fe.mf_size;Me++)Li[hi][Me]=Li[hi][Me+at.framesize]}}return Je}function ht(at,gt,Oe,wt,$t,te){var re=Yt.enc.lame_encode_mp3_frame(at,gt,Oe,wt,$t,te);return at.frameNum++,re}function pt(){this.n_in=0,this.n_out=0}function vt(){this.num_used=0}function Vt(at,gt){return gt!=0?Vt(gt,at%gt):at}function Re(at,gt,Oe){var wt=Math.PI*gt;at/=Oe,at<0&&(at=0),at>1&&(at=1);var $t=at-.5,te=.42-.5*Math.cos(2*at*Math.PI)+.08*Math.cos(4*at*Math.PI);return Math.abs($t)<1e-9?wt/Math.PI:te*Math.sin(Oe*wt*$t)/(Math.PI*Oe*$t)}function ee(at,gt,Oe,wt,$t,te,re,fe,Je){var ze=at.internal_flags,Me,hi=0,rr,ki=at.out_samplerate/Vt(at.out_samplerate,at.in_samplerate);ki>Ar.BPC&&(ki=Ar.BPC);var Li=Math.abs(ze.resample_ratio-Math.floor(.5+ze.resample_ratio))<1e-4?1:0,Xi=1/ze.resample_ratio;Xi>1&&(Xi=1);var Bi=31;Bi%2==0&&--Bi,Bi+=Li;var Ir=Bi+1;if(ze.fill_buffer_resample_init==0){for(ze.inbuf_old[0]=Kl(Ir),ze.inbuf_old[1]=Kl(Ir),Me=0;Me<=2*ki;++Me)ze.blackfilt[Me]=Kl(Ir);for(ze.itime[0]=0,ze.itime[1]=0,hi=0;hi<=2*ki;hi++){var mn=0,Jr=(hi-ki)/(2*ki);for(Me=0;Me<=Bi;Me++)mn+=ze.blackfilt[hi][Me]=Re(Me-Jr,Xi,Bi);for(Me=0;Me<=Bi;Me++)ze.blackfilt[hi][Me]/=mn}ze.fill_buffer_resample_init=1}var on=ze.inbuf_old[Je];for(rr=0;rr<wt;rr++){var On,As;if(On=rr*ze.resample_ratio,hi=0|Math.floor(On-ze.itime[Je]),Bi+hi-Bi/2>=re)break;var Jr=On-ze.itime[Je]-(hi+.5*(Bi%2));As=0|Math.floor(Jr*2*ki+ki+.5);var jr=0;for(Me=0;Me<=Bi;++Me){var fs=Me+hi-Bi/2,Rs;Rs=fs<0?on[Ir+fs]:$t[te+fs],jr+=Rs*ze.blackfilt[As][Me]}gt[Oe+rr]=jr}if(fe.num_used=Math.min(re,Bi+hi-Bi/2),ze.itime[Je]+=fe.num_used-rr*ze.resample_ratio,fe.num_used>=Ir)for(Me=0;Me<Ir;Me++)on[Me]=$t[te+fe.num_used+Me-Ir];else{var $a=Ir-fe.num_used;for(Me=0;Me<$a;++Me)on[Me]=on[Me+fe.num_used];for(hi=0;Me<Ir;++Me,++hi)on[Me]=$t[te+hi];Ha(hi==fe.num_used)}return rr}function pe(at,gt,Oe,wt,$t,te){var re=at.internal_flags;if(re.resample_ratio<.9999||re.resample_ratio>1.0001)for(var fe=0;fe<re.channels_out;fe++){var Je=new vt;te.n_out=ee(at,gt[fe],re.mf_size,at.framesize,Oe[fe],wt,$t,Je,fe),te.n_in=Je.num_used}else{te.n_out=Math.min(at.framesize,$t),te.n_in=te.n_out;for(var ze=0;ze<te.n_out;++ze)gt[0][re.mf_size+ze]=Oe[0][wt+ze],re.channels_out==2&&(gt[1][re.mf_size+ze]=Oe[1][wt+ze])}}}var ab=is,Us=v.VbrMode;function Ou(){function Yt(se,Ue,Gt,Wt,Qt,J,ae,ne,Zt,lt,Pt,zt,Ut,Ht,nt){this.vbr_q=se,this.quant_comp=Ue,this.quant_comp_s=Gt,this.expY=Wt,this.st_lrm=Qt,this.st_s=J,this.masking_adj=ae,this.masking_adj_short=ne,this.ath_lower=Zt,this.ath_curve=lt,this.ath_sensitivity=Pt,this.interch=zt,this.safejoint=Ut,this.sfb21mod=Ht,this.msfix=nt}function ge(se,Ue,Gt,Wt,Qt,J,ae,ne,Zt,lt,Pt,zt,Ut,Ht){this.quant_comp=Ue,this.quant_comp_s=Gt,this.safejoint=Wt,this.nsmsfix=Qt,this.st_lrm=J,this.st_s=ae,this.nsbass=ne,this.scale=Zt,this.masking_adj=lt,this.ath_lower=Pt,this.ath_curve=zt,this.interch=Ut,this.sfscale=Ht}var be;this.setModules=function(se){be=se};var Se=[new Yt(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new Yt(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new Yt(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new Yt(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new Yt(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new Yt(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new Yt(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new Yt(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new Yt(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new Yt(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new Yt(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],De=[new Yt(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new Yt(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new Yt(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new Yt(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new Yt(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new Yt(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new Yt(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new Yt(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new Yt(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new Yt(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new Yt(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function me(se,Ue,Gt){var Wt=se.VBR==Us.vbr_rh?Se:De,Qt=se.VBR_q_frac,J=Wt[Ue],ae=Wt[Ue+1],ne=J;J.st_lrm=J.st_lrm+Qt*(ae.st_lrm-J.st_lrm),J.st_s=J.st_s+Qt*(ae.st_s-J.st_s),J.masking_adj=J.masking_adj+Qt*(ae.masking_adj-J.masking_adj),J.masking_adj_short=J.masking_adj_short+Qt*(ae.masking_adj_short-J.masking_adj_short),J.ath_lower=J.ath_lower+Qt*(ae.ath_lower-J.ath_lower),J.ath_curve=J.ath_curve+Qt*(ae.ath_curve-J.ath_curve),J.ath_sensitivity=J.ath_sensitivity+Qt*(ae.ath_sensitivity-J.ath_sensitivity),J.interch=J.interch+Qt*(ae.interch-J.interch),J.msfix=J.msfix+Qt*(ae.msfix-J.msfix),ai(se,ne.vbr_q),Gt!=0?se.quant_comp=ne.quant_comp:Math.abs(se.quant_comp- -1)>0||(se.quant_comp=ne.quant_comp),Gt!=0?se.quant_comp_short=ne.quant_comp_s:Math.abs(se.quant_comp_short- -1)>0||(se.quant_comp_short=ne.quant_comp_s),ne.expY!=0&&(se.experimentalY=ne.expY!=0),Gt!=0?se.internal_flags.nsPsy.attackthre=ne.st_lrm:Math.abs(se.internal_flags.nsPsy.attackthre- -1)>0||(se.internal_flags.nsPsy.attackthre=ne.st_lrm),Gt!=0?se.internal_flags.nsPsy.attackthre_s=ne.st_s:Math.abs(se.internal_flags.nsPsy.attackthre_s- -1)>0||(se.internal_flags.nsPsy.attackthre_s=ne.st_s),Gt!=0?se.maskingadjust=ne.masking_adj:Math.abs(se.maskingadjust-0)>0||(se.maskingadjust=ne.masking_adj),Gt!=0?se.maskingadjust_short=ne.masking_adj_short:Math.abs(se.maskingadjust_short-0)>0||(se.maskingadjust_short=ne.masking_adj_short),Gt!=0?se.ATHlower=-ne.ath_lower/10:Math.abs(-se.ATHlower*10-0)>0||(se.ATHlower=-ne.ath_lower/10),Gt!=0?se.ATHcurve=ne.ath_curve:Math.abs(se.ATHcurve- -1)>0||(se.ATHcurve=ne.ath_curve),Gt!=0?se.athaa_sensitivity=ne.ath_sensitivity:Math.abs(se.athaa_sensitivity- -1)>0||(se.athaa_sensitivity=ne.ath_sensitivity),ne.interch>0&&(Gt!=0?se.interChRatio=ne.interch:Math.abs(se.interChRatio- -1)>0||(se.interChRatio=ne.interch)),ne.safejoint>0&&(se.exp_nspsytune=se.exp_nspsytune|ne.safejoint),ne.sfb21mod>0&&(se.exp_nspsytune=se.exp_nspsytune|ne.sfb21mod<<20),Gt!=0?se.msfix=ne.msfix:Math.abs(se.msfix- -1)>0||(se.msfix=ne.msfix),Gt==0&&(se.VBR_q=Ue,se.VBR_q_frac=Qt)}var _e=[new ge(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new ge(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new ge(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new ge(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new ge(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new ge(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new ge(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new ge(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new ge(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new ge(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new ge(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new ge(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new ge(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new ge(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new ge(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new ge(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new ge(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function ui(se,Ue,Gt){var Wt=Ue,Qt=be.nearestBitrateFullIndex(Ue);if(se.VBR=Us.vbr_abr,se.VBR_mean_bitrate_kbps=Wt,se.VBR_mean_bitrate_kbps=Math.min(se.VBR_mean_bitrate_kbps,320),se.VBR_mean_bitrate_kbps=Math.max(se.VBR_mean_bitrate_kbps,8),se.brate=se.VBR_mean_bitrate_kbps,se.VBR_mean_bitrate_kbps>320&&(se.disable_reservoir=!0),_e[Qt].safejoint>0&&(se.exp_nspsytune=se.exp_nspsytune|2),_e[Qt].sfscale>0&&(se.internal_flags.noise_shaping=2),Math.abs(_e[Qt].nsbass)>0){var J=int(_e[Qt].nsbass*4);J<0&&(J+=64),se.exp_nspsytune=se.exp_nspsytune|J<<2}return Gt!=0?se.quant_comp=_e[Qt].quant_comp:Math.abs(se.quant_comp- -1)>0||(se.quant_comp=_e[Qt].quant_comp),Gt!=0?se.quant_comp_short=_e[Qt].quant_comp_s:Math.abs(se.quant_comp_short- -1)>0||(se.quant_comp_short=_e[Qt].quant_comp_s),Gt!=0?se.msfix=_e[Qt].nsmsfix:Math.abs(se.msfix- -1)>0||(se.msfix=_e[Qt].nsmsfix),Gt!=0?se.internal_flags.nsPsy.attackthre=_e[Qt].st_lrm:Math.abs(se.internal_flags.nsPsy.attackthre- -1)>0||(se.internal_flags.nsPsy.attackthre=_e[Qt].st_lrm),Gt!=0?se.internal_flags.nsPsy.attackthre_s=_e[Qt].st_s:Math.abs(se.internal_flags.nsPsy.attackthre_s- -1)>0||(se.internal_flags.nsPsy.attackthre_s=_e[Qt].st_s),Gt!=0?se.scale=_e[Qt].scale:Math.abs(se.scale- -1)>0||(se.scale=_e[Qt].scale),Gt!=0?se.maskingadjust=_e[Qt].masking_adj:Math.abs(se.maskingadjust-0)>0||(se.maskingadjust=_e[Qt].masking_adj),_e[Qt].masking_adj>0?Gt!=0?se.maskingadjust_short=_e[Qt].masking_adj*.9:Math.abs(se.maskingadjust_short-0)>0||(se.maskingadjust_short=_e[Qt].masking_adj*.9):Gt!=0?se.maskingadjust_short=_e[Qt].masking_adj*1.1:Math.abs(se.maskingadjust_short-0)>0||(se.maskingadjust_short=_e[Qt].masking_adj*1.1),Gt!=0?se.ATHlower=-_e[Qt].ath_lower/10:Math.abs(-se.ATHlower*10-0)>0||(se.ATHlower=-_e[Qt].ath_lower/10),Gt!=0?se.ATHcurve=_e[Qt].ath_curve:Math.abs(se.ATHcurve- -1)>0||(se.ATHcurve=_e[Qt].ath_curve),Gt!=0?se.interChRatio=_e[Qt].interch:Math.abs(se.interChRatio- -1)>0||(se.interChRatio=_e[Qt].interch),Ue}this.apply_preset=function(se,Ue,Gt){switch(Ue){case rn.R3MIX:{Ue=rn.V3,se.VBR=Us.vbr_mtrh;break}case rn.MEDIUM:{Ue=rn.V4,se.VBR=Us.vbr_rh;break}case rn.MEDIUM_FAST:{Ue=rn.V4,se.VBR=Us.vbr_mtrh;break}case rn.STANDARD:{Ue=rn.V2,se.VBR=Us.vbr_rh;break}case rn.STANDARD_FAST:{Ue=rn.V2,se.VBR=Us.vbr_mtrh;break}case rn.EXTREME:{Ue=rn.V0,se.VBR=Us.vbr_rh;break}case rn.EXTREME_FAST:{Ue=rn.V0,se.VBR=Us.vbr_mtrh;break}case rn.INSANE:return Ue=320,se.preset=Ue,ui(se,Ue,Gt),se.VBR=Us.vbr_off,Ue}switch(se.preset=Ue,Ue){case rn.V9:return me(se,9,Gt),Ue;case rn.V8:return me(se,8,Gt),Ue;case rn.V7:return me(se,7,Gt),Ue;case rn.V6:return me(se,6,Gt),Ue;case rn.V5:return me(se,5,Gt),Ue;case rn.V4:return me(se,4,Gt),Ue;case rn.V3:return me(se,3,Gt),Ue;case rn.V2:return me(se,2,Gt),Ue;case rn.V1:return me(se,1,Gt),Ue;case rn.V0:return me(se,0,Gt),Ue}return 8<=Ue&&Ue<=320?ui(se,Ue,Gt):(se.preset=0,Ue)};function ai(se,Ue){var Gt=0;return 0>Ue&&(Gt=-1,Ue=0),9<Ue&&(Gt=-1,Ue=9),se.VBR_q=Ue,se.VBR_q_frac=0,Gt}}var Ep=Ou;function ob(){this.setModules=function(Yt,ge){}}var Bc=ob;function gg(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var Oc=gg,kp=v.new_float,yg=v.new_int;function lb(){this.global_gain=0,this.sfb_count1=0,this.step=yg(39),this.noise=kp(39),this.noise_log=kp(39)}var xg=lb,Jl=v.System,bg=v.VbrMode,Nc=v.Util,Ph=v.Arrays,Lc=v.new_float,Fc=v.assert;function ub(){var Yt;this.rv=null;var ge;this.qupvt=null;var be,Se=new Bc,De;this.setModules=function(Zt,lt,Pt,zt){Yt=Zt,ge=lt,this.rv=lt,be=Pt,this.qupvt=Pt,De=zt,Se.setModules(be,De)},this.ms_convert=function(Zt,lt){for(var Pt=0;Pt<576;++Pt){var zt=Zt.tt[lt][0].xr[Pt],Ut=Zt.tt[lt][1].xr[Pt];Zt.tt[lt][0].xr[Pt]=(zt+Ut)*(Nc.SQRT2*.5),Zt.tt[lt][1].xr[Pt]=(zt-Ut)*(Nc.SQRT2*.5)}};function me(Zt,lt,Pt,zt){zt=0;for(var Ut=0;Ut<=Pt;++Ut){var Ht=Math.abs(Zt.xr[Ut]);zt+=Ht,lt[Ut]=Math.sqrt(Ht*Math.sqrt(Ht)),lt[Ut]>Zt.xrpow_max&&(Zt.xrpow_max=lt[Ut])}return zt}this.init_xrpow=function(Zt,lt,Pt){var zt=0,Ut=0|lt.max_nonzero_coeff;if(lt.xrpow_max=0,Ph.fill(Pt,Ut,576,0),zt=me(lt,Pt,Ut,zt),zt>1e-20){var Ht=0;Zt.substep_shaping&2&&(Ht=1);for(var nt=0;nt<lt.psymax;nt++)Zt.pseudohalf[nt]=Ht;return!0}return Ph.fill(lt.l3_enc,0,576,0),!1};function _e(Zt,lt){var Pt=Zt.ATH,zt=lt.xr;if(lt.block_type!=F.SHORT_TYPE)for(var Ut=!1,Ht=F.PSFB21-1;Ht>=0&&!Ut;Ht--){var nt=Zt.scalefac_band.psfb21[Ht],It=Zt.scalefac_band.psfb21[Ht+1],bt=be.athAdjust(Pt.adjust,Pt.psfb21[Ht],Pt.floor);Zt.nsPsy.longfact[21]>1e-12&&(bt*=Zt.nsPsy.longfact[21]);for(var ct=It-1;ct>=nt;ct--)if(Math.abs(zt[ct])<bt)zt[ct]=0;else{Ut=!0;break}}else for(var Tt=0;Tt<3;Tt++)for(var Ut=!1,Ht=F.PSFB12-1;Ht>=0&&!Ut;Ht--){var nt=Zt.scalefac_band.s[12]*3+(Zt.scalefac_band.s[13]-Zt.scalefac_band.s[12])*Tt+(Zt.scalefac_band.psfb12[Ht]-Zt.scalefac_band.psfb12[0]),It=nt+(Zt.scalefac_band.psfb12[Ht+1]-Zt.scalefac_band.psfb12[Ht]),kt=be.athAdjust(Pt.adjust,Pt.psfb12[Ht],Pt.floor);Zt.nsPsy.shortfact[12]>1e-12&&(kt*=Zt.nsPsy.shortfact[12]);for(var ct=It-1;ct>=nt;ct--)if(Math.abs(zt[ct])<kt)zt[ct]=0;else{Ut=!0;break}}}this.init_outer_loop=function(Zt,lt){lt.part2_3_length=0,lt.big_values=0,lt.count1=0,lt.global_gain=210,lt.scalefac_compress=0,lt.table_select[0]=0,lt.table_select[1]=0,lt.table_select[2]=0,lt.subblock_gain[0]=0,lt.subblock_gain[1]=0,lt.subblock_gain[2]=0,lt.subblock_gain[3]=0,lt.region0_count=0,lt.region1_count=0,lt.preflag=0,lt.scalefac_scale=0,lt.count1table_select=0,lt.part2_length=0,lt.sfb_lmax=F.SBPSY_l,lt.sfb_smin=F.SBPSY_s,lt.psy_lmax=Zt.sfb21_extra?F.SBMAX_l:F.SBPSY_l,lt.psymax=lt.psy_lmax,lt.sfbmax=lt.sfb_lmax,lt.sfbdivide=11;for(var Pt=0;Pt<F.SBMAX_l;Pt++)lt.width[Pt]=Zt.scalefac_band.l[Pt+1]-Zt.scalefac_band.l[Pt],lt.window[Pt]=3;if(lt.block_type==F.SHORT_TYPE){var zt=Lc(576);lt.sfb_smin=0,lt.sfb_lmax=0,lt.mixed_block_flag!=0&&(lt.sfb_smin=3,lt.sfb_lmax=Zt.mode_gr*2+4),lt.psymax=lt.sfb_lmax+3*((Zt.sfb21_extra?F.SBMAX_s:F.SBPSY_s)-lt.sfb_smin),lt.sfbmax=lt.sfb_lmax+3*(F.SBPSY_s-lt.sfb_smin),lt.sfbdivide=lt.sfbmax-18,lt.psy_lmax=lt.sfb_lmax;var Ut=Zt.scalefac_band.l[lt.sfb_lmax];Jl.arraycopy(lt.xr,0,zt,0,576);for(var Pt=lt.sfb_smin;Pt<F.SBMAX_s;Pt++)for(var Ht=Zt.scalefac_band.s[Pt],nt=Zt.scalefac_band.s[Pt+1],It=0;It<3;It++)for(var bt=Ht;bt<nt;bt++)lt.xr[Ut++]=zt[3*bt+It];for(var ct=lt.sfb_lmax,Pt=lt.sfb_smin;Pt<F.SBMAX_s;Pt++)lt.width[ct]=lt.width[ct+1]=lt.width[ct+2]=Zt.scalefac_band.s[Pt+1]-Zt.scalefac_band.s[Pt],lt.window[ct]=0,lt.window[ct+1]=1,lt.window[ct+2]=2,ct+=3}lt.count1bits=0,lt.sfb_partition_table=be.nr_of_sfb_block[0][0],lt.slen[0]=0,lt.slen[1]=0,lt.slen[2]=0,lt.slen[3]=0,lt.max_nonzero_coeff=575,Ph.fill(lt.scalefac,0),_e(Zt,lt)};function ui(Zt){this.ordinal=Zt}ui.BINSEARCH_NONE=new ui(0),ui.BINSEARCH_UP=new ui(1),ui.BINSEARCH_DOWN=new ui(2);function ai(Zt,lt,Pt,zt,Ut){var Ht,nt=Zt.CurrentStep[zt],It=!1,bt=Zt.OldValue[zt],ct=ui.BINSEARCH_NONE;for(lt.global_gain=bt,Pt-=lt.part2_length;;){var Tt;if(Ht=De.count_bits(Zt,Ut,lt,null),nt==1||Ht==Pt)break;Ht>Pt?(ct==ui.BINSEARCH_DOWN&&(It=!0),It&&(nt/=2),ct=ui.BINSEARCH_UP,Tt=nt):(ct==ui.BINSEARCH_UP&&(It=!0),It&&(nt/=2),ct=ui.BINSEARCH_DOWN,Tt=-nt),lt.global_gain+=Tt,lt.global_gain<0&&(lt.global_gain=0,It=!0),lt.global_gain>255&&(lt.global_gain=255,It=!0)}for(Fc(lt.global_gain>=0),Fc(lt.global_gain<256);Ht>Pt&&lt.global_gain<255;)lt.global_gain++,Ht=De.count_bits(Zt,Ut,lt,null);return Zt.CurrentStep[zt]=bt-lt.global_gain>=4?4:2,Zt.OldValue[zt]=lt.global_gain,lt.part2_3_length=Ht,Ht}this.trancate_smallspectrums=function(Zt,lt,Pt,zt){var Ut=Lc(ve.SFBMAX);if(!(!(Zt.substep_shaping&4)&&lt.block_type==F.SHORT_TYPE||Zt.substep_shaping&128)){be.calc_noise(lt,Pt,Ut,new Oc,null);for(var nt=0;nt<576;nt++){var Ht=0;lt.l3_enc[nt]!=0&&(Ht=Math.abs(lt.xr[nt])),zt[nt]=Ht}var nt=0,It=8;lt.block_type==F.SHORT_TYPE&&(It=6);do{var bt,ct,Tt,kt,ht=lt.width[It];if(nt+=ht,!(Ut[It]>=1)&&(Ph.sort(zt,nt-ht,ht),!ue.EQ(zt[nt-1],0))){bt=(1-Ut[It])*Pt[It],ct=0,kt=0;do{var pt;for(Tt=1;kt+Tt<ht&&!ue.NEQ(zt[kt+nt-ht],zt[kt+nt+Tt-ht]);Tt++);if(pt=zt[kt+nt-ht]*zt[kt+nt-ht]*Tt,bt<pt){kt!=0&&(ct=zt[kt+nt-ht-1]);break}bt-=pt,kt+=Tt}while(kt<ht);if(!ue.EQ(ct,0))do Math.abs(lt.xr[nt-ht])<=ct&&(lt.l3_enc[nt-ht]=0);while(--ht>0)}}while(++It<lt.psymax);lt.part2_3_length=De.noquant_count_bits(Zt,lt,null)}};function se(Zt){for(var lt=0;lt<Zt.sfbmax;lt++)if(Zt.scalefac[lt]+Zt.subblock_gain[Zt.window[lt]]==0)return!1;return!0}function Ue(Zt){return Nc.FAST_LOG10(.368+.632*Zt*Zt*Zt)}function Gt(Zt,lt){for(var Pt=1e-37,zt=0;zt<lt.psymax;zt++)Pt+=Ue(Zt[zt]);return Math.max(1e-20,Pt)}function Wt(Zt,lt,Pt,zt,Ut){var Ht;switch(Zt){default:case 9:{lt.over_count>0?(Ht=Pt.over_SSD<=lt.over_SSD,Pt.over_SSD==lt.over_SSD&&(Ht=Pt.bits<lt.bits)):Ht=Pt.max_noise<0&&Pt.max_noise*10+Pt.bits<=lt.max_noise*10+lt.bits;break}case 0:Ht=Pt.over_count<lt.over_count||Pt.over_count==lt.over_count&&Pt.over_noise<lt.over_noise||Pt.over_count==lt.over_count&&ue.EQ(Pt.over_noise,lt.over_noise)&&Pt.tot_noise<lt.tot_noise;break;case 8:Pt.max_noise=Gt(Ut,zt);case 1:Ht=Pt.max_noise<lt.max_noise;break;case 2:Ht=Pt.tot_noise<lt.tot_noise;break;case 3:Ht=Pt.tot_noise<lt.tot_noise&&Pt.max_noise<lt.max_noise;break;case 4:Ht=Pt.max_noise<=0&&lt.max_noise>.2||Pt.max_noise<=0&&lt.max_noise<0&&lt.max_noise>Pt.max_noise-.2&&Pt.tot_noise<lt.tot_noise||Pt.max_noise<=0&&lt.max_noise>0&&lt.max_noise>Pt.max_noise-.2&&Pt.tot_noise<lt.tot_noise+lt.over_noise||Pt.max_noise>0&&lt.max_noise>-.05&&lt.max_noise>Pt.max_noise-.1&&Pt.tot_noise+Pt.over_noise<lt.tot_noise+lt.over_noise||Pt.max_noise>0&&lt.max_noise>-.1&&lt.max_noise>Pt.max_noise-.15&&Pt.tot_noise+Pt.over_noise+Pt.over_noise<lt.tot_noise+lt.over_noise+lt.over_noise;break;case 5:Ht=Pt.over_noise<lt.over_noise||ue.EQ(Pt.over_noise,lt.over_noise)&&Pt.tot_noise<lt.tot_noise;break;case 6:Ht=Pt.over_noise<lt.over_noise||ue.EQ(Pt.over_noise,lt.over_noise)&&(Pt.max_noise<lt.max_noise||ue.EQ(Pt.max_noise,lt.max_noise)&&Pt.tot_noise<=lt.tot_noise);break;case 7:Ht=Pt.over_count<lt.over_count||Pt.over_noise<lt.over_noise;break}return lt.over_count==0&&(Ht=Ht&&Pt.bits<lt.bits),Ht}function Qt(Zt,lt,Pt,zt,Ut){var Ht=Zt.internal_flags,nt;lt.scalefac_scale==0?nt=1.2968395546510096:nt=1.6817928305074292;for(var It=0,bt=0;bt<lt.sfbmax;bt++)It<Pt[bt]&&(It=Pt[bt]);var ct=Ht.noise_shaping_amp;switch(ct==3&&(Ut?ct=2:ct=1),ct){case 2:break;case 1:It>1?It=Math.pow(It,.5):It*=.95;break;case 0:default:It>1?It=1:It*=.95;break}for(var Tt=0,bt=0;bt<lt.sfbmax;bt++){var kt=lt.width[bt],ht;if(Tt+=kt,!(Pt[bt]<It)){if(Ht.substep_shaping&2&&(Ht.pseudohalf[bt]=Ht.pseudohalf[bt]==0?1:0,Ht.pseudohalf[bt]==0&&Ht.noise_shaping_amp==2))return;for(lt.scalefac[bt]++,ht=-kt;ht<0;ht++)zt[Tt+ht]*=nt,zt[Tt+ht]>lt.xrpow_max&&(lt.xrpow_max=zt[Tt+ht]);if(Ht.noise_shaping_amp==2)return}}}function J(Zt,lt){for(var Pt=1.2968395546510096,zt=0,Ut=0;Ut<Zt.sfbmax;Ut++){var Ht=Zt.width[Ut],nt=Zt.scalefac[Ut];if(Zt.preflag!=0&&(nt+=be.pretab[Ut]),zt+=Ht,nt&1){nt++;for(var It=-Ht;It<0;It++)lt[zt+It]*=Pt,lt[zt+It]>Zt.xrpow_max&&(Zt.xrpow_max=lt[zt+It])}Zt.scalefac[Ut]=nt>>1}Zt.preflag=0,Zt.scalefac_scale=1}function ae(Zt,lt,Pt){var zt,Ut=lt.scalefac;for(zt=0;zt<lt.sfb_lmax;zt++)if(Ut[zt]>=16)return!0;for(var Ht=0;Ht<3;Ht++){var nt=0,It=0;for(zt=lt.sfb_lmax+Ht;zt<lt.sfbdivide;zt+=3)nt<Ut[zt]&&(nt=Ut[zt]);for(;zt<lt.sfbmax;zt+=3)It<Ut[zt]&&(It=Ut[zt]);if(!(nt<16&&It<8)){if(lt.subblock_gain[Ht]>=7)return!0;lt.subblock_gain[Ht]++;var bt=Zt.scalefac_band.l[lt.sfb_lmax];for(zt=lt.sfb_lmax+Ht;zt<lt.sfbmax;zt+=3){var ct,Tt=lt.width[zt],kt=Ut[zt];if(kt=kt-(4>>lt.scalefac_scale),kt>=0){Ut[zt]=kt,bt+=Tt*3;continue}Ut[zt]=0;{var ht=210+(kt<<lt.scalefac_scale+1);ct=be.IPOW20(ht)}bt+=Tt*(Ht+1);for(var pt=-Tt;pt<0;pt++)Pt[bt+pt]*=ct,Pt[bt+pt]>lt.xrpow_max&&(lt.xrpow_max=Pt[bt+pt]);bt+=Tt*(3-Ht-1)}{var ct=be.IPOW20(202);bt+=lt.width[zt]*(Ht+1);for(var pt=-lt.width[zt];pt<0;pt++)Pt[bt+pt]*=ct,Pt[bt+pt]>lt.xrpow_max&&(lt.xrpow_max=Pt[bt+pt])}}}return!1}function ne(Zt,lt,Pt,zt,Ut){var Ht=Zt.internal_flags;Qt(Zt,lt,Pt,zt,Ut);var nt=se(lt);return nt?!1:(Ht.mode_gr==2?nt=De.scale_bitcount(lt):nt=De.scale_bitcount_lsf(Ht,lt),nt?(Ht.noise_shaping>1&&(Ph.fill(Ht.pseudohalf,0),lt.scalefac_scale==0?(J(lt,zt),nt=!1):lt.block_type==F.SHORT_TYPE&&Ht.subblock_gain>0&&(nt=ae(Ht,lt,zt)||se(lt))),nt||(Ht.mode_gr==2?nt=De.scale_bitcount(lt):nt=De.scale_bitcount_lsf(Ht,lt)),!nt):!0)}this.outer_loop=function(Zt,lt,Pt,zt,Ut,Ht){var nt=Zt.internal_flags,It=new Ci,bt=Lc(576),ct=Lc(ve.SFBMAX),Tt=new Oc,kt,ht=new xg,pt=9999999,vt=!1,Vt=!1,Re=0;if(ai(nt,lt,Ht,Ut,zt),nt.noise_shaping==0)return 100;be.calc_noise(lt,Pt,ct,Tt,ht),Tt.bits=lt.part2_3_length,It.assign(lt);var ee=0;for(Jl.arraycopy(zt,0,bt,0,576);!vt;){do{var pe=new Oc,at,gt=255;if(nt.substep_shaping&2?at=20:at=3,nt.sfb21_extra&&(ct[It.sfbmax]>1||It.block_type==F.SHORT_TYPE&&(ct[It.sfbmax+1]>1||ct[It.sfbmax+2]>1))||!ne(Zt,It,ct,zt,Vt))break;It.scalefac_scale!=0&&(gt=254);var Oe=Ht-It.part2_length;if(Oe<=0)break;for(;(It.part2_3_length=De.count_bits(nt,zt,It,ht))>Oe&&It.global_gain<=gt;)It.global_gain++;if(It.global_gain>gt)break;if(Tt.over_count==0){for(;(It.part2_3_length=De.count_bits(nt,zt,It,ht))>pt&&It.global_gain<=gt;)It.global_gain++;if(It.global_gain>gt)break}if(be.calc_noise(It,Pt,ct,pe,ht),pe.bits=It.part2_3_length,lt.block_type!=F.SHORT_TYPE?kt=Zt.quant_comp:kt=Zt.quant_comp_short,kt=Wt(kt,Tt,pe,It,ct)?1:0,kt!=0)pt=lt.part2_3_length,Tt=pe,lt.assign(It),ee=0,Jl.arraycopy(zt,0,bt,0,576);else if(nt.full_outer_loop==0&&(++ee>at&&Tt.over_count==0||nt.noise_shaping_amp==3&&Vt&&ee>30||nt.noise_shaping_amp==3&&Vt&&It.global_gain-Re>15))break}while(It.global_gain+It.scalefac_scale<255);nt.noise_shaping_amp==3?Vt?vt=!0:(It.assign(lt),Jl.arraycopy(bt,0,zt,0,576),ee=0,Re=It.global_gain,Vt=!0):vt=!0}return Fc(lt.global_gain+lt.scalefac_scale<=255),Zt.VBR==bg.vbr_rh||Zt.VBR==bg.vbr_mtrh?Jl.arraycopy(bt,0,zt,0,576):nt.substep_shaping&1&&trancate_smallspectrums(nt,lt,Pt,zt),Tt.over_count},this.iteration_finish_one=function(Zt,lt,Pt){var zt=Zt.l3_side,Ut=zt.tt[lt][Pt];De.best_scalefac_store(Zt,lt,Pt,zt),Zt.use_best_huffman==1&&De.best_huffman_divide(Zt,Ut),ge.ResvAdjust(Zt,Ut)},this.VBR_encode_granule=function(Zt,lt,Pt,zt,Ut,Ht,nt){var It=Zt.internal_flags,bt=new Ci,ct=Lc(576),Tt=nt,kt=nt+1,ht=(nt+Ht)/2,pt,vt,Vt=0,Re=It.sfb21_extra;Fc(Tt<=LameInternalFlags.MAX_BITS_PER_CHANNEL),Ph.fill(bt.l3_enc,0);do ht>Tt-42?It.sfb21_extra=!1:It.sfb21_extra=Re,vt=outer_loop(Zt,lt,Pt,zt,Ut,ht),vt<=0?(Vt=1,kt=lt.part2_3_length,bt.assign(lt),Jl.arraycopy(zt,0,ct,0,576),nt=kt-32,pt=nt-Ht,ht=(nt+Ht)/2):(Ht=ht+32,pt=nt-Ht,ht=(nt+Ht)/2,Vt!=0&&(Vt=2,lt.assign(bt),Jl.arraycopy(ct,0,zt,0,576)));while(pt>12);It.sfb21_extra=Re,Vt==2&&Jl.arraycopy(bt.l3_enc,0,lt.l3_enc,0,576),Fc(lt.part2_3_length<=Tt)},this.get_framebits=function(Zt,lt){var Pt=Zt.internal_flags;Pt.bitrate_index=Pt.VBR_min_bitrate;var zt=Yt.getframebits(Zt);Pt.bitrate_index=1,zt=Yt.getframebits(Zt);for(var Ut=1;Ut<=Pt.VBR_max_bitrate;Ut++){Pt.bitrate_index=Ut;var Ht=new MeanBits(zt);lt[Ut]=ge.ResvFrameBegin(Zt,Ht),zt=Ht.bits}},this.VBR_old_prepare=function(Zt,lt,Pt,zt,Ut,Ht,nt,It,bt){var ct=Zt.internal_flags,Tt,kt=0,ht=1,pt=0;ct.bitrate_index=ct.VBR_max_bitrate;var vt=ge.ResvFrameBegin(Zt,new MeanBits(0))/ct.mode_gr;get_framebits(Zt,Ht);for(var Vt=0;Vt<ct.mode_gr;Vt++){var Re=be.on_pe(Zt,lt,It[Vt],vt,Vt,0);ct.mode_ext==F.MPG_MD_MS_LR&&(ms_convert(ct.l3_side,Vt),be.reduce_side(It[Vt],Pt[Vt],vt,Re));for(var ee=0;ee<ct.channels_out;++ee){var pe=ct.l3_side.tt[Vt][ee];pe.block_type!=F.SHORT_TYPE?(kt=1.28/(1+Math.exp(3.5-lt[Vt][ee]/300))-.05,Tt=ct.PSY.mask_adjust-kt):(kt=2.56/(1+Math.exp(3.5-lt[Vt][ee]/300))-.14,Tt=ct.PSY.mask_adjust_short-kt),ct.masking_lower=Math.pow(10,Tt*.1),init_outer_loop(ct,pe),bt[Vt][ee]=be.calc_xmin(Zt,zt[Vt][ee],pe,Ut[Vt][ee]),bt[Vt][ee]!=0&&(ht=0),nt[Vt][ee]=126,pt+=It[Vt][ee]}}for(var Vt=0;Vt<ct.mode_gr;Vt++)for(var ee=0;ee<ct.channels_out;ee++)pt>Ht[ct.VBR_max_bitrate]&&(It[Vt][ee]*=Ht[ct.VBR_max_bitrate],It[Vt][ee]/=pt),nt[Vt][ee]>It[Vt][ee]&&(nt[Vt][ee]=It[Vt][ee]);return ht},this.bitpressure_strategy=function(Zt,lt,Pt,zt){for(var Ut=0;Ut<Zt.mode_gr;Ut++)for(var Ht=0;Ht<Zt.channels_out;Ht++){for(var nt=Zt.l3_side.tt[Ut][Ht],It=lt[Ut][Ht],bt=0,ct=0;ct<nt.psy_lmax;ct++)It[bt++]*=1+.029*ct*ct/F.SBMAX_l/F.SBMAX_l;if(nt.block_type==F.SHORT_TYPE)for(var ct=nt.sfb_smin;ct<F.SBMAX_s;ct++)It[bt++]*=1+.029*ct*ct/F.SBMAX_s/F.SBMAX_s,It[bt++]*=1+.029*ct*ct/F.SBMAX_s/F.SBMAX_s,It[bt++]*=1+.029*ct*ct/F.SBMAX_s/F.SBMAX_s;zt[Ut][Ht]=0|Math.max(Pt[Ut][Ht],.9*zt[Ut][Ht])}},this.VBR_new_prepare=function(Zt,lt,Pt,zt,Ut,Ht){var nt=Zt.internal_flags,It=1,bt=0,ct=0,Tt;if(Zt.free_format){nt.bitrate_index=0;var kt=new MeanBits(bt);Tt=ge.ResvFrameBegin(Zt,kt),bt=kt.bits,Ut[0]=Tt}else{nt.bitrate_index=nt.VBR_max_bitrate;var kt=new MeanBits(bt);ge.ResvFrameBegin(Zt,kt),bt=kt.bits,get_framebits(Zt,Ut),Tt=Ut[nt.VBR_max_bitrate]}for(var ht=0;ht<nt.mode_gr;ht++){be.on_pe(Zt,lt,Ht[ht],bt,ht,0),nt.mode_ext==F.MPG_MD_MS_LR&&ms_convert(nt.l3_side,ht);for(var pt=0;pt<nt.channels_out;++pt){var vt=nt.l3_side.tt[ht][pt];nt.masking_lower=Math.pow(10,nt.PSY.mask_adjust*.1),init_outer_loop(nt,vt),be.calc_xmin(Zt,Pt[ht][pt],vt,zt[ht][pt])!=0&&(It=0),ct+=Ht[ht][pt]}}for(var ht=0;ht<nt.mode_gr;ht++)for(var pt=0;pt<nt.channels_out;pt++)ct>Tt&&(Ht[ht][pt]*=Tt,Ht[ht][pt]/=ct);return It},this.calc_target_bits=function(Zt,lt,Pt,zt,Ut,Ht){var nt=Zt.internal_flags,It=nt.l3_side,bt,ct,Tt,kt,ht=0;nt.bitrate_index=nt.VBR_max_bitrate;var pt=new MeanBits(ht);for(Ht[0]=ge.ResvFrameBegin(Zt,pt),ht=pt.bits,nt.bitrate_index=1,ht=Yt.getframebits(Zt)-nt.sideinfo_len*8,Ut[0]=ht/(nt.mode_gr*nt.channels_out),ht=Zt.VBR_mean_bitrate_kbps*Zt.framesize*1e3,nt.substep_shaping&1&&(ht*=1.09),ht/=Zt.out_samplerate,ht-=nt.sideinfo_len*8,ht/=nt.mode_gr*nt.channels_out,bt=.93+.07*(11-Zt.compression_ratio)/(11-5.5),bt<.9&&(bt=.9),bt>1&&(bt=1),ct=0;ct<nt.mode_gr;ct++){var vt=0;for(Tt=0;Tt<nt.channels_out;Tt++){if(zt[ct][Tt]=int(bt*ht),lt[ct][Tt]>700){var Vt=int((lt[ct][Tt]-700)/1.4),Re=It.tt[ct][Tt];zt[ct][Tt]=int(bt*ht),Re.block_type==F.SHORT_TYPE&&Vt<ht/2&&(Vt=ht/2),Vt>ht*3/2?Vt=ht*3/2:Vt<0&&(Vt=0),zt[ct][Tt]+=Vt}zt[ct][Tt]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(zt[ct][Tt]=LameInternalFlags.MAX_BITS_PER_CHANNEL),vt+=zt[ct][Tt]}if(vt>LameInternalFlags.MAX_BITS_PER_GRANULE)for(Tt=0;Tt<nt.channels_out;++Tt)zt[ct][Tt]*=LameInternalFlags.MAX_BITS_PER_GRANULE,zt[ct][Tt]/=vt}if(nt.mode_ext==F.MPG_MD_MS_LR)for(ct=0;ct<nt.mode_gr;ct++)be.reduce_side(zt[ct],Pt[ct],ht*nt.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(kt=0,ct=0;ct<nt.mode_gr;ct++)for(Tt=0;Tt<nt.channels_out;Tt++)zt[ct][Tt]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(zt[ct][Tt]=LameInternalFlags.MAX_BITS_PER_CHANNEL),kt+=zt[ct][Tt];if(kt>Ht[0])for(ct=0;ct<nt.mode_gr;ct++)for(Tt=0;Tt<nt.channels_out;Tt++)zt[ct][Tt]*=Ht[0],zt[ct][Tt]/=kt}}var hb=ub,Sg=v.assert;function wg(){var Yt;this.setModules=function(ge){Yt=ge},this.ResvFrameBegin=function(ge,be){var Se=ge.internal_flags,De,me=Se.l3_side,_e=Yt.getframebits(ge);be.bits=(_e-Se.sideinfo_len*8)/Se.mode_gr;var ui=8*256*Se.mode_gr-8;ge.brate>320?De=8*int(ge.brate*1e3/(ge.out_samplerate/1152)/8+.5):(De=8*1440,ge.strict_ISO&&(De=8*int(32e4/(ge.out_samplerate/1152)/8+.5))),Se.ResvMax=De-_e,Se.ResvMax>ui&&(Se.ResvMax=ui),(Se.ResvMax<0||ge.disable_reservoir)&&(Se.ResvMax=0);var ai=be.bits*Se.mode_gr+Math.min(Se.ResvSize,Se.ResvMax);return ai>De&&(ai=De),Sg(Se.ResvMax%8==0),Sg(Se.ResvMax>=0),me.resvDrain_pre=0,Se.pinfo!=null&&(Se.pinfo.mean_bits=be.bits/2,Se.pinfo.resvsize=Se.ResvSize),ai},this.ResvMaxBits=function(ge,be,Se,De){var me=ge.internal_flags,_e,ui=me.ResvSize,ai=me.ResvMax;De!=0&&(ui+=be),me.substep_shaping&1&&(ai*=.9),Se.bits=be,ui*10>ai*9?(_e=ui-ai*9/10,Se.bits+=_e,me.substep_shaping|=128):(_e=0,me.substep_shaping&=127,!ge.disable_reservoir&&!(me.substep_shaping&1)&&(Se.bits-=.1*be));var se=ui<me.ResvMax*6/10?ui:me.ResvMax*6/10;return se-=_e,se<0&&(se=0),se},this.ResvAdjust=function(ge,be){ge.ResvSize-=be.part2_3_length+be.part2_length},this.ResvFrameEnd=function(ge,be){var Se,De=ge.l3_side;ge.ResvSize+=be*ge.mode_gr;var me=0;De.resvDrain_post=0,De.resvDrain_pre=0,(Se=ge.ResvSize%8)!=0&&(me+=Se),Se=ge.ResvSize-me-ge.ResvMax,Se>0&&(me+=Se);{var _e=Math.min(De.main_data_begin*8,me)/8;De.resvDrain_pre+=8*_e,me-=8*_e,ge.ResvSize-=8*_e,De.main_data_begin-=_e}De.resvDrain_post+=me,ge.ResvSize-=me}}var Pp=wg;function Tg(){var Yt="http://www.mp3dev.org/",ge=3,be=98,Se=4,De=0,me=93;this.getLameVersion=function(){return ge+"."+be+"."+Se},this.getLameShortVersion=function(){return ge+"."+be+"."+Se},this.getLameVeryShortVersion=function(){return"LAME"+ge+"."+be+"r"},this.getPsyVersion=function(){return De+"."+me},this.getLameUrl=function(){return Yt},this.getLameOsBitness=function(){return"32bits"}}var Ap=Tg,Cg=v.System,_d=v.VbrMode,jd=v.ShortBlock,cb=v.Arrays,Zl=v.new_byte,Eg=v.assert;Ah.NUMTOCENTRIES=100,Ah.MAXFRAMESIZE=2880;function Ah(){var Yt,ge,be;this.setModules=function(ht,pt,vt){Yt=ht,ge=pt,be=vt};var Se=1,De=2,me=4,_e=8,ui=Ah.NUMTOCENTRIES,ai=Ah.MAXFRAMESIZE,se=ui+4+4+4+4+4,Ue=se+9+1+1+8+1+1+3+1+1+2+4+2+2,Gt=128,Wt=64,Qt=32,J=null,ae="Xing",ne="Info",Zt=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function lt(ht,pt){if(ht.nVbrNumFrames++,ht.sum+=pt,ht.seen++,!(ht.seen<ht.want)&&(ht.pos<ht.size&&(ht.bag[ht.pos]=ht.sum,ht.pos++,ht.seen=0),ht.pos==ht.size)){for(var vt=1;vt<ht.size;vt+=2)ht.bag[vt/2]=ht.bag[vt];ht.want*=2,ht.pos/=2}}function Pt(ht,pt){if(!(ht.pos<=0))for(var vt=1;vt<ui;++vt){var Vt=vt/ui,Re,ee,pe=0|Math.floor(Vt*ht.pos);pe>ht.pos-1&&(pe=ht.pos-1),Re=ht.bag[pe],ee=ht.sum;var at=0|256*Re/ee;at>255&&(at=255),pt[vt]=255&at}}this.addVbrFrame=function(ht){var pt=ht.internal_flags,vt=Tables.bitrate_table[ht.version][pt.bitrate_index];Eg(pt.VBR_seek_table.bag!=null),lt(pt.VBR_seek_table,vt)};function zt(ht,pt){var vt=ht[pt+0]&255;return vt<<=8,vt|=ht[pt+1]&255,vt<<=8,vt|=ht[pt+2]&255,vt<<=8,vt|=ht[pt+3]&255,vt}function Ut(ht,pt,vt){ht[pt+0]=255&(vt>>24&255),ht[pt+1]=255&(vt>>16&255),ht[pt+2]=255&(vt>>8&255),ht[pt+3]=255&(vt&255)}function Ht(ht,pt,vt){ht[pt+0]=255&(vt>>8&255),ht[pt+1]=255&(vt&255)}function nt(ht,pt){return new String(ht,pt,ae.length(),J).equals(ae)||new String(ht,pt,ne.length(),J).equals(ne)}function It(ht,pt,vt){return 255&(ht<<pt|vt&~(-1<<pt))}function bt(ht,pt){var vt=ht.internal_flags;pt[0]=It(pt[0],8,255),pt[1]=It(pt[1],3,7),pt[1]=It(pt[1],1,ht.out_samplerate<16e3?0:1),pt[1]=It(pt[1],1,ht.version),pt[1]=It(pt[1],2,1),pt[1]=It(pt[1],1,ht.error_protection?0:1),pt[2]=It(pt[2],4,vt.bitrate_index),pt[2]=It(pt[2],2,vt.samplerate_index),pt[2]=It(pt[2],1,0),pt[2]=It(pt[2],1,ht.extension),pt[3]=It(pt[3],2,ht.mode.ordinal()),pt[3]=It(pt[3],2,vt.mode_ext),pt[3]=It(pt[3],1,ht.copyright),pt[3]=It(pt[3],1,ht.original),pt[3]=It(pt[3],2,ht.emphasis),pt[0]=255;var Vt=255&(pt[1]&241),Re;ht.version==1?Re=Gt:ht.out_samplerate<16e3?Re=Qt:Re=Wt,ht.VBR==_d.vbr_off&&(Re=ht.brate);var ee;ht.free_format?ee=0:ee=255&16*Yt.BitrateIndex(Re,ht.version,ht.out_samplerate),ht.version==1?(pt[1]=255&(Vt|10),Vt=255&(pt[2]&13),pt[2]=255&(ee|Vt)):(pt[1]=255&(Vt|2),Vt=255&(pt[2]&13),pt[2]=255&(ee|Vt))}this.getVbrTag=function(ht){var pt=new VBRTagData,vt=0;pt.flags=0;var Vt=ht[vt+1]>>3&1,Re=ht[vt+2]>>2&3,ee=ht[vt+3]>>6&3,pe=ht[vt+2]>>4&15;if(pe=Tables.bitrate_table[Vt][pe],ht[vt+1]>>4==14?pt.samprate=Tables.samplerate_table[2][Re]:pt.samprate=Tables.samplerate_table[Vt][Re],Vt!=0?ee!=3?vt+=36:vt+=21:ee!=3?vt+=21:vt+=13,!nt(ht,vt))return null;vt+=4,pt.hId=Vt;var at=pt.flags=zt(ht,vt);if(vt+=4,at&Se&&(pt.frames=zt(ht,vt),vt+=4),at&De&&(pt.bytes=zt(ht,vt),vt+=4),at&me){if(pt.toc!=null)for(var gt=0;gt<ui;gt++)pt.toc[gt]=ht[vt+gt];vt+=ui}pt.vbrScale=-1,at&_e&&(pt.vbrScale=zt(ht,vt),vt+=4),pt.headersize=(Vt+1)*72e3*pe/pt.samprate,vt+=21;var Oe=ht[vt+0]<<4;Oe+=ht[vt+1]>>4;var wt=(ht[vt+1]&15)<<8;return wt+=ht[vt+2]&255,(Oe<0||Oe>3e3)&&(Oe=-1),(wt<0||wt>3e3)&&(wt=-1),pt.encDelay=Oe,pt.encPadding=wt,pt},this.InitVbrTag=function(ht){var pt=ht.internal_flags,vt;ht.version==1?vt=Gt:ht.out_samplerate<16e3?vt=Qt:vt=Wt,ht.VBR==_d.vbr_off&&(vt=ht.brate);var Vt=(ht.version+1)*72e3*vt/ht.out_samplerate,Re=pt.sideinfo_len+Ue;if(pt.VBR_seek_table.TotalFrameSize=Vt,Vt<Re||Vt>ai){ht.bWriteVbrTag=!1;return}pt.VBR_seek_table.nVbrNumFrames=0,pt.VBR_seek_table.nBytesWritten=0,pt.VBR_seek_table.sum=0,pt.VBR_seek_table.seen=0,pt.VBR_seek_table.want=1,pt.VBR_seek_table.pos=0,pt.VBR_seek_table.bag==null&&(pt.VBR_seek_table.bag=new int[400],pt.VBR_seek_table.size=400);var ee=Zl(ai);bt(ht,ee);for(var pe=pt.VBR_seek_table.TotalFrameSize,at=0;at<pe;++at)ge.add_dummy_byte(ht,ee[at]&255,1)};function ct(ht,pt){var vt=pt^ht;return pt=pt>>8^Zt[vt&255],pt}this.updateMusicCRC=function(ht,pt,vt,Vt){for(var Re=0;Re<Vt;++Re)ht[0]=ct(pt[vt+Re],ht[0])};function Tt(ht,pt,vt,Vt,Re){var ee=ht.internal_flags,pe=0,at=ht.encoder_delay,gt=ht.encoder_padding,Oe=100-10*ht.VBR_q-ht.quality,wt=be.getLameVeryShortVersion(),$t,te=0,re,fe=[1,5,3,2,4,0,3],Je=0|(ht.lowpassfreq/100+.5>255?255:ht.lowpassfreq/100+.5),ze=0,Me=0,hi=0,rr=ht.internal_flags.noise_shaping,ki=0,Li=0,Xi=0,Bi=0,Ir=0,mn=(ht.exp_nspsytune&1)!=0,Jr=(ht.exp_nspsytune&2)!=0,on=!1,On=!1,As=ht.internal_flags.nogap_total,jr=ht.internal_flags.nogap_current,fs=ht.ATHtype,Rs=0,$a;switch(ht.VBR){case vbr_abr:$a=ht.VBR_mean_bitrate_kbps;break;case vbr_off:$a=ht.brate;break;default:$a=ht.VBR_min_bitrate_kbps}switch(ht.VBR.ordinal()<fe.length?$t=fe[ht.VBR.ordinal()]:$t=0,re=16*te+$t,ee.findReplayGain&&(ee.RadioGain>510&&(ee.RadioGain=510),ee.RadioGain<-510&&(ee.RadioGain=-510),Me=8192,Me|=3072,ee.RadioGain>=0?Me|=ee.RadioGain:(Me|=512,Me|=-ee.RadioGain)),ee.findPeakSample&&(ze=Math.abs(0|ee.PeakSample/32767*Math.pow(2,23)+.5)),As!=-1&&(jr>0&&(On=!0),jr<As-1&&(on=!0)),Rs=fs+((mn?1:0)<<4)+((Jr?1:0)<<5)+((on?1:0)<<6)+((On?1:0)<<7),Oe<0&&(Oe=0),ht.mode){case MONO:ki=0;break;case STEREO:ki=1;break;case DUAL_CHANNEL:ki=2;break;case JOINT_STEREO:ht.force_ms?ki=4:ki=3;break;case NOT_SET:default:ki=7;break}ht.in_samplerate<=32e3?Xi=0:ht.in_samplerate==48e3?Xi=2:ht.in_samplerate>48e3?Xi=3:Xi=1,(ht.short_blocks==jd.short_block_forced||ht.short_blocks==jd.short_block_dispensed||ht.lowpassfreq==-1&&ht.highpassfreq==-1||ht.scale_left<ht.scale_right||ht.scale_left>ht.scale_right||ht.disable_reservoir&&ht.brate<320||ht.noATH||ht.ATHonly||fs==0||ht.in_samplerate<=32e3)&&(Li=1),Bi=rr+(ki<<2)+(Li<<5)+(Xi<<6),Ir=ee.nMusicCRC,Ut(vt,Vt+pe,Oe),pe+=4;for(var da=0;da<9;da++)vt[Vt+pe+da]=255&wt.charAt(da);pe+=9,vt[Vt+pe]=255&re,pe++,vt[Vt+pe]=255&Je,pe++,Ut(vt,Vt+pe,ze),pe+=4,Ht(vt,Vt+pe,Me),pe+=2,Ht(vt,Vt+pe,hi),pe+=2,vt[Vt+pe]=255&Rs,pe++,$a>=255?vt[Vt+pe]=255:vt[Vt+pe]=255&$a,pe++,vt[Vt+pe]=255&at>>4,vt[Vt+pe+1]=255&(at<<4)+(gt>>8),vt[Vt+pe+2]=255&gt,pe+=3,vt[Vt+pe]=255&Bi,pe++,vt[Vt+pe++]=0,Ht(vt,Vt+pe,ht.preset),pe+=2,Ut(vt,Vt+pe,pt),pe+=4,Ht(vt,Vt+pe,Ir),pe+=2;for(var Nu=0;Nu<pe;Nu++)Re=ct(vt[Vt+Nu],Re);return Ht(vt,Vt+pe,Re),pe+=2,pe}function kt(ht){ht.seek(0);var pt=Zl(10);ht.readFully(pt);var vt;return new String(pt,"ISO-8859-1").startsWith("ID3")?vt=0:vt=((pt[6]&127)<<21|(pt[7]&127)<<14|(pt[8]&127)<<7|pt[9]&127)+pt.length,vt}this.getLameTagFrame=function(ht,pt){var vt=ht.internal_flags;if(!ht.bWriteVbrTag||vt.Class_ID!=rn.LAME_ID||vt.VBR_seek_table.pos<=0)return 0;if(pt.length<vt.VBR_seek_table.TotalFrameSize)return vt.VBR_seek_table.TotalFrameSize;cb.fill(pt,0,vt.VBR_seek_table.TotalFrameSize,0),bt(ht,pt);var Vt=Zl(ui);if(ht.free_format)for(var Re=1;Re<ui;++Re)Vt[Re]=255&255*Re/100;else Pt(vt.VBR_seek_table,Vt);var ee=vt.sideinfo_len;ht.error_protection&&(ee-=2),ht.VBR==_d.vbr_off?(pt[ee++]=255&ne.charAt(0),pt[ee++]=255&ne.charAt(1),pt[ee++]=255&ne.charAt(2),pt[ee++]=255&ne.charAt(3)):(pt[ee++]=255&ae.charAt(0),pt[ee++]=255&ae.charAt(1),pt[ee++]=255&ae.charAt(2),pt[ee++]=255&ae.charAt(3)),Ut(pt,ee,Se+De+me+_e),ee+=4,Ut(pt,ee,vt.VBR_seek_table.nVbrNumFrames),ee+=4;var pe=vt.VBR_seek_table.nBytesWritten+vt.VBR_seek_table.TotalFrameSize;Ut(pt,ee,0|pe),ee+=4,Cg.arraycopy(Vt,0,pt,ee,Vt.length),ee+=Vt.length,ht.error_protection&&ge.CRC_writeheader(vt,pt);for(var at=0,Re=0;Re<ee;Re++)at=ct(pt[Re],at);return ee+=Tt(ht,pe,pt,ee,at),vt.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(ht,pt){var vt=ht.internal_flags;if(vt.VBR_seek_table.pos<=0||(pt.seek(pt.length()),pt.length()==0))return-1;var Vt=kt(pt);pt.seek(Vt);var Re=Zl(ai),ee=getLameTagFrame(ht,Re);return ee>Re.length?-1:(ee<1||pt.write(Re,0,ee),0)}}var Rp=Ah,kg=v.new_byte,db=v.assert,rn=ab,D=Ep,H=Mn,it=Pi,st=hb,mt=ul,St=Pp,Lt=le,ue=Ql;function he(){this.setModules=function(Yt,ge){}}function Pe(){this.setModules=function(Yt,ge,be){}}function Ye(){}function Xe(){this.setModules=function(Yt,ge){}}function Ne(Yt,ge,be){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),Yt=1,ge=44100,be=128);var Se=new rn,De=new he,me=new H,_e=new ue,ui=new D,ai=new it,se=new st,Ue=new Rp,Gt=new Ap,Wt=new Xe,Qt=new St,J=new mt,ae=new Pe,ne=new Ye;Se.setModules(me,_e,ui,ai,se,Ue,Gt,Wt,ne),_e.setModules(me,ne,Gt,Ue),Wt.setModules(_e,Gt),ui.setModules(Se),se.setModules(_e,Qt,ai,J),ai.setModules(J,Qt,Se.enc.psy),Qt.setModules(_e),J.setModules(ai),Ue.setModules(Se,_e,Gt),De.setModules(ae,ne),ae.setModules(Gt,Wt,ui);var Zt=Se.lame_init();Zt.num_channels=Yt,Zt.in_samplerate=ge,Zt.brate=be,Zt.mode=Lt.STEREO,Zt.quality=3,Zt.bWriteVbrTag=!1,Zt.disable_reservoir=!0,Zt.write_id3tag_automatic=!1,Se.lame_init_params(Zt);var lt=1152,Pt=0|1.25*lt+7200,zt=kg(Pt);this.encodeBuffer=function(Ut,Ht){Yt==1&&(Ht=Ut),db(Ut.length==Ht.length),Ut.length>lt&&(lt=Ut.length,Pt=0|1.25*lt+7200,zt=kg(Pt));var nt=Se.lame_encode_buffer(Zt,Ut,Ht,Ut.length,zt,0,Pt);return new Int8Array(zt.subarray(0,nt))},this.flush=function(){var Ut=Se.lame_encode_flush(Zt,zt,0,Pt);return new Int8Array(zt.subarray(0,Ut))}}function qe(Yt){return Yt.charCodeAt(0)<<24|Yt.charCodeAt(1)<<16|Yt.charCodeAt(2)<<8|Yt.charCodeAt(3)}qe("RIFF"),qe("WAVE"),qe("fmt "),qe("data");var qi=Ne,wr=function(Yt,ge){if(!(Yt instanceof ge))throw new TypeError("Cannot call a class as a function")},or=function(){function Yt(ge,be){for(var Se=0;Se<be.length;Se++){var De=be[Se];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(ge,De.key,De)}}return function(ge,be,Se){return be&&Yt(ge.prototype,be),Se&&Yt(ge,Se),ge}}(),Jn=function(){function Yt(ge){wr(this,Yt),this.config={sampleRate:44100,bitRate:128},Object.assign(this.config,ge),this.mp3Encoder=new qi(1,this.config.sampleRate,this.config.bitRate),this.maxSamples=1152,this.samplesMono=null,this.clearBuffer()}return or(Yt,[{key:"clearBuffer",value:function(){this.dataBuffer=[]}},{key:"appendToBuffer",value:function(be){this.dataBuffer.push(new Int8Array(be))}},{key:"floatTo16BitPCM",value:function(be,Se){for(var De=0;De<be.length;De++){var me=Math.max(-1,Math.min(1,be[De]));Se[De]=me<0?me*32768:me*32767}}},{key:"convertBuffer",value:function(be){var Se=new Float32Array(be),De=new Int16Array(be.length);return this.floatTo16BitPCM(Se,De),De}},{key:"encode",value:function(be){this.samplesMono=this.convertBuffer(be);for(var Se=this.samplesMono.length,De=0;Se>=0;De+=this.maxSamples){var me=this.samplesMono.subarray(De,De+this.maxSamples),_e=this.mp3Encoder.encodeBuffer(me);this.appendToBuffer(_e),Se-=this.maxSamples}}},{key:"finish",value:function(){return this.appendToBuffer(this.mp3Encoder.flush()),this.dataBuffer}}]),Yt}(),ws=function(){function Yt(ge){wr(this,Yt),this.config={bitRate:128,startRecordingAt:300,deviceId:null},this.activeStream=null,this.context=null,this.microphone=null,this.processor=null,this.startTime=0,Object.assign(this.config,ge)}return or(Yt,[{key:"addMicrophoneListener",value:function(be){var Se=this;this.activeStream=be,this.timerToStart=setTimeout(function(){delete Se.timerToStart},this.config.startRecordingAt),this.microphone=this.context.createMediaStreamSource(be),this.processor=this.context.createScriptProcessor(0,1,1),this.processor.onaudioprocess=function(De){Se.timerToStart||Se.lameEncoder.encode(De.inputBuffer.getChannelData(0))},this.microphone.connect(this.processor),this.processor.connect(this.context.destination)}},{key:"stop",value:function(){return this.processor&&this.microphone&&(this.microphone.disconnect(),this.processor.disconnect(),this.context&&this.context.state!=="closed"&&this.context.close(),this.processor.onaudioprocess=null,this.activeStream.getAudioTracks().forEach(function(be){return be.stop()})),this}},{key:"start",value:function(){var be=this,Se=window.AudioContext||window.webkitAudioContext;this.context=new Se,this.config.sampleRate=this.context.sampleRate,this.lameEncoder=new Jn(this.config);var De=this.config.deviceId?{deviceId:{exact:this.config.deviceId}}:!0;return new Promise(function(me,_e){navigator.mediaDevices.getUserMedia({audio:De}).then(function(ui){be.addMicrophoneListener(ui),me(ui)}).catch(function(ui){_e(ui)})})}},{key:"getMp3",value:function(){var be=this,Se=this.lameEncoder.finish();return new Promise(function(De,me){Se.length===0?me(new Error("No buffer to send")):(De([Se,new Blob(Se,{type:"audio/mp3"})]),be.lameEncoder.clearBuffer())})}}]),Yt}();return ws})})(Kz);var ejt=Kz.exports;const ijt=ks(ejt),rjt="_modal_4rcxv_1",njt="_mainContainer_4rcxv_14",sjt="_header_4rcxv_32",ajt="_audioRow_4rcxv_50",ojt="_timer_4rcxv_59",ljt="_button_4rcxv_65",ujt="_buttonRecording_4rcxv_86",hjt="_buttonIcon_4rcxv_90",cjt="_buttonBottom_4rcxv_95",djt="_recordIcon_4rcxv_99",fjt="_blink_4rcxv_1",pjt="_audio_4rcxv_50",vjt="_insertButton_4rcxv_115",mjt="_errorContainer_4rcxv_136",gjt="_errorIcon_4rcxv_148",yjt="_errorText_4rcxv_155",xjt="_hiddenInput_4rcxv_159",$s={modal:rjt,mainContainer:njt,header:sjt,audioRow:ajt,timer:ojt,button:ljt,buttonRecording:ujt,buttonIcon:hjt,buttonBottom:cjt,recordIcon:djt,blink:fjt,audio:pjt,insertButton:vjt,errorContainer:mjt,errorIcon:gjt,errorText:yjt,hiddenInput:xjt},bjt=30,Sjt=e=>{const t=Math.floor(e/60),r=e-t*60,n=(d,S,s)=>(new Array(s+1).join(S)+d).slice(-s);return`${n(t,"0",2)}:${n(r,"0",2)}`};class Jz extends ti.Component{constructor(t){super(t),this.state={timer:0,recordState:"stopped",audioData:null,error:""},this.uploadInput=ti.createRef(),this.onUpload=this.onUpload.bind(this),this.startRecording=this.startRecording.bind(this),this.stopRecording=this.stopRecording.bind(this)}componentDidMount(){return ci(this,null,function*(){this.recorder=new ijt({bitRate:128})})}componentWillUnmount(){clearInterval(this.timerInterval)}onUpload(t){t.stopPropagation(),t.preventDefault();const r=t.target.files[0];if(r){if(r.size>2e6)return this.setState({error:"File too big (2MB Max)"});this.setState({audioData:null},()=>{this.setState({error:"",audioData:{blob:r,url:URL.createObjectURL(r)}})})}}startRecording(){this.recorder.start().then(()=>{this.setState({recordState:"recording",error:""},()=>{this.timerInterval=setInterval(()=>{const t=this.state.timer+1;this.setState({timer:t}),t>=bjt&&this.stopRecording()},1e3)})}).catch(()=>{this.setState({error:"Browser did not allow audio recording."})})}stopRecording(){return ci(this,null,function*(){clearInterval(this.timerInterval),this.recorder.stop().getMp3().then(([,t])=>{this.setState({audioData:null,recordState:"stopped",timer:0},()=>{this.setState({audioData:{url:URL.createObjectURL(t),blob:t},error:""})})})})}render(){return R.jsxs(R.Fragment,{children:[R.jsx("div",{className:$s.modal,role:"button",tabIndex:0,onClick:this.props.onClose}),R.jsxs("div",{className:$s.mainContainer,children:[R.jsx("div",{className:$s.header,children:"Add Audio"}),R.jsxs("div",{className:$s.audioRow,children:[R.jsxs("div",{className:Ct($s.button,{[$s.buttonRecording]:this.state.recordState==="recording"}),role:"button",tabIndex:0,onClick:this.state.recordState==="recording"?this.stopRecording:this.startRecording,children:[R.jsx("i",{className:Ct(this.state.recordState==="recording"?"fas fa-save":"fas fa-microphone-alt",$s.buttonIcon)}),this.state.recordState==="recording"?"Stop Recording":"Record Audio"]}),this.state.recordState==="recording"?R.jsxs(R.Fragment,{children:[R.jsx("i",{className:Ct("fas fa-circle",$s.recordIcon)}),R.jsx("div",{className:$s.timer,children:Sjt(this.state.timer)})]}):null]}),R.jsxs("div",{className:Ct($s.button,$s.buttonBottom),role:"button",tabIndex:0,onClick:()=>this.uploadInput.current.click(),children:[R.jsx("i",{className:Ct("fas fa-file-upload",$s.buttonIcon)}),"Upload Audio"]}),R.jsx("input",{type:"file",className:$s.hiddenInput,onChange:this.onUpload,ref:this.uploadInput,accept:"audio/*"}),this.state.error?R.jsxs("div",{className:$s.errorContainer,children:[R.jsx("i",{className:Ct($s.errorIcon,"fas fa-times-circle")}),R.jsx("div",{className:$s.errorText,children:this.state.error})]}):this.state.audioData?R.jsxs(R.Fragment,{children:[R.jsx("audio",{controls:!0,className:$s.audio,children:R.jsx("source",{src:this.state.audioData.url,type:"audio/mpeg"})}),R.jsx("div",{className:$s.insertButton,role:"button",tabIndex:0,onClick:()=>this.props.onDone(this.state.audioData),children:"Insert"})]}):null]})]})}}Jz.propTypes={onDone:Xt.func.isRequired,onClose:Xt.func.isRequired};const wjt="_modal_c3d0v_1",Tjt="_mainContainer_c3d0v_14",Cjt="_mainRegularBody_c3d0v_33",Ejt="_header_c3d0v_56",kjt="_group_c3d0v_74",Pjt="_groupName_c3d0v_80",Ajt="_symbolContainer_c3d0v_86",Rjt="_symbol_c3d0v_86",Ijt="_link_c3d0v_111",Mjt="_spacer_c3d0v_115",eu={modal:wjt,mainContainer:Tjt,mainRegularBody:Cjt,header:Ejt,group:kjt,groupName:Pjt,symbolContainer:Ajt,symbol:Rjt,link:Ijt,spacer:Mjt},Bjt={Superscript:["","","","","","","","","","","","","","",""],Subscript:["","","","","","","","","","","","","","",""],"Lowercase Accents":["","","","","","","",""," ","","","","","","","","","","","","","","","","","","","","",""],"Uppercase Accents":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Common:["","","","","","",""," ","","","","","","","","","",""],"Lowercase Greek":["","","","","","","","","","","","","","","","","","","","","","","",""],"Uppercase Greek":["","","","","","","","","","","","","","",""," ","","","","","","","",""]},Zz=({select:e})=>R.jsxs(R.Fragment,{children:[R.jsx("div",{className:eu.modal,role:"button",tabIndex:0,onClick:()=>e("")}),R.jsxs("div",{className:eu.mainContainer,children:[R.jsx("div",{className:eu.header,children:"Symbol Keyboard"}),R.jsxs("div",{className:eu.mainRegularBody,children:[Object.entries(Bjt).map(([t,r])=>R.jsxs("div",{className:eu.group,children:[R.jsx("div",{className:eu.groupName,children:t}),R.jsx("div",{className:eu.symbolContainer,children:r.map(n=>R.jsx("div",{className:eu.symbol,role:"button",tabIndex:0,onClick:()=>e(n),children:n},n))})]},t)),R.jsx("a",{href:"https://symbolsalad.com/",target:"_blank",rel:"noopener noreferrer",className:eu.link,children:"More Symbols"})]}),R.jsx("div",{className:eu.spacer})]})]});Zz.propTypes={select:Xt.func.isRequired};const Ojt="_modal_yp3ka_1",Njt="_mainContainer_yp3ka_14",Ljt="_header_yp3ka_29",Fjt="_buttonsHolder_yp3ka_47",Djt="_button_yp3ka_47",_jt="_buttonIcon_yp3ka_78",sf={modal:Ojt,mainContainer:Njt,header:Ljt,buttonsHolder:Fjt,button:Djt,buttonIcon:_jt},UC={mc:{name:"Multiple Choice",icon:"fas fa-th-large"},typing:{name:"Typing Answer",icon:"fas fa-keyboard"}};class qz extends ti.Component{constructor(t){super(t),this.state={}}render(){return R.jsxs(R.Fragment,{children:[R.jsx("div",{className:sf.modal,role:"button",tabIndex:0,onClick:this.props.onClose}),R.jsxs("div",{className:sf.mainContainer,children:[R.jsx("div",{className:sf.header,children:"Question Type"}),R.jsx("div",{className:sf.buttonsHolder,children:Object.entries(UC).map(([t,r])=>R.jsxs("div",{className:sf.button,role:"button",tabIndex:0,onClick:()=>this.props.onDone(t),children:[R.jsx("i",{className:Ct(r.icon,sf.buttonIcon)}),r.name]},t))})]})]})}}qz.propTypes={onDone:Xt.func.isRequired,onClose:Xt.func.isRequired};var tU={};Fn.addStyles();const xT=e=>{e!==document.activeElement&&setTimeout(()=>{e.focus(),e.setSelectionRange(e.value.length,e.value.length)},0)},lR=e=>ci(An,null,function*(){return new Promise(t=>ci(An,null,function*(){if(e.id)return t(e);let r={};e.file?r=yield new Promise(n=>{const d=new FormData;d.append("file",e.file),d.append("tags",""),d.append("upload_preset","normal"),d.append("api_key",tU.CLOUDINARY_API_KEY),d.append("timestamp",parseInt(Date.now()/1e3,10)),ng.post("https://api.cloudinary.com/v1_1/blooket/image/upload",d,{headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!1}).then(S=>{n({url:S.data.secure_url,id:S.data.public_id})}).catch(S=>{Ve.logError(S),n({})})}):e.url&&(r.url=e.url,r.id="",e.url.includes("https://images.unsplash.com")&&(r.id="u")),t(r)}))}),jjt=e=>new Promise(t=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.readAsDataURL(e)}),zjt=e=>ci(An,null,function*(){return new Promise(t=>ci(An,null,function*(){if(!e||e.id)return t(e||{});let r={};if(e.blob){const n=yield jjt(e.blob);r=yield new Promise(d=>{const S=new FormData;S.append("file",n),S.append("tags",""),S.append("upload_preset","to_mp3"),S.append("api_key",tU.CLOUDINARY_API_KEY),S.append("timestamp",parseInt(Date.now()/1e3,10)),ng.post("https://api.cloudinary.com/v1_1/blooket/upload",S,{headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!1}).then(s=>{d({url:s.data.secure_url,id:s.data.public_id})}).catch(s=>{Ve.logError(s),d({})})})}t(r)}))}),uR=e=>{let t="";for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].textContent?t+=e.childNodes[r].textContent:t+=`
`;return t=t.trim(),t};class GC extends ti.Component{constructor(t){super(t);const r=t.question||{},n={qType:r.qType||"mc",answers:[],answerTypes:[]},d=[];if(r.correctAnswers)for(let g=0;g<r.correctAnswers.length;g++)d.push(r.answers.indexOf(r.correctAnswers[g])+1);const S=r.question||"",s=["",""];if(S.includes("`*`")?(s[1]=S.slice(S.indexOf("`*`")+3,S.length-3),s[0]=S.slice(0,S.indexOf("`*`"))):s[0]=S,n.question=s[0]?s[0].replaceAll(`
`,"<br>"):"",n.qEq=s[1],n.qType==="typing")n.answers=r.answers,n.answerTypes=r.answerTypes;else for(let g=1;g<=4;g++){const i=r.answers&&r.answers.length>=g?r.answers[g-1]:"",o=["","",{}],m=i.split("`~`");m.length===2?o[2]={id:m[0],url:m[1]}:i.slice(0,3)==="`*`"?o[1]=i.slice(3,i.length-3):o[0]=i,n[`answer${g}`]=o[0],n[`answer${g}Eq`]=o[1],n[`answer${g}Img`]=o[2]}this.state=Fr(Fi({},n),{qImg:r.image||{},qAudio:r.audio||null,equation:"",correctAnswers:d,timeLimit:r.timeLimit||20,random:r.random!==void 0?r.random:!0,number:r.number,addingImgNum:0,addingQImg:!1,addingEqNum:0,addingAudio:!1,symbolTarget:0,loading:!1,error:{},plusMsg:"",editingQType:!1}),this.question=ti.createRef(),this.answer1=ti.createRef(),this.answer2=ti.createRef(),this.answer3=ti.createRef(),this.answer4=ti.createRef(),this.gotPlus=!1,this.plus=!1,this.onKeyPress=this.onKeyPress.bind(this),this.onTextAreaInput=this.onTextAreaInput.bind(this),this.setCorrect=this.setCorrect.bind(this),this.setQuestionType=this.setQuestionType.bind(this),this.setStateArrayVal=this.setStateArrayVal.bind(this),this.addEquation=this.addEquation.bind(this),this.addAudio=this.addAudio.bind(this),this.addSymbol=this.addSymbol.bind(this),this.save=this.save.bind(this),this.resetTextAreaPositions=this.resetTextAreaPositions.bind(this)}componentDidMount(){document.addEventListener("keydown",this.onKeyPress),this.state.question||xT(this.question.current),this.resetTextAreaPositions()}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyPress)}onKeyPress(t){this.state.addingImgNum||this.state.addingQImg||this.state.addingAudio||this.state.addingEqNum||this.state.symbolTarget||t.keyCode===13&&t.shiftKey===!1&&this.save(t)}onTextAreaInput(t,r){this.setState({[r]:t.target.value,error:this.state.error.type===r?{}:this.state.error},()=>{this[r].current.style.height=0,this[r].current.style.height=`${this[r].current.scrollHeight}px`})}getIsPlus(t,r){return ci(this,null,function*(){if(this.gotPlus||(this.plus=yield new Promise(n=>{vi.get("/api/users/plan").then(d=>{n(d.data.hasPlus)}).catch(d=>{Ve.logError(d),n(!1)})}),this.gotPlus=!0),!this.plus)return this.setState({plusMsg:t});r()})}setCorrect(t){let r=this.state.error;(r.type==="correctAnswers"||r.type==="answer3"&&t===3||r.type==="answer4"&&t===4)&&(r={});const n=[...this.state.correctAnswers],d=n.indexOf(t);d===-1?n.push(t):n.splice(d,1),this.setState({correctAnswers:n,error:r})}setQuestionType(t){const r={};if(t==="mc"){this.state.answers.forEach((n,d)=>{r[`answer${d+1}`]=n,r[`answer${d+1}Eq`]="",r[`answer${d+1}Img`]={}});for(let n=this.state.answers.length;n<4;n++)r[`answer${n+1}`]="",r[`answer${n+1}Eq`]="",r[`answer${n+1}Img`]={}}else t==="typing"&&(r.answers=[],r.answerTypes=[],[1,2,3,4].forEach(n=>{this.state[`answer${n}`]&&(r.answers.push(this.state[`answer${n}`]),r.answerTypes.push("exactly"))}),r.answers.length===0&&(r.answers.push(""),r.answerTypes.push("exactly")));this.setState(Fr(Fi({},r),{qType:t,correctAnswers:[],editingQType:!1}),this.resetTextAreaPositions)}setStateArrayVal(t,r,n){this.setState({[t]:this.state[t].map((d,S)=>r===S?n:d)})}addEquation(t){let r="q";this.state.addingEqNum<5&&(r=`answer${this.state.addingEqNum}`),this.setState({[`${r}Eq`]:t,[`${r}Img`]:{},qAudio:r==="q"?null:this.state.qAudio,addingEqNum:0},()=>{this.question.current.style.height=0,this.question.current.style.height=`${this.question.current.scrollHeight}px`})}addAudio(t){this.setState({addingAudio:!1}),t&&this.setState({qAudio:null},()=>{this.setState({qAudio:t,qImg:{},qEq:""},()=>{this.question.current.style.height=0,this.question.current.style.height=`${this.question.current.scrollHeight}px`})})}addSymbol(t){this.state.symbolTarget===5?(this.setState({question:this.state.question+t}),this.question.current.focus()):(this.setState({[`answer${this.state.symbolTarget}`]:this.state[`answer${this.state.symbolTarget}`]+t}),this[`answer${this.state.symbolTarget}`].current.focus()),this.setState({symbolTarget:0})}save(t){return ci(this,null,function*(){if(t.preventDefault(),this.state.loading)return;this.setState({loading:!0});const r=`${uR(this.question.current)}${this.state.qEq?`\`*\`${this.state.qEq}\`*\``:""}`.replaceAll("<br>",`
`).replaceAll("&nbsp;"," "),n=[],d=[],S=[];let s=[],g=[];if(this.state.qType==="mc")for(let a=0;a<4;a++){const f=this.state[`answer${a+1}Img`];n.push(f);const p=this.state[`answer${a+1}Eq`];f.url?d.push(`img${a+1}`):p?d.push(`\`*\`${p}\`*\``):d.push(uR(this[`answer${a+1}`].current).replaceAll("<br>",`
`).replaceAll("&nbsp;"," "))}else this.state.qType==="typing"&&(s=this.state.answers.filter(a=>!!a));let i={};if(r||(i={msg:"Where's the question?",type:"question"}),this.state.qType==="mc")this.state.correctAnswers[0]||(i={msg:"Which answer is correct?",type:"correctAnswers"}),d[0]||(i={msg:"Answers 1 and 2 must be filled.",type:"answer1"}),d[1]||(i={msg:"Answers 1 and 2 must be filled.",type:"answer2"}),this.state.correctAnswers.includes(3)&&!d[2]&&(i={msg:"Answer 3 can't be correct if it doesn't exist.",type:"answer3"}),this.state.correctAnswers.includes(4)&&!d[3]&&(i={msg:"Answer 4 can't be correct if it doesn't exist.",type:"answer4"}),d[0]===d[1]&&(i={msg:"No duplicate answers.",type:"answer2"}),s=[d[0],d[1]],g=[n[0],n[1]],this.state.correctAnswers.includes(1)&&S.push(s[0]),this.state.correctAnswers.includes(2)&&S.push(s[1]),d[2]&&(s.includes(d[2])?i={msg:"No duplicate answers.",type:"answer3"}:(s.push(d[2]),g.push(n[2]),this.state.correctAnswers.includes(3)&&S.push(d[2]))),d[3]&&(s.includes(d[3])?i={msg:"No duplicate answers.",type:"answer4"}:(s.push(d[3]),g.push(n[3]),this.state.correctAnswers.includes(4)&&S.push(d[3])));else if(this.state.qType==="typing"){let a=!1;s.forEach((f,p)=>{s.forEach((u,v)=>{f===u&&p!==v&&(a=!0)})}),a&&(i={msg:"No duplicate answers."}),s.length===0&&(i={msg:"You must include an answer."})}if(this.setState({error:i}),i.msg)return this.setState({loading:!1});const o=[lR(this.state.qImg),zjt(this.state.qAudio)];s.forEach((a,f)=>{o.push(lR(g[f]||{}))});const m=yield Promise.all(o),c=m[0],l=m[1],h=m.slice(2);this.props.isAdding?vi.put("/api/games/addquestion",{gameId:this.props.gameId,question:r,answers:s,correctAnswers:S,timeLimit:Number(this.state.timeLimit),random:this.state.random,image:c,audio:l,answerImages:h,qType:this.state.qType,answerTypes:this.state.answerTypes}).then(a=>{a.data.success?this.props.onDone(!0):this.setState({error:{msg:a.data.msg,type:"question"},loading:!1})}).catch(a=>{Ve.logError(a);const f=a.response&&a.response.data&&a.response.data.msg?a.response.data.msg:"Something went wrong";this.setState({error:{type:"question",msg:f},loading:!1})}):vi.put("/api/games/updatequestion",{number:this.state.number,gameId:this.props.gameId,question:r,answers:s,correctAnswers:S,timeLimit:Number(this.state.timeLimit),random:this.state.random,image:c,audio:l,answerImages:h,qType:this.state.qType,answerTypes:this.state.answerTypes}).then(a=>{a.data.success?this.props.onDone(!0):this.setState({error:{msg:a.data.msg,type:"question"},loading:!1})}).catch(a=>{Ve.logError(a),this.setState({error:{type:"question",msg:a.response?a.response.data:"Something went wrong."},loading:!1})})})}resetTextAreaPositions(){["question","answer1","answer2","answer3","answer4"].forEach(t=>{this[t].current&&(this[t].current.style.height=0,this[t].current.style.height=`${this[t].current.scrollHeight}px`)})}render(){return R.jsxs("div",{className:mi.wrapper,children:[R.jsx("div",{className:mi.modal,children:R.jsxs("div",{className:mi.mainContainer,children:[R.jsx(kc,{place:"bottom",effect:"solid",className:mi.tooltip}),R.jsxs("div",{className:mi.header,children:[R.jsxs("div",{className:mi.headerRow,children:[R.jsxs("div",{className:mi.headerContainer,"data-tip":"The max time a student can spend on a question.",children:[R.jsx("i",{className:Ct("far fa-clock",mi.headerIcon)}),R.jsxs("div",{className:mi.headerText,children:["Time",R.jsx("br",{}),"Limit"]}),R.jsx("input",{className:mi.timeInput,onChange:t=>this.setState({timeLimit:Math.max(0,Math.min(300,Math.floor(t.target.value)))}),type:"number",value:this.state.timeLimit})]}),R.jsxs("div",{className:mi.headerContainer,"data-tip":"When checked, answers will be given in a random order.",children:[R.jsx("i",{className:Ct("fas fa-random",mi.headerIcon)}),R.jsxs("div",{className:mi.headerText,children:["Random",R.jsx("br",{}),"Order"]}),R.jsx("div",{className:Ct(mi.randomButton,{[mi.isRandom]:this.state.random}),role:"button",tabIndex:-1,onClick:()=>this.setState({random:!this.state.random}),children:R.jsx("i",{className:Ct("fas fa-check",mi.randomCheck)})})]}),R.jsxs("div",{className:mi.headerContainerButton,role:"button",tabIndex:0,onClick:()=>this.setState({editingQType:!0}),children:[R.jsx("i",{className:Ct(UC[this.state.qType].icon,mi.headerIcon)}),R.jsx("div",{className:mi.headerText,children:UC[this.state.qType].name}),R.jsx("i",{className:Ct("fas fa-chevron-down",mi.questionTypeArrow)})]})]}),R.jsxs("div",{className:mi.headerRow,children:[R.jsxs("div",{className:mi.cancelButton,role:"button",tabIndex:-1,onClick:()=>this.props.onDone(!1),children:[R.jsx("i",{className:Ct("fas fa-times",mi.cancelIcon)}),R.jsx("div",{className:mi.cancelText,children:"Cancel"})]}),R.jsx("div",{className:mi.saveButton,role:"button",tabIndex:-1,onClick:this.save,children:this.state.loading?R.jsx("i",{className:Ct("fas fa-sync",mi.loadingIcon)}):R.jsxs(R.Fragment,{children:[R.jsx("i",{className:Ct("fas fa-save",mi.saveIcon)}),R.jsx("div",{className:mi.saveText,children:"Save"})]})})]})]}),R.jsxs("div",{className:mi.questionRegularBody,children:[R.jsxs("div",{className:mi.questionContainer,style:{backgroundColor:gc.default.background},children:[R.jsxs("div",{className:mi.questionLeftContainer,children:[R.jsxs("div",{className:mi.questionButton,role:"button",tabIndex:-1,onClick:()=>this.setState({addingQImg:!0}),children:[R.jsx("i",{className:Ct("fas fa-image",mi.questionIcon)}),"Image"]}),R.jsxs("div",{className:mi.questionButton,role:"button",tabIndex:-1,onClick:()=>this.setState({addingEqNum:5,equation:this.state.qEq}),children:[R.jsx("i",{className:Ct("fas fa-superscript",mi.questionIcon)}),"Math"]}),R.jsxs("div",{className:mi.questionButton,role:"button",tabIndex:-1,onClick:()=>this.getIsPlus("Record Question Audio",()=>this.setState({addingAudio:!0})),children:[R.jsx("i",{className:Ct("fas fa-microphone-alt",mi.questionIcon)}),"Audio"]})]}),this.state.qAudio?R.jsxs("div",{className:mi.questionImgWrapper,children:[R.jsx(fh,{audioUrl:this.state.qAudio.url}),R.jsxs("div",{className:mi.removeQButton,role:"button",tabIndex:0,onClick:()=>this.setState({qAudio:null}),children:[R.jsx("i",{className:Ct("fas fa-trash-alt",mi.removeQIcon)}),"Remove"]})]}):this.state.qImg.url?R.jsxs("div",{className:mi.questionImgWrapper,children:[R.jsx("div",{className:mi.questionImgContainer,children:R.jsx("img",{src:this.state.qImg.url,alt:"Upload",className:mi.img,draggable:!1})}),R.jsxs("div",{className:mi.removeQButton,role:"button",tabIndex:0,onClick:()=>this.setState({qImg:{}}),children:[R.jsx("i",{className:Ct("fas fa-trash-alt",mi.removeQIcon)}),"Remove"]})]}):this.state.qEq?R.jsxs("div",{className:mi.questionEqWrapper,children:[R.jsx(Fn.StaticMathField,{className:mi.mathField,children:this.state.qEq}),R.jsxs("div",{className:mi.removeQButton,role:"button",tabIndex:0,onClick:()=>this.setState({qEq:""}),children:[R.jsx("i",{className:Ct("fas fa-trash-alt",mi.removeQIcon)}),"Remove"]})]}):null,R.jsxs("div",{className:Ct(mi.questionTextContainer,{[mi.errorBorder]:this.state.error.type==="question"}),role:"button",tabIndex:-1,onClick:()=>xT(this.question.current),children:[R.jsx("textarea",{className:mi.questionText,onChange:t=>this.onTextAreaInput(t,"question"),"data-gramm_editor":"false",spellCheck:"false",value:this.state.question,placeholder:"Question Text",ref:this.question}),R.jsx("i",{className:Ct(mi.keyboardIcon,"far fa-keyboard"),"data-tip":"Show Symbol Keyboard",role:"button",tabIndex:-1,onClick:()=>this.setState({symbolTarget:5})})]}),this.state.error.msg?R.jsx("div",{className:mi.errorContainer,children:this.state.error.msg}):null]}),this.state.qType==="mc"?R.jsx("div",{className:mi.answersHolder,children:[1,2,3,4].map(t=>R.jsx("div",{className:mi.answerWrapper,children:R.jsxs("div",{className:mi.answerContainer,style:{backgroundColor:gc.default.answers[t-1].background},children:[R.jsxs("div",{className:mi.answerLeftContainer,children:[R.jsx("div",{className:Ct(mi.correctButton,{[mi.correctAnswer]:this.state.correctAnswers.includes(t)}),role:"button",tabIndex:-1,onClick:()=>this.setCorrect(t),children:R.jsx("i",{className:Ct("fas fa-check",mi.correctCheck)})}),R.jsxs("div",{className:mi.answerButtonRow,children:[R.jsx("div",{className:mi.answerIconButton,role:"button",tabIndex:-1,onClick:()=>this.getIsPlus("Add Answer Images",()=>this.setState({addingImgNum:t})),"data-tip":"Add Image",children:R.jsx("i",{className:Ct("fas fa-image",mi.answerIcon)})}),R.jsx("div",{className:mi.answerIconButton,role:"button",tabIndex:-1,onClick:()=>this.setState({addingEqNum:t,equation:this.state[`answer${t}Eq`]}),"data-tip":"Add Math",children:R.jsx("i",{className:Ct("fas fa-superscript",mi.answerIcon)})})]})]}),this.state[`answer${t}Img`].url?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:mi.answerImgContainer,children:R.jsx("img",{src:this.state[`answer${t}Img`].url,alt:"Upload",className:mi.img,draggable:!1})}),R.jsx("div",{className:mi.removeButton,role:"button",tabIndex:-1,onClick:()=>this.setState({[`answer${t}Img`]:{}}),children:R.jsx("i",{className:Ct("fas fa-trash-alt",mi.answerIcon)})})]}):this.state[`answer${t}Eq`]?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:mi.answerImgContainer,children:R.jsx(Fn.StaticMathField,{className:mi.mathAnswerField,children:this.state[`answer${t}Eq`]})}),R.jsx("div",{className:mi.removeButton,role:"button",tabIndex:0,onClick:()=>this.setState({[`answer${t}Eq`]:""}),children:R.jsx("i",{className:Ct("fas fa-trash-alt",mi.answerIcon)})})]}):R.jsxs("div",{className:Ct(mi.answerTextContainer,{[mi.errorBorder]:this.state.error.type===`answer${t}`||this.state.error.type==="correctAnswers"&&[1,2].includes(t)}),role:"button",tabIndex:-1,onClick:()=>xT(this[`answer${t}`].current),children:[R.jsx("textarea",{className:mi.answerText,onChange:r=>this.onTextAreaInput(r,`answer${t}`),"data-gramm_editor":"false",spellCheck:"false",value:this.state[`answer${t}`],placeholder:`Answer ${t}${t>2?" (Optional)":""}`,ref:this[`answer${t}`]}),R.jsx("i",{className:Ct(mi.keyboardIcon,"far fa-keyboard"),"data-tip":"Show Symbol Keyboard",role:"button",tabIndex:-1,onClick:()=>this.setState({symbolTarget:t})})]})]})},t))}):this.state.qType==="typing"?R.jsx("div",{className:mi.typingAnswersWrapper,children:R.jsx("div",{className:mi.typingAnswersHolder,children:R.jsxs("div",{className:mi.typingAnswersInside,children:[R.jsx("div",{className:mi.typingAnswerHeader,children:"Possible Answers"}),R.jsx("div",{className:mi.typingAnswerSubheader,children:"(not case sensitive)"}),this.state.answers.map((t,r)=>R.jsxs("div",{className:mi.typingAnswerRow,style:{zIndex:this.state.answers.length-r},children:[R.jsxs("div",{className:mi.answerTypeDropdown,children:[this.state.answerTypes[r]==="exactly"?"is exactly":"contains",R.jsx("i",{className:Ct("fas fa-chevron-down",mi.answerTypeArrow)}),R.jsxs("div",{className:mi.answerTypeDropdownMenu,children:[R.jsx("div",{className:mi.answerTypeDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setStateArrayVal("answerTypes",r,"exactly"),children:"is exactly"}),R.jsx("div",{className:mi.answerTypeDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setStateArrayVal("answerTypes",r,"contains"),children:"contains"})]})]}),R.jsx("div",{className:mi.typingAnswerContainer,children:R.jsx("input",{className:mi.typingAnswerInput,placeholder:`Answer ${r+1}${r>0?" (Optional)":""}`,onChange:n=>this.setStateArrayVal("answers",r,n.target.value),value:this.state.answers[r],type:"text",autoFocus:r===0?"autofocus":""})}),r!==0?R.jsx("div",{className:mi.removeTypingAnswerButton,role:"button",tabIndex:0,onClick:()=>this.setState({answers:this.state.answers.filter((n,d)=>d!==r),answerTypes:this.state.answerTypes.filter((n,d)=>d!==r)}),children:R.jsx("i",{className:Ct("fas fa-trash-alt",mi.removeTrashIcon)})}):null]},r)),this.state.answers.length<10?R.jsx("div",{className:mi.addAnswerButton,role:"button",tabIndex:0,onClick:()=>this.setState({answers:[...this.state.answers,""],answerTypes:[...this.state.answerTypes,"exactly"]}),children:"Add Alternative Answer"}):null]})})}):null]})]})}),this.state.addingImgNum||this.state.addingQImg?R.jsx(Xz,{onClose:()=>this.setState({addingImgNum:0,addingQImg:!1}),onDone:(t,r)=>this.setState({addingImgNum:0,addingQImg:!1,[this.state.addingQImg?"qImg":`answer${this.state.addingImgNum}Img`]:{url:t,file:r},qEq:this.state.addingQImg?"":this.state.qEq,qAudio:this.state.addingQImg?null:this.state.qAudio,[`answer${this.state.addingImgNum}Eq`]:this.state.addingQImg?this.state[`answer${this.state.addingImgNum}Eq`]:""},()=>{this.question.current.style.height=0,this.question.current.style.height=`${this.question.current.scrollHeight}px`})}):this.state.addingEqNum?R.jsx(Qz,{equation:this.state.equation,onDone:this.addEquation,onClose:()=>this.setState({addingEqNum:0})}):this.state.addingAudio?R.jsx(Jz,{onDone:this.addAudio,onClose:()=>this.setState({addingAudio:!1})}):this.state.symbolTarget?R.jsx(Zz,{select:this.addSymbol}):this.state.plusMsg?R.jsx(xr,{text:`Get Blooket Plus to ${this.state.plusMsg}!`,buttonOne:{text:"Upgrade",click:()=>this.props.history.push("/upgrade"),color:"orange"},buttonTwo:{text:"Not Now",click:()=>this.setState({plusMsg:""}),color:"blue"}}):this.state.editingQType?R.jsx(qz,{onDone:this.setQuestionType,onClose:()=>this.setState({editingQType:!1})}):null]})}}GC.propTypes={onDone:Xt.func.isRequired,question:Xt.object,gameId:Xt.string,isAdding:Xt.bool,history:Xt.object.isRequired};const Ujt="_modal_1a7l1_1",Gjt="_mainContainer_1a7l1_13",Hjt="_slideIn_1a7l1_1",$jt="_slideOut_1a7l1_33",Wjt="_closeIcon_1a7l1_45",Vjt="_top_1a7l1_56",Yjt="_searchContainer_1a7l1_68",Xjt="_searchIcon_1a7l1_79",Qjt="_searchInput_1a7l1_93",Kjt="_filtersHolder_1a7l1_111",Jjt="_filterIcon_1a7l1_116",Zjt="_filtersColumn_1a7l1_139",qjt="_filterRow_1a7l1_152",tzt="_filterRowCenter_1a7l1_166",ezt="_filterColumn_1a7l1_170",izt="_filters_1a7l1_111",rzt="_checkBox_1a7l1_182",nzt="_checkBoxAutoLeft_1a7l1_198",szt="_checkBoxWide_1a7l1_202",azt="_checkIcon_1a7l1_206",ozt="_checkYes_1a7l1_211",lzt="_checkNo_1a7l1_217",uzt="_left_1a7l1_223",hzt="_nothingContainer_1a7l1_235",czt="_nothingBlook_1a7l1_246",dzt="_hitsHolder_1a7l1_252",fzt="_hitContainer_1a7l1_263",pzt="_hitSelected_1a7l1_282",vzt="_hitImageContainer_1a7l1_286",mzt="_hitHasImage_1a7l1_300",gzt="_coverImage_1a7l1_304",yzt="_setFillerText_1a7l1_310",xzt="_setQuestionsText_1a7l1_318",bzt="_hitRight_1a7l1_329",Szt="_setHeader_1a7l1_337",wzt="_setSpacer_1a7l1_344",Tzt="_setPlays_1a7l1_350",Czt="_verifiedIcon_1a7l1_357",Ezt="_setDescText_1a7l1_362",kzt="_setAuthorContainer_1a7l1_366",Pzt="_authorIcon_1a7l1_372",Azt="_showMoreButton_1a7l1_377",Rzt="_right_1a7l1_399",Izt="_questionsHolder_1a7l1_411",Mzt="_addAllButton_1a7l1_422",Bzt="_addAllButtonInside_1a7l1_427",Ozt="_addAllIcon_1a7l1_436",Nzt="_questionSection_1a7l1_441",Lzt="_questionContainer_1a7l1_452",Fzt="_questionImageContainer_1a7l1_458",Dzt="_questionImageContainerButton_1a7l1_475",_zt="_questionImage_1a7l1_458",jzt="_imageNumber_1a7l1_488",zzt="_questionFunc_1a7l1_499",Uzt="_qMathField_1a7l1_507",Gzt="_questionCenterContainer_1a7l1_515",Hzt="_questionWithFunc_1a7l1_523",$zt="_questionText_1a7l1_527",Wzt="_addedContainer_1a7l1_538",Vzt="_addQuestionButton_1a7l1_549",Yzt="_addQuestionButtonInside_1a7l1_555",Xzt="_addIcon_1a7l1_566",Qzt="_answerContainer_1a7l1_571",Kzt="_typingAnswerContainer_1a7l1_581",Jzt="_typingAnswer_1a7l1_581",Zzt="_typingAnswerIcon_1a7l1_595",qzt="_answer_1a7l1_571",tUt="_answerIcon_1a7l1_616",eUt="_answerMediaContainer_1a7l1_623",iUt="_answerMediaMaxheight_1a7l1_631",rUt="_answerText_1a7l1_635",nUt="_answerImg_1a7l1_643",sUt="_mathField_1a7l1_651",aUt="_faded_1a7l1_659",oUt="_plusOverlay_1a7l1_663",lUt="_plusOverlayContainer_1a7l1_676",uUt="_plusOverlayButton_1a7l1_694",hUt="_plusOverlayButtonInside_1a7l1_699",cUt="_setEditedText_1a7l1_779",dUt="_answerImgContainer_1a7l1_859",fi={modal:Ujt,mainContainer:Gjt,slideIn:Hjt,slideOut:$jt,closeIcon:Wjt,top:Vjt,searchContainer:Yjt,searchIcon:Xjt,searchInput:Qjt,filtersHolder:Kjt,filterIcon:Jjt,filtersColumn:Zjt,filterRow:qjt,filterRowCenter:tzt,filterColumn:ezt,filters:izt,checkBox:rzt,checkBoxAutoLeft:nzt,checkBoxWide:szt,checkIcon:azt,checkYes:ozt,checkNo:lzt,left:uzt,nothingContainer:hzt,nothingBlook:czt,hitsHolder:dzt,hitContainer:fzt,hitSelected:pzt,hitImageContainer:vzt,hitHasImage:mzt,coverImage:gzt,setFillerText:yzt,setQuestionsText:xzt,hitRight:bzt,setHeader:Szt,setSpacer:wzt,setPlays:Tzt,verifiedIcon:Czt,setDescText:Ezt,setAuthorContainer:kzt,authorIcon:Pzt,showMoreButton:Azt,right:Rzt,questionsHolder:Izt,addAllButton:Mzt,addAllButtonInside:Bzt,addAllIcon:Ozt,questionSection:Nzt,questionContainer:Lzt,questionImageContainer:Fzt,questionImageContainerButton:Dzt,questionImage:_zt,imageNumber:jzt,questionFunc:zzt,qMathField:Uzt,questionCenterContainer:Gzt,questionWithFunc:Hzt,questionText:$zt,addedContainer:Wzt,addQuestionButton:Vzt,addQuestionButtonInside:Yzt,addIcon:Xzt,answerContainer:Qzt,typingAnswerContainer:Kzt,typingAnswer:Jzt,typingAnswerIcon:Zzt,answer:qzt,answerIcon:tUt,answerMediaContainer:eUt,answerMediaMaxheight:iUt,answerText:rUt,answerImg:nUt,mathField:sUt,faded:aUt,plusOverlay:oUt,plusOverlayContainer:lUt,plusOverlayButton:uUt,plusOverlayButtonInside:hUt,setEditedText:cUt,answerImgContainer:dUt};Fn.addStyles();const eU=({hit:e,setSelected:t,getSet:r})=>{const[n,d]=_i.useState(!1);return R.jsxs("div",{className:Ct(fi.hitContainer,{[fi.hitSelected]:t&&t._id===e._id}),role:"button",tabIndex:0,onClick:r,children:[R.jsxs("div",{className:Ct(fi.hitImageContainer,{[fi.hitHasImage]:e.coverImage&&!n}),children:[e.coverImage&&!n?R.jsx(Ul,{height:100,children:R.jsx("img",{src:En(e.coverImage.url),alt:"Cover",className:fi.coverImage,draggable:!1,onError:()=>d(!0)})}):R.jsx("div",{className:fi.setFillerText,children:"Blooket"}),R.jsx("div",{className:fi.setQuestionsText,children:`${$i(e.questions.length)} Qs`})]}),R.jsxs("div",{className:fi.hitRight,children:[R.jsx("div",{className:fi.setHeader,children:e.title}),R.jsx("div",{className:fi.setSpacer}),R.jsxs("div",{className:fi.setPlays,children:[`${$i(e.playCount)} ${e.playCount===1?"Play":"Plays"}`,e.verified?R.jsx("i",{className:Ct("fas fa-check-square",fi.verifiedIcon)}):null]}),R.jsx("div",{className:Ct(fi.setDescText,fi.setEditedText),children:`Edited ${li(e.date).fromNow()}`}),R.jsxs("div",{className:fi.setAuthorContainer,children:[R.jsx("i",{className:Ct(fi.authorIcon,"fas fa-user")}),R.jsx("div",{className:fi.setDescText,children:e.author})]})]})]})};eU.propTypes={hit:Xt.object,setSelected:Xt.object,getSet:Xt.func};const fUt=(e,t)=>e.playCount!==t.playCount?t.playCount-e.playCount:e.title<t.title?-1:e.title>t.title?1:0;class iU extends ti.Component{constructor(t){super(t),this.state={searchQuery:"",searched:!1,hits:[],hasMore:!1,pageIndex:0,minQuestions:1,hasCoverImage:!1,minPlays:10,setSelected:null,zoomedImage:"",addingNum:0,addedNums:[],isClosing:!1,hasPlus:!1,isReady:!1,addAllLoading:!1},this.here=!0,this.loading=!1,this.setsContainer=ti.createRef(),this.questionsContainer=ti.createRef(),this.onSearch=this.onSearch.bind(this),this.getSet=this.getSet.bind(this),this.addQuestion=this.addQuestion.bind(this),this.addAllQuestions=this.addAllQuestions.bind(this),this.close=this.close.bind(this)}componentDidMount(){vi.get("/api/users/plan").then(t=>{this.setState({hasPlus:t.data.hasPlus,isReady:!0})}).catch(t=>{Ve.logError(t)}),vi.get("/api/users/allsets").then(t=>{if(!this.here)return;const r=[...t.data.games.filter(n=>!n.plusOnly)];r.sort(fUt),this.setState({hits:r,searched:!0},()=>{this.state.hits.length>0&&this.getSet(this.state.hits[0])})}).catch(t=>{Ve.logError(t)})}componentWillUnmount(){clearTimeout(this.closeTimeout),this.here=!1}onSearch(t,r){if(t&&t.preventDefault(),this.loading)return;this.loading=!0;let n=r;n||(n=0),vi.get("/api/games/search",{params:{text:this.state.searchQuery,page:n,minQuestions:this.state.minQuestions,hasCoverImage:this.state.hasCoverImage,minPlays:this.state.minPlays}}).then(d=>{this.loading=!1;const S=d.data.filter(s=>!s.plusOnly);if(n===0){const s={searched:!0,hits:S,hasMore:S.length===24,pageIndex:n,setSelected:null};this.setState(s,()=>{this.setsContainer&&this.setsContainer.current&&(this.setsContainer.current.scrollTop=0,this.setsContainer.current.scrollLeft=0)})}else this.setState({hits:this.state.hits.concat(S),hasMore:S.length===24,pageIndex:n})}).catch(d=>{this.loading=!1,Ve.logError(d)})}getSet(t){this.state.setSelected&&t._id===this.state.setSelected._id||vi.get("/api/games",{params:{gameId:t._id}}).then(r=>{const n=r.data;n.questions.sort((d,S)=>d.number-S.number),this.setState({setSelected:n,addedNums:[]},()=>{this.questionsContainer&&this.questionsContainer.current&&(this.questionsContainer.current.scrollTop=0)})})}addQuestion(t){return ci(this,null,function*(){this.state.addingNum||this.state.addAllLoading||(this.setState({addingNum:t.number}),yield new Promise(r=>this.props.onAdd(t,r)),this.setState({addedNums:[...this.state.addedNums,t.number],addingNum:0}))})}addAllQuestions(){return ci(this,null,function*(){this.state.addAllLoading||this.state.addingNum||(this.setState({addAllLoading:!0}),yield new Promise(t=>this.props.onMassAdd(this.state.setSelected._id,t)),this.setState({addAllLoading:!1,addedNums:this.state.setSelected.questions.map(t=>t.number)}))})}close(){this.setState({isClosing:!0}),this.closeTimeout=setTimeout(()=>{this.props.onClose()},200)}render(){return R.jsxs(R.Fragment,{children:[R.jsx("div",{className:fi.modal,role:"button",tabIndex:0,onClick:this.close}),R.jsxs("div",{className:Ct(fi.mainContainer,{[fi.slideOut]:this.state.isClosing}),children:[R.jsx("i",{className:Ct(fi.closeIcon,"fas fa-times"),style:{lineHeight:1},role:"button",tabIndex:0,onClick:this.close}),R.jsxs("div",{className:fi.top,children:[R.jsxs("form",{onSubmit:this.onSearch,className:fi.searchContainer,children:[R.jsx("input",{className:fi.searchInput,type:"search",value:this.state.searchQuery,onChange:t=>this.setState({searchQuery:t.target.value.slice(0,50)}),placeholder:"Search for any set...",autoFocus:mr?"":"autofocus"}),R.jsx("i",{className:Ct(fi.searchIcon,"fas fa-search"),role:"button",tabIndex:0,onClick:this.onSearch})]}),this.state.searched&&this.state.searchQuery?R.jsxs("div",{className:fi.filtersHolder,children:[R.jsx("i",{className:Ct(fi.filterIcon,"fas fa-sliders-h"),style:{lineHeight:1,display:"flex"}}),R.jsxs("div",{className:fi.filtersColumn,children:[R.jsxs("div",{className:Ct(fi.filterRow,fi.filterRowCenter),children:["Has Cover Image:",R.jsx("div",{className:Ct(fi.checkBox,fi.checkBoxAutoLeft,this.state.hasCoverImage?fi.checkYes:fi.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({hasCoverImage:!this.state.hasCoverImage},t=>this.onSearch(t,0)),children:R.jsx("i",{className:Ct(fi.checkIcon,"fas fa-check"),style:{lineHeight:1}})})]}),R.jsxs("div",{className:Ct(fi.filterRow,fi.filterColumn),children:["Minimum Questions:",R.jsx("div",{className:fi.filters,children:[1,5,10,25,50].map(t=>R.jsx("div",{className:Ct(fi.checkBox,this.state.minQuestions===t?fi.checkYes:fi.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({minQuestions:t},r=>this.onSearch(r,0)),children:R.jsx("div",{className:fi.checkIcon,children:t})},t))})]}),R.jsxs("div",{className:Ct(fi.filterRow,fi.filterColumn),children:["Minimum Plays:",R.jsx("div",{className:fi.filters,children:[10,100,500,1e3].map(t=>R.jsx("div",{className:Ct(fi.checkBox,fi.checkBoxWide,this.state.minPlays===t?fi.checkYes:fi.checkNo),role:"button",tabIndex:0,onClick:()=>this.setState({minPlays:t},r=>this.onSearch(r,0)),children:R.jsx("div",{className:fi.checkIcon,children:yo(t)})},t))})]})]})]}):null]}),R.jsx("div",{className:fi.left,children:this.state.loading?R.jsx("div",{className:fi.nothingContainer,children:R.jsx(Po,{})}):this.state.searched?this.state.hits.length===0?R.jsxs("div",{className:fi.nothingContainer,children:[R.jsx(kn,{name:"Blobfish",className:fi.nothingBlook}),"No Results"]}):R.jsxs("div",{className:fi.hitsHolder,ref:this.setsContainer,children:[this.state.hits.map(t=>R.jsx(eU,{hit:t,getSet:()=>this.getSet(t),setSelected:this.state.setSelected},t._id)),this.state.hasMore>0&&!this.state.loading?R.jsx("div",{className:fi.showMoreButton,role:"button",tabIndex:0,onClick:t=>this.onSearch(t,this.state.pageIndex+1),children:"Show More"}):null]}):R.jsxs("div",{className:fi.nothingContainer,children:[R.jsx(kn,{name:"Chameleon",className:fi.nothingBlook}),"Waiting to Search"]})}),R.jsxs("div",{className:fi.right,children:[this.state.setSelected?this.state.isReady?R.jsxs("div",{className:fi.questionsHolder,ref:this.questionsContainer,children:[this.state.addAllLoading?R.jsx("div",{style:{height:70},children:R.jsx(Po,{})}):R.jsxs(Ri,{outsideClass:fi.addAllButton,insideClass:fi.addAllButtonInside,onClick:this.addAllQuestions,color:"#0bc2cf",children:[R.jsx("i",{className:Ct("fas fa-plus-square",fi.addAllIcon),style:{lineHeight:1}}),"Add All Questions"]}),this.state.setSelected.questions.map(t=>R.jsxs("div",{className:fi.questionSection,children:[R.jsxs("div",{className:fi.questionContainer,children:[R.jsxs("div",{className:Ct(fi.questionImageContainer,{[fi.questionImageContainerButton]:t.image&&t.image.url&&!(t.audio&&t.audio.url)}),role:"button",tabIndex:0,onClick:t.image&&t.image.url&&!(t.audio&&t.audio.url)?()=>this.setState({zoomedImage:t.image.url}):()=>{},children:[t.image&&t.image.url&&!(t.audio&&t.audio.url)?mr?R.jsx("img",{src:En(t.image.url),alt:"Question Background",className:fi.questionImage}):R.jsx(Ul,{height:130,width:170,children:R.jsx("img",{src:En(t.image.url),alt:"Question Background",className:fi.questionImage})}):null,R.jsx("div",{className:fi.imageNumber,children:t.number})]}),t.audio&&t.audio.url?R.jsx("div",{className:fi.questionFunc,children:R.jsx(fh,{audioUrl:t.audio.url,width:"40%"})}):t.question.includes("`*`")?R.jsx("div",{className:fi.questionFunc,children:R.jsx(Fn.StaticMathField,{className:fi.qMathField,children:t.question.slice(t.question.indexOf("`*`")+3,t.question.length-3)})}):null,R.jsx("div",{className:Ct(fi.questionCenterContainer,{[fi.questionWithFunc]:t.question.includes("`*`")||t.audio&&t.audio.url}),children:R.jsx("div",{className:fi.questionText,children:t.question.includes("`*`")?t.question.slice(0,t.question.indexOf("`*`")):t.question})}),this.state.addingNum===t.number?R.jsx("div",{className:fi.addedContainer,children:R.jsx(Po,{})}):this.state.addedNums.includes(t.number)?R.jsx("div",{className:fi.addedContainer,children:"Added!"}):R.jsxs(Ri,{outsideClass:fi.addQuestionButton,insideClass:fi.addQuestionButtonInside,onClick:()=>this.addQuestion(t),color:"#9a49aa",children:[R.jsx("i",{className:Ct("fas fa-plus-square",fi.addIcon),style:{lineHeight:1}}),"Add Question"]})]}),R.jsx("div",{className:Ct(fi.answerContainer,{[fi.typingAnswerContainer]:t.qType==="typing"}),children:t.qType==="typing"?t.answers.map(r=>R.jsxs("div",{className:fi.typingAnswer,style:{backgroundColor:gc.default.answers[1].background},children:[R.jsx("i",{className:Ct("fas fa-check",fi.typingAnswerIcon)}),R.jsx("div",{className:fi.answerText,children:r})]},r)):t.answers.map((r,n)=>R.jsxs("div",{className:Ct(fi.answer,{[fi.faded]:!t.correctAnswers.includes(r)}),style:{backgroundColor:gc.default.answers[n].background},children:[R.jsx("i",{className:Ct(t.correctAnswers.includes(r)?"fas fa-check":"fas fa-times",fi.answerIcon)}),R.jsx("div",{className:Ct(fi.answerMediaContainer,{[fi.answerMediaMaxheight]:r.split("`~`").length===2||r.slice(0,3)==="`*`"}),children:r.split("`~`").length===2?R.jsx("img",{src:En(r.split("`~`")[1]),alt:"Answer",className:fi.answerImg,draggable:!1}):r.slice(0,3)==="`*`"?R.jsx(Fn.StaticMathField,{className:fi.mathField,children:r.slice(3,r.length-3)}):R.jsx("div",{className:fi.answerText,children:r})})]},r))})]},t.number))]}):null:R.jsx("div",{className:fi.nothingContainer,children:"Select a set to view it here"}),this.state.hasPlus?null:R.jsx("div",{className:fi.plusOverlay,children:R.jsxs("div",{className:fi.plusOverlayContainer,children:["Blooket Plus Required",R.jsxs(Ri,{outsideClass:fi.plusOverlayButton,insideClass:fi.plusOverlayButtonInside,linkTo:"/upgrade",color:"#ff7b24",children:[R.jsx("i",{className:Ct("fas fa-plus-square",fi.addAllIcon)}),"Upgrade Now"]})]})})]})]}),this.state.zoomedImage?R.jsx("div",{className:Ct(Qe.modal,Qe.modalButton),role:"button",tabIndex:0,onClick:()=>this.setState({zoomedImage:""}),children:R.jsx("img",{src:En(this.state.zoomedImage,!0),alt:"Upload",className:Qe.bigImage,draggable:!1})}):null]})}}iU.propTypes={onAdd:Xt.func.isRequired,onMassAdd:Xt.func.isRequired,onClose:Xt.func.isRequired};Fn.addStyles();const pUt=Ee.basic.QuizletLogo;class rU extends ti.Component{constructor(t){super(t),this.state={title:"",desc:"",questions:[],private:"",coverImage:"",showingAnswers:[],deleteNum:0,deleting:!1,loadingDelete:!1,copying:!1,saving:!1,quizletImporting:!1,spreadsheetImporting:!1,leave:!1,timeLimitInput:0,loadingTimeLimit:!1,zoomedImage:"",editingQuestion:null,addingQuestion:!1,showQuestionBank:!1,user:null},this.name="",this.id=Ys("id"),this.folderIndex=Ys("f"),this.reorder=!1,this.intervals=[],this.onDoneEditing=this.onDoneEditing.bind(this),this.addQuestion=this.addQuestion.bind(this),this.editQuestion=this.editQuestion.bind(this),this.saveGame=this.saveGame.bind(this),this.setTime=this.setTime.bind(this),this.onShowAnswers=this.onShowAnswers.bind(this),this.onDelete=this.onDelete.bind(this),this.onDeleteConfirm=this.onDeleteConfirm.bind(this),this.onCopy=this.onCopy.bind(this),this.onBankImport=this.onBankImport.bind(this),this.onBankMassImport=this.onBankMassImport.bind(this),this.onMove=this.onMove.bind(this),this.onQuizletImport=this.onQuizletImport.bind(this),this.onSpreadsheetImport=this.onSpreadsheetImport.bind(this),this.loadGame=this.loadGame.bind(this)}componentDidMount(){return ci(this,null,function*(){if(!this.id)return;const t=yield this.props.user.getData();if(!t){Ve.logError("EditPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}this.name=t.name,this.setState({user:t}),this.loadGame()})}componentWillUnmount(){this.intervals&&this.intervals.forEach(t=>clearInterval(t))}onDoneEditing(t){return ci(this,null,function*(){t&&(yield new Promise(r=>this.loadGame(r))),this.setState({editingQuestion:null,addingQuestion:!1})})}onShowAnswers(t){const r=[...this.state.showingAnswers],n=r.indexOf(t);n===-1?r.push(t):r.splice(n,1),this.setState({showingAnswers:r})}onDelete(t){this.setState({deleteNum:t,deleting:!0})}onDeleteConfirm(t){this.loading||(this.loading=!0,t?(this.setState({loadingDelete:!0}),this.saveGame(()=>{vi.put("/api/games/removequestion",{gameId:this.id,number:this.state.deleteNum}).then(r=>{const n=[...r.data.questions.map((d,S)=>Fr(Fi({},d),{index:S}))];n.sort((d,S)=>d.number-S.number),this.setState({questions:n,deleteNum:"",loadingDelete:!1,deleting:!1}),this.loading=!1}).catch(r=>{Ve.logError(r)})})):(this.loading=!1,this.setState({deleteNum:"",deleting:!1})))}onCopy(t){this.loading||(this.loading=!0,this.setState({copying:!0}),this.saveGame(()=>{const r={};t.image&&t.image.url&&(r.url=t.image.url,t.id==="u"&&(r.id="u"));const n={};t.audio&&t.audio.url&&(n.url=t.audio.url);const d=t.answers,S=t.correctAnswers,s=[];t.answers.forEach((g,i)=>{if(g.split("`~`").length===2){const o=g.split("`~`")[1];s.push({url:o}),d[i]=`img${i+1}`;const m=t.correctAnswers.indexOf(g);m>-1&&(S[m]=`img${i+1}`)}else s.push({})}),vi.put("/api/games/addquestion",{gameId:this.id,question:t.question,answers:d,correctAnswers:S,timeLimit:Number(t.timeLimit),random:t.random,image:r,audio:n,answerImages:s,qType:t.qType||"mc",answerTypes:t.answerTypes}).then(()=>{this.loading=!1,this.loadGame(()=>{this.setState({copying:!1,editingQuestion:this.state.questions[this.state.questions.length-1]})})}).catch(g=>{Ve.logError(g),this.loading=!1,this.setState({copying:!1})})}))}onBankImport(t,r){this.loading||(this.loading=!0,this.saveGame(()=>{const n={id:""};t.image&&t.image.url&&(n.url=t.image.url,t.image.id==="u"&&(n.id="u"));const d={};t.audio&&t.audio.url&&(d.url=t.audio.url);const S=t.answers,s=t.correctAnswers,g=[];t.answers.forEach((i,o)=>{i.split("`~`").length===2?(g.push({url:i.split("`~`")[1]}),S[o]=`img${o+1}`,s[o]=`img${o+1}`):g.push({})}),vi.put("/api/games/addquestion",{gameId:this.id,question:t.question,answers:S,correctAnswers:s,timeLimit:Number(t.timeLimit),random:t.random,image:n,audio:d,answerImages:g,qType:t.qType||"mc",answerTypes:t.answerTypes}).then(()=>{this.loading=!1,this.loadGame(),r()}).catch(i=>{Ve.logError(i),this.loading=!1,r()})}))}onBankMassImport(t,r){return ci(this,null,function*(){this.loading||(this.loading=!0,yield new Promise(n=>this.saveGame(n)),vi.post("/api/games/merge",{game1Id:this.id,game2Id:t}).then(()=>{this.loading=!1,this.loadGame(),r()}).catch(n=>{Ve.logError(n),this.loading=!1,r()}))})}onMove(t,r){this.reorder=!0;const n=JSON.parse(JSON.stringify(this.state.questions)),d=n[t-1],S=r?t-2:t;if(S<0||S>n.length-1)return;const s=[...this.state.showingAnswers],g=s.indexOf(t);g!==-1&&s.splice(g,1);const i=s.indexOf(r?t-1:t+1);i!==-1&&s.splice(i,1),n[t-1]=n[S],n[t-1].moved=!0,n[S]=d,n[S].moved=!0;for(let o=0;o<n.length;o++)n[o].number=o+1;this.setState({questions:n,showingAnswers:s})}onQuizletImport(t,r){r&&this.loadGame(()=>this.setState({quizletImporting:!1}))}onSpreadsheetImport(t,r,n){vi.put("/api/games/spreadsheet-import",{gameId:this.id,spreadsheetData:n}).then(()=>{this.loadGame(()=>this.setState({spreadsheetImporting:!1}))}).catch(()=>{this.loadGame(()=>this.setState({spreadsheetImporting:!1}))})}setTime(t){t.preventDefault(),!this.loading&&(this.loading=!0,this.setState({loadingTimeLimit:!0}),vi.put("/api/games/timelimit",{id:this.id,timeLimit:this.state.timeLimitInput}).then(()=>{this.loading=!1;const r=this.state.questions.map(n=>Fr(Fi({},n),{timeLimit:this.state.timeLimitInput}));this.setState({questions:r,loadingTimeLimit:!1,timeLimitInput:0})}).catch(r=>{Ve.logError(r),this.loading=!1,this.setState({loadingTimeLimit:!1,timeLimitInput:0})}))}loadGame(t){vi.get("/api/games",{params:{gameId:this.id}}).then(r=>ci(this,null,function*(){if(!r.data||r.data.author!==this.name){this.setState({leave:!0});return}let n=[...r.data.questions.map((s,g)=>Fr(Fi({},s),{index:g}))];n.sort((s,g)=>s.number-g.number);let d=1,S=!0;n.forEach(s=>{s.number!==d&&(S=!1),d+=1}),S||(n=yield new Promise(s=>{vi.put("/api/games/fix-numbering",{gameId:this.id}).then(g=>s(g.data.questions)).catch(()=>s())})),this.setState({title:r.data.title,desc:r.data.desc,questions:n,private:r.data.private,coverImage:r.data.coverImage},()=>{t&&t()})})).catch(r=>{this.setState({leave:!0}),Ve.logError(r)})}addQuestion(){this.saveGame(()=>{this.setState({addingQuestion:!0})})}editQuestion(t){this.saveGame(()=>{this.setState({editingQuestion:t})})}saveGame(t){this.reorder?(this.setState({saving:!0}),vi.put("/api/games/orderquestions",{id:this.id,changes:this.state.questions.filter(r=>r.moved).map(r=>({index:r.index,num:r.number}))}).then(()=>{this.setState({saving:!1}),t?(this.reorder=!1,t()):this.props.history.push(`/my-sets${this.folderIndex?`?f=${this.folderIndex}`:""}`)}).catch(r=>{Ve.logError(r),this.props.history.push(`/my-sets${this.folderIndex?`?f=${this.folderIndex}`:""}`)})):t?(this.reorder=!1,t()):this.props.history.push(`/my-sets${this.folderIndex?`?f=${this.folderIndex}`:""}`)}render(){if(!this.id){Ve.logError("EditPage cannot be rendered without id"),window.location.href=`${ar.id}/login`;return}if(this.state.leave){Ve.logError("EditPage cannot be rendered if this.state.leave is defined"),window.location.href=`${ar.id}/login`;return}return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Edit a Set | Blooket",desc:"Access your set's information and questions to change or add any questions as well as edit basic information."}),R.jsx(la,{user:this.state.user,page:"Set Creator"}),this.state.title?R.jsx("div",{className:Qe.profileBody,children:R.jsxs("div",{className:wi.mainRow,children:[R.jsxs("div",{className:wi.leftColumn,children:[R.jsxs("div",{className:wi.headerContainer,children:[this.state.coverImage?R.jsx("div",{className:wi.coverImageContainer,children:R.jsx("img",{src:En(this.state.coverImage.url),alt:"Cover",className:wi.coverImage})}):R.jsx("div",{className:wi.coverFillerContainer,children:R.jsx("img",{src:Ee.basic.blooket,alt:"Blooket",className:wi.coverFillerImage})}),R.jsx("div",{className:wi.headerTitle,children:this.state.title}),R.jsx("div",{className:wi.headerDesc,children:this.state.desc}),R.jsxs("div",{className:wi.headerPrivateContainer,children:[R.jsx("i",{className:Ct(wi.headerPrivateIcon,this.state.private?"fas fa-lock":"fas fa-unlock")}),R.jsx("div",{className:wi.headerPrivateText,children:this.state.private?"Private":"Public"})]}),R.jsx(Ri,{color:"#0bc2cf",outsideClass:wi.saveButton,onClick:()=>this.saveGame(),children:R.jsxs("div",{className:wi.saveButtonInside,children:[R.jsx("i",{className:Ct(wi.saveIcon,"fas fa-save")}),"Save Set"]})}),R.jsxs("div",{className:wi.smallButtonsContainer,children:[R.jsxs("div",{className:wi.smallButton,role:"button",tabIndex:0,onClick:()=>this.saveGame(()=>this.props.history.push(`/edit/info?id=${this.id}${this.folderIndex?`&f=${this.folderIndex}`:""}`)),children:[R.jsx("i",{className:Ct(wi.smallIcon,"fas fa-edit")}),"Edit Info"]}),R.jsxs("div",{className:wi.smallButton,role:"button",tabIndex:0,onClick:()=>this.setState({timeLimitInput:this.state.questions.length>0?this.state.questions[0].timeLimit:15,loadingTimeLimit:!1}),children:[R.jsx("i",{className:Ct(wi.smallIcon,"far fa-clock")}),"Time Limit"]})]})]}),R.jsxs("div",{className:wi.addQuestionWrapper,children:[R.jsx(Ri,{color:"#9a49aa",outsideClass:wi.addButton,onClick:this.addQuestion,children:R.jsxs("div",{className:wi.addButtonInside,children:[R.jsx("i",{className:Ct(wi.addIcon,"fas fa-plus-square")}),"Add",R.jsx("br",{}),"Question"]})}),R.jsx(Ri,{color:"#4053b3",outsideClass:wi.addButton,onClick:()=>this.setState({quizletImporting:!0}),children:R.jsxs("div",{className:wi.addButtonInside,children:[R.jsx("img",{src:pUt,alt:"Quizlet",className:wi.addImage}),"Quizlet",R.jsx("br",{}),"Import"]})}),R.jsx(Ri,{color:"#007337",outsideClass:wi.addButton,onClick:()=>this.setState({spreadsheetImporting:!0}),children:R.jsxs("div",{className:wi.addButtonInside,children:[R.jsx("i",{className:Ct(wi.addIcon,"fas fa-table")}),"Spreadsheet",R.jsx("br",{}),"Import"]})}),R.jsx(Ri,{color:"#3a3a3a",outsideClass:wi.addButton,onClick:()=>this.setState({showQuestionBank:!0}),children:R.jsxs("div",{className:wi.addButtonInside,children:[R.jsx("i",{className:Ct(wi.addIcon,"fas fa-university")}),"Question",R.jsx("br",{}),"Bank"]})}),R.jsx(Ri,{color:"#0bc2cf",outsideClass:wi.addButton,onClick:()=>this.setState({showingAnswers:this.state.showingAnswers.length===this.state.questions.length?[]:this.state.questions.map(t=>t.number)}),children:R.jsxs("div",{className:wi.addButtonInside,children:[R.jsx("i",{className:Ct(wi.addIcon,"fas fa-question-circle")}),this.state.showingAnswers.length===this.state.questions.length?"Hide":"Show",R.jsx("br",{}),"Answers"]})})]})]}),R.jsxs("div",{className:wi.questionSection,children:[R.jsxs("div",{className:wi.questionSectionTop,children:[R.jsx("div",{className:wi.numQuestions,children:`${$i(this.state.questions.length)} Question${this.state.questions.length===1?"":"s"}`}),R.jsx(Ri,{color:"#9a49aa",onClick:this.addQuestion,children:R.jsxs("div",{className:wi.addQuestionButtonInside,children:[R.jsx("i",{className:Ct(wi.addQuestionIcon,"fas fa-plus-square")}),"Add Question"]})})]}),R.jsx(kc,{place:"top",effect:"solid",className:Qe.tooltip}),this.state.questions.map((t,r)=>R.jsxs("div",{className:wi.questionContainer,children:[R.jsxs("div",{className:wi.questionRow,children:[R.jsxs("div",{className:wi.questionLeftRow,children:[R.jsxs("div",{className:wi.questionArrowsHolder,children:[R.jsx("button",{type:"button",className:wi.arrowIcon,tabIndex:0,onClick:()=>this.onMove(t.number,!0),children:R.jsx("i",{className:"fas fa-angle-up"})}),R.jsx("button",{type:"button",className:wi.arrowIcon,tabIndex:0,onClick:()=>this.onMove(t.number,!1),children:R.jsx("i",{className:"fas fa-angle-down"})})]}),R.jsxs("div",{className:wi.questionButtonColumn,children:[R.jsx(Ri,{color:"#0bc2cf",onClick:()=>this.editQuestion(t),children:R.jsxs("div",{className:wi.editButton,children:[R.jsx("i",{className:Ct(wi.editIcon,"fas fa-pencil-alt")}),"Edit"]})}),R.jsxs("div",{className:wi.questionButtonRow,children:[R.jsx(Ri,{color:"#f2f2f2",onClick:()=>this.onDelete(t.number),children:R.jsx("i",{className:Ct(wi.questionButtonIcon,"fas fa-trash-alt")})}),R.jsx(Ri,{color:"#f2f2f2",onClick:()=>this.onCopy(t),children:R.jsx("i",{className:Ct(wi.questionButtonIcon,"fas fa-copy")})})]})]})]}),R.jsxs("div",{className:wi.questionTextContainer,role:"button",tabIndex:0,onClick:()=>this.onShowAnswers(t.number),children:[R.jsx("div",{className:wi.questionNum,children:`Question ${t.number}`}),R.jsx("div",{className:wi.questionTextRow,children:R.jsx("div",{className:wi.questionText,children:t.question.includes("`*`")?t.question.slice(0,t.question.indexOf("`*`")):t.question})})]}),t.image&&t.image.url||t.audio&&t.audio.url||t.question.includes("`*`")?R.jsx("div",{className:Ct(wi.questionImageContainer,{[wi.questionImageButton]:t.image&&t.image.url&&!(t.audio&&t.audio.url)}),role:"button",tabIndex:0,onClick:t.image&&t.image.url&&!(t.audio&&t.audio.url)?()=>this.setState({zoomedImage:t.image.url}):()=>{},children:t.audio&&t.audio.url?R.jsx("div",{className:wi.questionFunc,children:R.jsx(fh,{audioUrl:t.audio.url,width:"60%"})}):t.image&&t.image.url?mr?R.jsx("img",{src:En(t.image.url),alt:"Question Background",className:wi.questionImage}):R.jsx(Ul,{height:120,width:165,children:R.jsx("img",{src:En(t.image.url),alt:"Question Background",className:wi.questionImage})}):t.question.includes("`*`")?R.jsx("div",{className:wi.questionFunc,children:R.jsx(Fn.StaticMathField,{className:wi.qMathField,children:t.question.slice(t.question.indexOf("`*`")+3,t.question.length-3)})}):null}):null,R.jsxs("div",{className:wi.questionInfoRow,children:[t.qType==="typing"?R.jsxs("div",{className:wi.questionInfo,children:[R.jsx("i",{className:Ct("fas fa-keyboard",wi.questionInfoIcon)}),"Typing"]}):t.random?R.jsx("i",{className:Ct("fas fa-random",wi.questionInfo)}):null,R.jsx("div",{className:wi.questionInfo,children:`${t.timeLimit} sec`})]})]}),this.state.showingAnswers.includes(t.number)?R.jsx("div",{className:Ct(wi.answerContainer,{[wi.answerContainerStart]:t.qType==="typing"}),role:"button",tabIndex:0,onClick:()=>this.onShowAnswers(t.number),children:t.qType==="typing"?t.answers.map((n,d)=>R.jsxs("div",{className:wi.typingAnswer,style:{backgroundColor:gc.default.answers[1].background},children:[R.jsx("i",{className:Ct("fas fa-check",wi.typingAnswerIcon)}),R.jsx("div",{className:wi.answerText,children:n})]},d)):t.answers.map((n,d)=>R.jsxs("div",{className:Ct(wi.answer,{[wi.faded]:!t.correctAnswers.includes(n)}),style:{backgroundColor:gc.default.answers[d].background},children:[R.jsx("i",{className:Ct(t.correctAnswers.includes(n)?"fas fa-check":"fas fa-times",wi.answerIcon)}),R.jsx("div",{className:Ct(wi.answerMediaContainer,{[wi.answerMediaCapped]:n.split("`~`").length===2||n.slice(0,3)==="`*`"}),children:n.split("`~`").length===2?R.jsx("img",{src:En(n.split("`~`")[1]),alt:"Answer",className:wi.answerImg,draggable:!1}):n.slice(0,3)==="`*`"?R.jsx(Fn.StaticMathField,{className:wi.mathField,children:n.slice(3,n.length-3)}):R.jsx("div",{className:wi.answerText,children:n})})]},d))}):null]},r)),R.jsx("div",{className:wi.bottomSpacer})]})]})}):null,this.state.zoomedImage?R.jsx("div",{className:Ct(Qe.modal,Qe.modalButton),role:"button",tabIndex:0,onClick:()=>this.setState({zoomedImage:""}),children:R.jsx("img",{src:En(this.state.zoomedImage),alt:"Upload",className:Qe.bigImage,draggable:!1})}):null,this.state.deleting?R.jsx(xr,{text:this.state.loadingDelete?"Deleting...":"Do you really want to delete this question?",loading:this.state.loadingDelete,buttonOne:{text:"Yes",click:()=>this.onDeleteConfirm(!0),color:"red"},buttonTwo:{text:"No",click:()=>this.onDeleteConfirm(!1),color:"blue"}}):this.state.copying||this.state.saving?R.jsx(xr,{text:this.state.copying?"Copying...":"Saving...",loading:!0}):this.state.timeLimitInput?R.jsx(xr,{text:this.state.loadingTimeLimit?"Processing...":"Set the time limit for all questions (in seconds):",loading:this.state.loadingTimeLimit,timeValue:this.state.timeLimitInput,timeChange:t=>this.setState({timeLimitInput:Math.min(300,Math.max(1,t.target.value))}),onSubmit:this.setTime,buttonOne:{text:"Confirm",click:this.setTime,color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({timeLimitInput:0}),color:"blue"}}):null,this.state.quizletImporting?R.jsx("div",{className:Qe.modal,children:R.jsx(g4,{gameId:this.id,done:this.onQuizletImport,close:()=>this.setState({quizletImporting:!1})})}):this.state.spreadsheetImporting?R.jsx("div",{className:Qe.modal,children:R.jsx(k4,{done:this.onSpreadsheetImport,close:()=>this.setState({spreadsheetImporting:!1})})}):this.state.editingQuestion?R.jsx(GC,{question:this.state.editingQuestion,gameId:this.id,onDone:this.onDoneEditing,history:this.props.history}):this.state.addingQuestion?R.jsx(GC,{isAdding:!0,gameId:this.id,onDone:this.onDoneEditing,history:this.props.history}):this.state.showQuestionBank?R.jsx(iU,{onClose:()=>this.setState({showQuestionBank:!1}),onAdd:this.onBankImport,onMassAdd:this.onBankMassImport}):null]})}}rU.propTypes={history:Xt.object.isRequired,user:Xt.object};const vUt=()=>({}),mUt=e=>Ns({},e),gUt=jn(Ls(Qs(vUt,mUt)(rU))),yUt="_header_xwp23_1",xUt="_wideContainer_xwp23_9",bUt="_wideStart_xwp23_17",SUt="_dropHolder_xwp23_21",wUt="_dropContainer_xwp23_31",TUt="_activeDropContainer_xwp23_44",CUt="_dropHeader_xwp23_48",EUt="_dropText_xwp23_58",kUt="_uploadButtonContainer_xwp23_68",PUt="_uploadButton_xwp23_68",AUt="_uploadButtonInside_xwp23_81",RUt="_uploadIcon_xwp23_90",IUt="_uploadText_xwp23_97",MUt="_imgContainer_xwp23_104",BUt="_coverImage_xwp23_117",OUt="_removeImageContainer_xwp23_124",NUt="_removeImageButton_xwp23_133",LUt="_removeImageIcon_xwp23_146",FUt="_removeImageText_xwp23_155",DUt="_upperRightContainer_xwp23_163",_Ut="_titleHeader_xwp23_174",jUt="_titleSub_xwp23_182",zUt="_descHeader_xwp23_187",UUt="_input_xwp23_195",GUt="_descInput_xwp23_215",HUt="_inputFilled_xwp23_233",$Ut="_inputError_xwp23_237",WUt="_categoryContainer_xwp23_241",VUt="_categoryHeader_xwp23_251",YUt="_categoryDesc_xwp23_258",XUt="_privacyRow_xwp23_265",QUt="_privacyCheckbox_xwp23_273",KUt="_privacyCheckboxChecked_xwp23_286",JUt="_privacyCheckboxSquare_xwp23_290",ZUt="_privacyText_xwp23_306",qUt="_privacyTextDesc_xwp23_312",tGt="_methodContainer_xwp23_316",eGt="_methodButton_xwp23_327",iGt="_methodButtonInside_xwp23_332",rGt="_methodSelected_xwp23_342",nGt="_methodIcon_xwp23_346",sGt="_methodHeader_xwp23_353",aGt="_quizletImage_xwp23_361",oGt="_quizletImageSelected_xwp23_367",lGt="_bottomRow_xwp23_371",uGt="_buttonWrapper_xwp23_380",hGt="_createButton_xwp23_387",cGt="_buttonFilled_xwp23_399",dGt="_buttonError_xwp23_404",fGt="_errorContainer_xwp23_409",pGt="_errorIcon_xwp23_423",vGt="_spacer_xwp23_428",mGt="_hiddenInput_xwp23_432",tr={header:yUt,wideContainer:xUt,wideStart:bUt,dropHolder:SUt,dropContainer:wUt,activeDropContainer:TUt,dropHeader:CUt,dropText:EUt,uploadButtonContainer:kUt,uploadButton:PUt,uploadButtonInside:AUt,uploadIcon:RUt,uploadText:IUt,imgContainer:MUt,coverImage:BUt,removeImageContainer:OUt,removeImageButton:NUt,removeImageIcon:LUt,removeImageText:FUt,upperRightContainer:DUt,titleHeader:_Ut,titleSub:jUt,descHeader:zUt,input:UUt,descInput:GUt,inputFilled:HUt,inputError:$Ut,categoryContainer:WUt,categoryHeader:VUt,categoryDesc:YUt,privacyRow:XUt,privacyCheckbox:QUt,privacyCheckboxChecked:KUt,privacyCheckboxSquare:JUt,privacyText:ZUt,privacyTextDesc:qUt,methodContainer:tGt,methodButton:eGt,methodButtonInside:iGt,methodSelected:rGt,methodIcon:nGt,methodHeader:sGt,quizletImage:aGt,quizletImageSelected:oGt,bottomRow:lGt,buttonWrapper:uGt,createButton:hGt,buttonFilled:cGt,buttonError:dGt,errorContainer:fGt,errorIcon:pGt,spacer:vGt,hiddenInput:mGt};var gGt={};class nU extends ti.Component{constructor(t){super(t),this.state={title:"",desc:"",coverImage:{},private:!1,coverImageFile:{},coverImageURL:"",titleError:"",descError:"",imageError:"",uploadingURL:!1,tempURL:"",urlError:"",loading:!1,showUnsplash:!1,unsplashURL:"",user:null},this.id=Ys("id"),this.folderIndex=Ys("f"),this.onEdit=this.onEdit.bind(this),this.onURLUpdate=this.onURLUpdate.bind(this),this.onImageDrop=this.onImageDrop.bind(this),this.onURLSubmit=this.onURLSubmit.bind(this)}componentDidMount(){return ci(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ve.logError("EditInfoPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}vi.get("/api/games",{params:{gameId:this.id}}).then(r=>ci(this,null,function*(){if(!r.data||r.data.author!==t.name){this.setState({leave:!0});return}this.setState({user:t,title:r.data.title,desc:r.data.desc,private:r.data.private,coverImage:r.data.coverImage,coverImageFile:r.data.coverImage,coverImageURL:r.data.coverImage?r.data.coverImage.url:""})})).catch(r=>{this.setState({leave:!0}),Ve.logError(r)})})}onEdit(t){if(t.preventDefault(),this.state.loading)return;this.setState({loading:!0});const r=kL(this.state.title),n=PL(this.state.desc);if(this.setState({titleError:r,descError:n}),!r&&!n)if(this.state.coverImageFile&&this.state.coverImageFile.size){const d=new w5;d.append("file",this.state.coverImageFile),d.append("tags",""),d.append("upload_preset","normal"),d.append("api_key",gGt.CLOUDINARY_API_KEY),d.append("timestamp",parseInt(Date.now()/1e3,10)),ng.post("https://api.cloudinary.com/v1_1/blooket/image/upload",d,{headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!1}).then(S=>{const s={};s.url=S.data.secure_url,s.id=S.data.public_id,vi.put("/api/games/edit",{id:this.id,title:this.state.title.trim(),author:this.state.user.name,desc:this.state.desc.trim(),coverImage:s,private:this.state.private}).then(()=>{this.props.history.push(`/edit?id=${this.id}${this.folderIndex?`&f=${this.folderIndex}`:""}`)}).catch(g=>{if(g.response){const i={};g.response&&g.response.data&&g.response.data.msg&&g.response.data.msg.includes("description")?i.descError=g.response.data.msg:i.titleError=g.response.data.msg,this.setState(Fr(Fi({},i),{loading:!1}))}})}).catch(S=>{Ve.logError(S)})}else{let d={};const S=this.state.coverImageURL||this.state.unsplashURL;this.state.coverImage&&this.state.coverImage.url&&S?S!==this.state.coverImage.url?d.url=S:d=this.state.coverImage:S&&(d.url=S),this.state.unsplashURL&&(d.id="u"),vi.put("/api/games/edit",{id:this.id,title:this.state.title.trim(),author:this.state.user.name,desc:this.state.desc.trim(),coverImage:d,private:this.state.private}).then(()=>{this.props.history.push(`/edit?id=${this.id}${this.folderIndex?`&f=${this.folderIndex}`:""}`)}).catch(s=>{if(Ve.logError(s),s.response){const g={};s.response&&s.response.data&&s.response.data.msg&&s.response.data.msg.includes("description")?g.descError=s.response.data.msg:g.titleError=s.response.data.msg,this.setState(Fr(Fi({},g),{loading:!1}))}})}else this.setState({loading:!1})}onURLUpdate(t){this.setState({tempURL:t.target.value,urlError:""})}onURLSubmit(t){return ci(this,null,function*(){if(t.preventDefault(),this.loading)return;this.loading=!0;let r="";this.state.tempURL||(r="Where's the URL?"),(yield new Promise(d=>{vi.get("/api/games/is-image",{params:{url:this.state.tempURL}}).then(S=>{d(S.data)}).catch(()=>d(!1))}))||(r="We can't find a supported image for that URL."),r?this.setState({imageError:"",urlError:r}):this.setState({imageError:"",coverImageURL:this.state.tempURL,coverImageFile:{},tempURL:"",uploadingURL:!1}),this.loading=!1})}onImageDrop(t){const r=t[0];r?this.setState({imageError:"",coverImageFile:r,coverImageURL:URL.createObjectURL(r)}):this.setState({imageError:"Error Uploading the File.",coverImageFile:{},coverImageURL:""})}render(){if(!this.id){Ve.logError("EditInfoPage cannot be rendered without id"),window.location.href=`${ar.id}/login`;return}if(this.state.leave){Ve.logError("EditInfoPage cannot be rendered if this.state.leave is defined"),window.location.href=`${ar.id}/login`;return}const t=ti.createRef();return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Edit Set Info | Blooket",desc:"Quickly and easily change a set's basic information including the title, description, cover image, and privacy setting."}),R.jsx(la,{user:this.state.user,page:"Set Creator"}),R.jsxs("div",{className:Qe.profileBody,children:[R.jsx("div",{className:tr.header,children:"Edit Set Info"}),R.jsxs("form",{onSubmit:this.onEdit,className:tr.inputContainer,children:[R.jsxs("div",{className:tr.wideContainer,children:[R.jsx("div",{className:tr.dropHolder,children:!this.state.coverImageURL&&!this.state.unsplashURL?R.jsxs(Md,{multiple:!1,accept:"image/jpeg, image/png, image/gif",onDropAccepted:this.onImageDrop,onDropRejected:()=>this.setState({imageError:"Image Denied (Check Size < 2.5 MB)"}),className:tr.dropContainer,activeClassName:tr.activeDropContainer,ref:t,maxSize:25e5,disableClick:!0,children:[R.jsx("div",{className:tr.dropHeader,children:"Cover Image"}),R.jsx("div",{className:tr.dropText,children:"Drag and Drop or"}),R.jsxs("div",{className:tr.uploadButtonContainer,children:[R.jsx(Ri,{outsideClass:tr.uploadButton,color:"#fff",onClick:()=>this.setState({showUnsplash:!0}),children:R.jsxs("div",{className:tr.uploadButtonInside,children:[R.jsx("i",{className:Ct(tr.uploadIcon,"fas fa-image")}),R.jsxs("div",{className:tr.uploadText,children:["Image",R.jsx("br",{}),"Gallery"]})]})}),R.jsx(Ri,{outsideClass:tr.uploadButton,color:"#fff",onClick:()=>t.current.open(),children:R.jsxs("div",{className:tr.uploadButtonInside,children:[R.jsx("i",{className:Ct(tr.uploadIcon,"fas fa-file-upload")}),R.jsxs("div",{className:tr.uploadText,children:["Upload",R.jsx("br",{}),"a File"]})]})}),R.jsx(Ri,{outsideClass:tr.uploadButton,color:"#fff",onClick:()=>this.setState({uploadingURL:!0,urlError:""}),children:R.jsxs("div",{className:tr.uploadButtonInside,children:[R.jsx("i",{className:Ct(tr.uploadIcon,"fas fa-link")}),R.jsxs("div",{className:tr.uploadText,children:["Upload",R.jsx("br",{}),"by URL"]})]})})]})]}):R.jsxs("div",{className:tr.imgContainer,children:[R.jsx("img",{src:this.state.coverImageURL||this.state.unsplashURL,alt:"Upload",className:tr.coverImage}),R.jsx("div",{className:tr.removeImageContainer}),R.jsxs("div",{className:tr.removeImageButton,role:"button",tabIndex:0,onClick:()=>this.setState({coverImageURL:"",coverImageFile:{},unsplashURL:""}),children:[R.jsx("i",{className:Ct(tr.removeImageIcon,"fas fa-times")}),R.jsx("div",{className:tr.removeImageText,children:"Remove"})]})]})}),R.jsxs("div",{className:tr.upperRightContainer,children:[R.jsxs("div",{className:tr.titleHeader,children:["Title ",R.jsx("span",{className:tr.titleSub,children:"(required)"})]}),R.jsx("input",{className:Ct(tr.input,{[tr.inputFilled]:this.state.title,[tr.inputError]:this.state.titleError}),onChange:r=>this.setState({title:r.target.value.slice(0,WE)}),value:this.state.title,type:"text",placeholder:"Add a descriptive title",autoFocus:mr?"":"autofocus"}),R.jsx("div",{className:tr.descHeader,children:"Description"}),R.jsx("textarea",{className:Ct(tr.descInput,{[tr.inputFilled]:this.state.desc,[tr.inputError]:this.state.descError}),onChange:r=>this.setState({desc:r.target.value.slice(0,VE)}),value:this.state.desc,placeholder:"Tell users about your question set","data-gramm_editor":"false"})]})]}),R.jsx("div",{className:Ct(tr.wideContainer,tr.wideStart),children:R.jsxs("div",{className:tr.categoryContainer,children:[R.jsx("div",{className:tr.categoryHeader,children:"Privacy Setting"}),R.jsx("div",{className:tr.categoryDesc,children:"This decides who can find and play your question set"}),R.jsxs("div",{className:tr.privacyRow,children:[R.jsx("div",{className:Ct(tr.privacyCheckbox,{[tr.privacyCheckboxChecked]:!this.state.private}),role:"button",tabIndex:0,onClick:()=>this.setState({private:!this.state.private}),children:R.jsx("div",{className:tr.privacyCheckboxSquare})}),R.jsx("div",{className:tr.privacyText,children:this.state.private?"Private":"Public"}),R.jsx("div",{className:tr.privacyTextDesc,children:this.state.private?"Only Playable by You":"Playable by Everyone"})]})]})}),R.jsxs("div",{className:tr.bottomRow,children:[this.state.titleError||this.state.descError||this.state.imageError?R.jsxs("div",{className:tr.errorContainer,children:[R.jsx("i",{className:Ct(tr.errorIcon,"fas fa-times-circle")}),this.state.titleError||this.state.descError||this.state.imageError]}):null,R.jsx("div",{className:tr.buttonWrapper,children:this.state.loading?R.jsx(Po,{}):R.jsx(Ri,{color:"#0bc2cf",onClick:this.onEdit,children:R.jsx("div",{className:tr.createButton,children:"Save"})})})]}),R.jsx("div",{className:tr.spacer}),R.jsx("input",{type:"submit",className:tr.hiddenInput})]}),this.state.uploadingURL?R.jsx(xr,{text:"Enter Image URL Address:",loading:this.state.loading,stringValue:this.state.tempURL,stringChange:this.onURLUpdate,stringPlaceholder:"Image URL",onSubmit:this.onURLSubmit,error:this.state.urlError,buttonOne:{text:"Upload",click:this.onURLSubmit,color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({uploadingURL:!1,tempURL:""}),color:"blue"}}):null]}),this.state.showUnsplash?R.jsx(sb,{select:r=>this.setState({showUnsplash:!1,unsplashURL:r}),close:()=>this.setState({showUnsplash:!1})}):null]})}}nU.propTypes={history:Xt.object.isRequired,user:Xt.object};const yGt=()=>({}),xGt=e=>Ns({},e),bGt=jn(Ls(Qs(yGt,xGt)(nU))),SGt="_container_152zv_1",wGt="_laterButton_152zv_14",TGt="_laterIcon_152zv_35",CGt="_imageContainer_152zv_40",EGt="_image_152zv_40",kGt="_bottomContainer_152zv_54",PGt="_headline_152zv_58",AGt="_text_152zv_64",RGt="_bottomRow_152zv_68",IGt="_backButton_152zv_76",MGt="_nextButton_152zv_95",BGt="_nextButtonInside_152zv_99",OGt="_nextButtonInsideBig_152zv_100",NGt="_hideSmall_152zv_111",Ka={container:SGt,laterButton:wGt,laterIcon:TGt,imageContainer:CGt,image:EGt,bottomContainer:kGt,headline:PGt,text:AGt,bottomRow:RGt,backButton:IGt,nextButton:MGt,nextButtonInside:BGt,nextButtonInsideBig:OGt,hideSmall:NGt},LGt=R.jsx(R.Fragment,{children:"Thanks for joining our vibrant and diverse community! Join the millions of educators and parents who are bringing engagement back to education with Blooket!"}),FGt=R.jsxs(R.Fragment,{children:["With access to ",R.jsx("b",{children:"millions of Question Sets"})," and ",R.jsx("b",{children:"16+ unique game modes"}),", you can get started quickly and keep students engaged with endless possibilities!"]}),DGt=R.jsxs(R.Fragment,{children:["Step 1: Find or Create a Question Set",R.jsx("br",{}),"Step 2: Select a Game Mode",R.jsx("br",{}),"Step 3: Watch Students Come Alive While Learning!!"]}),hR=[{img:"https://media.blooket.com/image/upload/v1705327195/Media/welcomeTour/welcomeTour1.gif",headline:"Welcome to Blooket!",text:LGt},{img:"https://media.blooket.com/image/upload/v1705327194/Media/welcomeTour/welcomeTour3.gif",headline:"Fast & Flexible!",text:FGt},{img:"https://media.blooket.com/image/upload/v1705327195/Media/welcomeTour/welcomeTour2.gif",headline:"Get Started in 3 Steps...",text:DGt}],_Gt=e=>{if(!e)return e;let t=e.indexOf("upload/");return t===-1?e:(t+=7,`${e.slice(0,t)}f_auto,q_auto:low,h_342,w_608${e.slice(t-1,e.length)}`)},sU=({done:e})=>{const[t,r]=_i.useState(0),n=hR[t],d=t===hR.length-1,S=()=>{d?e(!0):r(t+1)};return R.jsx("div",{className:Ct(Qe.modal,Ka.hideSmall),children:R.jsxs("div",{className:Ka.container,children:[R.jsxs("div",{className:Ka.laterButton,role:"button",tabIndex:0,onClick:()=>e(!1),children:[R.jsx("i",{className:Ct("fas fa-times",Ka.laterIcon)}),"Later"]}),R.jsx("div",{className:Ka.imageContainer,children:R.jsx("img",{src:_Gt(n.img),alt:n.headline,className:Ka.image,draggable:!1})}),R.jsxs("div",{className:Ka.bottomContainer,children:[R.jsx("div",{className:Ka.headline,children:n.headline}),R.jsx("div",{className:Ka.text,children:n.text})]}),R.jsxs("div",{className:Ka.bottomRow,children:[t>0&&R.jsx("div",{className:Ka.backButton,role:"button",tabIndex:0,onClick:()=>r(t-1),children:"Back"}),d?R.jsx(Ri,{outsideClass:Ka.nextButton,insideClass:Ka.nextButtonInsideBig,color:"#0bc2cf",onClick:()=>S(),children:"End Tour"}):R.jsx(Ri,{insideClass:Ka.nextButtonInside,color:"#0bc2cf",onClick:S,children:"Next"})]})]})})};sU.propTypes={done:Xt.func};const jGt="_header_3l2cj_1",zGt="_flex_3l2cj_9",UGt="_topFolderButton_3l2cj_13",GGt="_topFolderIcon_3l2cj_35",HGt="_searchBar_3l2cj_41",$Gt="_searchIcon_3l2cj_57",WGt="_searchInput_3l2cj_66",VGt="_container_3l2cj_79",YGt="_mergeContainer_3l2cj_87",XGt="_mergeName_3l2cj_101",QGt="_mergeSub_3l2cj_109",KGt="_mergeButton_3l2cj_116",JGt="_cancelIcon_3l2cj_137",ZGt="_setContainer_3l2cj_141",qGt="_setImageFiller_3l2cj_156",tHt="_coverImage_3l2cj_164",eHt="_setFillerContainer_3l2cj_174",iHt="_setFillerText_3l2cj_185",rHt="_khanmigoContainer_3l2cj_198",nHt="_plusContainer_3l2cj_197",sHt="_verifiedContainer_3l2cj_196",aHt="_khanmigoIcon_3l2cj_225",oHt="_verifiedIcon_3l2cj_231",lHt="_removeFromFolder_3l2cj_237",uHt="_viewButton_3l2cj_260",hHt="_setQuestionsContainer_3l2cj_279",cHt="_setQuestionsText_3l2cj_287",dHt="_setHeader_3l2cj_296",fHt="_setSpacer_3l2cj_306",pHt="_setPlays_3l2cj_312",vHt="_setLastEdit_3l2cj_320",mHt="_setHorizontalDivider_3l2cj_327",gHt="_setVerticalDivider_3l2cj_333",yHt="_setVerticalDividerTall_3l2cj_339",xHt="_setBottomContainer_3l2cj_343",bHt="_pencilIcon_3l2cj_349",SHt="_trashIcon_3l2cj_365",wHt="_setDropdown_3l2cj_381",THt="_setDropdownIcon_3l2cj_396",CHt="_setDropdownMenu_3l2cj_400",EHt="_setDropdownOption_3l2cj_427",kHt="_setDropdownOptionIcon_3l2cj_449",PHt="_justCopied_3l2cj_457",AHt="_setPlayContainer_3l2cj_471",RHt="_playButton_3l2cj_479",IHt="_playIcon_3l2cj_495",MHt="_hostButton_3l2cj_502",BHt="_hostButtonInside_3l2cj_506",OHt="_setPlayText_3l2cj_517",NHt="_addSetButton_3l2cj_526",LHt="_mergeSetButton_3l2cj_548",FHt="_nothingContainer_3l2cj_565",DHt="_nothingHeader_3l2cj_579",_Ht="_nothingButtonsRow_3l2cj_585",jHt="_nothingButton_3l2cj_585",zHt="_nothingButtonInside_3l2cj_596",UHt="_nothingIcon_3l2cj_609",GHt="_nothingLink_3l2cj_614",HHt="_folderHolder_3l2cj_623",$Ht="_folderButton_3l2cj_632",WHt="_folderButtonInside_3l2cj_636",VHt="_folderButtonIcon_3l2cj_650",YHt="_folderButtonMinWidth_3l2cj_655",XHt="_folderButtonDropdown_3l2cj_659",QHt="_folderButtonDropdownIcon_3l2cj_674",KHt="_folderButtonDropdownMenu_3l2cj_683",JHt="_folderButtonDropdownOption_3l2cj_710",ZHt="_folderButtonDropdownOptionIcon_3l2cj_730",qHt="_moveText_3l2cj_736",t$t="_locationsHolder_3l2cj_745",e$t="_noFoldersText_3l2cj_771",i$t="_locationFolderButton_3l2cj_775",r$t="_locationFolderButtonInside_3l2cj_780",n$t="_locationFolderButtonIcon_3l2cj_794",s$t="_moveLocation_3l2cj_799",a$t="_spacer_3l2cj_808",di={header:jGt,flex:zGt,topFolderButton:UGt,topFolderIcon:GGt,searchBar:HGt,searchIcon:$Gt,searchInput:WGt,container:VGt,mergeContainer:YGt,mergeName:XGt,mergeSub:QGt,mergeButton:KGt,cancelIcon:JGt,setContainer:ZGt,setImageFiller:qGt,coverImage:tHt,setFillerContainer:eHt,setFillerText:iHt,khanmigoContainer:rHt,plusContainer:nHt,verifiedContainer:sHt,khanmigoIcon:aHt,verifiedIcon:oHt,removeFromFolder:lHt,viewButton:uHt,setQuestionsContainer:hHt,setQuestionsText:cHt,setHeader:dHt,setSpacer:fHt,setPlays:pHt,setLastEdit:vHt,setHorizontalDivider:mHt,setVerticalDivider:gHt,setVerticalDividerTall:yHt,setBottomContainer:xHt,pencilIcon:bHt,trashIcon:SHt,setDropdown:wHt,setDropdownIcon:THt,setDropdownMenu:CHt,setDropdownOption:EHt,setDropdownOptionIcon:kHt,justCopied:PHt,setPlayContainer:AHt,playButton:RHt,playIcon:IHt,hostButton:MHt,hostButtonInside:BHt,setPlayText:OHt,addSetButton:NHt,mergeSetButton:LHt,nothingContainer:FHt,nothingHeader:DHt,nothingButtonsRow:_Ht,nothingButton:jHt,nothingButtonInside:zHt,nothingIcon:UHt,nothingLink:GHt,folderHolder:HHt,folderButton:$Ht,folderButtonInside:WHt,folderButtonIcon:VHt,folderButtonMinWidth:YHt,folderButtonDropdown:XHt,folderButtonDropdownIcon:QHt,folderButtonDropdownMenu:KHt,folderButtonDropdownOption:JHt,folderButtonDropdownOptionIcon:ZHt,moveText:qHt,locationsHolder:t$t,noFoldersText:e$t,locationFolderButton:i$t,locationFolderButtonInside:r$t,locationFolderButtonIcon:n$t,moveLocation:s$t,spacer:a$t},cR=(e,t)=>e.playCount!==t.playCount?t.playCount-e.playCount:e.title<t.title?-1:e.title>t.title?1:0,dR=ar.play;class aU extends ti.Component{constructor(t){super(t),this.state={allGames:[],games:[],folders:{},user:null,deleteId:"",deleting:!1,loading:!1,copyGame:!1,copying:!1,noFolder:!1,creatingFolder:!1,editingFolder:!1,folderName:"",oldFolderName:"",folderColor:"#1f77b4",folderError:"",deleteFolder:"",inFolder:!1,justCopied:!1,mergeGame:{},mergeGame2:{},noMerge:!1,searchInput:"",dashboardLayout:null,loadingLayout:!1,showNews:!1},this.loading=!1,this.gotPlus=!1,this.plus=!1,this.here=!0,this.onEdit=this.onEdit.bind(this),this.onDelete=this.onDelete.bind(this),this.onDeleteConfirm=this.onDeleteConfirm.bind(this),this.onCopy=this.onCopy.bind(this),this.onCopyConfirm=this.onCopyConfirm.bind(this),this.onMerge=this.onMerge.bind(this),this.onMergeConfirm=this.onMergeConfirm.bind(this),this.onHost=this.onHost.bind(this),this.onHw=this.onHw.bind(this),this.onSolo=this.onSolo.bind(this),this.getIsPlus=this.getIsPlus.bind(this),this.setDisplay=this.setDisplay.bind(this),this.setLayout=this.setLayout.bind(this),this.openFolder=this.openFolder.bind(this),this.newFolder=this.newFolder.bind(this),this.createFolder=this.createFolder.bind(this),this.editFolder=this.editFolder.bind(this),this.addToFolder=this.addToFolder.bind(this),this.removeFromFolder=this.removeFromFolder.bind(this),this.deleteFolder=this.deleteFolder.bind(this),this.shouldShowFolder=this.shouldShowFolder.bind(this),this.copyToClipboard=this.copyToClipboard.bind(this),this.endTour=this.endTour.bind(this)}componentDidMount(){return ci(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ve.logError("MySetsPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}const r=yield Yr.me();this.setState({user:t,dashboardLayout:r.dashboardLayout}),vi.get("/api/users/allsets").then(n=>{if(!this.here)return;const d=[...n.data.games];d.sort(cR);const S=[...d],s=Fi({},n.data.folders),g=d.map(o=>o._id);Object.values(s).forEach(o=>{o.sets.forEach(m=>{const c=g.indexOf(m);c!==-1&&(d.splice(c,1),g.splice(c,1))})});let i=!1;n.data.news&&n.data.modalMessage!=="welcome"&&(i=!0,vi.put("/api/users/setnews",{news:!1}).catch(o=>{console.error(o)})),this.setState({allGames:S,games:d,folders:s,tour:n.data.modalMessage==="welcome",showNews:i,ready:!0},()=>{const o=Ys("f"),m=Number(o);o&&m>=0&&m<Object.keys(this.state.folders).length&&this.openFolder(m)})}).catch(n=>{Ve.logError(n)})})}componentWillUnmount(){this.loading=!0,this.here=!1,clearTimeout(this.copyTimeout)}onEdit(t){this.loading||(this.loading=!0,this.props.history.push(`/edit?id=${t}${this.state.inFolder?`&f=${Object.keys(this.state.folders).indexOf(this.state.folderName)}`:""}`))}onDelete(t){this.setState({deleteId:t,deleting:!0})}onDeleteConfirm(t){this.loading||(this.loading=!0,t?(this.setState({loading:!0}),vi.delete("/api/games",{params:{gameId:this.state.deleteId}}).then(()=>{if(!this.here)return;const r=JSON.parse(JSON.stringify(this.state.games));let n=r.map(S=>S._id).indexOf(this.state.deleteId);n!==-1&&r.splice(n,1);const d=JSON.parse(JSON.stringify(this.state.allGames));n=d.map(S=>S._id).indexOf(this.state.deleteId),n!==-1&&d.splice(n,1),this.setState({games:r,allGames:d,deleteId:"",loading:!1,deleting:!1}),this.loading=!1}).catch(r=>{Ve.logError(r)})):(this.loading=!1,this.setState({deleteId:"",deleting:!1})))}onCopy(t){return ci(this,null,function*(){this.loading||(this.loading=!0,this.gotPlus||(yield new Promise(r=>this.getIsPlus(r))),this.plus?this.setState({copyGame:t,copying:!0}):this.setState({copying:!0}),this.loading=!1)})}onCopyConfirm(){this.loading||(this.loading=!0,this.setState({loading:!0}),vi.post("/api/games/copy",{newAuthor:this.state.copyGame.author,id:this.state.copyGame._id,isDuplicate:!1}).then(t=>{this.here&&this.props.history.push(`/edit?id=${t.data._id}`)}).catch(t=>{this.here&&(Ve.logError(t),this.loading=!1,this.setState({copying:!1,loading:!1}))}))}onMerge(t){return ci(this,null,function*(){this.loading||(this.loading=!0,this.gotPlus||(yield new Promise(r=>this.getIsPlus(r))),this.plus?this.setState({mergeGame:t}):this.setState({noMerge:!0}),this.loading=!1)})}onMergeConfirm(){this.loading||(this.loading=!0,this.setState({loading:!0}),vi.post("/api/games/merge",{game1Id:this.state.mergeGame._id,game2Id:this.state.mergeGame2._id}).then(t=>{this.here&&this.props.history.push(`/edit?id=${t.data._id}`)}).catch(t=>{this.here&&(Ve.logError(t),this.loading=!1,this.setState({loading:!1,mergeGame:{},mergeGame2:{}}))}))}onHost(t){if(this.loading)return;this.loading=!0,window.open(`${dR}/host?id=${t}`,"_blank").focus(),this.loading=!1}onHw(t){this.loading||(window.location.href=`/assign/${t}`)}onSolo(t){this.loading||(this.loading=!0,window&&window.open(`${dR}/solo?id=${t}`,"_blank").focus(),this.loading=!1)}getIsPlus(t){vi.get("/api/users/plan").then(r=>{this.here&&(this.gotPlus=!0,this.plus=r.data.hasPlus,t())}).catch(r=>{this.here&&(Ve.logError(r),this.loading=!1,this.setState({copying:!1,noMerge:!0,noFolder:!0},t))})}setDisplay(t){window.history.pushState({},null,`${window.location.origin}/my-sets`);const r=Fi({},t),n=this.state.allGames.map(S=>S._id),d=[...this.state.allGames];Object.values(r).forEach(S=>{S.sets.forEach(s=>{const g=n.indexOf(s);g!==-1&&(d.splice(g,1),n.splice(g,1))})}),this.setState({games:d,folders:r,inFolder:!1})}setLayout(t){return ci(this,null,function*(){const r=t==="Teacher"?io.TEACHER:io.STUDENT;yield Yr.setDashboardLayout({layout:r}),yield this.props.user.getLoggedIn();const n=yield this.props.user.getData();this.setState({user:n,dashboardLayout:t})})}openFolder(t){window.history.pushState({},null,`${window.location.origin}/my-sets?f=${t}`);const r=Object.keys(this.state.folders)[t],n=this.state.folders[r],d=n.sets,S=this.state.allGames.filter(s=>d.includes(s._id));S.sort(cR),setTimeout(()=>{this.state.editingFolder||this.state.deleting||this.setState({games:S,folderName:r,folderColor:n.color,inFolder:!0,searchInput:r.toLowerCase().includes(this.state.searchInput.toLowerCase())?"":this.state.searchInput})})}newFolder(){return ci(this,null,function*(){this.loading||(this.loading=!0,this.gotPlus||(yield new Promise(t=>this.getIsPlus(t))),this.plus?this.setState({creatingFolder:!0,folderName:"",folderColor:"#1f77b4"}):this.setState({noFolder:!0}),this.loading=!1)})}createFolder(){if(!this.loading){if(this.loading=!0,!this.state.folderName){this.loading=!1,this.setState({folderError:"You need a folder name."});return}this.setState({loading:!0}),vi.put("/api/users/folders/new",{folderName:this.state.folderName,folderColor:this.state.folderColor}).then(t=>{this.here&&(t.data.success?this.setState({folders:t.data.user.folders,creatingFolder:!1,loading:!1}):this.setState({folderError:t.data.msg,loading:!1}),this.loading=!1)}).catch(t=>{this.here&&(Ve.logError(t),this.loading=!1,this.setState({creatingFolder:!1,loading:!1}))})}}editFolder(){if(!this.loading){if(this.loading=!0,!this.state.folderName){this.loading=!1,this.setState({folderError:"You need a folder name."});return}this.setState({loading:!0}),vi.put("/api/users/folders/edit",{oldFolderName:this.state.oldFolderName,folderName:this.state.folderName,folderColor:this.state.folderColor}).then(t=>{this.here&&(t.data.success?this.setState({folders:t.data.user.folders,editingFolder:!1,loading:!1}):this.setState({folderError:t.data.msg,loading:!1}),this.loading=!1)}).catch(t=>{this.here&&(Ve.logError(t),this.loading=!1,this.setState({editingFolder:!1,loading:!1}))})}}addToFolder(){return ci(this,null,function*(){this.loading||(this.loading=!0,this.state.inFolder&&this.state.folderName&&(yield vi.put("/api/users/folders/removeset",{folderName:this.state.folderName,setId:this.state.movingGame._id}).then().catch(t=>{Ve.logError(t)})),vi.put("/api/users/folders/addsets",{folderName:this.state.moveLocation,sets:[this.state.movingGame._id]}).then(t=>{if(!this.here)return;const r=t.data||this.state.folders;this.setDisplay(r),this.setState({movingGame:""}),this.loading=!1}).catch(t=>{this.here&&(Ve.logError(t),this.loading=!1,this.setState({movingGame:""}))}))})}removeFromFolder(t){this.loading||(this.loading=!0,vi.put("/api/users/folders/removeset",{folderName:this.state.folderName,setId:t}).then(r=>{if(!this.here)return;const n=r.data||this.state.folders,d=JSON.parse(JSON.stringify(this.state.games)),S=d.map(s=>s._id).indexOf(t);S!==-1&&d.splice(S,1),this.setState({folders:n,games:d}),this.loading=!1}).catch(r=>{this.here&&(Ve.logError(r),this.loading=!1)}))}deleteFolder(){this.loading||(this.loading=!0,this.setState({loading:!0}),vi.put("/api/users/folders/delete",{folderName:this.state.deleteFolder}).then(t=>{if(!this.here)return;const r=t.data||this.state.folders;this.setDisplay(r),this.setState({deleting:!1,deleteFolder:"",loading:!1}),this.loading=!1}).catch(t=>{this.here&&(Ve.logError(t),this.loading=!1,this.setState({deleting:!1,deleteFolder:"",loading:!1}))}))}shouldShowFolder(t,r){if(t.toLowerCase().includes(this.state.searchInput.toLowerCase()))return!0;const n=r.sets,d=this.state.allGames.filter(S=>n.includes(S._id));for(let S=0;S<d.length;S++)if(d[S].title.toLowerCase().includes(this.state.searchInput.toLowerCase()))return!0;return!1}copyToClipboard(t){Jrt(`${ar.dashboard}/set/${t}`),clearTimeout(this.copyTimeout),this.setState({justCopied:!0},()=>{this.copyTimeout=setTimeout(()=>{this.setState({justCopied:!1})},1200)})}endTour(t){this.setState({tour:!1}),t&&vi.put("/api/users/setmessage",{name:this.state.user.name,message:""}).then(()=>{this.setState({tour:!1})}).catch(r=>{Ve.logError(r)})}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Dashboard | Blooket",desc:"The Dashboard allows you to access your question sets, favorites, game history, and news about Blooket events!"}),R.jsx(la,{user:this.state.user,page:"My Sets",newNews:this.state.showNews,afterNews:()=>this.setState({showNews:!1}),topContent:this.state.ready&&(this.state.games.length>0||Object.keys(this.state.folders).length>0)?R.jsxs(R.Fragment,{children:[this.state.inFolder?null:R.jsx("div",{className:di.topFolderButton,role:"button",tabIndex:0,onClick:this.newFolder,children:R.jsx("i",{className:Ct("fas fa-folder-plus",di.topFolderIcon)})}),R.jsxs("div",{className:di.searchBar,children:[R.jsx("i",{className:Ct("fas fa-search",di.searchIcon)}),R.jsx("input",{className:di.searchInput,placeholder:"Search your sets...",onChange:t=>this.setState({searchInput:t.target.value}),value:this.state.searchInput,type:"text"})]})]}):null}),R.jsxs("div",{className:Qe.profileBody,children:[R.jsx("div",{className:di.header,children:"My Sets"}),this.state.allGames.length===0&&this.state.ready?R.jsx("div",{className:di.flex,children:R.jsxs("div",{className:di.nothingContainer,children:[R.jsx("div",{className:di.nothingHeader,children:"You'll Need a Question Set to Host!"}),R.jsxs("div",{className:di.nothingButtonsRow,children:[R.jsx(Ri,{color:"#9a49aa",onClick:()=>this.props.history.push("/create"),outsideClass:di.nothingButton,children:R.jsxs("div",{className:di.nothingButtonInside,children:[R.jsx("i",{className:Ct("fas fa-edit",di.nothingIcon)}),"Create a Set"]})}),R.jsx(Ri,{color:"#0bc2cf",realLinkTo:"/discover",outsideClass:di.nothingButton,children:R.jsxs("div",{className:di.nothingButtonInside,children:[R.jsx("i",{className:Ct("fas fa-compass",di.nothingIcon)}),"Discover Sets"]})})]}),R.jsx("a",{href:this.state.user.dashboardLayout==="Student"?"https://help.blooket.com/hc/en-us/articles/16015848585879":"https://help.blooket.com/hc/en-us/articles/16015371934487",target:"_blank",rel:"noopener noreferrer",className:di.nothingLink,children:"Getting Started Tutorial"})]})}):null,this.state.allGames.length>0?R.jsx("div",{className:di.folderHolder,children:this.state.inFolder?R.jsx(Ri,{outsideClass:di.folderButton,color:"#0bc2cf",onClick:()=>this.setDisplay(this.state.folders),children:R.jsxs("div",{className:Ct(di.folderButtonInside,di.folderButtonMinWidth),children:[R.jsx("i",{className:Ct("fas fa-reply",di.folderButtonIcon)}),"Back"]})}):Object.entries(this.state.folders).map(([t,r],n)=>this.shouldShowFolder(t,r)?R.jsx(Ri,{outsideClass:di.folderButton,color:r.color,style:{zIndex:Object.keys(this.state.folders).length-n},onClick:()=>this.openFolder(n),children:R.jsxs("div",{className:di.folderButtonInside,children:[R.jsx("i",{className:Ct("fas fa-folder",di.folderButtonIcon)}),t,R.jsxs("div",{className:di.folderButtonDropdown,role:"button",tabIndex:0,children:[R.jsx("i",{className:Ct("fas fa-ellipsis-v",di.folderButtonDropdownIcon)}),R.jsxs("div",{className:di.folderButtonDropdownMenu,children:[R.jsxs("div",{className:di.folderButtonDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setState({editingFolder:!0,folderName:t,folderColor:r.color,oldFolderName:t}),children:[R.jsx("i",{className:Ct("fas fa-pencil-alt",di.folderButtonDropdownOptionIcon)}),"Edit"]}),R.jsxs("div",{className:di.folderButtonDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setState({deleting:!0,deleteFolder:t}),children:[R.jsx("i",{className:Ct("fas fa-trash-alt",di.folderButtonDropdownOptionIcon)}),"Delete"]})]})]})]})},t):null)}):null,R.jsx("div",{className:di.container,children:this.state.games.filter(t=>t.title.toLowerCase().includes(this.state.searchInput.toLowerCase())).map(t=>R.jsxs("div",{className:di.setContainer,children:[t.coverImage?R.jsx("div",{className:di.setImageFiller,children:R.jsx(Ul,{height:180,children:R.jsx("img",{src:En(t.coverImage.url),alt:"Cover",className:di.coverImage,draggable:!1})})}):R.jsx("div",{className:di.setFillerContainer,children:R.jsx("div",{className:di.setFillerText,children:"Blooket"})}),t.plusOnly?R.jsxs("div",{className:di.plusContainer,children:[R.jsx("i",{className:Ct("fas fa-plus",di.verifiedIcon)}),"Plus Only"]}):t.verified?R.jsxs("div",{className:di.verifiedContainer,children:[R.jsx("i",{className:Ct("fas fa-check-square",di.verifiedIcon)}),"Teacher Verified"]}):t.createdWithKhanmigo?R.jsxs("div",{className:di.khanmigoContainer,children:[R.jsx("img",{src:Ee.basic.khanmigoIcon,alt:"Khanmigo",className:di.khanmigoIcon}),"Created with Khanmigo"]}):null,this.state.inFolder?R.jsx("div",{"data-tip":"Remove from Folder",className:di.removeFromFolder,role:"button",tabIndex:0,onClick:()=>this.removeFromFolder(t._id),children:R.jsx("i",{className:"fas fa-folder-minus"})}):null,t.private?null:R.jsx("a",{className:di.viewButton,"data-tip":"View Set",href:`/set/${t._id}`,children:R.jsx("i",{className:"far fa-eye"})}),R.jsx("div",{className:di.setQuestionsContainer,children:R.jsx("div",{className:di.setQuestionsText,children:`${$i(t.questions.length)} ${t.questions.length===1?"Question":"Questions"}`})}),R.jsx("div",{className:di.setHeader,children:t.title}),R.jsx("div",{className:di.setSpacer}),R.jsx("div",{className:di.setPlays,children:`${$i(t.playCount)} ${t.playCount===1?"Play":"Plays"}`}),R.jsx("div",{className:di.setLastEdit,children:`Edited ${li(t.date).fromNow()}`}),R.jsx("div",{className:di.setHorizontalDivider}),R.jsxs("div",{className:di.setBottomContainer,children:[R.jsx("i",{"data-tip":"Edit",className:Ct(di.pencilIcon,"fas fa-pencil-alt"),role:"button",tabIndex:0,onClick:()=>this.onEdit(t._id)}),R.jsx(kc,{place:"top",effect:"solid",className:Qe.tooltip}),R.jsx("div",{className:di.setVerticalDivider}),R.jsx("i",{"data-tip":"Delete",className:Ct(di.trashIcon,"fas fa-trash-alt"),role:"button",tabIndex:0,onClick:()=>this.onDelete(t._id)}),R.jsx("div",{className:di.setVerticalDivider}),R.jsxs("div",{className:di.setDropdown,role:"button",tabIndex:0,children:[R.jsx("i",{className:Ct("fas fa-cog",di.setDropdownIcon)}),R.jsxs("div",{className:di.setDropdownMenu,children:[this.state.dashboardLayout===io.STUDENT?R.jsxs("div",{className:di.setDropdownOption,role:"button",tabIndex:0,onClick:()=>this.onHw(t._id),children:[R.jsx("i",{className:Ct("fas fa-file-alt",di.setDropdownOptionIcon)}),"Assign"]}):R.jsxs("div",{className:di.setDropdownOption,role:"button",tabIndex:0,onClick:()=>this.onSolo(t._id),children:[R.jsx("i",{className:Ct("fas fa-user-astronaut",di.setDropdownOptionIcon)}),"Solo"]}),R.jsxs("a",{className:di.setDropdownOption,href:`/set/${t._id}/print?images=true&description=true`,target:"_blank",rel:"noreferrer",children:[R.jsx("i",{className:Ct("fas fa-print",di.setDropdownOptionIcon)}),"Print"]}),R.jsxs("div",{className:di.setDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setState({movingGame:t,oldMoveLocation:"",moveLocation:""}),children:[R.jsx("i",{className:Ct("fas fa-folder",di.setDropdownOptionIcon)}),"Move"]}),R.jsxs("div",{className:di.setDropdownOption,role:"button",tabIndex:0,onClick:()=>this.onCopy(t),children:[R.jsx("i",{className:Ct("fas fa-copy",di.setDropdownOptionIcon)}),"Copy"]}),R.jsxs("div",{className:di.setDropdownOption,role:"button",tabIndex:0,onClick:()=>this.onMerge(t),children:[R.jsx("i",{className:Ct("fas fa-random",di.setDropdownOptionIcon)}),"Merge"]}),t.private?null:R.jsxs("div",{className:di.setDropdownOption,role:"button",tabIndex:0,onClick:()=>this.copyToClipboard(t._id),children:[R.jsx("i",{className:Ct("fas fa-link",di.setDropdownOptionIcon)}),"Link",this.state.justCopied?R.jsx("div",{className:di.justCopied,children:"Copied!"}):null]})]})]})]}),R.jsx("div",{className:di.setHorizontalDivider}),R.jsxs("div",{className:di.setPlayContainer,children:[this.state.dashboardLayout===io.STUDENT?R.jsxs("div",{className:di.playButton,role:"button",tabIndex:0,onClick:()=>this.onSolo(t._id),children:[R.jsx("i",{className:Ct(di.playIcon,"fas fa-user-astronaut")}),R.jsx("div",{className:di.setPlayText,children:"Solo"})]}):R.jsxs("div",{className:di.playButton,role:"button",tabIndex:0,onClick:()=>this.onHw(t._id),children:[R.jsx("i",{className:Ct(di.playIcon,"fas fa-file-alt")}),R.jsx("div",{className:di.setPlayText,children:"Assign"})]}),R.jsx("div",{className:Ct(di.setVerticalDivider,di.setVerticalDividerTall)}),R.jsx(Ri,{outsideClass:di.hostButton,color:"#0bc2cf",onClick:()=>this.onHost(t._id),children:R.jsxs("div",{className:di.hostButtonInside,children:[R.jsx("i",{className:Ct(di.playIcon,"fas fa-play")}),R.jsx("div",{className:di.setPlayText,children:"Host"})]})})]}),this.state.mergeGame._id===t._id?R.jsxs("div",{className:di.mergeContainer,children:[R.jsxs("div",{className:di.mergeName,children:["Choose a set to merge with",R.jsx("div",{className:di.mergeSub,children:"This will add all questions from the set you select to this set"})]}),R.jsxs("div",{className:di.mergeButton,role:"button",tabIndex:0,onClick:()=>this.setState({mergeGame:{}}),children:[R.jsx("i",{className:Ct("fas fa-times",di.cancelIcon)}),"Cancel"]})]}):this.state.mergeGame._id?R.jsx("div",{className:di.mergeSetButton,role:"button",tabIndex:0,onClick:()=>this.setState({mergeGame2:t})}):null]},t._id))}),R.jsx("div",{className:di.spacer}),this.state.deleting?R.jsx(xr,{text:`Do you really want to delete this ${this.state.deleteFolder?"folder (this will not delete the sets inside)":"set"}?`,loading:this.state.loading,buttonOne:{text:"Yes",click:this.state.deleteFolder?this.deleteFolder:()=>this.onDeleteConfirm(!0),color:"red"},buttonTwo:{text:"No",click:this.state.deleteFolder?()=>this.setState({deleting:!1,deleteFolder:""}):()=>this.onDeleteConfirm(!1),color:"blue"}}):this.state.copying||this.state.noFolder?this.state.copyGame.title?R.jsx(xr,{text:this.state.loading?"Copying...":`Do you want to create a copy of "${this.state.copyGame.title}"?`,loading:this.state.loading,buttonOne:{text:"Yes",click:this.onCopyConfirm,color:"blue"},buttonTwo:{text:"No",click:()=>{this.setState({copying:!1,loading:!1,copyGame:{}}),this.loading=!1},color:"blue"}}):R.jsx(xr,{text:this.state.noFolder?"Get Blooket Plus to Create Folders":"Get Blooket Plus to Copy Sets",buttonOne:{text:"Upgrade",click:()=>this.props.history.push("/upgrade"),color:"orange"},buttonTwo:{text:"Not Now",click:()=>{this.setState({copying:!1,loading:!1,noFolder:!1}),this.loading=!1},color:"blue"}}):this.state.creatingFolder||this.state.editingFolder?R.jsx(xr,{text:this.state.creatingFolder?"Enter a folder name and select a color:":"You can change the folder name and color below:",loading:this.state.loading,stringValue:this.state.folderName,stringChange:t=>this.setState({folderName:t.target.value}),colorChange:t=>this.setState({folderColor:t}),colorValue:this.state.folderColor,onSubmit:t=>{t.preventDefault(),this.state.creatingFolder?this.createFolder():this.editFolder()},error:this.state.folderError,buttonOne:{text:this.state.creatingFolder?"Create":"Edit",click:this.state.creatingFolder?this.createFolder:this.editFolder,color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({creatingFolder:!1,editingFolder:!1}),color:"blue"}}):this.state.noMerge?R.jsx(xr,{text:"Get Blooket Plus to Merge Sets",buttonOne:{text:"Upgrade",click:()=>this.props.history.push("/upgrade"),color:"orange"},buttonTwo:{text:"Not Now",click:()=>this.setState({noMerge:!1}),color:"blue"}}):this.state.mergeGame2._id?R.jsx(xr,{text:this.state.loading?"Merging...":"Do you want to merge these two sets?",loading:this.state.loading,buttonOne:{text:"Yes",click:this.onMergeConfirm,color:"blue"},buttonTwo:{text:"No",click:()=>this.setState({mergeGame:{},mergeGame2:{}}),color:"blue"}}):this.state.movingGame?R.jsx(xr,{loading:this.state.loading,buttonOne:this.state.moveLocation!==this.state.oldMoveLocation?{text:"Move",click:this.addToFolder,color:"blue"}:null,buttonTwo:{text:"Back",click:()=>this.setState({movingGame:!1}),color:"blue"},content:R.jsxs(R.Fragment,{children:[R.jsx("div",{className:di.moveText,children:"Choose a location to move the set to:"}),R.jsx("div",{className:di.locationsHolder,children:Object.keys(this.state.folders).length>0?Object.entries(this.state.folders).map(([t,r])=>R.jsx(Ri,{outsideClass:di.locationFolderButton,color:r.color,onClick:()=>this.setState({moveLocation:t}),children:R.jsxs("div",{className:di.locationFolderButtonInside,children:[R.jsx("i",{className:Ct("fas fa-folder",di.locationFolderButtonIcon)}),t]})},t)):R.jsx("div",{className:di.noFoldersText,children:"No Folders Created"})}),R.jsx("div",{className:di.moveLocation,children:`Location: ${this.state.moveLocation===""?"No Folder":this.state.moveLocation}`})]})}):this.state.ready&&!this.state.dashboardLayout?R.jsx(xr,{text:this.state.loadingLayout?"Saving...":"Who are you?",loading:this.state.loadingLayout,buttonOne:{text:"Teacher",click:()=>this.setLayout("Teacher"),color:"blue"},buttonTwo:{text:"Student",click:()=>this.setLayout("Student"),color:"blue"}}):this.state.ready&&!mr&&this.state.tour?R.jsx(sU,{done:this.endTour}):null]})]})}}aU.propTypes={history:Xt.object,user:Xt.object};const o$t=()=>({}),l$t=e=>Ns({},e),u$t=jn(Ls(Qs(o$t,l$t)(aU))),h$t="_header_agpye_3",c$t="_topFolderButton_agpye_11",d$t="_topFolderIcon_agpye_33",f$t="_searchBar_agpye_39",p$t="_searchIcon_agpye_55",v$t="_searchInput_agpye_64",m$t="_container_agpye_77",g$t="_mergeContainer_agpye_85",y$t="_mergeName_agpye_99",x$t="_mergeButton_agpye_107",b$t="_setContainer_agpye_127",S$t="_setImageFiller_agpye_142",w$t="_coverImage_agpye_150",T$t="_setFillerContainer_agpye_160",C$t="_setFillerText_agpye_171",E$t="_khanmigoContainer_agpye_184",k$t="_plusContainer_agpye_183",P$t="_verifiedContainer_agpye_182",A$t="_khanmigoIcon_agpye_211",R$t="_verifiedIcon_agpye_217",I$t="_removeFromFolder_agpye_223",M$t="_viewButton_agpye_246",B$t="_setQuestionsContainer_agpye_265",O$t="_setQuestionsText_agpye_273",N$t="_setHeader_agpye_282",L$t="_setSpacer_agpye_292",F$t="_setPlays_agpye_298",D$t="_setLastEdit_agpye_306",_$t="_setHorizontalDivider_agpye_313",j$t="_setVerticalDivider_agpye_319",z$t="_setVerticalDividerHeight_agpye_325",U$t="_setBottomContainer_agpye_329",G$t="_starIcon_agpye_335",H$t="_setPlayContainer_agpye_352",$$t="_playButton_agpye_360",W$t="_playIcon_agpye_376",V$t="_hostButton_agpye_383",Y$t="_hostButtonInside_agpye_387",X$t="_setPlayText_agpye_398",Q$t="_addSetButton_agpye_407",K$t="_mergeSetButton_agpye_429",J$t="_flex_agpye_446",Z$t="_nothingContainer_agpye_450",q$t="_nothingHeader_agpye_464",tWt="_nothingButtonsRow_agpye_470",eWt="_nothingButton_agpye_470",iWt="_nothingButtonInside_agpye_481",rWt="_nothingIcon_agpye_494",nWt="_nothingLink_agpye_499",sWt="_modal_agpye_508",aWt="_folderHolder_agpye_520",oWt="_folderButton_agpye_529",lWt="_folderButtonInside_agpye_533",uWt="_folderButtonThin_agpye_547",hWt="_folderButtonIcon_agpye_551",cWt="_folderButtonDropdown_agpye_556",dWt="_folderButtonDropdownIcon_agpye_571",fWt="_folderButtonDropdownMenu_agpye_580",pWt="_folderButtonDropdownOption_agpye_607",vWt="_folderButtonDropdownOptionIcon_agpye_627",mWt="_moveText_agpye_633",gWt="_locationsHolder_agpye_642",yWt="_noFoldersText_agpye_668",xWt="_locationFolderButton_agpye_672",bWt="_locationFolderButtonInside_agpye_677",SWt="_locationFolderButtonIcon_agpye_691",wWt="_moveLocation_agpye_696",TWt="_spacer_agpye_705",Ii={header:h$t,topFolderButton:c$t,topFolderIcon:d$t,searchBar:f$t,searchIcon:p$t,searchInput:v$t,container:m$t,mergeContainer:g$t,mergeName:y$t,mergeButton:x$t,setContainer:b$t,setImageFiller:S$t,coverImage:w$t,setFillerContainer:T$t,setFillerText:C$t,khanmigoContainer:E$t,plusContainer:k$t,verifiedContainer:P$t,khanmigoIcon:A$t,verifiedIcon:R$t,removeFromFolder:I$t,viewButton:M$t,setQuestionsContainer:B$t,setQuestionsText:O$t,setHeader:N$t,setSpacer:L$t,setPlays:F$t,setLastEdit:D$t,setHorizontalDivider:_$t,setVerticalDivider:j$t,setVerticalDividerHeight:z$t,setBottomContainer:U$t,starIcon:G$t,setPlayContainer:H$t,playButton:$$t,playIcon:W$t,hostButton:V$t,hostButtonInside:Y$t,setPlayText:X$t,addSetButton:Q$t,mergeSetButton:K$t,flex:J$t,nothingContainer:Z$t,nothingHeader:q$t,nothingButtonsRow:tWt,nothingButton:eWt,nothingButtonInside:iWt,nothingIcon:rWt,nothingLink:nWt,modal:sWt,folderHolder:aWt,folderButton:oWt,folderButtonInside:lWt,folderButtonThin:uWt,folderButtonIcon:hWt,folderButtonDropdown:cWt,folderButtonDropdownIcon:dWt,folderButtonDropdownMenu:fWt,folderButtonDropdownOption:pWt,folderButtonDropdownOptionIcon:vWt,moveText:mWt,locationsHolder:gWt,noFoldersText:yWt,locationFolderButton:xWt,locationFolderButtonInside:bWt,locationFolderButtonIcon:SWt,moveLocation:wWt,spacer:TWt},fR=ar.play;class oU extends ti.Component{constructor(t){super(t),this.state={allFavorites:[],favorites:[],unfavoriting:!1,folders:{},loading:!1,noFolder:!1,creatingFolder:!1,editingFolder:!1,folderName:"",oldFolderName:"",folderColor:"#1f77b4",folderError:"",deleteFolder:"",inFolder:!1,searchInput:"",user:null,dashboardLayout:null},this.loading=!1,this.here=!0,this.onUnfavorite=this.onUnfavorite.bind(this),this.onHost=this.onHost.bind(this),this.onHw=this.onHw.bind(this),this.onSolo=this.onSolo.bind(this),this.getIsPlus=this.getIsPlus.bind(this),this.setDisplay=this.setDisplay.bind(this),this.openFolder=this.openFolder.bind(this),this.newFolder=this.newFolder.bind(this),this.createFolder=this.createFolder.bind(this),this.editFolder=this.editFolder.bind(this),this.addToFolder=this.addToFolder.bind(this),this.removeFromFolder=this.removeFromFolder.bind(this),this.deleteFolder=this.deleteFolder.bind(this),this.shouldShowFolder=this.shouldShowFolder.bind(this)}componentDidMount(){return ci(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ve.logError("FavoritesPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}const r=yield Yr.me();this.setState({user:t,dashboardLayout:r.dashboardLayout}),vi.get("/api/users/favoriteGames").then(n=>{const d=[...n.data.games].filter(i=>!i.private||i.author===r.name).map(i=>Fr(Fi({},i),{questions:i.questions||[]}));d.sort((i,o)=>o.playCount-i.playCount);const S=[...d],s=Fi({},n.data.folders),g=d.map(i=>i._id);Object.values(s).forEach(i=>{i.sets.forEach(o=>{const m=g.indexOf(o);m!==-1&&(d.splice(m,1),g.splice(m,1))})}),this.setState({favorites:d,allFavorites:S,folders:s,ready:!0})}).catch(n=>{Ve.logError(n)})})}componentWillUnmount(){this.loading=!0,this.here=!1}onUnfavorite(t){this.loading||(this.loading=!0,this.setState({unfavoriting:!0}),vi.put("/api/users/updatefavorites",{id:t,isUnfavoriting:!0}).then(()=>{if(!this.here)return;const n=[...this.state.allFavorites.map(S=>S._id)].indexOf(t),d=[...this.state.allFavorites];d.splice(n,1),this.setState({allFavorites:d,unfavoriting:!1},()=>{this.loading=!1,this.setDisplay(this.state.folders)})}).catch(r=>{Ve.logError(r),this.setState({unfavoriting:!1}),this.loading=!1}))}onHost(t){if(this.loading)return;this.loading=!0,window.open(`${fR}/host?id=${t}`,"_blank").focus(),this.loading=!1}onHw(t){this.loading||(window.location.href=`/assign/${t}`)}onSolo(t){this.loading||(this.loading=!0,window&&window.open(`${fR}/solo?id=${t}`,"_blank").focus(),this.loading=!1)}getIsPlus(t){vi.get("/api/users/plan").then(r=>{this.here&&(this.gotPlus=!0,this.plus=r.data.hasPlus,t())}).catch(r=>{this.here&&(Ve.logError(r),this.loading=!1,this.setState({noFolder:!0},t))})}setDisplay(t){const r=Fi({},t),n=this.state.allFavorites.map(S=>S._id),d=[...this.state.allFavorites];Object.values(r).forEach(S=>{S.sets.forEach(s=>{const g=n.indexOf(s);g!==-1&&(d.splice(g,1),n.splice(g,1))})}),this.setState({favorites:d,folders:r,inFolder:!1})}openFolder(t,r){const n=r.sets,d=this.state.allFavorites.filter(S=>n.includes(S._id));d.sort((S,s)=>s.playCount-S.playCount),setTimeout(()=>{this.state.editingFolder||this.state.deleteFolder||this.setState({favorites:d,folderName:t,folderColor:r.color,inFolder:!0,searchInput:t.toLowerCase().includes(this.state.searchInput.toLowerCase())?"":this.state.searchInput})})}newFolder(){return ci(this,null,function*(){this.loading||(this.loading=!0,this.gotPlus||(yield new Promise(t=>this.getIsPlus(t))),this.plus?this.setState({creatingFolder:!0,folderName:"",folderColor:"#1f77b4"}):this.setState({noFolder:!0}),this.loading=!1)})}createFolder(){if(!this.loading){if(this.loading=!0,!this.state.folderName){this.loading=!1,this.setState({folderError:"You need a folder name."});return}this.setState({loading:!0}),vi.put("/api/users/favorite-folders/new",{folderName:this.state.folderName,folderColor:this.state.folderColor}).then(t=>{this.here&&(t.data.success?this.setState({folders:t.data.user.favoriteFolders,creatingFolder:!1,loading:!1}):this.setState({folderError:t.data.msg,loading:!1}),this.loading=!1)}).catch(t=>{this.here&&(Ve.logError(t),this.loading=!1,this.setState({creatingFolder:!1,loading:!1}))})}}editFolder(){if(!this.loading){if(this.loading=!0,!this.state.folderName){this.loading=!1,this.setState({folderError:"You need a folder name."});return}this.setState({loading:!0}),vi.put("/api/users/favorite-folders/edit",{oldFolderName:this.state.oldFolderName,folderName:this.state.folderName,folderColor:this.state.folderColor}).then(t=>{this.here&&(t.data.success?this.setState({folders:t.data.user.favoriteFolders,editingFolder:!1,loading:!1}):this.setState({folderError:t.data.msg,loading:!1}),this.loading=!1)}).catch(t=>{this.here&&(Ve.logError(t),this.loading=!1,this.setState({editingFolder:!1,loading:!1}))})}}addToFolder(){return ci(this,null,function*(){this.loading||(this.loading=!0,this.state.inFolder&&this.state.folderName&&(yield vi.put("/api/users/favorite-folders/removeset",{folderName:this.state.folderName,setId:this.state.movingFavorite._id}).then().catch(t=>{Ve.logError(t)})),vi.put("/api/users/favorite-folders/addsets",{folderName:this.state.moveLocation,sets:[this.state.movingFavorite._id]}).then(t=>{if(!this.here)return;const r=t.data||this.state.folders;this.setDisplay(r),this.setState({movingFavorite:""}),this.loading=!1}).catch(t=>{this.here&&(Ve.logError(t),this.loading=!1,this.setState({movingFavorite:""}))}))})}removeFromFolder(t){this.loading||(this.loading=!0,vi.put("/api/users/favorite-folders/removeset",{folderName:this.state.folderName,setId:t}).then(r=>{if(!this.here)return;const n=r.data||this.state.folders,d=JSON.parse(JSON.stringify(this.state.favorites)),S=d.map(s=>s._id).indexOf(t);S!==-1&&d.splice(S,1),this.setState({folders:n,favorites:d}),this.loading=!1}).catch(r=>{this.here&&(Ve.logError(r),this.loading=!1)}))}deleteFolder(){this.loading||(this.loading=!0,this.setState({loading:!0}),vi.put("/api/users/favorite-folders/delete",{folderName:this.state.deleteFolder}).then(t=>{if(!this.here)return;const r=t.data||this.state.folders;this.setDisplay(r),this.setState({deleteFolder:"",loading:!1}),this.loading=!1}).catch(t=>{this.here&&(Ve.logError(t),this.loading=!1,this.setState({deleteFolder:"",loading:!1}))}))}shouldShowFolder(t,r){if(t.toLowerCase().includes(this.state.searchInput.toLowerCase()))return!0;const n=r.sets,d=this.state.allFavorites.filter(S=>n.includes(S._id));for(let S=0;S<d.length;S++)if(d[S].title.toLowerCase().includes(this.state.searchInput.toLowerCase()))return!0;return!1}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Favorites | Blooket",desc:"Manage your favorite Blooket sets."}),R.jsx(la,{user:this.state.user,page:"Favorites",topContent:this.state.ready&&(this.state.favorites.length>0||Object.keys(this.state.folders).length>0)?R.jsxs(R.Fragment,{children:[this.state.inFolder?null:R.jsx("div",{className:Ii.topFolderButton,role:"button",tabIndex:0,onClick:this.newFolder,children:R.jsx("i",{className:Ct("fas fa-folder-plus",Ii.topFolderIcon)})}),R.jsxs("div",{className:Ii.searchBar,children:[R.jsx("i",{className:Ct("fas fa-search",Ii.searchIcon)}),R.jsx("input",{className:Ii.searchInput,placeholder:"Search your favorites...",onChange:t=>this.setState({searchInput:t.target.value}),value:this.state.searchInput,type:"text"})]})]}):null}),R.jsxs("div",{className:Qe.profileBody,children:[R.jsx("div",{className:Ii.header,children:"Favorites"}),this.state.allFavorites.length===0&&this.state.ready?R.jsx("div",{className:Ii.flex,children:R.jsxs("div",{className:Ii.nothingContainer,children:[R.jsx("div",{className:Ii.nothingHeader,children:"You don't have any favorites :("}),R.jsx("div",{className:Ii.nothingButtonsRow,children:R.jsx(Ri,{color:"#0bc2cf",realLinkTo:"/discover",outsideClass:Ii.nothingButton,children:R.jsxs("div",{className:Ii.nothingButtonInside,children:[R.jsx("i",{className:Ct("fas fa-compass",Ii.nothingIcon)}),"Discover Favorites"]})})}),R.jsx("a",{href:this.state.user.dashboardLayout==="Student"?"https://help.blooket.com/hc/en-us/articles/16288738478871-Favoriting-a-Set":"https://help.blooket.com/hc/en-us/articles/15999653229463-Favoriting-a-Set",target:"_blank",rel:"noopener noreferrer",className:Ii.nothingLink,children:"Learn How to Favorite Sets"})]})}):null,this.state.allFavorites.length>0?R.jsx("div",{className:Ii.folderHolder,children:this.state.inFolder?R.jsx(Ri,{outsideClass:Ii.folderButton,color:"#0bc2cf",onClick:()=>this.setDisplay(this.state.folders),children:R.jsxs("div",{className:Ct(Ii.folderButtonInside,Ii.folderButtonThin),children:[R.jsx("i",{className:Ct("fas fa-reply",Ii.folderButtonIcon)}),"Back"]})}):Object.entries(this.state.folders).map(([t,r])=>this.shouldShowFolder(t,r)?R.jsx(Ri,{outsideClass:Ii.folderButton,color:r.color,onClick:()=>this.openFolder(t,r),children:R.jsxs("div",{className:Ii.folderButtonInside,children:[R.jsx("i",{className:Ct("fas fa-folder",Ii.folderButtonIcon)}),t,R.jsxs("div",{className:Ii.folderButtonDropdown,role:"button",tabIndex:0,children:[R.jsx("i",{className:Ct("fas fa-ellipsis-v",Ii.folderButtonDropdownIcon)}),R.jsxs("div",{className:Ii.folderButtonDropdownMenu,children:[R.jsxs("div",{className:Ii.folderButtonDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setState({editingFolder:!0,folderName:t,folderColor:r.color,oldFolderName:t}),children:[R.jsx("i",{className:Ct("fas fa-pencil-alt",Ii.folderButtonDropdownOptionIcon)}),"Edit"]}),R.jsxs("div",{className:Ii.folderButtonDropdownOption,role:"button",tabIndex:0,onClick:()=>this.setState({deleteFolder:t}),children:[R.jsx("i",{className:Ct("fas fa-trash-alt",Ii.folderButtonDropdownOptionIcon)}),"Delete"]})]})]})]})},t):null)}):null,R.jsx("div",{className:Ii.container,children:this.state.favorites.filter(t=>t.title.toLowerCase().includes(this.state.searchInput.toLowerCase())).map(t=>R.jsxs("div",{className:Ii.setContainer,children:[t.coverImage?R.jsx("div",{className:Ii.setImageFiller,children:R.jsx(Ul,{height:180,children:R.jsx("img",{src:En(t.coverImage.url),alt:"Cover",className:Ii.coverImage,draggable:!1})})}):R.jsx("div",{className:Ii.setFillerContainer,children:R.jsx("div",{className:Ii.setFillerText,children:"Blooket"})}),t.plusOnly?R.jsxs("div",{className:Ii.plusContainer,children:[R.jsx("i",{className:Ct("fas fa-plus",Ii.verifiedIcon)}),"Plus Only"]}):t.verified?R.jsxs("div",{className:Ii.verifiedContainer,children:[R.jsx("i",{className:Ct("fas fa-check-square",Ii.verifiedIcon)}),"Teacher Verified"]}):t.createdWithKhanmigo?R.jsxs("div",{className:Ii.khanmigoContainer,children:[R.jsx("img",{src:Ee.basic.khanmigoIcon,alt:"Khanmigo",className:Ii.khanmigoIcon}),"Created with Khanmigo"]}):null,this.state.inFolder?R.jsx("div",{"data-tip":"Remove from Folder",className:Ii.removeFromFolder,role:"button",tabIndex:0,onClick:()=>this.removeFromFolder(t._id),children:R.jsx("i",{className:"fas fa-folder-minus"})}):null,R.jsx("div",{className:Ii.setQuestionsContainer,children:R.jsx("div",{className:Ii.setQuestionsText,children:`${$i(t.questions.length)} ${t.questions.length===1?"Question":"Questions"}`})}),R.jsx("div",{className:Ii.setHeader,children:t.title}),R.jsx("div",{className:Ii.setSpacer}),R.jsx("div",{className:Ii.setPlays,children:`${$i(t.playCount)} ${t.playCount===1?"Play":"Plays"}`}),R.jsx("div",{className:Ii.setLastEdit,children:`Edited ${li(t.date).fromNow()}`}),R.jsx("div",{className:Ii.setHorizontalDivider}),R.jsxs("div",{className:Ii.setBottomContainer,children:[R.jsx(kc,{place:"top",effect:"solid",className:Qe.tooltip}),R.jsx("i",{"data-tip":"Unfavorite",className:Ct(Ii.starIcon,"fas fa-star"),role:"button",tabIndex:0,onClick:()=>this.onUnfavorite(t._id)}),R.jsx("div",{className:Ii.setVerticalDivider}),R.jsx("a",{className:Ii.starIcon,"data-tip":"View Set",href:`/set/${t._id}`,children:R.jsx("i",{className:"far fa-eye"})}),R.jsx("div",{className:Ii.setVerticalDivider}),R.jsx("i",{"data-tip":"Move",className:Ct(Ii.starIcon,"fas fa-folder"),role:"button",tabIndex:0,onClick:()=>this.setState({movingFavorite:t,oldMoveLocation:"",moveLocation:""})})]}),R.jsx("div",{className:Ii.setHorizontalDivider}),R.jsxs("div",{className:Ii.setPlayContainer,children:[this.state.dashboardLayout===io.STUDENT?R.jsxs("div",{className:Ii.playButton,role:"button",tabIndex:0,onClick:()=>this.onSolo(t._id),children:[R.jsx("i",{className:Ct(Ii.playIcon,"fas fa-user-astronaut")}),R.jsx("div",{className:Ii.setPlayText,children:"Solo"})]}):R.jsxs("div",{className:Ii.playButton,role:"button",tabIndex:0,onClick:()=>this.onHw(t._id),children:[R.jsx("i",{className:Ct(Ii.playIcon,"fas fa-file-alt")}),R.jsx("div",{className:Ii.setPlayText,children:"Assign"})]}),R.jsx("div",{className:Ct(Ii.setVerticalDivider,Ii.setVerticalDividerHeight)}),R.jsx(Ri,{outsideClass:Ii.hostButton,color:"#0bc2cf",onClick:()=>this.onHost(t._id),children:R.jsxs("div",{className:Ii.hostButtonInside,children:[R.jsx("i",{className:Ct(Ii.playIcon,"fas fa-play")}),R.jsx("div",{className:Ii.setPlayText,children:"Host"})]})})]})]},t._id))}),R.jsx("div",{className:Ii.spacer}),this.state.unfavoriting?R.jsx(xr,{text:"Removing Favorite...",loading:!0}):this.state.deleteFolder?R.jsx(xr,{text:"Do you really want to delete this folder (this will not delete the sets inside)?",loading:this.state.loading,buttonOne:{text:"Yes",click:this.deleteFolder,color:"red"},buttonTwo:{text:"No",click:()=>this.setState({deleteFolder:""}),color:"blue"}}):this.state.noFolder?R.jsx(xr,{text:"Get Blooket Plus to Create Folders",buttonOne:{text:"Upgrade",click:()=>this.props.history.push("/upgrade"),color:"orange"},buttonTwo:{text:"Not Now",click:()=>{this.setState({loading:!1,noFolder:!1}),this.loading=!1},color:"blue"}}):this.state.creatingFolder||this.state.editingFolder?R.jsx(xr,{text:this.state.creatingFolder?"Enter a folder name and select a color:":"You can change the folder name and color below:",loading:this.state.loading,stringValue:this.state.folderName,stringChange:t=>this.setState({folderName:t.target.value}),colorChange:t=>this.setState({folderColor:t}),colorValue:this.state.folderColor,onSubmit:t=>{t.preventDefault(),this.state.creatingFolder?this.createFolder():this.editFolder()},error:this.state.folderError,buttonOne:{text:this.state.creatingFolder?"Create":"Edit",click:this.state.creatingFolder?this.createFolder:this.editFolder,color:"blue"},buttonTwo:{text:"Back",click:()=>this.setState({creatingFolder:!1,editingFolder:!1}),color:"blue"}}):this.state.movingFavorite?R.jsx(xr,{loading:this.state.loading,buttonOne:this.state.moveLocation!==this.state.oldMoveLocation?{text:"Move",click:this.addToFolder,color:"blue"}:null,buttonTwo:{text:"Back",click:()=>this.setState({movingFavorite:!1}),color:"blue"},content:R.jsxs(R.Fragment,{children:[R.jsx("div",{className:Ii.moveText,children:"Choose a location to move the set to:"}),R.jsx("div",{className:Ii.locationsHolder,children:Object.keys(this.state.folders).length>0?Object.entries(this.state.folders).map(([t,r])=>R.jsx(Ri,{outsideClass:Ii.locationFolderButton,color:r.color,onClick:()=>this.setState({moveLocation:t}),children:R.jsxs("div",{className:Ii.locationFolderButtonInside,children:[R.jsx("i",{className:Ct("fas fa-folder",Ii.locationFolderButtonIcon)}),t]})},t)):R.jsx("div",{className:Ii.noFoldersText,children:"No Folders Created"})}),R.jsx("div",{className:Ii.moveLocation,children:`Location: ${this.state.moveLocation===""?"No Folder":this.state.moveLocation}`})]})}):null]})]})}}oU.propTypes={history:Xt.object,user:Xt.object};const CWt=()=>({}),EWt=e=>Ns({},e),kWt=jn(Ls(Qs(CWt,EWt)(oU))),lU={Planets:{name:"Star Grazer"},Mining:{name:"Mini Mine"},Bees:{name:"Busy Bees"},Eggs:{name:"Egg Hunt"},Cocoa:{name:"Cocoa Cottage"},Coco:{name:"Coco Cabana"},Laser:{name:"Laser Tag"},TagOrTreat:{name:"Tag or Treat"},Toy:{name:"Santa's Workshop"},Defense2:{name:"Tower Defense 2"},Brawl:{name:"Monster Brawl"},Gold:{name:"Gold Quest"},Candy:{name:"Candy Quest"},Hack:{name:"Crypto Hack"},Fish:{name:"Fishing Frenzy"},Pirate:{name:"Pirate's Voyage"},Dino:{name:"Deceptive Dinos"},Dinos:{name:"Deceptive Dinos"},Rush:{name:"Blook Rush"},Royale:{name:"Battle Royale"},Defense:{name:"Tower Defense"},Cafe:{name:"Caf"},Factory:{name:"Factory"},Racing:{name:"Racing"},Kingdom:{name:"Crazy Kingdom"},Tower:{name:"Tower of Doom"},Classic:{name:"Classic"}},PWt="_header_k6yz0_1",AWt="_nothingContainer_k6yz0_9",RWt="_nothingHeader_k6yz0_23",IWt="_nothingButtonsRow_k6yz0_29",MWt="_nothingButton_k6yz0_29",BWt="_nothingButtonInside_k6yz0_40",OWt="_nothingIcon_k6yz0_53",NWt="_nothingLink_k6yz0_58",LWt="_gamesContainer_k6yz0_67",FWt="_gameHolder_k6yz0_75",DWt="_container_k6yz0_82",_Wt="_blook_k6yz0_102",jWt="_textContainer_k6yz0_109",zWt="_setTitle_k6yz0_115",UWt="_infoRow_k6yz0_127",GWt="_info_k6yz0_127",HWt="_infoIcon_k6yz0_143",$Wt="_bodyContainer_k6yz0_147",WWt="_deleteButton_k6yz0_152",VWt="_trashIcon_k6yz0_176",YWt="_moreButton_k6yz0_182",XWt="_moreButtonInside_k6yz0_186",QWt="_flex_k6yz0_193",wn={header:PWt,nothingContainer:AWt,nothingHeader:RWt,nothingButtonsRow:IWt,nothingButton:MWt,nothingButtonInside:BWt,nothingIcon:OWt,nothingLink:NWt,gamesContainer:LWt,gameHolder:FWt,container:DWt,blook:_Wt,textContainer:jWt,setTitle:zWt,infoRow:UWt,info:GWt,infoIcon:HWt,bodyContainer:$Wt,deleteButton:WWt,trashIcon:VWt,moreButton:YWt,moreButtonInside:XWt,flex:QWt};class uU extends ti.Component{constructor(t){super(t),this.state={user:null,games:[],numGames:20,ready:!1,deleteId:"",deleteCheck:!1,loading:!1},this.here=!0,this.onDeleteConfirm=this.onDeleteConfirm.bind(this)}componentDidMount(){return ci(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ve.logError("HistoryPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}this.setState({user:t}),vi.get("/api/users/histories",{params:{id:t._id}}).then(r=>{const n=[...r.data];n.sort((d,S)=>li.utc(S.date).diff(li.utc(d.date))),this.here&&this.setState({games:n,ready:!0})}).catch(r=>{Ve.logError(r)})})}componentWillUnmount(){this.here=!1}onDeleteConfirm(t){if(!this.state.loading){if(!t)return this.setState({deleteCheck:!1,deleteId:""});this.setState({loading:!0}),vi.delete("/api/history",{params:{id:this.state.deleteId}}).then(()=>{if(!this.here)return;const r=[...this.state.games];r.splice(r.map(n=>n._id).indexOf(this.state.deleteId),1),this.setState({loading:!1,deleteCheck:!1,deleteId:"",games:r})}).catch(r=>{this.setState({deleteCheck:!1,deleteId:""}),Ve.logError(r)})}}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"History | Blooket",desc:"View your recent games and review how the players performed and what questions were most missed."}),R.jsx(la,{user:this.state.user,page:"History"}),R.jsxs("div",{className:Qe.profileBody,children:[R.jsx("div",{className:wn.header,children:"History"}),R.jsxs("div",{className:wn.gamesContainer,children:[this.state.games.length>0?this.state.games.slice(0,this.state.numGames).map(t=>R.jsxs("div",{className:wn.gameHolder,children:[R.jsxs(xa,{className:wn.container,to:`/history/game/${t._id}`,children:[R.jsx(kn,{name:t.standings&&t.standings.length>0?t.standings[0].blook:"Light Blue",className:wn.blook}),R.jsxs("div",{className:wn.textContainer,children:[R.jsx("div",{className:wn.setTitle,children:t.set}),R.jsxs("div",{className:wn.infoRow,children:[R.jsxs("div",{className:wn.info,children:[R.jsx("i",{className:Ct("fas fa-gamepad",wn.infoIcon)}),lU[t.settings.type].name]}),R.jsxs("div",{className:wn.info,children:[R.jsx("i",{className:Ct("fas fa-users",wn.infoIcon)}),t.standings?t.standings.length:0]}),R.jsxs("div",{className:wn.info,children:[R.jsx("i",{className:Ct("far fa-clock",wn.infoIcon)}),li(t.date).format("h:mm a, MM/DD/YY")]})]})]})]}),R.jsxs("div",{className:wn.deleteButton,role:"button",tabIndex:0,onClick:()=>this.setState({deleteCheck:!0,deleteId:t._id}),children:[R.jsx("i",{className:Ct("fas fa-trash-alt",wn.trashIcon),style:{lineHeight:1}}),"Delete"]})]},t._id)):this.state.ready?R.jsx("div",{className:wn.flex,children:R.jsxs("div",{className:wn.nothingContainer,children:[R.jsx("div",{className:wn.nothingHeader,children:"You haven't hosted a game yet :("}),R.jsx("div",{className:wn.nothingButtonsRow,children:R.jsx(Ri,{color:"#0bc2cf",realLinkTo:"/discover",outsideClass:wn.nothingButton,children:R.jsxs("div",{className:wn.nothingButtonInside,children:[R.jsx("i",{className:Ct("fas fa-compass",wn.nothingIcon)}),"Discover Sets"]})})}),R.jsx("a",{href:"https://help.blooket.com/hc/en-us/articles/15984215236503-Hosting-a-Blooket-Game",target:"_blank",rel:"noopener noreferrer",className:wn.nothingLink,children:"Learn How to Host a Game"})]})}):null,this.state.games.length>this.state.numGames?R.jsx(Ri,{outsideClass:wn.moreButton,color:"#0bc2cf",onClick:()=>this.setState({numGames:this.state.numGames+20}),children:R.jsx("div",{className:wn.moreButtonInside,children:"Show More"})}):null]})]}),this.state.deleteCheck?R.jsx(xr,{text:"Do you really want to delete this history?",loading:this.state.loading,buttonOne:{text:"Yes",click:()=>this.onDeleteConfirm(!0),color:"red"},buttonTwo:{text:"No",click:()=>this.onDeleteConfirm(!1),color:"blue"}}):null]})}}uU.propTypes={user:Xt.object};const KWt=()=>({}),JWt=e=>Ns({},e),ZWt=jn(Ls(Qs(KWt,JWt)(uU))),qWt="_header_ap9pb_1",tVt="_nothingContainer_ap9pb_9",eVt="_nothingHeader_ap9pb_23",iVt="_nothingButtonsRow_ap9pb_29",rVt="_nothingButton_ap9pb_29",nVt="_nothingButtonInside_ap9pb_40",sVt="_nothingIcon_ap9pb_53",aVt="_homeworksContainer_ap9pb_58",oVt="_gameHolder_ap9pb_66",lVt="_container_ap9pb_73",uVt="_hwIcon_ap9pb_93",hVt="_hwEnded_ap9pb_101",cVt="_textContainer_ap9pb_105",dVt="_hwTitle_ap9pb_111",fVt="_infoRow_ap9pb_123",pVt="_info_ap9pb_123",vVt="_infoIcon_ap9pb_139",mVt="_bodyContainer_ap9pb_143",gVt="_deleteButton_ap9pb_148",yVt="_trashIcon_ap9pb_172",xVt="_moreButton_ap9pb_178",bVt="_moreButtonInside_ap9pb_182",SVt="_flex_ap9pb_189",Tn={header:qWt,nothingContainer:tVt,nothingHeader:eVt,nothingButtonsRow:iVt,nothingButton:rVt,nothingButtonInside:nVt,nothingIcon:sVt,homeworksContainer:aVt,gameHolder:oVt,container:lVt,hwIcon:uVt,hwEnded:hVt,textContainer:cVt,hwTitle:dVt,infoRow:fVt,info:pVt,infoIcon:vVt,bodyContainer:mVt,deleteButton:gVt,trashIcon:yVt,moreButton:xVt,moreButtonInside:bVt,flex:SVt};class hU extends ti.Component{constructor(t){super(t),this.state={user:null,homeworks:[],numHomeworks:20,ready:!1,deleteId:"",deleteCheck:!1,loading:!1},this.here=!0,this.onDeleteConfirm=this.onDeleteConfirm.bind(this)}componentDidMount(){return ci(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ve.logError("HomeworksPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}this.setState({user:t}),vi.get("/api/users/homeworks").then(r=>{const n=[...r.data.map(d=>Fr(Fi({},d),{isEnded:li(d.startTime).add(d.duration,"minutes").isBefore()}))];n.sort((d,S)=>li(S.startTime).add(S.duration,"minutes").diff(li(d.startTime).add(d.duration,"minutes"))),this.here&&this.setState({homeworks:n,ready:!0})}).catch(r=>{Ve.logError(r)})})}componentWillUnmount(){this.here=!1}onDeleteConfirm(t){if(!this.state.loading){if(!t)return this.setState({deleteCheck:!1,deleteId:""});this.setState({loading:!0}),vi.delete("/api/homeworks",{params:{id:this.state.deleteId}}).then(()=>{if(!this.here)return;const r=[...this.state.homeworks];r.splice(r.map(n=>n._id).indexOf(this.state.deleteId),1),this.setState({loading:!1,deleteCheck:!1,deleteId:"",homeworks:r})}).catch(r=>{this.setState({deleteCheck:!1,deleteId:""}),Ve.logError(r)})}}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Homework | Blooket",desc:"View your recent homework and review how the players performed and what questions were most missed."}),R.jsx(la,{user:this.state.user,page:"Homework"}),R.jsxs("div",{className:Qe.profileBody,children:[R.jsx("div",{className:Tn.header,children:"Homework"}),R.jsxs("div",{className:Tn.homeworksContainer,children:[this.state.homeworks.length>0?this.state.homeworks.slice(0,this.state.numHomeworks).map(t=>R.jsxs("div",{className:Tn.gameHolder,children:[R.jsxs(xa,{className:Tn.container,to:`/homework/${t._id}`,children:[R.jsx("i",{className:Ct("far fa-file-alt",Tn.hwIcon,{[Tn.hwEnded]:t.isEnded}),style:{lineHeight:1}}),R.jsxs("div",{className:Tn.textContainer,children:[R.jsx("div",{className:Tn.hwTitle,children:t.title}),R.jsxs("div",{className:Tn.infoRow,children:[R.jsxs("div",{className:Tn.info,children:[R.jsx("i",{className:Ct("fas fa-gamepad",Tn.infoIcon)}),lU[t.gameMode||t.settings.type].name]}),R.jsxs("div",{className:Tn.info,children:[R.jsx("i",{className:Ct("fas fa-users",Tn.infoIcon)}),t.resultIds?t.resultIds.length:0]}),R.jsxs("div",{className:Tn.info,children:[R.jsx("i",{className:Ct("far fa-clock",Tn.infoIcon)}),`Due ${li(t.startTime).add(t.duration,"minutes").fromNow()}`]})]})]})]}),R.jsxs("div",{className:Tn.deleteButton,role:"button",tabIndex:0,onClick:()=>this.setState({deleteCheck:!0,deleteId:t._id}),children:[R.jsx("i",{className:Ct("fas fa-trash-alt",Tn.trashIcon),style:{lineHeight:1}}),"Delete"]})]},t._id)):this.state.ready?R.jsx("div",{className:Tn.flex,children:R.jsxs("div",{className:Tn.nothingContainer,children:[R.jsx("div",{className:Tn.nothingHeader,children:"You haven't assigned any Homeworks yet :("}),R.jsx("div",{className:Tn.nothingButtonsRow,children:R.jsx(Ri,{color:"#0bc2cf",linkTo:"https://help.blooket.com/hc/en-us/articles/16179771027863-Assigning-Homework",linkNewTab:!0,outsideClass:Tn.nothingButton,children:R.jsxs("div",{className:Tn.nothingButtonInside,children:[R.jsx("i",{className:Ct("fas fa-question-circle",Tn.nothingIcon)}),"Learn How to Assign HW"]})})})]})}):null,this.state.homeworks.length>this.state.numHomeworks?R.jsx(Ri,{outsideClass:Tn.moreButton,color:"#0bc2cf",onClick:()=>this.setState({numHomeworks:this.state.numHomeworks+20}),children:R.jsx("div",{className:Tn.moreButtonInside,children:"Show More"})}):null]})]}),this.state.deleteCheck?R.jsx(xr,{text:"Do you really want to delete this homework?",loading:this.state.loading,buttonOne:{text:"Yes",click:()=>this.onDeleteConfirm(!0),color:"red"},buttonTwo:{text:"No",click:()=>this.onDeleteConfirm(!1),color:"blue"}}):null]})}}hU.propTypes={user:Xt.object};const wVt=()=>({}),TVt=e=>Ns({},e),CVt=jn(Ls(Qs(wVt,TVt)(hU))),EVt="_header_coony_1",kVt="_infoRow_coony_9",PVt="_infoContainer_coony_17",AVt="_infoIcon_coony_35",RVt="_infoIconNoRight_coony_40",IVt="_reportButton_coony_44",MVt="_linkButton_coony_65",BVt="_endText_coony_91",OVt="_smallButtonRow_coony_109",NVt="_smallButton_coony_109",LVt="_smallButtonRed_coony_142",FVt="_smallButtonIcon_coony_146",DVt="_copiedNotification_coony_151",_Vt="_subheaderRow_coony_164",jVt="_subheader_coony_164",zVt="_subheaderSmall_coony_176",UVt="_nothingText_coony_182",GVt="_nothingTextSub_coony_192",HVt="_membersHolder_coony_197",$Vt="_memberContainer_coony_204",ln={header:EVt,infoRow:kVt,infoContainer:PVt,infoIcon:AVt,infoIconNoRight:RVt,reportButton:IVt,linkButton:MVt,endText:BVt,smallButtonRow:OVt,smallButton:NVt,smallButtonRed:LVt,smallButtonIcon:FVt,copiedNotification:DVt,subheaderRow:_Vt,subheader:jVt,subheaderSmall:zVt,nothingText:UVt,nothingTextSub:GVt,membersHolder:HVt,memberContainer:$Vt};class cU extends ti.Component{constructor(t){super(t),this.state={members:[],plan:{},lastDate:"",inviteLink:"",justCopied:!1,memberToRemove:"",groupName:"",isDeleting:!1,isPO:!1,loading:!1},this.here=!0,this.copyToClipboard=this.copyToClipboard.bind(this),this.removeMember=this.removeMember.bind(this),this.deleteGroup=this.deleteGroup.bind(this),this.editStripe=this.editStripe.bind(this),this.dowloadReport=this.dowloadReport.bind(this)}componentDidMount(){return ci(this,null,function*(){const t=yield this.props.user.getData();if(!t){Ve.logError("GroupPlanPage cannot proceed without user"),window.location.href=`${ar.id}/login`;return}this.setState({user:t}),vi.get("/api/groups",{params:{id:t.groupId}}).then(r=>ci(this,null,function*(){const n=r.data.planName;let d=null;n==="Custom"?d={name:"Custom",numUsers:r.data.numPlans,numPlans:r.data.numPlans}:(yield Yr.listGroupPlans({})).plans.forEach(s=>{s.name===n&&(d=s)}),this.here&&this.setState({plan:d,groupName:r.data.groupName,members:r.data.members,lastDate:r.data.lastDate,inviteLink:`${ar.dashboard}/group/join/${t.groupId}`,isPO:r.data.isPO})})).catch(r=>{Ve.logError(r)})})}componentWillUnmount(){this.here=!1}copyToClipboard(){const t=document.createElement("textarea");t.value=this.state.inviteLink,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const r=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;t.select(),document.execCommand("copy"),document.body.removeChild(t),r&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r)),clearTimeout(this.copyTimeout),this.setState({justCopied:!0},()=>{this.copyTimeout=setTimeout(()=>{this.setState({justCopied:!1})},1500)})}removeMember(){const t=[...this.state.members];t.splice(t.indexOf(this.state.memberToRemove),1),this.setState({members:t,memberToRemove:""}),vi.put("/api/groups/remove-member",{groupId:this.state.user.groupId,member:this.state.memberToRemove}).catch(r=>{Ve.logError(r)})}deleteGroup(){this.state.loading||(this.setState({loading:!0}),vi.delete("/api/groups",{params:{groupId:this.state.user.groupId}}).then(()=>{window.location.reload()}).catch(t=>{Ve.logError(t)}))}editStripe(){return ci(this,null,function*(){this.setState({loading:!0});try{const t=yield Yr.createBillingSession({});window.open(t.url,"_self")}catch(t){Ve.logError(t),this.setState({loading:!1})}})}dowloadReport(){return ci(this,null,function*(){if(this.state.loading)return;this.setState({loading:!0});const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=[{value:"Email"}];t.forEach(s=>{r.push({value:`${s} Hosts`})}),r.push({value:"Total Year Hosts"}),r.push({value:"Question Sets"});const n=[r],d=yield new Promise(s=>{vi.get("/api/groups/generate-report",{params:{groupId:this.state.user.groupId}}).then(g=>{s(g.data)}).catch(()=>{s([])})});d.sort((s,g)=>s.email<g.email?-1:s.email>g.email?1:0),d.forEach(s=>{const g=[{value:s.email}];t.forEach((i,o)=>{g.push({value:s.histories[o],type:"number"})}),g.push({value:s.histories.reduce((i,o)=>i+o),type:"number"}),g.push({value:s.numGames,type:"number"}),n.push(g)});const S={filename:`${this.state.groupName} Blooket Usage Report`,sheet:{data:n}};f4(S),this.setState({loading:!1})})}render(){return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Group Plan | Blooket",desc:"Manage your Blooket group."}),R.jsx(la,{user:this.state.user,page:"Group Plan"}),R.jsxs("div",{className:Qe.profileBody,children:[R.jsx("div",{className:ln.header,children:"Group Plan"}),this.state.plan&&this.state.plan.name?R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:ln.infoRow,children:[R.jsxs("div",{className:ln.infoContainer,children:[R.jsx("i",{className:Ct("fas fa-school",ln.infoIcon),style:{lineHeight:1}}),this.state.groupName]}),R.jsxs("div",{className:ln.infoContainer,children:[R.jsx("i",{className:Ct("fas fa-users",ln.infoIcon),style:{lineHeight:1}}),`${this.state.plan.numUsers-this.state.members.length} Unused Plans`]}),R.jsxs("div",{className:ln.infoContainer,children:[R.jsx("i",{className:Ct("far fa-clock",ln.infoIcon),style:{lineHeight:1}}),`Plan End: ${li(this.state.lastDate).add(1,"year").format("MM/DD/YYYY")}`]}),R.jsx(kc,{place:"left",effect:"solid",className:Qe.tooltip}),this.state.members.length>0?R.jsx("div",{className:ln.reportButton,role:"button",tabIndex:0,onClick:this.dowloadReport,"data-tip":"Download Report",children:R.jsx("i",{className:Ct("fas fa-table",ln.infoIcon,ln.infoIconNoRight),style:{lineHeight:1}})}):null]}),R.jsx("div",{className:ln.infoRow,children:R.jsxs("div",{className:ln.linkButton,role:"button",tabIndex:0,onClick:this.copyToClipboard,children:["Invite Link: ",R.jsx("u",{children:this.state.inviteLink}),this.state.justCopied?R.jsx("div",{className:ln.copiedNotification,children:"Copied!"}):null]})}),li(this.state.lastDate).add(1,"year").subtract(9,"months").isBefore()?R.jsxs("div",{className:ln.smallButtonRow,children:[this.state.isPO?R.jsxs(xa,{className:ln.smallButton,to:`/group/renew/${this.state.user.groupId}`,children:[R.jsx("i",{className:Ct("fas fa-sync-alt",ln.smallButtonIcon),style:{lineHeight:1}}),"Renew Plan Now"]}):R.jsxs("div",{className:ln.smallButton,role:"button",tabIndex:0,onClick:this.editStripe,children:[R.jsx("i",{className:Ct("far fa-credit-card",ln.smallButtonIcon),style:{lineHeight:1}}),"Edit Renewal"]}),R.jsxs("div",{className:Ct(ln.smallButton,ln.smallButtonRed),role:"button",tabIndex:0,onClick:()=>this.setState({isDeleting:!0}),children:[R.jsx("i",{className:Ct("fas fa-trash-alt",ln.smallButtonIcon),style:{lineHeight:1}}),"Delete Group"]})]}):null,R.jsx("div",{className:ln.subheaderRow,children:R.jsxs("div",{className:ln.subheader,children:["Members",R.jsx("span",{className:ln.subheaderSmall,children:"(Click to Remove)"})]})}),this.state.members.length>0?R.jsx("div",{className:ln.membersHolder,children:this.state.members.map(t=>R.jsx("div",{className:ln.memberContainer,role:"button",tabIndex:0,onClick:()=>this.setState({memberToRemove:t}),children:t},t))}):R.jsxs("div",{className:ln.nothingText,children:["No Members Yet",R.jsx("br",{}),R.jsx("span",{className:ln.nothingTextSub,children:"If you want Plus, you must join this group yourself"})]})]}):null,this.state.memberToRemove?R.jsx(xr,{text:"Do you really want to remove this member from the group?",buttonOne:{text:"Yes",click:this.removeMember,color:"red"},buttonTwo:{text:"No",click:()=>this.setState({memberToRemove:""}),color:"blue"}}):this.state.isDeleting?R.jsx(xr,{text:"Do you really want to delete this group?",loading:this.state.loading,buttonOne:{text:"Yes",click:this.deleteGroup,color:"red"},buttonTwo:{text:"No",click:()=>this.setState({isDeleting:!1}),color:"blue"}}):this.state.loading?R.jsx(xr,{text:"Loading...",loading:this.state.loading}):null]})]})}}cU.propTypes={user:Xt.object};const WVt=()=>({}),VVt=e=>Ns({},e),YVt=jn(Ls(Qs(WVt,VVt)(cU))),XVt="_container_i6o5v_1",QVt="_containerHeader_i6o5v_15",KVt="_inputContainer_i6o5v_25",JVt="_icon_i6o5v_41",ZVt="_inputFilled_i6o5v_46",qVt="_inputError_i6o5v_50",tYt="_iconFilled_i6o5v_64",eYt="_iconError_i6o5v_68",iYt="_input_i6o5v_25",rYt="_mInput_i6o5v_91",nYt="_button_i6o5v_131",sYt="_buttonFilled_i6o5v_156",aYt="_buttonError_i6o5v_162",oYt="_errorContainer_i6o5v_173",lYt="_errorIcon_i6o5v_185",uYt="_errorText_i6o5v_194",hYt="_google_i6o5v_202",I0={container:XVt,containerHeader:QVt,inputContainer:KVt,icon:JVt,inputFilled:ZVt,inputError:qVt,iconFilled:tYt,iconError:eYt,input:iYt,mInput:rYt,button:nYt,buttonFilled:sYt,buttonError:aYt,errorContainer:oYt,errorIcon:lYt,errorText:uYt,google:hYt};class dU extends ti.Component{constructor(t){super(t),this.state={loading:!1,success:!1,done:!1},this.email=Ys("e"),this.onSubmit=this.onSubmit.bind(this)}onSubmit(t){t.preventDefault(),!this.state.loading&&(this.setState({loading:!0}),vi.put("/api/users/unsubscribe",{email:decodeURIComponent(this.email).toLowerCase()}).then(r=>{this.setState({success:r.data.success,done:!0})}).catch(r=>{Ve.logError(r)}))}render(){if(!this.email){Ve.logError("UnsubscribePage cannot be rendered without an email"),window.location.href=`${ar.id}/login`;return}return R.jsxs("div",{className:mr?Qe.mBody:Qe.body,children:[R.jsx(pn,{title:"Unsubscribe | Blooket",desc:"Unsubscribe from Blooket emails."}),R.jsx(nl,{rightText:"Settings",rightLink:"/settings"}),R.jsx("div",{className:Qe.slantBackground}),R.jsx("div",{className:Qe.regularBody,children:R.jsxs("form",{onSubmit:this.onSubmit,className:I0.container,children:[R.jsx("div",{className:I0.containerHeader,children:this.state.done?this.state.success?"Successfully Unsubscribed!":"Please Refresh and Try Again":"Unsubscribe from Emails?"}),this.state.done?null:R.jsx("div",{children:this.state.loading?R.jsx(Po,{}):R.jsx("input",{type:"submit",value:"Yes",className:Ct(I0.button,I0.buttonFilled),tabIndex:0})})]})})]})}}dU.propTypes={};const cYt=()=>({}),dYt=e=>Ns({},e),fYt=jn(Ls(Qs(cYt,dYt)(dU))),pYt="_blueBg_pt2gm_1",vYt="_container_pt2gm_5",mYt="_containerHeader_pt2gm_17",gYt="_blook_pt2gm_29",yYt="_containerText_pt2gm_46",pv={blueBg:pYt,container:vYt,containerHeader:mYt,blook:gYt,containerText:yYt};class fU extends ti.Component{constructor(t){super(t),this.state={}}render(){return window.location.pathname==="/"||!this.props.match.params?R.jsx(Td,{to:"/my-sets"}):R.jsxs("div",{className:Ct(mr?Qe.mBody:Qe.body,pv.blueBg),children:[R.jsx(pn,{title:"404 | Blooket",desc:"I don't know what is, but this ain't it chief."}),R.jsx(nl,{}),R.jsx("div",{className:Qe.regularBody,children:R.jsxs("div",{className:pv.container,children:[R.jsxs("div",{className:pv.containerHeader,children:["4",R.jsx(kn,{name:"Blobfish",className:pv.blook}),"4"]}),R.jsxs("div",{className:pv.containerText,children:["I don't know what you were looking for,",R.jsx("br",{}),"but it's not this."]})]})})]})}}fU.propTypes={match:Xt.object};const xYt=()=>({}),bYt=e=>Ns({},e),SYt=Ls(Qs(xYt,bYt)(fU)),wYt=["basil","gold","crypto"],P4=e=>{let t=!1;wYt.forEach(r=>{e.toLowerCase().includes(r)&&(t=!0)}),t&&(Krt(),window.location.href=__BLOOKET_WWW_BASE__)};window.alert=P4;window.prompt=P4;window.confirm=P4;(function(){const e=["blooket.com","packcomputing.com","localhost","127.0.0.1"],t=new URL(window.location.href).hostname;let r=!1;e.forEach(n=>{t.endsWith(n)&&(r=!0)}),r||(window.location.href=`${__BLOOKET_WWW_BASE__}/terms`)})();(function(){let e=!1;window.blooketUtility&&(e=!0),localStorage.getItem("blooket-utility")&&(e=!0),localStorage.removeItem("blooket-utility"),e&&(window.location.href=`${__BLOOKET_WWW_BASE__}/terms`),delete window.blooketUtility,delete window._fetch;const t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t);const r=t.contentWindow;window.fetch=r.fetch,XMLHttpRequest.prototype.open=r.XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.send=r.XMLHttpRequest.prototype.send,String.prototype.concat=r.String.prototype.concat,window.ontouchstart=null,window.onkeydown=null})();const TYt=Ve.ErrorBoundary;sY();cX();vi.get("/api/config").then(e=>{const t=e.data.securityBase;Ve.setSecurityBaseURL(t)});const CYt=qK();NH.render(R.jsx(TYt,{children:R.jsx(BM,{store:CYt,children:R.jsx(bm.Provider,{value:new tst,children:R.jsx(fW,{children:R.jsx("div",{children:R.jsxs(hW,{children:[R.jsx(yn,{exact:!0,path:"/upgrade",component:Sot}),R.jsx(yn,{exact:!0,path:"/upgrade/group/price",component:qut}),R.jsx(yn,{exact:!0,path:"/group/join/:id",component:ivt}),R.jsx(yn,{exact:!0,path:"/upgrade/checkout/:plan",component:Zn(wut)}),R.jsx(yn,{exact:!0,path:"/upgrade/success",component:Zn(Aut)}),R.jsx(yn,{exact:!0,path:"/upgrade/cancel",component:Zn(Rut)}),R.jsx(yn,{exact:!0,path:"/upgrade/group",component:Zn(cht)}),R.jsx(yn,{exact:!0,path:"/upgrade/group/po",component:Zn(Qpt)}),R.jsx(yn,{exact:!0,path:"/group/renew/:id",component:Zn(rvt)}),R.jsx(yn,{exact:!0,path:"/discover",component:Zn(Mwt)}),R.jsx(yn,{exact:!0,path:"/set/:id",component:Zn(q2t)}),R.jsx(yn,{exact:!0,path:"/history/game/:id",component:Zn(p9t)}),R.jsx(yn,{exact:!0,path:"/homework/:id",component:Zn(zPt)}),R.jsx(yn,{exact:!0,path:"/stats",component:Zn(pRt)}),R.jsx(yn,{exact:!0,path:"/market",component:Zn(qMt)}),R.jsx(yn,{exact:!0,path:"/blooks",component:Zn(jMt)}),R.jsx(yn,{exact:!0,path:"/settings",component:Zn(xBt)}),R.jsx(yn,{exact:!0,path:"/create",component:Zn(WLt)}),R.jsx(yn,{exact:!0,path:"/edit",component:Zn(gUt)}),R.jsx(yn,{exact:!0,path:"/edit/info",component:Zn(bGt)}),R.jsx(yn,{exact:!0,path:"/my-sets",component:Zn(u$t)}),R.jsx(yn,{exact:!0,path:"/favorites",component:Zn(kWt)}),R.jsx(yn,{exact:!0,path:"/history",component:Zn(ZWt)}),R.jsx(yn,{exact:!0,path:"/homeworks",component:Zn(CVt)}),R.jsx(yn,{exact:!0,path:"/group-plan",component:Zn(YVt)}),R.jsx(yn,{exact:!0,path:"/unsubscribe",component:Zn(fYt)}),R.jsx(Td,{exact:!0,from:"/dashboard",to:"/my-sets"}),R.jsx(Td,{exact:!0,from:"/profile",to:"/my-sets"}),R.jsx(yn,{component:SYt})]})})})})})}),document.getElementById("app"))});export default EYt();
